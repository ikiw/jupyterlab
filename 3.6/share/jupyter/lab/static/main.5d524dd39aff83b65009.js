/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"main": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({}[chunkId]||chunkId) + "." + {"0":"3a1ed96426b2086e7d20","1":"a07e6b3d90d3c5c630ac","2":"161d79835871cf2a2fb3","3":"b7a92b51000d8f510524","4":"8af58ff2b4b0e8005757","5":"720acd5827544dc2385c"}[chunkId] + ".js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "{{page_config.fullStaticUrl}}/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([0,"vendors~main"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "+FA6":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/html5.svg ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E %3Cg%3E %3Cpath class='jp-icon0 jp-icon-selectable' fill='%23000' d='M108.4 0h23v22.8h21.2V0h23v69h-23V46h-21v23h-23.2M206 23h-20.3V0h63.7v23H229v46h-23M259.5 0h24.1l14.8 24.3L313.2 0h24.1v69h-23V34.8l-16.1 24.8l-16.1-24.8v34.2h-22.6M348.7 0h23v46.2h32.6V69h-55.6' /%3E %3Cpath class='jp-icon-selectable' fill='%23e44d26' d='M107.6 471l-33-370.4h362.8l-33 370.2L255.7 512' /%3E %3Cpath class='jp-icon-selectable' fill='%23f16529' d='M256 480.5V131H404.3L376 447' /%3E %3C/g%3E %3Cg%3E %3Cpath class='jp-icon-selectable-inverse' fill='%23ebebeb' d='M142 176.3h114v45.4h-64.2l4.2 46.5h60v45.3H154.4M156.4 336.3H202l3.2 36.3 50.8 13.6v47.4l-93.2-26' /%3E %3Cpath class='jp-icon-selectable-inverse' fill='%23fff' d='M369.6 176.3H255.8v45.4h109.6M361.3 268.2H255.8v45.4h56l-5.3 59-50.7 13.6v47.2l93-25.8' /%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "+FA6/":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/html5.svg ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n\t<g>\n\t\t<path\n\t\t\tclass=\"jp-icon0 jp-icon-selectable\"\n\t\t\tfill=\"#000\"\n\t\t\td=\"M108.4 0h23v22.8h21.2V0h23v69h-23V46h-21v23h-23.2M206 23h-20.3V0h63.7v23H229v46h-23M259.5 0h24.1l14.8 24.3L313.2 0h24.1v69h-23V34.8l-16.1 24.8l-16.1-24.8v34.2h-22.6M348.7 0h23v46.2h32.6V69h-55.6\"\n\t\t/>\n\t\t<path\n\t\t\tclass=\"jp-icon-selectable\"\n\t\t\tfill=\"#e44d26\"\n\t\t\td=\"M107.6 471l-33-370.4h362.8l-33 370.2L255.7 512\"\n\t\t/>\n\t\t<path\n\t\t\tclass=\"jp-icon-selectable\"\n\t\t\tfill=\"#f16529\"\n\t\t\td=\"M256 480.5V131H404.3L376 447\"\n\t\t/>\n\t</g>\n\t<g>\n\t\t<path\n\t\t\tclass=\"jp-icon-selectable-inverse\"\n\t\t\tfill=\"#ebebeb\"\n\t\t\td=\"M142 176.3h114v45.4h-64.2l4.2 46.5h60v45.3H154.4M156.4 336.3H202l3.2 36.3 50.8 13.6v47.4l-93.2-26\"\n\t\t/>\n\t\t<path\n\t\t\tclass=\"jp-icon-selectable-inverse\"\n\t\t\tfill=\"#fff\"\n\t\t\td=\"M369.6 176.3H255.8v45.4h109.6M361.3 268.2H255.8v45.4h56l-5.3 59-50.7 13.6v47.2l93-25.8\"\n\t\t/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "+Ik6":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/widgettracker.js ***!
  \*********************************************************************************************/
/*! exports provided: WidgetTracker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetTracker", function() { return WidgetTracker; });
/* harmony import */ var _jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/statedb */ "rtzc");
/* harmony import */ var _jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_2__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/**
 * A class that keeps track of widget instances on an Application shell.
 *
 * @typeparam T - The type of widget being tracked. Defaults to `Widget`.
 *
 * #### Notes
 * The API surface area of this concrete implementation is substantially larger
 * than the widget tracker interface it implements. The interface is intended
 * for export by JupyterLab plugins that create widgets and have clients who may
 * wish to keep track of newly created widgets. This class, however, can be used
 * internally by plugins to restore state as well.
 */
class WidgetTracker {
    /**
     * Create a new widget tracker.
     *
     * @param options - The instantiation options for a widget tracker.
     */
    constructor(options) {
        this._currentChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this._isDisposed = false;
        this._widgetAdded = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this._widgetUpdated = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        const focus = (this._focusTracker = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["FocusTracker"]());
        const pool = (this._pool = new _jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_0__["RestorablePool"](options));
        this.namespace = options.namespace;
        focus.currentChanged.connect((_, current) => {
            if (current.newValue !== this.currentWidget) {
                pool.current = current.newValue;
            }
        }, this);
        pool.added.connect((_, widget) => {
            this._widgetAdded.emit(widget);
        }, this);
        pool.currentChanged.connect((_, widget) => {
            // If the pool's current reference is `null` but the focus tracker has a
            // current widget, update the pool to match the focus tracker.
            if (widget === null && focus.currentWidget) {
                pool.current = focus.currentWidget;
                return;
            }
            this.onCurrentChanged(widget);
            this._currentChanged.emit(widget);
        }, this);
        pool.updated.connect((_, widget) => {
            this._widgetUpdated.emit(widget);
        }, this);
    }
    /**
     * A signal emitted when the current widget changes.
     */
    get currentChanged() {
        return this._currentChanged;
    }
    /**
     * The current widget is the most recently focused or added widget.
     *
     * #### Notes
     * It is the most recently focused widget, or the most recently added
     * widget if no widget has taken focus.
     */
    get currentWidget() {
        return this._pool.current || null;
    }
    /**
     * A promise resolved when the tracker has been restored.
     */
    get restored() {
        return this._pool.restored;
    }
    /**
     * The number of widgets held by the tracker.
     */
    get size() {
        return this._pool.size;
    }
    /**
     * A signal emitted when a widget is added.
     *
     * #### Notes
     * This signal will only fire when a widget is added to the tracker. It will
     * not fire if a widget is injected into the tracker.
     */
    get widgetAdded() {
        return this._widgetAdded;
    }
    /**
     * A signal emitted when a widget is updated.
     */
    get widgetUpdated() {
        return this._widgetUpdated;
    }
    /**
     * Add a new widget to the tracker.
     *
     * @param widget - The widget being added.
     *
     * #### Notes
     * The widget passed into the tracker is added synchronously; its existence in
     * the tracker can be checked with the `has()` method. The promise this method
     * returns resolves after the widget has been added and saved to an underlying
     * restoration connector, if one is available.
     */
    async add(widget) {
        this._focusTracker.add(widget);
        await this._pool.add(widget);
        this._pool.current = widget;
    }
    /**
     * Test whether the tracker is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the tracker.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        this._pool.dispose();
        this._focusTracker.dispose();
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"].clearData(this);
    }
    /**
     * Find the first widget in the tracker that satisfies a filter function.
     *
     * @param - fn The filter function to call on each widget.
     *
     * #### Notes
     * If no widget is found, the value returned is `undefined`.
     */
    find(fn) {
        return this._pool.find(fn);
    }
    /**
     * Iterate through each widget in the tracker.
     *
     * @param fn - The function to call on each widget.
     */
    forEach(fn) {
        return this._pool.forEach(fn);
    }
    /**
     * Filter the widgets in the tracker based on a predicate.
     *
     * @param fn - The function by which to filter.
     */
    filter(fn) {
        return this._pool.filter(fn);
    }
    /**
     * Inject a foreign widget into the widget tracker.
     *
     * @param widget - The widget to inject into the tracker.
     *
     * #### Notes
     * Injected widgets will not have their state saved by the tracker.
     *
     * The primary use case for widget injection is for a plugin that offers a
     * sub-class of an extant plugin to have its instances share the same commands
     * as the parent plugin (since most relevant commands will use the
     * `currentWidget` of the parent plugin's widget tracker). In this situation,
     * the sub-class plugin may well have its own widget tracker for layout and
     * state restoration in addition to injecting its widgets into the parent
     * plugin's widget tracker.
     */
    inject(widget) {
        return this._pool.inject(widget);
    }
    /**
     * Check if this tracker has the specified widget.
     *
     * @param widget - The widget whose existence is being checked.
     */
    has(widget) {
        return this._pool.has(widget);
    }
    /**
     * Restore the widgets in this tracker's namespace.
     *
     * @param options - The configuration options that describe restoration.
     *
     * @returns A promise that resolves when restoration has completed.
     *
     * #### Notes
     * This function should not typically be invoked by client code.
     * Its primary use case is to be invoked by a restorer.
     */
    async restore(options) {
        return this._pool.restore(options);
    }
    /**
     * Save the restore data for a given widget.
     *
     * @param widget - The widget being saved.
     */
    async save(widget) {
        return this._pool.save(widget);
    }
    /**
     * Handle the current change event.
     *
     * #### Notes
     * The default implementation is a no-op.
     */
    onCurrentChanged(value) {
        /* no-op */
    }
}
//# sourceMappingURL=widgettracker.js.map

/***/ }),

/***/ "+Xg4":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/paste.svg ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg height='18' viewBox='0 0 24 24' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "+Xg4P":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/paste.svg ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g class=\"jp-icon3\" fill=\"#616161\">\n        <path d=\"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z\"/>\n    </g>\n</svg>\n");

/***/ }),

/***/ "+q8C":
/*!********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/settingregistry/lib/index.js ***!
  \********************************************************************************************/
/*! exports provided: DefaultSchemaValidator, SettingRegistry, Settings, ISettingRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _settingregistry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settingregistry */ "cGGe");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DefaultSchemaValidator", function() { return _settingregistry__WEBPACK_IMPORTED_MODULE_0__["DefaultSchemaValidator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SettingRegistry", function() { return _settingregistry__WEBPACK_IMPORTED_MODULE_0__["SettingRegistry"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Settings", function() { return _settingregistry__WEBPACK_IMPORTED_MODULE_0__["Settings"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tokens */ "qPH0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ISettingRegistry", function() { return _tokens__WEBPACK_IMPORTED_MODULE_1__["ISettingRegistry"]; });

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "/0ht":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/styling.css ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, Jupyter Development Team.\n|\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\nbutton.jp-mod-styled {\n  font-size: var(--jp-ui-font-size1);\n  color: var(--jp-ui-font-color0);\n  border: none;\n  box-sizing: border-box;\n  text-align: center;\n  line-height: 32px;\n  height: 32px;\n  padding: 0px 12px;\n  letter-spacing: 0.8px;\n  outline: none;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n\ninput.jp-mod-styled {\n  background: var(--jp-input-background);\n  height: 28px;\n  box-sizing: border-box;\n  border: var(--jp-border-width) solid var(--jp-border-color1);\n  padding-left: 7px;\n  padding-right: 7px;\n  font-size: var(--jp-ui-font-size2);\n  color: var(--jp-ui-font-color0);\n  outline: none;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n\ninput.jp-mod-styled:focus {\n  border: var(--jp-border-width) solid var(--md-blue-500);\n  box-shadow: inset 0 0 4px var(--md-blue-300);\n}\n\n.jp-select-wrapper {\n  display: flex;\n  flex-direction: column;\n  padding: 1px;\n  background-color: var(--jp-layout-color1);\n  height: 28px;\n  box-sizing: border-box;\n  margin-bottom: 12px;\n}\n\n.jp-select-wrapper.jp-mod-focused select.jp-mod-styled {\n  border: var(--jp-border-width) solid var(--jp-input-active-border-color);\n  box-shadow: var(--jp-input-box-shadow);\n  background-color: var(--jp-input-active-background);\n}\n\nselect.jp-mod-styled:hover {\n  background-color: var(--jp-layout-color1);\n  cursor: pointer;\n  color: var(--jp-ui-font-color0);\n  background-color: var(--jp-input-hover-background);\n  box-shadow: inset 0 0px 1px rgba(0, 0, 0, 0.5);\n}\n\nselect.jp-mod-styled {\n  flex: 1 1 auto;\n  height: 32px;\n  width: 100%;\n  font-size: var(--jp-ui-font-size2);\n  background: var(--jp-input-background);\n  color: var(--jp-ui-font-color0);\n  padding: 0 25px 0 8px;\n  border: var(--jp-border-width) solid var(--jp-input-border-color);\n  border-radius: 0px;\n  outline: none;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n", ""]);


/***/ }),

/***/ "/9Ho":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docregistry/lib/mimedocument.js ***!
  \***********************************************************************************************/
/*! exports provided: MimeContent, MimeDocument, MimeDocumentFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MimeContent", function() { return MimeContent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MimeDocument", function() { return MimeDocument; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MimeDocumentFactory", function() { return MimeDocumentFactory; });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/rendermime */ "18Yc");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/messaging */ "so/j");
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_messaging__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _default__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./default */ "bt++");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/**
 * A content widget for a rendered mimetype document.
 */
class MimeContent extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["Widget"] {
    /**
     * Construct a new widget.
     */
    constructor(options) {
        super();
        /**
         * A bound change callback.
         */
        this._changeCallback = (options) => {
            if (!options.data || !options.data[this.mimeType]) {
                return;
            }
            let data = options.data[this.mimeType];
            if (typeof data === 'string') {
                if (data !== this._context.model.toString()) {
                    this._context.model.fromString(data);
                }
            }
            else if (data !== null &&
                data !== undefined &&
                !_lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__["JSONExt"].deepEqual(data, this._context.model.toJSON())) {
                this._context.model.fromJSON(data);
            }
        };
        this._fragment = '';
        this._ready = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__["PromiseDelegate"]();
        this._isRendering = false;
        this._renderRequested = false;
        this.addClass('jp-MimeDocument');
        this.mimeType = options.mimeType;
        this._dataType = options.dataType || 'string';
        this._context = options.context;
        this.renderer = options.renderer;
        const layout = (this.layout = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["StackedLayout"]());
        layout.addWidget(this.renderer);
        this._context.ready
            .then(() => {
            return this._render();
        })
            .then(() => {
            // After rendering for the first time, send an activation request if we
            // are currently focused.
            if (this.node === document.activeElement) {
                // We want to synchronously send (not post) the activate message, while
                // we know this node still has focus.
                _lumino_messaging__WEBPACK_IMPORTED_MODULE_4__["MessageLoop"].sendMessage(this.renderer, _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["Widget"].Msg.ActivateRequest);
            }
            // Throttle the rendering rate of the widget.
            this._monitor = new _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__["ActivityMonitor"]({
                signal: this._context.model.contentChanged,
                timeout: options.renderTimeout
            });
            this._monitor.activityStopped.connect(this.update, this);
            this._ready.resolve(undefined);
        })
            .catch(reason => {
            // Dispose the document if rendering fails.
            requestAnimationFrame(() => {
                this.dispose();
            });
            void Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["showErrorMessage"])(`Renderer Failure: ${this._context.path}`, reason);
        });
    }
    /**
     * Print method. Defered to the renderer.
     */
    [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["Printing"].symbol]() {
        return _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["Printing"].getPrintFunction(this.renderer);
    }
    /**
     * A promise that resolves when the widget is ready.
     */
    get ready() {
        return this._ready.promise;
    }
    /**
     * Set URI fragment identifier.
     */
    setFragment(fragment) {
        this._fragment = fragment;
        this.update();
    }
    /**
     * Dispose of the resources held by the widget.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        if (this._monitor) {
            this._monitor.dispose();
        }
        this._monitor = null;
        super.dispose();
    }
    /**
     * Handle an `update-request` message to the widget.
     */
    onUpdateRequest(msg) {
        if (this._context.isReady) {
            void this._render();
            this._fragment = '';
        }
    }
    /**
     * Render the mime content.
     */
    async _render() {
        if (this.isDisposed) {
            return;
        }
        // Since rendering is async, we note render requests that happen while we
        // actually are rendering for a future rendering.
        if (this._isRendering) {
            this._renderRequested = true;
            return;
        }
        // Set up for this rendering pass.
        this._renderRequested = false;
        let context = this._context;
        let model = context.model;
        let data = {};
        if (this._dataType === 'string') {
            data[this.mimeType] = model.toString();
        }
        else {
            data[this.mimeType] = model.toJSON();
        }
        let mimeModel = new _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2__["MimeModel"]({
            data,
            callback: this._changeCallback,
            metadata: { fragment: this._fragment }
        });
        try {
            // Do the rendering asynchronously.
            this._isRendering = true;
            await this.renderer.renderModel(mimeModel);
            this._isRendering = false;
            // If there is an outstanding request to render, go ahead and render
            if (this._renderRequested) {
                return this._render();
            }
        }
        catch (reason) {
            // Dispose the document if rendering fails.
            requestAnimationFrame(() => {
                this.dispose();
            });
            void Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["showErrorMessage"])(`Renderer Failure: ${context.path}`, reason);
        }
    }
}
/**
 * A document widget for mime content.
 */
class MimeDocument extends _default__WEBPACK_IMPORTED_MODULE_6__["DocumentWidget"] {
    setFragment(fragment) {
        this.content.setFragment(fragment);
    }
}
/**
 * An implementation of a widget factory for a rendered mimetype document.
 */
class MimeDocumentFactory extends _default__WEBPACK_IMPORTED_MODULE_6__["ABCWidgetFactory"] {
    /**
     * Construct a new mimetype widget factory.
     */
    constructor(options) {
        super(Private.createRegistryOptions(options));
        this._rendermime = options.rendermime;
        this._renderTimeout = options.renderTimeout || 1000;
        this._dataType = options.dataType || 'string';
        this._fileType = options.primaryFileType;
    }
    /**
     * Create a new widget given a context.
     */
    createNewWidget(context) {
        var _a, _b, _c, _d, _e, _f;
        const ft = this._fileType;
        const mimeType = ((_a = ft) === null || _a === void 0 ? void 0 : _a.mimeTypes.length) ? ft.mimeTypes[0] : 'text/plain';
        const rendermime = this._rendermime.clone({
            resolver: context.urlResolver
        });
        const renderer = rendermime.createRenderer(mimeType);
        const content = new MimeContent({
            context,
            renderer,
            mimeType,
            renderTimeout: this._renderTimeout,
            dataType: this._dataType
        });
        content.title.iconClass = (_c = (_b = ft) === null || _b === void 0 ? void 0 : _b.iconClass, (_c !== null && _c !== void 0 ? _c : ''));
        content.title.iconLabel = (_e = (_d = ft) === null || _d === void 0 ? void 0 : _d.iconLabel, (_e !== null && _e !== void 0 ? _e : ''));
        content.title.iconRenderer = (_f = ft) === null || _f === void 0 ? void 0 : _f.icon;
        const widget = new MimeDocument({ content, context });
        return widget;
    }
}
/**
 * The namespace for the module implementation details.
 */
var Private;
(function (Private) {
    /**
     * Create the document registry options.
     */
    function createRegistryOptions(options) {
        return Object.assign(Object.assign({}, options), { readOnly: true });
    }
    Private.createRegistryOptions = createRegistryOptions;
})(Private || (Private = {}));
//# sourceMappingURL=mimedocument.js.map

/***/ }),

/***/ "/K8G":
/*!*************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/coreutils/lib/path.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const posix = __importStar(__webpack_require__(/*! path-posix */ "eOYE"));
/**
 * The namespace for path-related functions.
 *
 * Note that Jupyter server paths do not start with a leading slash.
 */
var PathExt;
(function (PathExt) {
    /**
     * Join all arguments together and normalize the resulting path.
     * Arguments must be strings. In v0.8, non-string arguments were silently ignored. In v0.10 and up, an exception is thrown.
     *
     * @param paths - The string paths to join.
     */
    function join(...paths) {
        const path = posix.join(...paths);
        return path === '.' ? '' : removeSlash(posix.join(...paths));
    }
    PathExt.join = join;
    /**
     * Return the last portion of a path. Similar to the Unix basename command.
     * Often used to extract the file name from a fully qualified path.
     *
     * @param path - The path to evaluate.
     *
     * @param ext - An extension to remove from the result.
     */
    function basename(path, ext) {
        return posix.basename(path, ext);
    }
    PathExt.basename = basename;
    /**
     * Get the directory name of a path, similar to the Unix dirname command.
     * When an empty path is given, returns the root path.
     *
     * @param path - The file path.
     */
    function dirname(path) {
        let dir = removeSlash(posix.dirname(path));
        return dir === '.' ? '' : dir;
    }
    PathExt.dirname = dirname;
    /**
     * Get the extension of the path.
     *
     * @param path - The file path.
     *
     * @returns the extension of the file.
     *
     * #### Notes
     * The extension is the string from the last occurrence of the `.`
     * character to end of string in the last portion of the path, inclusive.
     * If there is no `.` in the last portion of the path, or if the first
     * character of the basename of path [[basename]] is `.`, then an
     * empty string is returned.
     */
    function extname(path) {
        return posix.extname(path);
    }
    PathExt.extname = extname;
    /**
     * Normalize a string path, reducing '..' and '.' parts.
     * When multiple slashes are found, they're replaced by a single one; when the path contains a trailing slash, it is preserved. On Windows backslashes are used.
     * When an empty path is given, returns the root path.
     *
     * @param path - The string path to normalize.
     */
    function normalize(path) {
        if (path === '') {
            return '';
        }
        return removeSlash(posix.normalize(path));
    }
    PathExt.normalize = normalize;
    /**
     * Resolve a sequence of paths or path segments into an absolute path.
     * The root path in the application has no leading slash, so it is removed.
     *
     * @param parts - The paths to join.
     *
     * #### Notes
     * The right-most parameter is considered {to}.  Other parameters are considered an array of {from}.
     *
     * Starting from leftmost {from} parameter, resolves {to} to an absolute path.
     *
     * If {to} isn't already absolute, {from} arguments are prepended in right to left order, until an absolute path is found. If after using all {from} paths still no absolute path is found, the current working directory is used as well. The resulting path is normalized, and trailing slashes are removed unless the path gets resolved to the root directory.
     */
    function resolve(...parts) {
        return removeSlash(posix.resolve(...parts));
    }
    PathExt.resolve = resolve;
    /**
     * Solve the relative path from {from} to {to}.
     *
     * @param from - The source path.
     *
     * @param to - The target path.
     *
     * #### Notes
     * If from and to each resolve to the same path (after calling
     * path.resolve() on each), a zero-length string is returned.
     * If a zero-length string is passed as from or to, `/`
     * will be used instead of the zero-length strings.
     */
    function relative(from, to) {
        return removeSlash(posix.relative(from, to));
    }
    PathExt.relative = relative;
    /**
     * Normalize a file extension to be of the type `'.foo'`.
     *
     * @param extension - the file extension.
     *
     * #### Notes
     * Adds a leading dot if not present and converts to lower case.
     */
    function normalizeExtension(extension) {
        if (extension.length > 0 && extension.indexOf('.') !== 0) {
            extension = `.${extension}`;
        }
        return extension;
    }
    PathExt.normalizeExtension = normalizeExtension;
    /**
     * Remove the leading slash from a path.
     *
     * @param path: the path from which to remove a leading slash.
     */
    function removeSlash(path) {
        if (path.indexOf('/') === 0) {
            path = path.slice(1);
        }
        return path;
    }
    PathExt.removeSlash = removeSlash;
})(PathExt = exports.PathExt || (exports.PathExt = {}));
//# sourceMappingURL=path.js.map

/***/ }),

/***/ "/spg":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/frontend.js ***!
  \*******************************************************************************************/
/*! exports provided: JupyterFrontEnd */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JupyterFrontEnd", function() { return JupyterFrontEnd; });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/docregistry */ "HY8D");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/services */ "YdKB");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_application__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/application */ "m5nQ");
/* harmony import */ var _lumino_application__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_application__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.





/**
 * The base Jupyter front-end application class.
 *
 * @typeparam `T` - The `shell` type. Defaults to `JupyterFrontEnd.IShell`.
 *
 * #### Notes
 * This type is useful as a generic application against which front-end plugins
 * can be authored. It inherits from the phosphor `Application`.
 */
class JupyterFrontEnd extends _lumino_application__WEBPACK_IMPORTED_MODULE_3__["Application"] {
    /**
     * Construct a new JupyterFrontEnd object.
     */
    constructor(options) {
        super(options);
        // The default restored promise if one does not exist in the options.
        const restored = new Promise(resolve => {
            requestAnimationFrame(() => {
                resolve();
            });
        });
        this.commandLinker =
            options.commandLinker || new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["CommandLinker"]({ commands: this.commands });
        this.docRegistry = options.docRegistry || new _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_1__["DocumentRegistry"]();
        this.restored =
            options.restored ||
                this.started.then(() => restored).catch(() => restored);
        this.serviceManager = options.serviceManager || new _jupyterlab_services__WEBPACK_IMPORTED_MODULE_2__["ServiceManager"]();
        this.commands.addCommand(Private.CONTEXT_MENU_INFO, {
            label: 'Shift+Right Click for Browser Menu',
            isEnabled: () => false,
            execute: () => void 0
        });
        this.contextMenu.addItem({
            command: Private.CONTEXT_MENU_INFO,
            selector: 'body',
            rank: Infinity
        });
    }
    /**
     * Walks up the DOM hierarchy of the target of the active `contextmenu`
     * event, testing each HTMLElement ancestor for a user-supplied funcion. This can
     * be used to find an HTMLElement on which to operate, given a context menu click.
     *
     * @param test - a function that takes an `HTMLElement` and returns a
     *   boolean for whether it is the element the requester is seeking.
     *
     * @returns an HTMLElement or undefined, if none is found.
     */
    contextMenuHitTest(test) {
        if (!this._contextMenuEvent ||
            !(this._contextMenuEvent.target instanceof Node)) {
            return undefined;
        }
        let node = this._contextMenuEvent.target;
        do {
            if (node instanceof HTMLElement && test(node)) {
                return node;
            }
            node = node.parentNode;
        } while (node && node.parentNode && node !== node.parentNode);
        return undefined;
        // TODO: we should be able to use .composedPath() to simplify this function
        // down to something like the below, but it seems like composedPath is
        // sometimes returning an empty list.
        /*
        if (this._contextMenuEvent) {
          this._contextMenuEvent
            .composedPath()
            .filter(x => x instanceof HTMLElement)
            .find(test);
        }
        return undefined;
        */
    }
    /**
     * A method invoked on a document `'contextmenu'` event.
     */
    evtContextMenu(event) {
        this._contextMenuEvent = event;
        if (event.shiftKey) {
            return;
        }
        const opened = this.contextMenu.open(event);
        if (opened) {
            const items = this.contextMenu.menu.items;
            // If only the context menu information will be shown,
            // with no real commands, close the context menu and
            // allow the native one to open.
            if (items.length === 1 &&
                items[0].command === Private.CONTEXT_MENU_INFO) {
                this.contextMenu.menu.close();
                return;
            }
            // Stop propagation and allow the application context menu to show.
            event.preventDefault();
            event.stopPropagation();
        }
    }
}
/**
 * The namespace for `JupyterFrontEnd` class statics.
 */
(function (JupyterFrontEnd) {
    /**
     * The application paths dictionary token.
     */
    JupyterFrontEnd.IPaths = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__["Token"]('@jupyterlab/application:IPaths');
    /**
     * The application tree resolver token.
     *
     * #### Notes
     * Not all Jupyter front-end applications will have a tree resolver
     * implemented on the client-side. This token should not be required as a
     * dependency if it is possible to make it an optional dependency.
     */
    JupyterFrontEnd.ITreeResolver = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__["Token"]('@jupyterlab/application:ITreeResolver');
})(JupyterFrontEnd || (JupyterFrontEnd = {}));
/**
 * A namespace for module-private functionality.
 */
var Private;
(function (Private) {
    /**
     * An id for a private context-menu-info
     * ersatz command.
     */
    Private.CONTEXT_MENU_INFO = '__internal:context-menu-info';
})(Private || (Private = {}));
//# sourceMappingURL=frontend.js.map

/***/ }),

/***/ 0:
/*!***********************************************!*\
  !*** multi whatwg-fetch ./build/index.out.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! whatwg-fetch */"bZMm");
module.exports = __webpack_require__(/*! /Users/selango/Documents/Dev/github/jupyterlab/3.6/share/jupyter/lab/staging/build/index.out.js */"ANye");


/***/ }),

/***/ "0B+A":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/session/default.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const __1 = __webpack_require__(/*! .. */ "YdKB");
const restapi_1 = __webpack_require__(/*! ./restapi */ "bNYJ");
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/**
 * Session object for accessing the session REST api. The session
 * should be used to start kernels and then shut them down -- for
 * all other kernel operations, the kernel object should be used.
 */
class SessionConnection {
    /**
     * Construct a new session.
     */
    constructor(options) {
        var _a, _b, _c, _d;
        this._id = '';
        this._path = '';
        this._name = '';
        this._type = '';
        this._kernel = null;
        this._isDisposed = false;
        this._disposed = new signaling_1.Signal(this);
        this._kernelChanged = new signaling_1.Signal(this);
        this._statusChanged = new signaling_1.Signal(this);
        this._connectionStatusChanged = new signaling_1.Signal(this);
        this._iopubMessage = new signaling_1.Signal(this);
        this._unhandledMessage = new signaling_1.Signal(this);
        this._anyMessage = new signaling_1.Signal(this);
        this._propertyChanged = new signaling_1.Signal(this);
        this._id = options.model.id;
        this._name = options.model.name;
        this._path = options.model.path;
        this._type = options.model.type;
        this._username = (_a = options.username, (_a !== null && _a !== void 0 ? _a : ''));
        this._clientId = (_b = options.clientId, (_b !== null && _b !== void 0 ? _b : coreutils_1.UUID.uuid4()));
        this._connectToKernel = options.connectToKernel;
        this._kernelConnectionOptions = (_c = options.kernelConnectionOptions, (_c !== null && _c !== void 0 ? _c : {}));
        this.serverSettings = (_d = options.serverSettings, (_d !== null && _d !== void 0 ? _d : __1.ServerConnection.makeSettings()));
        this.setupKernel(options.model.kernel);
    }
    /**
     * A signal emitted when the session is disposed.
     */
    get disposed() {
        return this._disposed;
    }
    /**
     * A signal emitted when the kernel changes.
     */
    get kernelChanged() {
        return this._kernelChanged;
    }
    /**
     * A signal proxied from the connection about the kernel status.
     */
    get statusChanged() {
        return this._statusChanged;
    }
    /**
     * A signal proxied from the kernel about the connection status.
     */
    get connectionStatusChanged() {
        return this._connectionStatusChanged;
    }
    /**
     * A signal proxied from the kernel about iopub kernel messages.
     */
    get iopubMessage() {
        return this._iopubMessage;
    }
    /**
     * A signal proxied from the kernel for an unhandled kernel message.
     */
    get unhandledMessage() {
        return this._unhandledMessage;
    }
    /**
     * A signal proxied from the kernel emitted for any kernel message.
     *
     * #### Notes
     * The behavior is undefined if the message is modified during message
     * handling. As such, it should be treated as read-only.
     */
    get anyMessage() {
        return this._anyMessage;
    }
    /**
     * A signal emitted when a session property changes.
     */
    get propertyChanged() {
        return this._propertyChanged;
    }
    /**
     * Get the session id.
     */
    get id() {
        return this._id;
    }
    /**
     * Get the session kernel connection object.
     *
     * #### Notes
     * This is a read-only property, and can be altered by [changeKernel].
     */
    get kernel() {
        return this._kernel;
    }
    /**
     * Get the session path.
     */
    get path() {
        return this._path;
    }
    /**
     * Get the session type.
     */
    get type() {
        return this._type;
    }
    /**
     * Get the session name.
     */
    get name() {
        return this._name;
    }
    /**
     * Get the model associated with the session.
     */
    get model() {
        return {
            id: this.id,
            kernel: this.kernel && { id: this.kernel.id, name: this.kernel.name },
            path: this._path,
            type: this._type,
            name: this._name
        };
    }
    /**
     * Test whether the session has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Update the session based on a session model from the server.
     *
     * #### Notes
     * This only updates this session connection instance. Use `setPath`,
     * `setName`, `setType`, and `changeKernel` to change the session values on
     * the server.
     */
    update(model) {
        let oldModel = this.model;
        this._path = model.path;
        this._name = model.name;
        this._type = model.type;
        if ((this._kernel === null && model.kernel !== null) ||
            (this._kernel !== null && model.kernel === null) ||
            (this._kernel !== null &&
                model.kernel !== null &&
                this._kernel.id !== model.kernel.id)) {
            if (this._kernel !== null) {
                this._kernel.dispose();
            }
            let oldValue = this._kernel;
            this.setupKernel(model.kernel);
            let newValue = this._kernel;
            this._kernelChanged.emit({ name: 'kernel', oldValue, newValue });
        }
        this._handleModelChange(oldModel);
    }
    /**
     * Dispose of the resources held by the session.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        this._disposed.emit();
        if (this._kernel) {
            this._kernel.dispose();
            let oldValue = this._kernel;
            this._kernel = null;
            let newValue = this._kernel;
            this._kernelChanged.emit({ name: 'kernel', oldValue, newValue });
        }
        signaling_1.Signal.clearData(this);
    }
    /**
     * Change the session path.
     *
     * @param path - The new session path.
     *
     * @returns A promise that resolves when the session has renamed.
     *
     * #### Notes
     * This uses the Jupyter REST API, and the response is validated.
     * The promise is fulfilled on a valid response and rejected otherwise.
     */
    async setPath(path) {
        if (this.isDisposed) {
            throw new Error('Session is disposed');
        }
        await this._patch({ path });
    }
    /**
     * Change the session name.
     */
    async setName(name) {
        if (this.isDisposed) {
            throw new Error('Session is disposed');
        }
        await this._patch({ name });
    }
    /**
     * Change the session type.
     */
    async setType(type) {
        if (this.isDisposed) {
            throw new Error('Session is disposed');
        }
        await this._patch({ type });
    }
    /**
     * Change the kernel.
     *
     * @params options - The name or id of the new kernel.
     *
     * #### Notes
     * This shuts down the existing kernel and creates a new kernel,
     * keeping the existing session ID and session path.
     */
    async changeKernel(options) {
        if (this.isDisposed) {
            throw new Error('Session is disposed');
        }
        await this._patch({ kernel: options });
        return this.kernel;
    }
    /**
     * Kill the kernel and shutdown the session.
     *
     * @returns - The promise fulfilled on a valid response from the server.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/sessions), and validates the response.
     * Disposes of the session and emits a [sessionDied] signal on success.
     */
    async shutdown() {
        if (this.isDisposed) {
            throw new Error('Session is disposed');
        }
        await restapi_1.shutdownSession(this.id, this.serverSettings);
        this.dispose();
    }
    /**
     * Create a new kernel connection and connect to its signals.
     *
     * #### Notes
     * This method is not meant to be subclassed.
     */
    setupKernel(model) {
        if (model === null) {
            this._kernel = null;
            return;
        }
        const kc = this._connectToKernel(Object.assign(Object.assign({}, this._kernelConnectionOptions), { model, username: this._username, clientId: this._clientId, serverSettings: this.serverSettings }));
        this._kernel = kc;
        kc.statusChanged.connect(this.onKernelStatus, this);
        kc.connectionStatusChanged.connect(this.onKernelConnectionStatus, this);
        kc.unhandledMessage.connect(this.onUnhandledMessage, this);
        kc.iopubMessage.connect(this.onIOPubMessage, this);
        kc.anyMessage.connect(this.onAnyMessage, this);
    }
    /**
     * Handle to changes in the Kernel status.
     */
    onKernelStatus(sender, state) {
        this._statusChanged.emit(state);
    }
    /**
     * Handle to changes in the Kernel status.
     */
    onKernelConnectionStatus(sender, state) {
        this._connectionStatusChanged.emit(state);
    }
    /**
     * Handle iopub kernel messages.
     */
    onIOPubMessage(sender, msg) {
        this._iopubMessage.emit(msg);
    }
    /**
     * Handle unhandled kernel messages.
     */
    onUnhandledMessage(sender, msg) {
        this._unhandledMessage.emit(msg);
    }
    /**
     * Handle any kernel messages.
     */
    onAnyMessage(sender, args) {
        this._anyMessage.emit(args);
    }
    /**
     * Send a PATCH to the server, updating the session path or the kernel.
     */
    async _patch(body) {
        let model = await restapi_1.updateSession(Object.assign(Object.assign({}, body), { id: this._id }), this.serverSettings);
        this.update(model);
        return model;
    }
    /**
     * Handle a change to the model.
     */
    _handleModelChange(oldModel) {
        if (oldModel.name !== this._name) {
            this._propertyChanged.emit('name');
        }
        if (oldModel.type !== this._type) {
            this._propertyChanged.emit('type');
        }
        if (oldModel.path !== this._path) {
            this._propertyChanged.emit('path');
        }
    }
}
exports.SessionConnection = SessionConnection;
//# sourceMappingURL=default.js.map

/***/ }),

/***/ "0Eet":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/kernel.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
//# sourceMappingURL=kernel.js.map

/***/ }),

/***/ "0MuR":
/*!********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/lib/pathstatus.js ***!
  \********************************************************************************************/
/*! exports provided: PathStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PathStatus", function() { return PathStatus; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/statusbar */ "8R0s");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




/**
 * A pure component for rendering a file path (or activity name).
 *
 * @param props - the props for the component.
 *
 * @returns a tsx component for a file path.
 */
function PathStatusComponent(props) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_3__["TextItem"], { source: props.name, title: props.fullPath });
}
/**
 * A status bar item for the current file path (or activity name).
 */
class PathStatus extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomRenderer"] {
    /**
     * Construct a new PathStatus status item.
     */
    constructor(opts) {
        super(new PathStatus.Model(opts.docManager));
        this.node.title = this.model.path;
    }
    /**
     * Render the status item.
     */
    render() {
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PathStatusComponent, { fullPath: this.model.path, name: this.model.name }));
    }
}
/**
 * A namespace for PathStatus statics.
 */
(function (PathStatus) {
    /**
     * A VDomModel for rendering the PathStatus status item.
     */
    class Model extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomModel"] {
        /**
         * Construct a new model.
         *
         * @param docManager: the application document manager. Used to check
         *   whether the current widget is a document.
         */
        constructor(docManager) {
            super();
            /**
             * React to a title change for the current widget.
             */
            this._onTitleChange = (title) => {
                const oldState = this._getAllState();
                this._name = title.label;
                this._triggerChange(oldState, this._getAllState());
            };
            /**
             * React to a path change for the current document.
             */
            this._onPathChange = (_documentModel, newPath) => {
                const oldState = this._getAllState();
                this._path = newPath;
                this._name = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["PathExt"].basename(newPath);
                this._triggerChange(oldState, this._getAllState());
            };
            this._path = '';
            this._name = '';
            this._widget = null;
            this._docManager = docManager;
        }
        /**
         * The current path for the application.
         */
        get path() {
            return this._path;
        }
        /**
         * The name of the current activity.
         */
        get name() {
            return this._name;
        }
        /**
         * The current widget for the application.
         */
        get widget() {
            return this._widget;
        }
        set widget(widget) {
            const oldWidget = this._widget;
            if (oldWidget !== null) {
                const oldContext = this._docManager.contextForWidget(oldWidget);
                if (oldContext) {
                    oldContext.pathChanged.disconnect(this._onPathChange);
                }
                else {
                    oldWidget.title.changed.disconnect(this._onTitleChange);
                }
            }
            const oldState = this._getAllState();
            this._widget = widget;
            if (this._widget === null) {
                this._path = '';
                this._name = '';
            }
            else {
                const widgetContext = this._docManager.contextForWidget(this._widget);
                if (widgetContext) {
                    this._path = widgetContext.path;
                    this._name = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["PathExt"].basename(widgetContext.path);
                    widgetContext.pathChanged.connect(this._onPathChange);
                }
                else {
                    this._path = '';
                    this._name = this._widget.title.label;
                    this._widget.title.changed.connect(this._onTitleChange);
                }
            }
            this._triggerChange(oldState, this._getAllState());
        }
        /**
         * Get the current state of the model.
         */
        _getAllState() {
            return [this._path, this._name];
        }
        /**
         * Trigger a state change to rerender.
         */
        _triggerChange(oldState, newState) {
            if (oldState[0] !== newState[0] || oldState[1] !== newState[1]) {
                this.stateChanged.emit(void 0);
            }
        }
    }
    PathStatus.Model = Model;
})(PathStatus || (PathStatus = {}));
//# sourceMappingURL=pathstatus.js.map

/***/ }),

/***/ "0c6o":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/terminal/restapi.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
/**
 * The url for the terminal service.
 */
exports.TERMINAL_SERVICE_URL = 'api/terminals';
/**
 * Whether the terminal service is available.
 */
function isAvailable() {
    let available = String(coreutils_1.PageConfig.getOption('terminalsAvailable'));
    return available.toLowerCase() === 'true';
}
exports.isAvailable = isAvailable;
/**
 * Start a new terminal session.
 *
 * @param options - The session options to use.
 *
 * @returns A promise that resolves with the session instance.
 */
async function startNew(settings = serverconnection_1.ServerConnection.makeSettings()) {
    Private.errorIfNotAvailable();
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.TERMINAL_SERVICE_URL);
    let init = { method: 'POST' };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    // TODO: Validate model
    return data;
}
exports.startNew = startNew;
/**
 * List the running terminal sessions.
 *
 * @param settings - The server settings to use.
 *
 * @returns A promise that resolves with the list of running session models.
 */
async function listRunning(settings = serverconnection_1.ServerConnection.makeSettings()) {
    Private.errorIfNotAvailable();
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.TERMINAL_SERVICE_URL);
    let response = await serverconnection_1.ServerConnection.makeRequest(url, {}, settings);
    if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    if (!Array.isArray(data)) {
        throw new Error('Invalid terminal list');
    }
    // TODO: validate each model
    return data;
}
exports.listRunning = listRunning;
/**
 * Shut down a terminal session by name.
 *
 * @param name - The name of the target session.
 *
 * @param settings - The server settings to use.
 *
 * @returns A promise that resolves when the session is shut down.
 */
async function shutdownTerminal(name, settings = serverconnection_1.ServerConnection.makeSettings()) {
    var _a;
    Private.errorIfNotAvailable();
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.TERMINAL_SERVICE_URL, name);
    let init = { method: 'DELETE' };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status === 404) {
        let data = await response.json();
        let msg = (_a = data.message, (_a !== null && _a !== void 0 ? _a : `The terminal session "${name}"" does not exist on the server`));
        console.warn(msg);
    }
    else if (response.status !== 204) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
}
exports.shutdownTerminal = shutdownTerminal;
var Private;
(function (Private) {
    /**
     * Throw an error if terminals are not available.
     */
    function errorIfNotAvailable() {
        if (!isAvailable()) {
            throw new Error('Terminals Unavailable');
        }
    }
    Private.errorIfNotAvailable = errorIfNotAvailable;
})(Private || (Private = {}));
//# sourceMappingURL=restapi.js.map

/***/ }),

/***/ "0hwS":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-up.svg ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 18 18'%3E %3Cg class='jp-icon3' fill='%23616161' shape-rendering='geometricPrecision'%3E %3Cpath d='M5.2,10.5L9,6.8l3.8,3.8H5.2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "0hwSe":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-up.svg ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\n\t<g class=\"jp-icon3\" fill=\"#616161\" shape-rendering=\"geometricPrecision\">\n\t\t<path d=\"M5.2,10.5L9,6.8l3.8,3.8H5.2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "0nDx":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/toolbar.js ***!
  \***************************************************************************************/
/*! exports provided: Toolbar, ToolbarButtonComponent, addToolbarButtonClass, ToolbarButton, CommandToolbarButtonComponent, addCommandToolbarButtonClass, CommandToolbarButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Toolbar", function() { return Toolbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolbarButtonComponent", function() { return ToolbarButtonComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addToolbarButtonClass", function() { return addToolbarButtonClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToolbarButton", function() { return ToolbarButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommandToolbarButtonComponent", function() { return CommandToolbarButtonComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addCommandToolbarButtonClass", function() { return addCommandToolbarButtonClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommandToolbarButton", function() { return CommandToolbarButton; });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/messaging */ "so/j");
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_messaging__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/properties */ "2RSD");
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_properties__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _sessioncontext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sessioncontext */ "bapi");
/* harmony import */ var _vdom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./vdom */ "70x9");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.









/**
 * The class name added to toolbars.
 */
const TOOLBAR_CLASS = 'jp-Toolbar';
/**
 * The class name added to toolbar items.
 */
const TOOLBAR_ITEM_CLASS = 'jp-Toolbar-item';
/**
 * The class name added to toolbar kernel name text.
 */
const TOOLBAR_KERNEL_NAME_CLASS = 'jp-Toolbar-kernelName';
/**
 * The class name added to toolbar spacer.
 */
const TOOLBAR_SPACER_CLASS = 'jp-Toolbar-spacer';
/**
 * The class name added to toolbar kernel status icon.
 */
const TOOLBAR_KERNEL_STATUS_CLASS = 'jp-Toolbar-kernelStatus';
/**
 * A layout for toolbars.
 *
 * #### Notes
 * This layout automatically collapses its height if there are no visible
 * toolbar widgets, and expands to the standard toolbar height if there are
 * visible toolbar widgets.
 */
class ToolbarLayout extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["PanelLayout"] {
    constructor() {
        super(...arguments);
        this._dirty = false;
    }
    /**
     * A message handler invoked on a `'fit-request'` message.
     *
     * If any child widget is visible, expand the toolbar height to the normal
     * toolbar height.
     */
    onFitRequest(msg) {
        super.onFitRequest(msg);
        if (this.parent.isAttached) {
            // If there are any widgets not explicitly hidden, expand the toolbar to
            // accommodate them.
            if (Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["some"])(this.widgets, w => !w.isHidden)) {
                this.parent.node.style.minHeight = 'var(--jp-private-toolbar-height)';
            }
            else {
                this.parent.node.style.minHeight = '';
            }
        }
        // Set the dirty flag to ensure only a single update occurs.
        this._dirty = true;
        // Notify the ancestor that it should fit immediately. This may
        // cause a resize of the parent, fulfilling the required update.
        if (this.parent.parent) {
            _lumino_messaging__WEBPACK_IMPORTED_MODULE_3__["MessageLoop"].sendMessage(this.parent.parent, _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["Widget"].Msg.FitRequest);
        }
        // If the dirty flag is still set, the parent was not resized.
        // Trigger the required update on the parent widget immediately.
        if (this._dirty) {
            _lumino_messaging__WEBPACK_IMPORTED_MODULE_3__["MessageLoop"].sendMessage(this.parent, _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["Widget"].Msg.UpdateRequest);
        }
    }
    /**
     * A message handler invoked on an `'update-request'` message.
     */
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        if (this.parent.isVisible) {
            this._dirty = false;
        }
    }
    /**
     * A message handler invoked on a `'child-shown'` message.
     */
    onChildShown(msg) {
        super.onChildShown(msg);
        // Post a fit request for the parent widget.
        this.parent.fit();
    }
    /**
     * A message handler invoked on a `'child-hidden'` message.
     */
    onChildHidden(msg) {
        super.onChildHidden(msg);
        // Post a fit request for the parent widget.
        this.parent.fit();
    }
    /**
     * A message handler invoked on a `'before-attach'` message.
     */
    onBeforeAttach(msg) {
        super.onBeforeAttach(msg);
        // Post a fit request for the parent widget.
        this.parent.fit();
    }
    /**
     * Attach a widget to the parent's DOM node.
     *
     * @param index - The current index of the widget in the layout.
     *
     * @param widget - The widget to attach to the parent.
     *
     * #### Notes
     * This is a reimplementation of the superclass method.
     */
    attachWidget(index, widget) {
        super.attachWidget(index, widget);
        // Post a fit request for the parent widget.
        this.parent.fit();
    }
    /**
     * Detach a widget from the parent's DOM node.
     *
     * @param index - The previous index of the widget in the layout.
     *
     * @param widget - The widget to detach from the parent.
     *
     * #### Notes
     * This is a reimplementation of the superclass method.
     */
    detachWidget(index, widget) {
        super.detachWidget(index, widget);
        // Post a fit request for the parent widget.
        this.parent.fit();
    }
}
/**
 * A class which provides a toolbar widget.
 */
class Toolbar extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["Widget"] {
    /**
     * Construct a new toolbar widget.
     */
    constructor() {
        super();
        this.addClass(TOOLBAR_CLASS);
        this.layout = new ToolbarLayout();
    }
    /**
     * Get an iterator over the ordered toolbar item names.
     *
     * @returns An iterator over the toolbar item names.
     */
    names() {
        let layout = this.layout;
        return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["map"])(layout.widgets, widget => {
            return Private.nameProperty.get(widget);
        });
    }
    /**
     * Add an item to the end of the toolbar.
     *
     * @param name - The name of the widget to add to the toolbar.
     *
     * @param widget - The widget to add to the toolbar.
     *
     * @param index - The optional name of the item to insert after.
     *
     * @returns Whether the item was added to toolbar.  Returns false if
     *   an item of the same name is already in the toolbar.
     *
     * #### Notes
     * The item can be removed from the toolbar by setting its parent to `null`.
     */
    addItem(name, widget) {
        let layout = this.layout;
        return this.insertItem(layout.widgets.length, name, widget);
    }
    /**
     * Insert an item into the toolbar at the specified index.
     *
     * @param index - The index at which to insert the item.
     *
     * @param name - The name of the item.
     *
     * @param widget - The widget to add.
     *
     * @returns Whether the item was added to the toolbar. Returns false if
     *   an item of the same name is already in the toolbar.
     *
     * #### Notes
     * The index will be clamped to the bounds of the items.
     * The item can be removed from the toolbar by setting its parent to `null`.
     */
    insertItem(index, name, widget) {
        let existing = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["find"])(this.names(), value => value === name);
        if (existing) {
            return false;
        }
        widget.addClass(TOOLBAR_ITEM_CLASS);
        let layout = this.layout;
        layout.insertWidget(index, widget);
        Private.nameProperty.set(widget, name);
        return true;
    }
    /**
     * Insert an item into the toolbar at the after a target item.
     *
     * @param at - The target item to insert after.
     *
     * @param name - The name of the item.
     *
     * @param widget - The widget to add.
     *
     * @returns Whether the item was added to the toolbar. Returns false if
     *   an item of the same name is already in the toolbar.
     *
     * #### Notes
     * The index will be clamped to the bounds of the items.
     * The item can be removed from the toolbar by setting its parent to `null`.
     */
    insertAfter(at, name, widget) {
        return this._insertRelative(at, 1, name, widget);
    }
    /**
     * Insert an item into the toolbar at the before a target item.
     *
     * @param at - The target item to insert before.
     *
     * @param name - The name of the item.
     *
     * @param widget - The widget to add.
     *
     * @returns Whether the item was added to the toolbar. Returns false if
     *   an item of the same name is already in the toolbar.
     *
     * #### Notes
     * The index will be clamped to the bounds of the items.
     * The item can be removed from the toolbar by setting its parent to `null`.
     */
    insertBefore(at, name, widget) {
        return this._insertRelative(at, 0, name, widget);
    }
    _insertRelative(at, offset, name, widget) {
        let nameWithIndex = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["map"])(this.names(), (name, i) => {
            return { name: name, index: i };
        });
        let target = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["find"])(nameWithIndex, x => x.name === at);
        if (target) {
            return this.insertItem(target.index + offset, name, widget);
        }
        return false;
    }
    /**
     * Handle the DOM events for the widget.
     *
     * @param event - The DOM event sent to the widget.
     *
     * #### Notes
     * This method implements the DOM `EventListener` interface and is
     * called in response to events on the dock panel's node. It should
     * not be called directly by user code.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'click':
                this.handleClick(event);
                break;
            default:
                break;
        }
    }
    /**
     * Handle a DOM click event.
     */
    handleClick(event) {
        // Clicking a label focuses the corresponding control
        // that is linked with `for` attribute, so let it be.
        if (event.target instanceof HTMLLabelElement) {
            const forId = event.target.getAttribute('for');
            if (forId && this.node.querySelector(`#${forId}`)) {
                return;
            }
        }
        // If this click already focused a control, let it be.
        if (this.node.contains(document.activeElement)) {
            return;
        }
        // Otherwise, activate the parent widget, which may take focus if desired.
        if (this.parent) {
            this.parent.activate();
        }
    }
    /**
     * Handle `after-attach` messages for the widget.
     */
    onAfterAttach(msg) {
        this.node.addEventListener('click', this);
    }
    /**
     * Handle `before-detach` messages for the widget.
     */
    onBeforeDetach(msg) {
        this.node.removeEventListener('click', this);
    }
}
/**
 * The namespace for Toolbar class statics.
 */
(function (Toolbar) {
    /**
     * Create an interrupt toolbar item.
     */
    function createInterruptButton(sessionContext) {
        return new ToolbarButton({
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__["stopIcon"],
            onClick: () => {
                var _a, _b;
                void ((_b = (_a = sessionContext.session) === null || _a === void 0 ? void 0 : _a.kernel) === null || _b === void 0 ? void 0 : _b.interrupt());
            },
            tooltip: 'Interrupt the kernel'
        });
    }
    Toolbar.createInterruptButton = createInterruptButton;
    /**
     * Create a restart toolbar item.
     */
    function createRestartButton(sessionContext, dialogs) {
        return new ToolbarButton({
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__["refreshIcon"],
            onClick: () => {
                void ((dialogs !== null && dialogs !== void 0 ? dialogs : _sessioncontext__WEBPACK_IMPORTED_MODULE_7__["sessionContextDialogs"])).restart(sessionContext);
            },
            tooltip: 'Restart the kernel'
        });
    }
    Toolbar.createRestartButton = createRestartButton;
    /**
     * Create a toolbar spacer item.
     *
     * #### Notes
     * It is a flex spacer that separates the left toolbar items
     * from the right toolbar items.
     */
    function createSpacerItem() {
        return new Private.Spacer();
    }
    Toolbar.createSpacerItem = createSpacerItem;
    /**
     * Create a kernel name indicator item.
     *
     * #### Notes
     * It will display the `'display_name`' of the session context. It can
     * handle a change in context or kernel.
     */
    function createKernelNameItem(sessionContext, dialogs) {
        const el = _vdom__WEBPACK_IMPORTED_MODULE_8__["ReactWidget"].create(react__WEBPACK_IMPORTED_MODULE_6__["createElement"](Private.KernelNameComponent, { sessionContext: sessionContext, dialogs: (dialogs !== null && dialogs !== void 0 ? dialogs : _sessioncontext__WEBPACK_IMPORTED_MODULE_7__["sessionContextDialogs"]) }));
        el.addClass('jp-KernelName');
        return el;
    }
    Toolbar.createKernelNameItem = createKernelNameItem;
    /**
     * Create a kernel status indicator item.
     *
     * #### Notes
     * It will show a busy status if the kernel status is busy.
     * It will show the current status in the node title.
     * It can handle a change to the context or the kernel.
     */
    function createKernelStatusItem(sessionContext) {
        return new Private.KernelStatus(sessionContext);
    }
    Toolbar.createKernelStatusItem = createKernelStatusItem;
})(Toolbar || (Toolbar = {}));
/**
 * React component for a toolbar button.
 *
 * @param props - The props for ToolbarButtonComponent.
 */
function ToolbarButtonComponent(props) {
    // In some browsers, a button click event moves the focus from the main
    // content to the button (see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus).
    // We avoid a click event by calling preventDefault in mousedown, and
    // we bind the button action to `mousedown`.
    const handleMouseDown = (event) => {
        var _a, _b;
        // Fire action only when left button is pressed.
        if (event.button === 0) {
            event.preventDefault();
            (_b = (_a = props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a);
        }
    };
    const handleKeyDown = (event) => {
        var _a, _b;
        const { key } = event;
        if (key === 'Enter' || key === ' ') {
            (_b = (_a = props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a);
        }
    };
    return (react__WEBPACK_IMPORTED_MODULE_6__["createElement"](_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__["Button"], { className: props.className
            ? props.className + ' jp-ToolbarButtonComponent'
            : 'jp-ToolbarButtonComponent', disabled: props.enabled === false, onMouseDown: handleMouseDown, onKeyDown: handleKeyDown, title: props.tooltip || props.iconLabel, minimal: true },
        react__WEBPACK_IMPORTED_MODULE_6__["createElement"](_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__["LabIcon"].resolveReact, { icon: props.icon, iconClass: 
            // add some extra classes for proper support of icons-as-css-backgorund
            Object(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__["classes"])(props.iconClass, 'jp-Icon', 'jp-Icon-16'), className: "jp-ToolbarButtonComponent-icon", tag: "span", justify: "center", kind: "toolbarButton" }),
        props.label && (react__WEBPACK_IMPORTED_MODULE_6__["createElement"]("span", { className: "jp-ToolbarButtonComponent-label" }, props.label))));
}
/**
 * Adds the toolbar button class to the toolbar widget.
 * @param w Toolbar button widget.
 */
function addToolbarButtonClass(w) {
    w.addClass('jp-ToolbarButton');
    return w;
}
/**
 * Phosphor Widget version of static ToolbarButtonComponent.
 */
class ToolbarButton extends _vdom__WEBPACK_IMPORTED_MODULE_8__["ReactWidget"] {
    /**
     * Creates a toolbar button
     * @param props props for underlying `ToolbarButton` componenent
     */
    constructor(props = {}) {
        super();
        this.props = props;
        addToolbarButtonClass(this);
    }
    render() {
        return react__WEBPACK_IMPORTED_MODULE_6__["createElement"](ToolbarButtonComponent, Object.assign({}, this.props));
    }
}
/**
 * React component for a toolbar button that wraps a command.
 *
 * This wraps the ToolbarButtonComponent and watches the command registry
 * for changes to the command.
 */
function CommandToolbarButtonComponent(props) {
    return (react__WEBPACK_IMPORTED_MODULE_6__["createElement"](_vdom__WEBPACK_IMPORTED_MODULE_8__["UseSignal"], { signal: props.commands.commandChanged, shouldUpdate: (sender, args) => (args.id === props.id && args.type === 'changed') ||
            args.type === 'many-changed' }, () => react__WEBPACK_IMPORTED_MODULE_6__["createElement"](ToolbarButtonComponent, Object.assign({}, Private.propsFromCommand(props)))));
}
/*
 * Adds the command toolbar button class to the command toolbar widget.
 * @param w Command toolbar button widget.
 */
function addCommandToolbarButtonClass(w) {
    w.addClass('jp-CommandToolbarButton');
    return w;
}
/**
 * Phosphor Widget version of CommandToolbarButtonComponent.
 */
class CommandToolbarButton extends _vdom__WEBPACK_IMPORTED_MODULE_8__["ReactWidget"] {
    /**
     * Creates a command toolbar button
     * @param props props for underlying `CommandToolbarButtonComponent` componenent
     */
    constructor(props) {
        super();
        this.props = props;
        addCommandToolbarButtonClass(this);
    }
    render() {
        return react__WEBPACK_IMPORTED_MODULE_6__["createElement"](CommandToolbarButtonComponent, Object.assign({}, this.props));
    }
}
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    function propsFromCommand(options) {
        let { commands, id, args } = options;
        const iconClass = commands.iconClass(id, args);
        const iconLabel = commands.iconLabel(id, args);
        const label = commands.label(id, args);
        let className = commands.className(id, args);
        // Add the boolean state classes.
        if (commands.isToggled(id, args)) {
            className += ' lm-mod-toggled';
        }
        if (!commands.isVisible(id, args)) {
            className += ' lm-mod-hidden';
        }
        const tooltip = commands.caption(id, args) || label || iconLabel;
        const onClick = () => {
            void commands.execute(id, args);
        };
        const enabled = commands.isEnabled(id, args);
        return { className, iconClass, tooltip, onClick, enabled, label };
    }
    Private.propsFromCommand = propsFromCommand;
    /**
     * An attached property for the name of a toolbar item.
     */
    Private.nameProperty = new _lumino_properties__WEBPACK_IMPORTED_MODULE_4__["AttachedProperty"]({
        name: 'name',
        create: () => ''
    });
    /**
     * A no-op function.
     */
    function noOp() {
        /* no-op */
    }
    Private.noOp = noOp;
    /**
     * A spacer widget.
     */
    class Spacer extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["Widget"] {
        /**
         * Construct a new spacer widget.
         */
        constructor() {
            super();
            this.addClass(TOOLBAR_SPACER_CLASS);
        }
    }
    Private.Spacer = Spacer;
    /**
     * React component for a kernel name button.
     *
     * This wraps the ToolbarButtonComponent and watches the kernel
     * session for changes.
     */
    function KernelNameComponent(props) {
        const callback = () => {
            void props.dialogs.selectKernel(props.sessionContext);
        };
        return (react__WEBPACK_IMPORTED_MODULE_6__["createElement"](_vdom__WEBPACK_IMPORTED_MODULE_8__["UseSignal"], { signal: props.sessionContext.kernelChanged, initialSender: props.sessionContext }, sessionContext => {
            var _a;
            return (react__WEBPACK_IMPORTED_MODULE_6__["createElement"](ToolbarButtonComponent, { className: TOOLBAR_KERNEL_NAME_CLASS, onClick: callback, tooltip: 'Switch kernel', label: (_a = sessionContext) === null || _a === void 0 ? void 0 : _a.kernelDisplayName }));
        }));
    }
    Private.KernelNameComponent = KernelNameComponent;
    /**
     * A toolbar item that displays kernel status.
     */
    class KernelStatus extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_5__["Widget"] {
        /**
         * Construct a new kernel status widget.
         */
        constructor(sessionContext) {
            super();
            this.addClass(TOOLBAR_KERNEL_STATUS_CLASS);
            this._onStatusChanged(sessionContext);
            sessionContext.statusChanged.connect(this._onStatusChanged, this);
        }
        /**
         * Handle a status on a kernel.
         */
        _onStatusChanged(sessionContext) {
            if (this.isDisposed) {
                return;
            }
            let status = sessionContext.kernelDisplayStatus;
            // set the icon
            if (this._isBusy(status)) {
                _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__["circleIcon"].element({
                    container: this.node,
                    title: `Kernel ${_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["Text"].titleCase(status)}`,
                    justify: 'center',
                    kind: 'toolbarButton'
                });
            }
            else {
                _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_1__["circleEmptyIcon"].element({
                    container: this.node,
                    title: `Kernel ${_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["Text"].titleCase(status)}`,
                    justify: 'center',
                    kind: 'toolbarButton'
                });
            }
        }
        /**
         * Check if status should be shown as busy.
         */
        _isBusy(status) {
            return (status === 'busy' || status === 'starting' || status === 'restarting');
        }
    }
    Private.KernelStatus = KernelStatus;
})(Private || (Private = {}));
//# sourceMappingURL=toolbar.js.map

/***/ }),

/***/ 1:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 10:
/*!*********************************!*\
  !*** readable-stream (ignored) ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 11:
/*!********************************!*\
  !*** supports-color (ignored) ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 12:
/*!***********************!*\
  !*** chalk (ignored) ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 13:
/*!**************************************!*\
  !*** ./terminal-highlight (ignored) ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 14:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "18Yc":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/index.js ***!
  \***************************************************************************************/
/*! exports provided: AttachmentModel, htmlRendererFactory, imageRendererFactory, latexRendererFactory, markdownRendererFactory, svgRendererFactory, textRendererFactory, javaScriptRendererFactory, standardRendererFactories, removeMath, replaceMath, MimeModel, OutputModel, RenderMimeRegistry, renderHTML, renderImage, renderLatex, renderMarkdown, renderSVG, renderText, IRenderMimeRegistry, ILatexTypesetter, RenderedCommon, RenderedHTMLCommon, RenderedHTML, RenderedLatex, RenderedImage, RenderedMarkdown, RenderedSVG, RenderedText, RenderedJavaScript */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _attachmentmodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attachmentmodel */ "EZv/");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AttachmentModel", function() { return _attachmentmodel__WEBPACK_IMPORTED_MODULE_0__["AttachmentModel"]; });

/* harmony import */ var _factories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./factories */ "Kg9c");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "htmlRendererFactory", function() { return _factories__WEBPACK_IMPORTED_MODULE_1__["htmlRendererFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "imageRendererFactory", function() { return _factories__WEBPACK_IMPORTED_MODULE_1__["imageRendererFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "latexRendererFactory", function() { return _factories__WEBPACK_IMPORTED_MODULE_1__["latexRendererFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "markdownRendererFactory", function() { return _factories__WEBPACK_IMPORTED_MODULE_1__["markdownRendererFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "svgRendererFactory", function() { return _factories__WEBPACK_IMPORTED_MODULE_1__["svgRendererFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "textRendererFactory", function() { return _factories__WEBPACK_IMPORTED_MODULE_1__["textRendererFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "javaScriptRendererFactory", function() { return _factories__WEBPACK_IMPORTED_MODULE_1__["javaScriptRendererFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "standardRendererFactories", function() { return _factories__WEBPACK_IMPORTED_MODULE_1__["standardRendererFactories"]; });

/* harmony import */ var _latex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./latex */ "UWaU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "removeMath", function() { return _latex__WEBPACK_IMPORTED_MODULE_2__["removeMath"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "replaceMath", function() { return _latex__WEBPACK_IMPORTED_MODULE_2__["replaceMath"]; });

/* harmony import */ var _mimemodel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mimemodel */ "K2qJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MimeModel", function() { return _mimemodel__WEBPACK_IMPORTED_MODULE_3__["MimeModel"]; });

/* harmony import */ var _outputmodel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./outputmodel */ "H+dA");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OutputModel", function() { return _outputmodel__WEBPACK_IMPORTED_MODULE_4__["OutputModel"]; });

/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./registry */ "vEyG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderMimeRegistry", function() { return _registry__WEBPACK_IMPORTED_MODULE_5__["RenderMimeRegistry"]; });

/* harmony import */ var _renderers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./renderers */ "yGL3");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renderHTML", function() { return _renderers__WEBPACK_IMPORTED_MODULE_6__["renderHTML"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renderImage", function() { return _renderers__WEBPACK_IMPORTED_MODULE_6__["renderImage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renderLatex", function() { return _renderers__WEBPACK_IMPORTED_MODULE_6__["renderLatex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renderMarkdown", function() { return _renderers__WEBPACK_IMPORTED_MODULE_6__["renderMarkdown"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renderSVG", function() { return _renderers__WEBPACK_IMPORTED_MODULE_6__["renderSVG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renderText", function() { return _renderers__WEBPACK_IMPORTED_MODULE_6__["renderText"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tokens */ "JPvQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IRenderMimeRegistry", function() { return _tokens__WEBPACK_IMPORTED_MODULE_7__["IRenderMimeRegistry"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ILatexTypesetter", function() { return _tokens__WEBPACK_IMPORTED_MODULE_7__["ILatexTypesetter"]; });

/* harmony import */ var _widgets__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./widgets */ "MCFF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedCommon", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedCommon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedHTMLCommon", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedHTMLCommon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedHTML", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedHTML"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedLatex", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedLatex"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedImage", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedImage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedMarkdown", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedMarkdown"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedSVG", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedSVG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedText", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedText"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RenderedJavaScript", function() { return _widgets__WEBPACK_IMPORTED_MODULE_8__["RenderedJavaScript"]; });

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/









//# sourceMappingURL=index.js.map

/***/ }),

/***/ "1EMV":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/components/hover.js ***!
  \*************************************************************************************************/
/*! exports provided: showPopup, Popup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showPopup", function() { return showPopup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Popup", function() { return Popup; });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_statusbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../style/statusbar */ "Hx4J");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




const hoverItem = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_2__["style"])({
    boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)'
});
/**
 * Create and show a popup component.
 *
 * @param options - options for the popup
 *
 * @returns the popup that was created.
 */
function showPopup(options) {
    let dialog = new Popup(options);
    dialog.launch();
    return dialog;
}
/**
 * A class for a Popup widget.
 */
class Popup extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["Widget"] {
    /**
     * Construct a new Popup.
     */
    constructor(options) {
        super();
        this._body = options.body;
        this._body.addClass(hoverItem);
        this._anchor = options.anchor;
        this._align = options.align;
        let layout = (this.layout = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["PanelLayout"]());
        layout.addWidget(options.body);
        this._body.node.addEventListener('resize', () => {
            this.update();
        });
    }
    /**
     * Attach the popup widget to the page.
     */
    launch() {
        this._setGeometry();
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["Widget"].attach(this, document.body);
        this.update();
        this._anchor.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["clickedItem"]);
        this._anchor.removeClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["interactiveItem"]);
    }
    /**
     * Handle `'update'` messages for the widget.
     */
    onUpdateRequest(msg) {
        this._setGeometry();
        super.onUpdateRequest(msg);
    }
    /**
     * Handle `'after-attach'` messages for the widget.
     */
    onAfterAttach(msg) {
        document.addEventListener('click', this, false);
        this.node.addEventListener('keydown', this, false);
        window.addEventListener('resize', this, false);
    }
    /**
     * Handle `'after-detach'` messages for the widget.
     */
    onAfterDetach(msg) {
        document.removeEventListener('click', this, false);
        this.node.removeEventListener('keydown', this, false);
        window.removeEventListener('resize', this, false);
    }
    /**
     * Handle `'resize'` messages for the widget.
     */
    onResize() {
        this.update();
    }
    /**
     * Dispose of the widget.
     */
    dispose() {
        super.dispose();
        this._anchor.removeClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["clickedItem"]);
        this._anchor.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["interactiveItem"]);
    }
    /**
     * Handle DOM events for the widget.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'keydown':
                this._evtKeydown(event);
                break;
            case 'click':
                this._evtClick(event);
                break;
            case 'resize':
                this.onResize();
                break;
            default:
                break;
        }
    }
    _evtClick(event) {
        if (!!event.target &&
            !(this._body.node.contains(event.target) ||
                this._anchor.node.contains(event.target))) {
            this.dispose();
        }
    }
    _evtKeydown(event) {
        // Check for escape key
        switch (event.keyCode) {
            case 27: // Escape.
                event.stopPropagation();
                event.preventDefault();
                this.dispose();
                break;
            default:
                break;
        }
    }
    _setGeometry() {
        let aligned = 0;
        const anchorRect = this._anchor.node.getBoundingClientRect();
        const bodyRect = this._body.node.getBoundingClientRect();
        if (this._align === 'right') {
            aligned = -(bodyRect.width - anchorRect.width);
        }
        const style = window.getComputedStyle(this._body.node);
        _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["HoverBox"].setGeometry({
            anchor: anchorRect,
            host: document.body,
            maxHeight: 500,
            minHeight: 20,
            node: this._body.node,
            offset: {
                horizontal: aligned
            },
            privilege: 'forceAbove',
            style
        });
    }
}
//# sourceMappingURL=hover.js.map

/***/ }),

/***/ "1IYD":
/*!********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/config/index.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const __1 = __webpack_require__(/*! .. */ "YdKB");
/**
 * The url for the config service.
 */
let SERVICE_CONFIG_URL = 'api/config';
/**
 * The namespace for ConfigSection statics.
 */
var ConfigSection;
(function (ConfigSection) {
    /**
     * Create a config section.
     *
     * @returns A Promise that is fulfilled with the config section is loaded.
     */
    function create(options) {
        let section = new DefaultConfigSection(options);
        return section.load().then(() => {
            return section;
        });
    }
    ConfigSection.create = create;
})(ConfigSection = exports.ConfigSection || (exports.ConfigSection = {}));
/**
 * Implementation of the Configurable data section.
 */
class DefaultConfigSection {
    /**
     * Construct a new config section.
     */
    constructor(options) {
        var _a;
        this._url = 'unknown';
        let settings = (this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : __1.ServerConnection.makeSettings())));
        this._url = coreutils_1.URLExt.join(settings.baseUrl, SERVICE_CONFIG_URL, encodeURIComponent(options.name));
    }
    /**
     * Get the data for this section.
     */
    get data() {
        return this._data;
    }
    /**
     * Load the initial data for this section.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/config).
     *
     * The promise is fulfilled on a valid response and rejected otherwise.
     */
    load() {
        return __1.ServerConnection.makeRequest(this._url, {}, this.serverSettings)
            .then(response => {
            if (response.status !== 200) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            this._data = data;
        });
    }
    /**
     * Modify the stored config values.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/config).
     *
     * The promise is fulfilled on a valid response and rejected otherwise.
     *
     * Updates the local data immediately, sends the change to the server,
     * and updates the local data with the response, and fulfils the promise
     * with that data.
     */
    update(newdata) {
        this._data = Object.assign(Object.assign({}, this._data), newdata);
        let init = {
            method: 'PATCH',
            body: JSON.stringify(newdata)
        };
        return __1.ServerConnection.makeRequest(this._url, init, this.serverSettings)
            .then(response => {
            if (response.status !== 200) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            this._data = data;
            return this._data;
        });
    }
}
/**
 * Configurable object with defaults.
 */
class ConfigWithDefaults {
    /**
     * Create a new config with defaults.
     */
    constructor(options) {
        var _a, _b;
        this._className = '';
        this._section = options.section;
        this._defaults = (_a = options.defaults, (_a !== null && _a !== void 0 ? _a : {}));
        this._className = (_b = options.className, (_b !== null && _b !== void 0 ? _b : ''));
    }
    /**
     * Get data from the config section or fall back to defaults.
     */
    get(key) {
        let data = this._classData();
        return key in data ? data[key] : this._defaults[key];
    }
    /**
     * Set a config value.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/config).
     *
     * The promise is fulfilled on a valid response and rejected otherwise.
     *
     * Sends the update to the server, and changes our local copy of the data
     * immediately.
     */
    set(key, value) {
        let d = {};
        d[key] = value;
        if (this._className) {
            let d2 = {};
            d2[this._className] = d;
            return this._section.update(d2);
        }
        else {
            return this._section.update(d);
        }
    }
    /**
     * Get data from the Section with our classname, if available.
     *
     * #### Notes
     * If we have no classname, get all of the data in the Section
     */
    _classData() {
        let data = this._section.data;
        if (this._className && this._className in data) {
            return data[this._className];
        }
        return data;
    }
}
exports.ConfigWithDefaults = ConfigWithDefaults;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "1l+Z":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codeeditor/lib/widget.js ***!
  \****************************************************************************************/
/*! exports provided: CodeEditorWrapper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeEditorWrapper", function() { return CodeEditorWrapper; });
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * The class name added to an editor widget that has a primary selection.
 */
const HAS_SELECTION_CLASS = 'jp-mod-has-primary-selection';
/**
 * The class name added to an editor widget that has a cursor/selection
 * within the whitespace at the beginning of a line
 */
const HAS_IN_LEADING_WHITESPACE_CLASS = 'jp-mod-in-leading-whitespace';
/**
 * A class used to indicate a drop target.
 */
const DROP_TARGET_CLASS = 'jp-mod-dropTarget';
/**
 * RegExp to test for leading whitespace
 */
const leadingWhitespaceRe = /^\s+$/;
/**
 * A widget which hosts a code editor.
 */
class CodeEditorWrapper extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__["Widget"] {
    /**
     * Construct a new code editor widget.
     */
    constructor(options) {
        super();
        this._hasRefreshedSinceAttach = false;
        const editor = (this.editor = options.factory({
            host: this.node,
            model: options.model,
            uuid: options.uuid,
            config: options.config,
            selectionStyle: options.selectionStyle
        }));
        editor.model.selections.changed.connect(this._onSelectionsChanged, this);
        this._updateOnShow = options.updateOnShow !== false;
    }
    /**
     * Get the model used by the widget.
     */
    get model() {
        return this.editor.model;
    }
    /**
     * Dispose of the resources held by the widget.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        super.dispose();
        this.editor.dispose();
    }
    /**
     * Handle the DOM events for the widget.
     *
     * @param event - The DOM event sent to the widget.
     *
     * #### Notes
     * This method implements the DOM `EventListener` interface and is
     * called in response to events on the notebook panel's node. It should
     * not be called directly by user code.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'lm-dragenter':
                this._evtDragEnter(event);
                break;
            case 'lm-dragleave':
                this._evtDragLeave(event);
                break;
            case 'lm-dragover':
                this._evtDragOver(event);
                break;
            case 'lm-drop':
                this._evtDrop(event);
                break;
            default:
                break;
        }
    }
    /**
     * Handle `'activate-request'` messages.
     */
    onActivateRequest(msg) {
        this.editor.focus();
    }
    /**
     * A message handler invoked on an `'after-attach'` message.
     */
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        let node = this.node;
        node.addEventListener('lm-dragenter', this);
        node.addEventListener('lm-dragleave', this);
        node.addEventListener('lm-dragover', this);
        node.addEventListener('lm-drop', this);
        // We have to refresh at least once after attaching,
        // while visible.
        this._hasRefreshedSinceAttach = false;
        if (this.isVisible) {
            this.update();
        }
    }
    /**
     * Handle `before-detach` messages for the widget.
     */
    onBeforeDetach(msg) {
        let node = this.node;
        node.removeEventListener('lm-dragenter', this);
        node.removeEventListener('lm-dragleave', this);
        node.removeEventListener('lm-dragover', this);
        node.removeEventListener('lm-drop', this);
    }
    /**
     * A message handler invoked on an `'after-show'` message.
     */
    onAfterShow(msg) {
        if (this._updateOnShow || !this._hasRefreshedSinceAttach) {
            this.update();
        }
    }
    /**
     * A message handler invoked on a `'resize'` message.
     */
    onResize(msg) {
        if (msg.width >= 0 && msg.height >= 0) {
            this.editor.setSize(msg);
        }
        else if (this.isVisible) {
            this.editor.resizeToFit();
        }
    }
    /**
     * A message handler invoked on an `'update-request'` message.
     */
    onUpdateRequest(msg) {
        if (this.isVisible) {
            this._hasRefreshedSinceAttach = true;
            this.editor.refresh();
        }
    }
    /**
     * Handle a change in model selections.
     */
    _onSelectionsChanged() {
        const { start, end } = this.editor.getSelection();
        if (start.column !== end.column || start.line !== end.line) {
            // a selection was made
            this.addClass(HAS_SELECTION_CLASS);
            this.removeClass(HAS_IN_LEADING_WHITESPACE_CLASS);
        }
        else {
            // the cursor was placed
            this.removeClass(HAS_SELECTION_CLASS);
            if (this.editor
                .getLine(end.line)
                .slice(0, end.column)
                .match(leadingWhitespaceRe)) {
                this.addClass(HAS_IN_LEADING_WHITESPACE_CLASS);
            }
            else {
                this.removeClass(HAS_IN_LEADING_WHITESPACE_CLASS);
            }
        }
    }
    /**
     * Handle the `'lm-dragenter'` event for the widget.
     */
    _evtDragEnter(event) {
        if (this.editor.getOption('readOnly') === true) {
            return;
        }
        const data = Private.findTextData(event.mimeData);
        if (data === undefined) {
            return;
        }
        event.preventDefault();
        event.stopPropagation();
        this.addClass('jp-mod-dropTarget');
    }
    /**
     * Handle the `'lm-dragleave'` event for the widget.
     */
    _evtDragLeave(event) {
        this.removeClass(DROP_TARGET_CLASS);
        if (this.editor.getOption('readOnly') === true) {
            return;
        }
        const data = Private.findTextData(event.mimeData);
        if (data === undefined) {
            return;
        }
        event.preventDefault();
        event.stopPropagation();
    }
    /**
     * Handle the `'lm-dragover'` event for the widget.
     */
    _evtDragOver(event) {
        this.removeClass(DROP_TARGET_CLASS);
        if (this.editor.getOption('readOnly') === true) {
            return;
        }
        const data = Private.findTextData(event.mimeData);
        if (data === undefined) {
            return;
        }
        event.preventDefault();
        event.stopPropagation();
        event.dropAction = 'copy';
        this.addClass(DROP_TARGET_CLASS);
    }
    /**
     * Handle the `'lm-drop'` event for the widget.
     */
    _evtDrop(event) {
        if (this.editor.getOption('readOnly') === true) {
            return;
        }
        const data = Private.findTextData(event.mimeData);
        if (data === undefined) {
            return;
        }
        const coordinate = {
            top: event.y,
            bottom: event.y,
            left: event.x,
            right: event.x,
            x: event.x,
            y: event.y,
            width: 0,
            height: 0
        };
        const position = this.editor.getPositionForCoordinate(coordinate);
        if (position === null) {
            return;
        }
        this.removeClass(DROP_TARGET_CLASS);
        event.preventDefault();
        event.stopPropagation();
        if (event.proposedAction === 'none') {
            event.dropAction = 'none';
            return;
        }
        const offset = this.editor.getOffsetAt(position);
        this.model.value.insert(offset, data);
    }
}
/**
 * A namespace for private functionality.
 */
var Private;
(function (Private) {
    /**
     * Given a MimeData instance, extract the first text data, if any.
     */
    function findTextData(mime) {
        const types = mime.types();
        const textType = types.find(t => t.indexOf('text') === 0);
        if (textType === undefined) {
            return undefined;
        }
        return mime.getData(textType);
    }
    Private.findTextData = findTextData;
})(Private || (Private = {}));
//# sourceMappingURL=widget.js.map

/***/ }),

/***/ "1tJF":
/*!**************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernelspec/manager.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
const polling_1 = __webpack_require__(/*! @lumino/polling */ "iePd");
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const restapi = __importStar(__webpack_require__(/*! ./restapi */ "KW/8"));
const basemanager_1 = __webpack_require__(/*! ../basemanager */ "38F2");
/**
 * An implementation of a kernel spec manager.
 */
class KernelSpecManager extends basemanager_1.BaseManager {
    /**
     * Construct a new kernel spec manager.
     *
     * @param options - The default options for kernel.
     */
    constructor(options = {}) {
        var _a;
        super(options);
        this._isReady = false;
        this._connectionFailure = new signaling_1.Signal(this);
        this._specs = null;
        this._specsChanged = new signaling_1.Signal(this);
        // Initialize internal data.
        this._ready = Promise.all([this.requestSpecs()])
            .then(_ => undefined)
            .catch(_ => undefined)
            .then(() => {
            if (this.isDisposed) {
                return;
            }
            this._isReady = true;
        });
        this._pollSpecs = new polling_1.Poll({
            auto: false,
            factory: () => this.requestSpecs(),
            frequency: {
                interval: 61 * 1000,
                backoff: true,
                max: 300 * 1000
            },
            name: `@jupyterlab/services:KernelSpecManager#specs`,
            standby: (_a = options.standby, (_a !== null && _a !== void 0 ? _a : 'when-hidden'))
        });
        void this.ready.then(() => {
            void this._pollSpecs.start();
        });
    }
    /**
     * Test whether the manager is ready.
     */
    get isReady() {
        return this._isReady;
    }
    /**
     * A promise that fulfills when the manager is ready.
     */
    get ready() {
        return this._ready;
    }
    /**
     * Get the most recently fetched kernel specs.
     */
    get specs() {
        return this._specs;
    }
    /**
     * A signal emitted when the specs change.
     */
    get specsChanged() {
        return this._specsChanged;
    }
    /**
     * A signal emitted when there is a connection failure.
     */
    get connectionFailure() {
        return this._connectionFailure;
    }
    /**
     * Dispose of the resources used by the manager.
     */
    dispose() {
        this._pollSpecs.dispose();
        super.dispose();
    }
    /**
     * Force a refresh of the specs from the server.
     *
     * @returns A promise that resolves when the specs are fetched.
     *
     * #### Notes
     * This is intended to be called only in response to a user action,
     * since the manager maintains its internal state.
     */
    async refreshSpecs() {
        await this._pollSpecs.refresh();
        await this._pollSpecs.tick;
    }
    /**
     * Execute a request to the server to poll specs and update state.
     */
    async requestSpecs() {
        const specs = await restapi.getSpecs(this.serverSettings);
        if (this.isDisposed) {
            return;
        }
        if (!coreutils_1.JSONExt.deepEqual(specs, this._specs)) {
            this._specs = specs;
            this._specsChanged.emit(specs);
        }
    }
}
exports.KernelSpecManager = KernelSpecManager;
//# sourceMappingURL=manager.js.map

/***/ }),

/***/ 2:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "2GAQ":
/*!**************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/style/progressBar.js ***!
  \**************************************************************************************************/
/*! exports provided: progressBarItem, fillerItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "progressBarItem", function() { return progressBarItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fillerItem", function() { return fillerItem; });
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

const progressBarItem = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])({
    background: 'black',
    height: '10px',
    width: '100px',
    border: '1px solid black',
    borderRadius: '3px',
    marginLeft: '4px',
    overflow: 'hidden'
});
const fillerItem = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])({
    background: 'var(--jp-brand-color2)',
    height: '10px'
});
//# sourceMappingURL=progressBar.js.map

/***/ }),

/***/ 3:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "34zP":
/*!*************************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-down-empty-thin.svg ***!
  \*************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E %3Cg class='jp-icon3' fill='%23616161' shape-rendering='geometricPrecision'%3E %3Cpolygon class='st1' points='9.9,13.6 3.6,7.4 4.4,6.6 9.9,12.2 15.4,6.7 16.1,7.4 '/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "34zPi":
/*!*************************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-down-empty-thin.svg ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n\t<g class=\"jp-icon3\" fill=\"#616161\" shape-rendering=\"geometricPrecision\">\n\t\t<polygon class=\"st1\" points=\"9.9,13.6 3.6,7.4 4.4,6.6 9.9,12.2 15.4,6.7 16.1,7.4 \"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "38F2":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/basemanager.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const serverconnection_1 = __webpack_require__(/*! ./serverconnection */ "gY1d");
class BaseManager {
    constructor(options) {
        var _a;
        this._isDisposed = false;
        this._disposed = new signaling_1.Signal(this);
        this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : serverconnection_1.ServerConnection.makeSettings()));
    }
    /**
     * A signal emitted when the delegate is disposed.
     */
    get disposed() {
        return this._disposed;
    }
    /**
     * Test whether the delegate has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the delegate and invoke the callback function.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._disposed.emit(undefined);
        signaling_1.Signal.clearData(this);
    }
}
exports.BaseManager = BaseManager;
//# sourceMappingURL=basemanager.js.map

/***/ }),

/***/ 4:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "43H8":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/extension.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "43H80":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/extension.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "459M":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docregistry/lib/context.js ***!
  \******************************************************************************************/
/*! exports provided: Context */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Context", function() { return Context; });
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/services */ "YdKB");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @jupyterlab/rendermime */ "18Yc");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.








/**
 * An implementation of a document context.
 *
 * This class is typically instantiated by the document manager.
 */
class Context {
    /**
     * Construct a new document context.
     */
    constructor(options) {
        this._path = '';
        this._useCRLF = false;
        this._contentsModel = null;
        this._populatedPromise = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["PromiseDelegate"]();
        this._isPopulated = false;
        this._isReady = false;
        this._isDisposed = false;
        this._pathChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._fileChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._saveState = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._disposed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        let manager = (this._manager = options.manager);
        this._factory = options.factory;
        this._dialogs = options.sessionDialogs || _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["sessionContextDialogs"];
        this._opener = options.opener || Private.noOp;
        this._path = this._manager.contents.normalize(options.path);
        const localPath = this._manager.contents.localPath(this._path);
        let lang = this._factory.preferredLanguage(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6__["PathExt"].basename(localPath));
        let dbFactory = options.modelDBFactory;
        if (dbFactory) {
            const localPath = manager.contents.localPath(this._path);
            this._modelDB = dbFactory.createNew(localPath);
            this._model = this._factory.createNew(lang, this._modelDB);
        }
        else {
            this._model = this._factory.createNew(lang);
        }
        this._readyPromise = manager.ready.then(() => {
            return this._populatedPromise.promise;
        });
        let ext = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6__["PathExt"].extname(this._path);
        this.sessionContext = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["SessionContext"]({
            sessionManager: manager.sessions,
            specsManager: manager.kernelspecs,
            path: this._path,
            type: ext === '.ipynb' ? 'notebook' : 'file',
            name: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6__["PathExt"].basename(localPath),
            kernelPreference: options.kernelPreference || { shouldStart: false },
            setBusy: options.setBusy
        });
        this.sessionContext.propertyChanged.connect(this._onSessionChanged, this);
        manager.contents.fileChanged.connect(this._onFileChanged, this);
        this.urlResolver = new _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_7__["RenderMimeRegistry"].UrlResolver({
            session: this.sessionContext,
            contents: manager.contents
        });
    }
    /**
     * A signal emitted when the path changes.
     */
    get pathChanged() {
        return this._pathChanged;
    }
    /**
     * A signal emitted when the model is saved or reverted.
     */
    get fileChanged() {
        return this._fileChanged;
    }
    /**
     * A signal emitted on the start and end of a saving operation.
     */
    get saveState() {
        return this._saveState;
    }
    /**
     * A signal emitted when the context is disposed.
     */
    get disposed() {
        return this._disposed;
    }
    /**
     * Get the model associated with the document.
     */
    get model() {
        return this._model;
    }
    /**
     * The current path associated with the document.
     */
    get path() {
        return this._path;
    }
    /**
     * The current local path associated with the document.
     * If the document is in the default notebook file browser,
     * this is the same as the path.
     */
    get localPath() {
        return this._manager.contents.localPath(this._path);
    }
    /**
     * The current contents model associated with the document.
     *
     * #### Notes
     * The contents model will be null until the context is populated.
     * It will have an  empty `contents` field.
     */
    get contentsModel() {
        return this._contentsModel;
    }
    /**
     * Get the model factory name.
     *
     * #### Notes
     * This is not part of the `IContext` API.
     */
    get factoryName() {
        return this.isDisposed ? '' : this._factory.name;
    }
    /**
     * Test whether the context is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the context.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        this.sessionContext.dispose();
        if (this._modelDB) {
            this._modelDB.dispose();
        }
        this._model.dispose();
        this._disposed.emit(void 0);
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"].clearData(this);
    }
    /**
     * Whether the context is ready.
     */
    get isReady() {
        return this._isReady;
    }
    /**
     * A promise that is fulfilled when the context is ready.
     */
    get ready() {
        return this._readyPromise;
    }
    /**
     * Initialize the context.
     *
     * @param isNew - Whether it is a new file.
     *
     * @returns a promise that resolves upon initialization.
     */
    initialize(isNew) {
        if (isNew) {
            this._model.initialize();
            return this._save();
        }
        if (this._modelDB) {
            return this._modelDB.connected.then(() => {
                if (this._modelDB.isPrepopulated) {
                    this._model.initialize();
                    void this._save();
                    return void 0;
                }
                else {
                    return this._revert(true);
                }
            });
        }
        else {
            return this._revert(true);
        }
    }
    /**
     * Save the document contents to disk.
     */
    save() {
        return this.ready.then(() => {
            return this._save();
        });
    }
    /**
     * Save the document to a different path chosen by the user.
     */
    saveAs() {
        return this.ready
            .then(() => {
            return Private.getSavePath(this._path);
        })
            .then(newPath => {
            if (this.isDisposed || !newPath) {
                return;
            }
            if (newPath === this._path) {
                return this.save();
            }
            // Make sure the path does not exist.
            return this._manager.ready
                .then(() => {
                return this._manager.contents.get(newPath);
            })
                .then(() => {
                return this._maybeOverWrite(newPath);
            })
                .catch(err => {
                if (!err.response || err.response.status !== 404) {
                    throw err;
                }
                return this._finishSaveAs(newPath);
            });
        });
    }
    /**
     * Download a file.
     *
     * @param path - The path of the file to be downloaded.
     *
     * @returns A promise which resolves when the file has begun
     *   downloading.
     */
    async download() {
        const url = await this._manager.contents.getDownloadUrl(this._path);
        let element = document.createElement('a');
        element.href = url;
        element.download = '';
        document.body.appendChild(element);
        element.click();
        document.body.removeChild(element);
        return void 0;
    }
    /**
     * Revert the document contents to disk contents.
     */
    revert() {
        return this.ready.then(() => {
            return this._revert();
        });
    }
    /**
     * Create a checkpoint for the file.
     */
    createCheckpoint() {
        let contents = this._manager.contents;
        return this._manager.ready.then(() => {
            return contents.createCheckpoint(this._path);
        });
    }
    /**
     * Delete a checkpoint for the file.
     */
    deleteCheckpoint(checkpointId) {
        let contents = this._manager.contents;
        return this._manager.ready.then(() => {
            return contents.deleteCheckpoint(this._path, checkpointId);
        });
    }
    /**
     * Restore the file to a known checkpoint state.
     */
    restoreCheckpoint(checkpointId) {
        let contents = this._manager.contents;
        let path = this._path;
        return this._manager.ready.then(() => {
            if (checkpointId) {
                return contents.restoreCheckpoint(path, checkpointId);
            }
            return this.listCheckpoints().then(checkpoints => {
                if (this.isDisposed || !checkpoints.length) {
                    return;
                }
                checkpointId = checkpoints[checkpoints.length - 1].id;
                return contents.restoreCheckpoint(path, checkpointId);
            });
        });
    }
    /**
     * List available checkpoints for a file.
     */
    listCheckpoints() {
        let contents = this._manager.contents;
        return this._manager.ready.then(() => {
            return contents.listCheckpoints(this._path);
        });
    }
    /**
     * Add a sibling widget to the document manager.
     *
     * @param widget - The widget to add to the document manager.
     *
     * @param options - The desired options for adding the sibling.
     *
     * @returns A disposable used to remove the sibling if desired.
     *
     * #### Notes
     * It is assumed that the widget has the same model and context
     * as the original widget.
     */
    addSibling(widget, options = {}) {
        let opener = this._opener;
        if (opener) {
            opener(widget, options);
        }
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_2__["DisposableDelegate"](() => {
            widget.close();
        });
    }
    /**
     * Handle a change on the contents manager.
     */
    _onFileChanged(sender, change) {
        var _a, _b, _c;
        if (change.type !== 'rename') {
            return;
        }
        let oldPath = change.oldValue && change.oldValue.path;
        let newPath = change.newValue && change.newValue.path;
        if (newPath && this._path.indexOf(oldPath || '') === 0) {
            let changeModel = change.newValue;
            // When folder name changed, `oldPath` is `foo`, `newPath` is `bar` and `this._path` is `foo/test`,
            // we should update `foo/test` to `bar/test` as well
            if (oldPath !== this._path) {
                newPath = this._path.replace(new RegExp(`^${oldPath}/`), `${newPath}/`);
                oldPath = this._path;
                // Update client file model from folder change
                changeModel = {
                    last_modified: (_a = change.newValue) === null || _a === void 0 ? void 0 : _a.created,
                    path: newPath
                };
            }
            this._path = newPath;
            void ((_b = this.sessionContext.session) === null || _b === void 0 ? void 0 : _b.setPath(newPath));
            const updateModel = Object.assign(Object.assign({}, this._contentsModel), changeModel);
            const localPath = this._manager.contents.localPath(newPath);
            void ((_c = this.sessionContext.session) === null || _c === void 0 ? void 0 : _c.setName(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6__["PathExt"].basename(localPath)));
            this._updateContentsModel(updateModel);
            this._pathChanged.emit(this._path);
        }
    }
    /**
     * Handle a change to a session property.
     */
    _onSessionChanged(sender, type) {
        if (type !== 'path') {
            return;
        }
        let path = this.sessionContext.session.path;
        if (path !== this._path) {
            this._path = path;
            this._pathChanged.emit(path);
        }
    }
    /**
     * Update our contents model, without the content.
     */
    _updateContentsModel(model) {
        let newModel = {
            path: model.path,
            name: model.name,
            type: model.type,
            content: undefined,
            writable: model.writable,
            created: model.created,
            last_modified: model.last_modified,
            mimetype: model.mimetype,
            format: model.format
        };
        let mod = this._contentsModel ? this._contentsModel.last_modified : null;
        this._contentsModel = newModel;
        if (!mod || newModel.last_modified !== mod) {
            this._fileChanged.emit(newModel);
        }
    }
    /**
     * Handle an initial population.
     */
    _populate() {
        this._isPopulated = true;
        this._isReady = true;
        this._populatedPromise.resolve(void 0);
        // Add a checkpoint if none exists and the file is writable.
        return this._maybeCheckpoint(false).then(() => {
            if (this.isDisposed) {
                return;
            }
            // Update the kernel preference.
            let name = this._model.defaultKernelName ||
                this.sessionContext.kernelPreference.name;
            this.sessionContext.kernelPreference = Object.assign(Object.assign({}, this.sessionContext.kernelPreference), { name, language: this._model.defaultKernelLanguage });
            // Note: we don't wait on the session to initialize
            // so that the user can be shown the content before
            // any kernel has started.
            void this.sessionContext.initialize().then(shouldSelect => {
                if (shouldSelect) {
                    void this._dialogs.selectKernel(this.sessionContext);
                }
            });
        });
    }
    /**
     * Save the document contents to disk.
     */
    _save() {
        this._saveState.emit('started');
        let model = this._model;
        let content;
        if (this._factory.fileFormat === 'json') {
            content = model.toJSON();
        }
        else {
            content = model.toString();
            if (this._useCRLF) {
                content = content.replace(/\n/g, '\r\n');
            }
        }
        let options = {
            type: this._factory.contentType,
            format: this._factory.fileFormat,
            content
        };
        return this._manager.ready
            .then(() => {
            if (!model.modelDB.isCollaborative) {
                return this._maybeSave(options);
            }
            return this._manager.contents.save(this._path, options);
        })
            .then(value => {
            if (this.isDisposed) {
                return;
            }
            model.dirty = false;
            this._updateContentsModel(value);
            if (!this._isPopulated) {
                return this._populate();
            }
        })
            .catch(err => {
            // If the save has been canceled by the user,
            // throw the error so that whoever called save()
            // can decide what to do.
            if (err.message === 'Cancel') {
                throw err;
            }
            // Otherwise show an error message and throw the error.
            const localPath = this._manager.contents.localPath(this._path);
            const name = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6__["PathExt"].basename(localPath);
            void this._handleError(err, `File Save Error for ${name}`);
            throw err;
        })
            .then(value => {
            // Capture all success paths and emit completion.
            this._saveState.emit('completed');
            return value;
        }, err => {
            // Capture all error paths and emit failure.
            this._saveState.emit('failed');
            throw err;
        })
            .catch(() => {
            /* no-op */
        });
    }
    /**
     * Revert the document contents to disk contents.
     *
     * @param initializeModel - call the model's initialization function after
     * deserializing the content.
     */
    _revert(initializeModel = false) {
        let opts = {
            format: this._factory.fileFormat,
            type: this._factory.contentType,
            content: true
        };
        let path = this._path;
        let model = this._model;
        return this._manager.ready
            .then(() => {
            return this._manager.contents.get(path, opts);
        })
            .then(contents => {
            if (this.isDisposed) {
                return;
            }
            let dirty = false;
            if (contents.format === 'json') {
                model.fromJSON(contents.content);
                if (initializeModel) {
                    model.initialize();
                }
            }
            else {
                let content = contents.content;
                // Convert line endings if necessary, marking the file
                // as dirty.
                if (content.indexOf('\r') !== -1) {
                    this._useCRLF = true;
                    content = content.replace(/\r\n/g, '\n');
                }
                else {
                    this._useCRLF = false;
                }
                model.fromString(content);
                if (initializeModel) {
                    model.initialize();
                }
            }
            this._updateContentsModel(contents);
            model.dirty = dirty;
            if (!this._isPopulated) {
                return this._populate();
            }
        })
            .catch(async (err) => {
            const localPath = this._manager.contents.localPath(this._path);
            const name = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_6__["PathExt"].basename(localPath);
            const response = await err.response.json();
            if (err.message === 'Invalid response: 400 bad format') {
                err = new Error(response.message);
            }
            void this._handleError(err, `File Load Error for ${name}`);
            throw err;
        });
    }
    /**
     * Save a file, dealing with conflicts.
     */
    _maybeSave(options) {
        let path = this._path;
        // Make sure the file has not changed on disk.
        let promise = this._manager.contents.get(path, { content: false });
        return promise.then(model => {
            var _a;
            if (this.isDisposed) {
                return Promise.reject(new Error('Disposed'));
            }
            // We want to check last_modified (disk) > last_modified (client)
            // (our last save)
            // In some cases the filesystem reports an inconsistent time,
            // so we allow 0.5 seconds difference before complaining.
            let modified = (_a = this.contentsModel) === null || _a === void 0 ? void 0 : _a.last_modified;
            let tClient = modified ? new Date(modified) : new Date();
            let tDisk = new Date(model.last_modified);
            if (modified && tDisk.getTime() - tClient.getTime() > 500) {
                // 500 ms
                return this._timeConflict(tClient, model, options);
            }
            return this._manager.contents.save(path, options);
        }, err => {
            if (err.response && err.response.status === 404) {
                return this._manager.contents.save(path, options);
            }
            throw err;
        });
    }
    /**
     * Handle a save/load error with a dialog.
     */
    async _handleError(err, title) {
        // Check for a more specific error message.
        let error = { message: '' };
        if (err instanceof _jupyterlab_services__WEBPACK_IMPORTED_MODULE_0__["ServerConnection"].ResponseError) {
            const text = await err.response.text();
            let body = '';
            try {
                body = JSON.parse(text).message;
            }
            catch (e) {
                body = text;
            }
            error.message = body || err.message;
        }
        else {
            error.message = err.message;
        }
        await Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["showErrorMessage"])(title, error);
        return;
    }
    /**
     * Add a checkpoint the file is writable.
     */
    _maybeCheckpoint(force) {
        let writable = this._contentsModel && this._contentsModel.writable;
        let promise = Promise.resolve(void 0);
        if (!writable) {
            return promise;
        }
        if (force) {
            promise = this.createCheckpoint().then( /* no-op */);
        }
        else {
            promise = this.listCheckpoints().then(checkpoints => {
                writable = this._contentsModel && this._contentsModel.writable;
                if (!this.isDisposed && !checkpoints.length && writable) {
                    return this.createCheckpoint().then( /* no-op */);
                }
            });
        }
        return promise.catch(err => {
            // Handle a read-only folder.
            if (!err.response || err.response.status !== 403) {
                throw err;
            }
        });
    }
    /**
     * Handle a time conflict.
     */
    _timeConflict(tClient, model, options) {
        let tDisk = new Date(model.last_modified);
        console.warn(`Last saving performed ${tClient} ` +
            `while the current file seems to have been saved ` +
            `${tDisk}`);
        let body = `"${this.path}" has changed on disk since the last time it ` +
            `was opened or saved. ` +
            `Do you want to overwrite the file on disk with the version ` +
            ` open here, or load the version on disk (revert)?`;
        let revertBtn = _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["Dialog"].okButton({ label: 'Revert' });
        let overwriteBtn = _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["Dialog"].warnButton({ label: 'Overwrite' });
        return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["showDialog"])({
            title: 'File Changed',
            body,
            buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["Dialog"].cancelButton(), revertBtn, overwriteBtn]
        }).then(result => {
            if (this.isDisposed) {
                return Promise.reject(new Error('Disposed'));
            }
            if (result.button.label === 'Overwrite') {
                return this._manager.contents.save(this._path, options);
            }
            if (result.button.label === 'Revert') {
                return this.revert().then(() => {
                    return model;
                });
            }
            return Promise.reject(new Error('Cancel')); // Otherwise cancel the save.
        });
    }
    /**
     * Handle a time conflict.
     */
    _maybeOverWrite(path) {
        let body = `"${path}" already exists. Do you want to replace it?`;
        let overwriteBtn = _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["Dialog"].warnButton({ label: 'Overwrite' });
        return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["showDialog"])({
            title: 'File Overwrite?',
            body,
            buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["Dialog"].cancelButton(), overwriteBtn]
        }).then(result => {
            if (this.isDisposed) {
                return Promise.reject(new Error('Disposed'));
            }
            if (result.button.label === 'Overwrite') {
                return this._manager.contents.delete(path).then(() => {
                    return this._finishSaveAs(path);
                });
            }
        });
    }
    /**
     * Finish a saveAs operation given a new path.
     */
    async _finishSaveAs(newPath) {
        var _a;
        this._path = newPath;
        return (_a = this.sessionContext.session) === null || _a === void 0 ? void 0 : _a.setPath(newPath).then(() => {
            var _a;
            void ((_a = this.sessionContext.session) === null || _a === void 0 ? void 0 : _a.setName(newPath.split('/').pop()));
            return this.save();
        }).then(() => {
            this._pathChanged.emit(this._path);
            return this._maybeCheckpoint(true);
        });
    }
}
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * Get a new file path from the user.
     */
    function getSavePath(path) {
        let saveBtn = _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["Dialog"].okButton({ label: 'Save' });
        return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["showDialog"])({
            title: 'Save File As..',
            body: new SaveWidget(path),
            buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__["Dialog"].cancelButton(), saveBtn]
        }).then(result => {
            var _a;
            if (result.button.label === 'Save') {
                return _a = result.value, (_a !== null && _a !== void 0 ? _a : undefined);
            }
            return;
        });
    }
    Private.getSavePath = getSavePath;
    /**
     * A no-op function.
     */
    function noOp() {
        /* no-op */
    }
    Private.noOp = noOp;
    /*
     * A widget that gets a file path from a user.
     */
    class SaveWidget extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_4__["Widget"] {
        /**
         * Construct a new save widget.
         */
        constructor(path) {
            super({ node: createSaveNode(path) });
        }
        /**
         * Get the value for the widget.
         */
        getValue() {
            return this.node.value;
        }
    }
    /**
     * Create the node for a save widget.
     */
    function createSaveNode(path) {
        let input = document.createElement('input');
        input.value = path;
        return input;
    }
})(Private || (Private = {}));
//# sourceMappingURL=context.js.map

/***/ }),

/***/ "461y":
/*!********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/index.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
// Namespace some of our modules for convenience and backwards compatibility.
const Kernel = __importStar(__webpack_require__(/*! ./kernel */ "0Eet"));
exports.Kernel = Kernel;
const KernelMessage = __importStar(__webpack_require__(/*! ./messages */ "s/ac"));
exports.KernelMessage = KernelMessage;
const KernelAPI = __importStar(__webpack_require__(/*! ./restapi */ "o1Bc"));
exports.KernelAPI = KernelAPI;
__export(__webpack_require__(/*! ./manager */ "KCLv"));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "4HTl":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/python.svg ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cg class='jp-icon-brand0 jp-icon-selectable' fill='%230D47A1' %3E %3Cpath d='M11.1,6.9c0-0.2,0-1.1,0-1.1c-1.4,0-3.5,0-4.2,0c0-0.5,0-1.3,0.2-1.6c0.4-0.7,0.8-1.1,1.7-1.4 c1.7-0.3,2.5-0.3,3.9-0.1c1,0.1,1.9,0.9,1.9,1.9c0,1.1,0,3,0,4.2c0,0.5-0.9,1.6-2,1.6s-2.5,0-3.8,0c-1.5,0-2.4,1.4-2.4,2.8 c0,0.4,0,2.2,0,2.2c-0.5,0-1.2,0-1.7,0C3.5,15.1,3,14,3,13.1c0-1.3,0-2.7,0-4.1C2.9,8,3.6,7,4.8,7C6.3,6.9,11.1,6.9,11.1,6.9z'/%3E %3Cpath d='M10.9,15.1c0,0.2,0,1.1,0,1.1c1.4,0,3.5,0,4.2,0c0,0.5,0,1.3-0.2,1.6c-0.4,0.7-0.8,1.1-1.7,1.4 c-1.7,0.3-2.5,0.3-3.9,0.1c-1-0.1-1.9-0.9-1.9-1.9c0-1.1,0-3,0-4.2c0-0.5,0.9-1.6,2-1.6s2.5,0,3.8,0c1.5,0,2.4-1.4,2.4-2.8 c0-0.4,0-2.2,0-2.2c0.5,0,1.2,0,1.7,0C18.5,6.9,19,8,19,8.9c0,1.3,0,2.7,0,4.1c0,1-0.7,2.1-1.9,2.1 C15.7,15.1,10.9,15.1,10.9,15.1z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "4HTlA":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/python.svg ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<g\n\t\tclass=\"jp-icon-brand0 jp-icon-selectable\"\n\t\tfill=\"#0D47A1\"\n\t>\n\t\t<path d=\"M11.1,6.9c0-0.2,0-1.1,0-1.1c-1.4,0-3.5,0-4.2,0c0-0.5,0-1.3,0.2-1.6c0.4-0.7,0.8-1.1,1.7-1.4 c1.7-0.3,2.5-0.3,3.9-0.1c1,0.1,1.9,0.9,1.9,1.9c0,1.1,0,3,0,4.2c0,0.5-0.9,1.6-2,1.6s-2.5,0-3.8,0c-1.5,0-2.4,1.4-2.4,2.8 c0,0.4,0,2.2,0,2.2c-0.5,0-1.2,0-1.7,0C3.5,15.1,3,14,3,13.1c0-1.3,0-2.7,0-4.1C2.9,8,3.6,7,4.8,7C6.3,6.9,11.1,6.9,11.1,6.9z\"/>\n\t\t<path d=\"M10.9,15.1c0,0.2,0,1.1,0,1.1c1.4,0,3.5,0,4.2,0c0,0.5,0,1.3-0.2,1.6c-0.4,0.7-0.8,1.1-1.7,1.4 c-1.7,0.3-2.5,0.3-3.9,0.1c-1-0.1-1.9-0.9-1.9-1.9c0-1.1,0-3,0-4.2c0-0.5,0.9-1.6,2-1.6s2.5,0,3.8,0c1.5,0,2.4-1.4,2.4-2.8 c0-0.4,0-2.2,0-2.2c0.5,0,1.2,0,1.7,0C18.5,6.9,19,8,19,8.9c0,1.3,0,2.7,0,4.1c0,1-0.7,2.1-1.9,2.1 C15.7,15.1,10.9,15.1,10.9,15.1z\"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "4LnR":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/image.svg ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Crect class='jp-icon-brand4 jp-icon-selectable-inverse' fill='%23FFFFFF' x='2.2' y='2.2' width='17.5' height='17.5' /%3E %3Cpath class='jp-icon-brand0 jp-icon-selectable' fill='%233F51B5' d='M2.2,2.2v17.5h17.5l0.1-17.5C19.8,2.2,2.2,2.2,2.2,2.2z M14.3,4.4c1.2,0,2.2,1,2.2,2.2s-1,2.2-2.2,2.2 s-2.2-1-2.2-2.2S13.1,4.4,14.3,4.4z M4.4,17.6l3.3-8.8l3.3,6.6l2.2-3.2l4.4,5.4H4.4z' /%3E %3C/svg%3E"

/***/ }),

/***/ "4LnRu":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/image.svg ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<rect\n\t\tclass=\"jp-icon-brand4 jp-icon-selectable-inverse\"\n\t\tfill=\"#FFFFFF\"\n\t\tx=\"2.2\" y=\"2.2\" width=\"17.5\" height=\"17.5\"\n\t/>\n\t<path\n\t\tclass=\"jp-icon-brand0 jp-icon-selectable\"\n\t\tfill=\"#3F51B5\"\n\t\td=\"M2.2,2.2v17.5h17.5l0.1-17.5C19.8,2.2,2.2,2.2,2.2,2.2z M14.3,4.4c1.2,0,2.2,1,2.2,2.2s-1,2.2-2.2,2.2 s-2.2-1-2.2-2.2S13.1,4.4,14.3,4.4z M4.4,17.6l3.3-8.8l3.3,6.6l2.2-3.2l4.4,5.4H4.4z\"\n\t/>\n</svg>\n");

/***/ }),

/***/ "4mEv":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/styling.js ***!
  \***************************************************************************************/
/*! exports provided: Styling */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Styling", function() { return Styling; });
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * A namespace for node styling.
 */
var Styling;
(function (Styling) {
    /**
     * Style a node and its child elements with the default tag names.
     *
     * @param node - The base node.
     *
     * @param className - The optional CSS class to add to styled nodes.
     */
    function styleNode(node, className = '') {
        styleNodeByTag(node, 'select', className);
        styleNodeByTag(node, 'textarea', className);
        styleNodeByTag(node, 'input', className);
        styleNodeByTag(node, 'button', className);
    }
    Styling.styleNode = styleNode;
    /**
     * Style a node and its elements that have a given tag name.
     *
     * @param node - The base node.
     *
     * @param tagName - The html tag name to style.
     *
     * @param className - The optional CSS class to add to styled nodes.
     */
    function styleNodeByTag(node, tagName, className = '') {
        if (node.localName === tagName) {
            node.classList.add('jp-mod-styled');
        }
        if (node.localName === 'select') {
            wrapSelect(node);
        }
        let nodes = node.getElementsByTagName(tagName);
        for (let i = 0; i < nodes.length; i++) {
            let child = nodes[i];
            child.classList.add('jp-mod-styled');
            if (className) {
                child.classList.add(className);
            }
            if (tagName === 'select') {
                wrapSelect(child);
            }
        }
    }
    Styling.styleNodeByTag = styleNodeByTag;
    /**
     * Wrap a select node.
     */
    function wrapSelect(node) {
        let wrapper = document.createElement('div');
        wrapper.classList.add('jp-select-wrapper');
        node.addEventListener('focus', Private.onFocus);
        node.addEventListener('blur', Private.onFocus);
        node.classList.add('jp-mod-styled');
        if (node.parentElement) {
            node.parentElement.replaceChild(wrapper, node);
        }
        wrapper.appendChild(node);
        // add the icon node
        wrapper.appendChild(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__["caretDownEmptyIcon"].element({
            tag: 'span',
            kind: 'select',
            right: '15px',
            top: '23px',
            width: '18px'
        }));
        return wrapper;
    }
    Styling.wrapSelect = wrapSelect;
})(Styling || (Styling = {}));
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * Handle a focus event on a styled select.
     */
    function onFocus(event) {
        let target = event.target;
        let parent = target.parentElement;
        if (!parent) {
            return;
        }
        if (event.type === 'focus') {
            parent.classList.add('jp-mod-focused');
        }
        else {
            parent.classList.remove('jp-mod-focused');
        }
    }
    Private.onFocus = onFocus;
})(Private || (Private = {}));
//# sourceMappingURL=styling.js.map

/***/ }),

/***/ "4vsW":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = node-fetch;

/***/ }),

/***/ 5:
/*!*********************************!*\
  !*** readable-stream (ignored) ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "5K4T":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/lab.js ***!
  \**************************************************************************************/
/*! exports provided: JupyterLab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JupyterLab", function() { return JupyterLab; });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/docregistry */ "HY8D");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _frontend__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./frontend */ "/spg");
/* harmony import */ var _mimerenderers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mimerenderers */ "g/SU");
/* harmony import */ var _shell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shell */ "z/Qb");
/* harmony import */ var _status__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./status */ "dHt+");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/**
 * JupyterLab is the main application class. It is instantiated once and shared.
 */
class JupyterLab extends _frontend__WEBPACK_IMPORTED_MODULE_3__["JupyterFrontEnd"] {
    /**
     * Construct a new JupyterLab object.
     */
    constructor(options = { shell: new _shell__WEBPACK_IMPORTED_MODULE_5__["LabShell"]() }) {
        super(Object.assign(Object.assign({}, options), { shell: options.shell || new _shell__WEBPACK_IMPORTED_MODULE_5__["LabShell"]() }));
        /**
         * The name of the JupyterLab application.
         */
        this.name = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('appName') || 'JupyterLab';
        /**
         * A namespace/prefix plugins may use to denote their provenance.
         */
        this.namespace = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('appNamespace') || this.name;
        /**
         * A list of all errors encountered when registering plugins.
         */
        this.registerPluginErrors = [];
        /**
         * The application busy and dirty status signals and flags.
         */
        this.status = new _status__WEBPACK_IMPORTED_MODULE_6__["LabStatus"](this);
        /**
         * The version of the JupyterLab application.
         */
        this.version = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('appVersion') || 'unknown';
        this.restored = this.shell.restored
            .then(() => undefined)
            .catch(() => undefined);
        // Create an IInfo dictionary from the options to override the defaults.
        const info = Object.keys(JupyterLab.defaultInfo).reduce((acc, val) => {
            if (val in options) {
                acc[val] = JSON.parse(JSON.stringify(options[val]));
            }
            return acc;
        }, {});
        // Populate application info.
        this._info = Object.assign(Object.assign({}, JupyterLab.defaultInfo), info);
        // Populate application paths override the defaults if necessary.
        const defaultURLs = JupyterLab.defaultPaths.urls;
        const defaultDirs = JupyterLab.defaultPaths.directories;
        const optionURLs = (options.paths && options.paths.urls) || {};
        const optionDirs = (options.paths && options.paths.directories) || {};
        this._paths = {
            urls: Object.keys(defaultURLs).reduce((acc, key) => {
                if (key in optionURLs) {
                    const value = optionURLs[key];
                    acc[key] = value;
                }
                else {
                    acc[key] = defaultURLs[key];
                }
                return acc;
            }, {}),
            directories: Object.keys(JupyterLab.defaultPaths.directories).reduce((acc, key) => {
                if (key in optionDirs) {
                    const value = optionDirs[key];
                    acc[key] = value;
                }
                else {
                    acc[key] = defaultDirs[key];
                }
                return acc;
            }, {})
        };
        if (this._info.devMode) {
            this.shell.addClass('jp-mod-devMode');
        }
        // Add initial model factory.
        this.docRegistry.addModelFactory(new _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_1__["Base64ModelFactory"]());
        if (options.mimeExtensions) {
            for (let plugin of Object(_mimerenderers__WEBPACK_IMPORTED_MODULE_4__["createRendermimePlugins"])(options.mimeExtensions)) {
                this.registerPlugin(plugin);
            }
        }
    }
    /**
     * The JupyterLab application information dictionary.
     */
    get info() {
        return this._info;
    }
    /**
     * The JupyterLab application paths dictionary.
     */
    get paths() {
        return this._paths;
    }
    /**
     * Register plugins from a plugin module.
     *
     * @param mod - The plugin module to register.
     */
    registerPluginModule(mod) {
        let data = mod.default;
        // Handle commonjs exports.
        if (!mod.hasOwnProperty('__esModule')) {
            data = mod;
        }
        if (!Array.isArray(data)) {
            data = [data];
        }
        data.forEach(item => {
            try {
                this.registerPlugin(item);
            }
            catch (error) {
                this.registerPluginErrors.push(error);
            }
        });
    }
    /**
     * Register the plugins from multiple plugin modules.
     *
     * @param mods - The plugin modules to register.
     */
    registerPluginModules(mods) {
        mods.forEach(mod => {
            this.registerPluginModule(mod);
        });
    }
}
/**
 * The namespace for `JupyterLab` class statics.
 */
(function (JupyterLab) {
    /* tslint:disable */
    /**
     * The layout restorer token.
     */
    JupyterLab.IInfo = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__["Token"]('@jupyterlab/application:IInfo');
    /**
     * The default JupyterLab application info.
     */
    JupyterLab.defaultInfo = {
        devMode: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('devMode').toLowerCase() === 'true',
        deferred: { patterns: [], matches: [] },
        disabled: { patterns: [], matches: [] },
        mimeExtensions: [],
        filesCached: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('cacheFiles').toLowerCase() === 'true'
    };
    /**
     * The default JupyterLab application paths.
     */
    JupyterLab.defaultPaths = {
        urls: {
            base: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('baseUrl'),
            notFound: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('notFoundUrl'),
            app: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('appUrl'),
            static: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('staticUrl'),
            settings: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('settingsUrl'),
            themes: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('themesUrl'),
            tree: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('treeUrl'),
            workspaces: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('workspacesUrl'),
            hubHost: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('hubHost') || undefined,
            hubPrefix: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('hubPrefix') || undefined,
            hubUser: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('hubUser') || undefined,
            hubServerName: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('hubServerName') || undefined
        },
        directories: {
            appSettings: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('appSettingsDir'),
            schemas: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('schemasDir'),
            static: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('staticDir'),
            templates: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('templatesDir'),
            themes: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('themesDir'),
            userSettings: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('userSettingsDir'),
            serverRoot: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('serverRoot'),
            workspaces: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('workspacesDir')
        }
    };
})(JupyterLab || (JupyterLab = {}));
//# sourceMappingURL=lab.js.map

/***/ }),

/***/ "5Nvm":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/style/icon.js ***!
  \***********************************************************************************************/
/*! exports provided: iconStyle, iconStyleFlat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iconStyle", function() { return iconStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iconStyleFlat", function() { return iconStyleFlat; });
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

/**
 * icon kind specific styles
 */
const iconCSSBreadCrumb = {
    borderRadius: 'var(--jp-border-radius)',
    cursor: 'pointer',
    margin: '0px 2px',
    padding: '0px 2px',
    height: '16px',
    width: '16px',
    verticalAlign: 'middle'
};
const iconCSSLauncherCard = {
    height: '52px',
    width: '52px'
};
const iconCSSLauncherSection = {
    height: '32px',
    width: '32px'
};
const iconCSSListing = {
    height: '16px',
    width: '16px'
};
const iconCSSlistingHeaderItem = {
    height: 'auto',
    margin: '-2px 0 0 0',
    width: '20px'
};
const iconCSSMainAreaTab = {
    $nest: {
        '.lm-DockPanel-tabBar &': {
            height: '14px',
            width: '14px'
        },
        '#tab-manager &': {
            height: '16px',
            width: '16px'
        }
    }
};
const iconCSSRunningItem = {
    height: '16px',
    width: '16px'
};
const iconCSSSelect = {
    position: 'absolute',
    height: 'auto',
    width: '16px'
};
const iconCSSSettingsEditor = {
    height: '16px',
    width: '16px'
};
const iconCSSSideBar = {
    width: '20px'
};
const iconCSSSplash = {
    width: '100px'
};
const iconCSSStatusBar = {
    left: '0px',
    top: '0px',
    height: '18px',
    width: '20px',
    position: 'relative'
};
const iconCSSToolbarButton = {
    height: '16px',
    width: '16px'
};
const iconCSSKind = {
    breadCrumb: iconCSSBreadCrumb,
    launcherCard: iconCSSLauncherCard,
    launcherSection: iconCSSLauncherSection,
    listing: iconCSSListing,
    listingHeaderItem: iconCSSlistingHeaderItem,
    mainAreaTab: iconCSSMainAreaTab,
    runningItem: iconCSSRunningItem,
    select: iconCSSSelect,
    settingsEditor: iconCSSSettingsEditor,
    sideBar: iconCSSSideBar,
    splash: iconCSSSplash,
    statusBar: iconCSSStatusBar,
    toolbarButton: iconCSSToolbarButton
};
const containerCSSBreadCrumb = {
    // `&` will be substituted for the generated classname (interpolation)
    $nest: {
        '&:first-child svg': {
            bottom: '1px',
            marginLeft: '0px',
            position: 'relative'
        },
        '&:hover': {
            backgroundColor: 'var(--jp-layout-color2)'
        },
        ['.jp-mod-dropTarget&']: {
            backgroundColor: 'var(--jp-brand-color2)',
            opacity: 0.7
        }
    }
};
const containerCSSLauncherCard = {
    height: '68px'
};
const containerCSSLauncherSection = {
    boxSizing: 'border-box',
    marginRight: '12px'
};
const containerCSSListing = {
    flex: '0 0 20px',
    marginRight: '4px',
    position: 'relative'
};
const containerCSSListingHeaderItem = {
    display: 'inline',
    height: '16px',
    width: '16px'
};
/**
 * container kind specific styles
 */
const containerCSSMainAreaTab = {
    $nest: {
        '.lm-DockPanel-tabBar &': {
            marginRight: '4px'
        },
        '#tab-manager &': {
            marginRight: '2px',
            position: 'relative'
        }
    }
};
const containerCSSRunningItem = {
    margin: '0px 4px 0px 12px'
};
const containerCSSSelect = {
    pointerEvents: 'none'
};
const containerCSSSettingsEditor = {
    display: 'inline-block',
    flex: '0 0 20px',
    marginLeft: '2px',
    marginRight: '1px',
    position: 'relative',
    height: '20px',
    width: '20px'
};
const containerCSSSideBar = {
    // `&` will be substituted for the generated classname (interpolation)
    $nest: {
        // left sidebar tab divs
        '.jp-SideBar.jp-mod-left .lm-TabBar-tab &': {
            transform: 'rotate(90deg)'
        },
        // left sidebar currently selected tab div
        '.jp-SideBar.jp-mod-left .lm-TabBar-tab.lm-mod-current &': {
            transform: 'rotate(90deg)\n' +
                '    translate(\n' +
                '      calc(-0.5 * var(--jp-border-width)),\n' +
                '      calc(-0.5 * var(--jp-border-width))\n' +
                '    )'
        },
        // right sidebar tab divs
        '.jp-SideBar.jp-mod-right .lm-TabBar-tab &': {
            transform: 'rotate(-90deg)'
        },
        // right sidebar currently selected tab div
        '.jp-SideBar.jp-mod-right .lm-TabBar-tab.lm-mod-current &': {
            transform: 'rotate(-90deg)\n' +
                '    translate(\n' +
                '      calc(0.5 * var(--jp-border-width)),\n' +
                '      calc(-0.5 * var(--jp-border-width))\n' +
                '    )'
        }
    }
};
const containerCSSSplash = {
    animation: '0.3s fade-in linear forwards',
    height: '100%',
    width: '100%',
    zIndex: 1
};
const containerCSSToolbarButton = {
    display: 'inline-block',
    margin: 'auto',
    verticalAlign: 'middle'
};
const containerCSSKind = {
    breadCrumb: containerCSSBreadCrumb,
    launcherCard: containerCSSLauncherCard,
    launcherSection: containerCSSLauncherSection,
    listing: containerCSSListing,
    listingHeaderItem: containerCSSListingHeaderItem,
    mainAreaTab: containerCSSMainAreaTab,
    runningItem: containerCSSRunningItem,
    select: containerCSSSelect,
    settingsEditor: containerCSSSettingsEditor,
    sideBar: containerCSSSideBar,
    splash: containerCSSSplash,
    statusBar: {},
    toolbarButton: containerCSSToolbarButton
};
/**
 * styles for justifying a node inside of a container
 */
const iconCSSCenter = {
    display: 'block',
    margin: '0 auto',
    width: '100%'
};
const iconCSSLeft = {
    display: 'block',
    margin: '0 auto 0 0'
};
const iconCSSRight = {
    display: 'block',
    margin: '0 0 0 auto'
};
const iconCSSJustify = {
    center: iconCSSCenter,
    left: iconCSSLeft,
    right: iconCSSRight
};
const containerCSSCenter = {
    alignItems: 'center',
    display: 'flex'
};
const containerCSSLeft = {
    alignItems: 'center',
    display: 'flex'
};
const containerCSSRight = {
    alignItems: 'center',
    display: 'flex'
};
const containerCSSJustify = {
    center: containerCSSCenter,
    left: containerCSSLeft,
    right: containerCSSRight
};
/**
 * for putting together the icon kind style with any user input styling,
 * as well as styling from optional flags like `center`
 */
function iconCSS(props) {
    const { kind, justify } = props, propsCSS = __rest(props, ["kind", "justify"]);
    return Object.assign(Object.assign(Object.assign({}, (justify ? iconCSSJustify[justify] : {})), (kind ? iconCSSKind[kind] : {})), propsCSS);
}
/**
 * for putting together the container kind style with any
 * styling from optional flags like `center`
 */
function containerCSS(props) {
    const { kind, justify } = props;
    return Object.assign(Object.assign({}, (justify ? containerCSSJustify[justify] : {})), (kind ? containerCSSKind[kind] : {}));
}
/**
 * for setting the style on the container of an svg node representing an icon
 */
const iconStyle = (props) => {
    if (!props || Object.keys(props).length === 0) {
        // props is empty
        return '';
    }
    const conCSS = containerCSS(props);
    return Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])(Object.assign(Object.assign({}, conCSS), { $nest: Object.assign(Object.assign({}, conCSS.$nest), { ['svg']: iconCSS(props) }) }));
};
/**
 * for setting the style directly on the svg node representing an icon
 */
const iconStyleFlat = (props) => {
    if (!props || Object.keys(props).length === 0) {
        return '';
    }
    return Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])(iconCSS(props));
};
//# sourceMappingURL=icon.js.map

/***/ }),

/***/ "5OfG":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/printing.js ***!
  \****************************************************************************************/
/*! exports provided: Printing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Printing", function() { return Printing; });
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/services */ "YdKB");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_0__);
/**
 * Any object is "printable" if it implements the `IPrintable` interface.
 *
 * To do this it, it must have a method called `Printing.symbol` which returns either a function
 * to print the object or null if it cannot be printed.
 *
 * One way of printing is to use the `printWidget` function, which creates a hidden iframe
 * and copies the DOM nodes from your widget to that iframe and printing just that iframe.
 *
 * Another way to print is to use the `printURL` function, which takes a URL and prints that page.
 */

var Printing;
(function (Printing) {
    /**
     * Symbol to use for a method that returns a function to print an object.
     */
    Printing.symbol = Symbol('printable');
    /**
     * Returns whether an object implements a print method.
     */
    function isPrintable(a) {
        if (typeof a !== 'object' || !a) {
            return false;
        }
        return Printing.symbol in a;
    }
    Printing.isPrintable = isPrintable;
    /**
     * Returns the print function for an object, or null if it does not provide a handler.
     */
    function getPrintFunction(val) {
        if (isPrintable(val)) {
            return val[Printing.symbol]();
        }
        return null;
    }
    Printing.getPrintFunction = getPrintFunction;
    /**
     * Prints a widget by copying it's DOM node
     * to a hidden iframe and printing that iframe.
     */
    function printWidget(widget) {
        return printContent(widget.node);
    }
    Printing.printWidget = printWidget;
    const settings = _jupyterlab_services__WEBPACK_IMPORTED_MODULE_0__["ServerConnection"].makeSettings();
    /**
     * Prints a URL by loading it into an iframe.
     *
     * @param url URL to load into an iframe.
     */
    async function printURL(url) {
        const text = await (await _jupyterlab_services__WEBPACK_IMPORTED_MODULE_0__["ServerConnection"].makeRequest(url, {}, settings)).text();
        return printContent(text);
    }
    Printing.printURL = printURL;
    /**
     * Prints a URL or an element in an iframe and then removes the iframe after printing.
     */
    async function printContent(textOrEl) {
        const isText = typeof textOrEl === 'string';
        const iframe = createIFrame();
        const parent = window.document.body;
        parent.appendChild(iframe);
        if (isText) {
            iframe.srcdoc = textOrEl;
            await resolveWhenLoaded(iframe);
        }
        else {
            iframe.src = 'about:blank';
            await resolveWhenLoaded(iframe);
            setIFrameNode(iframe, textOrEl);
        }
        const printed = resolveAfterEvent();
        launchPrint(iframe.contentWindow);
        // Once the print dialog has been dismissed, we regain event handling,
        // and it should be safe to discard the hidden iframe.
        await printed;
        parent.removeChild(iframe);
    }
    /**
     * Creates a new hidden iframe and appends it to the document
     *
     * Modified from
     * https://github.com/joseluisq/printd/blob/eb7948d602583c055ab6dee3ee294b6a421da4b6/src/index.ts#L24
     */
    function createIFrame() {
        const el = window.document.createElement('iframe');
        // We need both allow-modals and allow-same-origin to be able to
        // call print in the iframe.
        // We intentionally do not allow scripts:
        // https://github.com/jupyterlab/jupyterlab/pull/5850#pullrequestreview-230899790
        el.setAttribute('sandbox', 'allow-modals allow-same-origin');
        const css = 'visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;';
        el.setAttribute('style', css);
        el.setAttribute('width', '0');
        el.setAttribute('height', '0');
        return el;
    }
    /**
     * Copies a node from the base document to the iframe.
     */
    function setIFrameNode(iframe, node) {
        iframe.contentDocument.body.appendChild(node.cloneNode(true));
        iframe.contentDocument.close();
    }
    /**
     * Promise that resolves when all resources are loaded in the window.
     */
    function resolveWhenLoaded(iframe) {
        return new Promise(resolve => {
            iframe.onload = () => resolve();
        });
    }
    /**
     * A promise that resolves after the next mousedown, mousemove, or
     * keydown event. We use this as a proxy for determining when the
     * main window has regained control after the print dialog is removed.
     *
     * We can't use the usual window.onafterprint handler because we
     * disallow Javascript execution in the print iframe.
     */
    function resolveAfterEvent() {
        return new Promise(resolve => {
            const onEvent = () => {
                document.removeEventListener('mousemove', onEvent, true);
                document.removeEventListener('mousedown', onEvent, true);
                document.removeEventListener('keydown', onEvent, true);
                resolve();
            };
            document.addEventListener('mousemove', onEvent, true);
            document.addEventListener('mousedown', onEvent, true);
            document.addEventListener('keydown', onEvent, true);
        });
    }
    /**
     * Prints a content window.
     */
    function launchPrint(contentWindow) {
        const result = contentWindow.document.execCommand('print', false);
        // execCommand won't work in firefox so we call the `print` method instead if it fails
        // https://github.com/joseluisq/printd/blob/eb7948d602583c055ab6dee3ee294b6a421da4b6/src/index.ts#L148
        if (!result) {
            contentWindow.print();
        }
    }
})(Printing || (Printing = {}));
//# sourceMappingURL=printing.js.map

/***/ }),

/***/ "5eAW":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/running.svg ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "5eAW+":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/running.svg ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "5okx":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/run.svg ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg height='18' viewBox='0 0 24 24' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M8 5v14l11-7z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "5okxD":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/run.svg ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g class=\"jp-icon3\" fill=\"#616161\">\n        <path d=\"M8 5v14l11-7z\"/>\n    </g>\n</svg>\n");

/***/ }),

/***/ "5xsQ":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/react.svg ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_2_1_' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='150 150 541.9 295.3' enable-background='new 0 0 841.9 595.3' xml:space='preserve'%3E %3Cg class='jp-icon-brand2 jp-icon-selectable' fill='%2361DAFB' %3E %3Cpath d='M666.3,296.5c0-32.5-40.7-63.3-103.1-82.4c14.4-63.6,8-114.2-20.2-130.4c-6.5-3.8-14.1-5.6-22.4-5.6v22.3 c4.6,0,8.3,0.9,11.4,2.6c13.6,7.8,19.5,37.5,14.9,75.7c-1.1,9.4-2.9,19.3-5.1,29.4c-19.6-4.8-41-8.5-63.5-10.9 c-13.5-18.5-27.5-35.3-41.6-50c32.6-30.3,63.2-46.9,84-46.9l0-22.3c0,0,0,0,0,0c-27.5,0-63.5,19.6-99.9,53.6 c-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7,0,51.4,16.5,84,46.6c-14,14.7-28,31.4-41.3,49.9c-22.6,2.4-44,6.1-63.6,11 c-2.3-10-4-19.7-5.2-29c-4.7-38.2,1.1-67.9,14.6-75.8c3-1.8,6.9-2.6,11.5-2.6l0-22.3c0,0,0,0,0,0c-8.4,0-16,1.8-22.6,5.6 c-28.1,16.2-34.4,66.7-19.9,130.1c-62.2,19.2-102.7,49.9-102.7,82.3c0,32.5,40.7,63.3,103.1,82.4c-14.4,63.6-8,114.2,20.2,130.4 c6.5,3.8,14.1,5.6,22.5,5.6c27.5,0,63.5-19.6,99.9-53.6c36.4,33.8,72.4,53.2,99.9,53.2c8.4,0,16-1.8,22.6-5.6 c28.1-16.2,34.4-66.7,19.9-130.1C625.8,359.7,666.3,328.9,666.3,296.5z M536.1,229.8c-3.7,12.9-8.3,26.2-13.5,39.5 c-4.1-8-8.4-16-13.1-24c-4.6-8-9.5-15.8-14.4-23.4C509.3,224,523,226.6,536.1,229.8z M490.3,336.3c-7.8,13.5-15.8,26.3-24.1,38.2 c-14.9,1.3-30,2-45.2,2c-15.1,0-30.2-0.7-45-1.9c-8.3-11.9-16.4-24.6-24.2-38c-7.6-13.1-14.5-26.4-20.8-39.8 c6.2-13.4,13.2-26.8,20.7-39.9c7.8-13.5,15.8-26.3,24.1-38.2c14.9-1.3,30-2,45.2-2c15.1,0,30.2,0.7,45,1.9 c8.3,11.9,16.4,24.6,24.2,38c7.6,13.1,14.5,26.4,20.8,39.8C504.7,309.8,497.8,323.2,490.3,336.3z M522.6,323.3 c5.4,13.4,10,26.8,13.8,39.8c-13.1,3.2-26.9,5.9-41.2,8c4.9-7.7,9.8-15.6,14.4-23.7C514.2,339.4,518.5,331.3,522.6,323.3z M421.2,430c-9.3-9.6-18.6-20.3-27.8-32c9,0.4,18.2,0.7,27.5,0.7c9.4,0,18.7-0.2,27.8-0.7C439.7,409.7,430.4,420.4,421.2,430z M346.8,371.1c-14.2-2.1-27.9-4.7-41-7.9c3.7-12.9,8.3-26.2,13.5-39.5c4.1,8,8.4,16,13.1,24C337.1,355.7,341.9,363.5,346.8,371.1z M420.7,163c9.3,9.6,18.6,20.3,27.8,32c-9-0.4-18.2-0.7-27.5-0.7c-9.4,0-18.7,0.2-27.8,0.7C402.2,183.3,411.5,172.6,420.7,163z M346.7,221.9c-4.9,7.7-9.8,15.6-14.4,23.7c-4.6,8-8.9,16-13,24c-5.4-13.4-10-26.8-13.8-39.8C318.6,226.7,332.4,224,346.7,221.9z M256.2,347.1c-35.4-15.1-58.3-34.9-58.3-50.6c0-15.7,22.9-35.6,58.3-50.6c8.6-3.7,18-7,27.7-10.1c5.7,19.6,13.2,40,22.5,60.9 c-9.2,20.8-16.6,41.1-22.2,60.6C274.3,354.2,264.9,350.8,256.2,347.1z M310,490c-13.6-7.8-19.5-37.5-14.9-75.7 c1.1-9.4,2.9-19.3,5.1-29.4c19.6,4.8,41,8.5,63.5,10.9c13.5,18.5,27.5,35.3,41.6,50c-32.6,30.3-63.2,46.9-84,46.9 C316.8,492.6,313,491.7,310,490z M547.2,413.8c4.7,38.2-1.1,67.9-14.6,75.8c-3,1.8-6.9,2.6-11.5,2.6c-20.7,0-51.4-16.5-84-46.6 c14-14.7,28-31.4,41.3-49.9c22.6-2.4,44-6.1,63.6-11C544.3,394.8,546.1,404.5,547.2,413.8z M585.7,347.1c-8.6,3.7-18,7-27.7,10.1 c-5.7-19.6-13.2-40-22.5-60.9c9.2-20.8,16.6-41.1,22.2-60.6c9.9,3.1,19.3,6.5,28.1,10.2c35.4,15.1,58.3,34.9,58.3,50.6 C644,312.2,621.1,332.1,585.7,347.1z'/%3E %3Cpolygon points='320.8,78.4 320.8,78.4 320.8,78.4'/%3E %3Ccircle cx='420.9' cy='296.5' r='45.7'/%3E %3Cpolygon points='520.5,78.1 520.5,78.1 520.5,78.1'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "5xsQc":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/react.svg ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_2_1_\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"150 150 541.9 295.3\" enable-background=\"new 0 0 841.9 595.3\" xml:space=\"preserve\">\r\n\t<g\r\n\t\tclass=\"jp-icon-brand2 jp-icon-selectable\"\r\n\t\tfill=\"#61DAFB\"\r\n\t>\r\n\t\t<path d=\"M666.3,296.5c0-32.5-40.7-63.3-103.1-82.4c14.4-63.6,8-114.2-20.2-130.4c-6.5-3.8-14.1-5.6-22.4-5.6v22.3 c4.6,0,8.3,0.9,11.4,2.6c13.6,7.8,19.5,37.5,14.9,75.7c-1.1,9.4-2.9,19.3-5.1,29.4c-19.6-4.8-41-8.5-63.5-10.9 c-13.5-18.5-27.5-35.3-41.6-50c32.6-30.3,63.2-46.9,84-46.9l0-22.3c0,0,0,0,0,0c-27.5,0-63.5,19.6-99.9,53.6 c-36.4-33.8-72.4-53.2-99.9-53.2v22.3c20.7,0,51.4,16.5,84,46.6c-14,14.7-28,31.4-41.3,49.9c-22.6,2.4-44,6.1-63.6,11 c-2.3-10-4-19.7-5.2-29c-4.7-38.2,1.1-67.9,14.6-75.8c3-1.8,6.9-2.6,11.5-2.6l0-22.3c0,0,0,0,0,0c-8.4,0-16,1.8-22.6,5.6 c-28.1,16.2-34.4,66.7-19.9,130.1c-62.2,19.2-102.7,49.9-102.7,82.3c0,32.5,40.7,63.3,103.1,82.4c-14.4,63.6-8,114.2,20.2,130.4 c6.5,3.8,14.1,5.6,22.5,5.6c27.5,0,63.5-19.6,99.9-53.6c36.4,33.8,72.4,53.2,99.9,53.2c8.4,0,16-1.8,22.6-5.6 c28.1-16.2,34.4-66.7,19.9-130.1C625.8,359.7,666.3,328.9,666.3,296.5z M536.1,229.8c-3.7,12.9-8.3,26.2-13.5,39.5 c-4.1-8-8.4-16-13.1-24c-4.6-8-9.5-15.8-14.4-23.4C509.3,224,523,226.6,536.1,229.8z M490.3,336.3c-7.8,13.5-15.8,26.3-24.1,38.2 c-14.9,1.3-30,2-45.2,2c-15.1,0-30.2-0.7-45-1.9c-8.3-11.9-16.4-24.6-24.2-38c-7.6-13.1-14.5-26.4-20.8-39.8 c6.2-13.4,13.2-26.8,20.7-39.9c7.8-13.5,15.8-26.3,24.1-38.2c14.9-1.3,30-2,45.2-2c15.1,0,30.2,0.7,45,1.9 c8.3,11.9,16.4,24.6,24.2,38c7.6,13.1,14.5,26.4,20.8,39.8C504.7,309.8,497.8,323.2,490.3,336.3z M522.6,323.3 c5.4,13.4,10,26.8,13.8,39.8c-13.1,3.2-26.9,5.9-41.2,8c4.9-7.7,9.8-15.6,14.4-23.7C514.2,339.4,518.5,331.3,522.6,323.3z  M421.2,430c-9.3-9.6-18.6-20.3-27.8-32c9,0.4,18.2,0.7,27.5,0.7c9.4,0,18.7-0.2,27.8-0.7C439.7,409.7,430.4,420.4,421.2,430z  M346.8,371.1c-14.2-2.1-27.9-4.7-41-7.9c3.7-12.9,8.3-26.2,13.5-39.5c4.1,8,8.4,16,13.1,24C337.1,355.7,341.9,363.5,346.8,371.1z  M420.7,163c9.3,9.6,18.6,20.3,27.8,32c-9-0.4-18.2-0.7-27.5-0.7c-9.4,0-18.7,0.2-27.8,0.7C402.2,183.3,411.5,172.6,420.7,163z  M346.7,221.9c-4.9,7.7-9.8,15.6-14.4,23.7c-4.6,8-8.9,16-13,24c-5.4-13.4-10-26.8-13.8-39.8C318.6,226.7,332.4,224,346.7,221.9z  M256.2,347.1c-35.4-15.1-58.3-34.9-58.3-50.6c0-15.7,22.9-35.6,58.3-50.6c8.6-3.7,18-7,27.7-10.1c5.7,19.6,13.2,40,22.5,60.9 c-9.2,20.8-16.6,41.1-22.2,60.6C274.3,354.2,264.9,350.8,256.2,347.1z M310,490c-13.6-7.8-19.5-37.5-14.9-75.7 c1.1-9.4,2.9-19.3,5.1-29.4c19.6,4.8,41,8.5,63.5,10.9c13.5,18.5,27.5,35.3,41.6,50c-32.6,30.3-63.2,46.9-84,46.9 C316.8,492.6,313,491.7,310,490z M547.2,413.8c4.7,38.2-1.1,67.9-14.6,75.8c-3,1.8-6.9,2.6-11.5,2.6c-20.7,0-51.4-16.5-84-46.6 c14-14.7,28-31.4,41.3-49.9c22.6-2.4,44-6.1,63.6-11C544.3,394.8,546.1,404.5,547.2,413.8z M585.7,347.1c-8.6,3.7-18,7-27.7,10.1 c-5.7-19.6-13.2-40-22.5-60.9c9.2-20.8,16.6-41.1,22.2-60.6c9.9,3.1,19.3,6.5,28.1,10.2c35.4,15.1,58.3,34.9,58.3,50.6 C644,312.2,621.1,332.1,585.7,347.1z\"/>\r\n\t\t<polygon points=\"320.8,78.4 320.8,78.4 320.8,78.4\"/>\r\n\t\t<circle cx=\"420.9\" cy=\"296.5\" r=\"45.7\"/>\r\n\t\t<polygon points=\"520.5,78.1 520.5,78.1 520.5,78.1\"/>\r\n\t</g>\r\n</svg>\r\n");

/***/ }),

/***/ 6:
/*!********************************!*\
  !*** supports-color (ignored) ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "6m1J":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codemirror/lib/mode.js ***!
  \**************************************************************************************/
/*! exports provided: Mode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Mode", function() { return Mode; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/codeeditor */ "JeIE");
/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! codemirror */ "FIRL");
/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var codemirror_mode_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! codemirror/mode/meta */ "OSmx");
/* harmony import */ var codemirror_mode_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_meta__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var codemirror_addon_runmode_runmode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! codemirror/addon/runmode/runmode */ "gEsR");
/* harmony import */ var codemirror_addon_runmode_runmode__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_runmode_runmode__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _codemirror_ipython__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./codemirror-ipython */ "QmbG");
/* harmony import */ var _codemirror_ipythongfm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./codemirror-ipythongfm */ "na4A");
/* harmony import */ var codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! codemirror/mode/javascript/javascript */ "anbX");
/* harmony import */ var codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_javascript_javascript__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var codemirror_mode_css_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! codemirror/mode/css/css */ "gYlp");
/* harmony import */ var codemirror_mode_css_css__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_css_css__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var codemirror_mode_julia_julia__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! codemirror/mode/julia/julia */ "pSpE");
/* harmony import */ var codemirror_mode_julia_julia__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_julia_julia__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var codemirror_mode_r_r__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! codemirror/mode/r/r */ "D7yS");
/* harmony import */ var codemirror_mode_r_r__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_r_r__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var codemirror_mode_markdown_markdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! codemirror/mode/markdown/markdown */ "UDB9");
/* harmony import */ var codemirror_mode_markdown_markdown__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_markdown_markdown__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var codemirror_mode_clike_clike__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! codemirror/mode/clike/clike */ "2pco");
/* harmony import */ var codemirror_mode_clike_clike__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_clike_clike__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var codemirror_mode_shell_shell__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! codemirror/mode/shell/shell */ "Xa8/");
/* harmony import */ var codemirror_mode_shell_shell__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_shell_shell__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var codemirror_mode_sql_sql__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! codemirror/mode/sql/sql */ "Ba24");
/* harmony import */ var codemirror_mode_sql_sql__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_sql_sql__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_15__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







// Bundle other common modes









/**
 * The namespace for CodeMirror Mode functionality.
 */
var Mode;
(function (Mode) {
    let specLoaders = [
        {
            // Simplest, cheapest check by mode name.
            loader: async (spec) => codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.modes.hasOwnProperty(spec.mode),
            rank: 0
        },
        {
            // Fetch the mode asynchronously.
            loader: function (spec) {
                return new Promise((resolve, reject) => {
                    // An arrow function below seems to miscompile in our current webpack to
                    // invalid js.
                    Promise.all(/*! AMD require */[__webpack_require__.e(2), __webpack_require__.e(5)]).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__("wi79")(`./${spec.mode}/${spec.mode}.js`)]; (function () {
                        resolve(true);
                    }).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);}).catch(__webpack_require__.oe);
                });
            },
            rank: 99
        }
    ];
    /**
     * Get the raw list of available modes specs.
     */
    function getModeInfo() {
        return codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.modeInfo;
    }
    Mode.getModeInfo = getModeInfo;
    /**
     * Running a CodeMirror mode outside of an editor.
     */
    function run(code, mode, el) {
        codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.runMode(code, mode, el);
    }
    Mode.run = run;
    /**
     * Ensure a codemirror mode is available by name or Codemirror spec.
     *
     * @param mode - The mode to ensure.  If it is a string, uses [findBest]
     *   to get the appropriate spec.
     *
     * @returns A promise that resolves when the mode is available.
     */
    async function ensure(mode) {
        let spec = findBest(mode);
        for (let specLoader of specLoaders) {
            if (await specLoader.loader(spec)) {
                return spec;
            }
        }
        return null;
    }
    Mode.ensure = ensure;
    function addSpecLoader(loader, rank) {
        let item = { loader, rank };
        let index = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].upperBound(specLoaders, item, Private.itemCmp);
        _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].insert(specLoaders, index, item);
    }
    Mode.addSpecLoader = addSpecLoader;
    /**
     * Find a codemirror mode by name or CodeMirror spec.
     */
    function findBest(mode) {
        var _a;
        let modename = typeof mode === 'string' ? mode : mode.mode || mode.name;
        let mimetype = typeof mode !== 'string' ? mode.mime : modename;
        let ext = typeof mode !== 'string' ? (_a = mode.ext, (_a !== null && _a !== void 0 ? _a : [])) : [];
        return (codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByName(modename || '') ||
            codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByMIME(mimetype || '') ||
            findByExtension(ext) ||
            codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByMIME(_jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_1__["IEditorMimeTypeService"].defaultMimeType) ||
            codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByMIME('text/plain'));
    }
    Mode.findBest = findBest;
    /**
     * Find a codemirror mode by MIME.
     */
    function findByMIME(mime) {
        return codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByMIME(mime);
    }
    Mode.findByMIME = findByMIME;
    /**
     * Find a codemirror mode by name.
     */
    function findByName(name) {
        return codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByName(name);
    }
    Mode.findByName = findByName;
    /**
     * Find a codemirror mode by filename.
     */
    function findByFileName(name) {
        let basename = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_15__["PathExt"].basename(name);
        return codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByFileName(basename);
    }
    Mode.findByFileName = findByFileName;
    /**
     * Find a codemirror mode by extension.
     */
    function findByExtension(ext) {
        if (typeof ext === 'string') {
            return codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByExtension(name);
        }
        for (let i = 0; i < ext.length; i++) {
            let mode = codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.findModeByExtension(ext[i]);
            if (mode) {
                return mode;
            }
        }
        return null;
    }
    Mode.findByExtension = findByExtension;
})(Mode || (Mode = {}));
var Private;
(function (Private) {
    /**
     * A less-than comparison function for the loader rank
     */
    function itemCmp(first, second) {
        return first.rank - second.rank;
    }
    Private.itemCmp = itemCmp;
})(Private || (Private = {}));
//# sourceMappingURL=mode.js.map

/***/ }),

/***/ 7:
/*!***********************!*\
  !*** chalk (ignored) ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "70x9":
/*!************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/vdom.js ***!
  \************************************************************************************/
/*! exports provided: ReactWidget, VDomRenderer, UseSignal, VDomModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReactWidget", function() { return ReactWidget; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VDomRenderer", function() { return VDomRenderer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UseSignal", function() { return UseSignal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VDomModel", function() { return VDomModel; });
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/messaging */ "so/j");
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_messaging__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ "Mr4W");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.





/**
 * An abstract class for a Phosphor widget which renders a React component.
 */
class ReactWidget extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Widget"] {
    /**
     * Creates a new `ReactWidget` that renders a constant element.
     * @param element React element to render.
     */
    static create(element) {
        return new (class extends ReactWidget {
            render() {
                return element;
            }
        })();
    }
    /**
     * Called to update the state of the widget.
     *
     * The default implementation of this method triggers
     * VDOM based rendering by calling the `renderDOM` method.
     */
    onUpdateRequest(msg) {
        this.renderPromise = this.renderDOM();
    }
    /**
     * Called after the widget is attached to the DOM
     */
    onAfterAttach(msg) {
        // Make *sure* the widget is rendered.
        _lumino_messaging__WEBPACK_IMPORTED_MODULE_0__["MessageLoop"].sendMessage(this, _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Widget"].Msg.UpdateRequest);
    }
    /**
     * Called before the widget is detached from the DOM.
     */
    onBeforeDetach(msg) {
        // Unmount the component so it can tear down.
        react_dom__WEBPACK_IMPORTED_MODULE_4__["unmountComponentAtNode"](this.node);
    }
    /**
     * Render the React nodes to the DOM.
     *
     * @returns a promise that resolves when the rendering is done.
     */
    renderDOM() {
        return new Promise(resolve => {
            let vnode = this.render();
            // Split up the array/element cases so type inference chooses the right
            // signature.
            if (Array.isArray(vnode)) {
                react_dom__WEBPACK_IMPORTED_MODULE_4__["render"](vnode, this.node, resolve);
            }
            else if (vnode) {
                react_dom__WEBPACK_IMPORTED_MODULE_4__["render"](vnode, this.node, resolve);
            }
        });
    }
}
/**
 * An abstract ReactWidget with a model.
 */
class VDomRenderer extends ReactWidget {
    /**
     * Create a new VDomRenderer
     */
    constructor(model) {
        super();
        this._modelChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this.model = ((model !== null && model !== void 0 ? model : null));
    }
    /**
     * A signal emitted when the model changes.
     */
    get modelChanged() {
        return this._modelChanged;
    }
    /**
     * Set the model and fire changed signals.
     */
    set model(newValue) {
        if (this._model === newValue) {
            return;
        }
        if (this._model) {
            this._model.stateChanged.disconnect(this.update, this);
        }
        this._model = newValue;
        if (newValue) {
            newValue.stateChanged.connect(this.update, this);
        }
        this.update();
        this._modelChanged.emit(void 0);
    }
    /**
     * Get the current model.
     */
    get model() {
        return this._model;
    }
    /**
     * Dispose this widget.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._model = null;
        super.dispose();
    }
}
/**
 * UseSignal provides a way to hook up a Phosphor signal to a React element,
 * so that the element is re-rendered every time the signal fires.
 *
 * It is implemented through the "render props" technique, using the `children`
 * prop as a function to render, so that it can be used either as a prop or as a child
 * of this element
 * https://reactjs.org/docs/render-props.html
 *
 *
 * Example as child:
 *
 * ```
 * function LiveButton(isActiveSignal: ISignal<any, boolean>) {
 *  return (
 *    <UseSignal signal={isActiveSignal} initialArgs={True}>
 *     {(_, isActive) => <Button isActive={isActive}>}
 *    </UseSignal>
 *  )
 * }
 * ```
 *
 * Example as prop:
 *
 * ```
 * function LiveButton(isActiveSignal: ISignal<any, boolean>) {
 *  return (
 *    <UseSignal
 *      signal={isActiveSignal}
 *      initialArgs={True}
 *      children={(_, isActive) => <Button isActive={isActive}>}
 *    />
 *  )
 * }
 * ```
 */
class UseSignal extends react__WEBPACK_IMPORTED_MODULE_3__["Component"] {
    constructor(props) {
        super(props);
        this.slot = (sender, args) => {
            // skip setting new state if we have a shouldUpdate function and it returns false
            if (this.props.shouldUpdate && !this.props.shouldUpdate(sender, args)) {
                return;
            }
            this.setState({ value: [sender, args] });
        };
        this.state = { value: [this.props.initialSender, this.props.initialArgs] };
    }
    componentDidMount() {
        this.props.signal.connect(this.slot);
    }
    componentWillUnmount() {
        this.props.signal.disconnect(this.slot);
    }
    render() {
        return this.props.children(...this.state.value);
    }
}
/**
 * Concrete implementation of VDomRenderer model.
 */
class VDomModel {
    constructor() {
        /**
         * A signal emitted when any model state changes.
         */
        this.stateChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this._isDisposed = false;
    }
    /**
     * Test whether the model is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose the model.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"].clearData(this);
    }
}
//# sourceMappingURL=vdom.js.map

/***/ }),

/***/ "79O8":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/serialize.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Deserialize and return the unpacked message.
 *
 * #### Notes
 * Handles JSON blob strings and binary messages.
 */
function deserialize(data) {
    let value;
    if (typeof data === 'string') {
        value = JSON.parse(data);
    }
    else {
        value = deserializeBinary(data);
    }
    return value;
}
exports.deserialize = deserialize;
/**
 * Serialize a kernel message for transport.
 *
 * #### Notes
 * If there is binary content, an `ArrayBuffer` is returned,
 * otherwise the message is converted to a JSON string.
 */
function serialize(msg) {
    var _a;
    let value;
    if ((_a = msg.buffers) === null || _a === void 0 ? void 0 : _a.length) {
        value = serializeBinary(msg);
    }
    else {
        value = JSON.stringify(msg);
    }
    return value;
}
exports.serialize = serialize;
/**
 * Deserialize a binary message to a Kernel Message.
 */
function deserializeBinary(buf) {
    let data = new DataView(buf);
    // read the header: 1 + nbufs 32b integers
    let nbufs = data.getUint32(0);
    let offsets = [];
    if (nbufs < 2) {
        throw new Error('Invalid incoming Kernel Message');
    }
    for (let i = 1; i <= nbufs; i++) {
        offsets.push(data.getUint32(i * 4));
    }
    let jsonBytes = new Uint8Array(buf.slice(offsets[0], offsets[1]));
    let msg = JSON.parse(new TextDecoder('utf8').decode(jsonBytes));
    // the remaining chunks are stored as DataViews in msg.buffers
    msg.buffers = [];
    for (let i = 1; i < nbufs; i++) {
        let start = offsets[i];
        let stop = offsets[i + 1] || buf.byteLength;
        msg.buffers.push(new DataView(buf.slice(start, stop)));
    }
    return msg;
}
/**
 * Implement the binary serialization protocol.
 *
 * Serialize Kernel message to ArrayBuffer.
 */
function serializeBinary(msg) {
    let offsets = [];
    let buffers = [];
    let encoder = new TextEncoder();
    let origBuffers = [];
    if (msg.buffers !== undefined) {
        origBuffers = msg.buffers;
        delete msg['buffers'];
    }
    let jsonUtf8 = encoder.encode(JSON.stringify(msg));
    buffers.push(jsonUtf8.buffer);
    for (let i = 0; i < origBuffers.length; i++) {
        // msg.buffers elements could be either views or ArrayBuffers
        // buffers elements are ArrayBuffers
        let b = origBuffers[i];
        buffers.push(b instanceof ArrayBuffer ? b : b.buffer);
    }
    let nbufs = buffers.length;
    offsets.push(4 * (nbufs + 1));
    for (let i = 0; i + 1 < buffers.length; i++) {
        offsets.push(offsets[offsets.length - 1] + buffers[i].byteLength);
    }
    let msgBuf = new Uint8Array(offsets[offsets.length - 1] + buffers[buffers.length - 1].byteLength);
    // use DataView.setUint32 for network byte-order
    let view = new DataView(msgBuf.buffer);
    // write nbufs to first 4 bytes
    view.setUint32(0, nbufs);
    // write offsets to next 4 * nbufs bytes
    for (let i = 0; i < offsets.length; i++) {
        view.setUint32(4 * (i + 1), offsets[i]);
    }
    // write all the buffers at their respective offsets
    for (let i = 0; i < buffers.length; i++) {
        msgBuf.set(new Uint8Array(buffers[i]), offsets[i]);
    }
    return msgBuf.buffer;
}
//# sourceMappingURL=serialize.js.map

/***/ }),

/***/ "7IHF":
/*!************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/edit.js ***!
  \************************************************************************************/
/*! exports provided: EditMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditMenu", function() { return EditMenu; });
/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * An extensible Edit menu for the application.
 */
class EditMenu extends _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"] {
    /**
     * Construct the edit menu.
     */
    constructor(options) {
        super(options);
        this.menu.title.label = 'Edit';
        this.undoers = new Set();
        this.clearers = new Set();
        this.goToLiners = new Set();
    }
    /**
     * Dispose of the resources held by the edit menu.
     */
    dispose() {
        this.undoers.clear();
        this.clearers.clear();
        super.dispose();
    }
}
//# sourceMappingURL=edit.js.map

/***/ }),

/***/ "7K4v":
/*!*************************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/jupyter/jupyterlab-wordmark.svg ***!
  \*************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1860.8 475'%3E %3Cg class='jp-icon2' fill='%234E4E4E' transform='translate(480.136401, 64.271493)'%3E %3Cg transform='translate(0.000000, 58.875566)'%3E %3Cg transform='translate(0.087603, 0.140294)'%3E %3Cpath d='M-426.9,169.8c0,48.7-3.7,64.7-13.6,76.4c-10.8,10-25,15.5-39.7,15.5l3.7,29 c22.8,0.3,44.8-7.9,61.9-23.1c17.8-18.5,24-44.1,24-83.3V0H-427v170.1L-426.9,169.8L-426.9,169.8z'/%3E %3C/g%3E %3C/g%3E %3Cg transform='translate(155.045296, 56.837104)'%3E %3Cg transform='translate(1.562453, 1.799842)'%3E %3Cpath d='M-312,148c0,21,0,39.5,1.7,55.4h-31.8l-2.1-33.3h-0.8c-6.7,11.6-16.4,21.3-28,27.9 c-11.6,6.6-24.8,10-38.2,9.8c-31.4,0-69-17.7-69-89V0h36.4v112.7c0,38.7,11.6,64.7,44.6,64.7c10.3-0.2,20.4-3.5,28.9-9.4 c8.5-5.9,15.1-14.3,18.9-23.9c2.2-6.1,3.3-12.5,3.3-18.9V0.2h36.4V148H-312L-312,148z'/%3E %3C/g%3E %3C/g%3E %3Cg transform='translate(390.013322, 53.479638)'%3E %3Cg transform='translate(1.706458, 0.231425)'%3E %3Cpath d='M-478.6,71.4c0-26-0.8-47-1.7-66.7h32.7l1.7,34.8h0.8c7.1-12.5,17.5-22.8,30.1-29.7 c12.5-7,26.7-10.3,41-9.8c48.3,0,84.7,41.7,84.7,103.3c0,73.1-43.7,109.2-91,109.2c-12.1,0.5-24.2-2.2-35-7.8 c-10.8-5.6-19.9-13.9-26.6-24.2h-0.8V291h-36v-220L-478.6,71.4L-478.6,71.4z M-442.6,125.6c0.1,5.1,0.6,10.1,1.7,15.1 c3,12.3,9.9,23.3,19.8,31.1c9.9,7.8,22.1,12.1,34.7,12.1c38.5,0,60.7-31.9,60.7-78.5c0-40.7-21.1-75.6-59.5-75.6 c-12.9,0.4-25.3,5.1-35.3,13.4c-9.9,8.3-16.9,19.7-19.6,32.4c-1.5,4.9-2.3,10-2.5,15.1V125.6L-442.6,125.6L-442.6,125.6z'/%3E %3C/g%3E %3C/g%3E %3Cg transform='translate(606.740726, 56.837104)'%3E %3Cg transform='translate(0.751226, 1.989299)'%3E %3Cpath d='M-440.8,0l43.7,120.1c4.5,13.4,9.5,29.4,12.8,41.7h0.8c3.7-12.2,7.9-27.7,12.8-42.4 l39.7-119.2h38.5L-346.9,145c-26,69.7-43.7,105.4-68.6,127.2c-12.5,11.7-27.9,20-44.6,23.9l-9.1-31.1 c11.7-3.9,22.5-10.1,31.8-18.1c13.2-11.1,23.7-25.2,30.6-41.2c1.5-2.8,2.5-5.7,2.9-8.8c-0.3-3.3-1.2-6.6-2.5-9.7L-480.2,0.1 h39.7L-440.8,0L-440.8,0z'/%3E %3C/g%3E %3C/g%3E %3Cg transform='translate(822.748104, 0.000000)'%3E %3Cg transform='translate(1.464050, 0.378914)'%3E %3Cpath d='M-413.7,0v58.3h52v28.2h-52V196c0,25,7,39.5,27.3,39.5c7.1,0.1,14.2-0.7,21.1-2.5 l1.7,27.7c-10.3,3.7-21.3,5.4-32.2,5c-7.3,0.4-14.6-0.7-21.3-3.4c-6.8-2.7-12.9-6.8-17.9-12.1c-10.3-10.9-14.1-29-14.1-52.9 V86.5h-31V58.3h31V9.6L-413.7,0L-413.7,0z'/%3E %3C/g%3E %3C/g%3E %3Cg transform='translate(974.433286, 53.479638)'%3E %3Cg transform='translate(0.990034, 0.610339)'%3E %3Cpath d='M-445.8,113c0.8,50,32.2,70.6,68.6,70.6c19,0.6,37.9-3,55.3-10.5l6.2,26.4 c-20.9,8.9-43.5,13.1-66.2,12.6c-61.5,0-98.3-41.2-98.3-102.5C-480.2,48.2-444.7,0-386.5,0c65.2,0,82.7,58.3,82.7,95.7 c-0.1,5.8-0.5,11.5-1.2,17.2h-140.6H-445.8L-445.8,113z M-339.2,86.6c0.4-23.5-9.5-60.1-50.4-60.1 c-36.8,0-52.8,34.4-55.7,60.1H-339.2L-339.2,86.6L-339.2,86.6z'/%3E %3C/g%3E %3C/g%3E %3Cg transform='translate(1201.961058, 53.479638)'%3E %3Cg transform='translate(1.179640, 0.705068)'%3E %3Cpath d='M-478.6,68c0-23.9-0.4-44.5-1.7-63.4h31.8l1.2,39.9h1.7c9.1-27.3,31-44.5,55.3-44.5 c3.5-0.1,7,0.4,10.3,1.2v34.8c-4.1-0.9-8.2-1.3-12.4-1.2c-25.6,0-43.7,19.7-48.7,47.4c-1,5.7-1.6,11.5-1.7,17.2v108.3h-36V68 L-478.6,68z'/%3E %3C/g%3E %3C/g%3E %3C/g%3E %3Cg class='jp-icon-warn0' fill='%23F37726'%3E %3Cpath d='M1352.3,326.2h37V28h-37V326.2z M1604.8,326.2c-2.5-13.9-3.4-31.1-3.4-48.7v-76 c0-40.7-15.1-83.1-77.3-83.1c-25.6,0-50,7.1-66.8,18.1l8.4,24.4c14.3-9.2,34-15.1,53-15.1c41.6,0,46.2,30.2,46.2,47v4.2 c-78.6-0.4-122.3,26.5-122.3,75.6c0,29.4,21,58.4,62.2,58.4c29,0,50.9-14.3,62.2-30.2h1.3l2.9,25.6H1604.8z M1565.7,257.7 c0,3.8-0.8,8-2.1,11.8c-5.9,17.2-22.7,34-49.2,34c-18.9,0-34.9-11.3-34.9-35.3c0-39.5,45.8-46.6,86.2-45.8V257.7z M1698.5,326.2 l1.7-33.6h1.3c15.1,26.9,38.7,38.2,68.1,38.2c45.4,0,91.2-36.1,91.2-108.8c0.4-61.7-35.3-103.7-85.7-103.7 c-32.8,0-56.3,14.7-69.3,37.4h-0.8V28h-36.6v245.7c0,18.1-0.8,38.6-1.7,52.5H1698.5z M1704.8,208.2c0-5.9,1.3-10.9,2.1-15.1 c7.6-28.1,31.1-45.4,56.3-45.4c39.5,0,60.5,34.9,60.5,75.6c0,46.6-23.1,78.1-61.8,78.1c-26.9,0-48.3-17.6-55.5-43.3 c-0.8-4.2-1.7-8.8-1.7-13.4V208.2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "7K4v2":
/*!*************************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/jupyter/jupyterlab-wordmark.svg ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1860.8 475\">\n  <g class=\"jp-icon2\" fill=\"#4E4E4E\" transform=\"translate(480.136401, 64.271493)\">\n    <g transform=\"translate(0.000000, 58.875566)\">\n      <g transform=\"translate(0.087603, 0.140294)\">\n        <path d=\"M-426.9,169.8c0,48.7-3.7,64.7-13.6,76.4c-10.8,10-25,15.5-39.7,15.5l3.7,29 c22.8,0.3,44.8-7.9,61.9-23.1c17.8-18.5,24-44.1,24-83.3V0H-427v170.1L-426.9,169.8L-426.9,169.8z\"/>\n      </g>\n    </g>\n    <g transform=\"translate(155.045296, 56.837104)\">\n      <g transform=\"translate(1.562453, 1.799842)\">\n        <path d=\"M-312,148c0,21,0,39.5,1.7,55.4h-31.8l-2.1-33.3h-0.8c-6.7,11.6-16.4,21.3-28,27.9 c-11.6,6.6-24.8,10-38.2,9.8c-31.4,0-69-17.7-69-89V0h36.4v112.7c0,38.7,11.6,64.7,44.6,64.7c10.3-0.2,20.4-3.5,28.9-9.4 c8.5-5.9,15.1-14.3,18.9-23.9c2.2-6.1,3.3-12.5,3.3-18.9V0.2h36.4V148H-312L-312,148z\"/>\n      </g>\n    </g>\n    <g transform=\"translate(390.013322, 53.479638)\">\n      <g transform=\"translate(1.706458, 0.231425)\">\n        <path d=\"M-478.6,71.4c0-26-0.8-47-1.7-66.7h32.7l1.7,34.8h0.8c7.1-12.5,17.5-22.8,30.1-29.7 c12.5-7,26.7-10.3,41-9.8c48.3,0,84.7,41.7,84.7,103.3c0,73.1-43.7,109.2-91,109.2c-12.1,0.5-24.2-2.2-35-7.8 c-10.8-5.6-19.9-13.9-26.6-24.2h-0.8V291h-36v-220L-478.6,71.4L-478.6,71.4z M-442.6,125.6c0.1,5.1,0.6,10.1,1.7,15.1 c3,12.3,9.9,23.3,19.8,31.1c9.9,7.8,22.1,12.1,34.7,12.1c38.5,0,60.7-31.9,60.7-78.5c0-40.7-21.1-75.6-59.5-75.6 c-12.9,0.4-25.3,5.1-35.3,13.4c-9.9,8.3-16.9,19.7-19.6,32.4c-1.5,4.9-2.3,10-2.5,15.1V125.6L-442.6,125.6L-442.6,125.6z\"/>\n      </g>\n    </g>\n    <g transform=\"translate(606.740726, 56.837104)\">\n      <g transform=\"translate(0.751226, 1.989299)\">\n        <path d=\"M-440.8,0l43.7,120.1c4.5,13.4,9.5,29.4,12.8,41.7h0.8c3.7-12.2,7.9-27.7,12.8-42.4 l39.7-119.2h38.5L-346.9,145c-26,69.7-43.7,105.4-68.6,127.2c-12.5,11.7-27.9,20-44.6,23.9l-9.1-31.1 c11.7-3.9,22.5-10.1,31.8-18.1c13.2-11.1,23.7-25.2,30.6-41.2c1.5-2.8,2.5-5.7,2.9-8.8c-0.3-3.3-1.2-6.6-2.5-9.7L-480.2,0.1 h39.7L-440.8,0L-440.8,0z\"/>\n      </g>\n    </g>\n    <g transform=\"translate(822.748104, 0.000000)\">\n      <g transform=\"translate(1.464050, 0.378914)\">\n        <path d=\"M-413.7,0v58.3h52v28.2h-52V196c0,25,7,39.5,27.3,39.5c7.1,0.1,14.2-0.7,21.1-2.5 l1.7,27.7c-10.3,3.7-21.3,5.4-32.2,5c-7.3,0.4-14.6-0.7-21.3-3.4c-6.8-2.7-12.9-6.8-17.9-12.1c-10.3-10.9-14.1-29-14.1-52.9 V86.5h-31V58.3h31V9.6L-413.7,0L-413.7,0z\"/>\n      </g>\n    </g>\n    <g transform=\"translate(974.433286, 53.479638)\">\n      <g transform=\"translate(0.990034, 0.610339)\">\n        <path d=\"M-445.8,113c0.8,50,32.2,70.6,68.6,70.6c19,0.6,37.9-3,55.3-10.5l6.2,26.4 c-20.9,8.9-43.5,13.1-66.2,12.6c-61.5,0-98.3-41.2-98.3-102.5C-480.2,48.2-444.7,0-386.5,0c65.2,0,82.7,58.3,82.7,95.7 c-0.1,5.8-0.5,11.5-1.2,17.2h-140.6H-445.8L-445.8,113z M-339.2,86.6c0.4-23.5-9.5-60.1-50.4-60.1 c-36.8,0-52.8,34.4-55.7,60.1H-339.2L-339.2,86.6L-339.2,86.6z\"/>\n      </g>\n    </g>\n    <g transform=\"translate(1201.961058, 53.479638)\">\n      <g transform=\"translate(1.179640, 0.705068)\">\n        <path d=\"M-478.6,68c0-23.9-0.4-44.5-1.7-63.4h31.8l1.2,39.9h1.7c9.1-27.3,31-44.5,55.3-44.5 c3.5-0.1,7,0.4,10.3,1.2v34.8c-4.1-0.9-8.2-1.3-12.4-1.2c-25.6,0-43.7,19.7-48.7,47.4c-1,5.7-1.6,11.5-1.7,17.2v108.3h-36V68 L-478.6,68z\"/>\n      </g>\n    </g>\n  </g>\n\n  <g class=\"jp-icon-warn0\" fill=\"#F37726\">\n    <path d=\"M1352.3,326.2h37V28h-37V326.2z M1604.8,326.2c-2.5-13.9-3.4-31.1-3.4-48.7v-76 c0-40.7-15.1-83.1-77.3-83.1c-25.6,0-50,7.1-66.8,18.1l8.4,24.4c14.3-9.2,34-15.1,53-15.1c41.6,0,46.2,30.2,46.2,47v4.2 c-78.6-0.4-122.3,26.5-122.3,75.6c0,29.4,21,58.4,62.2,58.4c29,0,50.9-14.3,62.2-30.2h1.3l2.9,25.6H1604.8z M1565.7,257.7 c0,3.8-0.8,8-2.1,11.8c-5.9,17.2-22.7,34-49.2,34c-18.9,0-34.9-11.3-34.9-35.3c0-39.5,45.8-46.6,86.2-45.8V257.7z M1698.5,326.2 l1.7-33.6h1.3c15.1,26.9,38.7,38.2,68.1,38.2c45.4,0,91.2-36.1,91.2-108.8c0.4-61.7-35.3-103.7-85.7-103.7 c-32.8,0-56.3,14.7-69.3,37.4h-0.8V28h-36.6v245.7c0,18.1-0.8,38.6-1.7,52.5H1698.5z M1704.8,208.2c0-5.9,1.3-10.9,2.1-15.1 c7.6-28.1,31.1-45.4,56.3-45.4c39.5,0,60.5,34.9,60.5,75.6c0,46.6-23.1,78.1-61.8,78.1c-26.9,0-48.3-17.6-55.5-43.3 c-0.8-4.2-1.7-8.8-1.7-13.4V208.2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "7alH":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-right.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 18 18'%3E %3Cg class='jp-icon3' fill='%23616161' shape-rendering='geometricPrecision'%3E %3Cpath d='M7.2,5.2L10.9,9l-3.8,3.8V5.2H7.2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "7alHr":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-right.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\n  <g class=\"jp-icon3\" fill=\"#616161\" shape-rendering=\"geometricPrecision\">\n    <path d=\"M7.2,5.2L10.9,9l-3.8,3.8V5.2H7.2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "7bmR":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/contents/index.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const algorithm_1 = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const __1 = __webpack_require__(/*! .. */ "YdKB");
const validate = __importStar(__webpack_require__(/*! ./validate */ "Um4O"));
/**
 * The url for the default drive service.
 */
const SERVICE_DRIVE_URL = 'api/contents';
/**
 * The url for the file access.
 */
const FILES_URL = 'files';
/**
 * The object to reference listCheckpoints promises
 * used as a flag to check and return the existing promise if it's pending
 */
let checkpointPromiseQueue = {};
/**
 * A namespace for contents interfaces.
 */
var Contents;
(function (Contents) {
    /**
     * Validates an IModel, thowing an error if it does not pass.
     */
    function validateContentsModel(contents) {
        validate.validateContentsModel(contents);
    }
    Contents.validateContentsModel = validateContentsModel;
    /**
     * Validates an ICheckpointModel, thowing an error if it does not pass.
     */
    function validateCheckpointModel(checkpoint) {
        validate.validateCheckpointModel(checkpoint);
    }
    Contents.validateCheckpointModel = validateCheckpointModel;
})(Contents = exports.Contents || (exports.Contents = {}));
/**
 * A contents manager that passes file operations to the server.
 * Multiple servers implementing the `IDrive` interface can be
 * attached to the contents manager, so that the same session can
 * perform file operations on multiple backends.
 *
 * This includes checkpointing with the normal file operations.
 */
class ContentsManager {
    /**
     * Construct a new contents manager object.
     *
     * @param options - The options used to initialize the object.
     */
    constructor(options = {}) {
        var _a, _b;
        this._isDisposed = false;
        this._additionalDrives = new Map();
        this._fileChanged = new signaling_1.Signal(this);
        let serverSettings = (this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : __1.ServerConnection.makeSettings())));
        this._defaultDrive = (_b = options.defaultDrive, (_b !== null && _b !== void 0 ? _b : new Drive({ serverSettings })));
        this._defaultDrive.fileChanged.connect(this._onFileChanged, this);
    }
    /**
     * A signal emitted when a file operation takes place.
     */
    get fileChanged() {
        return this._fileChanged;
    }
    /**
     * Test whether the manager has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        signaling_1.Signal.clearData(this);
    }
    /**
     * Add an `IDrive` to the manager.
     */
    addDrive(drive) {
        this._additionalDrives.set(drive.name, drive);
        drive.fileChanged.connect(this._onFileChanged, this);
    }
    /**
     * Given a path, get a ModelDB.IFactory from the
     * relevant backend. Returns `undefined` if the backend
     * does not provide one.
     */
    getModelDBFactory(path) {
        var _a, _b;
        let [drive] = this._driveForPath(path);
        return _b = (_a = drive) === null || _a === void 0 ? void 0 : _a.modelDBFactory, (_b !== null && _b !== void 0 ? _b : null);
    }
    /**
     * Given a path of the form `drive:local/portion/of/it.txt`
     * get the local part of it.
     *
     * @param path: the path.
     *
     * @returns The local part of the path.
     */
    localPath(path) {
        const parts = path.split('/');
        const firstParts = parts[0].split(':');
        if (firstParts.length === 1 || !this._additionalDrives.has(firstParts[0])) {
            return coreutils_1.PathExt.removeSlash(path);
        }
        return coreutils_1.PathExt.join(firstParts.slice(1).join(':'), ...parts.slice(1));
    }
    /**
     * Normalize a global path. Reduces '..' and '.' parts, and removes
     * leading slashes from the local part of the path, while retaining
     * the drive name if it exists.
     *
     * @param path: the path.
     *
     * @returns The normalized path.
     */
    normalize(path) {
        const parts = path.split(':');
        if (parts.length === 1) {
            return coreutils_1.PathExt.normalize(path);
        }
        return `${parts[0]}:${coreutils_1.PathExt.normalize(parts.slice(1).join(':'))}`;
    }
    /**
     * Given a path of the form `drive:local/portion/of/it.txt`
     * get the name of the drive. If the path is missing
     * a drive portion, returns an empty string.
     *
     * @param path: the path.
     *
     * @returns The drive name for the path, or the empty string.
     */
    driveName(path) {
        const parts = path.split('/');
        const firstParts = parts[0].split(':');
        if (firstParts.length === 1) {
            return '';
        }
        if (this._additionalDrives.has(firstParts[0])) {
            return firstParts[0];
        }
        return '';
    }
    /**
     * Get a file or directory.
     *
     * @param path: The path to the file.
     *
     * @param options: The options used to fetch the file.
     *
     * @returns A promise which resolves with the file content.
     */
    get(path, options) {
        let [drive, localPath] = this._driveForPath(path);
        return drive.get(localPath, options).then(contentsModel => {
            let listing = [];
            if (contentsModel.type === 'directory' && contentsModel.content) {
                algorithm_1.each(contentsModel.content, (item) => {
                    listing.push(Object.assign(Object.assign({}, item), { path: this._toGlobalPath(drive, item.path) }));
                });
                return Object.assign(Object.assign({}, contentsModel), { path: this._toGlobalPath(drive, localPath), content: listing });
            }
            else {
                return Object.assign(Object.assign({}, contentsModel), { path: this._toGlobalPath(drive, localPath) });
            }
        });
    }
    /**
     * Get an encoded download url given a file path.
     *
     * @param path - An absolute POSIX file path on the server.
     *
     * #### Notes
     * It is expected that the path contains no relative paths.
     *
     * The returned URL may include a query parameter.
     */
    getDownloadUrl(path) {
        let [drive, localPath] = this._driveForPath(path);
        return drive.getDownloadUrl(localPath);
    }
    /**
     * Create a new untitled file or directory in the specified directory path.
     *
     * @param options: The options used to create the file.
     *
     * @returns A promise which resolves with the created file content when the
     *    file is created.
     */
    newUntitled(options = {}) {
        if (options.path) {
            let globalPath = this.normalize(options.path);
            let [drive, localPath] = this._driveForPath(globalPath);
            return drive
                .newUntitled(Object.assign(Object.assign({}, options), { path: localPath }))
                .then(contentsModel => {
                return Object.assign(Object.assign({}, contentsModel), { path: coreutils_1.PathExt.join(globalPath, contentsModel.name) });
            });
        }
        else {
            return this._defaultDrive.newUntitled(options);
        }
    }
    /**
     * Delete a file.
     *
     * @param path - The path to the file.
     *
     * @returns A promise which resolves when the file is deleted.
     */
    delete(path) {
        let [drive, localPath] = this._driveForPath(path);
        return drive.delete(localPath);
    }
    /**
     * Rename a file or directory.
     *
     * @param path - The original file path.
     *
     * @param newPath - The new file path.
     *
     * @returns A promise which resolves with the new file contents model when
     *   the file is renamed.
     */
    rename(path, newPath) {
        let [drive1, path1] = this._driveForPath(path);
        let [drive2, path2] = this._driveForPath(newPath);
        if (drive1 !== drive2) {
            throw Error('ContentsManager: renaming files must occur within a Drive');
        }
        return drive1.rename(path1, path2).then(contentsModel => {
            return Object.assign(Object.assign({}, contentsModel), { path: this._toGlobalPath(drive1, path2) });
        });
    }
    /**
     * Save a file.
     *
     * @param path - The desired file path.
     *
     * @param options - Optional overrides to the model.
     *
     * @returns A promise which resolves with the file content model when the
     *   file is saved.
     *
     * #### Notes
     * Ensure that `model.content` is populated for the file.
     */
    save(path, options = {}) {
        const globalPath = this.normalize(path);
        const [drive, localPath] = this._driveForPath(path);
        return drive
            .save(localPath, Object.assign(Object.assign({}, options), { path: localPath }))
            .then(contentsModel => {
            return Object.assign(Object.assign({}, contentsModel), { path: globalPath });
        });
    }
    /**
     * Copy a file into a given directory.
     *
     * @param path - The original file path.
     *
     * @param toDir - The destination directory path.
     *
     * @returns A promise which resolves with the new contents model when the
     *  file is copied.
     *
     * #### Notes
     * The server will select the name of the copied file.
     */
    copy(fromFile, toDir) {
        let [drive1, path1] = this._driveForPath(fromFile);
        let [drive2, path2] = this._driveForPath(toDir);
        if (drive1 === drive2) {
            return drive1.copy(path1, path2).then(contentsModel => {
                return Object.assign(Object.assign({}, contentsModel), { path: this._toGlobalPath(drive1, contentsModel.path) });
            });
        }
        else {
            throw Error('Copying files between drives is not currently implemented');
        }
    }
    /**
     * Create a checkpoint for a file.
     *
     * @param path - The path of the file.
     *
     * @returns A promise which resolves with the new checkpoint model when the
     *   checkpoint is created.
     */
    createCheckpoint(path) {
        let [drive, localPath] = this._driveForPath(path);
        return drive.createCheckpoint(localPath);
    }
    /**
     * List available checkpoints for a file.
     *
     * @param path - The path of the file.
     *
     * @returns A promise which resolves with a list of checkpoint models for
     *    the file.
     */
    listCheckpoints(path) {
        let [drive, localPath] = this._driveForPath(path);
        return drive.listCheckpoints(localPath);
    }
    /**
     * Restore a file to a known checkpoint state.
     *
     * @param path - The path of the file.
     *
     * @param checkpointID - The id of the checkpoint to restore.
     *
     * @returns A promise which resolves when the checkpoint is restored.
     */
    restoreCheckpoint(path, checkpointID) {
        let [drive, localPath] = this._driveForPath(path);
        return drive.restoreCheckpoint(localPath, checkpointID);
    }
    /**
     * Delete a checkpoint for a file.
     *
     * @param path - The path of the file.
     *
     * @param checkpointID - The id of the checkpoint to delete.
     *
     * @returns A promise which resolves when the checkpoint is deleted.
     */
    deleteCheckpoint(path, checkpointID) {
        let [drive, localPath] = this._driveForPath(path);
        return drive.deleteCheckpoint(localPath, checkpointID);
    }
    /**
     * Given a drive and a local path, construct a fully qualified
     * path. The inverse of `_driveForPath`.
     *
     * @param drive: an `IDrive`.
     *
     * @param localPath: the local path on the drive.
     *
     * @returns the fully qualified path.
     */
    _toGlobalPath(drive, localPath) {
        if (drive === this._defaultDrive) {
            return coreutils_1.PathExt.removeSlash(localPath);
        }
        else {
            return `${drive.name}:${coreutils_1.PathExt.removeSlash(localPath)}`;
        }
    }
    /**
     * Given a path, get the `IDrive to which it refers,
     * where the path satisfies the pattern
     * `'driveName:path/to/file'`. If there is no `driveName`
     * prepended to the path, it returns the default drive.
     *
     * @param path: a path to a file.
     *
     * @returns A tuple containing an `IDrive` object for the path,
     * and a local path for that drive.
     */
    _driveForPath(path) {
        const driveName = this.driveName(path);
        const localPath = this.localPath(path);
        if (driveName) {
            return [this._additionalDrives.get(driveName), localPath];
        }
        else {
            return [this._defaultDrive, localPath];
        }
    }
    /**
     * Respond to fileChanged signals from the drives attached to
     * the manager. This prepends the drive name to the path if necessary,
     * and then forwards the signal.
     */
    _onFileChanged(sender, args) {
        var _a, _b;
        if (sender === this._defaultDrive) {
            this._fileChanged.emit(args);
        }
        else {
            let newValue = null;
            let oldValue = null;
            if ((_a = args.newValue) === null || _a === void 0 ? void 0 : _a.path) {
                newValue = Object.assign(Object.assign({}, args.newValue), { path: this._toGlobalPath(sender, args.newValue.path) });
            }
            if ((_b = args.oldValue) === null || _b === void 0 ? void 0 : _b.path) {
                oldValue = Object.assign(Object.assign({}, args.oldValue), { path: this._toGlobalPath(sender, args.oldValue.path) });
            }
            this._fileChanged.emit({
                type: args.type,
                newValue,
                oldValue
            });
        }
    }
}
exports.ContentsManager = ContentsManager;
/**
 * A default implementation for an `IDrive`, talking to the
 * server using the Jupyter REST API.
 */
class Drive {
    /**
     * Construct a new contents manager object.
     *
     * @param options - The options used to initialize the object.
     */
    constructor(options = {}) {
        var _a, _b, _c;
        this._isDisposed = false;
        this._fileChanged = new signaling_1.Signal(this);
        this.name = (_a = options.name, (_a !== null && _a !== void 0 ? _a : 'Default'));
        this._apiEndpoint = (_b = options.apiEndpoint, (_b !== null && _b !== void 0 ? _b : SERVICE_DRIVE_URL));
        this.serverSettings = (_c = options.serverSettings, (_c !== null && _c !== void 0 ? _c : __1.ServerConnection.makeSettings()));
    }
    /**
     * A signal emitted when a file operation takes place.
     */
    get fileChanged() {
        return this._fileChanged;
    }
    /**
     * Test whether the manager has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        signaling_1.Signal.clearData(this);
    }
    /**
     * Get a file or directory.
     *
     * @param localPath: The path to the file.
     *
     * @param options: The options used to fetch the file.
     *
     * @returns A promise which resolves with the file content.
     *
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents) and validates the response model.
     */
    get(localPath, options) {
        let url = this._getUrl(localPath);
        if (options) {
            // The notebook type cannot take an format option.
            if (options.type === 'notebook') {
                delete options['format'];
            }
            let content = options.content ? '1' : '0';
            let params = Object.assign(Object.assign({}, options), { content });
            url += coreutils_1.URLExt.objectToQueryString(params);
        }
        let settings = this.serverSettings;
        return __1.ServerConnection.makeRequest(url, {}, settings)
            .then(response => {
            if (response.status !== 200) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            validate.validateContentsModel(data);
            return data;
        });
    }
    /**
     * Get an encoded download url given a file path.
     *
     * @param localPath - An absolute POSIX file path on the server.
     *
     * #### Notes
     * It is expected that the path contains no relative paths.
     *
     * The returned URL may include a query parameter.
     */
    getDownloadUrl(localPath) {
        let baseUrl = this.serverSettings.baseUrl;
        let url = coreutils_1.URLExt.join(baseUrl, FILES_URL, coreutils_1.URLExt.encodeParts(localPath));
        const xsrfTokenMatch = document.cookie.match('\\b_xsrf=([^;]*)\\b');
        if (xsrfTokenMatch) {
            const fullurl = new URL(url);
            fullurl.searchParams.append('_xsrf', xsrfTokenMatch[1]);
            url = fullurl.toString();
        }
        return Promise.resolve(url);
    }
    /**
     * Create a new untitled file or directory in the specified directory path.
     *
     * @param options: The options used to create the file.
     *
     * @returns A promise which resolves with the created file content when the
     *    file is created.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents) and validates the response model.
     */
    newUntitled(options = {}) {
        var _a;
        let body = '{}';
        if (options) {
            if (options.ext) {
                options.ext = Private.normalizeExtension(options.ext);
            }
            body = JSON.stringify(options);
        }
        let settings = this.serverSettings;
        let url = this._getUrl((_a = options.path, (_a !== null && _a !== void 0 ? _a : '')));
        let init = {
            method: 'POST',
            body
        };
        return __1.ServerConnection.makeRequest(url, init, settings)
            .then(response => {
            if (response.status !== 201) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            validate.validateContentsModel(data);
            this._fileChanged.emit({
                type: 'new',
                oldValue: null,
                newValue: data
            });
            return data;
        });
    }
    /**
     * Delete a file.
     *
     * @param localPath - The path to the file.
     *
     * @returns A promise which resolves when the file is deleted.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents).
     */
    delete(localPath) {
        let url = this._getUrl(localPath);
        let settings = this.serverSettings;
        let init = { method: 'DELETE' };
        return __1.ServerConnection.makeRequest(url, init, settings).then(response => {
            // Translate certain errors to more specific ones.
            // TODO: update IPEP27 to specify errors more precisely, so
            // that error types can be detected here with certainty.
            if (response.status === 400) {
                return response.json().then(data => {
                    throw new __1.ServerConnection.ResponseError(response, data['message']);
                });
            }
            if (response.status !== 204) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            this._fileChanged.emit({
                type: 'delete',
                oldValue: { path: localPath },
                newValue: null
            });
        });
    }
    /**
     * Rename a file or directory.
     *
     * @param oldLocalPath - The original file path.
     *
     * @param newLocalPath - The new file path.
     *
     * @returns A promise which resolves with the new file contents model when
     *   the file is renamed.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents) and validates the response model.
     */
    rename(oldLocalPath, newLocalPath) {
        let settings = this.serverSettings;
        let url = this._getUrl(oldLocalPath);
        let init = {
            method: 'PATCH',
            body: JSON.stringify({ path: newLocalPath })
        };
        return __1.ServerConnection.makeRequest(url, init, settings)
            .then(response => {
            if (response.status !== 200) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            validate.validateContentsModel(data);
            this._fileChanged.emit({
                type: 'rename',
                oldValue: { path: oldLocalPath },
                newValue: data
            });
            return data;
        });
    }
    /**
     * Save a file.
     *
     * @param localPath - The desired file path.
     *
     * @param options - Optional overrides to the model.
     *
     * @returns A promise which resolves with the file content model when the
     *   file is saved.
     *
     * #### Notes
     * Ensure that `model.content` is populated for the file.
     *
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents) and validates the response model.
     */
    save(localPath, options = {}) {
        let settings = this.serverSettings;
        let url = this._getUrl(localPath);
        let init = {
            method: 'PUT',
            body: JSON.stringify(options)
        };
        return __1.ServerConnection.makeRequest(url, init, settings)
            .then(response => {
            // will return 200 for an existing file and 201 for a new file
            if (response.status !== 200 && response.status !== 201) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            validate.validateContentsModel(data);
            this._fileChanged.emit({
                type: 'save',
                oldValue: null,
                newValue: data
            });
            return data;
        });
    }
    /**
     * Copy a file into a given directory.
     *
     * @param localPath - The original file path.
     *
     * @param toDir - The destination directory path.
     *
     * @returns A promise which resolves with the new contents model when the
     *  file is copied.
     *
     * #### Notes
     * The server will select the name of the copied file.
     *
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents) and validates the response model.
     */
    copy(fromFile, toDir) {
        let settings = this.serverSettings;
        let url = this._getUrl(toDir);
        let init = {
            method: 'POST',
            body: JSON.stringify({ copy_from: fromFile })
        };
        return __1.ServerConnection.makeRequest(url, init, settings)
            .then(response => {
            if (response.status !== 201) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            validate.validateContentsModel(data);
            this._fileChanged.emit({
                type: 'new',
                oldValue: null,
                newValue: data
            });
            return data;
        });
    }
    /**
     * Create a checkpoint for a file.
     *
     * @param localPath - The path of the file.
     *
     * @returns A promise which resolves with the new checkpoint model when the
     *   checkpoint is created.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents) and validates the response model.
     */
    createCheckpoint(localPath) {
        let url = this._getUrl(localPath, 'checkpoints');
        let init = { method: 'POST' };
        return __1.ServerConnection.makeRequest(url, init, this.serverSettings)
            .then(response => {
            if (response.status !== 201) {
                throw new __1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            validate.validateCheckpointModel(data);
            return data;
        });
    }
    /**
     * List available checkpoints for a file.
     *
     * @param localPath - The path of the file.
     *
     * @returns A promise which resolves with a list of checkpoint models for
     *    the file.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents) and validates the response model.
     */
    listCheckpoints(localPath) {
        let url = this._getUrl(localPath, 'checkpoints');
        if (!checkpointPromiseQueue[localPath]) {
            checkpointPromiseQueue[localPath] = __1.ServerConnection.makeRequest(url, {}, this.serverSettings)
                .then(response => {
                if (response.status !== 200) {
                    throw new __1.ServerConnection.ResponseError(response);
                }
                return response.json();
            })
                .then(data => {
                if (!Array.isArray(data)) {
                    throw new Error('Invalid Checkpoint list');
                }
                for (let i = 0; i < data.length; i++) {
                    validate.validateCheckpointModel(data[i]);
                }
                return data;
            })
                .finally(() => {
                delete checkpointPromiseQueue[localPath];
            });
        }
        return checkpointPromiseQueue[localPath];
    }
    /**
     * Restore a file to a known checkpoint state.
     *
     * @param localPath - The path of the file.
     *
     * @param checkpointID - The id of the checkpoint to restore.
     *
     * @returns A promise which resolves when the checkpoint is restored.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents).
     */
    restoreCheckpoint(localPath, checkpointID) {
        let url = this._getUrl(localPath, 'checkpoints', checkpointID);
        let init = { method: 'POST' };
        return __1.ServerConnection.makeRequest(url, init, this.serverSettings).then(response => {
            if (response.status !== 204) {
                throw new __1.ServerConnection.ResponseError(response);
            }
        });
    }
    /**
     * Delete a checkpoint for a file.
     *
     * @param localPath - The path of the file.
     *
     * @param checkpointID - The id of the checkpoint to delete.
     *
     * @returns A promise which resolves when the checkpoint is deleted.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/contents).
     */
    deleteCheckpoint(localPath, checkpointID) {
        let url = this._getUrl(localPath, 'checkpoints', checkpointID);
        let init = { method: 'DELETE' };
        return __1.ServerConnection.makeRequest(url, init, this.serverSettings).then(response => {
            if (response.status !== 204) {
                throw new __1.ServerConnection.ResponseError(response);
            }
        });
    }
    /**
     * Get a REST url for a file given a path.
     */
    _getUrl(...args) {
        let parts = args.map(path => coreutils_1.URLExt.encodeParts(path));
        let baseUrl = this.serverSettings.baseUrl;
        return coreutils_1.URLExt.join(baseUrl, this._apiEndpoint, ...parts);
    }
}
exports.Drive = Drive;
/**
 * A namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * Normalize a file extension to be of the type `'.foo'`.
     *
     * Adds a leading dot if not present and converts to lower case.
     */
    function normalizeExtension(extension) {
        if (extension.length > 0 && extension.indexOf('.') !== 0) {
            extension = `.${extension}`;
        }
        return extension;
    }
    Private.normalizeExtension = normalizeExtension;
})(Private || (Private = {}));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ 8:
/*!**************************************!*\
  !*** ./terminal-highlight (ignored) ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "8R0s":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/index.js ***!
  \**************************************************************************************/
/*! exports provided: ProgressBar, TextItem, GroupItem, showPopup, Popup, LineCol, KernelStatus, RunningSessions, MemoryUsage, statusBar, side, leftSide, rightSide, item, clickedItem, interactiveItem, StatusBar, IStatusBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components */ "bnYl");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ProgressBar", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["ProgressBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextItem", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["TextItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GroupItem", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["GroupItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "showPopup", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["showPopup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Popup", function() { return _components__WEBPACK_IMPORTED_MODULE_0__["Popup"]; });

/* harmony import */ var _defaults__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaults */ "nBzX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LineCol", function() { return _defaults__WEBPACK_IMPORTED_MODULE_1__["LineCol"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "KernelStatus", function() { return _defaults__WEBPACK_IMPORTED_MODULE_1__["KernelStatus"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RunningSessions", function() { return _defaults__WEBPACK_IMPORTED_MODULE_1__["RunningSessions"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MemoryUsage", function() { return _defaults__WEBPACK_IMPORTED_MODULE_1__["MemoryUsage"]; });

/* harmony import */ var _style_statusbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./style/statusbar */ "Hx4J");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "statusBar", function() { return _style_statusbar__WEBPACK_IMPORTED_MODULE_2__["statusBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "side", function() { return _style_statusbar__WEBPACK_IMPORTED_MODULE_2__["side"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "leftSide", function() { return _style_statusbar__WEBPACK_IMPORTED_MODULE_2__["leftSide"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rightSide", function() { return _style_statusbar__WEBPACK_IMPORTED_MODULE_2__["rightSide"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "item", function() { return _style_statusbar__WEBPACK_IMPORTED_MODULE_2__["item"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "clickedItem", function() { return _style_statusbar__WEBPACK_IMPORTED_MODULE_2__["clickedItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "interactiveItem", function() { return _style_statusbar__WEBPACK_IMPORTED_MODULE_2__["interactiveItem"]; });

/* harmony import */ var _statusbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./statusbar */ "nqLG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StatusBar", function() { return _statusbar__WEBPACK_IMPORTED_MODULE_3__["StatusBar"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tokens */ "K/U1");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IStatusBar", function() { return _tokens__WEBPACK_IMPORTED_MODULE_4__["IStatusBar"]; });

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/





//# sourceMappingURL=index.js.map

/***/ }),

/***/ "8TQW":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/lib/tokens.js ***!
  \****************************************************************************************/
/*! exports provided: IDocumentManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IDocumentManager", function() { return IDocumentManager; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/* tslint:disable */
/**
 * The document registry token.
 */
const IDocumentManager = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/docmanager:IDocumentManager');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "8bJw":
/*!******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/circle-empty.svg ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "8bJwF":
/*!******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/circle-empty.svg ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "8kDe":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/observables/lib/modeldb.js ***!
  \******************************************************************************************/
/*! exports provided: ObservableValue, ModelDB */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObservableValue", function() { return ObservableValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModelDB", function() { return ModelDB; });
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _observablemap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./observablemap */ "Pi81");
/* harmony import */ var _observablejson__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./observablejson */ "cmkH");
/* harmony import */ var _observablestring__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./observablestring */ "XZQe");
/* harmony import */ var _undoablelist__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./undoablelist */ "j+G8");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/**
 * A concrete implementation of an `IObservableValue`.
 */
class ObservableValue {
    /**
     * Constructor for the value.
     *
     * @param initialValue: the starting value for the `ObservableValue`.
     */
    constructor(initialValue = null) {
        this._value = null;
        this._changed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this._isDisposed = false;
        this._value = initialValue;
    }
    /**
     * The observable type.
     */
    get type() {
        return 'Value';
    }
    /**
     * Whether the value has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * The changed signal.
     */
    get changed() {
        return this._changed;
    }
    /**
     * Get the current value, or `undefined` if it has not been set.
     */
    get() {
        return this._value;
    }
    /**
     * Set the current value.
     */
    set(value) {
        let oldValue = this._value;
        if (_lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__["JSONExt"].deepEqual(oldValue, value)) {
            return;
        }
        this._value = value;
        this._changed.emit({
            oldValue: oldValue,
            newValue: value
        });
    }
    /**
     * Dispose of the resources held by the value.
     */
    dispose() {
        if (this._isDisposed) {
            return;
        }
        this._isDisposed = true;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"].clearData(this);
        this._value = null;
    }
}
/**
 * The namespace for the `ObservableValue` class statics.
 */
(function (ObservableValue) {
    /**
     * The changed args object emitted by the `IObservableValue`.
     */
    class IChangedArgs {
    }
    ObservableValue.IChangedArgs = IChangedArgs;
})(ObservableValue || (ObservableValue = {}));
/**
 * A concrete implementation of an `IModelDB`.
 */
class ModelDB {
    /**
     * Constructor for the `ModelDB`.
     */
    constructor(options = {}) {
        /**
         * Whether the model has been populated with
         * any model values.
         */
        this.isPrepopulated = false;
        /**
         * Whether the model is collaborative.
         */
        this.isCollaborative = false;
        /**
         * A promise resolved when the model is connected
         * to its backend. For the in-memory ModelDB it
         * is immediately resolved.
         */
        this.connected = Promise.resolve(void 0);
        this._toDispose = false;
        this._isDisposed = false;
        this._disposables = new _lumino_disposable__WEBPACK_IMPORTED_MODULE_0__["DisposableSet"]();
        this._basePath = options.basePath || '';
        if (options.baseDB) {
            this._db = options.baseDB;
        }
        else {
            this._db = new _observablemap__WEBPACK_IMPORTED_MODULE_3__["ObservableMap"]();
            this._toDispose = true;
        }
    }
    /**
     * The base path for the `ModelDB`. This is prepended
     * to all the paths that are passed in to the member
     * functions of the object.
     */
    get basePath() {
        return this._basePath;
    }
    /**
     * Whether the database is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Get a value for a path.
     *
     * @param path: the path for the object.
     *
     * @returns an `IObservable`.
     */
    get(path) {
        return this._db.get(this._resolvePath(path));
    }
    /**
     * Whether the `IModelDB` has an object at this path.
     *
     * @param path: the path for the object.
     *
     * @returns a boolean for whether an object is at `path`.
     */
    has(path) {
        return this._db.has(this._resolvePath(path));
    }
    /**
     * Create a string and insert it in the database.
     *
     * @param path: the path for the string.
     *
     * @returns the string that was created.
     */
    createString(path) {
        let str = new _observablestring__WEBPACK_IMPORTED_MODULE_5__["ObservableString"]();
        this._disposables.add(str);
        this.set(path, str);
        return str;
    }
    /**
     * Create an undoable list and insert it in the database.
     *
     * @param path: the path for the list.
     *
     * @returns the list that was created.
     *
     * #### Notes
     * The list can only store objects that are simple
     * JSON Objects and primitives.
     */
    createList(path) {
        let vec = new _undoablelist__WEBPACK_IMPORTED_MODULE_6__["ObservableUndoableList"](new _undoablelist__WEBPACK_IMPORTED_MODULE_6__["ObservableUndoableList"].IdentitySerializer());
        this._disposables.add(vec);
        this.set(path, vec);
        return vec;
    }
    /**
     * Create a map and insert it in the database.
     *
     * @param path: the path for the map.
     *
     * @returns the map that was created.
     *
     * #### Notes
     * The map can only store objects that are simple
     * JSON Objects and primitives.
     */
    createMap(path) {
        let map = new _observablejson__WEBPACK_IMPORTED_MODULE_4__["ObservableJSON"]();
        this._disposables.add(map);
        this.set(path, map);
        return map;
    }
    /**
     * Create an opaque value and insert it in the database.
     *
     * @param path: the path for the value.
     *
     * @returns the value that was created.
     */
    createValue(path) {
        let val = new ObservableValue();
        this._disposables.add(val);
        this.set(path, val);
        return val;
    }
    /**
     * Get a value at a path, or `undefined if it has not been set
     * That value must already have been created using `createValue`.
     *
     * @param path: the path for the value.
     */
    getValue(path) {
        let val = this.get(path);
        if (!val || val.type !== 'Value') {
            throw Error('Can only call getValue for an ObservableValue');
        }
        return val.get();
    }
    /**
     * Set a value at a path. That value must already have
     * been created using `createValue`.
     *
     * @param path: the path for the value.
     *
     * @param value: the new value.
     */
    setValue(path, value) {
        let val = this.get(path);
        if (!val || val.type !== 'Value') {
            throw Error('Can only call setValue on an ObservableValue');
        }
        val.set(value);
    }
    /**
     * Create a view onto a subtree of the model database.
     *
     * @param basePath: the path for the root of the subtree.
     *
     * @returns an `IModelDB` with a view onto the original
     *   `IModelDB`, with `basePath` prepended to all paths.
     */
    view(basePath) {
        let view = new ModelDB({ basePath, baseDB: this });
        this._disposables.add(view);
        return view;
    }
    /**
     * Set a value at a path. Not intended to
     * be called by user code, instead use the
     * `create*` factory methods.
     *
     * @param path: the path to set the value at.
     *
     * @param value: the value to set at the path.
     */
    set(path, value) {
        this._db.set(this._resolvePath(path), value);
    }
    /**
     * Dispose of the resources held by the database.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        if (this._toDispose) {
            this._db.dispose();
        }
        this._disposables.dispose();
    }
    /**
     * Compute the fully resolved path for a path argument.
     */
    _resolvePath(path) {
        if (this._basePath) {
            path = this._basePath + '.' + path;
        }
        return path;
    }
}
//# sourceMappingURL=modeldb.js.map

/***/ }),

/***/ "8n1V":
/*!***********************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-up-empty-thin.svg ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E %3Cg class='jp-icon3' fill='%23616161' shape-rendering='geometricPrecision'%3E %3Cpolygon class='st1' points='15.4,13.3 9.9,7.7 4.4,13.2 3.6,12.5 9.9,6.3 16.1,12.6 '/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "8n1Vc":
/*!***********************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-up-empty-thin.svg ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n\t<g class=\"jp-icon3\" fill=\"#616161\" shape-rendering=\"geometricPrecision\">\n\t\t<polygon class=\"st1\" points=\"15.4,13.3 9.9,7.7 4.4,13.2 3.6,12.5 9.9,6.3 16.1,12.6 \"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "8o6w":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/validate.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const validate_1 = __webpack_require__(/*! ../validate */ "VVJs");
/**
 * Required fields for `IKernelHeader`.
 */
const HEADER_FIELDS = ['username', 'version', 'session', 'msg_id', 'msg_type'];
/**
 * Required fields and types for contents of various types of `kernel.IMessage`
 * messages on the iopub channel.
 */
const IOPUB_CONTENT_FIELDS = {
    stream: { name: 'string', text: 'string' },
    display_data: { data: 'object', metadata: 'object' },
    execute_input: { code: 'string', execution_count: 'number' },
    execute_result: {
        execution_count: 'number',
        data: 'object',
        metadata: 'object'
    },
    error: { ename: 'string', evalue: 'string', traceback: 'object' },
    status: {
        execution_state: [
            'string',
            ['starting', 'idle', 'busy', 'restarting', 'dead']
        ]
    },
    clear_output: { wait: 'boolean' },
    comm_open: { comm_id: 'string', target_name: 'string', data: 'object' },
    comm_msg: { comm_id: 'string', data: 'object' },
    comm_close: { comm_id: 'string' },
    shutdown_reply: { restart: 'boolean' } // Emitted by the IPython kernel.
};
/**
 * Validate the header of a kernel message.
 */
function validateHeader(header) {
    for (let i = 0; i < HEADER_FIELDS.length; i++) {
        validate_1.validateProperty(header, HEADER_FIELDS[i], 'string');
    }
}
/**
 * Validate a kernel message object.
 */
function validateMessage(msg) {
    validate_1.validateProperty(msg, 'metadata', 'object');
    validate_1.validateProperty(msg, 'content', 'object');
    validate_1.validateProperty(msg, 'channel', 'string');
    validateHeader(msg.header);
    if (msg.channel === 'iopub') {
        validateIOPubContent(msg);
    }
}
exports.validateMessage = validateMessage;
/**
 * Validate content an kernel message on the iopub channel.
 */
function validateIOPubContent(msg) {
    if (msg.channel === 'iopub') {
        let fields = IOPUB_CONTENT_FIELDS[msg.header.msg_type];
        // Check for unknown message type.
        if (fields === undefined) {
            return;
        }
        let names = Object.keys(fields);
        let content = msg.content;
        for (let i = 0; i < names.length; i++) {
            let args = fields[names[i]];
            if (!Array.isArray(args)) {
                args = [args];
            }
            validate_1.validateProperty(content, names[i], ...args);
        }
    }
}
/**
 * Validate a `Kernel.IModel` object.
 */
function validateModel(model) {
    validate_1.validateProperty(model, 'name', 'string');
    validate_1.validateProperty(model, 'id', 'string');
}
exports.validateModel = validateModel;
/**
 * Validate an array of `IModel` objects.
 */
function validateModels(models) {
    if (!Array.isArray(models)) {
        throw new Error('Invalid kernel list');
    }
    models.forEach(d => validateModel(d));
}
exports.validateModels = validateModels;
//# sourceMappingURL=validate.js.map

/***/ }),

/***/ 9:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "95NK":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/spinner.css ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) 2017, Jupyter Development Team.\n|\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-Spinner {\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: var(--jp-layout-color0);\n  outline: none;\n}\n\n.jp-SpinnerContent {\n  font-size: 10px;\n  margin: 50px auto;\n  text-indent: -9999em;\n  width: 3em;\n  height: 3em;\n  border-radius: 50%;\n  background: var(--jp-brand-color3);\n  background: linear-gradient(\n    to right,\n    #f37626 10%,\n    rgba(255, 255, 255, 0) 42%\n  );\n  position: relative;\n  animation: load3 1s infinite linear, fadeIn 1s;\n}\n\n.jp-SpinnerContent:before {\n  width: 50%;\n  height: 50%;\n  background: #f37626;\n  border-radius: 100% 0 0 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  content: '';\n}\n\n.jp-SpinnerContent:after {\n  background: var(--jp-layout-color0);\n  width: 75%;\n  height: 75%;\n  border-radius: 50%;\n  content: '';\n  margin: auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes load3 {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n", ""]);


/***/ }),

/***/ "9FPD":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/copy.svg ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 18 18' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M11.9,1H3.2C2.4,1,1.7,1.7,1.7,2.5v10.2h1.5V2.5h8.7V1z M14.1,3.9h-8c-0.8,0-1.5,0.7-1.5,1.5v10.2c0,0.8,0.7,1.5,1.5,1.5h8 c0.8,0,1.5-0.7,1.5-1.5V5.4C15.5,4.6,14.9,3.9,14.1,3.9z M14.1,15.5h-8V5.4h8V15.5z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "9FPD2":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/copy.svg ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 18 18\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M11.9,1H3.2C2.4,1,1.7,1.7,1.7,2.5v10.2h1.5V2.5h8.7V1z M14.1,3.9h-8c-0.8,0-1.5,0.7-1.5,1.5v10.2c0,0.8,0.7,1.5,1.5,1.5h8 c0.8,0,1.5-0.7,1.5-1.5V5.4C15.5,4.6,14.9,3.9,14.1,3.9z M14.1,15.5h-8V5.4h8V15.5z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "9OFR":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/future.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(setImmediate) {
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
const disposable_1 = __webpack_require__(/*! @lumino/disposable */ "suH0");
const KernelMessage = __importStar(__webpack_require__(/*! ./messages */ "s/ac"));
/**
 * Implementation of a kernel future.
 *
 * If a reply is expected, the Future is considered done when both a `reply`
 * message and an `idle` iopub status message have been received.  Otherwise, it
 * is considered done when the `idle` status is received.
 *
 */
class KernelFutureHandler extends disposable_1.DisposableDelegate {
    /**
     * Construct a new KernelFutureHandler.
     */
    constructor(cb, msg, expectReply, disposeOnDone, kernel) {
        super(cb);
        this._status = 0;
        this._stdin = Private.noOp;
        this._iopub = Private.noOp;
        this._reply = Private.noOp;
        this._done = new coreutils_1.PromiseDelegate();
        this._hooks = new Private.HookList();
        this._disposeOnDone = true;
        this._msg = msg;
        if (!expectReply) {
            this._setFlag(Private.KernelFutureFlag.GotReply);
        }
        this._disposeOnDone = disposeOnDone;
        this._kernel = kernel;
    }
    /**
     * Get the original outgoing message.
     */
    get msg() {
        return this._msg;
    }
    /**
     * A promise that resolves when the future is done.
     */
    get done() {
        return this._done.promise;
    }
    /**
     * Get the reply handler.
     */
    get onReply() {
        return this._reply;
    }
    /**
     * Set the reply handler.
     */
    set onReply(cb) {
        this._reply = cb;
    }
    /**
     * Get the iopub handler.
     */
    get onIOPub() {
        return this._iopub;
    }
    /**
     * Set the iopub handler.
     */
    set onIOPub(cb) {
        this._iopub = cb;
    }
    /**
     * Get the stdin handler.
     */
    get onStdin() {
        return this._stdin;
    }
    /**
     * Set the stdin handler.
     */
    set onStdin(cb) {
        this._stdin = cb;
    }
    /**
     * Register hook for IOPub messages.
     *
     * @param hook - The callback invoked for an IOPub message.
     *
     * #### Notes
     * The IOPub hook system allows you to preempt the handlers for IOPub
     * messages handled by the future.
     *
     * The most recently registered hook is run first. A hook can return a
     * boolean or a promise to a boolean, in which case all kernel message
     * processing pauses until the promise is fulfilled. If a hook return value
     * resolves to false, any later hooks will not run and the function will
     * return a promise resolving to false. If a hook throws an error, the error
     * is logged to the console and the next hook is run. If a hook is
     * registered during the hook processing, it will not run until the next
     * message. If a hook is removed during the hook processing, it will be
     * deactivated immediately.
     */
    registerMessageHook(hook) {
        if (this.isDisposed) {
            throw new Error('Kernel future is disposed');
        }
        this._hooks.add(hook);
    }
    /**
     * Remove a hook for IOPub messages.
     *
     * @param hook - The hook to remove.
     *
     * #### Notes
     * If a hook is removed during the hook processing, it will be deactivated immediately.
     */
    removeMessageHook(hook) {
        if (this.isDisposed) {
            return;
        }
        this._hooks.remove(hook);
    }
    /**
     * Send an `input_reply` message.
     */
    sendInputReply(content) {
        this._kernel.sendInputReply(content);
    }
    /**
     * Dispose and unregister the future.
     */
    dispose() {
        this._stdin = Private.noOp;
        this._iopub = Private.noOp;
        this._reply = Private.noOp;
        this._hooks = null;
        if (!this._testFlag(Private.KernelFutureFlag.IsDone)) {
            // TODO: Uncomment the following logging code, and check for any tests that trigger it.
            // let status = [];
            // if (!this._testFlag(Private.KernelFutureFlag.GotIdle)) {
            //   status.push('idle');
            // }
            // if (!this._testFlag(Private.KernelFutureFlag.GotReply)) {
            //   status.push('reply');
            // }
            // console.warn(
            //   `*************** DISPOSED BEFORE DONE: K${this._kernel.id.slice(
            //     0,
            //     6
            //   )} M${this._msg.header.msg_id.slice(0, 6)} missing ${status.join(' ')}`
            // );
            // Reject the `done` promise, but catch its error here in case no one else
            // is waiting for the promise to resolve. This prevents the error from
            // being displayed in the console, but does not prevent it from being
            // caught by a client who is waiting for it.
            this._done.promise.catch(() => {
                /* no-op */
            });
            this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`));
        }
        super.dispose();
    }
    /**
     * Handle an incoming kernel message.
     */
    async handleMsg(msg) {
        switch (msg.channel) {
            case 'control':
            case 'shell':
                if (msg.channel === this.msg.channel &&
                    msg.parent_header.msg_id === this.msg.header.msg_id) {
                    await this._handleReply(msg);
                }
                break;
            case 'stdin':
                await this._handleStdin(msg);
                break;
            case 'iopub':
                await this._handleIOPub(msg);
                break;
            default:
                break;
        }
    }
    async _handleReply(msg) {
        let reply = this._reply;
        if (reply) {
            // tslint:disable-next-line:await-promise
            await reply(msg);
        }
        this._replyMsg = msg;
        this._setFlag(Private.KernelFutureFlag.GotReply);
        if (this._testFlag(Private.KernelFutureFlag.GotIdle)) {
            this._handleDone();
        }
    }
    async _handleStdin(msg) {
        let stdin = this._stdin;
        if (stdin) {
            // tslint:disable-next-line:await-promise
            await stdin(msg);
        }
    }
    async _handleIOPub(msg) {
        let process = await this._hooks.process(msg);
        let iopub = this._iopub;
        if (process && iopub) {
            // tslint:disable-next-line:await-promise
            await iopub(msg);
        }
        if (KernelMessage.isStatusMsg(msg) &&
            msg.content.execution_state === 'idle') {
            this._setFlag(Private.KernelFutureFlag.GotIdle);
            if (this._testFlag(Private.KernelFutureFlag.GotReply)) {
                this._handleDone();
            }
        }
    }
    _handleDone() {
        if (this._testFlag(Private.KernelFutureFlag.IsDone)) {
            return;
        }
        this._setFlag(Private.KernelFutureFlag.IsDone);
        this._done.resolve(this._replyMsg);
        if (this._disposeOnDone) {
            this.dispose();
        }
    }
    /**
     * Test whether the given future flag is set.
     */
    _testFlag(flag) {
        // tslint:disable-next-line
        return (this._status & flag) !== 0;
    }
    /**
     * Set the given future flag.
     */
    _setFlag(flag) {
        // tslint:disable-next-line
        this._status |= flag;
    }
}
exports.KernelFutureHandler = KernelFutureHandler;
class KernelControlFutureHandler extends KernelFutureHandler {
}
exports.KernelControlFutureHandler = KernelControlFutureHandler;
class KernelShellFutureHandler extends KernelFutureHandler {
}
exports.KernelShellFutureHandler = KernelShellFutureHandler;
var Private;
(function (Private) {
    /**
     * A no-op function.
     */
    Private.noOp = () => {
        /* no-op */
    };
    /**
     * Defer a computation.
     *
     * #### NOTES
     * We can't just use requestAnimationFrame since it is not available in node.
     * This implementation is from Phosphor:
     * https://github.com/phosphorjs/phosphor/blob/e88e4321289bb1198f3098e7bda40736501f2ed8/tests/test-messaging/src/index.spec.ts#L63
     */
    const defer = (() => {
        let ok = typeof requestAnimationFrame === 'function';
        return ok ? requestAnimationFrame : setImmediate;
    })();
    class HookList {
        constructor() {
            this._hooks = [];
        }
        /**
         * Register a hook.
         *
         * @param hook - The callback to register.
         */
        add(hook) {
            this.remove(hook);
            this._hooks.push(hook);
        }
        /**
         * Remove a hook, if it exists in the hook list.
         *
         * @param hook - The callback to remove.
         */
        remove(hook) {
            let index = this._hooks.indexOf(hook);
            if (index >= 0) {
                this._hooks[index] = null;
                this._scheduleCompact();
            }
        }
        /**
         * Process a message through the hooks.
         *
         * @returns a promise resolving to false if any hook resolved as false,
         * otherwise true
         *
         * #### Notes
         * The most recently registered hook is run first. A hook can return a
         * boolean or a promise to a boolean, in which case processing pauses until
         * the promise is fulfilled. If a hook return value resolves to false, any
         * later hooks will not run and the function will return a promise resolving
         * to false. If a hook throws an error, the error is logged to the console
         * and the next hook is run. If a hook is registered during the hook
         * processing, it will not run until the next message. If a hook is removed
         * during the hook processing, it will be deactivated immediately.
         */
        async process(msg) {
            // Wait until we can start a new process run.
            await this._processing;
            // Start the next process run.
            let processing = new coreutils_1.PromiseDelegate();
            this._processing = processing.promise;
            let continueHandling;
            // Call the end hook (most recently-added) first. Starting at the end also
            // guarantees that hooks added during the processing will not be run in
            // this process run.
            for (let i = this._hooks.length - 1; i >= 0; i--) {
                let hook = this._hooks[i];
                // If the hook has been removed, continue to the next one.
                if (hook === null) {
                    continue;
                }
                // Execute the hook and log any errors.
                try {
                    // tslint:disable-next-line:await-promise
                    continueHandling = await hook(msg);
                }
                catch (err) {
                    continueHandling = true;
                    console.error(err);
                }
                // If the hook resolved to false, stop processing and return.
                if (continueHandling === false) {
                    processing.resolve(undefined);
                    return false;
                }
            }
            // All hooks returned true (or errored out), so return true.
            processing.resolve(undefined);
            return true;
        }
        /**
         * Schedule a cleanup of the list, removing any hooks that have been nulled out.
         */
        _scheduleCompact() {
            if (!this._compactScheduled) {
                this._compactScheduled = true;
                // Schedule a compaction in between processing runs. We do the
                // scheduling in an animation frame to rate-limit our compactions. If we
                // need to compact more frequently, we can change this to directly
                // schedule the compaction.
                defer(() => {
                    this._processing = this._processing.then(() => {
                        this._compactScheduled = false;
                        this._compact();
                    });
                });
            }
        }
        /**
         * Compact the list, removing any nulls.
         */
        _compact() {
            let numNulls = 0;
            for (let i = 0, len = this._hooks.length; i < len; i++) {
                let hook = this._hooks[i];
                if (this._hooks[i] === null) {
                    numNulls++;
                }
                else {
                    this._hooks[i - numNulls] = hook;
                }
            }
            this._hooks.length -= numNulls;
        }
    }
    Private.HookList = HookList;
    /**
     * Bit flags for the kernel future state.
     */
    let KernelFutureFlag;
    (function (KernelFutureFlag) {
        KernelFutureFlag[KernelFutureFlag["GotReply"] = 1] = "GotReply";
        KernelFutureFlag[KernelFutureFlag["GotIdle"] = 2] = "GotIdle";
        KernelFutureFlag[KernelFutureFlag["IsDone"] = 4] = "IsDone";
        KernelFutureFlag[KernelFutureFlag["DisposeOnDone"] = 8] = "DisposeOnDone";
    })(KernelFutureFlag = Private.KernelFutureFlag || (Private.KernelFutureFlag = {}));
})(Private || (Private = {}));
//# sourceMappingURL=future.js.map
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../3.6/share/jupyter/lab/staging/node_modules/timers-browserify/main.js */ "URgk").setImmediate))

/***/ }),

/***/ "9Wnf":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/notebook.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cg class='jp-icon-warn0 jp-icon-selectable' fill='%23EF6C00' %3E %3Cpath d='M18.7,3.3v15.4H3.3V3.3H18.7 M20.2,1.8H1.8v18.3h18.3l0,0L20.2,1.8L20.2,1.8z'/%3E %3Cpolygon points='16.5,16.5 11.1,12.2 5.5,16.5 5.5,5.5 16.5,5.5 '/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "9WnfR":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/notebook.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<g\n\t\tclass=\"jp-icon-warn0 jp-icon-selectable\"\n\t\tfill=\"#EF6C00\"\n\t>\n\t\t<path d=\"M18.7,3.3v15.4H3.3V3.3H18.7 M20.2,1.8H1.8v18.3h18.3l0,0L20.2,1.8L20.2,1.8z\"/>\n\t\t<polygon points=\"16.5,16.5 11.1,12.2 5.5,16.5 5.5,5.5 16.5,5.5 \t\"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "9aRE":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/bug.svg ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "9aREr":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/bug.svg ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "9fgM":
/*!***************************!*\
  !*** ./build/imports.css ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./imports.css */ "mcb3");
content = content.__esModule ? content.default : content;

if (typeof content === 'string') {
  content = [[module.i, content, '']];
}

var options = {}

options.insert = "head";
options.singleton = false;

var update = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "LboF")(content, options);

if (content.locals) {
  module.exports = content.locals;
}


/***/ }),

/***/ "A0uP":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/tokens.js ***!
  \*******************************************************************************************/
/*! exports provided: ILabIconManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ILabIconManager", function() { return ILabIconManager; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * The ILabIconManager token.
 */
const ILabIconManager = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/ui-components:ILabIconManager');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "ANye":
/*!****************************!*\
  !*** ./build/index.out.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "hI0s");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// This file is auto-generated from the corresponding file in /dev_mode
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

__webpack_require__(/*! es6-promise/auto */ "VLrD");  // polyfill Promise on IE



// eslint-disable-next-line no-undef
__webpack_require__.p = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('fullStaticUrl') + '/';

// This must be after the public path is set.
// This cannot be extracted because the public path is dynamic.
__webpack_require__(/*! ./imports.css */ "9fgM");

/**
 * The main entry point for the application.
 */
function main() {
  var JupyterLab = __webpack_require__(/*! @jupyterlab/application */ "FkFl").JupyterLab;
  var disabled = [];
  var deferred = [];
  var ignorePlugins = [];
  var register = [];

  // Handle the registered mime extensions.
  var mimeExtensions = [];
  var extension;
  var extMod;
  var plugins = [];
  try {
    extMod = __webpack_require__(/*! @jupyterlab/javascript-extension/ */ "WgSP");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      mimeExtensions.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/json-extension/ */ "rTQe");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      mimeExtensions.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/pdf-extension/ */ "E6GL");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      mimeExtensions.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/vega5-extension/ */ "4Y+3");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      mimeExtensions.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }

  // Handled the registered standard extensions.
  try {
    extMod = __webpack_require__(/*! @jupyterlab/application-extension/ */ "e5Mh");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/apputils-extension/ */ "eYkc");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/celltags-extension/ */ "93mg");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/codemirror-extension/ */ "S09q");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/completer-extension/ */ "VYmV");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/console-extension/ */ "NHPb");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/csvviewer-extension/ */ "31N0");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/docmanager-extension/ */ "JFKr");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/documentsearch-extension/ */ "yyHB");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/extensionmanager-extension/ */ "ZPDT");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/filebrowser-extension/ */ "/KN4");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/fileeditor-extension/ */ "QP8U");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/help-extension/ */ "o6FZ");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/htmlviewer-extension/ */ "k/Qq");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/hub-extension/ */ "t3kj");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/imageviewer-extension/ */ "gC0g");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/inspector-extension/ */ "RMrj");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/launcher-extension/ */ "9Ee5");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/logconsole-extension/ */ "U33M");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/mainmenu-extension/ */ "8943");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/markdownviewer-extension/ */ "co0h");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/mathjax2-extension/ */ "5pV8");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/notebook-extension/ */ "fP2p");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/rendermime-extension/ */ "1X/A");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/running-extension/ */ "QbIU");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/settingeditor-extension/ */ "p0rm");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/shortcuts-extension/ */ "kbcq");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/statusbar-extension/ */ "s3mg");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/tabmanager-extension/ */ "7sfO");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/terminal-extension/ */ "21Ld");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/theme-dark-extension/ */ "Ruvy");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/theme-light-extension/ */ "fSz3");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/tooltip-extension/ */ "lmUn");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/ui-components-extension/ */ "ywOs");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  try {
    extMod = __webpack_require__(/*! @jupyterlab/vdom-extension/ */ "lolG");
    extension = extMod.default;

    // Handle CommonJS exports.
    if (!extMod.hasOwnProperty('__esModule')) {
      extension = extMod;
    }

    plugins = Array.isArray(extension) ? extension : [extension];
    plugins.forEach(function(plugin) {
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDeferred(plugin.id)) {
        deferred.push(plugin.id);
        ignorePlugins.push(plugin.id);
      }
      if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.isDisabled(plugin.id)) {
        disabled.push(plugin.id);
        return;
      }
      register.push(plugin);
    });
  } catch (e) {
    console.error(e);
  }
  var lab = new JupyterLab({
    mimeExtensions: mimeExtensions,
    disabled: {
      matches: disabled,
      patterns: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.disabled
        .map(function (val) { return val.raw; })
    },
    deferred: {
      matches: deferred,
      patterns: _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].Extension.deferred
        .map(function (val) { return val.raw; })
    },
  });
  register.forEach(function(item) { lab.registerPluginModule(item); });
  lab.start({ ignorePlugins: ignorePlugins });

  // Expose global lab instance when in dev mode.
  if ((_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('devMode') || '').toLowerCase() === 'true') {
    window.lab = lab;
  }

  // Handle a browser test.
  var browserTest = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PageConfig"].getOption('browserTest');
  if (browserTest.toLowerCase() === 'true') {
    var el = document.createElement('div');
    el.id = 'browserTest';
    document.body.appendChild(el);
    el.textContent = '[]';
    el.style.display = 'none';
    var errors = [];
    var reported = false;
    var timeout = 25000;

    var report = function() {
      if (reported) {
        return;
      }
      reported = true;
      el.className = 'completed';
    }

    window.onerror = function(msg, url, line, col, error) {
      errors.push(String(error));
      el.textContent = JSON.stringify(errors)
    };
    console.error = function(message) {
      errors.push(String(message));
      el.textContent = JSON.stringify(errors)
    };

    lab.restored
      .then(function() { report(errors); })
      .catch(function(reason) { report([`RestoreError: ${reason.message}`]); });

    // Handle failures to restore after the timeout has elapsed.
    window.setTimeout(function() { report(errors); }, timeout);
  }

}

window.addEventListener('load', main);


/***/ }),

/***/ "BOMY":
/*!*************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/index.js ***!
  \*************************************************************************************/
/*! exports provided: MainMenu, JupyterLabMenu, EditMenu, FileMenu, HelpMenu, KernelMenu, RunMenu, SettingsMenu, ViewMenu, TabsMenu, IMainMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _mainmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mainmenu */ "cQue");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MainMenu", function() { return _mainmenu__WEBPACK_IMPORTED_MODULE_0__["MainMenu"]; });

/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JupyterLabMenu", function() { return _labmenu__WEBPACK_IMPORTED_MODULE_1__["JupyterLabMenu"]; });

/* harmony import */ var _edit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./edit */ "7IHF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EditMenu", function() { return _edit__WEBPACK_IMPORTED_MODULE_2__["EditMenu"]; });

/* harmony import */ var _file__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./file */ "vNCt");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FileMenu", function() { return _file__WEBPACK_IMPORTED_MODULE_3__["FileMenu"]; });

/* harmony import */ var _help__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./help */ "BvQV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HelpMenu", function() { return _help__WEBPACK_IMPORTED_MODULE_4__["HelpMenu"]; });

/* harmony import */ var _kernel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./kernel */ "scvd");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "KernelMenu", function() { return _kernel__WEBPACK_IMPORTED_MODULE_5__["KernelMenu"]; });

/* harmony import */ var _run__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./run */ "STaG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RunMenu", function() { return _run__WEBPACK_IMPORTED_MODULE_6__["RunMenu"]; });

/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./settings */ "OCew");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SettingsMenu", function() { return _settings__WEBPACK_IMPORTED_MODULE_7__["SettingsMenu"]; });

/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./view */ "Kt44");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ViewMenu", function() { return _view__WEBPACK_IMPORTED_MODULE_8__["ViewMenu"]; });

/* harmony import */ var _tabs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tabs */ "f9/9");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TabsMenu", function() { return _tabs__WEBPACK_IMPORTED_MODULE_9__["TabsMenu"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./tokens */ "xmJR");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IMainMenu", function() { return _tokens__WEBPACK_IMPORTED_MODULE_10__["IMainMenu"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.











//# sourceMappingURL=index.js.map

/***/ }),

/***/ "BqCg":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codemirror/lib/index.js ***!
  \***************************************************************************************/
/*! exports provided: Mode, CodeMirrorEditor, CodeMirrorEditorFactory, CodeMirrorMimeTypeService, EditorSyntaxStatus, editorServices */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "editorServices", function() { return editorServices; });
/* harmony import */ var _factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./factory */ "kq1Q");
/* harmony import */ var _mimetype__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mimetype */ "O7jJ");
/* harmony import */ var _mode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mode */ "6m1J");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Mode", function() { return _mode__WEBPACK_IMPORTED_MODULE_2__["Mode"]; });

/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor */ "xg53");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CodeMirrorEditor", function() { return _editor__WEBPACK_IMPORTED_MODULE_3__["CodeMirrorEditor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CodeMirrorEditorFactory", function() { return _factory__WEBPACK_IMPORTED_MODULE_0__["CodeMirrorEditorFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CodeMirrorMimeTypeService", function() { return _mimetype__WEBPACK_IMPORTED_MODULE_1__["CodeMirrorMimeTypeService"]; });

/* harmony import */ var _syntaxstatus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./syntaxstatus */ "V0Vv");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EditorSyntaxStatus", function() { return _syntaxstatus__WEBPACK_IMPORTED_MODULE_4__["EditorSyntaxStatus"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/**
 * The default editor services.
 */
const editorServices = {
    factoryService: new _factory__WEBPACK_IMPORTED_MODULE_0__["CodeMirrorEditorFactory"](),
    mimeTypeService: new _mimetype__WEBPACK_IMPORTED_MODULE_1__["CodeMirrorMimeTypeService"]()
};
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "Bs93":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/windowresolver.js ***!
  \**********************************************************************************************/
/*! exports provided: IWindowResolver, WindowResolver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IWindowResolver", function() { return IWindowResolver; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WindowResolver", function() { return WindowResolver; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/* tslint:disable */
/**
 * The default window resolver token.
 */
const IWindowResolver = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/apputils:IWindowResolver');
/**
 * A concrete implementation of a window name resolver.
 */
class WindowResolver {
    /**
     * The resolved window name.
     *
     * #### Notes
     * If the `resolve` promise has not resolved, the behavior is undefined.
     */
    get name() {
        return this._name;
    }
    /**
     * Resolve a window name to use as a handle among shared resources.
     *
     * @param candidate - The potential window name being resolved.
     *
     * #### Notes
     * Typically, the name candidate should be a JupyterLab workspace name or
     * an empty string if there is no workspace.
     *
     * If the returned promise rejects, a window name cannot be resolved without
     * user intervention, which typically means navigation to a new URL.
     */
    resolve(candidate) {
        return Private.resolve(candidate).then(name => {
            this._name = name;
        });
    }
}
/*
 * A namespace for private module data.
 */
var Private;
(function (Private) {
    /**
     * The internal prefix for private local storage keys.
     */
    const PREFIX = '@jupyterlab/statedb:StateDB';
    /**
     * The local storage beacon key.
     */
    const BEACON = `${PREFIX}:beacon`;
    /**
     * The timeout (in ms) to wait for beacon responders.
     *
     * #### Notes
     * This value is a whole number between 200 and 500 in order to prevent
     * perfect timeout collisions between multiple simultaneously opening windows
     * that have the same URL. This is an edge case because multiple windows
     * should not ordinarily share the same URL, but it can be contrived.
     */
    const TIMEOUT = Math.floor(200 + Math.random() * 300);
    /**
     * The local storage window key.
     */
    const WINDOW = `${PREFIX}:window`;
    /**
     * Current beacon request
     *
     * #### Notes
     * We keep track of the current request so that we can ignore our own beacon
     * requests. This is to work around a bug in Safari, where Safari sometimes
     * triggers local storage events for changes made by the current tab. See
     * https://github.com/jupyterlab/jupyterlab/issues/6921#issuecomment-540817283
     * for more details.
     */
    let currentBeaconRequest = null;
    /**
     * A potential preferred default window name.
     */
    let candidate = null;
    /**
     * The window name promise.
     */
    let delegate = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["PromiseDelegate"]();
    /**
     * The known window names.
     */
    let known = {};
    /**
     * The window name.
     */
    let name = null;
    /**
     * Whether the name resolution has completed.
     */
    let resolved = false;
    /**
     * Start the storage event handler.
     */
    function initialize() {
        // Listen to all storage events for beacons and window names.
        window.addEventListener('storage', (event) => {
            const { key, newValue } = event;
            // All the keys we care about have values.
            if (newValue === null) {
                return;
            }
            // If the beacon was fired, respond with a ping.
            if (key === BEACON &&
                newValue !== currentBeaconRequest &&
                candidate !== null) {
                ping(resolved ? name : candidate);
                return;
            }
            // If the window name is resolved, bail.
            if (resolved || key !== WINDOW) {
                return;
            }
            const reported = newValue.replace(/\-\d+$/, '');
            // Store the reported window name.
            known[reported] = null;
            // If a reported window name and candidate collide, reject the candidate.
            if (!candidate || candidate in known) {
                reject();
            }
        });
    }
    /**
     * Ping peers with payload.
     */
    function ping(payload) {
        if (payload === null) {
            return;
        }
        const { localStorage } = window;
        localStorage.setItem(WINDOW, `${payload}-${new Date().getTime()}`);
    }
    /**
     * Reject the candidate.
     */
    function reject() {
        resolved = true;
        currentBeaconRequest = null;
        delegate.reject(`Window name candidate "${candidate}" already exists`);
    }
    /**
     * Returns a promise that resolves with the window name used for restoration.
     */
    function resolve(potential) {
        if (resolved) {
            return delegate.promise;
        }
        // Set the local candidate.
        candidate = potential;
        if (candidate in known) {
            reject();
            return delegate.promise;
        }
        const { localStorage, setTimeout } = window;
        // Wait until other windows have reported before claiming the candidate.
        setTimeout(() => {
            if (resolved) {
                return;
            }
            // If the window name has not already been resolved, check one last time
            // to confirm it is not a duplicate before resolving.
            if (!candidate || candidate in known) {
                return reject();
            }
            resolved = true;
            currentBeaconRequest = null;
            delegate.resolve((name = candidate));
            ping(name);
        }, TIMEOUT);
        // Fire the beacon to collect other windows' names.
        currentBeaconRequest = `${Math.random()}-${new Date().getTime()}`;
        localStorage.setItem(BEACON, currentBeaconRequest);
        return delegate.promise;
    }
    Private.resolve = resolve;
    // Initialize the storage listener at runtime.
    (() => {
        initialize();
    })();
})(Private || (Private = {}));
//# sourceMappingURL=windowresolver.js.map

/***/ }),

/***/ "BvQV":
/*!************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/help.js ***!
  \************************************************************************************/
/*! exports provided: HelpMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelpMenu", function() { return HelpMenu; });
/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * An extensible Help menu for the application.
 */
class HelpMenu extends _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"] {
    /**
     * Construct the help menu.
     */
    constructor(options) {
        super(options);
        this.menu.title.label = 'Help';
        this.kernelUsers = new Set();
    }
}
//# sourceMappingURL=help.js.map

/***/ }),

/***/ "CXpg":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/settings.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg fill='%23616161' xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3 jp-icon-selectable' fill='%23616161'%3E %3Cpath d='M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "CXpg4":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/settings.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg fill=\"#616161\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3 jp-icon-selectable\" fill=\"#616161\">\n    <path d=\"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "CYE+":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/lib/dialogs.js ***!
  \*****************************************************************************************/
/*! exports provided: renameDialog, renameFile, shouldOverwrite, isValidFileName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameDialog", function() { return renameDialog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameFile", function() { return renameFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shouldOverwrite", function() { return shouldOverwrite; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isValidFileName", function() { return isValidFileName; });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_2__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/**
 * The class name added to file dialogs.
 */
const FILE_DIALOG_CLASS = 'jp-FileDialog';
/**
 * The class name added for the new name label in the rename dialog
 */
const RENAME_NEWNAME_TITLE_CLASS = 'jp-new-name-title';
/**
 * Rename a file with a dialog.
 */
function renameDialog(manager, oldPath) {
    return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["showDialog"])({
        title: 'Rename File',
        body: new RenameHandler(oldPath),
        focusNodeSelector: 'input',
        buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["Dialog"].cancelButton(), _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["Dialog"].okButton({ label: 'Rename' })]
    }).then(result => {
        if (!result.value) {
            return null;
        }
        if (!isValidFileName(result.value)) {
            void Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["showErrorMessage"])('Rename Error', Error(`"${result.value}" is not a valid name for a file. ` +
                `Names must have nonzero length, ` +
                `and cannot include "/", "\\", or ":"`));
            return null;
        }
        let basePath = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__["PathExt"].dirname(oldPath);
        let newPath = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__["PathExt"].join(basePath, result.value);
        return renameFile(manager, oldPath, newPath);
    });
}
/**
 * Rename a file, asking for confirmation if it is overwriting another.
 */
function renameFile(manager, oldPath, newPath) {
    return manager.rename(oldPath, newPath).catch(error => {
        if (error.message.indexOf('409') === -1) {
            throw error;
        }
        return shouldOverwrite(newPath).then(value => {
            if (value) {
                return manager.overwrite(oldPath, newPath);
            }
            return Promise.reject('File not renamed');
        });
    });
}
/**
 * Ask the user whether to overwrite a file.
 */
function shouldOverwrite(path) {
    let options = {
        title: 'Overwrite file?',
        body: `"${path}" already exists, overwrite?`,
        buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["Dialog"].cancelButton(), _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["Dialog"].warnButton({ label: 'Overwrite' })]
    };
    return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["showDialog"])(options).then(result => {
        return Promise.resolve(result.button.accept);
    });
}
/**
 * Test whether a name is a valid file name
 *
 * Disallows "/", "\", and ":" in file names, as well as names with zero length.
 */
function isValidFileName(name) {
    const validNameExp = /[\/\\:]/;
    return name.length > 0 && !validNameExp.test(name);
}
/**
 * A widget used to rename a file.
 */
class RenameHandler extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Widget"] {
    /**
     * Construct a new "rename" dialog.
     */
    constructor(oldPath) {
        super({ node: Private.createRenameNode(oldPath) });
        this.addClass(FILE_DIALOG_CLASS);
        let ext = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__["PathExt"].extname(oldPath);
        let value = (this.inputNode.value = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__["PathExt"].basename(oldPath));
        this.inputNode.setSelectionRange(0, value.length - ext.length);
    }
    /**
     * Get the input text node.
     */
    get inputNode() {
        return this.node.getElementsByTagName('input')[0];
    }
    /**
     * Get the value of the widget.
     */
    getValue() {
        return this.inputNode.value;
    }
}
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * Create the node for a rename handler.
     */
    function createRenameNode(oldPath) {
        let body = document.createElement('div');
        let existingLabel = document.createElement('label');
        existingLabel.textContent = 'File Path';
        let existingPath = document.createElement('span');
        existingPath.textContent = oldPath;
        let nameTitle = document.createElement('label');
        nameTitle.textContent = 'New Name';
        nameTitle.className = RENAME_NEWNAME_TITLE_CLASS;
        let name = document.createElement('input');
        body.appendChild(existingLabel);
        body.appendChild(existingPath);
        body.appendChild(nameTitle);
        body.appendChild(name);
        return body;
    }
    Private.createRenameNode = createRenameNode;
})(Private || (Private = {}));
//# sourceMappingURL=dialogs.js.map

/***/ }),

/***/ "CmEF":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/lib/manager.js ***!
  \*****************************************************************************************/
/*! exports provided: DocumentManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentManager", function() { return DocumentManager; });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/docregistry */ "HY8D");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lumino/properties */ "2RSD");
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lumino_properties__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _savehandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./savehandler */ "vnUX");
/* harmony import */ var _widgetmanager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./widgetmanager */ "DDgm");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.









/**
 * The document manager.
 *
 * #### Notes
 * The document manager is used to register model and widget creators,
 * and the file browser uses the document manager to create widgets. The
 * document manager maintains a context for each path and model type that is
 * open, and a list of widgets for each context. The document manager is in
 * control of the proper closing and disposal of the widgets and contexts.
 */
class DocumentManager {
    /**
     * Construct a new document manager.
     */
    constructor(options) {
        this._activateRequested = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_6__["Signal"](this);
        this._contexts = [];
        this._isDisposed = false;
        this._autosave = true;
        this._autosaveInterval = 120;
        this.registry = options.registry;
        this.services = options.manager;
        this._dialogs = options.sessionDialogs || _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["sessionContextDialogs"];
        this._opener = options.opener;
        this._when = options.when || options.manager.ready;
        let widgetManager = new _widgetmanager__WEBPACK_IMPORTED_MODULE_8__["DocumentWidgetManager"]({ registry: this.registry });
        widgetManager.activateRequested.connect(this._onActivateRequested, this);
        this._widgetManager = widgetManager;
        this._setBusy = options.setBusy;
    }
    /**
     * A signal emitted when one of the documents is activated.
     */
    get activateRequested() {
        return this._activateRequested;
    }
    /**
     * Whether to autosave documents.
     */
    get autosave() {
        return this._autosave;
    }
    set autosave(value) {
        this._autosave = value;
        // For each existing context, start/stop the autosave handler as needed.
        this._contexts.forEach(context => {
            const handler = Private.saveHandlerProperty.get(context);
            if (!handler) {
                return;
            }
            if (value === true && !handler.isActive) {
                handler.start();
            }
            else if (value === false && handler.isActive) {
                handler.stop();
            }
        });
    }
    /**
     * Determines the time interval for autosave in seconds.
     */
    get autosaveInterval() {
        return this._autosaveInterval;
    }
    set autosaveInterval(value) {
        this._autosaveInterval = value;
        // For each existing context, set the save interval as needed.
        this._contexts.forEach(context => {
            const handler = Private.saveHandlerProperty.get(context);
            if (!handler) {
                return;
            }
            handler.saveInterval = value || 120;
        });
    }
    /**
     * Get whether the document manager has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the document manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        // Clear any listeners for our signals.
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_6__["Signal"].clearData(this);
        // Close all the widgets for our contexts and dispose the widget manager.
        this._contexts.forEach(context => {
            return this._widgetManager.closeWidgets(context);
        });
        this._widgetManager.dispose();
        // Clear the context list.
        this._contexts.length = 0;
    }
    /**
     * Clone a widget.
     *
     * @param widget - The source widget.
     *
     * @returns A new widget or `undefined`.
     *
     * #### Notes
     *  Uses the same widget factory and context as the source, or returns
     *  `undefined` if the source widget is not managed by this manager.
     */
    cloneWidget(widget) {
        return this._widgetManager.cloneWidget(widget);
    }
    /**
     * Close all of the open documents.
     *
     * @returns A promise resolving when the widgets are closed.
     */
    closeAll() {
        return Promise.all(this._contexts.map(context => this._widgetManager.closeWidgets(context))).then(() => undefined);
    }
    /**
     * Close the widgets associated with a given path.
     *
     * @param path - The target path.
     *
     * @returns A promise resolving when the widgets are closed.
     */
    closeFile(path) {
        const close = this._contextsForPath(path).map(c => this._widgetManager.closeWidgets(c));
        return Promise.all(close).then(x => undefined);
    }
    /**
     * Get the document context for a widget.
     *
     * @param widget - The widget of interest.
     *
     * @returns The context associated with the widget, or `undefined` if no such
     * context exists.
     */
    contextForWidget(widget) {
        return this._widgetManager.contextForWidget(widget);
    }
    /**
     * Copy a file.
     *
     * @param fromFile - The full path of the original file.
     *
     * @param toDir - The full path to the target directory.
     *
     * @returns A promise which resolves to the contents of the file.
     */
    copy(fromFile, toDir) {
        return this.services.contents.copy(fromFile, toDir);
    }
    /**
     * Create a new file and return the widget used to view it.
     *
     * @param path - The file path to create.
     *
     * @param widgetName - The name of the widget factory to use. 'default' will use the default widget.
     *
     * @param kernel - An optional kernel name/id to override the default.
     *
     * @returns The created widget, or `undefined`.
     *
     * #### Notes
     * This function will return `undefined` if a valid widget factory
     * cannot be found.
     */
    createNew(path, widgetName = 'default', kernel) {
        return this._createOrOpenDocument('create', path, widgetName, kernel);
    }
    /**
     * Delete a file.
     *
     * @param path - The full path to the file to be deleted.
     *
     * @returns A promise which resolves when the file is deleted.
     *
     * #### Notes
     * If there is a running session associated with the file and no other
     * sessions are using the kernel, the session will be shut down.
     */
    deleteFile(path) {
        return this.services.sessions
            .stopIfNeeded(path)
            .then(() => {
            return this.services.contents.delete(path);
        })
            .then(() => {
            this._contextsForPath(path).forEach(context => this._widgetManager.deleteWidgets(context));
            return Promise.resolve(void 0);
        });
    }
    /**
     * See if a widget already exists for the given path and widget name.
     *
     * @param path - The file path to use.
     *
     * @param widgetName - The name of the widget factory to use. 'default' will use the default widget.
     *
     * @returns The found widget, or `undefined`.
     *
     * #### Notes
     * This can be used to find an existing widget instead of opening
     * a new widget.
     */
    findWidget(path, widgetName = 'default') {
        let newPath = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_1__["PathExt"].normalize(path);
        let widgetNames = [widgetName];
        if (widgetName === 'default') {
            let factory = this.registry.defaultWidgetFactory(newPath);
            if (!factory) {
                return undefined;
            }
            widgetNames = [factory.name];
        }
        else if (widgetName === null) {
            widgetNames = this.registry
                .preferredWidgetFactories(newPath)
                .map(f => f.name);
        }
        for (let context of this._contextsForPath(newPath)) {
            for (const widgetName of widgetNames) {
                if (widgetName !== null) {
                    let widget = this._widgetManager.findWidget(context, widgetName);
                    if (widget) {
                        return widget;
                    }
                }
            }
        }
        return undefined;
    }
    /**
     * Create a new untitled file.
     *
     * @param options - The file content creation options.
     */
    newUntitled(options) {
        if (options.type === 'file') {
            options.ext = options.ext || '.txt';
        }
        return this.services.contents.newUntitled(options);
    }
    /**
     * Open a file and return the widget used to view it.
     *
     * @param path - The file path to open.
     *
     * @param widgetName - The name of the widget factory to use. 'default' will use the default widget.
     *
     * @param kernel - An optional kernel name/id to override the default.
     *
     * @returns The created widget, or `undefined`.
     *
     * #### Notes
     * This function will return `undefined` if a valid widget factory
     * cannot be found.
     */
    open(path, widgetName = 'default', kernel, options) {
        return this._createOrOpenDocument('open', path, widgetName, kernel, options);
    }
    /**
     * Open a file and return the widget used to view it.
     * Reveals an already existing editor.
     *
     * @param path - The file path to open.
     *
     * @param widgetName - The name of the widget factory to use. 'default' will use the default widget.
     *
     * @param kernel - An optional kernel name/id to override the default.
     *
     * @returns The created widget, or `undefined`.
     *
     * #### Notes
     * This function will return `undefined` if a valid widget factory
     * cannot be found.
     */
    openOrReveal(path, widgetName = 'default', kernel, options) {
        let widget = this.findWidget(path, widgetName);
        if (widget) {
            this._opener.open(widget, options || {});
            return widget;
        }
        return this.open(path, widgetName, kernel, options || {});
    }
    /**
     * Overwrite a file.
     *
     * @param oldPath - The full path to the original file.
     *
     * @param newPath - The full path to the new file.
     *
     * @returns A promise containing the new file contents model.
     */
    overwrite(oldPath, newPath) {
        // Cleanly overwrite the file by moving it, making sure the original does
        // not exist, and then renaming to the new path.
        const tempPath = `${newPath}.${_lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__["UUID"].uuid4()}`;
        const cb = () => this.rename(tempPath, newPath);
        return this.rename(oldPath, tempPath)
            .then(() => {
            return this.deleteFile(newPath);
        })
            .then(cb, cb);
    }
    /**
     * Rename a file or directory.
     *
     * @param oldPath - The full path to the original file.
     *
     * @param newPath - The full path to the new file.
     *
     * @returns A promise containing the new file contents model.  The promise
     * will reject if the newPath already exists.  Use [[overwrite]] to overwrite
     * a file.
     */
    rename(oldPath, newPath) {
        return this.services.contents.rename(oldPath, newPath);
    }
    /**
     * Find a context for a given path and factory name.
     */
    _findContext(path, factoryName) {
        const normalizedPath = this.services.contents.normalize(path);
        return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_4__["find"])(this._contexts, context => {
            return (context.path === normalizedPath && context.factoryName === factoryName);
        });
    }
    /**
     * Get the contexts for a given path.
     *
     * #### Notes
     * There may be more than one context for a given path if the path is open
     * with multiple model factories (for example, a notebook can be open with a
     * notebook model factory and a text model factory).
     */
    _contextsForPath(path) {
        const normalizedPath = this.services.contents.normalize(path);
        return this._contexts.filter(context => context.path === normalizedPath);
    }
    /**
     * Create a context from a path and a model factory.
     */
    _createContext(path, factory, kernelPreference) {
        // TODO: Make it impossible to open two different contexts for the same
        // path. Or at least prompt the closing of all widgets associated with the
        // old context before opening the new context. This will make things much
        // more consistent for the users, at the cost of some confusion about what
        // models are and why sometimes they cannot open the same file in different
        // widgets that have different models.
        // Allow options to be passed when adding a sibling.
        let adopter = (widget, options) => {
            this._widgetManager.adoptWidget(context, widget);
            this._opener.open(widget, options);
        };
        let modelDBFactory = this.services.contents.getModelDBFactory(path) || undefined;
        let context = new _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_3__["Context"]({
            opener: adopter,
            manager: this.services,
            factory,
            path,
            kernelPreference,
            modelDBFactory,
            setBusy: this._setBusy,
            sessionDialogs: this._dialogs
        });
        let handler = new _savehandler__WEBPACK_IMPORTED_MODULE_7__["SaveHandler"]({
            context,
            saveInterval: this.autosaveInterval
        });
        Private.saveHandlerProperty.set(context, handler);
        void context.ready.then(() => {
            if (this.autosave) {
                handler.start();
            }
        });
        context.disposed.connect(this._onContextDisposed, this);
        this._contexts.push(context);
        return context;
    }
    /**
     * Handle a context disposal.
     */
    _onContextDisposed(context) {
        _lumino_algorithm__WEBPACK_IMPORTED_MODULE_4__["ArrayExt"].removeFirstOf(this._contexts, context);
    }
    /**
     * Get the widget factory for a given widget name.
     */
    _widgetFactoryFor(path, widgetName) {
        let { registry } = this;
        if (widgetName === 'default') {
            let factory = registry.defaultWidgetFactory(path);
            if (!factory) {
                return undefined;
            }
            widgetName = factory.name;
        }
        return registry.getWidgetFactory(widgetName);
    }
    /**
     * Creates a new document, or loads one from disk, depending on the `which` argument.
     * If `which==='create'`, then it creates a new document. If `which==='open'`,
     * then it loads the document from disk.
     *
     * The two cases differ in how the document context is handled, but the creation
     * of the widget and launching of the kernel are identical.
     */
    _createOrOpenDocument(which, path, widgetName = 'default', kernel, options) {
        let widgetFactory = this._widgetFactoryFor(path, widgetName);
        if (!widgetFactory) {
            return undefined;
        }
        let modelName = widgetFactory.modelName || 'text';
        let factory = this.registry.getModelFactory(modelName);
        if (!factory) {
            return undefined;
        }
        // Handle the kernel pereference.
        let preference = this.registry.getKernelPreference(path, widgetFactory.name, kernel);
        let context;
        let ready = Promise.resolve(undefined);
        // Handle the load-from-disk case
        if (which === 'open') {
            // Use an existing context if available.
            context = this._findContext(path, factory.name) || null;
            if (!context) {
                context = this._createContext(path, factory, preference);
                // Populate the model, either from disk or a
                // model backend.
                ready = this._when.then(() => context.initialize(false));
            }
        }
        else if (which === 'create') {
            context = this._createContext(path, factory, preference);
            // Immediately save the contents to disk.
            ready = this._when.then(() => context.initialize(true));
        }
        else {
            throw new Error(`Invalid argument 'which': ${which}`);
        }
        let widget = this._widgetManager.createWidget(widgetFactory, context);
        this._opener.open(widget, options || {});
        // If the initial opening of the context fails, dispose of the widget.
        ready.catch(err => {
            widget.close();
        });
        return widget;
    }
    /**
     * Handle an activateRequested signal from the widget manager.
     */
    _onActivateRequested(sender, args) {
        this._activateRequested.emit(args);
    }
}
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * An attached property for a context save handler.
     */
    Private.saveHandlerProperty = new _lumino_properties__WEBPACK_IMPORTED_MODULE_5__["AttachedProperty"]({
        name: 'saveHandler',
        create: () => undefined
    });
})(Private || (Private = {}));
//# sourceMappingURL=manager.js.map

/***/ }),

/***/ "CxPM":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/lib/savingstatus.js ***!
  \**********************************************************************************************/
/*! exports provided: SavingStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SavingStatus", function() { return SavingStatus; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/statusbar */ "8R0s");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/**
 * A pure functional component for a Saving status item.
 *
 * @param props - the props for the component.
 *
 * @returns a tsx component for rendering the saving state.
 */
function SavingStatusComponent(props) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_2__["TextItem"], { source: `Saving ${props.fileStatus}` });
}
/**
 * The amount of time (in ms) to retain the saving completed message
 * before hiding the status item.
 */
const SAVING_COMPLETE_MESSAGE_MILLIS = 2000;
/**
 * A VDomRenderer for a saving status item.
 */
class SavingStatus extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomRenderer"] {
    /**
     * Create a new SavingStatus item.
     */
    constructor(opts) {
        super(new SavingStatus.Model(opts.docManager));
    }
    /**
     * Render the SavingStatus item.
     */
    render() {
        if (this.model === null || this.model.status === null) {
            return null;
        }
        else {
            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SavingStatusComponent, { fileStatus: this.model.status });
        }
    }
}
/**
 * A namespace for SavingStatus statics.
 */
(function (SavingStatus) {
    /**
     * A VDomModel for the SavingStatus item.
     */
    class Model extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomModel"] {
        /**
         * Create a new SavingStatus model.
         */
        constructor(docManager) {
            super();
            /**
             * React to a saving status change from the current document widget.
             */
            this._onStatusChange = (_documentModel, newStatus) => {
                this._status = newStatus;
                if (this._status === 'completed') {
                    setTimeout(() => {
                        this._status = null;
                        this.stateChanged.emit(void 0);
                    }, SAVING_COMPLETE_MESSAGE_MILLIS);
                    this.stateChanged.emit(void 0);
                }
                else {
                    this.stateChanged.emit(void 0);
                }
            };
            this._status = null;
            this._widget = null;
            this._status = null;
            this.widget = null;
            this._docManager = docManager;
        }
        /**
         * The current status of the model.
         */
        get status() {
            return this._status;
        }
        /**
         * The current widget for the model. Any widget can be assigned,
         * but it only has any effect if the widget is an IDocument widget
         * known to the application document manager.
         */
        get widget() {
            return this._widget;
        }
        set widget(widget) {
            const oldWidget = this._widget;
            if (oldWidget !== null) {
                const oldContext = this._docManager.contextForWidget(oldWidget);
                if (oldContext) {
                    oldContext.saveState.disconnect(this._onStatusChange);
                }
            }
            this._widget = widget;
            if (this._widget === null) {
                this._status = null;
            }
            else {
                const widgetContext = this._docManager.contextForWidget(this._widget);
                if (widgetContext) {
                    widgetContext.saveState.connect(this._onStatusChange);
                }
            }
        }
    }
    SavingStatus.Model = Model;
})(SavingStatus || (SavingStatus = {}));
//# sourceMappingURL=savingstatus.js.map

/***/ }),

/***/ "D0b+":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/build.svg ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M14.9 17.45C16.25 17.45 17.35 16.35 17.35 15C17.35 13.65 16.25 12.55 14.9 12.55C13.54 12.55 12.45 13.65 12.45 15C12.45 16.35 13.54 17.45 14.9 17.45ZM20.1 15.68L21.58 16.84C21.71 16.95 21.75 17.13 21.66 17.29L20.26 19.71C20.17 19.86 20 19.92 19.83 19.86L18.09 19.16C17.73 19.44 17.33 19.67 16.91 19.85L16.64 21.7C16.62 21.87 16.47 22 16.3 22H13.5C13.32 22 13.18 21.87 13.15 21.7L12.89 19.85C12.46 19.67 12.07 19.44 11.71 19.16L9.96002 19.86C9.81002 19.92 9.62002 19.86 9.54002 19.71L8.14002 17.29C8.05002 17.13 8.09002 16.95 8.22002 16.84L9.70002 15.68L9.65001 15L9.70002 14.31L8.22002 13.16C8.09002 13.05 8.05002 12.86 8.14002 12.71L9.54002 10.29C9.62002 10.13 9.81002 10.07 9.96002 10.13L11.71 10.84C12.07 10.56 12.46 10.32 12.89 10.15L13.15 8.28998C13.18 8.12998 13.32 7.99998 13.5 7.99998H16.3C16.47 7.99998 16.62 8.12998 16.64 8.28998L16.91 10.15C17.33 10.32 17.73 10.56 18.09 10.84L19.83 10.13C20 10.07 20.17 10.13 20.26 10.29L21.66 12.71C21.75 12.86 21.71 13.05 21.58 13.16L20.1 14.31L20.15 15L20.1 15.68Z'/%3E %3Cpath d='M7.32966 7.44454C8.0831 7.00954 8.33932 6.05332 7.90432 5.29988C7.46932 4.54643 6.5081 4.28156 5.75466 4.71656C5.39176 4.92608 5.12695 5.27118 5.01849 5.67594C4.91004 6.08071 4.96682 6.51198 5.17634 6.87488C5.61134 7.62832 6.57622 7.87954 7.32966 7.44454ZM9.65718 4.79593L10.8672 4.95179C10.9628 4.97741 11.0402 5.07133 11.0382 5.18793L11.0388 6.98893C11.0455 7.10054 10.9616 7.19518 10.855 7.21054L9.66001 7.38083L9.23915 8.13188L9.66961 9.25745C9.70729 9.36271 9.66934 9.47699 9.57408 9.53199L8.01523 10.432C7.91131 10.492 7.79337 10.4677 7.72105 10.3824L6.98748 9.43188L6.10931 9.43083L5.34704 10.3905C5.28909 10.4702 5.17383 10.4905 5.07187 10.4339L3.51245 9.53293C3.41049 9.47633 3.37647 9.35741 3.41075 9.25679L3.86347 8.14093L3.61749 7.77488L3.42347 7.37883L2.23075 7.21297C2.12647 7.19235 2.04049 7.10342 2.04245 6.98682L2.04187 5.18582C2.04383 5.06922 2.11909 4.97958 2.21704 4.96922L3.42065 4.79393L3.86749 4.02788L3.41105 2.91731C3.37337 2.81204 3.41131 2.69776 3.51523 2.63776L5.07408 1.73776C5.16934 1.68276 5.28729 1.70704 5.35961 1.79231L6.11915 2.72788L6.98001 2.73893L7.72496 1.78922C7.79156 1.70458 7.91548 1.67922 8.00879 1.74082L9.56821 2.64182C9.67017 2.69842 9.71285 2.81234 9.68723 2.90797L9.21718 4.03383L9.46316 4.39988L9.65718 4.79593Z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "D0b+B":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/build.svg ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M14.9 17.45C16.25 17.45 17.35 16.35 17.35 15C17.35 13.65 16.25 12.55 14.9 12.55C13.54 12.55 12.45 13.65 12.45 15C12.45 16.35 13.54 17.45 14.9 17.45ZM20.1 15.68L21.58 16.84C21.71 16.95 21.75 17.13 21.66 17.29L20.26 19.71C20.17 19.86 20 19.92 19.83 19.86L18.09 19.16C17.73 19.44 17.33 19.67 16.91 19.85L16.64 21.7C16.62 21.87 16.47 22 16.3 22H13.5C13.32 22 13.18 21.87 13.15 21.7L12.89 19.85C12.46 19.67 12.07 19.44 11.71 19.16L9.96002 19.86C9.81002 19.92 9.62002 19.86 9.54002 19.71L8.14002 17.29C8.05002 17.13 8.09002 16.95 8.22002 16.84L9.70002 15.68L9.65001 15L9.70002 14.31L8.22002 13.16C8.09002 13.05 8.05002 12.86 8.14002 12.71L9.54002 10.29C9.62002 10.13 9.81002 10.07 9.96002 10.13L11.71 10.84C12.07 10.56 12.46 10.32 12.89 10.15L13.15 8.28998C13.18 8.12998 13.32 7.99998 13.5 7.99998H16.3C16.47 7.99998 16.62 8.12998 16.64 8.28998L16.91 10.15C17.33 10.32 17.73 10.56 18.09 10.84L19.83 10.13C20 10.07 20.17 10.13 20.26 10.29L21.66 12.71C21.75 12.86 21.71 13.05 21.58 13.16L20.1 14.31L20.15 15L20.1 15.68Z\"/>\n    <path d=\"M7.32966 7.44454C8.0831 7.00954 8.33932 6.05332 7.90432 5.29988C7.46932 4.54643 6.5081 4.28156 5.75466 4.71656C5.39176 4.92608 5.12695 5.27118 5.01849 5.67594C4.91004 6.08071 4.96682 6.51198 5.17634 6.87488C5.61134 7.62832 6.57622 7.87954 7.32966 7.44454ZM9.65718 4.79593L10.8672 4.95179C10.9628 4.97741 11.0402 5.07133 11.0382 5.18793L11.0388 6.98893C11.0455 7.10054 10.9616 7.19518 10.855 7.21054L9.66001 7.38083L9.23915 8.13188L9.66961 9.25745C9.70729 9.36271 9.66934 9.47699 9.57408 9.53199L8.01523 10.432C7.91131 10.492 7.79337 10.4677 7.72105 10.3824L6.98748 9.43188L6.10931 9.43083L5.34704 10.3905C5.28909 10.4702 5.17383 10.4905 5.07187 10.4339L3.51245 9.53293C3.41049 9.47633 3.37647 9.35741 3.41075 9.25679L3.86347 8.14093L3.61749 7.77488L3.42347 7.37883L2.23075 7.21297C2.12647 7.19235 2.04049 7.10342 2.04245 6.98682L2.04187 5.18582C2.04383 5.06922 2.11909 4.97958 2.21704 4.96922L3.42065 4.79393L3.86749 4.02788L3.41105 2.91731C3.37337 2.81204 3.41131 2.69776 3.51523 2.63776L5.07408 1.73776C5.16934 1.68276 5.28729 1.70704 5.35961 1.79231L6.11915 2.72788L6.98001 2.73893L7.72496 1.78922C7.79156 1.70458 7.91548 1.67922 8.00879 1.74082L9.56821 2.64182C9.67017 2.69842 9.71285 2.81234 9.68723 2.90797L9.21718 4.03383L9.46316 4.39988L9.65718 4.79593Z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "D7AG":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/jupyter/jupyter.svg ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg width='39' height='51' viewBox='0 0 39 51' xmlns='http://www.w3.org/2000/svg'%3E %3Cg transform='translate(-1638 -2281)'%3E %3Cg class='jp-icon-warn0' fill='%23F37726'%3E %3Cpath transform='translate(1639.74 2311.98)' d='M 18.2646 7.13411C 10.4145 7.13411 3.55872 4.2576 0 0C 1.32539 3.8204 3.79556 7.13081 7.0686 9.47303C 10.3417 11.8152 14.2557 13.0734 18.269 13.0734C 22.2823 13.0734 26.1963 11.8152 29.4694 9.47303C 32.7424 7.13081 35.2126 3.8204 36.538 0C 32.9705 4.2576 26.1148 7.13411 18.2646 7.13411Z'/%3E %3Cpath transform='translate(1639.73 2285.48)' d='M 18.2733 5.93931C 26.1235 5.93931 32.9793 8.81583 36.538 13.0734C 35.2126 9.25303 32.7424 5.94262 29.4694 3.6004C 26.1963 1.25818 22.2823 0 18.269 0C 14.2557 0 10.3417 1.25818 7.0686 3.6004C 3.79556 5.94262 1.32539 9.25303 0 13.0734C 3.56745 8.82463 10.4232 5.93931 18.2733 5.93931Z'/%3E %3C/g%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath transform='translate(1669.3 2281.31)' d='M 5.89353 2.844C 5.91889 3.43165 5.77085 4.01367 5.46815 4.51645C 5.16545 5.01922 4.72168 5.42015 4.19299 5.66851C 3.6643 5.91688 3.07444 6.00151 2.49805 5.91171C 1.92166 5.8219 1.38463 5.5617 0.954898 5.16401C 0.52517 4.76633 0.222056 4.24903 0.0839037 3.67757C -0.0542483 3.10611 -0.02123 2.50617 0.178781 1.95364C 0.378793 1.4011 0.736809 0.920817 1.20754 0.573538C 1.67826 0.226259 2.24055 0.0275919 2.82326 0.00267229C 3.60389 -0.0307115 4.36573 0.249789 4.94142 0.782551C 5.51711 1.31531 5.85956 2.05676 5.89353 2.844Z'/%3E %3Cpath transform='translate(1639.8 2323.81)' d='M 7.42789 3.58338C 7.46008 4.3243 7.27355 5.05819 6.89193 5.69213C 6.51031 6.32607 5.95075 6.83156 5.28411 7.1446C 4.61747 7.45763 3.87371 7.56414 3.14702 7.45063C 2.42032 7.33712 1.74336 7.0087 1.20184 6.50695C 0.660328 6.0052 0.27861 5.35268 0.105017 4.63202C -0.0685757 3.91135 -0.0262361 3.15494 0.226675 2.45856C 0.479587 1.76217 0.931697 1.15713 1.52576 0.720033C 2.11983 0.282935 2.82914 0.0334395 3.56389 0.00313344C 4.54667 -0.0374033 5.50529 0.316706 6.22961 0.987835C 6.95393 1.65896 7.38484 2.59235 7.42789 3.58338L 7.42789 3.58338Z'/%3E %3Cpath transform='translate(1638.36 2286.06)' d='M 2.27471 4.39629C 1.84363 4.41508 1.41671 4.30445 1.04799 4.07843C 0.679268 3.8524 0.385328 3.52114 0.203371 3.12656C 0.0214136 2.73198 -0.0403798 2.29183 0.0258116 1.86181C 0.0920031 1.4318 0.283204 1.03126 0.575213 0.710883C 0.867222 0.39051 1.24691 0.164708 1.66622 0.0620592C 2.08553 -0.0405897 2.52561 -0.0154714 2.93076 0.134235C 3.33591 0.283941 3.68792 0.551505 3.94222 0.90306C 4.19652 1.25462 4.34169 1.67436 4.35935 2.10916C 4.38299 2.69107 4.17678 3.25869 3.78597 3.68746C 3.39516 4.11624 2.85166 4.37116 2.27471 4.39629L 2.27471 4.39629Z'/%3E %3C/g%3E %3C/g%3E%3E %3C/svg%3E"

/***/ }),

/***/ "D7AG2":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/jupyter/jupyter.svg ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg width=\"39\" height=\"51\" viewBox=\"0 0 39 51\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g transform=\"translate(-1638 -2281)\">\n    <g class=\"jp-icon-warn0\" fill=\"#F37726\">\n      <path transform=\"translate(1639.74 2311.98)\" d=\"M 18.2646 7.13411C 10.4145 7.13411 3.55872 4.2576 0 0C 1.32539 3.8204 3.79556 7.13081 7.0686 9.47303C 10.3417 11.8152 14.2557 13.0734 18.269 13.0734C 22.2823 13.0734 26.1963 11.8152 29.4694 9.47303C 32.7424 7.13081 35.2126 3.8204 36.538 0C 32.9705 4.2576 26.1148 7.13411 18.2646 7.13411Z\"/>\n      <path transform=\"translate(1639.73 2285.48)\" d=\"M 18.2733 5.93931C 26.1235 5.93931 32.9793 8.81583 36.538 13.0734C 35.2126 9.25303 32.7424 5.94262 29.4694 3.6004C 26.1963 1.25818 22.2823 0 18.269 0C 14.2557 0 10.3417 1.25818 7.0686 3.6004C 3.79556 5.94262 1.32539 9.25303 0 13.0734C 3.56745 8.82463 10.4232 5.93931 18.2733 5.93931Z\"/>\n    </g>\n    <g class=\"jp-icon3\" fill=\"#616161\">\n      <path transform=\"translate(1669.3 2281.31)\" d=\"M 5.89353 2.844C 5.91889 3.43165 5.77085 4.01367 5.46815 4.51645C 5.16545 5.01922 4.72168 5.42015 4.19299 5.66851C 3.6643 5.91688 3.07444 6.00151 2.49805 5.91171C 1.92166 5.8219 1.38463 5.5617 0.954898 5.16401C 0.52517 4.76633 0.222056 4.24903 0.0839037 3.67757C -0.0542483 3.10611 -0.02123 2.50617 0.178781 1.95364C 0.378793 1.4011 0.736809 0.920817 1.20754 0.573538C 1.67826 0.226259 2.24055 0.0275919 2.82326 0.00267229C 3.60389 -0.0307115 4.36573 0.249789 4.94142 0.782551C 5.51711 1.31531 5.85956 2.05676 5.89353 2.844Z\"/>\n      <path transform=\"translate(1639.8 2323.81)\" d=\"M 7.42789 3.58338C 7.46008 4.3243 7.27355 5.05819 6.89193 5.69213C 6.51031 6.32607 5.95075 6.83156 5.28411 7.1446C 4.61747 7.45763 3.87371 7.56414 3.14702 7.45063C 2.42032 7.33712 1.74336 7.0087 1.20184 6.50695C 0.660328 6.0052 0.27861 5.35268 0.105017 4.63202C -0.0685757 3.91135 -0.0262361 3.15494 0.226675 2.45856C 0.479587 1.76217 0.931697 1.15713 1.52576 0.720033C 2.11983 0.282935 2.82914 0.0334395 3.56389 0.00313344C 4.54667 -0.0374033 5.50529 0.316706 6.22961 0.987835C 6.95393 1.65896 7.38484 2.59235 7.42789 3.58338L 7.42789 3.58338Z\"/>\n      <path transform=\"translate(1638.36 2286.06)\" d=\"M 2.27471 4.39629C 1.84363 4.41508 1.41671 4.30445 1.04799 4.07843C 0.679268 3.8524 0.385328 3.52114 0.203371 3.12656C 0.0214136 2.73198 -0.0403798 2.29183 0.0258116 1.86181C 0.0920031 1.4318 0.283204 1.03126 0.575213 0.710883C 0.867222 0.39051 1.24691 0.164708 1.66622 0.0620592C 2.08553 -0.0405897 2.52561 -0.0154714 2.93076 0.134235C 3.33591 0.283941 3.68792 0.551505 3.94222 0.90306C 4.19652 1.25462 4.34169 1.67436 4.35935 2.10916C 4.38299 2.69107 4.17678 3.25869 3.78597 3.68746C 3.39516 4.11624 2.85166 4.37116 2.27471 4.39629L 2.27471 4.39629Z\"/>\n    </g>\n  </g>>\n</svg>\n");

/***/ }),

/***/ "DDgm":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/lib/widgetmanager.js ***!
  \***********************************************************************************************/
/*! exports provided: DocumentWidgetManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentWidgetManager", function() { return DocumentWidgetManager; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/messaging */ "so/j");
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_messaging__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/properties */ "2RSD");
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_properties__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/**
 * The class name added to document widgets.
 */
const DOCUMENT_CLASS = 'jp-Document';
/**
 * A class that maintains the lifecycle of file-backed widgets.
 */
class DocumentWidgetManager {
    /**
     * Construct a new document widget manager.
     */
    constructor(options) {
        this._activateRequested = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_4__["Signal"](this);
        this._isDisposed = false;
        this._registry = options.registry;
    }
    /**
     * A signal emitted when one of the documents is activated.
     */
    get activateRequested() {
        return this._activateRequested;
    }
    /**
     * Test whether the document widget manager is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources used by the widget manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_4__["Signal"].disconnectReceiver(this);
    }
    /**
     * Create a widget for a document and handle its lifecycle.
     *
     * @param factory - The widget factory.
     *
     * @param context - The document context object.
     *
     * @returns A widget created by the factory.
     *
     * @throws If the factory is not registered.
     */
    createWidget(factory, context) {
        let widget = factory.createNew(context);
        this._initializeWidget(widget, factory, context);
        return widget;
    }
    /**
     * When a new widget is created, we need to hook it up
     * with some signals, update the widget extensions (for
     * this kind of widget) in the docregistry, among
     * other things.
     */
    _initializeWidget(widget, factory, context) {
        Private.factoryProperty.set(widget, factory);
        // Handle widget extensions.
        let disposables = new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableSet"]();
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(this._registry.widgetExtensions(factory.name), extender => {
            disposables.add(extender.createNew(widget, context));
        });
        Private.disposablesProperty.set(widget, disposables);
        widget.disposed.connect(this._onWidgetDisposed, this);
        this.adoptWidget(context, widget);
        context.fileChanged.connect(this._onFileChanged, this);
        context.pathChanged.connect(this._onPathChanged, this);
        void context.ready.then(() => {
            void this.setCaption(widget);
        });
    }
    /**
     * Install the message hook for the widget and add to list
     * of known widgets.
     *
     * @param context - The document context object.
     *
     * @param widget - The widget to adopt.
     */
    adoptWidget(context, widget) {
        let widgets = Private.widgetsProperty.get(context);
        widgets.push(widget);
        _lumino_messaging__WEBPACK_IMPORTED_MODULE_2__["MessageLoop"].installMessageHook(widget, this);
        widget.addClass(DOCUMENT_CLASS);
        widget.title.closable = true;
        widget.disposed.connect(this._widgetDisposed, this);
        Private.contextProperty.set(widget, context);
    }
    /**
     * See if a widget already exists for the given context and widget name.
     *
     * @param context - The document context object.
     *
     * @returns The found widget, or `undefined`.
     *
     * #### Notes
     * This can be used to use an existing widget instead of opening
     * a new widget.
     */
    findWidget(context, widgetName) {
        let widgets = Private.widgetsProperty.get(context);
        if (!widgets) {
            return undefined;
        }
        return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["find"])(widgets, widget => {
            let factory = Private.factoryProperty.get(widget);
            if (!factory) {
                return false;
            }
            return factory.name === widgetName;
        });
    }
    /**
     * Get the document context for a widget.
     *
     * @param widget - The widget of interest.
     *
     * @returns The context associated with the widget, or `undefined`.
     */
    contextForWidget(widget) {
        return Private.contextProperty.get(widget);
    }
    /**
     * Clone a widget.
     *
     * @param widget - The source widget.
     *
     * @returns A new widget or `undefined`.
     *
     * #### Notes
     *  Uses the same widget factory and context as the source, or throws
     *  if the source widget is not managed by this manager.
     */
    cloneWidget(widget) {
        let context = Private.contextProperty.get(widget);
        if (!context) {
            return undefined;
        }
        let factory = Private.factoryProperty.get(widget);
        if (!factory) {
            return undefined;
        }
        let newWidget = factory.createNew(context, widget);
        this._initializeWidget(newWidget, factory, context);
        return newWidget;
    }
    /**
     * Close the widgets associated with a given context.
     *
     * @param context - The document context object.
     */
    closeWidgets(context) {
        let widgets = Private.widgetsProperty.get(context);
        return Promise.all(Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["toArray"])(Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["map"])(widgets, widget => this.onClose(widget)))).then(() => undefined);
    }
    /**
     * Dispose of the widgets associated with a given context
     * regardless of the widget's dirty state.
     *
     * @param context - The document context object.
     */
    deleteWidgets(context) {
        let widgets = Private.widgetsProperty.get(context);
        return Promise.all(Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["toArray"])(Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["map"])(widgets, widget => this.onDelete(widget)))).then(() => undefined);
    }
    /**
     * Filter a message sent to a message handler.
     *
     * @param handler - The target handler of the message.
     *
     * @param msg - The message dispatched to the handler.
     *
     * @returns `false` if the message should be filtered, of `true`
     *   if the message should be dispatched to the handler as normal.
     */
    messageHook(handler, msg) {
        switch (msg.type) {
            case 'close-request':
                void this.onClose(handler);
                return false;
            case 'activate-request':
                let context = this.contextForWidget(handler);
                if (context) {
                    this._activateRequested.emit(context.path);
                }
                break;
            default:
                break;
        }
        return true;
    }
    /**
     * Set the caption for widget title.
     *
     * @param widget - The target widget.
     */
    async setCaption(widget) {
        let context = Private.contextProperty.get(widget);
        if (!context) {
            return;
        }
        let model = context.contentsModel;
        if (!model) {
            widget.title.caption = '';
            return;
        }
        return context
            .listCheckpoints()
            .then((checkpoints) => {
            if (widget.isDisposed) {
                return;
            }
            let last = checkpoints[checkpoints.length - 1];
            let checkpoint = last ? _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_5__["Time"].format(last.last_modified) : 'None';
            let caption = `Name: ${model.name}\nPath: ${model.path}\n`;
            if (context.model.readOnly) {
                caption += 'Read-only';
            }
            else {
                caption +=
                    `Last Saved: ${_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_5__["Time"].format(model.last_modified)}\n` +
                        `Last Checkpoint: ${checkpoint}`;
            }
            widget.title.caption = caption;
        });
    }
    /**
     * Handle `'close-request'` messages.
     *
     * @param widget - The target widget.
     *
     * @returns A promise that resolves with whether the widget was closed.
     */
    onClose(widget) {
        // Handle dirty state.
        return this._maybeClose(widget)
            .then(result => {
            if (widget.isDisposed) {
                return true;
            }
            if (result) {
                widget.dispose();
            }
            return result;
        })
            .catch(error => {
            widget.dispose();
            throw error;
        });
    }
    /**
     * Dispose of widget regardless of widget's dirty state.
     *
     * @param widget - The target widget.
     */
    onDelete(widget) {
        widget.dispose();
        return Promise.resolve(void 0);
    }
    /**
     * Ask the user whether to close an unsaved file.
     */
    _maybeClose(widget) {
        // Bail if the model is not dirty or other widgets are using the model.)
        let context = Private.contextProperty.get(widget);
        if (!context) {
            return Promise.resolve(true);
        }
        let widgets = Private.widgetsProperty.get(context);
        if (!widgets) {
            return Promise.resolve(true);
        }
        // Filter by whether the factories are read only.
        widgets = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["toArray"])(Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["filter"])(widgets, widget => {
            let factory = Private.factoryProperty.get(widget);
            if (!factory) {
                return false;
            }
            return factory.readOnly === false;
        }));
        let factory = Private.factoryProperty.get(widget);
        if (!factory) {
            return Promise.resolve(true);
        }
        let model = context.model;
        if (!model.dirty || widgets.length > 1 || factory.readOnly) {
            return Promise.resolve(true);
        }
        let fileName = widget.title.label;
        return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__["showDialog"])({
            title: 'Close without saving?',
            body: `File "${fileName}" has unsaved changes, close without saving?`,
            buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__["Dialog"].cancelButton(), _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__["Dialog"].warnButton()]
        }).then(result => {
            return result.button.accept;
        });
    }
    /**
     * Handle the disposal of a widget.
     */
    _widgetDisposed(widget) {
        let context = Private.contextProperty.get(widget);
        if (!context) {
            return;
        }
        let widgets = Private.widgetsProperty.get(context);
        if (!widgets) {
            return;
        }
        // Remove the widget.
        _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeFirstOf(widgets, widget);
        // Dispose of the context if this is the last widget using it.
        if (!widgets.length) {
            context.dispose();
        }
    }
    /**
     * Handle the disposal of a widget.
     */
    _onWidgetDisposed(widget) {
        let disposables = Private.disposablesProperty.get(widget);
        disposables.dispose();
    }
    /**
     * Handle a file changed signal for a context.
     */
    _onFileChanged(context) {
        let widgets = Private.widgetsProperty.get(context);
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(widgets, widget => {
            void this.setCaption(widget);
        });
    }
    /**
     * Handle a path changed signal for a context.
     */
    _onPathChanged(context) {
        let widgets = Private.widgetsProperty.get(context);
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(widgets, widget => {
            void this.setCaption(widget);
        });
    }
}
/**
 * A private namespace for DocumentManager data.
 */
var Private;
(function (Private) {
    /**
     * A private attached property for a widget context.
     */
    Private.contextProperty = new _lumino_properties__WEBPACK_IMPORTED_MODULE_3__["AttachedProperty"]({
        name: 'context',
        create: () => undefined
    });
    /**
     * A private attached property for a widget factory.
     */
    Private.factoryProperty = new _lumino_properties__WEBPACK_IMPORTED_MODULE_3__["AttachedProperty"]({
        name: 'factory',
        create: () => undefined
    });
    /**
     * A private attached property for the widgets associated with a context.
     */
    Private.widgetsProperty = new _lumino_properties__WEBPACK_IMPORTED_MODULE_3__["AttachedProperty"]({
        name: 'widgets',
        create: () => []
    });
    /**
     * A private attached property for a widget's disposables.
     */
    Private.disposablesProperty = new _lumino_properties__WEBPACK_IMPORTED_MODULE_3__["AttachedProperty"]({
        name: 'disposables',
        create: () => new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableSet"]()
    });
})(Private || (Private = {}));
//# sourceMappingURL=widgetmanager.js.map

/***/ }),

/***/ "DjWy":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/yaml.svg ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cg class='jp-icon-contrast2 jp-icon-selectable' fill='%23D81B60' %3E %3Cpath d='M7.2,18.6v-5.4L3,5.6h3.3l1.4,3.1c0.3,0.9,0.6,1.6,1,2.5l0,0c0.3-0.8,0.6-1.6,1-2.5l1.4-3.1h3.4l-4.4,7.6v5.5 L7.2,18.6L7.2,18.6z'/%3E %3Ccircle class='st0' cx='17.6' cy='16.5' r='2.1'/%3E %3Ccircle class='st0' cx='17.6' cy='11' r='2.1'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "DjWye":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/yaml.svg ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<g\n\t\tclass=\"jp-icon-contrast2 jp-icon-selectable\"\n\t\tfill=\"#D81B60\"\n\t>\n\t\t<path d=\"M7.2,18.6v-5.4L3,5.6h3.3l1.4,3.1c0.3,0.9,0.6,1.6,1,2.5l0,0c0.3-0.8,0.6-1.6,1-2.5l1.4-3.1h3.4l-4.4,7.6v5.5 L7.2,18.6L7.2,18.6z\"/>\n\t\t<circle class=\"st0\" cx=\"17.6\" cy=\"16.5\" r=\"2.1\"/>\n\t\t<circle class=\"st0\" cx=\"17.6\" cy=\"11\" r=\"2.1\"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "EAFq":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/save.svg ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg height='18' viewBox='0 0 24 24' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "EAFqt":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/save.svg ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g class=\"jp-icon3\" fill=\"#616161\">\n        <path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"/>\n    </g>\n</svg>\n");

/***/ }),

/***/ "EQn5":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/collapse.css ***!
  \*********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-Collapse {\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  border-top: 1px solid var(--jp-border-color2);\n  border-bottom: 1px solid var(--jp-border-color2);\n}\n\n.jp-Collapse-header {\n  padding: 1px 12px;\n  color: var(--jp-ui-font-color1);\n  background-color: var(--jp-layout-color1);\n  font-size: var(--jp-ui-font-size2);\n}\n\n.jp-Collapse-header:hover {\n  background-color: var(--jp-layout-color2);\n}\n\n.jp-Collapse-contents {\n  padding: 0px 12px 0px 12px;\n  background-color: var(--jp-layout-color1);\n  color: var(--jp-ui-font-color1);\n  overflow: auto;\n}\n", ""]);


/***/ }),

/***/ "EZv/":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/attachmentmodel.js ***!
  \*************************************************************************************************/
/*! exports provided: AttachmentModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttachmentModel", function() { return AttachmentModel; });
/* harmony import */ var _jupyterlab_observables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/observables */ "d/JO");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_2__);
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/



/**
 * The default implementation of a notebook attachment model.
 */
class AttachmentModel {
    /**
     * Construct a new attachment model.
     */
    constructor(options) {
        // All attachments are untrusted
        this.trusted = false;
        this._changed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__["Signal"](this);
        this._raw = {};
        let data = Private.getData(options.value);
        this._data = new _jupyterlab_observables__WEBPACK_IMPORTED_MODULE_0__["ObservableJSON"]({ values: data });
        this._rawData = data;
        // Make a copy of the data.
        let value = options.value;
        for (let key in value) {
            // Ignore data and metadata that were stripped.
            switch (key) {
                case 'data':
                    break;
                default:
                    this._raw[key] = Private.extract(value, key);
            }
        }
    }
    /**
     * A signal emitted when the attachment model changes.
     */
    get changed() {
        return this._changed;
    }
    /**
     * Dispose of the resources used by the attachment model.
     */
    dispose() {
        this._data.dispose();
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__["Signal"].clearData(this);
    }
    /**
     * The data associated with the model.
     */
    get data() {
        return this._rawData;
    }
    /**
     * The metadata associated with the model.
     */
    get metadata() {
        return {};
    }
    /**
     * Set the data associated with the model.
     *
     * #### Notes
     * Depending on the implementation of the mime model,
     * this call may or may not have deferred effects,
     */
    setData(options) {
        if (options.data) {
            this._updateObservable(this._data, options.data);
            this._rawData = options.data;
        }
        this._changed.emit(void 0);
    }
    /**
     * Serialize the model to JSON.
     */
    toJSON() {
        let attachment = {};
        for (let key in this._raw) {
            attachment[key] = Private.extract(this._raw, key);
        }
        return attachment;
    }
    /**
     * Update an observable JSON object using a readonly JSON object.
     */
    _updateObservable(observable, data) {
        let oldKeys = observable.keys();
        let newKeys = Object.keys(data);
        // Handle removed keys.
        for (let key of oldKeys) {
            if (newKeys.indexOf(key) === -1) {
                observable.delete(key);
            }
        }
        // Handle changed data.
        for (let key of newKeys) {
            let oldValue = observable.get(key);
            let newValue = data[key];
            if (oldValue !== newValue) {
                observable.set(key, newValue);
            }
        }
    }
}
/**
 * The namespace for AttachmentModel statics.
 */
(function (AttachmentModel) {
    /**
     * Get the data for an attachment.
     *
     * @params bundle - A kernel attachment MIME bundle.
     *
     * @returns - The data for the payload.
     */
    function getData(bundle) {
        return Private.getData(bundle);
    }
    AttachmentModel.getData = getData;
})(AttachmentModel || (AttachmentModel = {}));
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * Get the data from a notebook attachment.
     */
    function getData(bundle) {
        return convertBundle(bundle);
    }
    Private.getData = getData;
    /**
     * Get the bundle options given attachment model options.
     */
    function getBundleOptions(options) {
        let data = getData(options.value);
        return { data };
    }
    Private.getBundleOptions = getBundleOptions;
    /**
     * Extract a value from a JSONObject.
     */
    function extract(value, key) {
        let item = value[key];
        if (item === undefined || _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["JSONExt"].isPrimitive(item)) {
            return item;
        }
        return _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["JSONExt"].deepCopy(item);
    }
    Private.extract = extract;
    /**
     * Convert a mime bundle to mime data.
     */
    function convertBundle(bundle) {
        let map = Object.create(null);
        for (let mimeType in bundle) {
            map[mimeType] = extract(bundle, mimeType);
        }
        return map;
    }
})(Private || (Private = {}));
//# sourceMappingURL=attachmentmodel.js.map

/***/ }),

/***/ "FTpu":
/*!*****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/filter-list.svg ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "FTpud":
/*!*****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/filter-list.svg ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "FXLa":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/style/layout.js ***!
  \*********************************************************************************************/
/*! exports provided: centeredFlex, leftToRight, rightToLeft, equiDistant */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "centeredFlex", function() { return centeredFlex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "leftToRight", function() { return leftToRight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rightToLeft", function() { return rightToLeft; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "equiDistant", function() { return equiDistant; });
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
const centeredFlex = {
    display: 'flex',
    alignItems: 'center'
};
const leftToRight = {
    flexDirection: 'row'
};
const rightToLeft = {
    flexDirection: 'row-reverse'
};
const equiDistant = {
    justifyContent: 'space-between'
};
//# sourceMappingURL=layout.js.map

/***/ }),

/***/ "G9aA":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-left.svg ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 18 18'%3E %3Cg class='jp-icon3' fill='%23616161' shape-rendering='geometricPrecision'%3E %3Cpath d='M10.8,12.8L7.1,9l3.8-3.8l0,7.6H10.8z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "G9aAr":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-left.svg ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\n\t<g class=\"jp-icon3\" fill=\"#616161\" shape-rendering=\"geometricPrecision\">\n\t\t<path d=\"M10.8,12.8L7.1,9l3.8-3.8l0,7.6H10.8z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "GNlT":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/kernel.svg ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cpath class='jp-icon2' fill='%23616161' d='M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z'/%3E %3C/svg%3E"

/***/ }),

/***/ "GNlTq":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/kernel.svg ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n    <path class=\"jp-icon2\" fill=\"#616161\" d=\"M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z\"/>\n</svg>\n");

/***/ }),

/***/ "GPNR":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/default.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const coreutils_2 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const __1 = __webpack_require__(/*! .. */ "YdKB");
const comm_1 = __webpack_require__(/*! ./comm */ "y/+z");
const KernelMessage = __importStar(__webpack_require__(/*! ./messages */ "s/ac"));
const future_1 = __webpack_require__(/*! ./future */ "9OFR");
const serialize = __importStar(__webpack_require__(/*! ./serialize */ "79O8"));
const validate = __importStar(__webpack_require__(/*! ./validate */ "8o6w"));
const kernelspec_1 = __webpack_require__(/*! ../kernelspec */ "MuUM");
const restapi = __importStar(__webpack_require__(/*! ./restapi */ "o1Bc"));
/**
 * Implementation of the Kernel object.
 *
 * #### Notes
 * Messages from the server are handled in the order they were received and
 * asynchronously. Any message handler can return a promise, and message
 * handling will pause until the promise is fulfilled.
 */
class KernelConnection {
    /**
     * Construct a kernel object.
     */
    constructor(options) {
        var _a, _b, _c, _d;
        /**
         * Create the kernel websocket connection and add socket status handlers.
         */
        this._createSocket = () => {
            this._errorIfDisposed();
            // Make sure the socket is clear
            this._clearSocket();
            // Update the connection status to reflect opening a new connection.
            this._updateConnectionStatus('connecting');
            let settings = this.serverSettings;
            let partialUrl = coreutils_1.URLExt.join(settings.wsUrl, restapi.KERNEL_SERVICE_URL, encodeURIComponent(this._id));
            // Strip any authentication from the display string.
            let display = partialUrl.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/, '$1');
            console.log(`Starting WebSocket: ${display}`);
            let url = coreutils_1.URLExt.join(partialUrl, 'channels?session_id=' + encodeURIComponent(this._clientId));
            // If token authentication is in use.
            let token = settings.token;
            if (token !== '') {
                url = url + `&token=${encodeURIComponent(token)}`;
            }
            this._ws = new settings.WebSocket(url);
            // Ensure incoming binary messages are not Blobs
            this._ws.binaryType = 'arraybuffer';
            this._ws.onmessage = this._onWSMessage;
            this._ws.onopen = this._onWSOpen;
            this._ws.onclose = this._onWSClose;
            this._ws.onerror = this._onWSClose;
        };
        // Make websocket callbacks arrow functions so they bind `this`.
        /**
         * Handle a websocket open event.
         */
        this._onWSOpen = (evt) => {
            this._updateConnectionStatus('connected');
        };
        /**
         * Handle a websocket message, validating and routing appropriately.
         */
        this._onWSMessage = (evt) => {
            // Notify immediately if there is an error with the message.
            let msg;
            try {
                msg = serialize.deserialize(evt.data);
                validate.validateMessage(msg);
            }
            catch (error) {
                error.message = `Kernel message validation error: ${error.message}`;
                // We throw the error so that it bubbles up to the top, and displays the right stack.
                throw error;
            }
            // Update the current kernel session id
            this._kernelSession = msg.header.session;
            // Handle the message asynchronously, in the order received.
            this._msgChain = this._msgChain
                .then(() => {
                // Return so that any promises from handling a message are fulfilled
                // before proceeding to the next message.
                return this._handleMessage(msg);
            })
                .catch(error => {
                // Log any errors in handling the message, thus resetting the _msgChain
                // promise so we can process more messages.
                console.error(error);
            });
            // Emit the message receive signal
            this._anyMessage.emit({ msg, direction: 'recv' });
        };
        /**
         * Handle a websocket close event.
         */
        this._onWSClose = (evt) => {
            if (!this.isDisposed) {
                this._reconnect();
            }
        };
        this._id = '';
        this._name = '';
        this._status = 'unknown';
        this._connectionStatus = 'connecting';
        this._kernelSession = '';
        this._isDisposed = false;
        /**
         * Websocket to communicate with kernel.
         */
        this._ws = null;
        this._username = '';
        this._reconnectLimit = 7;
        this._reconnectAttempt = 0;
        this._reconnectTimeout = null;
        this._futures = new Map();
        this._comms = new Map();
        this._targetRegistry = Object.create(null);
        this._info = new coreutils_2.PromiseDelegate();
        this._pendingMessages = [];
        this._statusChanged = new signaling_1.Signal(this);
        this._connectionStatusChanged = new signaling_1.Signal(this);
        this._disposed = new signaling_1.Signal(this);
        this._iopubMessage = new signaling_1.Signal(this);
        this._anyMessage = new signaling_1.Signal(this);
        this._unhandledMessage = new signaling_1.Signal(this);
        this._displayIdToParentIds = new Map();
        this._msgIdToDisplayIds = new Map();
        this._msgChain = Promise.resolve();
        this._noOp = () => {
            /* no-op */
        };
        this._name = options.model.name;
        this._id = options.model.id;
        this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : __1.ServerConnection.makeSettings()));
        this._clientId = (_b = options.clientId, (_b !== null && _b !== void 0 ? _b : coreutils_2.UUID.uuid4()));
        this._username = (_c = options.username, (_c !== null && _c !== void 0 ? _c : ''));
        this.handleComms = (_d = options.handleComms, (_d !== null && _d !== void 0 ? _d : true));
        this._createSocket();
        // Immediately queue up a request for initial kernel info.
        void this.requestKernelInfo();
    }
    get disposed() {
        return this._disposed;
    }
    /**
     * A signal emitted when the kernel status changes.
     */
    get statusChanged() {
        return this._statusChanged;
    }
    /**
     * A signal emitted when the kernel status changes.
     */
    get connectionStatusChanged() {
        return this._connectionStatusChanged;
    }
    /**
     * A signal emitted for iopub kernel messages.
     *
     * #### Notes
     * This signal is emitted after the iopub message is handled asynchronously.
     */
    get iopubMessage() {
        return this._iopubMessage;
    }
    /**
     * A signal emitted for unhandled kernel message.
     *
     * #### Notes
     * This signal is emitted for a message that was not handled. It is emitted
     * during the asynchronous message handling code.
     */
    get unhandledMessage() {
        return this._unhandledMessage;
    }
    /**
     * The kernel model
     */
    get model() {
        return {
            id: this.id,
            name: this.name
        };
    }
    /**
     * A signal emitted for any kernel message.
     *
     * #### Notes
     * This signal is emitted when a message is received, before it is handled
     * asynchronously.
     *
     * This message is emitted when a message is queued for sending (either in
     * the websocket buffer, or our own pending message buffer). The message may
     * actually be sent across the wire at a later time.
     *
     * The message emitted in this signal should not be modified in any way.
     */
    get anyMessage() {
        return this._anyMessage;
    }
    /**
     * The id of the server-side kernel.
     */
    get id() {
        return this._id;
    }
    /**
     * The name of the server-side kernel.
     */
    get name() {
        return this._name;
    }
    /**
     * The client username.
     */
    get username() {
        return this._username;
    }
    /**
     * The client unique id.
     */
    get clientId() {
        return this._clientId;
    }
    /**
     * The current status of the kernel.
     */
    get status() {
        return this._status;
    }
    /**
     * The current connection status of the kernel connection.
     */
    get connectionStatus() {
        return this._connectionStatus;
    }
    /**
     * Test whether the kernel has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * The cached kernel info.
     *
     * @returns A promise that resolves to the kernel info.
     */
    get info() {
        return this._info.promise;
    }
    /**
     * The kernel spec.
     *
     * @returns A promise that resolves to the kernel spec.
     */
    get spec() {
        if (this._specPromise) {
            return this._specPromise;
        }
        this._specPromise = kernelspec_1.KernelSpecAPI.getSpecs(this.serverSettings).then(specs => {
            return specs.kernelspecs[this._name];
        });
        return this._specPromise;
    }
    /**
     * Clone the current kernel with a new clientId.
     */
    clone(options = {}) {
        return new KernelConnection(Object.assign({ model: this.model, username: this.username, serverSettings: this.serverSettings, 
            // handleComms defaults to false since that is safer
            handleComms: false }, options));
    }
    /**
     * Dispose of the resources held by the kernel.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        this._disposed.emit();
        this._updateConnectionStatus('disconnected');
        this._clearKernelState();
        this._clearSocket();
        // Clear Lumino signals
        signaling_1.Signal.clearData(this);
    }
    /**
     * Send a shell message to the kernel.
     *
     * #### Notes
     * Send a message to the kernel's shell channel, yielding a future object
     * for accepting replies.
     *
     * If `expectReply` is given and `true`, the future is disposed when both a
     * shell reply and an idle status message are received. If `expectReply`
     * is not given or is `false`, the future is resolved when an idle status
     * message is received.
     * If `disposeOnDone` is not given or is `true`, the Future is disposed at this point.
     * If `disposeOnDone` is given and `false`, it is up to the caller to dispose of the Future.
     *
     * All replies are validated as valid kernel messages.
     *
     * If the kernel status is `dead`, this will throw an error.
     */
    sendShellMessage(msg, expectReply = false, disposeOnDone = true) {
        return this._sendKernelShellControl(future_1.KernelShellFutureHandler, msg, expectReply, disposeOnDone);
    }
    /**
     * Send a control message to the kernel.
     *
     * #### Notes
     * Send a message to the kernel's control channel, yielding a future object
     * for accepting replies.
     *
     * If `expectReply` is given and `true`, the future is disposed when both a
     * control reply and an idle status message are received. If `expectReply`
     * is not given or is `false`, the future is resolved when an idle status
     * message is received.
     * If `disposeOnDone` is not given or is `true`, the Future is disposed at this point.
     * If `disposeOnDone` is given and `false`, it is up to the caller to dispose of the Future.
     *
     * All replies are validated as valid kernel messages.
     *
     * If the kernel status is `dead`, this will throw an error.
     */
    sendControlMessage(msg, expectReply = false, disposeOnDone = true) {
        return this._sendKernelShellControl(future_1.KernelControlFutureHandler, msg, expectReply, disposeOnDone);
    }
    _sendKernelShellControl(ctor, msg, expectReply = false, disposeOnDone = true) {
        this._sendMessage(msg);
        this._anyMessage.emit({ msg, direction: 'send' });
        let future = new ctor(() => {
            let msgId = msg.header.msg_id;
            this._futures.delete(msgId);
            // Remove stored display id information.
            let displayIds = this._msgIdToDisplayIds.get(msgId);
            if (!displayIds) {
                return;
            }
            displayIds.forEach(displayId => {
                let msgIds = this._displayIdToParentIds.get(displayId);
                if (msgIds) {
                    let idx = msgIds.indexOf(msgId);
                    if (idx === -1) {
                        return;
                    }
                    if (msgIds.length === 1) {
                        this._displayIdToParentIds.delete(displayId);
                    }
                    else {
                        msgIds.splice(idx, 1);
                        this._displayIdToParentIds.set(displayId, msgIds);
                    }
                }
            });
            this._msgIdToDisplayIds.delete(msgId);
        }, msg, expectReply, disposeOnDone, this);
        this._futures.set(msg.header.msg_id, future);
        return future;
    }
    /**
     * Send a message on the websocket.
     *
     * If queue is true, queue the message for later sending if we cannot send
     * now. Otherwise throw an error.
     */
    _sendMessage(msg, queue = true) {
        if (this.status === 'dead') {
            throw new Error('Kernel is dead');
        }
        // Send if the ws allows it, otherwise buffer the message.
        if (this.connectionStatus === 'connected') {
            this._ws.send(serialize.serialize(msg));
        }
        else if (queue) {
            this._pendingMessages.push(msg);
        }
        else {
            throw new Error('Could not send message');
        }
    }
    /**
     * Interrupt a kernel.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels).
     *
     * The promise is fulfilled on a valid response and rejected otherwise.
     *
     * It is assumed that the API call does not mutate the kernel id or name.
     *
     * The promise will be rejected if the kernel status is `Dead` or if the
     * request fails or the response is invalid.
     */
    async interrupt() {
        if (this.status === 'dead') {
            throw new Error('Kernel is dead');
        }
        return restapi.interruptKernel(this.id, this.serverSettings);
    }
    /**
     * Request a kernel restart.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels)
     * and validates the response model.
     *
     * Any existing Future or Comm objects are cleared once the kernel has
     * actually be restarted.
     *
     * The promise is fulfilled on a valid server response (after the kernel restarts)
     * and rejected otherwise.
     *
     * It is assumed that the API call does not mutate the kernel id or name.
     *
     * The promise will be rejected if the request fails or the response is
     * invalid.
     */
    async restart() {
        if (this.status === 'dead') {
            throw new Error('Kernel is dead');
        }
        await restapi.restartKernel(this.id, this.serverSettings);
        await this._handleRestart();
    }
    /**
     * Reconnect to a kernel.
     *
     * #### Notes
     * This may try multiple times to reconnect to a kernel, and will sever any
     * existing connection.
     */
    reconnect() {
        this._errorIfDisposed();
        let result = new coreutils_2.PromiseDelegate();
        // Set up a listener for the connection status changing, which accepts or
        // rejects after the retries are done.
        let fulfill = (sender, status) => {
            if (status === 'connected') {
                result.resolve();
                this.connectionStatusChanged.disconnect(fulfill, this);
            }
            else if (status === 'disconnected') {
                result.reject(new Error('Kernel connection disconnected'));
                this.connectionStatusChanged.disconnect(fulfill, this);
            }
        };
        this.connectionStatusChanged.connect(fulfill, this);
        // Reset the reconnect limit so we start the connection attempts fresh
        this._reconnectAttempt = 0;
        // Start the reconnection process, which will also clear any existing
        // connection.
        this._reconnect();
        // Return the promise that should resolve on connection or reject if the
        // retries don't work.
        return result.promise;
    }
    /**
     * Shutdown a kernel.
     *
     * #### Notes
     * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels).
     *
     * The promise is fulfilled on a valid response and rejected otherwise.
     *
     * On a valid response, disposes this kernel connection.
     *
     * If the kernel is already `dead`, disposes this kernel connection without
     * a server request.
     */
    async shutdown() {
        if (this.status !== 'dead') {
            await restapi.shutdownKernel(this.id, this.serverSettings);
        }
        this.handleShutdown();
    }
    /**
     * Handles a kernel shutdown.
     *
     * #### Notes
     * This method should be called if we know from outside information that a
     * kernel is dead (for example, we cannot find the kernel model on the
     * server).
     */
    handleShutdown() {
        this._updateStatus('dead');
        this.dispose();
    }
    /**
     * Send a `kernel_info_request` message.
     *
     * #### Notes
     * See [Messaging in Jupyter](https://jupyter-client.readthedocs.io/en/latest/messaging.html#kernel-info).
     *
     * Fulfills with the `kernel_info_response` content when the shell reply is
     * received and validated.
     */
    async requestKernelInfo() {
        let msg = KernelMessage.createMessage({
            msgType: 'kernel_info_request',
            channel: 'shell',
            username: this._username,
            session: this._clientId,
            content: {}
        });
        let reply;
        try {
            reply = (await Private.handleShellMessage(this, msg));
        }
        catch (e) {
            // If we rejected because the future was disposed, ignore and return.
            if (this.isDisposed) {
                return;
            }
            else {
                throw e;
            }
        }
        this._errorIfDisposed();
        if (!reply) {
            return;
        }
        // Kernels sometimes do not include a status field on kernel_info_reply
        // messages, so set a default for now.
        // See https://github.com/jupyterlab/jupyterlab/issues/6760
        if (reply.content.status === undefined) {
            reply.content.status = 'ok';
        }
        if (reply.content.status !== 'ok') {
            throw new Error('Kernel info reply errored');
        }
        this._info.resolve(reply.content);
        return reply;
    }
    /**
     * Send a `complete_request` message.
     *
     * #### Notes
     * See [Messaging in Jupyter](https://jupyter-client.readthedocs.io/en/latest/messaging.html#completion).
     *
     * Fulfills with the `complete_reply` content when the shell reply is
     * received and validated.
     */
    requestComplete(content) {
        let msg = KernelMessage.createMessage({
            msgType: 'complete_request',
            channel: 'shell',
            username: this._username,
            session: this._clientId,
            content
        });
        return Private.handleShellMessage(this, msg);
    }
    /**
     * Send an `inspect_request` message.
     *
     * #### Notes
     * See [Messaging in Jupyter](https://jupyter-client.readthedocs.io/en/latest/messaging.html#introspection).
     *
     * Fulfills with the `inspect_reply` content when the shell reply is
     * received and validated.
     */
    requestInspect(content) {
        let msg = KernelMessage.createMessage({
            msgType: 'inspect_request',
            channel: 'shell',
            username: this._username,
            session: this._clientId,
            content: content
        });
        return Private.handleShellMessage(this, msg);
    }
    /**
     * Send a `history_request` message.
     *
     * #### Notes
     * See [Messaging in Jupyter](https://jupyter-client.readthedocs.io/en/latest/messaging.html#history).
     *
     * Fulfills with the `history_reply` content when the shell reply is
     * received and validated.
     */
    requestHistory(content) {
        let msg = KernelMessage.createMessage({
            msgType: 'history_request',
            channel: 'shell',
            username: this._username,
            session: this._clientId,
            content
        });
        return Private.handleShellMessage(this, msg);
    }
    /**
     * Send an `execute_request` message.
     *
     * #### Notes
     * See [Messaging in Jupyter](https://jupyter-client.readthedocs.io/en/latest/messaging.html#execute).
     *
     * Future `onReply` is called with the `execute_reply` content when the
     * shell reply is received and validated. The future will resolve when
     * this message is received and the `idle` iopub status is received.
     * The future will also be disposed at this point unless `disposeOnDone`
     * is specified and `false`, in which case it is up to the caller to dispose
     * of the future.
     *
     * **See also:** [[IExecuteReply]]
     */
    requestExecute(content, disposeOnDone = true, metadata) {
        let defaults = {
            silent: false,
            store_history: true,
            user_expressions: {},
            allow_stdin: true,
            stop_on_error: false
        };
        let msg = KernelMessage.createMessage({
            msgType: 'execute_request',
            channel: 'shell',
            username: this._username,
            session: this._clientId,
            content: Object.assign(Object.assign({}, defaults), content),
            metadata
        });
        return this.sendShellMessage(msg, true, disposeOnDone);
    }
    /**
     * Send an experimental `debug_request` message.
     *
     * @hidden
     *
     * #### Notes
     * Debug messages are experimental messages that are not in the official
     * kernel message specification. As such, this function is *NOT* considered
     * part of the public API, and may change without notice.
     */
    requestDebug(content, disposeOnDone = true) {
        let msg = KernelMessage.createMessage({
            msgType: 'debug_request',
            channel: 'control',
            username: this._username,
            session: this._clientId,
            content
        });
        return this.sendControlMessage(msg, true, disposeOnDone);
    }
    /**
     * Send an `is_complete_request` message.
     *
     * #### Notes
     * See [Messaging in Jupyter](https://jupyter-client.readthedocs.io/en/latest/messaging.html#code-completeness).
     *
     * Fulfills with the `is_complete_response` content when the shell reply is
     * received and validated.
     */
    requestIsComplete(content) {
        let msg = KernelMessage.createMessage({
            msgType: 'is_complete_request',
            channel: 'shell',
            username: this._username,
            session: this._clientId,
            content
        });
        return Private.handleShellMessage(this, msg);
    }
    /**
     * Send a `comm_info_request` message.
     *
     * #### Notes
     * Fulfills with the `comm_info_reply` content when the shell reply is
     * received and validated.
     */
    requestCommInfo(content) {
        let msg = KernelMessage.createMessage({
            msgType: 'comm_info_request',
            channel: 'shell',
            username: this._username,
            session: this._clientId,
            content
        });
        return Private.handleShellMessage(this, msg);
    }
    /**
     * Send an `input_reply` message.
     *
     * #### Notes
     * See [Messaging in Jupyter](https://jupyter-client.readthedocs.io/en/latest/messaging.html#messages-on-the-stdin-router-dealer-sockets).
     */
    sendInputReply(content) {
        let msg = KernelMessage.createMessage({
            msgType: 'input_reply',
            channel: 'stdin',
            username: this._username,
            session: this._clientId,
            content
        });
        this._sendMessage(msg);
        this._anyMessage.emit({ msg, direction: 'send' });
    }
    /**
     * Create a new comm.
     *
     * #### Notes
     * If a client-side comm already exists with the given commId, an error is thrown.
     * If the kernel does not handle comms, an error is thrown.
     */
    createComm(targetName, commId = coreutils_2.UUID.uuid4()) {
        if (!this.handleComms) {
            throw new Error('Comms are disabled on this kernel connection');
        }
        if (this._comms.has(commId)) {
            throw new Error('Comm is already created');
        }
        let comm = new comm_1.CommHandler(targetName, commId, this, () => {
            this._unregisterComm(commId);
        });
        this._comms.set(commId, comm);
        return comm;
    }
    /**
     * Check if a comm exists.
     */
    hasComm(commId) {
        return this._comms.has(commId);
    }
    /**
     * Register a comm target handler.
     *
     * @param targetName - The name of the comm target.
     *
     * @param callback - The callback invoked for a comm open message.
     *
     * @returns A disposable used to unregister the comm target.
     *
     * #### Notes
     * Only one comm target can be registered to a target name at a time, an
     * existing callback for the same target name will be overridden.  A registered
     * comm target handler will take precedence over a comm which specifies a
     * `target_module`.
     *
     * If the callback returns a promise, kernel message processing will pause
     * until the returned promise is fulfilled.
     */
    registerCommTarget(targetName, callback) {
        if (!this.handleComms) {
            return;
        }
        this._targetRegistry[targetName] = callback;
    }
    /**
     * Remove a comm target handler.
     *
     * @param targetName - The name of the comm target to remove.
     *
     * @param callback - The callback to remove.
     *
     * #### Notes
     * The comm target is only removed if the callback argument matches.
     */
    removeCommTarget(targetName, callback) {
        if (!this.handleComms) {
            return;
        }
        if (!this.isDisposed && this._targetRegistry[targetName] === callback) {
            delete this._targetRegistry[targetName];
        }
    }
    /**
     * Register an IOPub message hook.
     *
     * @param msg_id - The parent_header message id the hook will intercept.
     *
     * @param hook - The callback invoked for the message.
     *
     * #### Notes
     * The IOPub hook system allows you to preempt the handlers for IOPub
     * messages that are responses to a given message id.
     *
     * The most recently registered hook is run first. A hook can return a
     * boolean or a promise to a boolean, in which case all kernel message
     * processing pauses until the promise is fulfilled. If a hook return value
     * resolves to false, any later hooks will not run and the function will
     * return a promise resolving to false. If a hook throws an error, the error
     * is logged to the console and the next hook is run. If a hook is
     * registered during the hook processing, it will not run until the next
     * message. If a hook is removed during the hook processing, it will be
     * deactivated immediately.
     *
     * See also [[IFuture.registerMessageHook]].
     */
    registerMessageHook(msgId, hook) {
        var _a;
        let future = (_a = this._futures) === null || _a === void 0 ? void 0 : _a.get(msgId);
        if (future) {
            future.registerMessageHook(hook);
        }
    }
    /**
     * Remove an IOPub message hook.
     *
     * @param msg_id - The parent_header message id the hook intercepted.
     *
     * @param hook - The callback invoked for the message.
     *
     */
    removeMessageHook(msgId, hook) {
        var _a;
        let future = (_a = this._futures) === null || _a === void 0 ? void 0 : _a.get(msgId);
        if (future) {
            future.removeMessageHook(hook);
        }
    }
    /**
     * Handle a message with a display id.
     *
     * @returns Whether the message was handled.
     */
    async _handleDisplayId(displayId, msg) {
        var _a, _b;
        let msgId = msg.parent_header.msg_id;
        let parentIds = this._displayIdToParentIds.get(displayId);
        if (parentIds) {
            // We've seen it before, update existing outputs with same display_id
            // by handling display_data as update_display_data.
            let updateMsg = {
                header: coreutils_2.JSONExt.deepCopy(msg.header),
                parent_header: coreutils_2.JSONExt.deepCopy(msg.parent_header),
                metadata: coreutils_2.JSONExt.deepCopy(msg.metadata),
                content: coreutils_2.JSONExt.deepCopy(msg.content),
                channel: msg.channel,
                buffers: msg.buffers ? msg.buffers.slice() : []
            };
            updateMsg.header.msg_type = 'update_display_data';
            await Promise.all(parentIds.map(async (parentId) => {
                let future = this._futures && this._futures.get(parentId);
                if (future) {
                    await future.handleMsg(updateMsg);
                }
            }));
        }
        // We're done here if it's update_display.
        if (msg.header.msg_type === 'update_display_data') {
            // It's an update, don't proceed to the normal display.
            return true;
        }
        // Regular display_data with id, record it for future updating
        // in _displayIdToParentIds for future lookup.
        parentIds = (_a = this._displayIdToParentIds.get(displayId), (_a !== null && _a !== void 0 ? _a : []));
        if (parentIds.indexOf(msgId) === -1) {
            parentIds.push(msgId);
        }
        this._displayIdToParentIds.set(displayId, parentIds);
        // Add to our map of display ids for this message.
        let displayIds = (_b = this._msgIdToDisplayIds.get(msgId), (_b !== null && _b !== void 0 ? _b : []));
        if (displayIds.indexOf(msgId) === -1) {
            displayIds.push(msgId);
        }
        this._msgIdToDisplayIds.set(msgId, displayIds);
        // Let the message propagate to the intended recipient.
        return false;
    }
    /**
     * Handle a restart on the kernel.  This is not part of the `IKernel`
     * interface.
     */
    async _handleRestart() {
        this._clearKernelState();
        this._updateStatus('restarting');
        // Kick off an async kernel request to eventually reset the kernel status.
        // We do this with a setTimeout so that it comes after the microtask
        // logic in _handleMessage for restarting/autostarting status updates.
        setTimeout(() => {
            void this.requestKernelInfo();
        }, 0);
    }
    /**
     * Forcefully clear the socket state.
     *
     * #### Notes
     * This will clear all socket state without calling any handlers and will
     * not update the connection status. If you call this method, you are
     * responsible for updating the connection status as needed and recreating
     * the socket if you plan to reconnect.
     */
    _clearSocket() {
        if (this._ws !== null) {
            // Clear the websocket event handlers and the socket itself.
            this._ws.onopen = this._noOp;
            this._ws.onclose = this._noOp;
            this._ws.onerror = this._noOp;
            this._ws.onmessage = this._noOp;
            this._ws.close();
            this._ws = null;
        }
    }
    /**
     * Handle status iopub messages from the kernel.
     */
    _updateStatus(status) {
        if (this._status === status || this._status === 'dead') {
            return;
        }
        this._status = status;
        Private.logKernelStatus(this);
        this._statusChanged.emit(status);
        if (status === 'dead') {
            this.dispose();
        }
    }
    /**
     * Send pending messages to the kernel.
     */
    _sendPending() {
        // We check to make sure we are still connected each time. For
        // example, if a websocket buffer overflows, it may close, so we should
        // stop sending messages.
        while (this.connectionStatus === 'connected' &&
            this._pendingMessages.length > 0) {
            this._sendMessage(this._pendingMessages[0], false);
            // We shift the message off the queue after the message is sent so that
            // if there is an exception, the message is still pending.
            this._pendingMessages.shift();
        }
    }
    /**
     * Clear the internal state.
     */
    _clearKernelState() {
        this._pendingMessages = [];
        this._futures.forEach(future => {
            future.dispose();
        });
        this._comms.forEach(comm => {
            comm.dispose();
        });
        this._msgChain = Promise.resolve();
        this._kernelSession = '';
        this._futures = new Map();
        this._comms = new Map();
        this._displayIdToParentIds.clear();
        this._msgIdToDisplayIds.clear();
    }
    /**
     * Check to make sure it is okay to proceed to handle a message.
     *
     * #### Notes
     * Because we handle messages asynchronously, before a message is handled the
     * kernel might be disposed or restarted (and have a different session id).
     * This function throws an error in each of these cases. This is meant to be
     * called at the start of an asynchronous message handler to cancel message
     * processing if the message no longer is valid.
     */
    _assertCurrentMessage(msg) {
        this._errorIfDisposed();
        if (msg.header.session !== this._kernelSession) {
            throw new Error(`Canceling handling of old message: ${msg.header.msg_type}`);
        }
    }
    /**
     * Handle a `comm_open` kernel message.
     */
    async _handleCommOpen(msg) {
        this._assertCurrentMessage(msg);
        let content = msg.content;
        let comm = new comm_1.CommHandler(content.target_name, content.comm_id, this, () => {
            this._unregisterComm(content.comm_id);
        });
        this._comms.set(content.comm_id, comm);
        try {
            let target = await Private.loadObject(content.target_name, content.target_module, this._targetRegistry);
            await target(comm, msg);
        }
        catch (e) {
            // Close the comm asynchronously. We cannot block message processing on
            // kernel messages to wait for another kernel message.
            comm.close();
            console.error('Exception opening new comm');
            throw e;
        }
    }
    /**
     * Handle 'comm_close' kernel message.
     */
    async _handleCommClose(msg) {
        this._assertCurrentMessage(msg);
        let content = msg.content;
        let comm = this._comms.get(content.comm_id);
        if (!comm) {
            console.error('Comm not found for comm id ' + content.comm_id);
            return;
        }
        this._unregisterComm(comm.commId);
        let onClose = comm.onClose;
        if (onClose) {
            // tslint:disable-next-line:await-promise
            await onClose(msg);
        }
        comm.dispose();
    }
    /**
     * Handle a 'comm_msg' kernel message.
     */
    async _handleCommMsg(msg) {
        this._assertCurrentMessage(msg);
        let content = msg.content;
        let comm = this._comms.get(content.comm_id);
        if (!comm) {
            return;
        }
        let onMsg = comm.onMsg;
        if (onMsg) {
            // tslint:disable-next-line:await-promise
            await onMsg(msg);
        }
    }
    /**
     * Unregister a comm instance.
     */
    _unregisterComm(commId) {
        this._comms.delete(commId);
    }
    /**
     * Handle connection status changes.
     */
    _updateConnectionStatus(connectionStatus) {
        if (this._connectionStatus === connectionStatus) {
            return;
        }
        this._connectionStatus = connectionStatus;
        // If we are not 'connecting', reset any reconnection attempts.
        if (connectionStatus !== 'connecting') {
            this._reconnectAttempt = 0;
            clearTimeout(this._reconnectTimeout);
        }
        if (this.status !== 'dead') {
            if (connectionStatus === 'connected') {
                // Send pending messages, and make sure we send at least one message
                // to get kernel status back.
                if (this._pendingMessages.length > 0) {
                    this._sendPending();
                }
                else {
                    void this.requestKernelInfo();
                }
            }
            else {
                // If the connection is down, then we do not know what is happening
                // with the kernel, so set the status to unknown.
                this._updateStatus('unknown');
            }
        }
        // Notify others that the connection status changed.
        this._connectionStatusChanged.emit(connectionStatus);
    }
    async _handleMessage(msg) {
        var _a, _b;
        let handled = false;
        // Check to see if we have a display_id we need to reroute.
        if (msg.parent_header &&
            msg.channel === 'iopub' &&
            (KernelMessage.isDisplayDataMsg(msg) ||
                KernelMessage.isUpdateDisplayDataMsg(msg) ||
                KernelMessage.isExecuteResultMsg(msg))) {
            // display_data messages may re-route based on their display_id.
            let transient = (_a = msg.content.transient, (_a !== null && _a !== void 0 ? _a : {}));
            let displayId = transient['display_id'];
            if (displayId) {
                handled = await this._handleDisplayId(displayId, msg);
                // The await above may make this message out of date, so check again.
                this._assertCurrentMessage(msg);
            }
        }
        if (!handled && msg.parent_header) {
            let parentHeader = msg.parent_header;
            let future = (_b = this._futures) === null || _b === void 0 ? void 0 : _b.get(parentHeader.msg_id);
            if (future) {
                await future.handleMsg(msg);
                this._assertCurrentMessage(msg);
            }
            else {
                // If the message was sent by us and was not iopub, it is orphaned.
                let owned = parentHeader.session === this.clientId;
                if (msg.channel !== 'iopub' && owned) {
                    this._unhandledMessage.emit(msg);
                }
            }
        }
        if (msg.channel === 'iopub') {
            switch (msg.header.msg_type) {
                case 'status':
                    // Updating the status is synchronous, and we call no async user code
                    let executionState = msg.content
                        .execution_state;
                    if (executionState === 'restarting') {
                        // The kernel has been auto-restarted by the server. After
                        // processing for this message is completely done, we want to
                        // handle this restart, so we don't await, but instead schedule
                        // the work as a microtask (i.e., in a promise resolution). We
                        // schedule this here so that it comes before any microtasks that
                        // might be scheduled in the status signal emission below.
                        void Promise.resolve().then(async () => {
                            // handleRestart changes the status to 'restarting', so we call it
                            // first so that the status won't flip back and forth between
                            // 'restarting' and 'autorestarting'.
                            await this._handleRestart();
                            this._updateStatus('autorestarting');
                        });
                    }
                    this._updateStatus(executionState);
                    break;
                case 'comm_open':
                    if (this.handleComms) {
                        await this._handleCommOpen(msg);
                    }
                    break;
                case 'comm_msg':
                    if (this.handleComms) {
                        await this._handleCommMsg(msg);
                    }
                    break;
                case 'comm_close':
                    if (this.handleComms) {
                        await this._handleCommClose(msg);
                    }
                    break;
                default:
                    break;
            }
            // If the message was a status dead message, we might have disposed ourselves.
            if (!this.isDisposed) {
                this._assertCurrentMessage(msg);
                // the message wouldn't be emitted if we were disposed anyway.
                this._iopubMessage.emit(msg);
            }
        }
    }
    /**
     * Attempt a connection if we have not exhausted connection attempts.
     */
    _reconnect() {
        this._errorIfDisposed();
        // Clear any existing reconnection attempt
        clearTimeout(this._reconnectTimeout);
        // Update the connection status and schedule a possible reconnection.
        if (this._reconnectAttempt < this._reconnectLimit) {
            this._updateConnectionStatus('connecting');
            // The first reconnect attempt should happen immediately, and subsequent
            // attemps should pick a random number in a growing range so that we
            // don't overload the server with synchronized reconnection attempts
            // across multiple kernels.
            let timeout = Private.getRandomIntInclusive(0, 1e3 * (Math.pow(2, this._reconnectAttempt) - 1));
            console.error(`Connection lost, reconnecting in ${Math.floor(timeout / 1000)} seconds.`);
            this._reconnectTimeout = setTimeout(this._createSocket, timeout);
            this._reconnectAttempt += 1;
        }
        else {
            this._updateConnectionStatus('disconnected');
        }
        // Clear the websocket event handlers and the socket itself.
        this._clearSocket();
    }
    /**
     * Utility function to throw an error if this instance is disposed.
     */
    _errorIfDisposed() {
        if (this.isDisposed) {
            throw new Error('Kernel connection is disposed');
        }
    }
}
exports.KernelConnection = KernelConnection;
/**
 * A private namespace for the Kernel.
 */
var Private;
(function (Private) {
    /**
     * Log the current kernel status.
     */
    function logKernelStatus(kernel) {
        switch (kernel.status) {
            case 'idle':
            case 'busy':
            case 'unknown':
                return;
            default:
                console.log(`Kernel: ${kernel.status} (${kernel.id})`);
                break;
        }
    }
    Private.logKernelStatus = logKernelStatus;
    /**
     * Send a kernel message to the kernel and resolve the reply message.
     */
    async function handleShellMessage(kernel, msg) {
        let future = kernel.sendShellMessage(msg, true);
        return future.done;
    }
    Private.handleShellMessage = handleShellMessage;
    /**
     * Try to load an object from a module or a registry.
     *
     * Try to load an object from a module asynchronously if a module
     * is specified, otherwise tries to load an object from the global
     * registry, if the global registry is provided.
     *
     * #### Notes
     * Loading a module uses requirejs.
     */
    function loadObject(name, moduleName, registry) {
        return new Promise((resolve, reject) => {
            var _a;
            // Try loading the module using require.js
            if (moduleName) {
                if (typeof requirejs === 'undefined') {
                    throw new Error('requirejs not found');
                }
                requirejs([moduleName], (mod) => {
                    if (mod[name] === void 0) {
                        let msg = `Object '${name}' not found in module '${moduleName}'`;
                        reject(new Error(msg));
                    }
                    else {
                        resolve(mod[name]);
                    }
                }, reject);
            }
            else {
                if ((_a = registry) === null || _a === void 0 ? void 0 : _a[name]) {
                    resolve(registry[name]);
                }
                else {
                    reject(new Error(`Object '${name}' not found in registry`));
                }
            }
        });
    }
    Private.loadObject = loadObject;
    /**
     * Get a random integer between min and max, inclusive of both.
     *
     * #### Notes
     * From
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random#Getting_a_random_integer_between_two_values_inclusive
     *
     * From the MDN page: It might be tempting to use Math.round() to accomplish
     * that, but doing so would cause your random numbers to follow a non-uniform
     * distribution, which may not be acceptable for your needs.
     */
    function getRandomIntInclusive(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    Private.getRandomIntInclusive = getRandomIntInclusive;
})(Private || (Private = {}));
//# sourceMappingURL=default.js.map

/***/ }),

/***/ "GfCJ":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/base.css ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./collapse.css */ "EQn5"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./commandpalette.css */ "qX8I"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./dialog.css */ "QlUk"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./hoverbox.css */ "KuDp"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./iframe.css */ "mG7G"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./mainareawidget.css */ "XpOT"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./materialcolors.css */ "Qk35"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./spinner.css */ "95NK"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./styling.css */ "/0ht"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./toolbar.css */ "vNIF"), "");
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, Jupyter Development Team.\n|\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n", ""]);


/***/ }),

/***/ "Gvq/":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/base.css ***!
  \**********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./deprecated.css */ "gpNj"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./deprecatedExtra.css */ "hWfk"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./icons.css */ "NiHv"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./iconsalt.css */ "PSyg"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./iconshover.css */ "V6+u"), "");
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/* Sibling imports */\n\n/* Override Blueprint's _reset.scss styles */\nhtml {\n  box-sizing: unset;\n}\n\n*,\n*::before,\n*::after {\n  box-sizing: unset;\n}\n\nbody {\n  color: unset;\n  font-family: var(--jp-ui-font-family);\n}\n\np {\n  margin-top: unset;\n  margin-bottom: unset;\n}\n\nsmall {\n  font-size: unset;\n}\n\nstrong {\n  font-weight: unset;\n}\n\n/* Override Blueprint's _typography.scss styles */\na {\n  text-decoration: unset;\n  color: unset;\n}\na:hover {\n  text-decoration: unset;\n  color: unset;\n}\n\n/* Override Blueprint's _accessibility.scss styles */\n:focus {\n  outline: unset;\n  outline-offset: unset;\n  -moz-outline-radius: unset;\n}\n\n/* Styles for ui-components */\n.jp-Button {\n  border-radius: var(--jp-border-radius);\n  padding: 0px 12px;\n  font-size: var(--jp-ui-font-size1);\n}\n\n/* Use our own theme for hover styles */\nbutton.jp-Button.bp3-button.bp3-minimal:hover {\n  background-color: var(--jp-layout-color2);\n}\n.jp-Button.minimal {\n  color: unset !important;\n}\n\n.jp-Button.jp-ToolbarButtonComponent {\n  text-transform: none;\n}\n\n.jp-InputGroup input {\n  box-sizing: border-box;\n  border-radius: 0;\n  background-color: transparent;\n  color: var(--jp-ui-font-color0);\n  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);\n}\n\n.jp-InputGroup input:focus {\n  box-shadow: inset 0 0 0 var(--jp-border-width)\n      var(--jp-input-active-box-shadow-color),\n    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);\n}\n\n.jp-InputGroup input::placeholder,\ninput::placeholder {\n  color: var(--jp-ui-font-color3);\n}\n\n.jp-Icon {\n  color: var(--jp-layout-color4);\n}\n\n.jp-InputGroupAction {\n  padding: 6px;\n}\n\n.jp-HTMLSelect.jp-DefaultStyle select {\n  background-color: initial;\n  border: none;\n  border-radius: 0;\n  box-shadow: none;\n  color: var(--jp-ui-font-color0);\n  display: block;\n  font-size: var(--jp-ui-font-size1);\n  height: 24px;\n  line-height: 14px;\n  padding: 0 25px 0 10px;\n  text-align: left;\n  vertical-align: middle;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n}\n\n/* Use our own theme for hover and option styles */\n.jp-HTMLSelect.jp-DefaultStyle select:hover,\n.jp-HTMLSelect.jp-DefaultStyle select > option {\n  background-color: var(--jp-layout-color2);\n  color: var(--jp-ui-font-color0);\n}\nselect {\n  box-sizing: border-box;\n}\n", ""]);


/***/ }),

/***/ "H+dA":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/outputmodel.js ***!
  \*********************************************************************************************/
/*! exports provided: OutputModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutputModel", function() { return OutputModel; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/nbformat */ "QX7d");
/* harmony import */ var _jupyterlab_observables__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/observables */ "d/JO");
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/




/**
 * The default implementation of a notebook output model.
 */
class OutputModel {
    /**
     * Construct a new output model.
     */
    constructor(options) {
        this._changed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this._raw = {};
        let { data, metadata, trusted } = Private.getBundleOptions(options);
        this._data = new _jupyterlab_observables__WEBPACK_IMPORTED_MODULE_3__["ObservableJSON"]({ values: data });
        this._rawData = data;
        this._metadata = new _jupyterlab_observables__WEBPACK_IMPORTED_MODULE_3__["ObservableJSON"]({ values: metadata });
        this._rawMetadata = metadata;
        this.trusted = trusted;
        // Make a copy of the data.
        let value = options.value;
        for (let key in value) {
            // Ignore data and metadata that were stripped.
            switch (key) {
                case 'data':
                case 'metadata':
                    break;
                default:
                    this._raw[key] = Private.extract(value, key);
            }
        }
        this.type = value.output_type;
        if (_jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__["isExecuteResult"](value)) {
            this.executionCount = value.execution_count;
        }
        else {
            this.executionCount = null;
        }
    }
    /**
     * A signal emitted when the output model changes.
     */
    get changed() {
        return this._changed;
    }
    /**
     * Dispose of the resources used by the output model.
     */
    dispose() {
        this._data.dispose();
        this._metadata.dispose();
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"].clearData(this);
    }
    /**
     * The data associated with the model.
     */
    get data() {
        return this._rawData;
    }
    /**
     * The metadata associated with the model.
     */
    get metadata() {
        return this._rawMetadata;
    }
    /**
     * Set the data associated with the model.
     *
     * #### Notes
     * Depending on the implementation of the mime model,
     * this call may or may not have deferred effects,
     */
    setData(options) {
        if (options.data) {
            this._updateObservable(this._data, options.data);
            this._rawData = options.data;
        }
        if (options.metadata) {
            this._updateObservable(this._metadata, options.metadata);
            this._rawMetadata = options.metadata;
        }
        this._changed.emit(void 0);
    }
    /**
     * Serialize the model to JSON.
     */
    toJSON() {
        let output = {};
        for (let key in this._raw) {
            output[key] = Private.extract(this._raw, key);
        }
        switch (this.type) {
            case 'display_data':
            case 'execute_result':
            case 'update_display_data':
                output['data'] = this.data;
                output['metadata'] = this.metadata;
                break;
            default:
                break;
        }
        // Remove transient data.
        delete output['transient'];
        return output;
    }
    /**
     * Update an observable JSON object using a readonly JSON object.
     */
    _updateObservable(observable, data) {
        let oldKeys = observable.keys();
        let newKeys = Object.keys(data);
        // Handle removed keys.
        for (let key of oldKeys) {
            if (newKeys.indexOf(key) === -1) {
                observable.delete(key);
            }
        }
        // Handle changed data.
        for (let key of newKeys) {
            let oldValue = observable.get(key);
            let newValue = data[key];
            if (oldValue !== newValue) {
                observable.set(key, newValue);
            }
        }
    }
}
/**
 * The namespace for OutputModel statics.
 */
(function (OutputModel) {
    /**
     * Get the data for an output.
     *
     * @params output - A kernel output message payload.
     *
     * @returns - The data for the payload.
     */
    function getData(output) {
        return Private.getData(output);
    }
    OutputModel.getData = getData;
    /**
     * Get the metadata from an output message.
     *
     * @params output - A kernel output message payload.
     *
     * @returns - The metadata for the payload.
     */
    function getMetadata(output) {
        return Private.getMetadata(output);
    }
    OutputModel.getMetadata = getMetadata;
})(OutputModel || (OutputModel = {}));
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * Get the data from a notebook output.
     */
    function getData(output) {
        let bundle = {};
        if (_jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__["isExecuteResult"](output) ||
            _jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__["isDisplayData"](output) ||
            _jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__["isDisplayUpdate"](output)) {
            bundle = output.data;
        }
        else if (_jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__["isStream"](output)) {
            if (output.name === 'stderr') {
                bundle['application/vnd.jupyter.stderr'] = output.text;
            }
            else {
                bundle['application/vnd.jupyter.stdout'] = output.text;
            }
        }
        else if (_jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__["isError"](output)) {
            bundle['application/vnd.jupyter.error'] = output;
            let traceback = output.traceback.join('\n');
            bundle['application/vnd.jupyter.stderr'] =
                traceback || `${output.ename}: ${output.evalue}`;
        }
        return convertBundle(bundle);
    }
    Private.getData = getData;
    /**
     * Get the metadata from an output message.
     */
    function getMetadata(output) {
        let value = Object.create(null);
        if (_jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__["isExecuteResult"](output) || _jupyterlab_nbformat__WEBPACK_IMPORTED_MODULE_2__["isDisplayData"](output)) {
            for (let key in output.metadata) {
                value[key] = extract(output.metadata, key);
            }
        }
        return value;
    }
    Private.getMetadata = getMetadata;
    /**
     * Get the bundle options given output model options.
     */
    function getBundleOptions(options) {
        let data = getData(options.value);
        let metadata = getMetadata(options.value);
        let trusted = !!options.trusted;
        return { data, metadata, trusted };
    }
    Private.getBundleOptions = getBundleOptions;
    /**
     * Extract a value from a JSONObject.
     */
    function extract(value, key) {
        let item = value[key];
        if (item === undefined || _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["JSONExt"].isPrimitive(item)) {
            return item;
        }
        return JSON.parse(JSON.stringify(item));
    }
    Private.extract = extract;
    /**
     * Convert a mime bundle to mime data.
     */
    function convertBundle(bundle) {
        let map = Object.create(null);
        for (let mimeType in bundle) {
            map[mimeType] = extract(bundle, mimeType);
        }
        return map;
    }
})(Private || (Private = {}));
//# sourceMappingURL=outputmodel.js.map

/***/ }),

/***/ "HC+r":
/*!****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/terminal.svg ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect class='jp-icon2 jp-icon-selectable' width='20' height='20' transform='translate(2 2)' fill='%23333333'/%3E %3Cpath class='jp-icon-accent2 jp-icon-selectable-inverse' d='M5.05664 8.76172C5.05664 8.59766 5.03125 8.45312 4.98047 8.32812C4.93359 8.19922 4.85547 8.08203 4.74609 7.97656C4.64062 7.87109 4.5 7.77539 4.32422 7.68945C4.15234 7.59961 3.94336 7.51172 3.69727 7.42578C3.30273 7.28516 2.94336 7.13672 2.61914 6.98047C2.29492 6.82422 2.01758 6.64258 1.78711 6.43555C1.56055 6.22852 1.38477 5.98828 1.25977 5.71484C1.13477 5.4375 1.07227 5.10938 1.07227 4.73047C1.07227 4.39844 1.12891 4.0957 1.24219 3.82227C1.35547 3.54492 1.51562 3.30469 1.72266 3.10156C1.92969 2.89844 2.17969 2.73437 2.47266 2.60938C2.76562 2.48438 3.0918 2.4043 3.45117 2.36914V1.10938H4.38867V2.38086C4.74023 2.42773 5.05664 2.52344 5.33789 2.66797C5.61914 2.8125 5.85742 3.00195 6.05273 3.23633C6.25195 3.4668 6.4043 3.74023 6.50977 4.05664C6.61914 4.36914 6.67383 4.7207 6.67383 5.11133H5.04492C5.04492 4.63867 4.9375 4.28125 4.72266 4.03906C4.50781 3.79297 4.2168 3.66992 3.84961 3.66992C3.65039 3.66992 3.47656 3.69727 3.32812 3.75195C3.18359 3.80273 3.06445 3.87695 2.9707 3.97461C2.87695 4.06836 2.80664 4.17969 2.75977 4.30859C2.7168 4.4375 2.69531 4.57812 2.69531 4.73047C2.69531 4.88281 2.7168 5.01953 2.75977 5.14062C2.80664 5.25781 2.88281 5.36719 2.98828 5.46875C3.09766 5.57031 3.24023 5.66797 3.41602 5.76172C3.5918 5.85156 3.81055 5.94336 4.07227 6.03711C4.4668 6.18555 4.82422 6.33984 5.14453 6.5C5.46484 6.65625 5.73828 6.83984 5.96484 7.05078C6.19531 7.25781 6.37109 7.5 6.49219 7.77734C6.61719 8.05078 6.67969 8.375 6.67969 8.75C6.67969 9.09375 6.62305 9.4043 6.50977 9.68164C6.39648 9.95508 6.23438 10.1914 6.02344 10.3906C5.8125 10.5898 5.55859 10.75 5.26172 10.8711C4.96484 10.9883 4.63281 11.0645 4.26562 11.0996V12.248H3.33398V11.0996C3.00195 11.0684 2.67969 10.9961 2.36719 10.8828C2.05469 10.7656 1.77734 10.5977 1.53516 10.3789C1.29688 10.1602 1.10547 9.88477 0.960938 9.55273C0.816406 9.2168 0.744141 8.81445 0.744141 8.3457H2.37891C2.37891 8.62695 2.41992 8.86328 2.50195 9.05469C2.58398 9.24219 2.68945 9.39258 2.81836 9.50586C2.95117 9.61523 3.10156 9.69336 3.26953 9.74023C3.4375 9.78711 3.60938 9.81055 3.78516 9.81055C4.20312 9.81055 4.51953 9.71289 4.73438 9.51758C4.94922 9.32227 5.05664 9.07031 5.05664 8.76172ZM13.418 12.2715H8.07422V11H13.418V12.2715Z' transform='translate(3.95264 6)' fill='white'/%3E %3C/svg%3E"

/***/ }),

/***/ "HC+rC":
/*!****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/terminal.svg ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect class=\"jp-icon2 jp-icon-selectable\" width=\"20\" height=\"20\" transform=\"translate(2 2)\" fill=\"#333333\"/>\n    <path class=\"jp-icon-accent2 jp-icon-selectable-inverse\" d=\"M5.05664 8.76172C5.05664 8.59766 5.03125 8.45312 4.98047 8.32812C4.93359 8.19922 4.85547 8.08203 4.74609 7.97656C4.64062 7.87109 4.5 7.77539 4.32422 7.68945C4.15234 7.59961 3.94336 7.51172 3.69727 7.42578C3.30273 7.28516 2.94336 7.13672 2.61914 6.98047C2.29492 6.82422 2.01758 6.64258 1.78711 6.43555C1.56055 6.22852 1.38477 5.98828 1.25977 5.71484C1.13477 5.4375 1.07227 5.10938 1.07227 4.73047C1.07227 4.39844 1.12891 4.0957 1.24219 3.82227C1.35547 3.54492 1.51562 3.30469 1.72266 3.10156C1.92969 2.89844 2.17969 2.73437 2.47266 2.60938C2.76562 2.48438 3.0918 2.4043 3.45117 2.36914V1.10938H4.38867V2.38086C4.74023 2.42773 5.05664 2.52344 5.33789 2.66797C5.61914 2.8125 5.85742 3.00195 6.05273 3.23633C6.25195 3.4668 6.4043 3.74023 6.50977 4.05664C6.61914 4.36914 6.67383 4.7207 6.67383 5.11133H5.04492C5.04492 4.63867 4.9375 4.28125 4.72266 4.03906C4.50781 3.79297 4.2168 3.66992 3.84961 3.66992C3.65039 3.66992 3.47656 3.69727 3.32812 3.75195C3.18359 3.80273 3.06445 3.87695 2.9707 3.97461C2.87695 4.06836 2.80664 4.17969 2.75977 4.30859C2.7168 4.4375 2.69531 4.57812 2.69531 4.73047C2.69531 4.88281 2.7168 5.01953 2.75977 5.14062C2.80664 5.25781 2.88281 5.36719 2.98828 5.46875C3.09766 5.57031 3.24023 5.66797 3.41602 5.76172C3.5918 5.85156 3.81055 5.94336 4.07227 6.03711C4.4668 6.18555 4.82422 6.33984 5.14453 6.5C5.46484 6.65625 5.73828 6.83984 5.96484 7.05078C6.19531 7.25781 6.37109 7.5 6.49219 7.77734C6.61719 8.05078 6.67969 8.375 6.67969 8.75C6.67969 9.09375 6.62305 9.4043 6.50977 9.68164C6.39648 9.95508 6.23438 10.1914 6.02344 10.3906C5.8125 10.5898 5.55859 10.75 5.26172 10.8711C4.96484 10.9883 4.63281 11.0645 4.26562 11.0996V12.248H3.33398V11.0996C3.00195 11.0684 2.67969 10.9961 2.36719 10.8828C2.05469 10.7656 1.77734 10.5977 1.53516 10.3789C1.29688 10.1602 1.10547 9.88477 0.960938 9.55273C0.816406 9.2168 0.744141 8.81445 0.744141 8.3457H2.37891C2.37891 8.62695 2.41992 8.86328 2.50195 9.05469C2.58398 9.24219 2.68945 9.39258 2.81836 9.50586C2.95117 9.61523 3.10156 9.69336 3.26953 9.74023C3.4375 9.78711 3.60938 9.81055 3.78516 9.81055C4.20312 9.81055 4.51953 9.71289 4.73438 9.51758C4.94922 9.32227 5.05664 9.07031 5.05664 8.76172ZM13.418 12.2715H8.07422V11H13.418V12.2715Z\" transform=\"translate(3.95264 6)\" fill=\"white\"/>\n</svg>\n");

/***/ }),

/***/ "HEhr":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/dialog.js ***!
  \**************************************************************************************/
/*! exports provided: showDialog, showErrorMessage, Dialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showDialog", function() { return showDialog; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showErrorMessage", function() { return showErrorMessage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Dialog", function() { return Dialog; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/messaging */ "so/j");
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_messaging__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _styling__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styling */ "4mEv");
/* harmony import */ var _vdom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./vdom */ "70x9");
/* harmony import */ var _widgettracker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./widgettracker */ "+Ik6");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/**
 * Create and show a dialog.
 *
 * @param options - The dialog setup options.
 *
 * @returns A promise that resolves with whether the dialog was accepted.
 */
function showDialog(options = {}) {
    let dialog = new Dialog(options);
    return dialog.launch();
}
/**
 * Show an error message dialog.
 *
 * @param title - The title of the dialog box.
 *
 * @param error - the error to show in the dialog body (either a string
 *   or an object with a string `message` property).
 */
function showErrorMessage(title, error, buttons = [
    Dialog.okButton({ label: 'Dismiss' })
]) {
    console.warn('Showing error:', error);
    // Cache promises to prevent multiple copies of identical dialogs showing
    // to the user.
    let body = typeof error === 'string' ? error : error.message;
    let key = title + '----' + body;
    let promise = Private.errorMessagePromiseCache.get(key);
    if (promise) {
        return promise;
    }
    else {
        let dialogPromise = showDialog({
            title: title,
            body: body,
            buttons: buttons
        }).then(() => {
            Private.errorMessagePromiseCache.delete(key);
        }, error => {
            // TODO: Use .finally() above when supported
            Private.errorMessagePromiseCache.delete(key);
            throw error;
        });
        Private.errorMessagePromiseCache.set(key, dialogPromise);
        return dialogPromise;
    }
}
/**
 * A modal dialog widget.
 */
class Dialog extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Widget"] {
    /**
     * Create a dialog panel instance.
     *
     * @param options - The dialog setup options.
     */
    constructor(options = {}) {
        super();
        this._focusNodeSelector = '';
        this.addClass('jp-Dialog');
        let normalized = Private.handleOptions(options);
        let renderer = normalized.renderer;
        this._host = normalized.host;
        this._defaultButton = normalized.defaultButton;
        this._buttons = normalized.buttons;
        this._buttonNodes = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["toArray"])(Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["map"])(this._buttons, button => {
            return renderer.createButtonNode(button);
        }));
        let layout = (this.layout = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["PanelLayout"]());
        let content = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Panel"]();
        content.addClass('jp-Dialog-content');
        layout.addWidget(content);
        this._body = normalized.body;
        let header = renderer.createHeader(normalized.title);
        let body = renderer.createBody(normalized.body);
        let footer = renderer.createFooter(this._buttonNodes);
        content.addWidget(header);
        content.addWidget(body);
        content.addWidget(footer);
        this._primary = this._buttonNodes[this._defaultButton];
        this._focusNodeSelector = options.focusNodeSelector;
        // Add new dialogs to the tracker.
        void Dialog.tracker.add(this);
    }
    /**
     * Dispose of the resources used by the dialog.
     */
    dispose() {
        const promise = this._promise;
        if (promise) {
            this._promise = null;
            promise.reject(void 0);
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeFirstOf(Private.launchQueue, promise.promise);
        }
        super.dispose();
    }
    /**
     * Launch the dialog as a modal window.
     *
     * @returns a promise that resolves with the result of the dialog.
     */
    launch() {
        // Return the existing dialog if already open.
        if (this._promise) {
            return this._promise.promise;
        }
        const promise = (this._promise = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["PromiseDelegate"]());
        let promises = Promise.all(Private.launchQueue);
        Private.launchQueue.push(this._promise.promise);
        return promises.then(() => {
            _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Widget"].attach(this, this._host);
            return promise.promise;
        });
    }
    /**
     * Resolve the current dialog.
     *
     * @param index - An optional index to the button to resolve.
     *
     * #### Notes
     * Will default to the defaultIndex.
     * Will resolve the current `show()` with the button value.
     * Will be a no-op if the dialog is not shown.
     */
    resolve(index) {
        if (!this._promise) {
            return;
        }
        if (index === undefined) {
            index = this._defaultButton;
        }
        this._resolve(this._buttons[index]);
    }
    /**
     * Reject the current dialog with a default reject value.
     *
     * #### Notes
     * Will be a no-op if the dialog is not shown.
     */
    reject() {
        if (!this._promise) {
            return;
        }
        this._resolve(Dialog.cancelButton());
    }
    /**
     * Handle the DOM events for the directory listing.
     *
     * @param event - The DOM event sent to the widget.
     *
     * #### Notes
     * This method implements the DOM `EventListener` interface and is
     * called in response to events on the panel's DOM node. It should
     * not be called directly by user code.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'keydown':
                this._evtKeydown(event);
                break;
            case 'click':
                this._evtClick(event);
                break;
            case 'focus':
                this._evtFocus(event);
                break;
            case 'contextmenu':
                event.preventDefault();
                event.stopPropagation();
                break;
            default:
                break;
        }
    }
    /**
     *  A message handler invoked on an `'after-attach'` message.
     */
    onAfterAttach(msg) {
        var _a;
        let node = this.node;
        node.addEventListener('keydown', this, true);
        node.addEventListener('contextmenu', this, true);
        node.addEventListener('click', this, true);
        document.addEventListener('focus', this, true);
        this._first = Private.findFirstFocusable(this.node);
        this._original = document.activeElement;
        if (this._focusNodeSelector) {
            let body = this.node.querySelector('.jp-Dialog-body');
            let el = (_a = body) === null || _a === void 0 ? void 0 : _a.querySelector(this._focusNodeSelector);
            if (el) {
                this._primary = el;
            }
        }
        this._primary.focus();
    }
    /**
     *  A message handler invoked on an `'after-detach'` message.
     */
    onAfterDetach(msg) {
        let node = this.node;
        node.removeEventListener('keydown', this, true);
        node.removeEventListener('contextmenu', this, true);
        node.removeEventListener('click', this, true);
        document.removeEventListener('focus', this, true);
        this._original.focus();
    }
    /**
     * A message handler invoked on a `'close-request'` message.
     */
    onCloseRequest(msg) {
        if (this._promise) {
            this.reject();
        }
        super.onCloseRequest(msg);
    }
    /**
     * Handle the `'click'` event for a dialog button.
     *
     * @param event - The DOM event sent to the widget
     */
    _evtClick(event) {
        let content = this.node.getElementsByClassName('jp-Dialog-content')[0];
        if (!content.contains(event.target)) {
            event.stopPropagation();
            event.preventDefault();
            this.reject();
            return;
        }
        for (let buttonNode of this._buttonNodes) {
            if (buttonNode.contains(event.target)) {
                let index = this._buttonNodes.indexOf(buttonNode);
                this.resolve(index);
            }
        }
    }
    /**
     * Handle the `'keydown'` event for the widget.
     *
     * @param event - The DOM event sent to the widget
     */
    _evtKeydown(event) {
        // Check for escape key
        switch (event.keyCode) {
            case 27: // Escape.
                event.stopPropagation();
                event.preventDefault();
                this.reject();
                break;
            case 9: // Tab.
                // Handle a tab on the last button.
                let node = this._buttonNodes[this._buttons.length - 1];
                if (document.activeElement === node && !event.shiftKey) {
                    event.stopPropagation();
                    event.preventDefault();
                    this._first.focus();
                }
                break;
            case 13: // Enter.
                event.stopPropagation();
                event.preventDefault();
                this.resolve();
                break;
            default:
                break;
        }
    }
    /**
     * Handle the `'focus'` event for the widget.
     *
     * @param event - The DOM event sent to the widget
     */
    _evtFocus(event) {
        let target = event.target;
        if (!this.node.contains(target)) {
            event.stopPropagation();
            this._buttonNodes[this._defaultButton].focus();
        }
    }
    /**
     * Resolve a button item.
     */
    _resolve(button) {
        // Prevent loopback.
        const promise = this._promise;
        if (!promise) {
            this.dispose();
            return;
        }
        this._promise = null;
        _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeFirstOf(Private.launchQueue, promise.promise);
        let body = this._body;
        let value = null;
        if (button.accept &&
            body instanceof _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Widget"] &&
            typeof body.getValue === 'function') {
            value = body.getValue();
        }
        this.dispose();
        promise.resolve({ button, value });
    }
}
/**
 * The namespace for Dialog class statics.
 */
(function (Dialog) {
    /**
     * Create a button item.
     */
    function createButton(value) {
        value.accept = value.accept !== false;
        let defaultLabel = value.accept ? 'OK' : 'Cancel';
        return {
            label: value.label || defaultLabel,
            iconClass: value.iconClass || '',
            iconLabel: value.iconLabel || '',
            caption: value.caption || '',
            className: value.className || '',
            accept: value.accept,
            displayType: value.displayType || 'default'
        };
    }
    Dialog.createButton = createButton;
    /**
     * Create a reject button.
     */
    function cancelButton(options = {}) {
        options.accept = false;
        return createButton(options);
    }
    Dialog.cancelButton = cancelButton;
    /**
     * Create an accept button.
     */
    function okButton(options = {}) {
        options.accept = true;
        return createButton(options);
    }
    Dialog.okButton = okButton;
    /**
     * Create a warn button.
     */
    function warnButton(options = {}) {
        options.displayType = 'warn';
        return createButton(options);
    }
    Dialog.warnButton = warnButton;
    /**
     * Disposes all dialog instances.
     *
     * #### Notes
     * This function should only be used in tests or cases where application state
     * may be discarded.
     */
    function flush() {
        Dialog.tracker.forEach(dialog => {
            dialog.dispose();
        });
    }
    Dialog.flush = flush;
    /**
     * The default implementation of a dialog renderer.
     */
    class Renderer {
        /**
         * Create the header of the dialog.
         *
         * @param title - The title of the dialog.
         *
         * @returns A widget for the dialog header.
         */
        createHeader(title) {
            let header;
            if (typeof title === 'string') {
                header = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Widget"]({ node: document.createElement('span') });
                header.node.textContent = title;
            }
            else {
                header = _vdom__WEBPACK_IMPORTED_MODULE_5__["ReactWidget"].create(title);
            }
            header.addClass('jp-Dialog-header');
            _styling__WEBPACK_IMPORTED_MODULE_4__["Styling"].styleNode(header.node);
            return header;
        }
        /**
         * Create the body of the dialog.
         *
         * @param value - The input value for the body.
         *
         * @returns A widget for the body.
         */
        createBody(value) {
            let body;
            if (typeof value === 'string') {
                body = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Widget"]({ node: document.createElement('span') });
                body.node.textContent = value;
            }
            else if (value instanceof _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Widget"]) {
                body = value;
            }
            else {
                body = _vdom__WEBPACK_IMPORTED_MODULE_5__["ReactWidget"].create(value);
                // Immediately update the body even though it has not yet attached in
                // order to trigger a render of the DOM nodes from the React element.
                _lumino_messaging__WEBPACK_IMPORTED_MODULE_2__["MessageLoop"].sendMessage(body, _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Widget"].Msg.UpdateRequest);
            }
            body.addClass('jp-Dialog-body');
            _styling__WEBPACK_IMPORTED_MODULE_4__["Styling"].styleNode(body.node);
            return body;
        }
        /**
         * Create the footer of the dialog.
         *
         * @param buttonNodes - The buttons nodes to add to the footer.
         *
         * @returns A widget for the footer.
         */
        createFooter(buttons) {
            let footer = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_3__["Widget"]();
            footer.addClass('jp-Dialog-footer');
            Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(buttons, button => {
                footer.node.appendChild(button);
            });
            _styling__WEBPACK_IMPORTED_MODULE_4__["Styling"].styleNode(footer.node);
            return footer;
        }
        /**
         * Create a button node for the dialog.
         *
         * @param button - The button data.
         *
         * @returns A node for the button.
         */
        createButtonNode(button) {
            const e = document.createElement('button');
            e.className = this.createItemClass(button);
            e.appendChild(this.renderIcon(button));
            e.appendChild(this.renderLabel(button));
            return e;
        }
        /**
         * Create the class name for the button.
         *
         * @param data - The data to use for the class name.
         *
         * @returns The full class name for the button.
         */
        createItemClass(data) {
            // Setup the initial class name.
            let name = 'jp-Dialog-button';
            // Add the other state classes.
            if (data.accept) {
                name += ' jp-mod-accept';
            }
            else {
                name += ' jp-mod-reject';
            }
            if (data.displayType === 'warn') {
                name += ' jp-mod-warn';
            }
            // Add the extra class.
            let extra = data.className;
            if (extra) {
                name += ` ${extra}`;
            }
            // Return the complete class name.
            return name;
        }
        /**
         * Render an icon element for a dialog item.
         *
         * @param data - The data to use for rendering the icon.
         *
         * @returns An HTML element representing the icon.
         */
        renderIcon(data) {
            const e = document.createElement('div');
            e.className = this.createIconClass(data);
            e.appendChild(document.createTextNode(data.iconLabel));
            return e;
        }
        /**
         * Create the class name for the button icon.
         *
         * @param data - The data to use for the class name.
         *
         * @returns The full class name for the item icon.
         */
        createIconClass(data) {
            let name = 'jp-Dialog-buttonIcon';
            let extra = data.iconClass;
            return extra ? `${name} ${extra}` : name;
        }
        /**
         * Render the label element for a button.
         *
         * @param data - The data to use for rendering the label.
         *
         * @returns An HTML element representing the item label.
         */
        renderLabel(data) {
            const e = document.createElement('div');
            e.className = 'jp-Dialog-buttonLabel';
            e.title = data.caption;
            e.appendChild(document.createTextNode(data.label));
            return e;
        }
    }
    Dialog.Renderer = Renderer;
    /**
     * The default renderer instance.
     */
    Dialog.defaultRenderer = new Renderer();
    /**
     * The dialog widget tracker.
     */
    Dialog.tracker = new _widgettracker__WEBPACK_IMPORTED_MODULE_6__["WidgetTracker"]({
        namespace: '@jupyterlab/apputils:Dialog'
    });
})(Dialog || (Dialog = {}));
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * The queue for launching dialogs.
     */
    Private.launchQueue = [];
    Private.errorMessagePromiseCache = new Map();
    /**
     * Handle the input options for a dialog.
     *
     * @param options - The input options.
     *
     * @returns A new options object with defaults applied.
     */
    function handleOptions(options = {}) {
        let buttons = options.buttons || [Dialog.cancelButton(), Dialog.okButton()];
        let defaultButton = buttons.length - 1;
        if (options.defaultButton !== undefined) {
            defaultButton = options.defaultButton;
        }
        return {
            title: options.title || '',
            body: options.body || '',
            host: options.host || document.body,
            buttons,
            defaultButton,
            renderer: options.renderer || Dialog.defaultRenderer,
            focusNodeSelector: options.focusNodeSelector || ''
        };
    }
    Private.handleOptions = handleOptions;
    /**
     *  Find the first focusable item in the dialog.
     */
    function findFirstFocusable(node) {
        let candidateSelectors = [
            'input',
            'select',
            'a[href]',
            'textarea',
            'button',
            '[tabindex]'
        ].join(',');
        return node.querySelectorAll(candidateSelectors)[0];
    }
    Private.findFirstFocusable = findFirstFocusable;
})(Private || (Private = {}));
//# sourceMappingURL=dialog.js.map

/***/ }),

/***/ "HPyp":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/hoverbox.js ***!
  \****************************************************************************************/
/*! exports provided: HoverBox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HoverBox", function() { return HoverBox; });
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
/**
 * The class name added to all hover boxes.
 */
const HOVERBOX_CLASS = 'jp-HoverBox';
/**
 * The class name added to a hovering node that is scrolled out of view.
 */
const OUTOFVIEW_CLASS = 'jp-mod-outofview';
/**
 * A namespace for `HoverBox` members.
 */
var HoverBox;
(function (HoverBox) {
    /**
     * Set the visible dimensions of a hovering box anchored to an editor cursor.
     *
     * @param options - The hover box geometry calculation options.
     */
    function setGeometry(options) {
        const { anchor, host, node, privilege } = options;
        // Add hover box class if it does not exist.
        node.classList.add(HOVERBOX_CLASS);
        // Hide the hover box before querying the DOM for the anchor coordinates.
        node.classList.add(OUTOFVIEW_CLASS);
        // If the current coordinates are not visible, bail.
        if (!host.contains(document.elementFromPoint(anchor.left, anchor.top))) {
            return;
        }
        // Clear any previously set max-height.
        node.style.maxHeight = '';
        // Clear any programmatically set margin-top.
        node.style.marginTop = '';
        // Make sure the node is visible so that its dimensions can be queried.
        node.classList.remove(OUTOFVIEW_CLASS);
        const style = options.style || window.getComputedStyle(node);
        const innerHeight = window.innerHeight;
        const spaceAbove = anchor.top;
        const spaceBelow = innerHeight - anchor.bottom;
        const marginTop = parseInt(style.marginTop, 10) || 0;
        const minHeight = parseInt(style.minHeight, 10) || options.minHeight;
        let maxHeight = parseInt(style.maxHeight, 10) || options.maxHeight;
        // Determine whether to render above or below; check privilege.
        const renderBelow = privilege === 'forceAbove'
            ? false
            : privilege === 'forceBelow'
                ? true
                : privilege === 'above'
                    ? spaceAbove < maxHeight && spaceAbove < spaceBelow
                    : spaceBelow >= maxHeight || spaceBelow >= spaceAbove;
        if (renderBelow) {
            maxHeight = Math.min(spaceBelow - marginTop, maxHeight);
        }
        else {
            maxHeight = Math.min(spaceAbove, maxHeight);
            // If the box renders above the text, its top margin is irrelevant.
            node.style.marginTop = '0px';
        }
        node.style.maxHeight = `${maxHeight}px`;
        // Make sure the box ought to be visible.
        const withinBounds = maxHeight > minHeight &&
            (spaceBelow >= minHeight || spaceAbove >= minHeight);
        if (!withinBounds) {
            node.classList.add(OUTOFVIEW_CLASS);
            return;
        }
        // Position the box vertically.
        const offsetAbove = (options.offset &&
            options.offset.vertical &&
            options.offset.vertical.above) ||
            0;
        const offsetBelow = (options.offset &&
            options.offset.vertical &&
            options.offset.vertical.below) ||
            0;
        const top = renderBelow
            ? innerHeight - spaceBelow + offsetBelow
            : spaceAbove - node.getBoundingClientRect().height + offsetAbove;
        node.style.top = `${Math.floor(top)}px`;
        // Position the box horizontally.
        const offsetHorizontal = (options.offset && options.offset.horizontal) || 0;
        let left = anchor.left + offsetHorizontal;
        node.style.left = `${Math.ceil(left)}px`;
        node.style.width = 'auto';
        // Expand the menu width by the scrollbar size, if present.
        if (node.scrollHeight >= maxHeight) {
            node.style.width = `${2 * node.offsetWidth - node.clientWidth}`;
            node.scrollTop = 0;
        }
        // Move left to fit in the window.
        let right = node.getBoundingClientRect().right;
        if (right > window.innerWidth) {
            left -= right - window.innerWidth;
            node.style.left = `${Math.ceil(left)}px`;
        }
    }
    HoverBox.setGeometry = setGeometry;
})(HoverBox || (HoverBox = {}));
//# sourceMappingURL=hoverbox.js.map

/***/ }),

/***/ "HY8D":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docregistry/lib/index.js ***!
  \****************************************************************************************/
/*! exports provided: Context, DocumentModel, TextModelFactory, Base64ModelFactory, ABCWidgetFactory, DocumentWidget, MimeContent, MimeDocument, MimeDocumentFactory, DocumentRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context */ "459M");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Context", function() { return _context__WEBPACK_IMPORTED_MODULE_0__["Context"]; });

/* harmony import */ var _default__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default */ "bt++");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DocumentModel", function() { return _default__WEBPACK_IMPORTED_MODULE_1__["DocumentModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextModelFactory", function() { return _default__WEBPACK_IMPORTED_MODULE_1__["TextModelFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Base64ModelFactory", function() { return _default__WEBPACK_IMPORTED_MODULE_1__["Base64ModelFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ABCWidgetFactory", function() { return _default__WEBPACK_IMPORTED_MODULE_1__["ABCWidgetFactory"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DocumentWidget", function() { return _default__WEBPACK_IMPORTED_MODULE_1__["DocumentWidget"]; });

/* harmony import */ var _mimedocument__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mimedocument */ "/9Ho");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MimeContent", function() { return _mimedocument__WEBPACK_IMPORTED_MODULE_2__["MimeContent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MimeDocument", function() { return _mimedocument__WEBPACK_IMPORTED_MODULE_2__["MimeDocument"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MimeDocumentFactory", function() { return _mimedocument__WEBPACK_IMPORTED_MODULE_2__["MimeDocumentFactory"]; });

/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./registry */ "qECz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DocumentRegistry", function() { return _registry__WEBPACK_IMPORTED_MODULE_3__["DocumentRegistry"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




//# sourceMappingURL=index.js.map

/***/ }),

/***/ "HjVH":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/tokens.js ***!
  \**************************************************************************************/
/*! exports provided: ISessionContextDialogs, IThemeManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ISessionContextDialogs", function() { return ISessionContextDialogs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IThemeManager", function() { return IThemeManager; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/* tslint:disable */
/**
 * The session context dialogs token.
 */
const ISessionContextDialogs = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/apputils:ISessionContextDialogs');
/* tslint:enable */
/* tslint:disable */
/**
 * The theme manager token.
 */
const IThemeManager = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/apputils:IThemeManager');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "Hx4J":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/style/statusbar.js ***!
  \************************************************************************************************/
/*! exports provided: statusBar, side, leftSide, rightSide, item, clickedItem, interactiveItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "statusBar", function() { return statusBar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "side", function() { return side; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "leftSide", function() { return leftSide; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rightSide", function() { return rightSide; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "item", function() { return item; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clickedItem", function() { return clickedItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "interactiveItem", function() { return interactiveItem; });
/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text */ "m53+");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./variables */ "dqQ7");
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./layout */ "FXLa");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




const itemPadding = {
    paddingLeft: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].itemPadding,
    paddingRight: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].itemPadding
};
const interactiveHover = {
    $nest: {
        '&:hover': {
            backgroundColor: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].hoverColor
        }
    }
};
const clicked = {
    backgroundColor: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].clickColor,
    $nest: {
        ['.' + _text__WEBPACK_IMPORTED_MODULE_0__["textItem"]]: {
            color: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].textClickColor
        }
    }
};
const statusBar = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])({
    background: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].backgroundColor,
    minHeight: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].height,
    justifyContent: 'space-between',
    paddingLeft: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].statusBarPadding,
    paddingRight: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].statusBarPadding
}, _layout__WEBPACK_IMPORTED_MODULE_3__["centeredFlex"]);
const side = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])(_layout__WEBPACK_IMPORTED_MODULE_3__["centeredFlex"]);
const leftSide = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])(_layout__WEBPACK_IMPORTED_MODULE_3__["leftToRight"]);
const rightSide = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])(_layout__WEBPACK_IMPORTED_MODULE_3__["rightToLeft"]);
const item = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])({
    maxHeight: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].height,
    marginLeft: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].itemMargin,
    marginRight: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].itemMargin,
    height: _variables__WEBPACK_IMPORTED_MODULE_2__["default"].height
}, itemPadding);
const clickedItem = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])(clicked);
const interactiveItem = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])(interactiveHover);
//# sourceMappingURL=statusbar.js.map

/***/ }),

/***/ "Irls":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/builder/index.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
/**
 * The url for the lab build service.
 */
const BUILD_SETTINGS_URL = 'api/build';
/**
 * The build API service manager.
 */
class BuildManager {
    /**
     * Create a new setting manager.
     */
    constructor(options = {}) {
        var _a;
        this._url = '';
        this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : serverconnection_1.ServerConnection.makeSettings()));
        const { baseUrl, appUrl } = this.serverSettings;
        this._url = coreutils_1.URLExt.join(baseUrl, appUrl, BUILD_SETTINGS_URL);
    }
    /**
     * Test whether the build service is available.
     */
    get isAvailable() {
        return coreutils_1.PageConfig.getOption('buildAvailable').toLowerCase() === 'true';
    }
    /**
     * Test whether to check build status automatically.
     */
    get shouldCheck() {
        return coreutils_1.PageConfig.getOption('buildCheck').toLowerCase() === 'true';
    }
    /**
     * Get whether the application should be built.
     */
    getStatus() {
        const { _url, serverSettings } = this;
        const promise = serverconnection_1.ServerConnection.makeRequest(_url, {}, serverSettings);
        return promise
            .then(response => {
            if (response.status !== 200) {
                throw new serverconnection_1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            if (typeof data.status !== 'string') {
                throw new Error('Invalid data');
            }
            if (typeof data.message !== 'string') {
                throw new Error('Invalid data');
            }
            return data;
        });
    }
    /**
     * Build the application.
     */
    build() {
        const { _url, serverSettings } = this;
        const init = { method: 'POST' };
        const promise = serverconnection_1.ServerConnection.makeRequest(_url, init, serverSettings);
        return promise.then(response => {
            if (response.status === 400) {
                throw new serverconnection_1.ServerConnection.ResponseError(response, 'Build aborted');
            }
            if (response.status !== 200) {
                let message = `Build failed with ${response.status}, please run 'jupyter lab build' on the server for full output`;
                throw new serverconnection_1.ServerConnection.ResponseError(response, message);
            }
        });
    }
    /**
     * Cancel an active build.
     */
    cancel() {
        const { _url, serverSettings } = this;
        const init = { method: 'DELETE' };
        const promise = serverconnection_1.ServerConnection.makeRequest(_url, init, serverSettings);
        return promise.then(response => {
            if (response.status !== 204) {
                throw new serverconnection_1.ServerConnection.ResponseError(response);
            }
        });
    }
}
exports.BuildManager = BuildManager;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "IvQx":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/commandlinker.js ***!
  \*********************************************************************************************/
/*! exports provided: CommandLinker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommandLinker", function() { return CommandLinker; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * The command data attribute added to nodes that are connected.
 */
const COMMAND_ATTR = 'commandlinker-command';
/**
 * The args data attribute added to nodes that are connected.
 */
const ARGS_ATTR = 'commandlinker-args';
/**
 * A static class that provides helper methods to generate clickable nodes that
 * execute registered commands with pre-populated arguments.
 */
class CommandLinker {
    /**
     * Instantiate a new command linker.
     */
    constructor(options) {
        this._isDisposed = false;
        this._commands = options.commands;
        document.body.addEventListener('click', this);
    }
    /**
     * Test whether the linker is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the linker.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        document.body.removeEventListener('click', this);
    }
    /**
     * Connect a command/argument pair to a given node so that when it is clicked,
     * the command will execute.
     *
     * @param node - The node being connected.
     *
     * @param command - The command ID to execute upon click.
     *
     * @param args - The arguments with which to invoke the command.
     *
     * @returns The same node that was passed in, after it has been connected.
     *
     * #### Notes
     * Only `click` events will execute the command on a connected node. So, there
     * are two considerations that are relevant:
     * 1. If a node is connected, the default click action will be prevented.
     * 2. The `HTMLElement` passed in should be clickable.
     */
    connectNode(node, command, args) {
        node.setAttribute(`data-${COMMAND_ATTR}`, command);
        if (args !== void 0) {
            node.setAttribute(`data-${ARGS_ATTR}`, JSON.stringify(args));
        }
        return node;
    }
    /**
     * Disconnect a node that has been connected to execute a command on click.
     *
     * @param node - The node being disconnected.
     *
     * @returns The same node that was passed in, after it has been disconnected.
     *
     * #### Notes
     * This method is safe to call multiple times and is safe to call on nodes
     * that were never connected.
     *
     * This method can be called on rendered virtual DOM nodes that were populated
     * using the `populateVNodeDataset` method in order to disconnect them from
     * executing their command/argument pair.
     */
    disconnectNode(node) {
        node.removeAttribute(`data-${COMMAND_ATTR}`);
        node.removeAttribute(`data-${ARGS_ATTR}`);
        return node;
    }
    /**
     * Handle the DOM events for the command linker helper class.
     *
     * @param event - The DOM event sent to the class.
     *
     * #### Notes
     * This method implements the DOM `EventListener` interface and is
     * called in response to events on the panel's DOM node. It should
     * not be called directly by user code.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'click':
                this._evtClick(event);
                break;
            default:
                return;
        }
    }
    /**
     * Populate the `dataset` attribute within the collection of attributes used
     * to instantiate a virtual DOM node with the values necessary for its
     * rendered DOM node to respond to clicks by executing a command/argument
     * pair.
     *
     * @param command - The command ID to execute upon click.
     *
     * @param args - The arguments with which to invoke the command.
     *
     * @returns A `dataset` collection for use within virtual node attributes.
     *
     * #### Notes
     * The return value can be used on its own as the value for the `dataset`
     * attribute of a virtual element, or it can be added to an existing `dataset`
     * as in the example below.
     *
     * #### Example
     * ```typescript
     * let command = 'some:command-id';
     * let args = { alpha: 'beta' };
     * let anchor = h.a({
     *   className: 'some-class',
     *   dataset: {
     *     foo: '1',
     *     bar: '2',
     *     ../...linker.populateVNodeDataset(command, args)
     *   }
     * }, 'some text');
     * ```
     */
    populateVNodeDataset(command, args) {
        let dataset;
        if (args !== void 0) {
            dataset = { [ARGS_ATTR]: JSON.stringify(args), [COMMAND_ATTR]: command };
        }
        else {
            dataset = { [COMMAND_ATTR]: command };
        }
        return dataset;
    }
    /**
     * The global click handler that deploys commands/argument pairs that are
     * attached to the node being clicked.
     */
    _evtClick(event) {
        let target = event.target;
        while (target && target.parentElement) {
            if (target.hasAttribute(`data-${COMMAND_ATTR}`)) {
                event.preventDefault();
                let command = target.getAttribute(`data-${COMMAND_ATTR}`);
                if (!command) {
                    return;
                }
                let argsValue = target.getAttribute(`data-${ARGS_ATTR}`);
                let args = _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["JSONExt"].emptyObject;
                if (argsValue) {
                    args = JSON.parse(argsValue);
                }
                void this._commands.execute(command, args);
                return;
            }
            target = target.parentElement;
        }
    }
}
//# sourceMappingURL=commandlinker.js.map

/***/ }),

/***/ "IzzF":
/*!*******************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/components/progressBar.js ***!
  \*******************************************************************************************************/
/*! exports provided: ProgressBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProgressBar", function() { return ProgressBar; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _style_progressBar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../style/progressBar */ "2GAQ");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.


/**
 * A functional tsx component for a progress bar.
 */
function ProgressBar(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: _style_progressBar__WEBPACK_IMPORTED_MODULE_1__["progressBarItem"] },
        react__WEBPACK_IMPORTED_MODULE_0__["createElement"](Filler, { percentage: props.percentage })));
}
/**
 * A functional tsx component for a partially filled div.
 */
function Filler(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: _style_progressBar__WEBPACK_IMPORTED_MODULE_1__["fillerItem"], style: {
            width: `${props.percentage}px`
        } }));
}
//# sourceMappingURL=progressBar.js.map

/***/ }),

/***/ "J2V2":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/router.js ***!
  \*****************************************************************************************/
/*! exports provided: Router */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Router", function() { return Router; });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_3__);
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/




/**
 * A static class that routes URLs within the application.
 */
class Router {
    /**
     * Create a URL router.
     */
    constructor(options) {
        /**
         * If a matching rule's command resolves with the `stop` token during routing,
         * no further matches will execute.
         */
        this.stop = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["Token"]('@jupyterlab/application:Router#stop');
        this._routed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._rules = new Map();
        this.base = options.base;
        this.commands = options.commands;
    }
    /**
     * Returns the parsed current URL of the application.
     */
    get current() {
        var _a, _b;
        const { base } = this;
        const parsed = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["URLExt"].parse(window.location.href);
        const { search, hash } = parsed;
        const path = (_b = (_a = parsed.pathname) === null || _a === void 0 ? void 0 : _a.replace(base, '/'), (_b !== null && _b !== void 0 ? _b : ''));
        const request = path + search + hash;
        return { hash, path, request, search };
    }
    /**
     * A signal emitted when the router routes a route.
     */
    get routed() {
        return this._routed;
    }
    /**
     * Navigate to a new path within the application.
     *
     * @param path - The new path or empty string if redirecting to root.
     *
     * @param options - The navigation options.
     */
    navigate(path, options = {}) {
        const { base } = this;
        const { history } = window;
        const { hard } = options;
        const old = document.location.href;
        const url = path && path.indexOf(base) === 0 ? path : _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["URLExt"].join(base, path);
        if (url === old) {
            return hard ? this.reload() : undefined;
        }
        history.pushState({}, '', url);
        if (hard) {
            return this.reload();
        }
        // Because a `route()` call may still be in the stack after having received
        // a `stop` token, wait for the next stack frame before calling `route()`.
        requestAnimationFrame(() => {
            void this.route();
        });
    }
    /**
     * Register to route a path pattern to a command.
     *
     * @param options - The route registration options.
     *
     * @returns A disposable that removes the registered rule from the router.
     */
    register(options) {
        var _a;
        const { command, pattern } = options;
        const rank = (_a = options.rank, (_a !== null && _a !== void 0 ? _a : 100));
        const rules = this._rules;
        rules.set(pattern, { command, rank });
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_2__["DisposableDelegate"](() => {
            rules.delete(pattern);
        });
    }
    /**
     * Cause a hard reload of the document.
     */
    reload() {
        window.location.reload();
    }
    /**
     * Route a specific path to an action.
     *
     * #### Notes
     * If a pattern is matched, its command will be invoked with arguments that
     * match the `IRouter.ILocation` interface.
     */
    route() {
        const { commands, current, stop } = this;
        const { request } = current;
        const routed = this._routed;
        const rules = this._rules;
        const matches = [];
        // Collect all rules that match the URL.
        rules.forEach((rule, pattern) => {
            var _a;
            if ((_a = request) === null || _a === void 0 ? void 0 : _a.match(pattern)) {
                matches.push(rule);
            }
        });
        // Order the matching rules by rank and enqueue them.
        const queue = matches.sort((a, b) => b.rank - a.rank);
        const done = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["PromiseDelegate"]();
        // Process each enqueued command sequentially and short-circuit if a promise
        // resolves with the `stop` token.
        const next = async () => {
            if (!queue.length) {
                routed.emit(current);
                done.resolve(undefined);
                return;
            }
            const { command } = queue.pop();
            try {
                const request = this.current.request;
                const result = await commands.execute(command, current);
                if (result === stop) {
                    queue.length = 0;
                    console.log(`Routing ${request} was short-circuited by ${command}`);
                }
            }
            catch (reason) {
                console.warn(`Routing ${request} to ${command} failed`, reason);
            }
            void next();
        };
        void next();
        return done.promise;
    }
}
//# sourceMappingURL=router.js.map

/***/ }),

/***/ "JA/Q":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/components/interface.js ***!
  \*********************************************************************************************************/
/*! exports provided: DEFAULT_STYLE_CLASS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_STYLE_CLASS", function() { return DEFAULT_STYLE_CLASS; });
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
const DEFAULT_STYLE_CLASS = 'jp-DefaultStyle';
//# sourceMappingURL=interface.js.map

/***/ }),

/***/ "JFKr":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager-extension/lib/index.js ***!
  \*************************************************************************************************/
/*! exports provided: savingStatusPlugin, pathStatusPlugin, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "savingStatusPlugin", function() { return savingStatusPlugin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pathStatusPlugin", function() { return pathStatusPlugin; });
/* harmony import */ var _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/application */ "nMRO");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/docmanager */ "L2Sc");
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/mainmenu */ "BOMY");
/* harmony import */ var _jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @jupyterlab/settingregistry */ "+q8C");
/* harmony import */ var _jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @jupyterlab/statusbar */ "8R0s");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _lumino_polling__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @lumino/polling */ "iePd");
/* harmony import */ var _lumino_polling__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_lumino_polling__WEBPACK_IMPORTED_MODULE_10__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.











/**
 * The command IDs used by the document manager plugin.
 */
var CommandIDs;
(function (CommandIDs) {
    CommandIDs.clone = 'docmanager:clone';
    CommandIDs.deleteFile = 'docmanager:delete-file';
    CommandIDs.newUntitled = 'docmanager:new-untitled';
    CommandIDs.open = 'docmanager:open';
    CommandIDs.openBrowserTab = 'docmanager:open-browser-tab';
    CommandIDs.reload = 'docmanager:reload';
    CommandIDs.rename = 'docmanager:rename';
    CommandIDs.restoreCheckpoint = 'docmanager:restore-checkpoint';
    CommandIDs.save = 'docmanager:save';
    CommandIDs.saveAll = 'docmanager:save-all';
    CommandIDs.saveAs = 'docmanager:save-as';
    CommandIDs.download = 'docmanager:download';
    CommandIDs.toggleAutosave = 'docmanager:toggle-autosave';
    CommandIDs.showInFileBrowser = 'docmanager:show-in-file-browser';
})(CommandIDs || (CommandIDs = {}));
const pluginId = '@jupyterlab/docmanager-extension:plugin';
/**
 * The default document manager provider.
 */
const docManagerPlugin = {
    id: pluginId,
    provides: _jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_3__["IDocumentManager"],
    requires: [_jupyterlab_settingregistry__WEBPACK_IMPORTED_MODULE_5__["ISettingRegistry"]],
    optional: [
        _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__["ILabStatus"],
        _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["ICommandPalette"],
        _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__["ILabShell"],
        _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_4__["IMainMenu"],
        _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["ISessionContextDialogs"]
    ],
    activate: (app, settingRegistry, status, palette, labShell, mainMenu, sessionDialogs) => {
        var _a;
        const { shell } = app;
        const manager = app.serviceManager;
        const contexts = new WeakSet();
        const opener = {
            open: (widget, options) => {
                if (!widget.id) {
                    widget.id = `document-manager-${++Private.id}`;
                }
                widget.title.dataset = Object.assign({ type: 'document-title' }, widget.title.dataset);
                if (!widget.isAttached) {
                    shell.add(widget, 'main', options || {});
                }
                shell.activateById(widget.id);
                // Handle dirty state for open documents.
                let context = docManager.contextForWidget(widget);
                if (context && !contexts.has(context)) {
                    if (status) {
                        handleContext(status, context);
                    }
                    contexts.add(context);
                }
            }
        };
        const registry = app.docRegistry;
        const when = app.restored.then(() => void 0);
        const docManager = new _jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_3__["DocumentManager"]({
            registry,
            manager,
            opener,
            when,
            setBusy: (_a = (status && (() => status.setBusy())), (_a !== null && _a !== void 0 ? _a : undefined)),
            sessionDialogs: sessionDialogs || undefined
        });
        // Register the file operations commands.
        addCommands(app, docManager, opener, settingRegistry, labShell, palette, mainMenu);
        // Keep up to date with the settings registry.
        const onSettingsUpdated = (settings) => {
            // Handle whether to autosave
            const autosave = settings.get('autosave').composite;
            docManager.autosave =
                autosave === true || autosave === false ? autosave : true;
            app.commands.notifyCommandChanged(CommandIDs.toggleAutosave);
            // Handle autosave interval
            const autosaveInterval = settings.get('autosaveInterval').composite;
            docManager.autosaveInterval = autosaveInterval || 120;
            // Handle default widget factory overrides.
            const defaultViewers = settings.get('defaultViewers').composite;
            const overrides = {};
            // Filter the defaultViewers and file types for existing ones.
            Object.keys(defaultViewers).forEach(ft => {
                if (!registry.getFileType(ft)) {
                    console.warn(`File Type ${ft} not found`);
                    return;
                }
                if (!registry.getWidgetFactory(defaultViewers[ft])) {
                    console.warn(`Document viewer ${defaultViewers[ft]} not found`);
                }
                overrides[ft] = defaultViewers[ft];
            });
            // Set the default factory overrides. If not provided, this has the
            // effect of unsetting any previous overrides.
            Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_7__["each"])(registry.fileTypes(), ft => {
                try {
                    registry.setDefaultWidgetFactory(ft.name, overrides[ft.name]);
                }
                catch (_a) {
                    console.warn(`Failed to set default viewer ${overrides[ft.name]} for file type ${ft.name}`);
                }
            });
        };
        // Fetch the initial state of the settings.
        Promise.all([settingRegistry.load(pluginId), app.restored])
            .then(([settings]) => {
            settings.changed.connect(onSettingsUpdated);
            onSettingsUpdated(settings);
        })
            .catch((reason) => {
            console.error(reason.message);
        });
        // Register a fetch transformer for the settings registry,
        // allowing us to dynamically populate a help string with the
        // available document viewers and file types for the default
        // viewer overrides.
        settingRegistry.transform(pluginId, {
            fetch: plugin => {
                // Get the available file types.
                const fileTypes = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_7__["toArray"])(registry.fileTypes())
                    .map(ft => ft.name)
                    .join('    \n');
                // Get the available widget factories.
                const factories = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_7__["toArray"])(registry.widgetFactories())
                    .map(f => f.name)
                    .join('    \n');
                // Generate the help string.
                const description = `Overrides for the default viewers for file types.
Specify a mapping from file type name to document viewer name, for example:

defaultViewers: {
  markdown: "Markdown Preview"
}

If you specify non-existent file types or viewers, or if a viewer cannot
open a given file type, the override will not function.

Available viewers:
${factories}

Available file types:
${fileTypes}`;
                const schema = _lumino_coreutils__WEBPACK_IMPORTED_MODULE_8__["JSONExt"].deepCopy(plugin.schema);
                schema.properties.defaultViewers.description = description;
                return Object.assign(Object.assign({}, plugin), { schema });
            }
        });
        // callback to registry change that ensures not to invoke reload method when there is already a promise that is pending
        let reloadSettingsRegistry = () => {
            let reloadDebounce = new _lumino_polling__WEBPACK_IMPORTED_MODULE_10__["Debouncer"](() => settingRegistry.reload(pluginId));
            return reloadDebounce.invoke.bind(reloadDebounce);
        };
        // If the document registry gains or loses a factory or file type,
        // regenerate the settings description with the available options.
        registry.changed.connect(reloadSettingsRegistry());
        return docManager;
    }
};
/**
 * A plugin for adding a saving status item to the status bar.
 */
const savingStatusPlugin = {
    id: '@jupyterlab/docmanager-extension:saving-status',
    autoStart: true,
    requires: [_jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_3__["IDocumentManager"], _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__["ILabShell"]],
    optional: [_jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_6__["IStatusBar"]],
    activate: (_, docManager, labShell, statusBar) => {
        if (!statusBar) {
            // Automatically disable if statusbar missing
            return;
        }
        const saving = new _jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_3__["SavingStatus"]({ docManager });
        // Keep the currently active widget synchronized.
        saving.model.widget = labShell.currentWidget;
        labShell.currentChanged.connect(() => {
            saving.model.widget = labShell.currentWidget;
        });
        statusBar.registerStatusItem(savingStatusPlugin.id, {
            item: saving,
            align: 'middle',
            isActive: () => true,
            activeStateChanged: saving.model.stateChanged
        });
    }
};
/**
 * A plugin providing a file path widget to the status bar.
 */
const pathStatusPlugin = {
    id: '@jupyterlab/docmanager-extension:path-status',
    autoStart: true,
    requires: [_jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_3__["IDocumentManager"], _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__["ILabShell"]],
    optional: [_jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_6__["IStatusBar"]],
    activate: (_, docManager, labShell, statusBar) => {
        if (!statusBar) {
            // Automatically disable if statusbar missing
            return;
        }
        const path = new _jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_3__["PathStatus"]({ docManager });
        // Keep the file path widget up-to-date with the application active widget.
        path.model.widget = labShell.currentWidget;
        labShell.currentChanged.connect(() => {
            path.model.widget = labShell.currentWidget;
        });
        statusBar.registerStatusItem(pathStatusPlugin.id, {
            item: path,
            align: 'right',
            rank: 0,
            isActive: () => true
        });
    }
};
/**
 * Export the plugins as default.
 */
const plugins = [
    docManagerPlugin,
    pathStatusPlugin,
    savingStatusPlugin
];
/* harmony default export */ __webpack_exports__["default"] = (plugins);
/* Widget to display the revert to checkpoint confirmation. */
class RevertConfirmWidget extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_9__["Widget"] {
    /**
     * Construct a new revert confirmation widget.
     */
    constructor(checkpoint, fileType = 'notebook') {
        super({ node: Private.createRevertConfirmNode(checkpoint, fileType) });
    }
}
// Returns the file type for a widget.
function fileType(widget, docManager) {
    if (!widget) {
        return 'File';
    }
    const context = docManager.contextForWidget(widget);
    if (!context) {
        return '';
    }
    const fts = docManager.registry.getFileTypesForPath(context.path);
    return fts.length && fts[0].displayName ? fts[0].displayName : 'File';
}
/**
 * Add the file operations commands to the application's command registry.
 */
function addCommands(app, docManager, opener, settingRegistry, labShell, palette, mainMenu) {
    const { commands, shell } = app;
    const category = 'File Operations';
    const isEnabled = () => {
        const { currentWidget } = shell;
        return !!(currentWidget && docManager.contextForWidget(currentWidget));
    };
    const isWritable = () => {
        const { currentWidget } = shell;
        if (!currentWidget) {
            return false;
        }
        const context = docManager.contextForWidget(currentWidget);
        return !!(context &&
            context.contentsModel &&
            context.contentsModel.writable);
    };
    // If inside a rich application like JupyterLab, add additional functionality.
    if (labShell) {
        addLabCommands(app, docManager, labShell, opener, palette);
    }
    commands.addCommand(CommandIDs.deleteFile, {
        label: () => `Delete ${fileType(shell.currentWidget, docManager)}`,
        execute: args => {
            const path = typeof args['path'] === 'undefined' ? '' : args['path'];
            if (!path) {
                const command = CommandIDs.deleteFile;
                throw new Error(`A non-empty path is required for ${command}.`);
            }
            return docManager.deleteFile(path);
        }
    });
    commands.addCommand(CommandIDs.newUntitled, {
        execute: args => {
            const errorTitle = args['error'] || 'Error';
            const path = typeof args['path'] === 'undefined' ? '' : args['path'];
            let options = {
                type: args['type'],
                path
            };
            if (args['type'] === 'file') {
                options.ext = args['ext'] || '.txt';
            }
            return docManager.services.contents
                .newUntitled(options)
                .catch(error => Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showErrorMessage"])(errorTitle, error));
        },
        label: args => args['label'] || `New ${args['type']}`
    });
    commands.addCommand(CommandIDs.open, {
        execute: args => {
            var _a;
            const path = typeof args['path'] === 'undefined' ? '' : args['path'];
            const factory = args['factory'] || void 0;
            const kernel = (_a = args) === null || _a === void 0 ? void 0 : _a.kernel;
            const options = args['options'] || void 0;
            return docManager.services.contents
                .get(path, { content: false })
                .then(() => docManager.openOrReveal(path, factory, kernel, options));
        },
        icon: args => args['icon'] || '',
        label: args => (args['label'] || args['factory']),
        mnemonic: args => args['mnemonic'] || -1
    });
    commands.addCommand(CommandIDs.openBrowserTab, {
        execute: args => {
            const path = typeof args['path'] === 'undefined' ? '' : args['path'];
            if (!path) {
                return;
            }
            return docManager.services.contents.getDownloadUrl(path).then(url => {
                const opened = window.open();
                if (opened) {
                    opened.opener = null;
                    opened.location.href = url;
                }
                else {
                    throw new Error('Failed to open new browser tab.');
                }
            });
        },
        icon: args => args['icon'] || '',
        label: () => 'Open in New Browser Tab'
    });
    commands.addCommand(CommandIDs.reload, {
        label: () => `Reload ${fileType(shell.currentWidget, docManager)} from Disk`,
        caption: 'Reload contents from disk',
        isEnabled,
        execute: () => {
            // Checks that shell.currentWidget is valid:
            if (!isEnabled()) {
                return;
            }
            const context = docManager.contextForWidget(shell.currentWidget);
            const type = fileType(shell.currentWidget, docManager);
            if (!context) {
                return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
                    title: 'Cannot Reload',
                    body: 'No context found for current widget!',
                    buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton()]
                });
            }
            if (context.model.dirty) {
                return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
                    title: `Reload ${type} from Disk`,
                    body: `Are you sure you want to reload
          the ${type} from the disk?`,
                    buttons: [
                        _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].cancelButton(),
                        _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].warnButton({ label: 'Reload' })
                    ]
                }).then(result => {
                    if (result.button.accept && !context.isDisposed) {
                        return context.revert();
                    }
                });
            }
            else {
                if (!context.isDisposed) {
                    return context.revert();
                }
            }
        }
    });
    commands.addCommand(CommandIDs.restoreCheckpoint, {
        label: () => `Revert ${fileType(shell.currentWidget, docManager)} to Checkpoint`,
        caption: 'Revert contents to previous checkpoint',
        isEnabled,
        execute: () => {
            // Checks that shell.currentWidget is valid:
            if (!isEnabled()) {
                return;
            }
            const context = docManager.contextForWidget(shell.currentWidget);
            if (!context) {
                return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
                    title: 'Cannot Revert',
                    body: 'No context found for current widget!',
                    buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton()]
                });
            }
            return context.listCheckpoints().then(checkpoints => {
                if (checkpoints.length < 1) {
                    return;
                }
                const lastCheckpoint = checkpoints[checkpoints.length - 1];
                if (!lastCheckpoint) {
                    return;
                }
                const type = fileType(shell.currentWidget, docManager);
                return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
                    title: `Revert ${type} to checkpoint`,
                    body: new RevertConfirmWidget(lastCheckpoint, type),
                    buttons: [
                        _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].cancelButton(),
                        _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].warnButton({ label: 'Revert' })
                    ]
                }).then(result => {
                    if (context.isDisposed) {
                        return;
                    }
                    if (result.button.accept) {
                        if (context.model.readOnly) {
                            return context.revert();
                        }
                        return context.restoreCheckpoint().then(() => context.revert());
                    }
                });
            });
        }
    });
    commands.addCommand(CommandIDs.save, {
        label: () => `Save ${fileType(shell.currentWidget, docManager)}`,
        caption: 'Save and create checkpoint',
        isEnabled: isWritable,
        execute: () => {
            // Checks that shell.currentWidget is valid:
            if (isEnabled()) {
                let context = docManager.contextForWidget(shell.currentWidget);
                if (!context) {
                    return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
                        title: 'Cannot Save',
                        body: 'No context found for current widget!',
                        buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton()]
                    });
                }
                if (context.model.readOnly) {
                    return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
                        title: 'Cannot Save',
                        body: 'Document is read-only',
                        buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton()]
                    });
                }
                return context
                    .save()
                    .then(() => context.createCheckpoint())
                    .catch(err => {
                    // If the save was canceled by user-action, do nothing.
                    if (err.message === 'Cancel') {
                        return;
                    }
                    throw err;
                });
            }
        }
    });
    commands.addCommand(CommandIDs.saveAll, {
        label: () => 'Save All',
        caption: 'Save all open documents',
        isEnabled: () => {
            return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_7__["some"])(Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_7__["map"])(shell.widgets('main'), w => docManager.contextForWidget(w)), c => { var _a, _b, _c; return _c = (_b = (_a = c) === null || _a === void 0 ? void 0 : _a.contentsModel) === null || _b === void 0 ? void 0 : _b.writable, (_c !== null && _c !== void 0 ? _c : false); });
        },
        execute: () => {
            const promises = [];
            const paths = new Set(); // Cache so we don't double save files.
            Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_7__["each"])(shell.widgets('main'), widget => {
                const context = docManager.contextForWidget(widget);
                if (context && !context.model.readOnly && !paths.has(context.path)) {
                    paths.add(context.path);
                    promises.push(context.save());
                }
            });
            return Promise.all(promises);
        }
    });
    commands.addCommand(CommandIDs.saveAs, {
        label: () => `Save ${fileType(shell.currentWidget, docManager)} As…`,
        caption: 'Save with new path',
        isEnabled,
        execute: () => {
            // Checks that shell.currentWidget is valid:
            if (isEnabled()) {
                let context = docManager.contextForWidget(shell.currentWidget);
                if (!context) {
                    return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
                        title: 'Cannot Save',
                        body: 'No context found for current widget!',
                        buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton()]
                    });
                }
                return context.saveAs();
            }
        }
    });
    commands.addCommand(CommandIDs.download, {
        label: 'Download',
        caption: 'Download the file to your computer',
        isEnabled,
        execute: () => {
            // Checks that shell.currentWidget is valid:
            if (isEnabled()) {
                let context = docManager.contextForWidget(shell.currentWidget);
                if (!context) {
                    return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
                        title: 'Cannot Download',
                        body: 'No context found for current widget!',
                        buttons: [_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton()]
                    });
                }
                return context.download();
            }
        }
    });
    commands.addCommand(CommandIDs.toggleAutosave, {
        label: 'Autosave Documents',
        isToggled: () => docManager.autosave,
        execute: () => {
            const value = !docManager.autosave;
            const key = 'autosave';
            return settingRegistry
                .set(pluginId, key, value)
                .catch((reason) => {
                console.error(`Failed to set ${pluginId}:${key} - ${reason.message}`);
            });
        }
    });
    // .jp-mod-current added so that the console-creation command is only shown
    // on the current document.
    // Otherwise it will delegate to the wrong widget.
    app.contextMenu.addItem({
        command: 'filemenu:create-console',
        selector: '[data-type="document-title"].jp-mod-current',
        rank: 6
    });
    if (palette) {
        [
            CommandIDs.reload,
            CommandIDs.restoreCheckpoint,
            CommandIDs.save,
            CommandIDs.saveAs,
            CommandIDs.download,
            CommandIDs.toggleAutosave
        ].forEach(command => {
            palette.addItem({ command, category });
        });
    }
    if (mainMenu) {
        mainMenu.settingsMenu.addGroup([{ command: CommandIDs.toggleAutosave }], 5);
        mainMenu.fileMenu.addGroup([{ command: CommandIDs.download }], 6);
    }
}
function addLabCommands(app, docManager, labShell, opener, palette) {
    const { commands } = app;
    // Returns the doc widget associated with the most recent contextmenu event.
    const contextMenuWidget = () => {
        var _a, _b;
        const pathRe = /[Pp]ath:\s?(.*)\n?/;
        const test = (node) => { var _a; return !!((_a = node['title']) === null || _a === void 0 ? void 0 : _a.match(pathRe)); };
        const node = app.contextMenuHitTest(test);
        const pathMatch = (_a = node) === null || _a === void 0 ? void 0 : _a['title'].match(pathRe);
        return (_b = (pathMatch && docManager.findWidget(pathMatch[1], null)), (_b !== null && _b !== void 0 ? _b : 
        // Fall back to active doc widget if path cannot be obtained from event.
        labShell.currentWidget));
    };
    // Returns `true` if the current widget has a document context.
    const isEnabled = () => {
        const { currentWidget } = labShell;
        return !!(currentWidget && docManager.contextForWidget(currentWidget));
    };
    commands.addCommand(CommandIDs.clone, {
        label: () => `New View for ${fileType(contextMenuWidget(), docManager)}`,
        isEnabled,
        execute: args => {
            const widget = contextMenuWidget();
            const options = args['options'] || {
                mode: 'split-right'
            };
            if (!widget) {
                return;
            }
            // Clone the widget.
            let child = docManager.cloneWidget(widget);
            if (child) {
                opener.open(child, options);
            }
        }
    });
    commands.addCommand(CommandIDs.rename, {
        label: () => `Rename ${fileType(contextMenuWidget(), docManager)}…`,
        isEnabled,
        execute: () => {
            // Implies contextMenuWidget() !== null
            if (isEnabled()) {
                let context = docManager.contextForWidget(contextMenuWidget());
                return Object(_jupyterlab_docmanager__WEBPACK_IMPORTED_MODULE_3__["renameDialog"])(docManager, context.path);
            }
        }
    });
    commands.addCommand(CommandIDs.showInFileBrowser, {
        label: () => `Show in File Browser`,
        isEnabled,
        execute: async () => {
            let widget = contextMenuWidget();
            let context = widget && docManager.contextForWidget(widget);
            if (!context) {
                return;
            }
            // 'activate' is needed if this command is selected in the "open tabs" sidebar
            await commands.execute('filebrowser:activate', { path: context.path });
            await commands.execute('filebrowser:go-to-path', { path: context.path });
        }
    });
    app.contextMenu.addItem({
        command: CommandIDs.rename,
        selector: '[data-type="document-title"]',
        rank: 1
    });
    app.contextMenu.addItem({
        command: CommandIDs.clone,
        selector: '[data-type="document-title"]',
        rank: 2
    });
    app.contextMenu.addItem({
        command: CommandIDs.showInFileBrowser,
        selector: '[data-type="document-title"]',
        rank: 3
    });
}
/**
 * Handle dirty state for a context.
 */
function handleContext(status, context) {
    let disposable = null;
    let onStateChanged = (sender, args) => {
        if (args.name === 'dirty') {
            if (args.newValue === true) {
                if (!disposable) {
                    disposable = status.setDirty();
                }
            }
            else if (disposable) {
                disposable.dispose();
                disposable = null;
            }
        }
    };
    void context.ready.then(() => {
        context.model.stateChanged.connect(onStateChanged);
        if (context.model.dirty) {
            disposable = status.setDirty();
        }
    });
    context.disposed.connect(() => {
        if (disposable) {
            disposable.dispose();
        }
    });
}
/**
 * A namespace for private module data.
 */
var Private;
(function (Private) {
    /**
     * A counter for unique IDs.
     */
    Private.id = 0;
    function createRevertConfirmNode(checkpoint, fileType) {
        let body = document.createElement('div');
        let confirmMessage = document.createElement('p');
        let confirmText = document.createTextNode(`Are you sure you want to revert
      the ${fileType} to the latest checkpoint? `);
        let cannotUndoText = document.createElement('strong');
        cannotUndoText.textContent = 'This cannot be undone.';
        confirmMessage.appendChild(confirmText);
        confirmMessage.appendChild(cannotUndoText);
        let lastCheckpointMessage = document.createElement('p');
        let lastCheckpointText = document.createTextNode('The checkpoint was last updated at: ');
        let lastCheckpointDate = document.createElement('p');
        let date = new Date(checkpoint.last_modified);
        lastCheckpointDate.style.textAlign = 'center';
        lastCheckpointDate.textContent =
            _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["Time"].format(date, 'dddd, MMMM Do YYYY, h:mm:ss a') +
                ' (' +
                _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["Time"].formatHuman(date) +
                ')';
        lastCheckpointMessage.appendChild(lastCheckpointText);
        lastCheckpointMessage.appendChild(lastCheckpointDate);
        body.appendChild(confirmMessage);
        body.appendChild(lastCheckpointMessage);
        return body;
    }
    Private.createRevertConfirmNode = createRevertConfirmNode;
})(Private || (Private = {}));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "JPvQ":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/tokens.js ***!
  \****************************************************************************************/
/*! exports provided: IRenderMimeRegistry, ILatexTypesetter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IRenderMimeRegistry", function() { return IRenderMimeRegistry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ILatexTypesetter", function() { return ILatexTypesetter; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* tslint:disable */
/**
 * The rendermime token.
 */
const IRenderMimeRegistry = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/rendermime:IRenderMimeRegistry');
/* tslint:enable */
/* tslint:disable */
/**
 * The latex typesetter token.
 */
const ILatexTypesetter = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/rendermime:ILatexTypesetter');
/* tslint:enable */
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "JeIE":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codeeditor/lib/index.js ***!
  \***************************************************************************************/
/*! exports provided: CodeEditor, JSONEditor, CodeEditorWrapper, IEditorMimeTypeService, IEditorServices */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor */ "aoqG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CodeEditor", function() { return _editor__WEBPACK_IMPORTED_MODULE_0__["CodeEditor"]; });

/* harmony import */ var _jsoneditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jsoneditor */ "WpeS");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JSONEditor", function() { return _jsoneditor__WEBPACK_IMPORTED_MODULE_1__["JSONEditor"]; });

/* harmony import */ var _widget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./widget */ "1l+Z");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CodeEditorWrapper", function() { return _widget__WEBPACK_IMPORTED_MODULE_2__["CodeEditorWrapper"]; });

/* harmony import */ var _mimetype__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mimetype */ "oj+p");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IEditorMimeTypeService", function() { return _mimetype__WEBPACK_IMPORTED_MODULE_3__["IEditorMimeTypeService"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tokens */ "rygd");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IEditorServices", function() { return _tokens__WEBPACK_IMPORTED_MODULE_4__["IEditorServices"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.





//# sourceMappingURL=index.js.map

/***/ }),

/***/ "K/U1":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/tokens.js ***!
  \***************************************************************************************/
/*! exports provided: IStatusBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IStatusBar", function() { return IStatusBar; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

// tslint:disable-next-line:variable-name
const IStatusBar = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/statusbar:IStatusBar');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "K2qJ":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/mimemodel.js ***!
  \*******************************************************************************************/
/*! exports provided: MimeModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MimeModel", function() { return MimeModel; });
/**
 * The default mime model implementation.
 */
class MimeModel {
    /**
     * Construct a new mime model.
     */
    constructor(options = {}) {
        this.trusted = !!options.trusted;
        this._data = options.data || {};
        this._metadata = options.metadata || {};
        this._callback = options.callback || Private.noOp;
    }
    /**
     * The data associated with the model.
     */
    get data() {
        return this._data;
    }
    /**
     * The metadata associated with the model.
     */
    get metadata() {
        return this._metadata;
    }
    /**
     * Set the data associated with the model.
     *
     * #### Notes
     * Depending on the implementation of the mime model,
     * this call may or may not have deferred effects,
     */
    setData(options) {
        this._data = options.data || this._data;
        this._metadata = options.metadata || this._metadata;
        this._callback(options);
    }
}
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * A no-op callback function.
     */
    function noOp() {
        /* no-op */
    }
    Private.noOp = noOp;
})(Private || (Private = {}));
//# sourceMappingURL=mimemodel.js.map

/***/ }),

/***/ "KCLv":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/manager.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const algorithm_1 = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
const polling_1 = __webpack_require__(/*! @lumino/polling */ "iePd");
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const __1 = __webpack_require__(/*! .. */ "YdKB");
const basemanager_1 = __webpack_require__(/*! ../basemanager */ "38F2");
const restapi_1 = __webpack_require__(/*! ./restapi */ "o1Bc");
const default_1 = __webpack_require__(/*! ./default */ "GPNR");
/**
 * An implementation of a kernel manager.
 */
class KernelManager extends basemanager_1.BaseManager {
    /**
     * Construct a new kernel manager.
     *
     * @param options - The default options for kernel.
     */
    constructor(options = {}) {
        var _a;
        super(options);
        this._isReady = false;
        this._kernelConnections = new Set();
        this._models = new Map();
        this._runningChanged = new signaling_1.Signal(this);
        this._connectionFailure = new signaling_1.Signal(this);
        // Start model and specs polling with exponential backoff.
        this._pollModels = new polling_1.Poll({
            auto: false,
            factory: () => this.requestRunning(),
            frequency: {
                interval: 10 * 1000,
                backoff: true,
                max: 300 * 1000
            },
            name: `@jupyterlab/services:KernelManager#models`,
            standby: (_a = options.standby, (_a !== null && _a !== void 0 ? _a : 'when-hidden'))
        });
        // Initialize internal data.
        this._ready = (async () => {
            await this._pollModels.start();
            await this._pollModels.tick;
            this._isReady = true;
        })();
    }
    /**
     * Test whether the manager is ready.
     */
    get isReady() {
        return this._isReady;
    }
    /**
     * A promise that fulfills when the manager is ready.
     */
    get ready() {
        return this._ready;
    }
    /**
     * A signal emitted when the running kernels change.
     */
    get runningChanged() {
        return this._runningChanged;
    }
    /**
     * A signal emitted when there is a connection failure.
     */
    get connectionFailure() {
        return this._connectionFailure;
    }
    /**
     * Dispose of the resources used by the manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._models.clear();
        this._kernelConnections.forEach(x => x.dispose());
        this._pollModels.dispose();
        super.dispose();
    }
    /**
     * Connect to an existing kernel.
     *
     * @returns The new kernel connection.
     *
     * #### Notes
     * This will use the manager's server settings and ignore any server
     * settings passed in the options.
     */
    connectTo(options) {
        var _a;
        const { id } = options.model;
        let handleComms = (_a = options.handleComms, (_a !== null && _a !== void 0 ? _a : true));
        // By default, handle comms only if no other kernel connection is.
        if (options.handleComms === undefined) {
            for (let kc of this._kernelConnections) {
                if (kc.id === id && kc.handleComms) {
                    handleComms = false;
                    break;
                }
            }
        }
        let kernelConnection = new default_1.KernelConnection(Object.assign(Object.assign({ handleComms }, options), { serverSettings: this.serverSettings }));
        this._onStarted(kernelConnection);
        if (!this._models.has(id)) {
            // We trust the user to connect to an existing kernel, but we verify
            // asynchronously.
            void this.refreshRunning().catch(() => {
                /* no-op */
            });
        }
        return kernelConnection;
    }
    /**
     * Create an iterator over the most recent running kernels.
     *
     * @returns A new iterator over the running kernels.
     */
    running() {
        return algorithm_1.iter([...this._models.values()]);
    }
    /**
     * Force a refresh of the running kernels.
     *
     * @returns A promise that resolves when the running list has been refreshed.
     *
     * #### Notes
     * This is not typically meant to be called by the user, since the
     * manager maintains its own internal state.
     */
    async refreshRunning() {
        await this._pollModels.refresh();
        await this._pollModels.tick;
    }
    /**
     * Start a new kernel.
     *
     * @param createOptions - The kernel creation options
     *
     * @param connectOptions - The kernel connection options
     *
     * @returns A promise that resolves with the kernel connection.
     *
     * #### Notes
     * The manager `serverSettings` will be always be used.
     */
    async startNew(createOptions = {}, connectOptions = {}) {
        const model = await restapi_1.startNew(createOptions, this.serverSettings);
        return this.connectTo(Object.assign(Object.assign({}, connectOptions), { model }));
    }
    /**
     * Shut down a kernel by id.
     *
     * @param id - The id of the target kernel.
     *
     * @returns A promise that resolves when the operation is complete.
     */
    async shutdown(id) {
        await restapi_1.shutdownKernel(id, this.serverSettings);
        await this.refreshRunning();
    }
    /**
     * Shut down all kernels.
     *
     * @returns A promise that resolves when all of the kernels are shut down.
     */
    async shutdownAll() {
        // Update the list of models to make sure our list is current.
        await this.refreshRunning();
        // Shut down all models.
        await Promise.all([...this._models.keys()].map(id => restapi_1.shutdownKernel(id, this.serverSettings)));
        // Update the list of models to clear out our state.
        await this.refreshRunning();
    }
    /**
     * Find a kernel by id.
     *
     * @param id - The id of the target kernel.
     *
     * @returns A promise that resolves with the kernel's model.
     */
    async findById(id) {
        if (this._models.has(id)) {
            return this._models.get(id);
        }
        await this.refreshRunning();
        return this._models.get(id);
    }
    /**
     * Execute a request to the server to poll running kernels and update state.
     */
    async requestRunning() {
        var _a;
        let models;
        try {
            models = await restapi_1.listRunning(this.serverSettings);
        }
        catch (err) {
            // Check for a network error, or a 503 error, which is returned
            // by a JupyterHub when a server is shut down.
            if (err instanceof __1.ServerConnection.NetworkError ||
                ((_a = err.response) === null || _a === void 0 ? void 0 : _a.status) === 503) {
                this._connectionFailure.emit(err);
            }
            throw err;
        }
        if (this.isDisposed) {
            return;
        }
        if (this._models.size === models.length &&
            algorithm_1.every(models, x => coreutils_1.JSONExt.deepEqual(this._models.get(x.id), x))) {
            // Identical models list (presuming models does not contain duplicate
            // ids), so just return
            return;
        }
        this._models = new Map(models.map(x => [x.id, x]));
        // For any kernel connection to a kernel that doesn't exist, notify it of
        // the shutdown.
        this._kernelConnections.forEach(kc => {
            if (!this._models.has(kc.id)) {
                kc.handleShutdown();
            }
        });
        this._runningChanged.emit(models);
    }
    /**
     * Handle a kernel starting.
     */
    _onStarted(kernelConnection) {
        this._kernelConnections.add(kernelConnection);
        kernelConnection.statusChanged.connect(this._onStatusChanged, this);
        kernelConnection.disposed.connect(this._onDisposed, this);
    }
    _onDisposed(kernelConnection) {
        this._kernelConnections.delete(kernelConnection);
        // A dispose emission could mean the server session is deleted, or that
        // the kernel JS object is disposed and the kernel still exists on the
        // server, so we refresh from the server to make sure we reflect the
        // server state.
        void this.refreshRunning().catch(() => {
            /* no-op */
        });
    }
    _onStatusChanged(kernelConnection, status) {
        if (status === 'dead') {
            // We asynchronously update our list of kernels, which asynchronously
            // will dispose them. We do not want to immediately dispose them because
            // there may be other signal handlers that want to be called.
            void this.refreshRunning().catch(() => {
                /* no-op */
            });
        }
    }
}
exports.KernelManager = KernelManager;
//# sourceMappingURL=manager.js.map

/***/ }),

/***/ "KW/8":
/*!**************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernelspec/restapi.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
const validate_1 = __webpack_require__(/*! ./validate */ "jFKH");
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/**
 * The url for the kernelspec service.
 */
const KERNELSPEC_SERVICE_URL = 'api/kernelspecs';
/**
 * Fetch all of the kernel specs.
 *
 * @param settings - The optional server settings.
 * @param useCache - Whether to use the cache. If false, always request.
 *
 * @returns A promise that resolves with the kernel specs.
 *
 * #### Notes
 * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernelspecs).
 */
async function getSpecs(settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, KERNELSPEC_SERVICE_URL);
    const response = await serverconnection_1.ServerConnection.makeRequest(url, {}, settings);
    if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    const data = await response.json();
    return validate_1.validateSpecModels(data);
}
exports.getSpecs = getSpecs;
//# sourceMappingURL=restapi.js.map

/***/ }),

/***/ "Kg9c":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/factories.js ***!
  \*******************************************************************************************/
/*! exports provided: htmlRendererFactory, imageRendererFactory, latexRendererFactory, markdownRendererFactory, svgRendererFactory, textRendererFactory, javaScriptRendererFactory, standardRendererFactories */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "htmlRendererFactory", function() { return htmlRendererFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "imageRendererFactory", function() { return imageRendererFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "latexRendererFactory", function() { return latexRendererFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "markdownRendererFactory", function() { return markdownRendererFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "svgRendererFactory", function() { return svgRendererFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "textRendererFactory", function() { return textRendererFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "javaScriptRendererFactory", function() { return javaScriptRendererFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "standardRendererFactories", function() { return standardRendererFactories; });
/* harmony import */ var _widgets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./widgets */ "MCFF");

/**
 * A mime renderer factory for raw html.
 */
const htmlRendererFactory = {
    safe: true,
    mimeTypes: ['text/html'],
    defaultRank: 50,
    createRenderer: options => new _widgets__WEBPACK_IMPORTED_MODULE_0__["RenderedHTML"](options)
};
/**
 * A mime renderer factory for images.
 */
const imageRendererFactory = {
    safe: true,
    mimeTypes: ['image/bmp', 'image/png', 'image/jpeg', 'image/gif'],
    defaultRank: 90,
    createRenderer: options => new _widgets__WEBPACK_IMPORTED_MODULE_0__["RenderedImage"](options)
};
/**
 * A mime renderer factory for LaTeX.
 */
const latexRendererFactory = {
    safe: true,
    mimeTypes: ['text/latex'],
    defaultRank: 70,
    createRenderer: options => new _widgets__WEBPACK_IMPORTED_MODULE_0__["RenderedLatex"](options)
};
/**
 * A mime renderer factory for Markdown.
 */
const markdownRendererFactory = {
    safe: true,
    mimeTypes: ['text/markdown'],
    defaultRank: 60,
    createRenderer: options => new _widgets__WEBPACK_IMPORTED_MODULE_0__["RenderedMarkdown"](options)
};
/**
 * A mime renderer factory for svg.
 */
const svgRendererFactory = {
    safe: false,
    mimeTypes: ['image/svg+xml'],
    defaultRank: 80,
    createRenderer: options => new _widgets__WEBPACK_IMPORTED_MODULE_0__["RenderedSVG"](options)
};
/**
 * A mime renderer factory for plain and jupyter console text data.
 */
const textRendererFactory = {
    safe: true,
    mimeTypes: [
        'text/plain',
        'application/vnd.jupyter.stdout',
        'application/vnd.jupyter.stderr'
    ],
    defaultRank: 120,
    createRenderer: options => new _widgets__WEBPACK_IMPORTED_MODULE_0__["RenderedText"](options)
};
/**
 * A placeholder factory for rendered JavaScript.
 */
const javaScriptRendererFactory = {
    safe: false,
    mimeTypes: ['text/javascript', 'application/javascript'],
    defaultRank: 110,
    createRenderer: options => new _widgets__WEBPACK_IMPORTED_MODULE_0__["RenderedJavaScript"](options)
};
/**
 * The standard factories provided by the rendermime package.
 */
const standardRendererFactories = [
    htmlRendererFactory,
    markdownRendererFactory,
    latexRendererFactory,
    svgRendererFactory,
    imageRendererFactory,
    javaScriptRendererFactory,
    textRendererFactory
];
//# sourceMappingURL=factories.js.map

/***/ }),

/***/ "Kt44":
/*!************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/view.js ***!
  \************************************************************************************/
/*! exports provided: ViewMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewMenu", function() { return ViewMenu; });
/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * An extensible View menu for the application.
 */
class ViewMenu extends _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"] {
    /**
     * Construct the view menu.
     */
    constructor(options) {
        super(options);
        this.menu.title.label = 'View';
        this.editorViewers = new Set();
    }
    /**
     * Dispose of the resources held by the view menu.
     */
    dispose() {
        this.editorViewers.clear();
        super.dispose();
    }
}
//# sourceMappingURL=view.js.map

/***/ }),

/***/ "KuDp":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/hoverbox.css ***!
  \*********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2016, Jupyter Development Team.\n|\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-HoverBox {\n  position: fixed;\n}\n\n.jp-HoverBox.jp-mod-outofview {\n  display: none;\n}\n", ""]);


/***/ }),

/***/ "L2Sc":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/lib/index.js ***!
  \***************************************************************************************/
/*! exports provided: renameDialog, renameFile, shouldOverwrite, isValidFileName, IDocumentManager, DocumentManager, SaveHandler, SavingStatus, PathStatus, DocumentWidgetManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _dialogs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dialogs */ "CYE+");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renameDialog", function() { return _dialogs__WEBPACK_IMPORTED_MODULE_0__["renameDialog"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "renameFile", function() { return _dialogs__WEBPACK_IMPORTED_MODULE_0__["renameFile"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "shouldOverwrite", function() { return _dialogs__WEBPACK_IMPORTED_MODULE_0__["shouldOverwrite"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isValidFileName", function() { return _dialogs__WEBPACK_IMPORTED_MODULE_0__["isValidFileName"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tokens */ "8TQW");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IDocumentManager", function() { return _tokens__WEBPACK_IMPORTED_MODULE_1__["IDocumentManager"]; });

/* harmony import */ var _manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./manager */ "CmEF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DocumentManager", function() { return _manager__WEBPACK_IMPORTED_MODULE_2__["DocumentManager"]; });

/* harmony import */ var _savehandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./savehandler */ "vnUX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SaveHandler", function() { return _savehandler__WEBPACK_IMPORTED_MODULE_3__["SaveHandler"]; });

/* harmony import */ var _savingstatus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./savingstatus */ "CxPM");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SavingStatus", function() { return _savingstatus__WEBPACK_IMPORTED_MODULE_4__["SavingStatus"]; });

/* harmony import */ var _pathstatus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pathstatus */ "0MuR");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PathStatus", function() { return _pathstatus__WEBPACK_IMPORTED_MODULE_5__["PathStatus"]; });

/* harmony import */ var _widgetmanager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./widgetmanager */ "DDgm");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DocumentWidgetManager", function() { return _widgetmanager__WEBPACK_IMPORTED_MODULE_6__["DocumentWidgetManager"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







//# sourceMappingURL=index.js.map

/***/ }),

/***/ "LZBv":
/*!***************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/coreutils/lib/markdowncodeblocks.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * The namespace for code block functions which help
 * in extract code from markdown text
 */
var MarkdownCodeBlocks;
(function (MarkdownCodeBlocks) {
    MarkdownCodeBlocks.CODE_BLOCK_MARKER = '```';
    const markdownExtensions = [
        '.markdown',
        '.mdown',
        '.mkdn',
        '.md',
        '.mkd',
        '.mdwn',
        '.mdtxt',
        '.mdtext',
        '.text',
        '.txt',
        '.Rmd'
    ];
    class MarkdownCodeBlock {
        constructor(startLine) {
            this.startLine = startLine;
            this.code = '';
            this.endLine = -1;
        }
    }
    MarkdownCodeBlocks.MarkdownCodeBlock = MarkdownCodeBlock;
    /**
     * Check whether the given file extension is a markdown extension
     * @param extension - A file extension
     *
     * @returns true/false depending on whether this is a supported markdown extension
     */
    function isMarkdown(extension) {
        return markdownExtensions.indexOf(extension) > -1;
    }
    MarkdownCodeBlocks.isMarkdown = isMarkdown;
    /**
     * Construct all code snippets from current text
     * (this could be potentially optimized if we can cache and detect differences)
     * @param text - A string to parse codeblocks from
     *
     * @returns An array of MarkdownCodeBlocks.
     */
    function findMarkdownCodeBlocks(text) {
        if (!text || text === '') {
            return [];
        }
        const lines = text.split('\n');
        const codeBlocks = [];
        let currentBlock = null;
        for (let lineIndex = 0; lineIndex < lines.length; lineIndex++) {
            const line = lines[lineIndex];
            const lineContainsMarker = line.indexOf(MarkdownCodeBlocks.CODE_BLOCK_MARKER) === 0;
            const constructingBlock = currentBlock != null;
            // Skip this line if it is not part of any code block and doesn't contain a marker.
            if (!lineContainsMarker && !constructingBlock) {
                continue;
            }
            // Check if we are already constructing a code block.
            if (!constructingBlock) {
                // Start constructing a new code block.
                currentBlock = new MarkdownCodeBlock(lineIndex);
                // Check whether this is a single line code block of the form ```a = 10```.
                const firstIndex = line.indexOf(MarkdownCodeBlocks.CODE_BLOCK_MARKER);
                const lastIndex = line.lastIndexOf(MarkdownCodeBlocks.CODE_BLOCK_MARKER);
                const isSingleLine = firstIndex !== lastIndex;
                if (isSingleLine) {
                    currentBlock.code = line.substring(firstIndex + MarkdownCodeBlocks.CODE_BLOCK_MARKER.length, lastIndex);
                    currentBlock.endLine = lineIndex;
                    codeBlocks.push(currentBlock);
                    currentBlock = null;
                }
            }
            else if (currentBlock) {
                if (lineContainsMarker) {
                    // End of block, finish it up.
                    currentBlock.endLine = lineIndex - 1;
                    codeBlocks.push(currentBlock);
                    currentBlock = null;
                }
                else {
                    // Append the current line.
                    currentBlock.code += line + '\n';
                }
            }
        }
        return codeBlocks;
    }
    MarkdownCodeBlocks.findMarkdownCodeBlocks = findMarkdownCodeBlocks;
})(MarkdownCodeBlocks = exports.MarkdownCodeBlocks || (exports.MarkdownCodeBlocks = {}));
//# sourceMappingURL=markdowncodeblocks.js.map

/***/ }),

/***/ "MCFF":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/widgets.js ***!
  \*****************************************************************************************/
/*! exports provided: RenderedCommon, RenderedHTMLCommon, RenderedHTML, RenderedLatex, RenderedImage, RenderedMarkdown, RenderedSVG, RenderedText, RenderedJavaScript */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedCommon", function() { return RenderedCommon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedHTMLCommon", function() { return RenderedHTMLCommon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedHTML", function() { return RenderedHTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedLatex", function() { return RenderedLatex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedImage", function() { return RenderedImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedMarkdown", function() { return RenderedMarkdown; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedSVG", function() { return RenderedSVG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedText", function() { return RenderedText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderedJavaScript", function() { return RenderedJavaScript; });
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _renderers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderers */ "yGL3");


/**
 * A common base class for mime renderers.
 */
class RenderedCommon extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__["Widget"] {
    /**
     * Construct a new rendered common widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super();
        this.mimeType = options.mimeType;
        this.sanitizer = options.sanitizer;
        this.resolver = options.resolver;
        this.linkHandler = options.linkHandler;
        this.latexTypesetter = options.latexTypesetter;
        this.node.dataset['mimeType'] = this.mimeType;
    }
    /**
     * Render a mime model.
     *
     * @param model - The mime model to render.
     *
     * @returns A promise which resolves when rendering is complete.
     *
     * #### Notes
     * If the DOM node for this widget already has content, it is emptied
     * before rendering. Subclasses that do not want this behavior
     * (if, for instance, they are using DOM diffing), should override
     * this method and not call `super.renderModel()`.
     */
    async renderModel(model) {
        // TODO compare model against old model for early bail?
        // Empty any existing content in the node from previous renders
        while (this.node.firstChild) {
            this.node.removeChild(this.node.firstChild);
        }
        // Toggle the trusted class on the widget.
        this.toggleClass('jp-mod-trusted', model.trusted);
        // Render the actual content.
        await this.render(model);
        // Handle the fragment identifier if given.
        const { fragment } = model.metadata;
        if (fragment) {
            this.setFragment(fragment);
        }
    }
    /**
     * Set the URI fragment identifier.
     *
     * @param fragment - The URI fragment identifier.
     */
    setFragment(fragment) {
        /* no-op */
    }
}
/**
 * A common base class for HTML mime renderers.
 */
class RenderedHTMLCommon extends RenderedCommon {
    /**
     * Construct a new rendered HTML common widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this.addClass('jp-RenderedHTMLCommon');
    }
    setFragment(fragment) {
        let el;
        try {
            el = this.node.querySelector(fragment);
        }
        catch (error) {
            console.warn('Unable to set URI fragment identifier.', error);
        }
        if (el) {
            el.scrollIntoView();
        }
    }
}
/**
 * A mime renderer for displaying HTML and math.
 */
class RenderedHTML extends RenderedHTMLCommon {
    /**
     * Construct a new rendered HTML widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this.addClass('jp-RenderedHTML');
    }
    /**
     * Render a mime model.
     *
     * @param model - The mime model to render.
     *
     * @returns A promise which resolves when rendering is complete.
     */
    render(model) {
        return _renderers__WEBPACK_IMPORTED_MODULE_1__["renderHTML"]({
            host: this.node,
            source: String(model.data[this.mimeType]),
            trusted: model.trusted,
            resolver: this.resolver,
            sanitizer: this.sanitizer,
            linkHandler: this.linkHandler,
            shouldTypeset: this.isAttached,
            latexTypesetter: this.latexTypesetter
        });
    }
    /**
     * A message handler invoked on an `'after-attach'` message.
     */
    onAfterAttach(msg) {
        if (this.latexTypesetter) {
            this.latexTypesetter.typeset(this.node);
        }
    }
}
/**
 * A mime renderer for displaying LaTeX output.
 */
class RenderedLatex extends RenderedCommon {
    /**
     * Construct a new rendered LaTeX widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this.addClass('jp-RenderedLatex');
    }
    /**
     * Render a mime model.
     *
     * @param model - The mime model to render.
     *
     * @returns A promise which resolves when rendering is complete.
     */
    render(model) {
        return _renderers__WEBPACK_IMPORTED_MODULE_1__["renderLatex"]({
            host: this.node,
            source: String(model.data[this.mimeType]),
            shouldTypeset: this.isAttached,
            latexTypesetter: this.latexTypesetter
        });
    }
    /**
     * A message handler invoked on an `'after-attach'` message.
     */
    onAfterAttach(msg) {
        if (this.latexTypesetter) {
            this.latexTypesetter.typeset(this.node);
        }
    }
}
/**
 * A mime renderer for displaying images.
 */
class RenderedImage extends RenderedCommon {
    /**
     * Construct a new rendered image widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this.addClass('jp-RenderedImage');
    }
    /**
     * Render a mime model.
     *
     * @param model - The mime model to render.
     *
     * @returns A promise which resolves when rendering is complete.
     */
    render(model) {
        let metadata = model.metadata[this.mimeType];
        return _renderers__WEBPACK_IMPORTED_MODULE_1__["renderImage"]({
            host: this.node,
            mimeType: this.mimeType,
            source: String(model.data[this.mimeType]),
            width: metadata && metadata.width,
            height: metadata && metadata.height,
            needsBackground: model.metadata['needs_background'],
            unconfined: metadata && metadata.unconfined
        });
    }
}
/**
 * A mime renderer for displaying Markdown with embedded latex.
 */
class RenderedMarkdown extends RenderedHTMLCommon {
    /**
     * Construct a new rendered markdown widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this.addClass('jp-RenderedMarkdown');
    }
    /**
     * Render a mime model.
     *
     * @param model - The mime model to render.
     *
     * @returns A promise which resolves when rendering is complete.
     */
    render(model) {
        return _renderers__WEBPACK_IMPORTED_MODULE_1__["renderMarkdown"]({
            host: this.node,
            source: String(model.data[this.mimeType]),
            trusted: model.trusted,
            resolver: this.resolver,
            sanitizer: this.sanitizer,
            linkHandler: this.linkHandler,
            shouldTypeset: this.isAttached,
            latexTypesetter: this.latexTypesetter
        });
    }
    /**
     * A message handler invoked on an `'after-attach'` message.
     */
    onAfterAttach(msg) {
        if (this.latexTypesetter) {
            this.latexTypesetter.typeset(this.node);
        }
    }
}
/**
 * A widget for displaying SVG content.
 */
class RenderedSVG extends RenderedCommon {
    /**
     * Construct a new rendered SVG widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this.addClass('jp-RenderedSVG');
    }
    /**
     * Render a mime model.
     *
     * @param model - The mime model to render.
     *
     * @returns A promise which resolves when rendering is complete.
     */
    render(model) {
        let metadata = model.metadata[this.mimeType];
        return _renderers__WEBPACK_IMPORTED_MODULE_1__["renderSVG"]({
            host: this.node,
            source: String(model.data[this.mimeType]),
            trusted: model.trusted,
            unconfined: metadata && metadata.unconfined
        });
    }
    /**
     * A message handler invoked on an `'after-attach'` message.
     */
    onAfterAttach(msg) {
        if (this.latexTypesetter) {
            this.latexTypesetter.typeset(this.node);
        }
    }
}
/**
 * A widget for displaying plain text and console text.
 */
class RenderedText extends RenderedCommon {
    /**
     * Construct a new rendered text widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this.addClass('jp-RenderedText');
    }
    /**
     * Render a mime model.
     *
     * @param model - The mime model to render.
     *
     * @returns A promise which resolves when rendering is complete.
     */
    render(model) {
        return _renderers__WEBPACK_IMPORTED_MODULE_1__["renderText"]({
            host: this.node,
            sanitizer: this.sanitizer,
            source: String(model.data[this.mimeType])
        });
    }
}
/**
 * A widget for displaying JavaScript output.
 */
class RenderedJavaScript extends RenderedCommon {
    /**
     * Construct a new rendered text widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this.addClass('jp-RenderedJavaScript');
    }
    /**
     * Render a mime model.
     *
     * @param model - The mime model to render.
     *
     * @returns A promise which resolves when rendering is complete.
     */
    render(model) {
        return _renderers__WEBPACK_IMPORTED_MODULE_1__["renderText"]({
            host: this.node,
            sanitizer: this.sanitizer,
            source: 'JavaScript output is disabled in JupyterLab'
        });
    }
}
//# sourceMappingURL=widgets.js.map

/***/ }),

/***/ "MRPS":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/trusted.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg width='24' height='25' viewBox='0 0 24 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath class='jp-icon2' d='M1.86094 11.4409C0.826448 8.77027 0.863779 6.05764 1.24907 4.19932C2.48206 3.93347 4.08068 3.40347 5.60102 2.8449C7.23549 2.2444 8.85666 1.5815 9.9876 1.09539C11.0597 1.58341 12.6094 2.2444 14.218 2.84339C15.7503 3.41394 17.3995 3.95258 18.7539 4.21385C19.1364 6.07177 19.1709 8.77722 18.139 11.4409C17.0303 14.3032 14.6668 17.1844 9.99999 18.9354C5.3332 17.1844 2.96968 14.3032 1.86094 11.4409Z' transform='translate(2 3)' stroke='%23333333' stroke-width='2'/%3E %3Cpath class='jp-icon2' d='M2.86015 4.86535L0.726549 2.99959L0 3.63045L2.86015 6.13157L8 0.630872L7.27857 0L2.86015 4.86535Z' transform='translate(8 9.86719)' fill='%23333333' stroke='%23333333'/%3E %3C/svg%3E"

/***/ }),

/***/ "MRPSa":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/trusted.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg width=\"24\" height=\"25\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path class=\"jp-icon2\" d=\"M1.86094 11.4409C0.826448 8.77027 0.863779 6.05764 1.24907 4.19932C2.48206 3.93347 4.08068 3.40347 5.60102 2.8449C7.23549 2.2444 8.85666 1.5815 9.9876 1.09539C11.0597 1.58341 12.6094 2.2444 14.218 2.84339C15.7503 3.41394 17.3995 3.95258 18.7539 4.21385C19.1364 6.07177 19.1709 8.77722 18.139 11.4409C17.0303 14.3032 14.6668 17.1844 9.99999 18.9354C5.3332 17.1844 2.96968 14.3032 1.86094 11.4409Z\" transform=\"translate(2 3)\" stroke=\"#333333\" stroke-width=\"2\"/>\n    <path class=\"jp-icon2\" d=\"M2.86015 4.86535L0.726549 2.99959L0 3.63045L2.86015 6.13157L8 0.630872L7.27857 0L2.86015 4.86535Z\" transform=\"translate(8 9.86719)\" fill=\"#333333\" stroke=\"#333333\"/>\n</svg>\n");

/***/ }),

/***/ "MaQl":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/session/index.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const Session = __importStar(__webpack_require__(/*! ./session */ "mbSQ"));
exports.Session = Session;
const SessionAPI = __importStar(__webpack_require__(/*! ./restapi */ "bNYJ"));
exports.SessionAPI = SessionAPI;
__export(__webpack_require__(/*! ./manager */ "q2/4"));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "MdrQ":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/undo.svg ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "MdrQI":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/undo.svg ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "MkW4":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/stop.svg ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg height='18' viewBox='0 0 24 24' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M0 0h24v24H0z' fill='none'/%3E %3Cpath d='M6 6h12v12H6z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "MkW4c":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/stop.svg ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg height=\"18\" viewBox=\"0 0 24 24\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g class=\"jp-icon3\" fill=\"#616161\">\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n        <path d=\"M6 6h12v12H6z\"/>\n    </g>\n</svg>\n");

/***/ }),

/***/ "MuUM":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernelspec/index.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const KernelSpec = __importStar(__webpack_require__(/*! ./kernelspec */ "YepR"));
exports.KernelSpec = KernelSpec;
const KernelSpecAPI = __importStar(__webpack_require__(/*! ./restapi */ "KW/8"));
exports.KernelSpecAPI = KernelSpecAPI;
__export(__webpack_require__(/*! ./manager */ "1tJF"));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "NNvM":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/ellipses.svg ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Ccircle cx='5' cy='12' r='2'/%3E %3Ccircle cx='12' cy='12' r='2'/%3E %3Ccircle cx='19' cy='12' r='2'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "NNvM0":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/ellipses.svg ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <circle cx=\"5\" cy=\"12\" r=\"2\"/>\n    <circle cx=\"12\" cy=\"12\" r=\"2\"/>\n    <circle cx=\"19\" cy=\"12\" r=\"2\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "NiHv":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons.css ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/**\n * Support for icons as inline SVG HTMLElements\n */\n\n/* recolor the primary elements of an icon */\n.jp-icon0[fill] {\n  fill: var(--jp-inverse-layout-color0);\n}\n.jp-icon1[fill] {\n  fill: var(--jp-inverse-layout-color1);\n}\n.jp-icon2[fill] {\n  fill: var(--jp-inverse-layout-color2);\n}\n.jp-icon3[fill] {\n  fill: var(--jp-inverse-layout-color3);\n}\n.jp-icon4[fill] {\n  fill: var(--jp-inverse-layout-color4);\n}\n\n.jp-icon0[stroke] {\n  stroke: var(--jp-inverse-layout-color0);\n}\n.jp-icon1[stroke] {\n  stroke: var(--jp-inverse-layout-color1);\n}\n.jp-icon2[stroke] {\n  stroke: var(--jp-inverse-layout-color2);\n}\n.jp-icon3[stroke] {\n  stroke: var(--jp-inverse-layout-color3);\n}\n.jp-icon4[stroke] {\n  stroke: var(--jp-inverse-layout-color4);\n}\n/* recolor the accent elements of an icon */\n.jp-icon-accent0[fill] {\n  fill: var(--jp-layout-color0);\n}\n.jp-icon-accent1[fill] {\n  fill: var(--jp-layout-color1);\n}\n.jp-icon-accent2[fill] {\n  fill: var(--jp-layout-color2);\n}\n.jp-icon-accent3[fill] {\n  fill: var(--jp-layout-color3);\n}\n.jp-icon-accent4[fill] {\n  fill: var(--jp-layout-color4);\n}\n\n.jp-icon-accent0[stroke] {\n  stroke: var(--jp-layout-color0);\n}\n.jp-icon-accent1[stroke] {\n  stroke: var(--jp-layout-color1);\n}\n.jp-icon-accent2[stroke] {\n  stroke: var(--jp-layout-color2);\n}\n.jp-icon-accent3[stroke] {\n  stroke: var(--jp-layout-color3);\n}\n.jp-icon-accent4[stroke] {\n  stroke: var(--jp-layout-color4);\n}\n/* set the color of an icon to transparent */\n.jp-icon-none[fill] {\n  fill: none;\n}\n\n.jp-icon-none[stroke] {\n  stroke: none;\n}\n/* brand icon colors. Same for light and dark */\n.jp-icon-brand0[fill] {\n  fill: var(--jp-brand-color0);\n}\n.jp-icon-brand1[fill] {\n  fill: var(--jp-brand-color1);\n}\n.jp-icon-brand2[fill] {\n  fill: var(--jp-brand-color2);\n}\n.jp-icon-brand3[fill] {\n  fill: var(--jp-brand-color3);\n}\n.jp-icon-brand4[fill] {\n  fill: var(--jp-brand-color4);\n}\n\n.jp-icon-brand0[stroke] {\n  stroke: var(--jp-brand-color0);\n}\n.jp-icon-brand1[stroke] {\n  stroke: var(--jp-brand-color1);\n}\n.jp-icon-brand2[stroke] {\n  stroke: var(--jp-brand-color2);\n}\n.jp-icon-brand3[stroke] {\n  stroke: var(--jp-brand-color3);\n}\n.jp-icon-brand4[stroke] {\n  stroke: var(--jp-brand-color4);\n}\n/* warn icon colors. Same for light and dark */\n.jp-icon-warn0[fill] {\n  fill: var(--jp-warn-color0);\n}\n.jp-icon-warn1[fill] {\n  fill: var(--jp-warn-color1);\n}\n.jp-icon-warn2[fill] {\n  fill: var(--jp-warn-color2);\n}\n.jp-icon-warn3[fill] {\n  fill: var(--jp-warn-color3);\n}\n\n.jp-icon-warn0[stroke] {\n  stroke: var(--jp-warn-color0);\n}\n.jp-icon-warn1[stroke] {\n  stroke: var(--jp-warn-color1);\n}\n.jp-icon-warn2[stroke] {\n  stroke: var(--jp-warn-color2);\n}\n.jp-icon-warn3[stroke] {\n  stroke: var(--jp-warn-color3);\n}\n/* icon colors that contrast well with each other and most backgrounds */\n.jp-icon-contrast0[fill] {\n  fill: var(--jp-icon-contrast-color0);\n}\n.jp-icon-contrast1[fill] {\n  fill: var(--jp-icon-contrast-color1);\n}\n.jp-icon-contrast2[fill] {\n  fill: var(--jp-icon-contrast-color2);\n}\n.jp-icon-contrast3[fill] {\n  fill: var(--jp-icon-contrast-color3);\n}\n\n.jp-icon-contrast0[stroke] {\n  stroke: var(--jp-icon-contrast-color0);\n}\n.jp-icon-contrast1[stroke] {\n  stroke: var(--jp-icon-contrast-color1);\n}\n.jp-icon-contrast2[stroke] {\n  stroke: var(--jp-icon-contrast-color2);\n}\n.jp-icon-contrast3[stroke] {\n  stroke: var(--jp-icon-contrast-color3);\n}\n\n/* CSS for icons in selected items in the settings editor */\n#setting-editor .jp-PluginList .jp-mod-selected .jp-icon-selectable[fill] {\n  fill: #fff;\n}\n#setting-editor\n  .jp-PluginList\n  .jp-mod-selected\n  .jp-icon-selectable-inverse[fill] {\n  fill: var(--jp-brand-color1);\n}\n\n/* CSS for icons in selected filebrowser listing items */\n.jp-DirListing-item.jp-mod-selected .jp-icon-selectable[fill] {\n  fill: #fff;\n}\n.jp-DirListing-item.jp-mod-selected .jp-icon-selectable-inverse[fill] {\n  fill: var(--jp-brand-color1);\n}\n\n/* CSS for icons in selected tabs in the sidebar tab manager */\n#tab-manager .lm-TabBar-tab.jp-mod-active .jp-icon-selectable[fill] {\n  fill: #fff;\n}\n\n#tab-manager .lm-TabBar-tab.jp-mod-active .jp-icon-selectable-inverse[fill] {\n  fill: var(--jp-brand-color1);\n}\n#tab-manager\n  .lm-TabBar-tab.jp-mod-active\n  .jp-icon-hover\n  :hover\n  .jp-icon-selectable[fill] {\n  fill: var(--jp-brand-color1);\n}\n\n#tab-manager\n  .lm-TabBar-tab.jp-mod-active\n  .jp-icon-hover\n  :hover\n  .jp-icon-selectable-inverse[fill] {\n  fill: #fff;\n}\n\n/**\n * TODO: come up with non css-hack solution for showing the busy icon on top\n *  of the close icon\n * CSS for complex behavior of close icon of tabs in the sidebar tab manager\n */\n#tab-manager\n  .lm-TabBar-tab.jp-mod-dirty\n  > .lm-TabBar-tabCloseIcon\n  > :not(:hover)\n  > .jp-icon3[fill] {\n  fill: none;\n}\n#tab-manager\n  .lm-TabBar-tab.jp-mod-dirty\n  > .lm-TabBar-tabCloseIcon\n  > :not(:hover)\n  > .jp-icon-busy[fill] {\n  fill: var(--jp-inverse-layout-color3);\n}\n\n#tab-manager\n  .lm-TabBar-tab.jp-mod-dirty.jp-mod-active\n  > .lm-TabBar-tabCloseIcon\n  > :not(:hover)\n  > .jp-icon-busy[fill] {\n  fill: #fff;\n}\n\n/**\n* TODO: come up with non css-hack solution for showing the busy icon on top\n*  of the close icon\n* CSS for complex behavior of close icon of tabs in the main area tabbar\n*/\n.lm-DockPanel-tabBar\n  .lm-TabBar-tab.lm-mod-closable.jp-mod-dirty\n  > .lm-TabBar-tabCloseIcon\n  > :not(:hover)\n  > .jp-icon3[fill] {\n  fill: none;\n}\n.lm-DockPanel-tabBar\n  .lm-TabBar-tab.lm-mod-closable.jp-mod-dirty\n  > .lm-TabBar-tabCloseIcon\n  > :not(:hover)\n  > .jp-icon-busy[fill] {\n  fill: var(--jp-inverse-layout-color3);\n}\n\n/* CSS for icons in status bar */\n#jp-main-statusbar .jp-mod-selected .jp-icon-selectable[fill] {\n  fill: #fff;\n}\n\n#jp-main-statusbar .jp-mod-selected .jp-icon-selectable-inverse[fill] {\n  fill: var(--jp-brand-color1);\n}\n/* special handling for splash icon CSS. While the theme CSS reloads during\n   splash, the splash icon can loose theming. To prevent that, we set a\n   default for its color variable */\n:root {\n  --jp-warn-color0: var(--md-orange-700);\n}\n\n/**\n * (DEPRECATED) Support for icons as CSS `background-images`\n */\n.jp-MaterialIcon {\n  min-width: 16px;\n  min-height: 16px;\n  background-size: 16px;\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.jp-Icon {\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: center;\n  margin: auto;\n}\n\n.jp-Icon-16 {\n  min-width: 16px;\n  min-height: 16px;\n  background-size: 16px;\n}\n\n.jp-Icon-18 {\n  min-width: 18px;\n  min-height: 18px;\n  background-size: 18px;\n}\n\n.jp-Icon-20 {\n  min-width: 20px;\n  min-height: 20px;\n  background-size: 20px;\n}\n\n.jp-DragIcon {\n  margin-right: 4px;\n}\n\n/* These are icons still in need of some cleanup */\n\n/*.jp-CloseIcon {*/\n/*  background-image: var(--jp-icon-close);*/\n/*}*/\n\n/*.jp-ConsoleIcon {*/\n/*  background-image: var(--jp-icon-console);*/\n/*}*/\n\n/*.jp-DownloadIcon {*/\n/*  background-image: var(--jp-icon-download);*/\n/*}*/\n\n/*.jp-EditIcon {*/\n/*  background-image: var(--jp-icon-edit);*/\n/*}*/\n\n/*.jp-LinkIcon {*/\n/*  background-image: var(--jp-icon-link);*/\n/*}*/\n\n/*.jp-NewFolderIcon {*/\n/*  background-image: var(--jp-icon-new-folder);*/\n/*}*/\n\n/*.jp-UndoIcon {*/\n/*  background-image: var(--jp-icon-undo);*/\n/*}*/\n", ""]);


/***/ }),

/***/ "O1ZG":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/search.svg ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 18 18' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M12.1,10.9h-0.7l-0.2-0.2c0.8-0.9,1.3-2.2,1.3-3.5c0-3-2.4-5.4-5.4-5.4S1.8,4.2,1.8,7.1s2.4,5.4,5.4,5.4 c1.3,0,2.5-0.5,3.5-1.3l0.2,0.2v0.7l4.1,4.1l1.2-1.2L12.1,10.9z M7.1,10.9c-2.1,0-3.7-1.7-3.7-3.7s1.7-3.7,3.7-3.7s3.7,1.7,3.7,3.7 S9.2,10.9,7.1,10.9z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "O1ZGO":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/search.svg ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 18 18\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M12.1,10.9h-0.7l-0.2-0.2c0.8-0.9,1.3-2.2,1.3-3.5c0-3-2.4-5.4-5.4-5.4S1.8,4.2,1.8,7.1s2.4,5.4,5.4,5.4 c1.3,0,2.5-0.5,3.5-1.3l0.2,0.2v0.7l4.1,4.1l1.2-1.2L12.1,10.9z M7.1,10.9c-2.1,0-3.7-1.7-3.7-3.7s1.7-3.7,3.7-3.7s3.7,1.7,3.7,3.7 S9.2,10.9,7.1,10.9z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "O7jJ":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codemirror/lib/mimetype.js ***!
  \******************************************************************************************/
/*! exports provided: CodeMirrorMimeTypeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeMirrorMimeTypeService", function() { return CodeMirrorMimeTypeService; });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _mode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mode */ "6m1J");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.


/**
 * The mime type service for CodeMirror.
 */
class CodeMirrorMimeTypeService {
    /**
     * Returns a mime type for the given language info.
     *
     * #### Notes
     * If a mime type cannot be found returns the defaul mime type `text/plain`, never `null`.
     */
    getMimeTypeByLanguage(info) {
        let ext = info.file_extension || '';
        return _mode__WEBPACK_IMPORTED_MODULE_1__["Mode"].findBest(info.codemirror_mode || {
            mimetype: info.mimetype,
            name: info.name,
            ext: [ext.split('.').slice(-1)[0]]
        }).mime;
    }
    /**
     * Returns a mime type for the given file path.
     *
     * #### Notes
     * If a mime type cannot be found returns the default mime type `text/plain`, never `null`.
     */
    getMimeTypeByFilePath(path) {
        const ext = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PathExt"].extname(path);
        if (ext === '.ipy') {
            return 'text/x-python';
        }
        else if (ext === '.md') {
            return 'text/x-ipythongfm';
        }
        let mode = _mode__WEBPACK_IMPORTED_MODULE_1__["Mode"].findByFileName(path) || _mode__WEBPACK_IMPORTED_MODULE_1__["Mode"].findBest('');
        return mode.mime;
    }
}
//# sourceMappingURL=mimetype.js.map

/***/ }),

/***/ "O9bM":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager-extension/style/index.css ***!
  \******************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@jupyterlab/docmanager/style/index.css */ "PkFl"), "");
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n", ""]);


/***/ }),

/***/ "OCew":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/settings.js ***!
  \****************************************************************************************/
/*! exports provided: SettingsMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsMenu", function() { return SettingsMenu; });
/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * An extensible Settings menu for the application.
 */
class SettingsMenu extends _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"] {
    /**
     * Construct the settings menu.
     */
    constructor(options) {
        super(options);
        this.menu.title.label = 'Settings';
    }
}
//# sourceMappingURL=settings.js.map

/***/ }),

/***/ "OWai":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/domutils.js ***!
  \****************************************************************************************/
/*! exports provided: DOMUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOMUtils", function() { return DOMUtils; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_domutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/domutils */ "zv5G");
/* harmony import */ var _lumino_domutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_domutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/**
 * The namespace for DOM utilities.
 */
var DOMUtils;
(function (DOMUtils) {
    /**
     * Get the index of the node at a client position, or `-1`.
     */
    function hitTestNodes(nodes, x, y) {
        return _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].findFirstIndex(nodes, node => {
            return _lumino_domutils__WEBPACK_IMPORTED_MODULE_1__["ElementExt"].hitTest(node, x, y);
        });
    }
    DOMUtils.hitTestNodes = hitTestNodes;
    /**
     * Find the first element matching a class name.
     */
    function findElement(parent, className) {
        return parent.querySelector(`.${className}`);
    }
    DOMUtils.findElement = findElement;
    /**
     * Find the first element matching a class name.
     */
    function findElements(parent, className) {
        return parent.getElementsByClassName(className);
    }
    DOMUtils.findElements = findElements;
    /**
     * Create a DOM id with prefix "id-" to solve bug for UUIDs beginning with numbers.
     */
    function createDomID() {
        return `id-${_lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__["UUID"].uuid4()}`;
    }
    DOMUtils.createDomID = createDomID;
})(DOMUtils || (DOMUtils = {}));
//# sourceMappingURL=domutils.js.map

/***/ }),

/***/ "OnP5":
/*!*****************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/icon/iconimports.js ***!
  \*****************************************************************************************************/
/*! exports provided: addIcon, bugIcon, buildIcon, caretDownEmptyIcon, caretDownEmptyThinIcon, caretDownIcon, caretLeftIcon, caretRightIcon, caretUpEmptyThinIcon, caretUpIcon, caseSensitiveIcon, checkIcon, circleEmptyIcon, circleIcon, closeIcon, consoleIcon, copyIcon, cutIcon, downloadIcon, editIcon, ellipsesIcon, extensionIcon, fileIcon, fileUploadIcon, filterListIcon, folderIcon, html5Icon, imageIcon, inspectorIcon, jsonIcon, jupyterFaviconIcon, jupyterIcon, jupyterlabWordmarkIcon, kernelIcon, keyboardIcon, launcherIcon, lineFormIcon, linkIcon, listIcon, markdownIcon, newFolderIcon, notTrustedIcon, notebookIcon, paletteIcon, pasteIcon, pythonIcon, rKernelIcon, reactIcon, refreshIcon, regexIcon, runIcon, runningIcon, saveIcon, searchIcon, settingsIcon, spreadsheetIcon, stopIcon, tabIcon, terminalIcon, textEditorIcon, trustedIcon, undoIcon, vegaIcon, yamlIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addIcon", function() { return addIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bugIcon", function() { return bugIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildIcon", function() { return buildIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caretDownEmptyIcon", function() { return caretDownEmptyIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caretDownEmptyThinIcon", function() { return caretDownEmptyThinIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caretDownIcon", function() { return caretDownIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caretLeftIcon", function() { return caretLeftIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caretRightIcon", function() { return caretRightIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caretUpEmptyThinIcon", function() { return caretUpEmptyThinIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caretUpIcon", function() { return caretUpIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "caseSensitiveIcon", function() { return caseSensitiveIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkIcon", function() { return checkIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "circleEmptyIcon", function() { return circleEmptyIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "circleIcon", function() { return circleIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "closeIcon", function() { return closeIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "consoleIcon", function() { return consoleIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "copyIcon", function() { return copyIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cutIcon", function() { return cutIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "downloadIcon", function() { return downloadIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "editIcon", function() { return editIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ellipsesIcon", function() { return ellipsesIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extensionIcon", function() { return extensionIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fileIcon", function() { return fileIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fileUploadIcon", function() { return fileUploadIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterListIcon", function() { return filterListIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "folderIcon", function() { return folderIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "html5Icon", function() { return html5Icon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "imageIcon", function() { return imageIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inspectorIcon", function() { return inspectorIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "jsonIcon", function() { return jsonIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "jupyterFaviconIcon", function() { return jupyterFaviconIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "jupyterIcon", function() { return jupyterIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "jupyterlabWordmarkIcon", function() { return jupyterlabWordmarkIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "kernelIcon", function() { return kernelIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "keyboardIcon", function() { return keyboardIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "launcherIcon", function() { return launcherIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormIcon", function() { return lineFormIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linkIcon", function() { return linkIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listIcon", function() { return listIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "markdownIcon", function() { return markdownIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "newFolderIcon", function() { return newFolderIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notTrustedIcon", function() { return notTrustedIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notebookIcon", function() { return notebookIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "paletteIcon", function() { return paletteIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pasteIcon", function() { return pasteIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pythonIcon", function() { return pythonIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rKernelIcon", function() { return rKernelIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reactIcon", function() { return reactIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "refreshIcon", function() { return refreshIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "regexIcon", function() { return regexIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "runIcon", function() { return runIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "runningIcon", function() { return runningIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveIcon", function() { return saveIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "searchIcon", function() { return searchIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "settingsIcon", function() { return settingsIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "spreadsheetIcon", function() { return spreadsheetIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stopIcon", function() { return stopIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tabIcon", function() { return tabIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "terminalIcon", function() { return terminalIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "textEditorIcon", function() { return textEditorIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trustedIcon", function() { return trustedIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "undoIcon", function() { return undoIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vegaIcon", function() { return vegaIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "yamlIcon", function() { return yamlIcon; });
/* harmony import */ var _labicon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labicon */ "RTNQ");
/* harmony import */ var _style_icons_toolbar_add_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../style/icons/toolbar/add.svg */ "d0qS5");
/* harmony import */ var _style_icons_toolbar_bug_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../style/icons/toolbar/bug.svg */ "9aREr");
/* harmony import */ var _style_icons_sidebar_build_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../style/icons/sidebar/build.svg */ "D0b+B");
/* harmony import */ var _style_icons_arrow_caret_down_empty_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../style/icons/arrow/caret-down-empty.svg */ "hCOBn");
/* harmony import */ var _style_icons_arrow_caret_down_empty_thin_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../style/icons/arrow/caret-down-empty-thin.svg */ "34zPi");
/* harmony import */ var _style_icons_arrow_caret_down_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../style/icons/arrow/caret-down.svg */ "hcGGu");
/* harmony import */ var _style_icons_arrow_caret_left_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../style/icons/arrow/caret-left.svg */ "G9aAr");
/* harmony import */ var _style_icons_arrow_caret_right_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../style/icons/arrow/caret-right.svg */ "7alHr");
/* harmony import */ var _style_icons_arrow_caret_up_empty_thin_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../style/icons/arrow/caret-up-empty-thin.svg */ "8n1Vc");
/* harmony import */ var _style_icons_arrow_caret_up_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../style/icons/arrow/caret-up.svg */ "0hwSe");
/* harmony import */ var _style_icons_search_case_sensitive_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../style/icons/search/case-sensitive.svg */ "uNO92");
/* harmony import */ var _style_icons_toolbar_check_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../style/icons/toolbar/check.svg */ "czI/S");
/* harmony import */ var _style_icons_toolbar_circle_empty_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../style/icons/toolbar/circle-empty.svg */ "8bJwF");
/* harmony import */ var _style_icons_toolbar_circle_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../style/icons/toolbar/circle.svg */ "quQ5j");
/* harmony import */ var _style_icons_toolbar_close_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../style/icons/toolbar/close.svg */ "mk9+c");
/* harmony import */ var _style_icons_filetype_console_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../style/icons/filetype/console.svg */ "WGM2i");
/* harmony import */ var _style_icons_toolbar_copy_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../style/icons/toolbar/copy.svg */ "9FPD2");
/* harmony import */ var _style_icons_toolbar_cut_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../style/icons/toolbar/cut.svg */ "jd0Ts");
/* harmony import */ var _style_icons_toolbar_download_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../style/icons/toolbar/download.svg */ "W9lbg");
/* harmony import */ var _style_icons_toolbar_edit_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../style/icons/toolbar/edit.svg */ "zG+Oz");
/* harmony import */ var _style_icons_toolbar_ellipses_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../style/icons/toolbar/ellipses.svg */ "NNvM0");
/* harmony import */ var _style_icons_sidebar_extension_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../style/icons/sidebar/extension.svg */ "43H80");
/* harmony import */ var _style_icons_filetype_file_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../style/icons/filetype/file.svg */ "egPut");
/* harmony import */ var _style_icons_toolbar_file_upload_svg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../style/icons/toolbar/file-upload.svg */ "yh0Ht");
/* harmony import */ var _style_icons_toolbar_filter_list_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../style/icons/toolbar/filter-list.svg */ "FTpud");
/* harmony import */ var _style_icons_filetype_folder_svg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../style/icons/filetype/folder.svg */ "s5xsv");
/* harmony import */ var _style_icons_filetype_html5_svg__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../style/icons/filetype/html5.svg */ "+FA6/");
/* harmony import */ var _style_icons_filetype_image_svg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../style/icons/filetype/image.svg */ "4LnRu");
/* harmony import */ var _style_icons_filetype_inspector_svg__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../style/icons/filetype/inspector.svg */ "f1uUs");
/* harmony import */ var _style_icons_filetype_json_svg__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../style/icons/filetype/json.svg */ "wogBm");
/* harmony import */ var _style_icons_jupyter_jupyter_favicon_svg__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../style/icons/jupyter/jupyter-favicon.svg */ "wE//X");
/* harmony import */ var _style_icons_jupyter_jupyter_svg__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../style/icons/jupyter/jupyter.svg */ "D7AG2");
/* harmony import */ var _style_icons_jupyter_jupyterlab_wordmark_svg__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../style/icons/jupyter/jupyterlab-wordmark.svg */ "7K4v2");
/* harmony import */ var _style_icons_statusbar_kernel_svg__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../style/icons/statusbar/kernel.svg */ "GNlTq");
/* harmony import */ var _style_icons_filetype_keyboard_svg__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../style/icons/filetype/keyboard.svg */ "Px9Jp");
/* harmony import */ var _style_icons_filetype_launcher_svg__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../style/icons/filetype/launcher.svg */ "kBEAD");
/* harmony import */ var _style_icons_statusbar_line_form_svg__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../style/icons/statusbar/line-form.svg */ "UHVtG");
/* harmony import */ var _style_icons_toolbar_link_svg__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../style/icons/toolbar/link.svg */ "Q1n9R");
/* harmony import */ var _style_icons_statusbar_list_svg__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../style/icons/statusbar/list.svg */ "Q4iwa");
/* harmony import */ var _style_icons_filetype_markdown_svg__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../style/icons/filetype/markdown.svg */ "vy0vn");
/* harmony import */ var _style_icons_toolbar_new_folder_svg__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../style/icons/toolbar/new-folder.svg */ "glEYY");
/* harmony import */ var _style_icons_statusbar_not_trusted_svg__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../style/icons/statusbar/not-trusted.svg */ "SpBnM");
/* harmony import */ var _style_icons_filetype_notebook_svg__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../style/icons/filetype/notebook.svg */ "9WnfR");
/* harmony import */ var _style_icons_sidebar_palette_svg__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../style/icons/sidebar/palette.svg */ "bt4ZG");
/* harmony import */ var _style_icons_toolbar_paste_svg__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../style/icons/toolbar/paste.svg */ "+Xg4P");
/* harmony import */ var _style_icons_filetype_python_svg__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../style/icons/filetype/python.svg */ "4HTlA");
/* harmony import */ var _style_icons_filetype_r_kernel_svg__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../style/icons/filetype/r-kernel.svg */ "dT8xC");
/* harmony import */ var _style_icons_filetype_react_svg__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../style/icons/filetype/react.svg */ "5xsQc");
/* harmony import */ var _style_icons_toolbar_refresh_svg__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../style/icons/toolbar/refresh.svg */ "Vsf5j");
/* harmony import */ var _style_icons_search_regex_svg__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../style/icons/search/regex.svg */ "U2ACB");
/* harmony import */ var _style_icons_toolbar_run_svg__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../style/icons/toolbar/run.svg */ "5okxD");
/* harmony import */ var _style_icons_sidebar_running_svg__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../../style/icons/sidebar/running.svg */ "5eAW+");
/* harmony import */ var _style_icons_toolbar_save_svg__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../../style/icons/toolbar/save.svg */ "EAFqt");
/* harmony import */ var _style_icons_toolbar_search_svg__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../../style/icons/toolbar/search.svg */ "O1ZGO");
/* harmony import */ var _style_icons_filetype_settings_svg__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../../style/icons/filetype/settings.svg */ "CXpg4");
/* harmony import */ var _style_icons_filetype_spreadsheet_svg__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../style/icons/filetype/spreadsheet.svg */ "vHxmb");
/* harmony import */ var _style_icons_toolbar_stop_svg__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../style/icons/toolbar/stop.svg */ "MkW4c");
/* harmony import */ var _style_icons_sidebar_tab_svg__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../style/icons/sidebar/tab.svg */ "V7oU5");
/* harmony import */ var _style_icons_statusbar_terminal_svg__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../style/icons/statusbar/terminal.svg */ "HC+rC");
/* harmony import */ var _style_icons_filetype_text_editor_svg__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../style/icons/filetype/text-editor.svg */ "m+NtG");
/* harmony import */ var _style_icons_statusbar_trusted_svg__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../style/icons/statusbar/trusted.svg */ "MRPSa");
/* harmony import */ var _style_icons_toolbar_undo_svg__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../style/icons/toolbar/undo.svg */ "MdrQI");
/* harmony import */ var _style_icons_filetype_vega_svg__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../style/icons/filetype/vega.svg */ "r4jbJ");
/* harmony import */ var _style_icons_filetype_yaml_svg__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../style/icons/filetype/yaml.svg */ "DjWye");
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/
/* This file was auto-generated by ensureUiComponents() in @jupyterlab/buildutils */

// icon svg import statements
































































// LabIcon instance construction
const addIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:add', svgstr: _style_icons_toolbar_add_svg__WEBPACK_IMPORTED_MODULE_1__["default"] });
const bugIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:bug', svgstr: _style_icons_toolbar_bug_svg__WEBPACK_IMPORTED_MODULE_2__["default"] });
const buildIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:build', svgstr: _style_icons_sidebar_build_svg__WEBPACK_IMPORTED_MODULE_3__["default"] });
const caretDownEmptyIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:caret-down-empty', svgstr: _style_icons_arrow_caret_down_empty_svg__WEBPACK_IMPORTED_MODULE_4__["default"] });
const caretDownEmptyThinIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:caret-down-empty-thin', svgstr: _style_icons_arrow_caret_down_empty_thin_svg__WEBPACK_IMPORTED_MODULE_5__["default"] });
const caretDownIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:caret-down', svgstr: _style_icons_arrow_caret_down_svg__WEBPACK_IMPORTED_MODULE_6__["default"] });
const caretLeftIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:caret-left', svgstr: _style_icons_arrow_caret_left_svg__WEBPACK_IMPORTED_MODULE_7__["default"] });
const caretRightIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:caret-right', svgstr: _style_icons_arrow_caret_right_svg__WEBPACK_IMPORTED_MODULE_8__["default"] });
const caretUpEmptyThinIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:caret-up-empty-thin', svgstr: _style_icons_arrow_caret_up_empty_thin_svg__WEBPACK_IMPORTED_MODULE_9__["default"] });
const caretUpIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:caret-up', svgstr: _style_icons_arrow_caret_up_svg__WEBPACK_IMPORTED_MODULE_10__["default"] });
const caseSensitiveIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:case-sensitive', svgstr: _style_icons_search_case_sensitive_svg__WEBPACK_IMPORTED_MODULE_11__["default"] });
const checkIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:check', svgstr: _style_icons_toolbar_check_svg__WEBPACK_IMPORTED_MODULE_12__["default"] });
const circleEmptyIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:circle-empty', svgstr: _style_icons_toolbar_circle_empty_svg__WEBPACK_IMPORTED_MODULE_13__["default"] });
const circleIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:circle', svgstr: _style_icons_toolbar_circle_svg__WEBPACK_IMPORTED_MODULE_14__["default"] });
const closeIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:close', svgstr: _style_icons_toolbar_close_svg__WEBPACK_IMPORTED_MODULE_15__["default"] });
const consoleIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:console', svgstr: _style_icons_filetype_console_svg__WEBPACK_IMPORTED_MODULE_16__["default"] });
const copyIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:copy', svgstr: _style_icons_toolbar_copy_svg__WEBPACK_IMPORTED_MODULE_17__["default"] });
const cutIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:cut', svgstr: _style_icons_toolbar_cut_svg__WEBPACK_IMPORTED_MODULE_18__["default"] });
const downloadIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:download', svgstr: _style_icons_toolbar_download_svg__WEBPACK_IMPORTED_MODULE_19__["default"] });
const editIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:edit', svgstr: _style_icons_toolbar_edit_svg__WEBPACK_IMPORTED_MODULE_20__["default"] });
const ellipsesIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:ellipses', svgstr: _style_icons_toolbar_ellipses_svg__WEBPACK_IMPORTED_MODULE_21__["default"] });
const extensionIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:extension', svgstr: _style_icons_sidebar_extension_svg__WEBPACK_IMPORTED_MODULE_22__["default"] });
const fileIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:file', svgstr: _style_icons_filetype_file_svg__WEBPACK_IMPORTED_MODULE_23__["default"] });
const fileUploadIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:file-upload', svgstr: _style_icons_toolbar_file_upload_svg__WEBPACK_IMPORTED_MODULE_24__["default"] });
const filterListIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:filter-list', svgstr: _style_icons_toolbar_filter_list_svg__WEBPACK_IMPORTED_MODULE_25__["default"] });
const folderIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:folder', svgstr: _style_icons_filetype_folder_svg__WEBPACK_IMPORTED_MODULE_26__["default"] });
const html5Icon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:html5', svgstr: _style_icons_filetype_html5_svg__WEBPACK_IMPORTED_MODULE_27__["default"] });
const imageIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:image', svgstr: _style_icons_filetype_image_svg__WEBPACK_IMPORTED_MODULE_28__["default"] });
const inspectorIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:inspector', svgstr: _style_icons_filetype_inspector_svg__WEBPACK_IMPORTED_MODULE_29__["default"] });
const jsonIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:json', svgstr: _style_icons_filetype_json_svg__WEBPACK_IMPORTED_MODULE_30__["default"] });
const jupyterFaviconIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:jupyter-favicon', svgstr: _style_icons_jupyter_jupyter_favicon_svg__WEBPACK_IMPORTED_MODULE_31__["default"] });
const jupyterIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:jupyter', svgstr: _style_icons_jupyter_jupyter_svg__WEBPACK_IMPORTED_MODULE_32__["default"] });
const jupyterlabWordmarkIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:jupyterlab-wordmark', svgstr: _style_icons_jupyter_jupyterlab_wordmark_svg__WEBPACK_IMPORTED_MODULE_33__["default"] });
const kernelIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:kernel', svgstr: _style_icons_statusbar_kernel_svg__WEBPACK_IMPORTED_MODULE_34__["default"] });
const keyboardIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:keyboard', svgstr: _style_icons_filetype_keyboard_svg__WEBPACK_IMPORTED_MODULE_35__["default"] });
const launcherIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:launcher', svgstr: _style_icons_filetype_launcher_svg__WEBPACK_IMPORTED_MODULE_36__["default"] });
const lineFormIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:line-form', svgstr: _style_icons_statusbar_line_form_svg__WEBPACK_IMPORTED_MODULE_37__["default"] });
const linkIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:link', svgstr: _style_icons_toolbar_link_svg__WEBPACK_IMPORTED_MODULE_38__["default"] });
const listIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:list', svgstr: _style_icons_statusbar_list_svg__WEBPACK_IMPORTED_MODULE_39__["default"] });
const markdownIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:markdown', svgstr: _style_icons_filetype_markdown_svg__WEBPACK_IMPORTED_MODULE_40__["default"] });
const newFolderIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:new-folder', svgstr: _style_icons_toolbar_new_folder_svg__WEBPACK_IMPORTED_MODULE_41__["default"] });
const notTrustedIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:not-trusted', svgstr: _style_icons_statusbar_not_trusted_svg__WEBPACK_IMPORTED_MODULE_42__["default"] });
const notebookIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:notebook', svgstr: _style_icons_filetype_notebook_svg__WEBPACK_IMPORTED_MODULE_43__["default"] });
const paletteIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:palette', svgstr: _style_icons_sidebar_palette_svg__WEBPACK_IMPORTED_MODULE_44__["default"] });
const pasteIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:paste', svgstr: _style_icons_toolbar_paste_svg__WEBPACK_IMPORTED_MODULE_45__["default"] });
const pythonIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:python', svgstr: _style_icons_filetype_python_svg__WEBPACK_IMPORTED_MODULE_46__["default"] });
const rKernelIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:r-kernel', svgstr: _style_icons_filetype_r_kernel_svg__WEBPACK_IMPORTED_MODULE_47__["default"] });
const reactIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:react', svgstr: _style_icons_filetype_react_svg__WEBPACK_IMPORTED_MODULE_48__["default"] });
const refreshIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:refresh', svgstr: _style_icons_toolbar_refresh_svg__WEBPACK_IMPORTED_MODULE_49__["default"] });
const regexIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:regex', svgstr: _style_icons_search_regex_svg__WEBPACK_IMPORTED_MODULE_50__["default"] });
const runIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:run', svgstr: _style_icons_toolbar_run_svg__WEBPACK_IMPORTED_MODULE_51__["default"] });
const runningIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:running', svgstr: _style_icons_sidebar_running_svg__WEBPACK_IMPORTED_MODULE_52__["default"] });
const saveIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:save', svgstr: _style_icons_toolbar_save_svg__WEBPACK_IMPORTED_MODULE_53__["default"] });
const searchIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:search', svgstr: _style_icons_toolbar_search_svg__WEBPACK_IMPORTED_MODULE_54__["default"] });
const settingsIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:settings', svgstr: _style_icons_filetype_settings_svg__WEBPACK_IMPORTED_MODULE_55__["default"] });
const spreadsheetIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:spreadsheet', svgstr: _style_icons_filetype_spreadsheet_svg__WEBPACK_IMPORTED_MODULE_56__["default"] });
const stopIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:stop', svgstr: _style_icons_toolbar_stop_svg__WEBPACK_IMPORTED_MODULE_57__["default"] });
const tabIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:tab', svgstr: _style_icons_sidebar_tab_svg__WEBPACK_IMPORTED_MODULE_58__["default"] });
const terminalIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:terminal', svgstr: _style_icons_statusbar_terminal_svg__WEBPACK_IMPORTED_MODULE_59__["default"] });
const textEditorIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:text-editor', svgstr: _style_icons_filetype_text_editor_svg__WEBPACK_IMPORTED_MODULE_60__["default"] });
const trustedIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:trusted', svgstr: _style_icons_statusbar_trusted_svg__WEBPACK_IMPORTED_MODULE_61__["default"] });
const undoIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:undo', svgstr: _style_icons_toolbar_undo_svg__WEBPACK_IMPORTED_MODULE_62__["default"] });
const vegaIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:vega', svgstr: _style_icons_filetype_vega_svg__WEBPACK_IMPORTED_MODULE_63__["default"] });
const yamlIcon = new _labicon__WEBPACK_IMPORTED_MODULE_0__["LabIcon"]({ name: 'ui-components:yaml', svgstr: _style_icons_filetype_yaml_svg__WEBPACK_IMPORTED_MODULE_64__["default"] });
//# sourceMappingURL=iconimports.js.map

/***/ }),

/***/ "P1nB":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/utils.js ***!
  \******************************************************************************************/
/*! exports provided: classes, classesDedupe, getReactAttrs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "classes", function() { return classes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "classesDedupe", function() { return classesDedupe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReactAttrs", function() { return getReactAttrs; });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * Inner works of class combining functions
 */
function _classes(classes) {
    return classes
        .map(c => c && typeof c === 'object'
        ? Object.keys(c).map(key => !!c[key] && key)
        : typeof c === 'string'
            ? c.split(/\s+/)
            : [])
        .reduce((flattened, c) => flattened.concat(c), [])
        .filter(c => !!c);
}
/**
 * Combines classNames.
 *
 * @param classes - A list of classNames
 *
 * @returns A single string with the combined className
 */
function classes(...classes) {
    return _classes(classes).join(' ');
}
/**
 * Combines classNames. Removes all duplicates
 *
 * @param classes - A list of classNames
 *
 * @returns A single string with the combined className
 */
function classesDedupe(...classes) {
    return [...new Set(_classes(classes))].join(' ');
}
/**
 * Translates the attributes of a DOM element into attributes that can
 * be understood by React. Currently not comprehensive, we will add special
 * cases as they become relevant.
 *
 * @param elem - A DOM element
 *
 * @returns An object with key:value pairs that are the React-friendly
 * translation of elem's attributes
 */
function getReactAttrs(elem) {
    return elem.getAttributeNames().reduce((d, name) => {
        if (name === 'style') {
            void 0;
        }
        else if (name.startsWith('data')) {
            d[name] = elem.getAttribute(name);
        }
        else {
            d[_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["Text"].camelCase(name)] = elem.getAttribute(name);
        }
        return d;
    }, {});
}
//# sourceMappingURL=utils.js.map

/***/ }),

/***/ "P2p2":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/mainareawidget.js ***!
  \**********************************************************************************************/
/*! exports provided: MainAreaWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainAreaWidget", function() { return MainAreaWidget; });
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/messaging */ "so/j");
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_messaging__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _spinner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./spinner */ "VpiZ");
/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolbar */ "0nDx");
/* harmony import */ var _domutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./domutils */ "OWai");
/* harmony import */ var _printing__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./printing */ "5OfG");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.






/**
 * A widget meant to be contained in the JupyterLab main area.
 *
 * #### Notes
 * Mirrors all of the `title` attributes of the content.
 * This widget is `closable` by default.
 * This widget is automatically disposed when closed.
 * This widget ensures its own focus when activated.
 */
class MainAreaWidget extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["Widget"] {
    /**
     * Construct a new main area widget.
     *
     * @param options - The options for initializing the widget.
     */
    constructor(options) {
        super(options);
        this._changeGuard = false;
        this._spinner = new _spinner__WEBPACK_IMPORTED_MODULE_2__["Spinner"]();
        this._isRevealed = false;
        this.addClass('jp-MainAreaWidget');
        this.id = _domutils__WEBPACK_IMPORTED_MODULE_4__["DOMUtils"].createDomID();
        const content = (this._content = options.content);
        const toolbar = (this._toolbar = options.toolbar || new _toolbar__WEBPACK_IMPORTED_MODULE_3__["Toolbar"]());
        const spinner = this._spinner;
        const layout = (this.layout = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["BoxLayout"]({ spacing: 0 }));
        layout.direction = 'top-to-bottom';
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["BoxLayout"].setStretch(toolbar, 0);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["BoxLayout"].setStretch(content, 1);
        layout.addWidget(toolbar);
        layout.addWidget(content);
        if (!content.id) {
            content.id = _domutils__WEBPACK_IMPORTED_MODULE_4__["DOMUtils"].createDomID();
        }
        content.node.tabIndex = -1;
        this._updateTitle();
        content.title.changed.connect(this._updateTitle, this);
        this.title.closable = true;
        this.title.changed.connect(this._updateContentTitle, this);
        if (options.reveal) {
            this.node.appendChild(spinner.node);
            this._revealed = options.reveal
                .then(() => {
                if (content.isDisposed) {
                    this.dispose();
                    return;
                }
                content.disposed.connect(() => this.dispose());
                const active = document.activeElement === spinner.node;
                this.node.removeChild(spinner.node);
                spinner.dispose();
                this._isRevealed = true;
                if (active) {
                    this._focusContent();
                }
            })
                .catch(e => {
                // Show a revealed promise error.
                const error = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["Widget"]();
                // Show the error to the user.
                const pre = document.createElement('pre');
                pre.textContent = String(e);
                error.node.appendChild(pre);
                _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["BoxLayout"].setStretch(error, 1);
                this.node.removeChild(spinner.node);
                spinner.dispose();
                content.dispose();
                this._content = null;
                toolbar.dispose();
                this._toolbar = null;
                layout.addWidget(error);
                this._isRevealed = true;
                throw error;
            });
        }
        else {
            // Handle no reveal promise.
            spinner.dispose();
            content.disposed.connect(() => this.dispose());
            this._isRevealed = true;
            this._revealed = Promise.resolve(undefined);
        }
    }
    /**
     * Print method. Defered to content.
     */
    [_printing__WEBPACK_IMPORTED_MODULE_5__["Printing"].symbol]() {
        if (!this._content) {
            return null;
        }
        return _printing__WEBPACK_IMPORTED_MODULE_5__["Printing"].getPrintFunction(this._content);
    }
    /**
     * The content hosted by the widget.
     */
    get content() {
        return this._content;
    }
    /**
     * The toolbar hosted by the widget.
     */
    get toolbar() {
        return this._toolbar;
    }
    /**
     * Whether the content widget or an error is revealed.
     */
    get isRevealed() {
        return this._isRevealed;
    }
    /**
     * A promise that resolves when the widget is revealed.
     */
    get revealed() {
        return this._revealed;
    }
    /**
     * Handle `'activate-request'` messages.
     */
    onActivateRequest(msg) {
        if (this._isRevealed) {
            if (this._content) {
                this._focusContent();
            }
        }
        else {
            this._spinner.node.focus();
        }
    }
    /**
     * Handle `'close-request'` messages.
     */
    onCloseRequest(msg) {
        this.dispose();
    }
    /**
     * Handle `'update-request'` messages by forwarding them to the content.
     */
    onUpdateRequest(msg) {
        if (this._content) {
            _lumino_messaging__WEBPACK_IMPORTED_MODULE_0__["MessageLoop"].sendMessage(this._content, msg);
        }
    }
    /**
     * Update the title based on the attributes of the child widget.
     */
    _updateTitle() {
        if (this._changeGuard || !this.content) {
            return;
        }
        this._changeGuard = true;
        const content = this.content;
        this.title.label = content.title.label;
        this.title.mnemonic = content.title.mnemonic;
        this.title.iconClass = content.title.iconClass;
        this.title.iconLabel = content.title.iconLabel;
        this.title.iconRenderer = content.title.iconRenderer;
        this.title.caption = content.title.caption;
        this.title.className = content.title.className;
        this.title.dataset = content.title.dataset;
        this._changeGuard = false;
    }
    /**
     * Update the content title based on attributes of the main widget.
     */
    _updateContentTitle() {
        if (this._changeGuard || !this.content) {
            return;
        }
        this._changeGuard = true;
        const content = this.content;
        content.title.label = this.title.label;
        content.title.mnemonic = this.title.mnemonic;
        content.title.iconClass = this.title.iconClass;
        content.title.iconLabel = this.title.iconLabel;
        content.title.iconRenderer = this.title.iconRenderer;
        content.title.caption = this.title.caption;
        content.title.className = this.title.className;
        content.title.dataset = this.title.dataset;
        this._changeGuard = false;
    }
    /**
     * Give focus to the content.
     */
    _focusContent() {
        if (!this.content) {
            return;
        }
        // Focus the content node if we aren't already focused on it or a
        // descendent.
        if (!this.content.node.contains(document.activeElement)) {
            this.content.node.focus();
        }
        // Activate the content asynchronously (which may change the focus).
        this.content.activate();
    }
}
//# sourceMappingURL=mainareawidget.js.map

/***/ }),

/***/ "PSyg":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/iconsalt.css ***!
  \**************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/**\n * Support for alt colors for icons as inline SVG HTMLElements\n */\n\n/* alt recolor the primary elements of an icon */\n.jp-icon-alt .jp-icon0[fill] {\n  fill: var(--jp-layout-color0);\n}\n.jp-icon-alt .jp-icon1[fill] {\n  fill: var(--jp-layout-color1);\n}\n.jp-icon-alt .jp-icon2[fill] {\n  fill: var(--jp-layout-color2);\n}\n.jp-icon-alt .jp-icon3[fill] {\n  fill: var(--jp-layout-color3);\n}\n.jp-icon-alt .jp-icon4[fill] {\n  fill: var(--jp-layout-color4);\n}\n\n.jp-icon-alt .jp-icon0[stroke] {\n  stroke: var(--jp-layout-color0);\n}\n.jp-icon-alt .jp-icon1[stroke] {\n  stroke: var(--jp-layout-color1);\n}\n.jp-icon-alt .jp-icon2[stroke] {\n  stroke: var(--jp-layout-color2);\n}\n.jp-icon-alt .jp-icon3[stroke] {\n  stroke: var(--jp-layout-color3);\n}\n.jp-icon-alt .jp-icon4[stroke] {\n  stroke: var(--jp-layout-color4);\n}\n\n/* alt recolor the accent elements of an icon */\n.jp-icon-alt .jp-icon-accent0[fill] {\n  fill: var(--jp-inverse-layout-color0);\n}\n.jp-icon-alt .jp-icon-accent1[fill] {\n  fill: var(--jp-inverse-layout-color1);\n}\n.jp-icon-alt .jp-icon-accent2[fill] {\n  fill: var(--jp-inverse-layout-color2);\n}\n.jp-icon-alt .jp-icon-accent3[fill] {\n  fill: var(--jp-inverse-layout-color3);\n}\n.jp-icon-alt .jp-icon-accent4[fill] {\n  fill: var(--jp-inverse-layout-color4);\n}\n\n.jp-icon-alt .jp-icon-accent0[stroke] {\n  stroke: var(--jp-inverse-layout-color0);\n}\n.jp-icon-alt .jp-icon-accent1[stroke] {\n  stroke: var(--jp-inverse-layout-color1);\n}\n.jp-icon-alt .jp-icon-accent2[stroke] {\n  stroke: var(--jp-inverse-layout-color2);\n}\n.jp-icon-alt .jp-icon-accent3[stroke] {\n  stroke: var(--jp-inverse-layout-color3);\n}\n.jp-icon-alt .jp-icon-accent4[stroke] {\n  stroke: var(--jp-inverse-layout-color4);\n}\n", ""]);


/***/ }),

/***/ "Pi81":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/observables/lib/observablemap.js ***!
  \************************************************************************************************/
/*! exports provided: ObservableMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObservableMap", function() { return ObservableMap; });
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * A concrete implementation of IObservbleMap<T>.
 */
class ObservableMap {
    /**
     * Construct a new observable map.
     */
    constructor(options = {}) {
        this._map = new Map();
        this._changed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__["Signal"](this);
        this._isDisposed = false;
        this._itemCmp = options.itemCmp || Private.itemCmp;
        if (options.values) {
            for (let key in options.values) {
                this._map.set(key, options.values[key]);
            }
        }
    }
    /**
     * The type of the Observable.
     */
    get type() {
        return 'Map';
    }
    /**
     * A signal emitted when the map has changed.
     */
    get changed() {
        return this._changed;
    }
    /**
     * Whether this map has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * The number of key-value pairs in the map.
     */
    get size() {
        return this._map.size;
    }
    /**
     * Set a key-value pair in the map
     *
     * @param key - The key to set.
     *
     * @param value - The value for the key.
     *
     * @returns the old value for the key, or undefined
     *   if that did not exist.
     *
     * @throws if the new value is undefined.
     *
     * #### Notes
     * This is a no-op if the value does not change.
     */
    set(key, value) {
        let oldVal = this._map.get(key);
        if (value === undefined) {
            throw Error('Cannot set an undefined value, use remove');
        }
        // Bail if the value does not change.
        let itemCmp = this._itemCmp;
        if (oldVal !== undefined && itemCmp(oldVal, value)) {
            return oldVal;
        }
        this._map.set(key, value);
        this._changed.emit({
            type: oldVal ? 'change' : 'add',
            key: key,
            oldValue: oldVal,
            newValue: value
        });
        return oldVal;
    }
    /**
     * Get a value for a given key.
     *
     * @param key - the key.
     *
     * @returns the value for that key.
     */
    get(key) {
        return this._map.get(key);
    }
    /**
     * Check whether the map has a key.
     *
     * @param key - the key to check.
     *
     * @returns `true` if the map has the key, `false` otherwise.
     */
    has(key) {
        return this._map.has(key);
    }
    /**
     * Get a list of the keys in the map.
     *
     * @returns - a list of keys.
     */
    keys() {
        let keyList = [];
        this._map.forEach((v, k) => {
            keyList.push(k);
        });
        return keyList;
    }
    /**
     * Get a list of the values in the map.
     *
     * @returns - a list of values.
     */
    values() {
        let valList = [];
        this._map.forEach((v, k) => {
            valList.push(v);
        });
        return valList;
    }
    /**
     * Remove a key from the map
     *
     * @param key - the key to remove.
     *
     * @returns the value of the given key,
     *   or undefined if that does not exist.
     *
     * #### Notes
     * This is a no-op if the value does not change.
     */
    delete(key) {
        let oldVal = this._map.get(key);
        let removed = this._map.delete(key);
        if (removed) {
            this._changed.emit({
                type: 'remove',
                key: key,
                oldValue: oldVal,
                newValue: undefined
            });
        }
        return oldVal;
    }
    /**
     * Set the ObservableMap to an empty map.
     */
    clear() {
        // Delete one by one to emit the correct signals.
        let keyList = this.keys();
        for (let i = 0; i < keyList.length; i++) {
            this.delete(keyList[i]);
        }
    }
    /**
     * Dispose of the resources held by the map.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__["Signal"].clearData(this);
        this._map.clear();
    }
}
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * The default strict equality item comparator.
     */
    function itemCmp(first, second) {
        return first === second;
    }
    Private.itemCmp = itemCmp;
})(Private || (Private = {}));
//# sourceMappingURL=observablemap.js.map

/***/ }),

/***/ "PkFl":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/style/index.css ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@jupyterlab/apputils/style/index.css */ "WVm5"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@jupyterlab/docregistry/style/index.css */ "f9yA"), "");
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n", ""]);


/***/ }),

/***/ "Px9J":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/keyboard.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg fill='%23616161' xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3 jp-icon-selectable' fill='%23616161'%3E %3Cpath d='M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "Px9Jp":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/keyboard.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg fill=\"#616161\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3 jp-icon-selectable\" fill=\"#616161\">\n    <path d=\"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "Q1n9":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/link.svg ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "Q1n9R":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/link.svg ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "Q4iw":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/list.svg ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cpath class='jp-icon2 jp-icon-selectable' fill='%23616161' d='M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z'/%3E %3C/svg%3E"

/***/ }),

/***/ "Q4iwa":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/list.svg ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n    <path class=\"jp-icon2 jp-icon-selectable\" fill=\"#616161\" d=\"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z\"/>\n</svg>");

/***/ }),

/***/ "Q7xl":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/sanitizer.js ***!
  \*****************************************************************************************/
/*! exports provided: defaultSanitizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultSanitizer", function() { return defaultSanitizer; });
/* harmony import */ var sanitize_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sanitize-html */ "a/xI");
/* harmony import */ var sanitize_html__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sanitize_html__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * Helper class that contains regular expressions for inline CSS style validation.
 *
 * Which properties (and values) to allow is largly based on the Google Caja project:
 *   https://github.com/google/caja
 *
 * The regular expressions are largly based on the syntax definition found at
 * https://developer.mozilla.org/en-US/docs/Web/CSS.
 */
class CssProp {
    static reg(r) {
        return new RegExp('^' + r + '$', 'i');
    }
}
/*
 * Numeric base expressions used to help build more complex regular expressions
 */
CssProp.N = {
    integer: `[+-]?[0-9]+`,
    integer_pos: `[+]?[0-9]+`,
    integer_zero_ff: `([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])`,
    number: `[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?`,
    number_pos: `[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?`,
    number_zero_hundred: `[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)`,
    number_zero_one: `[+]?(1([.][0]+)?|0([.][0-9]+)?)`
};
/*
 * Base expressions of common CSS syntax elements
 */
CssProp.B = {
    angle: `(${CssProp.N.number}(deg|rad|grad|turn)|0)`,
    frequency: `${CssProp.N.number}(Hz|kHz)`,
    ident: String.raw `-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,
    len_or_perc: `(0|${CssProp.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,
    length: `(${CssProp.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,
    length_pos: `(${CssProp.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,
    percentage: `${CssProp.N.number}%`,
    percentage_pos: `${CssProp.N.number_pos}%`,
    percentage_zero_hundred: `${CssProp.N.number_zero_hundred}%`,
    string: String.raw `(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,
    time: `${CssProp.N.number}(s|ms)`,
    url: `url\\(.*?\\)`,
    z_index: `[+-]?[0-9]{1,7}`
};
/*
 * Atomic (i.e. not dependant on other regular expresions) sub RegEx segments
 */
CssProp.A = {
    absolute_size: `xx-small|x-small|small|medium|large|x-large|xx-large`,
    attachment: `scroll|fixed|local`,
    bg_origin: `border-box|padding-box|content-box`,
    border_style: `none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset`,
    box: `border-box|padding-box|content-box`,
    display_inside: `auto|block|table|flex|grid`,
    display_outside: `block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption`,
    ending_shape: `circle|ellipse`,
    generic_family: `serif|sans-serif|cursive|fantasy|monospace`,
    generic_voice: `male|female|child`,
    relative_size: `smaller|larger`,
    repeat_style: `repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)`,
    side_or_corner: `(left|right)?\\s*(top|bottom)?`,
    single_animation_direction: `normal|reverse|alternate|alternate-reverse`,
    single_animation_fill_mode: `none|forwards|backwards|both`,
    single_animation_play_state: `running|paused`
};
/*
 * Color definition sub expressions
 */
CssProp._COLOR = {
    hex: `\\#(0x)?[0-9a-f]+`,
    name: `aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen`,
    rgb: String.raw `rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,
    rgba: String.raw `rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${CssProp.N.integer_zero_ff}|${CssProp.N.number_zero_one}|${CssProp.B.percentage_zero_hundred})\s*\)`
};
/*
 * Compound (i.e. dependant on other (sub) regular expresions) sub RegEx segments
 */
CssProp._C = {
    alpha: `${CssProp.N.integer_zero_ff}|${CssProp.N.number_zero_one}|${CssProp.B.percentage_zero_hundred}`,
    alphavalue: CssProp.N.number_zero_one,
    bg_position: `((${CssProp.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,
    bg_size: `(${CssProp.B.length_pos}|${CssProp.B.percentage}|auto){1,2}|cover|contain`,
    border_width: `thin|medium|thick|${CssProp.B.length}`,
    bottom: `${CssProp.B.length}|auto`,
    color: `${CssProp._COLOR.hex}|${CssProp._COLOR.rgb}|${CssProp._COLOR.rgba}|${CssProp._COLOR.name}`,
    family_name: `${CssProp.B.string}|(${CssProp.B.ident}\\s*)+`,
    image_decl: CssProp.B.url,
    left: `${CssProp.B.length}|auto`,
    loose_quotable_words: `(${CssProp.B.ident})+`,
    margin_width: `${CssProp.B.len_or_perc}|auto`,
    padding_width: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,
    page_url: CssProp.B.url,
    position: `((${CssProp.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,
    right: `${CssProp.B.length}|auto`,
    shadow: '',
    size: `closest-side|farthest-side|closest-corner|farthest-corner|${CssProp.B.length}|(${CssProp.B.len_or_perc})\\s+(${CssProp.B.len_or_perc})`,
    top: `${CssProp.B.length}|auto`
};
CssProp._C1 = {
    image_list: `image\\(\\s*(${CssProp.B.url})*\\s*(${CssProp.B.url}|${CssProp._C.color})\\s*\\)`,
    shadow: `((${CssProp._C.color})\\s+((${CssProp.B.length})\\s*){2,4}(\s+inset)?)|((inset\\s+)?((${CssProp.B.length})\\s*){2,4}\\s*(${CssProp._C.color})?)`
};
CssProp._C2 = {
    bg_image: `(${CssProp.B.url}|${CssProp._C1.image_list})|none`,
    image: `${CssProp.B.url}|${CssProp._C1.image_list}`,
    shape: `rect\\(\\s*(${CssProp._C.top})\\s*,\\s*(${CssProp._C.right})\\s*,\\s*(${CssProp._C.bottom})\\s*,\\s*(${CssProp._C.left})\\s*\\)`
};
CssProp.C = Object.assign(Object.assign(Object.assign({}, CssProp._C), CssProp._C1), CssProp._C2);
/*
 * Property value regular expressions not dependant on other sub expressions
 */
CssProp.AP = {
    border_collapse: `collapse|separate`,
    box: `normal|none|contents`,
    box_sizing: `content-box|padding-box|border-box`,
    caption_side: `top|bottom`,
    clear: `none|left|right|both`,
    direction: `ltr|rtl`,
    empty_cells: `show|hide`,
    float: `left|right|none`,
    font_stretch: `normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded`,
    font_style: `normal|italic|oblique`,
    font_variant: `normal|small-caps`,
    font_weight: `normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900`,
    list_style_position: `inside|outside`,
    list_style_type: `disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none`,
    overflow: `visible|hidden|scroll|auto`,
    overflow_wrap: `normal|break-word`,
    overflow_x: `visible|hidden|scroll|auto|no-display|no-content`,
    page_break_after: `auto|always|avoid|left|right`,
    page_break_before: `auto|always|avoid|left|right`,
    page_break_inside: `avoid|auto`,
    position: `static|relative|absolute`,
    resize: `none|both|horizontal|vertical`,
    speak: `normal|none|spell-out`,
    speak_header: `once|always`,
    speak_numeral: `digits|continuous`,
    speak_punctuation: `code|none`,
    table_layout: `auto|fixed`,
    text_align: `left|right|center|justify`,
    text_decoration: `none|((underline|overline|line-through|blink)\\s*)+`,
    text_transform: `capitalize|uppercase|lowercase|none`,
    text_wrap: `normal|unrestricted|none|suppress`,
    unicode_bidi: `normal|embed|bidi-override`,
    visibility: `visible|hidden|collapse`,
    white_space: `normal|pre|nowrap|pre-wrap|pre-line`,
    word_break: `normal|keep-all|break-all`
};
/*
 * Compound propertiy value regular expressions (i.e. dependant on other sub expressions)
 */
CssProp._CP = {
    background_attachment: `${CssProp.A.attachment}(,\\s*${CssProp.A.attachment})*`,
    background_color: CssProp.C.color,
    background_origin: `${CssProp.A.box}(,\\s*${CssProp.A.box})*`,
    background_repeat: `${CssProp.A.repeat_style}(,\\s*${CssProp.A.repeat_style})*`,
    border: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,
    border_radius: `((${CssProp.B.len_or_perc})\\s*){1,4}(\\/\\s*((${CssProp.B.len_or_perc})\\s*){1,4})?`,
    border_spacing: `${CssProp.B.length}\\s*(${CssProp.B.length})?`,
    border_top_color: CssProp.C.color,
    border_top_style: CssProp.A.border_style,
    border_width: `((${CssProp.C.border_width})\\s*){1,4}`,
    color: CssProp.C.color,
    cursor: `(${CssProp.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,
    display: `inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${CssProp.A.display_inside}|${CssProp.A.display_outside}|inherit|inline-box|inline-stack`,
    display_outside: CssProp.A.display_outside,
    elevation: `${CssProp.B.angle}|below|level|above|higher|lower`,
    font_family: `(${CssProp.C.family_name}|${CssProp.A.generic_family})(,\\s*(${CssProp.C.family_name}|${CssProp.A.generic_family}))*`,
    height: `${CssProp.B.length}|${CssProp.B.percentage}|auto`,
    letter_spacing: `normal|${CssProp.B.length}`,
    list_style_image: `${CssProp.C.image}|none`,
    margin_right: CssProp.C.margin_width,
    max_height: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|none|auto`,
    min_height: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`,
    opacity: CssProp.C.alphavalue,
    outline_color: `${CssProp.C.color}|invert`,
    outline_width: CssProp.C.border_width,
    padding: `((${CssProp.C.padding_width})\\s*){1,4}`,
    padding_top: CssProp.C.padding_width,
    pitch_range: CssProp.N.number,
    right: `${CssProp.B.length}|${CssProp.B.percentage}|auto`,
    stress: CssProp.N.number,
    text_indent: `${CssProp.B.length}|${CssProp.B.percentage}`,
    text_shadow: `none|${CssProp.C.shadow}(,\\s*(${CssProp.C.shadow}))*`,
    volume: `${CssProp.N.number_pos}|${CssProp.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,
    word_wrap: CssProp.AP.overflow_wrap,
    zoom: `normal|${CssProp.N.number_pos}|${CssProp.B.percentage_pos}`,
    backface_visibility: CssProp.AP.visibility,
    background_clip: `${CssProp.A.box}(,\\s*(${CssProp.A.box}))*`,
    background_position: `${CssProp.C.bg_position}(,\\s*(${CssProp.C.bg_position}))*`,
    border_bottom_color: CssProp.C.color,
    border_bottom_style: CssProp.A.border_style,
    border_color: `((${CssProp.C.color})\\s*){1,4}`,
    border_left_color: CssProp.C.color,
    border_right_color: CssProp.C.color,
    border_style: `((${CssProp.A.border_style})\\s*){1,4}`,
    border_top_left_radius: `(${CssProp.B.length}|${CssProp.B.percentage})(\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,
    border_top_width: CssProp.C.border_width,
    box_shadow: `none|${CssProp.C.shadow}(,\\s*(${CssProp.C.shadow}))*`,
    clip: `${CssProp.C.shape}|auto`,
    display_inside: CssProp.A.display_inside,
    font_size: `${CssProp.A.absolute_size}|${CssProp.A.relative_size}|${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,
    line_height: `normal|${CssProp.N.number_pos}|${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,
    margin_left: CssProp.C.margin_width,
    max_width: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|none|auto`,
    outline_style: CssProp.A.border_style,
    padding_bottom: CssProp.C.padding_width,
    padding_right: CssProp.C.padding_width,
    perspective: `none|${CssProp.B.length}`,
    richness: CssProp.N.number,
    text_overflow: `((clip|ellipsis|${CssProp.B.string})\\s*){1,2}`,
    top: `${CssProp.B.length}|${CssProp.B.percentage}|auto`,
    width: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`,
    z_index: `auto|${CssProp.B.z_index}`,
    // Simplified background
    background: `(((${CssProp.C.bg_position}\\s*(\\/\\s*${CssProp.C.bg_size})?)|(${CssProp.A.repeat_style})|(${CssProp.A.attachment})|(${CssProp.A.bg_origin})|(${CssProp.C.bg_image})|(${CssProp.C.color}))\\s*)+`,
    background_size: `${CssProp.C.bg_size}(,\\s*${CssProp.C.bg_size})*`,
    border_bottom_left_radius: `(${CssProp.B.length}|${CssProp.B.percentage})(\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,
    border_bottom_width: CssProp.C.border_width,
    border_left_style: CssProp.A.border_style,
    border_right_style: CssProp.A.border_style,
    border_top: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,
    bottom: `${CssProp.B.len_or_perc}|auto`,
    list_style: `((${CssProp.AP.list_style_type}|${CssProp.AP.list_style_position}|${CssProp.C.image}|none})\\s*){1,3}`,
    margin_top: CssProp.C.margin_width,
    outline: `((${CssProp.C.color}|invert|${CssProp.A.border_style}|${CssProp.C.border_width})\\s*){1,3}`,
    overflow_y: CssProp.AP.overflow_x,
    pitch: `${CssProp.B.frequency}|x-low|low|medium|high|x-high`,
    vertical_align: `baseline|sub|super|top|text-top|middle|bottom|text-bottom|${CssProp.B.len_or_perc}`,
    word_spacing: `normal|${CssProp.B.length}`,
    background_image: `${CssProp.C.bg_image}(,\\s*${CssProp.C.bg_image})*`,
    border_bottom_right_radius: `(${CssProp.B.length}|${CssProp.B.percentage})(\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,
    border_left_width: CssProp.C.border_width,
    border_right_width: CssProp.C.border_width,
    left: `${CssProp.B.len_or_perc}|auto`,
    margin_bottom: CssProp.C.margin_width,
    pause_after: `${CssProp.B.time}|${CssProp.B.percentage}`,
    speech_rate: `${CssProp.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,
    transition_duration: `${CssProp.B.time}(,\\s*${CssProp.B.time})*`,
    border_bottom: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,
    border_right: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,
    margin: `((${CssProp.C.margin_width})\\s*){1,4}`,
    padding_left: CssProp.C.padding_width,
    border_left: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,
    quotes: `(${CssProp.B.string}\\s*${CssProp.B.string})+|none`,
    border_top_right_radius: `(${CssProp.B.length}|${CssProp.B.percentage})(\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,
    min_width: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`
};
CssProp._CP1 = {
    font: `(((((${CssProp.AP.font_style}|${CssProp.AP.font_variant}|${CssProp.AP.font_weight})\\s*){1,3})?\\s*(${CssProp._CP.font_size})\\s*(\\/\\s*(${CssProp._CP.line_height}))?\\s+(${CssProp._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`
};
CssProp.CP = Object.assign(Object.assign({}, CssProp._CP), CssProp._CP1);
// CSS Property value validation regular expressions for use with sanitize-html
CssProp.BORDER_COLLAPSE = CssProp.reg(CssProp.AP.border_collapse);
CssProp.BOX = CssProp.reg(CssProp.AP.box);
CssProp.BOX_SIZING = CssProp.reg(CssProp.AP.box_sizing);
CssProp.CAPTION_SIDE = CssProp.reg(CssProp.AP.caption_side);
CssProp.CLEAR = CssProp.reg(CssProp.AP.clear);
CssProp.DIRECTION = CssProp.reg(CssProp.AP.direction);
CssProp.EMPTY_CELLS = CssProp.reg(CssProp.AP.empty_cells);
CssProp.FLOAT = CssProp.reg(CssProp.AP.float);
CssProp.FONT_STRETCH = CssProp.reg(CssProp.AP.font_stretch);
CssProp.FONT_STYLE = CssProp.reg(CssProp.AP.font_style);
CssProp.FONT_VARIANT = CssProp.reg(CssProp.AP.font_variant);
CssProp.FONT_WEIGHT = CssProp.reg(CssProp.AP.font_weight);
CssProp.LIST_STYLE_POSITION = CssProp.reg(CssProp.AP.list_style_position);
CssProp.LIST_STYLE_TYPE = CssProp.reg(CssProp.AP.list_style_type);
CssProp.OVERFLOW = CssProp.reg(CssProp.AP.overflow);
CssProp.OVERFLOW_WRAP = CssProp.reg(CssProp.AP.overflow_wrap);
CssProp.OVERFLOW_X = CssProp.reg(CssProp.AP.overflow_x);
CssProp.PAGE_BREAK_AFTER = CssProp.reg(CssProp.AP.page_break_after);
CssProp.PAGE_BREAK_BEFORE = CssProp.reg(CssProp.AP.page_break_before);
CssProp.PAGE_BREAK_INSIDE = CssProp.reg(CssProp.AP.page_break_inside);
CssProp.POSITION = CssProp.reg(CssProp.AP.position);
CssProp.RESIZE = CssProp.reg(CssProp.AP.resize);
CssProp.SPEAK = CssProp.reg(CssProp.AP.speak);
CssProp.SPEAK_HEADER = CssProp.reg(CssProp.AP.speak_header);
CssProp.SPEAK_NUMERAL = CssProp.reg(CssProp.AP.speak_numeral);
CssProp.SPEAK_PUNCTUATION = CssProp.reg(CssProp.AP.speak_punctuation);
CssProp.TABLE_LAYOUT = CssProp.reg(CssProp.AP.table_layout);
CssProp.TEXT_ALIGN = CssProp.reg(CssProp.AP.text_align);
CssProp.TEXT_DECORATION = CssProp.reg(CssProp.AP.text_decoration);
CssProp.TEXT_TRANSFORM = CssProp.reg(CssProp.AP.text_transform);
CssProp.TEXT_WRAP = CssProp.reg(CssProp.AP.text_wrap);
CssProp.UNICODE_BIDI = CssProp.reg(CssProp.AP.unicode_bidi);
CssProp.VISIBILITY = CssProp.reg(CssProp.AP.visibility);
CssProp.WHITE_SPACE = CssProp.reg(CssProp.AP.white_space);
CssProp.WORD_BREAK = CssProp.reg(CssProp.AP.word_break);
CssProp.BACKGROUND_ATTACHMENT = CssProp.reg(CssProp.CP.background_attachment);
CssProp.BACKGROUND_COLOR = CssProp.reg(CssProp.CP.background_color);
CssProp.BACKGROUND_ORIGIN = CssProp.reg(CssProp.CP.background_origin);
CssProp.BACKGROUND_REPEAT = CssProp.reg(CssProp.CP.background_repeat);
CssProp.BORDER = CssProp.reg(CssProp.CP.border);
CssProp.BORDER_RADIUS = CssProp.reg(CssProp.CP.border_radius);
CssProp.BORDER_SPACING = CssProp.reg(CssProp.CP.border_spacing);
CssProp.BORDER_TOP_COLOR = CssProp.reg(CssProp.CP.border_top_color);
CssProp.BORDER_TOP_STYLE = CssProp.reg(CssProp.CP.border_top_style);
CssProp.BORDER_WIDTH = CssProp.reg(CssProp.CP.border_width);
CssProp.COLOR = CssProp.reg(CssProp.CP.color);
CssProp.CURSOR = CssProp.reg(CssProp.CP.cursor);
CssProp.DISPLAY = CssProp.reg(CssProp.CP.display);
CssProp.DISPLAY_OUTSIDE = CssProp.reg(CssProp.CP.display_outside);
CssProp.ELEVATION = CssProp.reg(CssProp.CP.elevation);
CssProp.FONT_FAMILY = CssProp.reg(CssProp.CP.font_family);
CssProp.HEIGHT = CssProp.reg(CssProp.CP.height);
CssProp.LETTER_SPACING = CssProp.reg(CssProp.CP.letter_spacing);
CssProp.LIST_STYLE_IMAGE = CssProp.reg(CssProp.CP.list_style_image);
CssProp.MARGIN_RIGHT = CssProp.reg(CssProp.CP.margin_right);
CssProp.MAX_HEIGHT = CssProp.reg(CssProp.CP.max_height);
CssProp.MIN_HEIGHT = CssProp.reg(CssProp.CP.min_height);
CssProp.OPACITY = CssProp.reg(CssProp.CP.opacity);
CssProp.OUTLINE_COLOR = CssProp.reg(CssProp.CP.outline_color);
CssProp.OUTLINE_WIDTH = CssProp.reg(CssProp.CP.outline_width);
CssProp.PADDING = CssProp.reg(CssProp.CP.padding);
CssProp.PADDING_TOP = CssProp.reg(CssProp.CP.padding_top);
CssProp.PITCH_RANGE = CssProp.reg(CssProp.CP.pitch_range);
CssProp.RIGHT = CssProp.reg(CssProp.CP.right);
CssProp.STRESS = CssProp.reg(CssProp.CP.stress);
CssProp.TEXT_INDENT = CssProp.reg(CssProp.CP.text_indent);
CssProp.TEXT_SHADOW = CssProp.reg(CssProp.CP.text_shadow);
CssProp.VOLUME = CssProp.reg(CssProp.CP.volume);
CssProp.WORD_WRAP = CssProp.reg(CssProp.CP.word_wrap);
CssProp.ZOOM = CssProp.reg(CssProp.CP.zoom);
CssProp.BACKFACE_VISIBILITY = CssProp.reg(CssProp.CP.backface_visibility);
CssProp.BACKGROUND_CLIP = CssProp.reg(CssProp.CP.background_clip);
CssProp.BACKGROUND_POSITION = CssProp.reg(CssProp.CP.background_position);
CssProp.BORDER_BOTTOM_COLOR = CssProp.reg(CssProp.CP.border_bottom_color);
CssProp.BORDER_BOTTOM_STYLE = CssProp.reg(CssProp.CP.border_bottom_style);
CssProp.BORDER_COLOR = CssProp.reg(CssProp.CP.border_color);
CssProp.BORDER_LEFT_COLOR = CssProp.reg(CssProp.CP.border_left_color);
CssProp.BORDER_RIGHT_COLOR = CssProp.reg(CssProp.CP.border_right_color);
CssProp.BORDER_STYLE = CssProp.reg(CssProp.CP.border_style);
CssProp.BORDER_TOP_LEFT_RADIUS = CssProp.reg(CssProp.CP.border_top_left_radius);
CssProp.BORDER_TOP_WIDTH = CssProp.reg(CssProp.CP.border_top_width);
CssProp.BOX_SHADOW = CssProp.reg(CssProp.CP.box_shadow);
CssProp.CLIP = CssProp.reg(CssProp.CP.clip);
CssProp.DISPLAY_INSIDE = CssProp.reg(CssProp.CP.display_inside);
CssProp.FONT_SIZE = CssProp.reg(CssProp.CP.font_size);
CssProp.LINE_HEIGHT = CssProp.reg(CssProp.CP.line_height);
CssProp.MARGIN_LEFT = CssProp.reg(CssProp.CP.margin_left);
CssProp.MAX_WIDTH = CssProp.reg(CssProp.CP.max_width);
CssProp.OUTLINE_STYLE = CssProp.reg(CssProp.CP.outline_style);
CssProp.PADDING_BOTTOM = CssProp.reg(CssProp.CP.padding_bottom);
CssProp.PADDING_RIGHT = CssProp.reg(CssProp.CP.padding_right);
CssProp.PERSPECTIVE = CssProp.reg(CssProp.CP.perspective);
CssProp.RICHNESS = CssProp.reg(CssProp.CP.richness);
CssProp.TEXT_OVERFLOW = CssProp.reg(CssProp.CP.text_overflow);
CssProp.TOP = CssProp.reg(CssProp.CP.top);
CssProp.WIDTH = CssProp.reg(CssProp.CP.width);
CssProp.Z_INDEX = CssProp.reg(CssProp.CP.z_index);
CssProp.BACKGROUND = CssProp.reg(CssProp.CP.background);
CssProp.BACKGROUND_SIZE = CssProp.reg(CssProp.CP.background_size);
CssProp.BORDER_BOTTOM_LEFT_RADIUS = CssProp.reg(CssProp.CP.border_bottom_left_radius);
CssProp.BORDER_BOTTOM_WIDTH = CssProp.reg(CssProp.CP.border_bottom_width);
CssProp.BORDER_LEFT_STYLE = CssProp.reg(CssProp.CP.border_left_style);
CssProp.BORDER_RIGHT_STYLE = CssProp.reg(CssProp.CP.border_right_style);
CssProp.BORDER_TOP = CssProp.reg(CssProp.CP.border_top);
CssProp.BOTTOM = CssProp.reg(CssProp.CP.bottom);
CssProp.LIST_STYLE = CssProp.reg(CssProp.CP.list_style);
CssProp.MARGIN_TOP = CssProp.reg(CssProp.CP.margin_top);
CssProp.OUTLINE = CssProp.reg(CssProp.CP.outline);
CssProp.OVERFLOW_Y = CssProp.reg(CssProp.CP.overflow_y);
CssProp.PITCH = CssProp.reg(CssProp.CP.pitch);
CssProp.VERTICAL_ALIGN = CssProp.reg(CssProp.CP.vertical_align);
CssProp.WORD_SPACING = CssProp.reg(CssProp.CP.word_spacing);
CssProp.BACKGROUND_IMAGE = CssProp.reg(CssProp.CP.background_image);
CssProp.BORDER_BOTTOM_RIGHT_RADIUS = CssProp.reg(CssProp.CP.border_bottom_right_radius);
CssProp.BORDER_LEFT_WIDTH = CssProp.reg(CssProp.CP.border_left_width);
CssProp.BORDER_RIGHT_WIDTH = CssProp.reg(CssProp.CP.border_right_width);
CssProp.LEFT = CssProp.reg(CssProp.CP.left);
CssProp.MARGIN_BOTTOM = CssProp.reg(CssProp.CP.margin_bottom);
CssProp.PAUSE_AFTER = CssProp.reg(CssProp.CP.pause_after);
CssProp.SPEECH_RATE = CssProp.reg(CssProp.CP.speech_rate);
CssProp.TRANSITION_DURATION = CssProp.reg(CssProp.CP.transition_duration);
CssProp.BORDER_BOTTOM = CssProp.reg(CssProp.CP.border_bottom);
CssProp.BORDER_RIGHT = CssProp.reg(CssProp.CP.border_right);
CssProp.MARGIN = CssProp.reg(CssProp.CP.margin);
CssProp.PADDING_LEFT = CssProp.reg(CssProp.CP.padding_left);
CssProp.BORDER_LEFT = CssProp.reg(CssProp.CP.border_left);
CssProp.FONT = CssProp.reg(CssProp.CP.font);
CssProp.QUOTES = CssProp.reg(CssProp.CP.quotes);
CssProp.BORDER_TOP_RIGHT_RADIUS = CssProp.reg(CssProp.CP.border_top_right_radius);
CssProp.MIN_WIDTH = CssProp.reg(CssProp.CP.min_width);
/**
 * A class to sanitize HTML strings.
 */
class Sanitizer {
    constructor() {
        this._options = {
            // HTML tags that are allowed to be used. Tags were extracted from Google Caja
            allowedTags: [
                'a',
                'abbr',
                'acronym',
                'address',
                'area',
                'article',
                'aside',
                'audio',
                'b',
                'bdi',
                'bdo',
                'big',
                'blockquote',
                'br',
                'button',
                'canvas',
                'caption',
                'center',
                'cite',
                'code',
                'col',
                'colgroup',
                'colspan',
                'command',
                'data',
                'datalist',
                'dd',
                'del',
                'details',
                'dfn',
                'dir',
                'div',
                'dl',
                'dt',
                'em',
                'fieldset',
                'figcaption',
                'figure',
                'font',
                'footer',
                'form',
                'h1',
                'h2',
                'h3',
                'h4',
                'h5',
                'h6',
                'header',
                'hgroup',
                'hr',
                'i',
                // 'iframe' is allowed by Google Caja, but disallowed by default by sanitize-html
                // , 'iframe'
                'img',
                'input',
                'ins',
                'kbd',
                'label',
                'legend',
                'li',
                'map',
                'mark',
                'menu',
                'meter',
                'nav',
                'nobr',
                'ol',
                'optgroup',
                'option',
                'output',
                'p',
                'pre',
                'progress',
                'q',
                'rowspan',
                's',
                'samp',
                'section',
                'select',
                'small',
                'source',
                'span',
                'strike',
                'strong',
                'sub',
                'summary',
                'sup',
                'table',
                'tbody',
                'td',
                'textarea',
                'tfoot',
                'th',
                'thead',
                'time',
                'tr',
                'track',
                'tt',
                'u',
                'ul',
                'var',
                'video',
                'wbr'
            ],
            // Attributes that HTML tags are allowed to have, extracted from Google Caja.
            // See https://github.com/jupyterlab/jupyterlab/issues/1812#issuecomment-285848435
            allowedAttributes: {
                '*': [
                    'class',
                    'dir',
                    'draggable',
                    'hidden',
                    'id',
                    'inert',
                    'itemprop',
                    'itemref',
                    'itemscope',
                    'lang',
                    'spellcheck',
                    'style',
                    'title',
                    'translate'
                ],
                // 'rel' and 'target' were *not* allowed by Google Caja
                a: [
                    'accesskey',
                    'coords',
                    'href',
                    'hreflang',
                    'name',
                    'rel',
                    'shape',
                    'tabindex',
                    'target',
                    'type'
                ],
                area: [
                    'accesskey',
                    'alt',
                    'coords',
                    'href',
                    'nohref',
                    'shape',
                    'tabindex'
                ],
                // 'autoplay' was *not* allowed by Google Caja
                audio: [
                    'autoplay',
                    'controls',
                    'loop',
                    'mediagroup',
                    'muted',
                    'preload',
                    'src'
                ],
                bdo: ['dir'],
                blockquote: ['cite'],
                br: ['clear'],
                button: ['accesskey', 'disabled', 'name', 'tabindex', 'type', 'value'],
                canvas: ['height', 'width'],
                caption: ['align'],
                col: ['align', 'char', 'charoff', 'span', 'valign', 'width'],
                colgroup: ['align', 'char', 'charoff', 'span', 'valign', 'width'],
                command: [
                    'checked',
                    'command',
                    'disabled',
                    'icon',
                    'label',
                    'radiogroup',
                    'type'
                ],
                data: ['value'],
                del: ['cite', 'datetime'],
                details: ['open'],
                dir: ['compact'],
                div: ['align'],
                dl: ['compact'],
                fieldset: ['disabled'],
                font: ['color', 'face', 'size'],
                form: [
                    'accept',
                    'action',
                    'autocomplete',
                    'enctype',
                    'method',
                    'name',
                    'novalidate'
                ],
                h1: ['align'],
                h2: ['align'],
                h3: ['align'],
                h4: ['align'],
                h5: ['align'],
                h6: ['align'],
                hr: ['align', 'noshade', 'size', 'width'],
                iframe: [
                    'align',
                    'frameborder',
                    'height',
                    'marginheight',
                    'marginwidth',
                    'width'
                ],
                img: [
                    'align',
                    'alt',
                    'border',
                    'height',
                    'hspace',
                    'ismap',
                    'name',
                    'src',
                    'usemap',
                    'vspace',
                    'width'
                ],
                input: [
                    'accept',
                    'accesskey',
                    'align',
                    'alt',
                    'autocomplete',
                    'checked',
                    'disabled',
                    'inputmode',
                    'ismap',
                    'list',
                    'max',
                    'maxlength',
                    'min',
                    'multiple',
                    'name',
                    'placeholder',
                    'readonly',
                    'required',
                    'size',
                    'src',
                    'step',
                    'tabindex',
                    'type',
                    'usemap',
                    'value'
                ],
                ins: ['cite', 'datetime'],
                label: ['accesskey', 'for'],
                legend: ['accesskey', 'align'],
                li: ['type', 'value'],
                map: ['name'],
                menu: ['compact', 'label', 'type'],
                meter: ['high', 'low', 'max', 'min', 'value'],
                ol: ['compact', 'reversed', 'start', 'type'],
                optgroup: ['disabled', 'label'],
                option: ['disabled', 'label', 'selected', 'value'],
                output: ['for', 'name'],
                p: ['align'],
                pre: ['width'],
                progress: ['max', 'min', 'value'],
                q: ['cite'],
                select: [
                    'autocomplete',
                    'disabled',
                    'multiple',
                    'name',
                    'required',
                    'size',
                    'tabindex'
                ],
                source: ['type'],
                table: [
                    'align',
                    'bgcolor',
                    'border',
                    'cellpadding',
                    'cellspacing',
                    'frame',
                    'rules',
                    'summary',
                    'width'
                ],
                tbody: ['align', 'char', 'charoff', 'valign'],
                td: [
                    'abbr',
                    'align',
                    'axis',
                    'bgcolor',
                    'char',
                    'charoff',
                    'colspan',
                    'headers',
                    'height',
                    'nowrap',
                    'rowspan',
                    'scope',
                    'valign',
                    'width'
                ],
                textarea: [
                    'accesskey',
                    'autocomplete',
                    'cols',
                    'disabled',
                    'inputmode',
                    'name',
                    'placeholder',
                    'readonly',
                    'required',
                    'rows',
                    'tabindex',
                    'wrap'
                ],
                tfoot: ['align', 'char', 'charoff', 'valign'],
                th: [
                    'abbr',
                    'align',
                    'axis',
                    'bgcolor',
                    'char',
                    'charoff',
                    'colspan',
                    'headers',
                    'height',
                    'nowrap',
                    'rowspan',
                    'scope',
                    'valign',
                    'width'
                ],
                thead: ['align', 'char', 'charoff', 'valign'],
                tr: ['align', 'bgcolor', 'char', 'charoff', 'valign'],
                track: ['default', 'kind', 'label', 'srclang'],
                ul: ['compact', 'type'],
                video: [
                    'autoplay',
                    'controls',
                    'height',
                    'loop',
                    'mediagroup',
                    'muted',
                    'poster',
                    'preload',
                    'src',
                    'width'
                ]
            },
            // Inline CSS styles that HTML tags may have (and their allowed values)
            allowedStyles: {
                // To simplify the data, all styles are allowed on all tags that allow the style attribute
                '*': {
                    'backface-visibility': [CssProp.BACKFACE_VISIBILITY],
                    background: [CssProp.BACKGROUND],
                    'background-attachment': [CssProp.BACKGROUND_ATTACHMENT],
                    'background-clip': [CssProp.BACKGROUND_CLIP],
                    'background-color': [CssProp.BACKGROUND_COLOR],
                    'background-image': [CssProp.BACKGROUND_IMAGE],
                    'background-origin': [CssProp.BACKGROUND_ORIGIN],
                    'background-position': [CssProp.BACKGROUND_POSITION],
                    'background-repeat': [CssProp.BACKGROUND_REPEAT],
                    'background-size': [CssProp.BACKGROUND_SIZE],
                    border: [CssProp.BORDER],
                    'border-bottom': [CssProp.BORDER_BOTTOM],
                    'border-bottom-color': [CssProp.BORDER_BOTTOM_COLOR],
                    'border-bottom-left-radius': [CssProp.BORDER_BOTTOM_LEFT_RADIUS],
                    'border-bottom-right-radius': [CssProp.BORDER_BOTTOM_RIGHT_RADIUS],
                    'border-bottom-style': [CssProp.BORDER_BOTTOM_STYLE],
                    'border-bottom-width': [CssProp.BORDER_BOTTOM_WIDTH],
                    'border-collapse': [CssProp.BORDER_COLLAPSE],
                    'border-color': [CssProp.BORDER_COLOR],
                    'border-left': [CssProp.BORDER_LEFT],
                    'border-left-color': [CssProp.BORDER_LEFT_COLOR],
                    'border-left-style': [CssProp.BORDER_LEFT_STYLE],
                    'border-left-width': [CssProp.BORDER_LEFT_WIDTH],
                    'border-radius': [CssProp.BORDER_RADIUS],
                    'border-right': [CssProp.BORDER_RIGHT],
                    'border-right-color': [CssProp.BORDER_RIGHT_COLOR],
                    'border-right-style': [CssProp.BORDER_RIGHT_STYLE],
                    'border-right-width': [CssProp.BORDER_RIGHT_WIDTH],
                    'border-spacing': [CssProp.BORDER_SPACING],
                    'border-style': [CssProp.BORDER_STYLE],
                    'border-top': [CssProp.BORDER_TOP],
                    'border-top-color': [CssProp.BORDER_TOP_COLOR],
                    'border-top-left-radius': [CssProp.BORDER_TOP_LEFT_RADIUS],
                    'border-top-right-radius': [CssProp.BORDER_TOP_RIGHT_RADIUS],
                    'border-top-style': [CssProp.BORDER_TOP_STYLE],
                    'border-top-width': [CssProp.BORDER_TOP_WIDTH],
                    'border-width': [CssProp.BORDER_WIDTH],
                    bottom: [CssProp.BOTTOM],
                    box: [CssProp.BOX],
                    'box-shadow': [CssProp.BOX_SHADOW],
                    'box-sizing': [CssProp.BOX_SIZING],
                    'caption-side': [CssProp.CAPTION_SIDE],
                    clear: [CssProp.CLEAR],
                    clip: [CssProp.CLIP],
                    color: [CssProp.COLOR],
                    cursor: [CssProp.CURSOR],
                    direction: [CssProp.DIRECTION],
                    display: [CssProp.DISPLAY],
                    'display-inside': [CssProp.DISPLAY_INSIDE],
                    'display-outside': [CssProp.DISPLAY_OUTSIDE],
                    elevation: [CssProp.ELEVATION],
                    'empty-cells': [CssProp.EMPTY_CELLS],
                    float: [CssProp.FLOAT],
                    font: [CssProp.FONT],
                    'font-family': [CssProp.FONT_FAMILY],
                    'font-size': [CssProp.FONT_SIZE],
                    'font-stretch': [CssProp.FONT_STRETCH],
                    'font-style': [CssProp.FONT_STYLE],
                    'font-variant': [CssProp.FONT_VARIANT],
                    'font-weight': [CssProp.FONT_WEIGHT],
                    height: [CssProp.HEIGHT],
                    left: [CssProp.LEFT],
                    'letter-spacing': [CssProp.LETTER_SPACING],
                    'line-height': [CssProp.LINE_HEIGHT],
                    'list-style': [CssProp.LIST_STYLE],
                    'list-style-image': [CssProp.LIST_STYLE_IMAGE],
                    'list-style-position': [CssProp.LIST_STYLE_POSITION],
                    'list-style-type': [CssProp.LIST_STYLE_TYPE],
                    margin: [CssProp.MARGIN],
                    'margin-bottom': [CssProp.MARGIN_BOTTOM],
                    'margin-left': [CssProp.MARGIN_LEFT],
                    'margin-right': [CssProp.MARGIN_RIGHT],
                    'margin-top': [CssProp.MARGIN_TOP],
                    'max-height': [CssProp.MAX_HEIGHT],
                    'max-width': [CssProp.MAX_WIDTH],
                    'min-height': [CssProp.MIN_HEIGHT],
                    'min-width': [CssProp.MIN_WIDTH],
                    opacity: [CssProp.OPACITY],
                    outline: [CssProp.OUTLINE],
                    'outline-color': [CssProp.OUTLINE_COLOR],
                    'outline-style': [CssProp.OUTLINE_STYLE],
                    'outline-width': [CssProp.OUTLINE_WIDTH],
                    overflow: [CssProp.OVERFLOW],
                    'overflow-wrap': [CssProp.OVERFLOW_WRAP],
                    'overflow-x': [CssProp.OVERFLOW_X],
                    'overflow-y': [CssProp.OVERFLOW_Y],
                    padding: [CssProp.PADDING],
                    'padding-bottom': [CssProp.PADDING_BOTTOM],
                    'padding-left': [CssProp.PADDING_LEFT],
                    'padding-right': [CssProp.PADDING_RIGHT],
                    'padding-top': [CssProp.PADDING_TOP],
                    'page-break-after': [CssProp.PAGE_BREAK_AFTER],
                    'page-break-before': [CssProp.PAGE_BREAK_BEFORE],
                    'page-break-inside': [CssProp.PAGE_BREAK_INSIDE],
                    'pause-after': [CssProp.PAUSE_AFTER],
                    perspective: [CssProp.PERSPECTIVE],
                    pitch: [CssProp.PITCH],
                    'pitch-range': [CssProp.PITCH_RANGE],
                    position: [CssProp.POSITION],
                    quotes: [CssProp.QUOTES],
                    resize: [CssProp.RESIZE],
                    richness: [CssProp.RICHNESS],
                    right: [CssProp.RIGHT],
                    speak: [CssProp.SPEAK],
                    'speak-header': [CssProp.SPEAK_HEADER],
                    'speak-numeral': [CssProp.SPEAK_NUMERAL],
                    'speak-punctuation': [CssProp.SPEAK_PUNCTUATION],
                    'speech-rate': [CssProp.SPEECH_RATE],
                    stress: [CssProp.STRESS],
                    'table-layout': [CssProp.TABLE_LAYOUT],
                    'text-align': [CssProp.TEXT_ALIGN],
                    'text-decoration': [CssProp.TEXT_DECORATION],
                    'text-indent': [CssProp.TEXT_INDENT],
                    'text-overflow': [CssProp.TEXT_OVERFLOW],
                    'text-shadow': [CssProp.TEXT_SHADOW],
                    'text-transform': [CssProp.TEXT_TRANSFORM],
                    'text-wrap': [CssProp.TEXT_WRAP],
                    top: [CssProp.TOP],
                    'unicode-bidi': [CssProp.UNICODE_BIDI],
                    'vertical-align': [CssProp.VERTICAL_ALIGN],
                    visibility: [CssProp.VISIBILITY],
                    volume: [CssProp.VOLUME],
                    'white-space': [CssProp.WHITE_SPACE],
                    width: [CssProp.WIDTH],
                    'word-break': [CssProp.WORD_BREAK],
                    'word-spacing': [CssProp.WORD_SPACING],
                    'word-wrap': [CssProp.WORD_WRAP],
                    'z-index': [CssProp.Z_INDEX],
                    zoom: [CssProp.ZOOM]
                }
            },
            transformTags: {
                // Set the "rel" attribute for <a> tags to "nofollow".
                a: sanitize_html__WEBPACK_IMPORTED_MODULE_0___default.a.simpleTransform('a', { rel: 'nofollow' }),
                // Set the "disabled" attribute for <input> tags.
                input: sanitize_html__WEBPACK_IMPORTED_MODULE_0___default.a.simpleTransform('input', { disabled: 'disabled' })
            },
            allowedSchemesByTag: {
                // Allow 'attachment:' img src (used for markdown cell attachments).
                img: sanitize_html__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.allowedSchemes.concat(['attachment'])
            },
            // Override of the default option, so we can skip 'src' attribute validation.
            // 'src' Attributes are validated to be URIs, which does not allow for embedded (image) data.
            // Since embedded data is no longer deemed to be a threat, validation can be skipped.
            // See https://github.com/jupyterlab/jupyterlab/issues/5183
            allowedSchemesAppliedToAttributes: ['href', 'cite']
        };
    }
    /**
     * Sanitize an HTML string.
     *
     * @param dirty - The dirty text.
     *
     * @param options - The optional sanitization options.
     *
     * @returns The sanitized string.
     */
    sanitize(dirty, options) {
        return sanitize_html__WEBPACK_IMPORTED_MODULE_0___default()(dirty, Object.assign(Object.assign({}, this._options), (options || {})));
    }
}
/**
 * The default instance of an `ISanitizer` meant for use by user code.
 */
const defaultSanitizer = new Sanitizer();
//# sourceMappingURL=sanitizer.js.map

/***/ }),

/***/ "QUQA":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/terminal/manager.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const algorithm_1 = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
const polling_1 = __webpack_require__(/*! @lumino/polling */ "iePd");
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const __1 = __webpack_require__(/*! .. */ "YdKB");
const basemanager_1 = __webpack_require__(/*! ../basemanager */ "38F2");
const restapi_1 = __webpack_require__(/*! ./restapi */ "0c6o");
const default_1 = __webpack_require__(/*! ./default */ "jX5N");
/**
 * A terminal session manager.
 */
class TerminalManager extends basemanager_1.BaseManager {
    /**
     * Construct a new terminal manager.
     */
    constructor(options = {}) {
        var _a;
        super(options);
        this._isReady = false;
        // As an optimization, we unwrap the models to just store the names.
        this._names = [];
        this._terminalConnections = new Set();
        this._runningChanged = new signaling_1.Signal(this);
        this._connectionFailure = new signaling_1.Signal(this);
        // Check if terminals are available
        if (!this.isAvailable()) {
            this._ready = Promise.reject('Terminals unavailable');
            this._ready.catch(_ => undefined);
            return;
        }
        // Start polling with exponential backoff.
        this._pollModels = new polling_1.Poll({
            auto: false,
            factory: () => this.requestRunning(),
            frequency: {
                interval: 10 * 1000,
                backoff: true,
                max: 300 * 1000
            },
            name: `@jupyterlab/services:TerminalManager#models`,
            standby: (_a = options.standby, (_a !== null && _a !== void 0 ? _a : 'when-hidden'))
        });
        // Initialize internal data.
        this._ready = (async () => {
            await this._pollModels.start();
            await this._pollModels.tick;
            this._isReady = true;
        })();
    }
    /**
     * Test whether the manager is ready.
     */
    get isReady() {
        return this._isReady;
    }
    /**
     * A promise that fulfills when the manager is ready.
     */
    get ready() {
        return this._ready;
    }
    /**
     * A signal emitted when the running terminals change.
     */
    get runningChanged() {
        return this._runningChanged;
    }
    /**
     * A signal emitted when there is a connection failure.
     */
    get connectionFailure() {
        return this._connectionFailure;
    }
    /**
     * Dispose of the resources used by the manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._names.length = 0;
        this._terminalConnections.forEach(x => x.dispose());
        this._pollModels.dispose();
        super.dispose();
    }
    /**
     * Whether the terminal service is available.
     */
    isAvailable() {
        return restapi_1.isAvailable();
    }
    /*
     * Connect to a running terminal.
     *
     * @param name - The name of the target terminal.
     *
     * @param options - The options used to connect to the terminal.
     *
     * @returns A promise that resolves to the new terminal connection instance.
     *
     * #### Notes
     * The manager `serverSettings` will be used.
     */
    connectTo(options) {
        const terminalConnection = new default_1.TerminalConnection(Object.assign(Object.assign({}, options), { serverSettings: this.serverSettings }));
        this._onStarted(terminalConnection);
        if (!this._names.includes(options.model.name)) {
            // We trust the user to connect to an existing session, but we verify
            // asynchronously.
            void this.refreshRunning().catch(() => {
                /* no-op */
            });
        }
        return terminalConnection;
    }
    /**
     * Create an iterator over the most recent running terminals.
     *
     * @returns A new iterator over the running terminals.
     */
    running() {
        return algorithm_1.iter(this._models);
    }
    /**
     * Force a refresh of the running terminals.
     *
     * @returns A promise that with the list of running terminals.
     *
     * #### Notes
     * This is intended to be called only in response to a user action,
     * since the manager maintains its internal state.
     */
    async refreshRunning() {
        await this._pollModels.refresh();
        await this._pollModels.tick;
    }
    /**
     * Create a new terminal session.
     *
     * @returns A promise that resolves with the terminal instance.
     *
     * #### Notes
     * The manager `serverSettings` will be used unless overridden in the
     * options.
     */
    async startNew() {
        const model = await restapi_1.startNew(this.serverSettings);
        await this.refreshRunning();
        return this.connectTo({ model });
    }
    /**
     * Shut down a terminal session by name.
     */
    async shutdown(name) {
        await restapi_1.shutdownTerminal(name, this.serverSettings);
        await this.refreshRunning();
    }
    /**
     * Shut down all terminal sessions.
     *
     * @returns A promise that resolves when all of the sessions are shut down.
     */
    async shutdownAll() {
        // Update the list of models to make sure our list is current.
        await this.refreshRunning();
        // Shut down all models.
        await Promise.all(this._names.map(name => restapi_1.shutdownTerminal(name, this.serverSettings)));
        // Update the list of models to clear out our state.
        await this.refreshRunning();
    }
    /**
     * Execute a request to the server to poll running terminals and update state.
     */
    async requestRunning() {
        var _a;
        let models;
        try {
            models = await restapi_1.listRunning(this.serverSettings);
        }
        catch (err) {
            // Check for a network error, or a 503 error, which is returned
            // by a JupyterHub when a server is shut down.
            if (err instanceof __1.ServerConnection.NetworkError ||
                ((_a = err.response) === null || _a === void 0 ? void 0 : _a.status) === 503) {
                this._connectionFailure.emit(err);
            }
            throw err;
        }
        if (this.isDisposed) {
            return;
        }
        const names = models.map(({ name }) => name).sort();
        if (names === this._names) {
            // Identical models list, so just return
            return;
        }
        this._names = names;
        this._terminalConnections.forEach(tc => {
            if (!names.includes(tc.name)) {
                tc.dispose();
            }
        });
        this._runningChanged.emit(this._models);
    }
    /**
     * Handle a session starting.
     */
    _onStarted(terminalConnection) {
        this._terminalConnections.add(terminalConnection);
        terminalConnection.disposed.connect(this._onDisposed, this);
    }
    /**
     * Handle a session terminating.
     */
    _onDisposed(terminalConnection) {
        this._terminalConnections.delete(terminalConnection);
        // Update the running models to make sure we reflect the server state
        void this.refreshRunning().catch(() => {
            /* no-op */
        });
    }
    get _models() {
        return this._names.map(name => {
            return { name };
        });
    }
}
exports.TerminalManager = TerminalManager;
//# sourceMappingURL=manager.js.map

/***/ }),

/***/ "QX7d":
/*!*************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/nbformat/lib/index.js ***!
  \*************************************************************************************/
/*! exports provided: MAJOR_VERSION, MINOR_VERSION, validateMimeValue, isRaw, isMarkdown, isCode, isExecuteResult, isDisplayData, isDisplayUpdate, isStream, isError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAJOR_VERSION", function() { return MAJOR_VERSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MINOR_VERSION", function() { return MINOR_VERSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateMimeValue", function() { return validateMimeValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRaw", function() { return isRaw; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMarkdown", function() { return isMarkdown; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isCode", function() { return isCode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isExecuteResult", function() { return isExecuteResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDisplayData", function() { return isDisplayData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDisplayUpdate", function() { return isDisplayUpdate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isStream", function() { return isStream; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isError", function() { return isError; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
// Notebook format interfaces
// https://nbformat.readthedocs.io/en/latest/format_description.html
// https://github.com/jupyter/nbformat/blob/master/nbformat/v4/nbformat.v4.schema.json

/**
 * The major version of the notebook format.
 */
const MAJOR_VERSION = 4;
/**
 * The minor version of the notebook format.
 */
const MINOR_VERSION = 4;
/**
 * Validate a mime type/value pair.
 *
 * @param type - The mimetype name.
 *
 * @param value - The value associated with the type.
 *
 * @returns Whether the type/value pair are valid.
 */
function validateMimeValue(type, value) {
    // Check if "application/json" or "application/foo+json"
    const jsonTest = /^application\/(.*?)+\+json$/;
    const isJSONType = type === 'application/json' || jsonTest.test(type);
    let isString = (x) => {
        return Object.prototype.toString.call(x) === '[object String]';
    };
    // If it is an array, make sure if is not a JSON type and it is an
    // array of strings.
    if (Array.isArray(value)) {
        if (isJSONType) {
            return false;
        }
        let valid = true;
        value.forEach(v => {
            if (!isString(v)) {
                valid = false;
            }
        });
        return valid;
    }
    // If it is a string, make sure we are not a JSON type.
    if (isString(value)) {
        return !isJSONType;
    }
    // It is not a string, make sure it is a JSON type.
    if (!isJSONType) {
        return false;
    }
    // It is a JSON type, make sure it is a valid JSON object.
    return _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["JSONExt"].isObject(value);
}
/**
 * Test whether a cell is a raw cell.
 */
function isRaw(cell) {
    return cell.cell_type === 'raw';
}
/**
 * Test whether a cell is a markdown cell.
 */
function isMarkdown(cell) {
    return cell.cell_type === 'markdown';
}
/**
 * Test whether a cell is a code cell.
 */
function isCode(cell) {
    return cell.cell_type === 'code';
}
/**
 * Test whether an output is an execute result.
 */
function isExecuteResult(output) {
    return output.output_type === 'execute_result';
}
/**
 * Test whether an output is from display data.
 */
function isDisplayData(output) {
    return output.output_type === 'display_data';
}
/**
 * Test whether an output is from updated display data.
 */
function isDisplayUpdate(output) {
    return output.output_type === 'update_display_data';
}
/**
 * Test whether an output is from a stream.
 */
function isStream(output) {
    return output.output_type === 'stream';
}
/**
 * Test whether an output is an error.
 */
function isError(output) {
    return output.output_type === 'error';
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "QgDA":
/*!*****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/deprecated/check-disabled.svg ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161' opacity='0.5'%3E %3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "QhbH":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/components/group.js ***!
  \*************************************************************************************************/
/*! exports provided: GroupItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupItem", function() { return GroupItem; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../style/layout */ "FXLa");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const groupItemLayout = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])(_style_layout__WEBPACK_IMPORTED_MODULE_2__["centeredFlex"], _style_layout__WEBPACK_IMPORTED_MODULE_2__["leftToRight"]);
/**
 * A tsx component for a set of items logically grouped together.
 */
function GroupItem(props) {
    const { spacing, children, className } = props, rest = __rest(props, ["spacing", "children", "className"]);
    const numChildren = react__WEBPACK_IMPORTED_MODULE_0__["Children"].count(children);
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", Object.assign({ className: Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["classes"])(groupItemLayout, className) }, rest), react__WEBPACK_IMPORTED_MODULE_0__["Children"].map(children, (child, i) => {
        if (i === 0) {
            return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { style: { marginRight: `${spacing}px` } }, child);
        }
        else if (i === numChildren - 1) {
            return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { style: { marginLeft: `${spacing}px` } }, child);
        }
        else {
            return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { style: { margin: `0px ${spacing}px` } }, child);
        }
    })));
}
//# sourceMappingURL=group.js.map

/***/ }),

/***/ "Qk35":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/materialcolors.css ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/**\n * google-material-color v1.2.6\n * https://github.com/danlevan/google-material-color\n */\n:root {\n  --md-red-50: #ffebee;\n  --md-red-100: #ffcdd2;\n  --md-red-200: #ef9a9a;\n  --md-red-300: #e57373;\n  --md-red-400: #ef5350;\n  --md-red-500: #f44336;\n  --md-red-600: #e53935;\n  --md-red-700: #d32f2f;\n  --md-red-800: #c62828;\n  --md-red-900: #b71c1c;\n  --md-red-A100: #ff8a80;\n  --md-red-A200: #ff5252;\n  --md-red-A400: #ff1744;\n  --md-red-A700: #d50000;\n\n  --md-pink-50: #fce4ec;\n  --md-pink-100: #f8bbd0;\n  --md-pink-200: #f48fb1;\n  --md-pink-300: #f06292;\n  --md-pink-400: #ec407a;\n  --md-pink-500: #e91e63;\n  --md-pink-600: #d81b60;\n  --md-pink-700: #c2185b;\n  --md-pink-800: #ad1457;\n  --md-pink-900: #880e4f;\n  --md-pink-A100: #ff80ab;\n  --md-pink-A200: #ff4081;\n  --md-pink-A400: #f50057;\n  --md-pink-A700: #c51162;\n\n  --md-purple-50: #f3e5f5;\n  --md-purple-100: #e1bee7;\n  --md-purple-200: #ce93d8;\n  --md-purple-300: #ba68c8;\n  --md-purple-400: #ab47bc;\n  --md-purple-500: #9c27b0;\n  --md-purple-600: #8e24aa;\n  --md-purple-700: #7b1fa2;\n  --md-purple-800: #6a1b9a;\n  --md-purple-900: #4a148c;\n  --md-purple-A100: #ea80fc;\n  --md-purple-A200: #e040fb;\n  --md-purple-A400: #d500f9;\n  --md-purple-A700: #aa00ff;\n\n  --md-deep-purple-50: #ede7f6;\n  --md-deep-purple-100: #d1c4e9;\n  --md-deep-purple-200: #b39ddb;\n  --md-deep-purple-300: #9575cd;\n  --md-deep-purple-400: #7e57c2;\n  --md-deep-purple-500: #673ab7;\n  --md-deep-purple-600: #5e35b1;\n  --md-deep-purple-700: #512da8;\n  --md-deep-purple-800: #4527a0;\n  --md-deep-purple-900: #311b92;\n  --md-deep-purple-A100: #b388ff;\n  --md-deep-purple-A200: #7c4dff;\n  --md-deep-purple-A400: #651fff;\n  --md-deep-purple-A700: #6200ea;\n\n  --md-indigo-50: #e8eaf6;\n  --md-indigo-100: #c5cae9;\n  --md-indigo-200: #9fa8da;\n  --md-indigo-300: #7986cb;\n  --md-indigo-400: #5c6bc0;\n  --md-indigo-500: #3f51b5;\n  --md-indigo-600: #3949ab;\n  --md-indigo-700: #303f9f;\n  --md-indigo-800: #283593;\n  --md-indigo-900: #1a237e;\n  --md-indigo-A100: #8c9eff;\n  --md-indigo-A200: #536dfe;\n  --md-indigo-A400: #3d5afe;\n  --md-indigo-A700: #304ffe;\n\n  --md-blue-50: #e3f2fd;\n  --md-blue-100: #bbdefb;\n  --md-blue-200: #90caf9;\n  --md-blue-300: #64b5f6;\n  --md-blue-400: #42a5f5;\n  --md-blue-500: #2196f3;\n  --md-blue-600: #1e88e5;\n  --md-blue-700: #1976d2;\n  --md-blue-800: #1565c0;\n  --md-blue-900: #0d47a1;\n  --md-blue-A100: #82b1ff;\n  --md-blue-A200: #448aff;\n  --md-blue-A400: #2979ff;\n  --md-blue-A700: #2962ff;\n\n  --md-light-blue-50: #e1f5fe;\n  --md-light-blue-100: #b3e5fc;\n  --md-light-blue-200: #81d4fa;\n  --md-light-blue-300: #4fc3f7;\n  --md-light-blue-400: #29b6f6;\n  --md-light-blue-500: #03a9f4;\n  --md-light-blue-600: #039be5;\n  --md-light-blue-700: #0288d1;\n  --md-light-blue-800: #0277bd;\n  --md-light-blue-900: #01579b;\n  --md-light-blue-A100: #80d8ff;\n  --md-light-blue-A200: #40c4ff;\n  --md-light-blue-A400: #00b0ff;\n  --md-light-blue-A700: #0091ea;\n\n  --md-cyan-50: #e0f7fa;\n  --md-cyan-100: #b2ebf2;\n  --md-cyan-200: #80deea;\n  --md-cyan-300: #4dd0e1;\n  --md-cyan-400: #26c6da;\n  --md-cyan-500: #00bcd4;\n  --md-cyan-600: #00acc1;\n  --md-cyan-700: #0097a7;\n  --md-cyan-800: #00838f;\n  --md-cyan-900: #006064;\n  --md-cyan-A100: #84ffff;\n  --md-cyan-A200: #18ffff;\n  --md-cyan-A400: #00e5ff;\n  --md-cyan-A700: #00b8d4;\n\n  --md-teal-50: #e0f2f1;\n  --md-teal-100: #b2dfdb;\n  --md-teal-200: #80cbc4;\n  --md-teal-300: #4db6ac;\n  --md-teal-400: #26a69a;\n  --md-teal-500: #009688;\n  --md-teal-600: #00897b;\n  --md-teal-700: #00796b;\n  --md-teal-800: #00695c;\n  --md-teal-900: #004d40;\n  --md-teal-A100: #a7ffeb;\n  --md-teal-A200: #64ffda;\n  --md-teal-A400: #1de9b6;\n  --md-teal-A700: #00bfa5;\n\n  --md-green-50: #e8f5e9;\n  --md-green-100: #c8e6c9;\n  --md-green-200: #a5d6a7;\n  --md-green-300: #81c784;\n  --md-green-400: #66bb6a;\n  --md-green-500: #4caf50;\n  --md-green-600: #43a047;\n  --md-green-700: #388e3c;\n  --md-green-800: #2e7d32;\n  --md-green-900: #1b5e20;\n  --md-green-A100: #b9f6ca;\n  --md-green-A200: #69f0ae;\n  --md-green-A400: #00e676;\n  --md-green-A700: #00c853;\n\n  --md-light-green-50: #f1f8e9;\n  --md-light-green-100: #dcedc8;\n  --md-light-green-200: #c5e1a5;\n  --md-light-green-300: #aed581;\n  --md-light-green-400: #9ccc65;\n  --md-light-green-500: #8bc34a;\n  --md-light-green-600: #7cb342;\n  --md-light-green-700: #689f38;\n  --md-light-green-800: #558b2f;\n  --md-light-green-900: #33691e;\n  --md-light-green-A100: #ccff90;\n  --md-light-green-A200: #b2ff59;\n  --md-light-green-A400: #76ff03;\n  --md-light-green-A700: #64dd17;\n\n  --md-lime-50: #f9fbe7;\n  --md-lime-100: #f0f4c3;\n  --md-lime-200: #e6ee9c;\n  --md-lime-300: #dce775;\n  --md-lime-400: #d4e157;\n  --md-lime-500: #cddc39;\n  --md-lime-600: #c0ca33;\n  --md-lime-700: #afb42b;\n  --md-lime-800: #9e9d24;\n  --md-lime-900: #827717;\n  --md-lime-A100: #f4ff81;\n  --md-lime-A200: #eeff41;\n  --md-lime-A400: #c6ff00;\n  --md-lime-A700: #aeea00;\n\n  --md-yellow-50: #fffde7;\n  --md-yellow-100: #fff9c4;\n  --md-yellow-200: #fff59d;\n  --md-yellow-300: #fff176;\n  --md-yellow-400: #ffee58;\n  --md-yellow-500: #ffeb3b;\n  --md-yellow-600: #fdd835;\n  --md-yellow-700: #fbc02d;\n  --md-yellow-800: #f9a825;\n  --md-yellow-900: #f57f17;\n  --md-yellow-A100: #ffff8d;\n  --md-yellow-A200: #ffff00;\n  --md-yellow-A400: #ffea00;\n  --md-yellow-A700: #ffd600;\n\n  --md-amber-50: #fff8e1;\n  --md-amber-100: #ffecb3;\n  --md-amber-200: #ffe082;\n  --md-amber-300: #ffd54f;\n  --md-amber-400: #ffca28;\n  --md-amber-500: #ffc107;\n  --md-amber-600: #ffb300;\n  --md-amber-700: #ffa000;\n  --md-amber-800: #ff8f00;\n  --md-amber-900: #ff6f00;\n  --md-amber-A100: #ffe57f;\n  --md-amber-A200: #ffd740;\n  --md-amber-A400: #ffc400;\n  --md-amber-A700: #ffab00;\n\n  --md-orange-50: #fff3e0;\n  --md-orange-100: #ffe0b2;\n  --md-orange-200: #ffcc80;\n  --md-orange-300: #ffb74d;\n  --md-orange-400: #ffa726;\n  --md-orange-500: #ff9800;\n  --md-orange-600: #fb8c00;\n  --md-orange-700: #f57c00;\n  --md-orange-800: #ef6c00;\n  --md-orange-900: #e65100;\n  --md-orange-A100: #ffd180;\n  --md-orange-A200: #ffab40;\n  --md-orange-A400: #ff9100;\n  --md-orange-A700: #ff6d00;\n\n  --md-deep-orange-50: #fbe9e7;\n  --md-deep-orange-100: #ffccbc;\n  --md-deep-orange-200: #ffab91;\n  --md-deep-orange-300: #ff8a65;\n  --md-deep-orange-400: #ff7043;\n  --md-deep-orange-500: #ff5722;\n  --md-deep-orange-600: #f4511e;\n  --md-deep-orange-700: #e64a19;\n  --md-deep-orange-800: #d84315;\n  --md-deep-orange-900: #bf360c;\n  --md-deep-orange-A100: #ff9e80;\n  --md-deep-orange-A200: #ff6e40;\n  --md-deep-orange-A400: #ff3d00;\n  --md-deep-orange-A700: #dd2c00;\n\n  --md-brown-50: #efebe9;\n  --md-brown-100: #d7ccc8;\n  --md-brown-200: #bcaaa4;\n  --md-brown-300: #a1887f;\n  --md-brown-400: #8d6e63;\n  --md-brown-500: #795548;\n  --md-brown-600: #6d4c41;\n  --md-brown-700: #5d4037;\n  --md-brown-800: #4e342e;\n  --md-brown-900: #3e2723;\n\n  --md-grey-50: #fafafa;\n  --md-grey-100: #f5f5f5;\n  --md-grey-200: #eeeeee;\n  --md-grey-300: #e0e0e0;\n  --md-grey-400: #bdbdbd;\n  --md-grey-500: #9e9e9e;\n  --md-grey-600: #757575;\n  --md-grey-700: #616161;\n  --md-grey-800: #424242;\n  --md-grey-900: #212121;\n\n  --md-blue-grey-50: #eceff1;\n  --md-blue-grey-100: #cfd8dc;\n  --md-blue-grey-200: #b0bec5;\n  --md-blue-grey-300: #90a4ae;\n  --md-blue-grey-400: #78909c;\n  --md-blue-grey-500: #607d8b;\n  --md-blue-grey-600: #546e7a;\n  --md-blue-grey-700: #455a64;\n  --md-blue-grey-800: #37474f;\n  --md-blue-grey-900: #263238;\n}\n", ""]);


/***/ }),

/***/ "QlUk":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/dialog.css ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2017, Jupyter Development Team.\n|\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-Dialog {\n  position: absolute;\n  z-index: 10000;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  top: 0px;\n  left: 0px;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  background: var(--jp-dialog-background);\n}\n\n.jp-Dialog-content {\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  margin-right: auto;\n  background: var(--jp-layout-color1);\n  padding: 24px;\n  padding-bottom: 12px;\n  min-width: 300px;\n  min-height: 150px;\n  max-width: 500px;\n  max-height: 500px;\n  box-sizing: border-box;\n  box-shadow: var(--jp-elevation-z20);\n  word-wrap: break-word;\n  border-radius: var(--jp-border-radius);\n  /* This is needed so that all font sizing of children done in ems is\n   * relative to this base size */\n  font-size: var(--jp-ui-font-size1);\n  color: var(--jp-ui-font-color1);\n}\n\n.jp-Dialog-button {\n  overflow: visible;\n}\n\nbutton.jp-Dialog-button:focus {\n  outline: 1px solid var(--jp-brand-color1);\n  outline-offset: 4px;\n  -moz-outline-radius: 0px;\n}\n\nbutton.jp-Dialog-button:focus::-moz-focus-inner {\n  border: 0;\n}\n\n.jp-Dialog-header {\n  flex: 0 0 auto;\n  padding-bottom: 12px;\n  font-size: var(--jp-ui-font-size3);\n  font-weight: 400;\n  color: var(--jp-ui-font-color0);\n}\n\n.jp-Dialog-body {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  font-size: var(--jp-ui-font-size1);\n  background: var(--jp-layout-color1);\n  overflow: auto;\n}\n\n.jp-Dialog-footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  flex: 0 0 auto;\n  margin-left: -12px;\n  margin-right: -12px;\n  padding: 12px;\n}\n\n.jp-Dialog-title {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.jp-Dialog-body > .jp-select-wrapper {\n  width: 100%;\n}\n\n.jp-Dialog-body > button {\n  padding: 0px 16px;\n}\n\n.jp-Dialog-body > label {\n  line-height: 1.4;\n  color: var(--jp-ui-font-color0);\n}\n\n.jp-Dialog-button.jp-mod-styled:not(:last-child) {\n  margin-right: 12px;\n}\n", ""]);


/***/ }),

/***/ "QmbG":
/*!****************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codemirror/lib/codemirror-ipython.js ***!
  \****************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! codemirror */ "FIRL");
/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var codemirror_mode_meta__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! codemirror/mode/meta */ "OSmx");
/* harmony import */ var codemirror_mode_meta__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_meta__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var codemirror_mode_python_python__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! codemirror/mode/python/python */ "8k45");
/* harmony import */ var codemirror_mode_python_python__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_python_python__WEBPACK_IMPORTED_MODULE_2__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/**
 * Define an IPython codemirror mode.
 *
 * It is a slightly altered Python Mode with a `?` operator.
 */
codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.defineMode('ipython', (config, modeOptions) => {
    let pythonConf = {};
    for (let prop in modeOptions) {
        if (modeOptions.hasOwnProperty(prop)) {
            pythonConf[prop] = modeOptions[prop];
        }
    }
    pythonConf.name = 'python';
    pythonConf.singleOperators = new RegExp('^[\\+\\-\\*/%&|@\\^~<>!\\?]');
    pythonConf.identifiers = new RegExp('^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*');
    return codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.getMode(config, pythonConf);
}, 'python');
codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.defineMIME('text/x-ipython', 'ipython');
codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.modeInfo.push({
    ext: [],
    mime: 'text/x-ipython',
    mode: 'ipython',
    name: 'ipython'
});
//# sourceMappingURL=codemirror-ipython.js.map

/***/ }),

/***/ "RTNQ":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/icon/labicon.js ***!
  \*************************************************************************************************/
/*! exports provided: LabIcon, badIcon, blankIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabIcon", function() { return LabIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "badIcon", function() { return badIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "blankIcon", function() { return blankIcon; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ "Mr4W");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../style */ "rRp0");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ "P1nB");
/* harmony import */ var _style_debug_bad_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../style/debug/bad.svg */ "rum8");
/* harmony import */ var _style_debug_blank_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../style/debug/blank.svg */ "skd/");
/* harmony import */ var _style_icons_toolbar_refresh_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../style/icons/toolbar/refresh.svg */ "Vsf5j");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};










class LabIcon {
    /***********
     * members *
     ***********/
    constructor({ name, svgstr, render, unrender, rendererClass = LabIcon.ElementRenderer, _loading = false }) {
        this._svgReplaced = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        // needed due to the quirks of the current implementation of IRenderer
        this._icon = this;
        this._rendererOptions = {};
        if (!(name && svgstr)) {
            // sanity check failed
            console.error(`When defining a new LabIcon, name and svgstr must both be non-empty strings. name: ${name}, svgstr: ${svgstr}`);
            return badIcon;
        }
        // currently this needs to be set early, before checks for existing icons
        this._loading = _loading;
        // check to see if this is a redefinition of an existing icon
        if (LabIcon._instances.has(name)) {
            // fetch the existing icon, replace its svg, then return it
            const icon = LabIcon._instances.get(name);
            if (this._loading) {
                // replace the placeholder svg in icon
                icon.svgstr = svgstr;
                this._loading = false;
                return icon;
            }
            else {
                // already loaded icon svg exists; replace it and warn
                // TODO: need to see if this warning is useful or just noisy
                console.warn(`Redefining previously loaded icon svgstr. name: ${name}, svgstrOld: ${icon.svgstr}, svgstr: ${svgstr}`);
                icon.svgstr = svgstr;
                return icon;
            }
        }
        this.name = name;
        this._className = Private.nameToClassName(name);
        this.svgstr = svgstr;
        this.react = this._initReact();
        if (render && unrender) {
            this.render = render.bind(this);
            this.unrender = unrender.bind(this);
        }
        else {
            // set render and unrender methods based on the supplied rendererClass
            const renderer = new rendererClass(this);
            this.render = renderer.render.bind(this);
            this.unrender = renderer.unrender.bind(this);
        }
        LabIcon._instances.set(this.name, this);
        // TODO: remove along with UNSTABLE_getReact
        LabIcon._instancesByNameAndClassName.set(this.name, this);
        LabIcon._instancesByNameAndClassName.set(this._className, this);
    }
    /***********
     * statics *
     ***********/
    /**
     * Remove any rendered icon from the element that contains it
     *
     * @param container - a DOM node into which an icon was
     * previously rendered
     *
     * @returns the cleaned container
     */
    static remove(container) {
        // clean up all children
        while (container.firstChild) {
            container.firstChild.remove();
        }
        // remove all classes
        container.className = '';
        return container;
    }
    /**
     * Resolve an icon name or a {name, svgstr} pair into an
     * actual LabIcon.
     *
     * @param icon - either a string with the name of an existing icon
     * or an object with {name: string, svgstr: string} fields.
     *
     * @returns a LabIcon instance
     */
    static resolve({ icon }) {
        if (icon instanceof LabIcon) {
            // icon already is a LabIcon; nothing to do here
            return icon;
        }
        if (typeof icon === 'string') {
            // do a dynamic lookup of existing icon by name
            const resolved = LabIcon._instances.get(icon);
            if (resolved) {
                return resolved;
            }
            // lookup failed
            if (LabIcon._debug) {
                // fail noisily
                console.warn(`Lookup failed for icon, creating loading icon. icon: ${icon}`);
            }
            // no matching icon currently registered, create a new loading icon
            // TODO: find better icon (maybe animate?) for loading icon
            return new LabIcon({ name: icon, svgstr: _style_icons_toolbar_refresh_svg__WEBPACK_IMPORTED_MODULE_9__["default"], _loading: true });
        }
        // icon was provided as a non-LabIcon {name, svgstr} pair, communicating
        // an intention to create a new icon
        return new LabIcon(icon);
    }
    /**
     * Resolve an icon name or a {name, svgstr} pair into a DOM element.
     * If icon arg is undefined, the function will fall back to trying to render
     * the icon as a CSS background image, via the iconClass arg.
     * If both icon and iconClass are undefined, this function will return
     * an empty div.
     *
     * @param icon - optional, either a string with the name of an existing icon
     * or an object with {name: string, svgstr: string} fields
     *
     * @param iconClass - optional, if the icon arg is not set, the iconClass arg
     * should be a CSS class associated with an existing CSS background-image
     *
     * @param fallback - optional, a LabIcon instance that will be used if
     * neither icon nor iconClass are defined
     *
     * @param props - any additional args are passed though to the element method
     * of the resolved icon on render
     *
     * @returns a DOM node with the resolved icon rendered into it
     */
    static resolveElement(_a) {
        var { icon, iconClass, fallback } = _a, props = __rest(_a, ["icon", "iconClass", "fallback"]);
        if (!icon) {
            if (!iconClass && fallback) {
                // if neither icon nor iconClass are defined, use fallback
                return fallback.element(props);
            }
            // set the icon's class to iconClass plus props.className
            props.className = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["classes"])(iconClass, props.className);
            // render icon as css background image, assuming one is set on iconClass
            return Private.blankElement(props);
        }
        return LabIcon.resolve({ icon }).element(props);
    }
    /**
     * Resolve an icon name or a {name, svgstr} pair into a React component.
     * If icon arg is undefined, the function will fall back to trying to render
     * the icon as a CSS background image, via the iconClass arg.
     * If both icon and iconClass are undefined, the returned component
     * will simply render an empty div.
     *
     * @param icon - optional, either a string with the name of an existing icon
     * or an object with {name: string, svgstr: string} fields
     *
     * @param iconClass - optional, if the icon arg is not set, the iconClass arg
     * should be a CSS class associated with an existing CSS background-image
     *
     * @param fallback - optional, a LabIcon instance that will be used if
     * neither icon nor iconClass are defined
     *
     * @param props - any additional args are passed though to the React component
     * of the resolved icon on render
     *
     * @returns a React component that will render the resolved icon
     */
    static resolveReact(_a) {
        var { icon, iconClass, fallback } = _a, props = __rest(_a, ["icon", "iconClass", "fallback"]);
        if (!icon) {
            if (!iconClass && fallback) {
                // if neither icon nor iconClass are defined, use fallback
                return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(fallback.react, Object.assign({}, props));
            }
            // set the icon's class to iconClass plus props.className
            props.className = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["classes"])(iconClass, props.className);
            // render icon as css background image, assuming one is set on iconClass
            return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Private.blankReact, Object.assign({}, props));
        }
        const resolved = LabIcon.resolve({ icon });
        return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(resolved.react, Object.assign({}, props));
    }
    /**
     * Resolve a {name, svgstr} pair into an actual svg node.
     */
    static resolveSvg({ name, svgstr }) {
        const svgDoc = new DOMParser().parseFromString(svgstr, 'image/svg+xml');
        const svgError = svgDoc.querySelector('parsererror');
        // structure of error element varies by browser, search at top level
        if (svgError) {
            // parse failed, svgElement will be an error box
            const errmsg = `SVG HTML was malformed for LabIcon instance.\nname: ${name}, svgstr: ${svgstr}`;
            if (LabIcon._debug) {
                // fail noisily, render the error box
                console.error(errmsg);
                return svgError;
            }
            else {
                // bad svg is always a real error, fail silently but warn
                console.warn(errmsg);
                return null;
            }
        }
        else {
            // parse succeeded
            return svgDoc.documentElement;
        }
    }
    /**
     * Toggle icon debug from off-to-on, or vice-versa.
     *
     * @param debug - optional boolean to force debug on or off
     */
    static toggleDebug(debug) {
        LabIcon._debug = (debug !== null && debug !== void 0 ? debug : !LabIcon._debug);
    }
    /**
     * UNSTABLE - only exists for handling a single special case
     *
     * TODO: Fix the remaining case that relies on this and then
     *   remove this method:
     *     - index.tsx in launcher
     */
    static UNSTABLE_getReact(_a) {
        var { name, fallback } = _a, props = __rest(_a, ["name", "fallback"]);
        for (let className of name.split(/\s+/)) {
            if (LabIcon._instancesByNameAndClassName.has(className)) {
                const icon = LabIcon._instancesByNameAndClassName.get(className);
                return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(icon.react, Object.assign({}, props));
            }
        }
        // lookup failed if execution reached here
        if (LabIcon._debug) {
            // fail noisily
            console.error(`Invalid icon name: ${name}`);
            return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(badIcon.react, Object.assign({}, props));
        }
        else if (fallback) {
            return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(fallback.react, Object.assign({}, props));
        }
        else {
            // try to render the icon as a css background image via iconClass
            return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Private.blankReact, Object.assign({}, props));
        }
    }
    /**
     * UNSTABLE - only exists for handling 2 special cases
     *
     * TODO: Fix the remaining cases that rely on this and then
     *   remove this method:
     *     - shell.ts in application
     *     - widget.tsx in extensionmanager
     */
    static UNSTABLE_style(_a) {
        var { className } = _a, props = __rest(_a, ["className"]);
        return Object(_utils__WEBPACK_IMPORTED_MODULE_6__["classes"])(className, Object(_style__WEBPACK_IMPORTED_MODULE_5__["iconStyle"])(props));
    }
    /**
     * Create an icon as a DOM element
     *
     * @param className - a string that will be used as the class
     * of the container element. Overrides any existing class
     *
     * @param container - a preexisting DOM element that
     * will be used as the container for the svg element
     *
     * @param label - text that will be displayed adjacent
     * to the icon
     *
     * @param title - a tooltip for the icon
     *
     * @param tag - if container is not explicitly
     * provided, this tag will be used when creating the container
     *
     * @param propsStyle - style parameters that get passed to TypeStyle in
     * order to generate a style class. The style class will be added
     * to the icon container's classes, while the style itself will be
     * applied to any svg elements within the container.
     *
     * @returns A DOM element that contains an (inline) svg element
     * that displays an icon
     */
    element(_a = {}) {
        var _b, _c, _d;
        var { className, container, label, title, tag = 'div' } = _a, propsStyle = __rest(_a, ["className", "container", "label", "title", "tag"]);
        // check if icon element is already set
        const maybeSvgElement = (_b = container) === null || _b === void 0 ? void 0 : _b.firstChild;
        if (((_d = (_c = maybeSvgElement) === null || _c === void 0 ? void 0 : _c.dataset) === null || _d === void 0 ? void 0 : _d.iconId) === this._uuid) {
            // return the existing icon element
            return maybeSvgElement;
        }
        // ensure that svg html is valid
        const svgElement = this._initSvg({ uuid: this._uuid });
        if (!svgElement) {
            // bail if failing silently, return blank element
            return document.createElement('div');
        }
        let ret;
        if (container) {
            // take ownership by removing any existing children
            while (container.firstChild) {
                container.firstChild.remove();
            }
            ret = svgElement;
        }
        else {
            // create a container if needed
            container = document.createElement(tag);
            ret = container;
        }
        if (label != null) {
            container.textContent = label;
        }
        Private.initContainer({ container, className, propsStyle, title });
        // add the svg node to the container
        container.appendChild(svgElement);
        return ret;
    }
    get svgstr() {
        return this._svgstr;
    }
    set svgstr(svgstr) {
        this._svgstr = svgstr;
        // associate a new unique id with this particular svgstr
        const uuid = _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["UUID"].uuid4();
        const uuidOld = this._uuid;
        this._uuid = uuid;
        // update icon elements created using .element method
        document
            .querySelectorAll(`[data-icon-id="${uuidOld}"]`)
            .forEach(oldSvgElement => {
            const svgElement = this._initSvg({ uuid });
            if (svgElement) {
                oldSvgElement.replaceWith(svgElement);
            }
        });
        // trigger update of icon elements created using other methods
        this._svgReplaced.emit();
    }
    _initReact() {
        const component = react__WEBPACK_IMPORTED_MODULE_2___default.a.forwardRef((_a = {}, ref) => {
            var { className, container, label, title, tag = 'div' } = _a, propsStyle = __rest(_a, ["className", "container", "label", "title", "tag"]);
            // set up component state via useState hook
            const [, setId] = react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(this._uuid);
            // subscribe to svg replacement via useEffect hook
            react__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect(() => {
                const onSvgReplaced = () => {
                    setId(this._uuid);
                };
                this._svgReplaced.connect(onSvgReplaced);
                // specify cleanup callback as hook return
                return () => {
                    this._svgReplaced.disconnect(onSvgReplaced);
                };
            });
            // make it so that tag can be used as a jsx component
            const Tag = tag;
            // ensure that svg html is valid
            const svgElement = this._initSvg();
            if (!svgElement) {
                // bail if failing silently
                return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null);
            }
            const svgComponent = (react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg", Object.assign({}, Object(_utils__WEBPACK_IMPORTED_MODULE_6__["getReactAttrs"])(svgElement), { dangerouslySetInnerHTML: { __html: svgElement.innerHTML }, ref: ref })));
            if (container) {
                Private.initContainer({ container, className, propsStyle, title });
                return (react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null,
                    svgComponent,
                    label));
            }
            else {
                return (react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Tag, { className: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["classes"])(className, Object(_style__WEBPACK_IMPORTED_MODULE_5__["iconStyle"])(propsStyle)) },
                    svgComponent,
                    label));
            }
        });
        component.displayName = `LabIcon_${this.name}`;
        return component;
    }
    _initSvg({ title, uuid } = {}) {
        const svgElement = LabIcon.resolveSvg(this);
        if (!svgElement) {
            // bail on null svg element
            return svgElement;
        }
        if (svgElement.tagName !== 'parsererror') {
            // svgElement is an actual svg node, augment it
            svgElement.dataset.icon = this.name;
            if (uuid) {
                svgElement.dataset.iconId = uuid;
            }
            if (title) {
                Private.setTitleSvg(svgElement, title);
            }
        }
        return svgElement;
    }
}
LabIcon._debug = false;
LabIcon._instances = new Map();
// TODO: remove this along with UNSTABLE_getReact
LabIcon._instancesByNameAndClassName = new Map();
/**
 * A namespace for LabIcon statics.
 */
(function (LabIcon) {
    /**************
     * interfaces *
     **************/
    /***********
     * classes *
     ***********/
    /**
     * Base implementation of IRenderer.
     */
    class Renderer {
        constructor(_icon, _rendererOptions = {}) {
            this._icon = _icon;
            this._rendererOptions = _rendererOptions;
        }
        // tslint:disable-next-line:no-empty
        render(container, _options = {}) { }
        // TODO: make unrenderer optional once @lumino/virtualdom > 1.4.1 is used
        // tslint:disable-next-line:no-empty
        unrender(container) { }
    }
    LabIcon.Renderer = Renderer;
    /**
     * Implementation of IRenderer that creates the icon svg node
     * as a DOM element.
     */
    class ElementRenderer extends Renderer {
        render(container, _options = {}) {
            // TODO: move this title fix to the Lumino side
            container.removeAttribute('title');
            // TODO: decide how to implement rendering of passed in child virtual nodes
            this._icon.element(Object.assign(Object.assign({ container }, this._rendererOptions.props), _options.props));
        }
        // tslint:disable-next-line:no-empty
        unrender(container) { }
    }
    LabIcon.ElementRenderer = ElementRenderer;
    /**
     * Implementation of IRenderer that creates the icon svg node
     * as a React component.
     */
    class ReactRenderer extends Renderer {
        render(container, _options = {}) {
            // TODO: move this title fix to the Lumino side
            container.removeAttribute('title');
            // TODO: decide how to implement rendering of passed in child virtual nodes
            return react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(this._icon.react, Object.assign({ container: container }, Object.assign(Object.assign({}, this._rendererOptions.props), _options.props))), container);
        }
        unrender(container) {
            react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.unmountComponentAtNode(container);
        }
    }
    LabIcon.ReactRenderer = ReactRenderer;
})(LabIcon || (LabIcon = {}));
var Private;
(function (Private) {
    function blankElement(_a) {
        var _b;
        var { className = '', container, label, title, tag = 'div' } = _a, propsStyle = __rest(_a, ["className", "container", "label", "title", "tag"]);
        if (((_b = container) === null || _b === void 0 ? void 0 : _b.className) === className) {
            // nothing needs doing, return the icon node
            return container;
        }
        if (container) {
            // take ownership by removing any existing children
            while (container.firstChild) {
                container.firstChild.remove();
            }
        }
        else {
            // create a container if needed
            container = document.createElement(tag);
        }
        if (label != null) {
            container.textContent = label;
        }
        Private.initContainer({ container, className, propsStyle, title });
        return container;
    }
    Private.blankElement = blankElement;
    Private.blankReact = react__WEBPACK_IMPORTED_MODULE_2___default.a.forwardRef((_a, ref) => {
        var { className = '', container, label, title, tag = 'div' } = _a, propsStyle = __rest(_a, ["className", "container", "label", "title", "tag"]);
        // make it so that tag can be used as a jsx component
        const Tag = tag;
        if (container) {
            initContainer({ container, className, propsStyle, title });
            return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null);
        }
        else {
            // if ref is defined, we create a blank svg node and point ref to it
            return (react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Tag, { className: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["classes"])(className, Object(_style__WEBPACK_IMPORTED_MODULE_5__["iconStyle"])(propsStyle)) },
                ref && blankIcon.react({ ref }),
                label));
        }
    });
    function initContainer({ container, className, propsStyle, title }) {
        if (title != null) {
            container.title = title;
        }
        const classStyle = Object(_style__WEBPACK_IMPORTED_MODULE_5__["iconStyle"])(propsStyle);
        if (className != null) {
            // override the container class with explicitly passed-in class + style class
            const classResolved = Object(_utils__WEBPACK_IMPORTED_MODULE_6__["classes"])(className, classStyle);
            container.className = classResolved;
            return classResolved;
        }
        else if (classStyle) {
            // add the style class to the container class
            container.classList.add(classStyle);
            return classStyle;
        }
        else {
            return '';
        }
    }
    Private.initContainer = initContainer;
    /**
     * @param name - icon name. May be namespaced as per `some-pkg:foo-bar`
     *
     * @returns given a name of `some-pkg:foo-bar`, returns `jp-FooBarIcon`
     */
    function nameToClassName(name) {
        return 'jp-' + _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_4__["Text"].camelCase(name.split(':').pop(), true) + 'Icon';
    }
    Private.nameToClassName = nameToClassName;
    function setTitleSvg(svgNode, title) {
        // add a title node to the top level svg node
        let titleNodes = svgNode.getElementsByTagName('title');
        if (titleNodes.length) {
            titleNodes[0].textContent = title;
        }
        else {
            let titleNode = document.createElement('title');
            titleNode.textContent = title;
            svgNode.appendChild(titleNode);
        }
    }
    Private.setTitleSvg = setTitleSvg;
})(Private || (Private = {}));
// need to be at the bottom since constructor depends on Private
const badIcon = new LabIcon({
    name: 'ui-components:bad',
    svgstr: _style_debug_bad_svg__WEBPACK_IMPORTED_MODULE_7__["default"]
});
const blankIcon = new LabIcon({
    name: 'ui-components:blank',
    svgstr: _style_debug_blank_svg__WEBPACK_IMPORTED_MODULE_8__["default"]
});
//# sourceMappingURL=labicon.js.map

/***/ }),

/***/ "RnhZ":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "K/tc",
	"./af.js": "K/tc",
	"./ar": "jnO4",
	"./ar-dz": "o1bE",
	"./ar-dz.js": "o1bE",
	"./ar-kw": "Qj4J",
	"./ar-kw.js": "Qj4J",
	"./ar-ly": "HP3h",
	"./ar-ly.js": "HP3h",
	"./ar-ma": "CoRJ",
	"./ar-ma.js": "CoRJ",
	"./ar-sa": "gjCT",
	"./ar-sa.js": "gjCT",
	"./ar-tn": "bYM6",
	"./ar-tn.js": "bYM6",
	"./ar.js": "jnO4",
	"./az": "SFxW",
	"./az.js": "SFxW",
	"./be": "H8ED",
	"./be.js": "H8ED",
	"./bg": "hKrs",
	"./bg.js": "hKrs",
	"./bm": "p/rL",
	"./bm.js": "p/rL",
	"./bn": "kEOa",
	"./bn.js": "kEOa",
	"./bo": "0mo+",
	"./bo.js": "0mo+",
	"./br": "aIdf",
	"./br.js": "aIdf",
	"./bs": "JVSJ",
	"./bs.js": "JVSJ",
	"./ca": "1xZ4",
	"./ca.js": "1xZ4",
	"./cs": "PA2r",
	"./cs.js": "PA2r",
	"./cv": "A+xa",
	"./cv.js": "A+xa",
	"./cy": "l5ep",
	"./cy.js": "l5ep",
	"./da": "DxQv",
	"./da.js": "DxQv",
	"./de": "tGlX",
	"./de-at": "s+uk",
	"./de-at.js": "s+uk",
	"./de-ch": "u3GI",
	"./de-ch.js": "u3GI",
	"./de.js": "tGlX",
	"./dv": "WYrj",
	"./dv.js": "WYrj",
	"./el": "jUeY",
	"./el.js": "jUeY",
	"./en-SG": "zavE",
	"./en-SG.js": "zavE",
	"./en-au": "Dmvi",
	"./en-au.js": "Dmvi",
	"./en-ca": "OIYi",
	"./en-ca.js": "OIYi",
	"./en-gb": "Oaa7",
	"./en-gb.js": "Oaa7",
	"./en-ie": "4dOw",
	"./en-ie.js": "4dOw",
	"./en-il": "czMo",
	"./en-il.js": "czMo",
	"./en-nz": "b1Dy",
	"./en-nz.js": "b1Dy",
	"./eo": "Zduo",
	"./eo.js": "Zduo",
	"./es": "iYuL",
	"./es-do": "CjzT",
	"./es-do.js": "CjzT",
	"./es-us": "Vclq",
	"./es-us.js": "Vclq",
	"./es.js": "iYuL",
	"./et": "7BjC",
	"./et.js": "7BjC",
	"./eu": "D/JM",
	"./eu.js": "D/JM",
	"./fa": "jfSC",
	"./fa.js": "jfSC",
	"./fi": "gekB",
	"./fi.js": "gekB",
	"./fo": "ByF4",
	"./fo.js": "ByF4",
	"./fr": "nyYc",
	"./fr-ca": "2fjn",
	"./fr-ca.js": "2fjn",
	"./fr-ch": "Dkky",
	"./fr-ch.js": "Dkky",
	"./fr.js": "nyYc",
	"./fy": "cRix",
	"./fy.js": "cRix",
	"./ga": "USCx",
	"./ga.js": "USCx",
	"./gd": "9rRi",
	"./gd.js": "9rRi",
	"./gl": "iEDd",
	"./gl.js": "iEDd",
	"./gom-latn": "DKr+",
	"./gom-latn.js": "DKr+",
	"./gu": "4MV3",
	"./gu.js": "4MV3",
	"./he": "x6pH",
	"./he.js": "x6pH",
	"./hi": "3E1r",
	"./hi.js": "3E1r",
	"./hr": "S6ln",
	"./hr.js": "S6ln",
	"./hu": "WxRl",
	"./hu.js": "WxRl",
	"./hy-am": "1rYy",
	"./hy-am.js": "1rYy",
	"./id": "UDhR",
	"./id.js": "UDhR",
	"./is": "BVg3",
	"./is.js": "BVg3",
	"./it": "bpih",
	"./it-ch": "bxKX",
	"./it-ch.js": "bxKX",
	"./it.js": "bpih",
	"./ja": "B55N",
	"./ja.js": "B55N",
	"./jv": "tUCv",
	"./jv.js": "tUCv",
	"./ka": "IBtZ",
	"./ka.js": "IBtZ",
	"./kk": "bXm7",
	"./kk.js": "bXm7",
	"./km": "6B0Y",
	"./km.js": "6B0Y",
	"./kn": "PpIw",
	"./kn.js": "PpIw",
	"./ko": "Ivi+",
	"./ko.js": "Ivi+",
	"./ku": "JCF/",
	"./ku.js": "JCF/",
	"./ky": "lgnt",
	"./ky.js": "lgnt",
	"./lb": "RAwQ",
	"./lb.js": "RAwQ",
	"./lo": "sp3z",
	"./lo.js": "sp3z",
	"./lt": "JvlW",
	"./lt.js": "JvlW",
	"./lv": "uXwI",
	"./lv.js": "uXwI",
	"./me": "KTz0",
	"./me.js": "KTz0",
	"./mi": "aIsn",
	"./mi.js": "aIsn",
	"./mk": "aQkU",
	"./mk.js": "aQkU",
	"./ml": "AvvY",
	"./ml.js": "AvvY",
	"./mn": "lYtQ",
	"./mn.js": "lYtQ",
	"./mr": "Ob0Z",
	"./mr.js": "Ob0Z",
	"./ms": "6+QB",
	"./ms-my": "ZAMP",
	"./ms-my.js": "ZAMP",
	"./ms.js": "6+QB",
	"./mt": "G0Uy",
	"./mt.js": "G0Uy",
	"./my": "honF",
	"./my.js": "honF",
	"./nb": "bOMt",
	"./nb.js": "bOMt",
	"./ne": "OjkT",
	"./ne.js": "OjkT",
	"./nl": "+s0g",
	"./nl-be": "2ykv",
	"./nl-be.js": "2ykv",
	"./nl.js": "+s0g",
	"./nn": "uEye",
	"./nn.js": "uEye",
	"./pa-in": "8/+R",
	"./pa-in.js": "8/+R",
	"./pl": "jVdC",
	"./pl.js": "jVdC",
	"./pt": "8mBD",
	"./pt-br": "0tRk",
	"./pt-br.js": "0tRk",
	"./pt.js": "8mBD",
	"./ro": "lyxo",
	"./ro.js": "lyxo",
	"./ru": "lXzo",
	"./ru.js": "lXzo",
	"./sd": "Z4QM",
	"./sd.js": "Z4QM",
	"./se": "//9w",
	"./se.js": "//9w",
	"./si": "7aV9",
	"./si.js": "7aV9",
	"./sk": "e+ae",
	"./sk.js": "e+ae",
	"./sl": "gVVK",
	"./sl.js": "gVVK",
	"./sq": "yPMs",
	"./sq.js": "yPMs",
	"./sr": "zx6S",
	"./sr-cyrl": "E+lV",
	"./sr-cyrl.js": "E+lV",
	"./sr.js": "zx6S",
	"./ss": "Ur1D",
	"./ss.js": "Ur1D",
	"./sv": "X709",
	"./sv.js": "X709",
	"./sw": "dNwA",
	"./sw.js": "dNwA",
	"./ta": "PeUW",
	"./ta.js": "PeUW",
	"./te": "XLvN",
	"./te.js": "XLvN",
	"./tet": "V2x9",
	"./tet.js": "V2x9",
	"./tg": "Oxv6",
	"./tg.js": "Oxv6",
	"./th": "EOgW",
	"./th.js": "EOgW",
	"./tl-ph": "Dzi0",
	"./tl-ph.js": "Dzi0",
	"./tlh": "z3Vd",
	"./tlh.js": "z3Vd",
	"./tr": "DoHr",
	"./tr.js": "DoHr",
	"./tzl": "z1FC",
	"./tzl.js": "z1FC",
	"./tzm": "wQk9",
	"./tzm-latn": "tT3J",
	"./tzm-latn.js": "tT3J",
	"./tzm.js": "wQk9",
	"./ug-cn": "YRex",
	"./ug-cn.js": "YRex",
	"./uk": "raLr",
	"./uk.js": "raLr",
	"./ur": "UpQW",
	"./ur.js": "UpQW",
	"./uz": "Loxo",
	"./uz-latn": "AQ68",
	"./uz-latn.js": "AQ68",
	"./uz.js": "Loxo",
	"./vi": "KSF8",
	"./vi.js": "KSF8",
	"./x-pseudo": "/X5v",
	"./x-pseudo.js": "/X5v",
	"./yo": "fzPg",
	"./yo.js": "fzPg",
	"./zh-cn": "XDpg",
	"./zh-cn.js": "XDpg",
	"./zh-hk": "SatO",
	"./zh-hk.js": "SatO",
	"./zh-tw": "kOpN",
	"./zh-tw.js": "kOpN"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "RnhZ";

/***/ }),

/***/ "S+a8":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/iframe.js ***!
  \**************************************************************************************/
/*! exports provided: IFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IFrame", function() { return IFrame; });
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * A phosphor widget which wraps an IFrame.
 */
class IFrame extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__["Widget"] {
    /**
     * Create a new IFrame widget.
     */
    constructor(options = {}) {
        super({ node: Private.createNode() });
        this._sandbox = [];
        this.addClass('jp-IFrame');
        this.sandbox = options.sandbox || [];
        this.referrerPolicy = options.referrerPolicy || 'no-referrer';
    }
    /**
     * Referrer policy for the iframe.
     *
     * #### Notes
     * By default, `no-referrer` is chosen.
     *
     * For more information, see
     * https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy
     */
    get referrerPolicy() {
        return this._referrerPolicy;
    }
    set referrerPolicy(value) {
        if (this._referrerPolicy === value) {
            return;
        }
        this._referrerPolicy = value;
        const iframe = this.node.querySelector('iframe');
        iframe.setAttribute('referrerpolicy', value);
    }
    /**
     * Exceptions to the sandboxing.
     *
     * #### Notes
     * By default, all sandboxing security policies are enabled.
     * This setting allows the user to selectively disable these
     * policies. This should be done with care, as it can
     * introduce security risks, and possibly allow malicious
     * sites to execute code in a JupyterLab session.
     *
     * For more information, see
     * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe
     */
    get sandbox() {
        return this._sandbox.slice();
    }
    set sandbox(values) {
        this._sandbox = values.slice();
        const iframe = this.node.querySelector('iframe');
        const exceptions = values.length ? values.join(' ') : '';
        iframe.setAttribute('sandbox', exceptions);
    }
    /**
     * The url of the IFrame.
     */
    get url() {
        return this.node.querySelector('iframe').getAttribute('src') || '';
    }
    set url(url) {
        this.node.querySelector('iframe').setAttribute('src', url);
    }
}
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * Create the main content node of an iframe widget.
     */
    function createNode() {
        let node = document.createElement('div');
        let iframe = document.createElement('iframe');
        iframe.setAttribute('sandbox', '');
        iframe.style.height = '100%';
        iframe.style.width = '100%';
        node.appendChild(iframe);
        return node;
    }
    Private.createNode = createNode;
})(Private || (Private = {}));
//# sourceMappingURL=iframe.js.map

/***/ }),

/***/ "STaG":
/*!***********************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/run.js ***!
  \***********************************************************************************/
/*! exports provided: RunMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RunMenu", function() { return RunMenu; });
/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * An extensible Run menu for the application.
 */
class RunMenu extends _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"] {
    /**
     * Construct the run menu.
     */
    constructor(options) {
        super(options);
        this.menu.title.label = 'Run';
        this.codeRunners = new Set();
    }
    /**
     * Dispose of the resources held by the run menu.
     */
    dispose() {
        this.codeRunners.clear();
        super.dispose();
    }
}
//# sourceMappingURL=run.js.map

/***/ }),

/***/ "SpBn":
/*!*******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/not-trusted.svg ***!
  \*******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 25 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath class='jp-icon2' d='M1.86094 11.4409C0.826448 8.77027 0.863779 6.05764 1.24907 4.19932C2.48206 3.93347 4.08068 3.40347 5.60102 2.8449C7.23549 2.2444 8.85666 1.5815 9.9876 1.09539C11.0597 1.58341 12.6094 2.2444 14.218 2.84339C15.7503 3.41394 17.3995 3.95258 18.7539 4.21385C19.1364 6.07177 19.1709 8.77722 18.139 11.4409C17.0303 14.3032 14.6668 17.1844 9.99999 18.9354C5.33319 17.1844 2.96968 14.3032 1.86094 11.4409Z' transform='translate(3 3)' stroke='%23333333' stroke-width='2'/%3E %3Cpath class='jp-icon2' d='M7.36842 0L0 7.36479' transform='translate(9.31592 9.32031)' stroke='%23333333' stroke-width='2'/%3E %3Cpath class='jp-icon2' d='M7.36842 0L0 7.36479' transform='translate(9.31592 16.6836) scale(1 -1)' stroke='%23333333' stroke-width='2'/%3E %3C/svg%3E"

/***/ }),

/***/ "SpBnM":
/*!*******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/not-trusted.svg ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 25 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path class=\"jp-icon2\" d=\"M1.86094 11.4409C0.826448 8.77027 0.863779 6.05764 1.24907 4.19932C2.48206 3.93347 4.08068 3.40347 5.60102 2.8449C7.23549 2.2444 8.85666 1.5815 9.9876 1.09539C11.0597 1.58341 12.6094 2.2444 14.218 2.84339C15.7503 3.41394 17.3995 3.95258 18.7539 4.21385C19.1364 6.07177 19.1709 8.77722 18.139 11.4409C17.0303 14.3032 14.6668 17.1844 9.99999 18.9354C5.33319 17.1844 2.96968 14.3032 1.86094 11.4409Z\" transform=\"translate(3 3)\" stroke=\"#333333\" stroke-width=\"2\"/>\n    <path class=\"jp-icon2\" d=\"M7.36842 0L0 7.36479\" transform=\"translate(9.31592 9.32031)\" stroke=\"#333333\" stroke-width=\"2\"/>\n    <path class=\"jp-icon2\" d=\"M7.36842 0L0 7.36479\" transform=\"translate(9.31592 16.6836) scale(1 -1)\" stroke=\"#333333\" stroke-width=\"2\"/>\n</svg>\n");

/***/ }),

/***/ "TNeX":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/nbconvert/index.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
/**
 * The url for the lab nbconvert service.
 */
const NBCONVERT_SETTINGS_URL = 'api/nbconvert';
/**
 * The nbconvert API service manager.
 */
class NbConvertManager {
    /**
     * Create a new nbconvert manager.
     */
    constructor(options = {}) {
        var _a;
        this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : serverconnection_1.ServerConnection.makeSettings()));
    }
    /**
     * Get whether the application should be built.
     */
    getExportFormats() {
        const base = this.serverSettings.baseUrl;
        const url = coreutils_1.URLExt.join(base, NBCONVERT_SETTINGS_URL);
        const { serverSettings } = this;
        const promise = serverconnection_1.ServerConnection.makeRequest(url, {}, serverSettings);
        return promise
            .then(response => {
            if (response.status !== 200) {
                throw new serverconnection_1.ServerConnection.ResponseError(response);
            }
            return response.json();
        })
            .then(data => {
            let exportList = {};
            let keys = Object.keys(data);
            keys.forEach(function (key) {
                let mimeType = data[key].output_mimetype;
                exportList[key] = { output_mimetype: mimeType };
            });
            return exportList;
        });
    }
}
exports.NbConvertManager = NbConvertManager;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "U2AC":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/search/regex.svg ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E %3Cg class='jp-icon2' fill='%23414141'%3E %3Crect x='2' y='2' width='16' height='16'/%3E %3C/g%3E %3Cg class='jp-icon-accent2' fill='%23FFF'%3E %3Ccircle class='st2' cx='5.5' cy='14.5' r='1.5'/%3E %3Crect x='12' y='4' class='st2' width='1' height='8'/%3E %3Crect x='8.5' y='7.5' transform='matrix(0.866 -0.5 0.5 0.866 -2.3255 7.3219)' class='st2' width='8' height='1'/%3E %3Crect x='12' y='4' transform='matrix(0.5 -0.866 0.866 0.5 -0.6779 14.8252)' class='st2' width='1' height='8'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "U2ACB":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/search/regex.svg ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n  <g class=\"jp-icon2\" fill=\"#414141\">\n    <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\"/>\n  </g>\n\n  <g class=\"jp-icon-accent2\" fill=\"#FFF\">\n    <circle class=\"st2\" cx=\"5.5\" cy=\"14.5\" r=\"1.5\"/>\n    <rect x=\"12\" y=\"4\" class=\"st2\" width=\"1\" height=\"8\"/>\n    <rect x=\"8.5\" y=\"7.5\" transform=\"matrix(0.866 -0.5 0.5 0.866 -2.3255 7.3219)\" class=\"st2\" width=\"8\" height=\"1\"/>\n    <rect x=\"12\" y=\"4\" transform=\"matrix(0.5 -0.866 0.866 0.5 -0.6779 14.8252)\" class=\"st2\" width=\"1\" height=\"8\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "UHVt":
/*!*****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/line-form.svg ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cpath fill='white' d='M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z'/%3E %3C/svg%3E"

/***/ }),

/***/ "UHVtG":
/*!*****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/statusbar/line-form.svg ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n    <path fill=\"white\" d=\"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"/>\n</svg>\n");

/***/ }),

/***/ "UWaU":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/latex.js ***!
  \***************************************************************************************/
/*! exports provided: removeMath, replaceMath */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeMath", function() { return removeMath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "replaceMath", function() { return replaceMath; });
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/
// Some magic for deferring mathematical expressions to MathJax
// by hiding them from the Markdown parser.
// Some of the code here is adapted with permission from Davide Cervone
// under the terms of the Apache2 license governing the MathJax project.
// Other minor modifications are also due to StackExchange and are used with
// permission.
const inline = '$'; // the inline math delimiter
// MATHSPLIT contains the pattern for math delimiters and special symbols
// needed for searching for math in the text input.
const MATHSPLIT = /(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;
/**
 *  Break up the text into its component parts and search
 *    through them for math delimiters, braces, linebreaks, etc.
 *  Math delimiters must match and braces must balance.
 *  Don't allow math to pass through a double linebreak
 *    (which will be a paragraph).
 */
function removeMath(text) {
    let math = []; // stores math strings for later
    let start = null;
    let end = null;
    let last = null;
    let braces = 0;
    let deTilde;
    // Except for extreme edge cases, this should catch precisely those pieces of the markdown
    // source that will later be turned into code spans. While MathJax will not TeXify code spans,
    // we still have to consider them at this point; the following issue has happened several times:
    //
    //     `$foo` and `$bar` are variables.  -->  <code>$foo ` and `$bar</code> are variables.
    let hasCodeSpans = /`/.test(text);
    if (hasCodeSpans) {
        text = text
            .replace(/~/g, '~T')
            .replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm, wholematch => wholematch.replace(/\$/g, '~D'));
        deTilde = (text) => {
            return text.replace(/~([TD])/g, (wholematch, character) => character === 'T' ? '~' : inline);
        };
    }
    else {
        deTilde = (text) => {
            return text;
        };
    }
    let blocks = text.replace(/\r\n?/g, '\n').split(MATHSPLIT);
    for (let i = 1, m = blocks.length; i < m; i += 2) {
        let block = blocks[i];
        if (block.charAt(0) === '@') {
            //
            //  Things that look like our math markers will get
            //  stored and then retrieved along with the math.
            //
            blocks[i] = '@@' + math.length + '@@';
            math.push(block);
        }
        else if (start !== null) {
            //
            //  If we are in math, look for the end delimiter,
            //    but don't go past double line breaks, and
            //    and balance braces within the math.
            //
            if (block === end) {
                if (braces) {
                    last = i;
                }
                else {
                    blocks = processMath(start, i, deTilde, math, blocks);
                    start = null;
                    end = null;
                    last = null;
                }
            }
            else if (block.match(/\n.*\n/)) {
                if (last !== null) {
                    i = last;
                    blocks = processMath(start, i, deTilde, math, blocks);
                }
                start = null;
                end = null;
                last = null;
                braces = 0;
            }
            else if (block === '{') {
                braces++;
            }
            else if (block === '}' && braces) {
                braces--;
            }
        }
        else {
            //
            //  Look for math start delimiters and when
            //    found, set up the end delimiter.
            //
            if (block === inline || block === '$$') {
                start = i;
                end = block;
                braces = 0;
            }
            else if (block === '\\\\(' || block === '\\\\[') {
                start = i;
                end = block.slice(-1) === '(' ? '\\\\)' : '\\\\]';
                braces = 0;
            }
            else if (block.substr(1, 5) === 'begin') {
                start = i;
                end = '\\end' + block.substr(6);
                braces = 0;
            }
        }
    }
    if (start !== null && last !== null) {
        blocks = processMath(start, last, deTilde, math, blocks);
        start = null;
        end = null;
        last = null;
    }
    return { text: deTilde(blocks.join('')), math };
}
/**
 * Put back the math strings that were saved,
 * and clear the math array (no need to keep it around).
 */
function replaceMath(text, math) {
    /**
     * Replace a math placeholder with its corresponding group.
     * The math delimiters "\\(", "\\[", "\\)" and "\\]" are replaced
     * removing one backslash in order to be interpreted correctly by MathJax.
     */
    let process = (match, n) => {
        let group = math[n];
        if (group.substr(0, 3) === '\\\\(' &&
            group.substr(group.length - 3) === '\\\\)') {
            group = '\\(' + group.substring(3, group.length - 3) + '\\)';
        }
        else if (group.substr(0, 3) === '\\\\[' &&
            group.substr(group.length - 3) === '\\\\]') {
            group = '\\[' + group.substring(3, group.length - 3) + '\\]';
        }
        return group;
    };
    // Replace all the math group placeholders in the text
    // with the saved strings.
    return text.replace(/@@(\d+)@@/g, process);
}
/**
 * Process math blocks.
 *
 * The math is in blocks i through j, so
 *   collect it into one block and clear the others.
 *  Replace &, <, and > by named entities.
 *  For IE, put <br> at the ends of comments since IE removes \n.
 *  Clear the current math positions and store the index of the
 *   math, then push the math string onto the storage array.
 *  The preProcess function is called on all blocks if it has been passed in
 */
function processMath(i, j, preProcess, math, blocks) {
    let block = blocks
        .slice(i, j + 1)
        .join('')
        .replace(/&/g, '&amp;') // use HTML entity for &
        .replace(/</g, '&lt;') // use HTML entity for <
        .replace(/>/g, '&gt;'); // use HTML entity for >
    if (navigator && navigator.appName === 'Microsoft Internet Explorer') {
        block = block.replace(/(%[^\n]*)\n/g, '$1<br/>\n');
    }
    while (j > i) {
        blocks[j] = '';
        j--;
    }
    blocks[i] = '@@' + math.length + '@@'; // replace the current block text with a unique tag to find later
    if (preProcess) {
        block = preProcess(block);
    }
    math.push(block);
    return blocks;
}
//# sourceMappingURL=latex.js.map

/***/ }),

/***/ "Um4O":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/contents/validate.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const validate_1 = __webpack_require__(/*! ../validate */ "VVJs");
/**
 * Validate an `Contents.IModel` object.
 */
function validateContentsModel(model) {
    validate_1.validateProperty(model, 'name', 'string');
    validate_1.validateProperty(model, 'path', 'string');
    validate_1.validateProperty(model, 'type', 'string');
    validate_1.validateProperty(model, 'created', 'string');
    validate_1.validateProperty(model, 'last_modified', 'string');
    validate_1.validateProperty(model, 'mimetype', 'object');
    validate_1.validateProperty(model, 'content', 'object');
    validate_1.validateProperty(model, 'format', 'object');
}
exports.validateContentsModel = validateContentsModel;
/**
 * Validate an `Contents.ICheckpointModel` object.
 */
function validateCheckpointModel(model) {
    validate_1.validateProperty(model, 'id', 'string');
    validate_1.validateProperty(model, 'last_modified', 'string');
}
exports.validateCheckpointModel = validateCheckpointModel;
//# sourceMappingURL=validate.js.map

/***/ }),

/***/ "V0Vv":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codemirror/lib/syntaxstatus.js ***!
  \**********************************************************************************************/
/*! exports provided: EditorSyntaxStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorSyntaxStatus", function() { return EditorSyntaxStatus; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/statusbar */ "8R0s");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! . */ "BqCg");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_4__);





/**
 * A pure function that returns a tsx component for an editor syntax item.
 *
 * @param props: the props for the component.
 *
 * @returns an editor syntax component.
 */
function EditorSyntaxComponent(props) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_2__["TextItem"], { source: props.mode, onClick: props.handleClick });
}
/**
 * StatusBar item to change the language syntax highlighting of the file editor.
 */
class EditorSyntaxStatus extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomRenderer"] {
    /**
     * Construct a new VDomRenderer for the status item.
     */
    constructor(opts) {
        super(new EditorSyntaxStatus.Model());
        /**
         * Create a menu for selecting the mode of the editor.
         */
        this._handleClick = () => {
            const modeMenu = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_4__["Menu"]({ commands: this._commands });
            let command = 'codemirror:change-mode';
            if (this._popup) {
                this._popup.dispose();
            }
            ___WEBPACK_IMPORTED_MODULE_3__["Mode"].getModeInfo()
                .sort((a, b) => {
                let aName = a.name || '';
                let bName = b.name || '';
                return aName.localeCompare(bName);
            })
                .forEach(spec => {
                if (spec.mode.indexOf('brainf') === 0) {
                    return;
                }
                let args = {
                    insertSpaces: true,
                    name: spec.name
                };
                modeMenu.addItem({
                    command,
                    args
                });
            });
            this._popup = Object(_jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_2__["showPopup"])({
                body: modeMenu,
                anchor: this,
                align: 'left'
            });
        };
        this._popup = null;
        this._commands = opts.commands;
        this.addClass(_jupyterlab_statusbar__WEBPACK_IMPORTED_MODULE_2__["interactiveItem"]);
        this.title.caption = 'Change text editor syntax highlighting';
    }
    /**
     * Render the status item.
     */
    render() {
        if (!this.model) {
            return null;
        }
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditorSyntaxComponent, { mode: this.model.mode, handleClick: this._handleClick }));
    }
}
/**
 * A namespace for EditorSyntax statics.
 */
(function (EditorSyntaxStatus) {
    /**
     * A VDomModel for the current editor/mode combination.
     */
    class Model extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomModel"] {
        constructor() {
            super(...arguments);
            /**
             * If the editor mode changes, update the model.
             */
            this._onMIMETypeChange = (mode, change) => {
                const oldMode = this._mode;
                const spec = ___WEBPACK_IMPORTED_MODULE_3__["Mode"].findByMIME(change.newValue);
                this._mode = spec.name || spec.mode;
                this._triggerChange(oldMode, this._mode);
            };
            this._mode = '';
            this._editor = null;
        }
        /**
         * The current mode for the editor. If no editor is present,
         * returns the empty string.
         */
        get mode() {
            return this._mode;
        }
        /**
         * The current editor for the application editor tracker.
         */
        get editor() {
            return this._editor;
        }
        set editor(editor) {
            const oldEditor = this._editor;
            if (oldEditor !== null) {
                oldEditor.model.mimeTypeChanged.disconnect(this._onMIMETypeChange);
            }
            const oldMode = this._mode;
            this._editor = editor;
            if (this._editor === null) {
                this._mode = '';
            }
            else {
                const spec = ___WEBPACK_IMPORTED_MODULE_3__["Mode"].findByMIME(this._editor.model.mimeType);
                this._mode = spec.name || spec.mode;
                this._editor.model.mimeTypeChanged.connect(this._onMIMETypeChange);
            }
            this._triggerChange(oldMode, this._mode);
        }
        /**
         * Trigger a rerender of the model.
         */
        _triggerChange(oldState, newState) {
            if (oldState !== newState) {
                this.stateChanged.emit(void 0);
            }
        }
    }
    EditorSyntaxStatus.Model = Model;
})(EditorSyntaxStatus || (EditorSyntaxStatus = {}));
//# sourceMappingURL=syntaxstatus.js.map

/***/ }),

/***/ "V6+u":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/iconshover.css ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/**\n * Support for hover colors for icons as inline SVG HTMLElements\n */\n\n/**\n * regular colors\n */\n\n/* recolor the primary elements of an icon */\n.jp-icon-hover :hover .jp-icon0-hover[fill] {\n  fill: var(--jp-inverse-layout-color0);\n}\n.jp-icon-hover :hover .jp-icon1-hover[fill] {\n  fill: var(--jp-inverse-layout-color1);\n}\n.jp-icon-hover :hover .jp-icon2-hover[fill] {\n  fill: var(--jp-inverse-layout-color2);\n}\n.jp-icon-hover :hover .jp-icon3-hover[fill] {\n  fill: var(--jp-inverse-layout-color3);\n}\n.jp-icon-hover :hover .jp-icon4-hover[fill] {\n  fill: var(--jp-inverse-layout-color4);\n}\n\n.jp-icon-hover :hover .jp-icon0-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color0);\n}\n.jp-icon-hover :hover .jp-icon1-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color1);\n}\n.jp-icon-hover :hover .jp-icon2-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color2);\n}\n.jp-icon-hover :hover .jp-icon3-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color3);\n}\n.jp-icon-hover :hover .jp-icon4-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color4);\n}\n\n/* recolor the accent elements of an icon */\n.jp-icon-hover :hover .jp-icon-accent0-hover[fill] {\n  fill: var(--jp-layout-color0);\n}\n.jp-icon-hover :hover .jp-icon-accent1-hover[fill] {\n  fill: var(--jp-layout-color1);\n}\n.jp-icon-hover :hover .jp-icon-accent2-hover[fill] {\n  fill: var(--jp-layout-color2);\n}\n.jp-icon-hover :hover .jp-icon-accent3-hover[fill] {\n  fill: var(--jp-layout-color3);\n}\n.jp-icon-hover :hover .jp-icon-accent4-hover[fill] {\n  fill: var(--jp-layout-color4);\n}\n\n.jp-icon-hover :hover .jp-icon-accent0-hover[stroke] {\n  stroke: var(--jp-layout-color0);\n}\n.jp-icon-hover :hover .jp-icon-accent1-hover[stroke] {\n  stroke: var(--jp-layout-color1);\n}\n.jp-icon-hover :hover .jp-icon-accent2-hover[stroke] {\n  stroke: var(--jp-layout-color2);\n}\n.jp-icon-hover :hover .jp-icon-accent3-hover[stroke] {\n  stroke: var(--jp-layout-color3);\n}\n.jp-icon-hover :hover .jp-icon-accent4-hover[stroke] {\n  stroke: var(--jp-layout-color4);\n}\n\n/* set the color of an icon to transparent */\n.jp-icon-hover :hover .jp-icon-none-hover[fill] {\n  fill: none;\n}\n\n.jp-icon-hover :hover .jp-icon-none-hover[stroke] {\n  stroke: none;\n}\n\n/**\n * inverse colors\n */\n\n/* inverse recolor the primary elements of an icon */\n.jp-icon-hover.jp-icon-alt :hover .jp-icon0-hover[fill] {\n  fill: var(--jp-layout-color0);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon1-hover[fill] {\n  fill: var(--jp-layout-color1);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon2-hover[fill] {\n  fill: var(--jp-layout-color2);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon3-hover[fill] {\n  fill: var(--jp-layout-color3);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon4-hover[fill] {\n  fill: var(--jp-layout-color4);\n}\n\n.jp-icon-hover.jp-icon-alt :hover .jp-icon0-hover[stroke] {\n  stroke: var(--jp-layout-color0);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon1-hover[stroke] {\n  stroke: var(--jp-layout-color1);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon2-hover[stroke] {\n  stroke: var(--jp-layout-color2);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon3-hover[stroke] {\n  stroke: var(--jp-layout-color3);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon4-hover[stroke] {\n  stroke: var(--jp-layout-color4);\n}\n\n/* inverse recolor the accent elements of an icon */\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent0-hover[fill] {\n  fill: var(--jp-inverse-layout-color0);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent1-hover[fill] {\n  fill: var(--jp-inverse-layout-color1);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent2-hover[fill] {\n  fill: var(--jp-inverse-layout-color2);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent3-hover[fill] {\n  fill: var(--jp-inverse-layout-color3);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent4-hover[fill] {\n  fill: var(--jp-inverse-layout-color4);\n}\n\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent0-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color0);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent1-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color1);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent2-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color2);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent3-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color3);\n}\n.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent4-hover[stroke] {\n  stroke: var(--jp-inverse-layout-color4);\n}\n", ""]);


/***/ }),

/***/ "V6Mt":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/commandpalette.js ***!
  \**********************************************************************************************/
/*! exports provided: ICommandPalette */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ICommandPalette", function() { return ICommandPalette; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* tslint:disable */
/**
 * The command palette token.
 */
const ICommandPalette = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/apputils:ICommandPalette');
//# sourceMappingURL=commandpalette.js.map

/***/ }),

/***/ "V7oU":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/tab.svg ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "V7oU5":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/tab.svg ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "VVJs":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/validate.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Validate a property as being on an object, and optionally
 * of a given type and among a given set of values.
 */
function validateProperty(object, name, typeName, values = []) {
    if (!object.hasOwnProperty(name)) {
        throw Error(`Missing property '${name}'`);
    }
    const value = object[name];
    if (typeName !== void 0) {
        let valid = true;
        switch (typeName) {
            case 'array':
                valid = Array.isArray(value);
                break;
            case 'object':
                valid = typeof value !== 'undefined';
                break;
            default:
                valid = typeof value === typeName;
        }
        if (!valid) {
            throw new Error(`Property '${name}' is not of type '${typeName}'`);
        }
        if (values.length > 0) {
            let valid = true;
            switch (typeName) {
                case 'string':
                case 'number':
                case 'boolean':
                    valid = values.includes(value);
                    break;
                default:
                    valid = values.findIndex(v => v === value) >= 0;
                    break;
            }
            if (!valid) {
                throw new Error(`Property '${name}' is not one of the valid values ${JSON.stringify(values)}`);
            }
        }
    }
}
exports.validateProperty = validateProperty;
//# sourceMappingURL=validate.js.map

/***/ }),

/***/ "VpiZ":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/spinner.js ***!
  \***************************************************************************************/
/*! exports provided: Spinner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Spinner", function() { return Spinner; });
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_0__);
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * The spinner class.
 */
class Spinner extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__["Widget"] {
    /**
     * Construct a spinner widget.
     */
    constructor() {
        super();
        this.addClass('jp-Spinner');
        this.node.tabIndex = -1;
        let content = document.createElement('div');
        content.className = 'jp-SpinnerContent';
        this.node.appendChild(content);
    }
    /**
     * Handle `'activate-request'` messages.
     */
    onActivateRequest(msg) {
        this.node.focus();
    }
}
//# sourceMappingURL=spinner.js.map

/***/ }),

/***/ "Vsf5":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/refresh.svg ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 18 18'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M9 13.5c-2.49 0-4.5-2.01-4.5-4.5S6.51 4.5 9 4.5c1.24 0 2.36.52 3.17 1.33L10 8h5V3l-1.76 1.76C12.15 3.68 10.66 3 9 3 5.69 3 3.01 5.69 3.01 9S5.69 15 9 15c2.97 0 5.43-2.16 5.9-5h-1.52c-.46 2-2.24 3.5-4.38 3.5z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "Vsf5j":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/refresh.svg ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\">\n    <g class=\"jp-icon3\" fill=\"#616161\">\n        <path d=\"M9 13.5c-2.49 0-4.5-2.01-4.5-4.5S6.51 4.5 9 4.5c1.24 0 2.36.52 3.17 1.33L10 8h5V3l-1.76 1.76C12.15 3.68 10.66 3 9 3 5.69 3 3.01 5.69 3.01 9S5.69 15 9 15c2.97 0 5.43-2.16 5.9-5h-1.52c-.46 2-2.24 3.5-4.38 3.5z\"/>\n    </g>\n</svg>\n");

/***/ }),

/***/ "W6OZ":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/index.js ***!
  \******************************************************************************************/
/*! exports provided: Intent, Button, InputGroup, Collapse, Select, HTML_SELECT_CLASS, HTMLSelect, DEFAULT_STYLE_CLASS, addIcon, bugIcon, buildIcon, caretDownEmptyIcon, caretDownEmptyThinIcon, caretDownIcon, caretLeftIcon, caretRightIcon, caretUpEmptyThinIcon, caretUpIcon, caseSensitiveIcon, checkIcon, circleEmptyIcon, circleIcon, closeIcon, consoleIcon, copyIcon, cutIcon, downloadIcon, editIcon, ellipsesIcon, extensionIcon, fileIcon, fileUploadIcon, filterListIcon, folderIcon, html5Icon, imageIcon, inspectorIcon, jsonIcon, jupyterFaviconIcon, jupyterIcon, jupyterlabWordmarkIcon, kernelIcon, keyboardIcon, launcherIcon, lineFormIcon, linkIcon, listIcon, markdownIcon, newFolderIcon, notTrustedIcon, notebookIcon, paletteIcon, pasteIcon, pythonIcon, rKernelIcon, reactIcon, refreshIcon, regexIcon, runIcon, runningIcon, saveIcon, searchIcon, settingsIcon, spreadsheetIcon, stopIcon, tabIcon, terminalIcon, textEditorIcon, trustedIcon, undoIcon, vegaIcon, yamlIcon, LabIcon, badIcon, blankIcon, TabBarSvg, DockPanelSvg, ILabIconManager, classes, classesDedupe, getReactAttrs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blueprint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blueprint */ "pLaC");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Intent", function() { return _blueprint__WEBPACK_IMPORTED_MODULE_0__["Intent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return _blueprint__WEBPACK_IMPORTED_MODULE_0__["Button"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InputGroup", function() { return _blueprint__WEBPACK_IMPORTED_MODULE_0__["InputGroup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapse", function() { return _blueprint__WEBPACK_IMPORTED_MODULE_0__["Collapse"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return _blueprint__WEBPACK_IMPORTED_MODULE_0__["Select"]; });

/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components */ "WzAK");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HTML_SELECT_CLASS", function() { return _components__WEBPACK_IMPORTED_MODULE_1__["HTML_SELECT_CLASS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HTMLSelect", function() { return _components__WEBPACK_IMPORTED_MODULE_1__["HTMLSelect"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_STYLE_CLASS", function() { return _components__WEBPACK_IMPORTED_MODULE_1__["DEFAULT_STYLE_CLASS"]; });

/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./icon */ "ixyj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["addIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bugIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["bugIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "buildIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["buildIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretDownEmptyIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["caretDownEmptyIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretDownEmptyThinIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["caretDownEmptyThinIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretDownIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["caretDownIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretLeftIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["caretLeftIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretRightIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["caretRightIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretUpEmptyThinIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["caretUpEmptyThinIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretUpIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["caretUpIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caseSensitiveIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["caseSensitiveIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "checkIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["checkIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "circleEmptyIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["circleEmptyIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "circleIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["circleIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "closeIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["closeIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "consoleIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["consoleIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "copyIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["copyIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cutIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["cutIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "downloadIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["downloadIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "editIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["editIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ellipsesIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["ellipsesIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "extensionIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["extensionIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fileIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["fileIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fileUploadIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["fileUploadIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "filterListIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["filterListIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "folderIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["folderIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "html5Icon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["html5Icon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "imageIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["imageIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "inspectorIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["inspectorIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "jsonIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["jsonIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "jupyterFaviconIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["jupyterFaviconIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "jupyterIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["jupyterIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "jupyterlabWordmarkIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["jupyterlabWordmarkIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "kernelIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["kernelIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "keyboardIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["keyboardIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "launcherIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["launcherIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "lineFormIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["lineFormIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "linkIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["linkIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "listIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["listIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "markdownIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["markdownIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "newFolderIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["newFolderIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notTrustedIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["notTrustedIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notebookIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["notebookIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "paletteIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["paletteIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pasteIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["pasteIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pythonIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["pythonIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rKernelIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["rKernelIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reactIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["reactIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "refreshIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["refreshIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "regexIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["regexIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "runIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["runIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "runningIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["runningIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "saveIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["saveIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "searchIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["searchIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "settingsIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["settingsIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "spreadsheetIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["spreadsheetIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stopIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["stopIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tabIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["tabIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "terminalIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["terminalIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "textEditorIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["textEditorIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trustedIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["trustedIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "undoIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["undoIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "vegaIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["vegaIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "yamlIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["yamlIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["LabIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "badIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["badIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "blankIcon", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["blankIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TabBarSvg", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["TabBarSvg"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DockPanelSvg", function() { return _icon__WEBPACK_IMPORTED_MODULE_2__["DockPanelSvg"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tokens */ "A0uP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ILabIconManager", function() { return _tokens__WEBPACK_IMPORTED_MODULE_3__["ILabIconManager"]; });

/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "P1nB");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "classes", function() { return _utils__WEBPACK_IMPORTED_MODULE_4__["classes"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "classesDedupe", function() { return _utils__WEBPACK_IMPORTED_MODULE_4__["classesDedupe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getReactAttrs", function() { return _utils__WEBPACK_IMPORTED_MODULE_4__["getReactAttrs"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.





//# sourceMappingURL=index.js.map

/***/ }),

/***/ "W9lb":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/download.svg ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "W9lbg":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/download.svg ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "WGM2":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/console.svg ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E %3Cg class='jp-icon-brand1 jp-icon-selectable' fill='%230288D1'%3E %3Crect x='20' y='19.8' width='160' height='159.9'/%3E %3C/g%3E %3Cg class='jp-icon-selectable-inverse' fill='white'%3E %3Crect x='105' y='127.3' width='40' height='12.8'/%3E %3Cpolygon points='51.1,77 74,99.9 50.7,123.2 61.2,133.7 84.5,110.4 95,99.9 84.5,89.4 61.6,66.5 '/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "WGM2i":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/console.svg ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 200 200\">\n  <g class=\"jp-icon-brand1 jp-icon-selectable\" fill=\"#0288D1\">\n    <rect x=\"20\" y=\"19.8\" width=\"160\" height=\"159.9\"/>\n  </g>\n  <g class=\"jp-icon-selectable-inverse\" fill=\"white\">\n    <rect x=\"105\" y=\"127.3\" width=\"40\" height=\"12.8\"/>\n    <polygon points=\"51.1,77 74,99.9 50.7,123.2 61.2,133.7 84.5,110.4 95,99.9 84.5,89.4 61.6,66.5 \"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "WVm5":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/index.css ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@lumino/widgets/style/index.css */ "0S1w"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@jupyterlab/ui-components/style/index.css */ "z7Tq"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./base.css */ "GfCJ"), "");
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/* This file was auto-generated by ensurePackage() in @jupyterlab/buildutils */\n", ""]);


/***/ }),

/***/ "WWmG":
/*!******************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/settingregistry/lib/plugin-schema.json ***!
  \******************************************************************************************************/
/*! exports provided: $schema, title, description, version, type, additionalProperties, properties, definitions, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"$schema\":\"http://json-schema.org/draft-07/schema\",\"title\":\"JupyterLab Plugin Settings/Preferences Schema\",\"description\":\"JupyterLab plugin settings/preferences schema\",\"version\":\"1.0.0\",\"type\":\"object\",\"additionalProperties\":true,\"properties\":{\"jupyter.lab.setting-deprecated\":{\"type\":\"boolean\",\"default\":false},\"jupyter.lab.setting-icon\":{\"type\":\"string\",\"default\":\"ui-components:settings\"},\"jupyter.lab.setting-icon-class\":{\"type\":\"string\",\"default\":\"\"},\"jupyter.lab.setting-icon-label\":{\"type\":\"string\",\"default\":\"Plugin\"},\"jupyter.lab.shortcuts\":{\"items\":{\"$ref\":\"#/definitions/shortcut\"},\"type\":\"array\",\"default\":[]},\"jupyter.lab.transform\":{\"type\":\"boolean\",\"default\":false}},\"definitions\":{\"shortcut\":{\"properties\":{\"args\":{\"type\":\"object\"},\"command\":{\"type\":\"string\"},\"disabled\":{\"type\":\"boolean\",\"default\":false},\"keys\":{\"items\":{\"type\":\"string\"},\"minItems\":1,\"type\":\"array\"},\"selector\":{\"type\":\"string\"}},\"required\":[\"command\",\"keys\",\"selector\"],\"type\":\"object\"}}}");

/***/ }),

/***/ "WlmI":
/*!***************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/icon/tabbarsvg.js ***!
  \***************************************************************************************************/
/*! exports provided: TabBarSvg, DockPanelSvg */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TabBarSvg", function() { return TabBarSvg; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DockPanelSvg", function() { return DockPanelSvg; });
/* harmony import */ var _lumino_virtualdom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/virtualdom */ "y6yp");
/* harmony import */ var _lumino_virtualdom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_virtualdom__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _iconimports__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./iconimports */ "OnP5");
/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../style */ "rRp0");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "P1nB");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.





/**
 * a widget which displays titles as a single row or column of tabs.
 * Tweaked to use an inline svg as the close icon
 */
class TabBarSvg extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["TabBar"] {
    /**
     * Construct a new tab bar. Sets the (icon) kind and overrides
     * the default renderer.
     *
     * @param options - The options for initializing the tab bar.
     */
    constructor(options = {}) {
        options.renderer = options.renderer || TabBarSvg.defaultRenderer;
        super(options);
    }
}
(function (TabBarSvg) {
    /**
     * A modified implementation of the TabBar Renderer.
     */
    class Renderer extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["TabBar"].Renderer {
        /**
         * Render the close icon element for a tab.
         *
         * @param data - The data to use for rendering the tab.
         *
         * @returns A virtual element representing the tab close icon.
         */
        renderCloseIcon(data) {
            const className = Object(_utils__WEBPACK_IMPORTED_MODULE_4__["classes"])('jp-icon-hover lm-TabBar-tabCloseIcon', Object(_style__WEBPACK_IMPORTED_MODULE_3__["iconStyle"])({ justify: 'center', height: '16px', width: '16px' }));
            return Object(_lumino_virtualdom__WEBPACK_IMPORTED_MODULE_0__["hpass"])('div', { className }, _iconimports__WEBPACK_IMPORTED_MODULE_2__["closeIcon"]);
        }
    }
    TabBarSvg.Renderer = Renderer;
    TabBarSvg.defaultRenderer = new Renderer();
})(TabBarSvg || (TabBarSvg = {}));
/**
 * a widget which provides a flexible docking area for widgets.
 * Tweaked to use an inline svg as the close icon
 */
class DockPanelSvg extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["DockPanel"] {
    /**
     * Construct a new dock panel.
     *
     * @param options - The options for initializing the panel.
     */
    constructor(options = {}) {
        options.renderer = options.renderer || DockPanelSvg.defaultRenderer;
        super(options);
    }
}
(function (DockPanelSvg) {
    /**
     * A modified implementation of the DockPanel Renderer.
     */
    class Renderer extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["DockPanel"].Renderer {
        /**
         * Create a new tab bar (with inline svg icons enabled
         * for use with a dock panel.
         *
         * @returns A new tab bar for a dock panel.
         */
        createTabBar() {
            let bar = new TabBarSvg();
            bar.addClass('lm-DockPanel-tabBar');
            return bar;
        }
    }
    DockPanelSvg.Renderer = Renderer;
    DockPanelSvg.defaultRenderer = new Renderer();
})(DockPanelSvg || (DockPanelSvg = {}));
//# sourceMappingURL=tabbarsvg.js.map

/***/ }),

/***/ "WpeS":
/*!********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codeeditor/lib/jsoneditor.js ***!
  \********************************************************************************************/
/*! exports provided: JSONEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JSONEditor", function() { return JSONEditor; });
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor */ "aoqG");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




/**
 * The class name added to a JSONEditor instance.
 */
const JSONEDITOR_CLASS = 'jp-JSONEditor';
/**
 * The class name added when the Metadata editor contains invalid JSON.
 */
const ERROR_CLASS = 'jp-mod-error';
/**
 * The class name added to the editor host node.
 */
const HOST_CLASS = 'jp-JSONEditor-host';
/**
 * The class name added to the header area.
 */
const HEADER_CLASS = 'jp-JSONEditor-header';
/**
 * A widget for editing observable JSON.
 */
class JSONEditor extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Widget"] {
    /**
     * Construct a new JSON editor.
     */
    constructor(options) {
        super();
        this._dataDirty = false;
        this._inputDirty = false;
        this._source = null;
        this._originalValue = _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["JSONExt"].emptyObject;
        this._changeGuard = false;
        this.addClass(JSONEDITOR_CLASS);
        this.headerNode = document.createElement('div');
        this.headerNode.className = HEADER_CLASS;
        this.revertButtonNode = _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__["undoIcon"].element({
            tag: 'span',
            title: 'Revert changes to data'
        });
        this.commitButtonNode = _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__["checkIcon"].element({
            tag: 'span',
            title: 'Commit changes to data',
            marginLeft: '8px'
        });
        this.editorHostNode = document.createElement('div');
        this.editorHostNode.className = HOST_CLASS;
        this.headerNode.appendChild(this.revertButtonNode);
        this.headerNode.appendChild(this.commitButtonNode);
        this.node.appendChild(this.headerNode);
        this.node.appendChild(this.editorHostNode);
        let model = new _editor__WEBPACK_IMPORTED_MODULE_3__["CodeEditor"].Model();
        model.value.text = 'No data!';
        model.mimeType = 'application/json';
        model.value.changed.connect(this._onValueChanged, this);
        this.model = model;
        this.editor = options.editorFactory({ host: this.editorHostNode, model });
        this.editor.setOption('readOnly', true);
    }
    /**
     * The observable source.
     */
    get source() {
        return this._source;
    }
    set source(value) {
        if (this._source === value) {
            return;
        }
        if (this._source) {
            this._source.changed.disconnect(this._onSourceChanged, this);
        }
        this._source = value;
        this.editor.setOption('readOnly', value === null);
        if (value) {
            value.changed.connect(this._onSourceChanged, this);
        }
        this._setValue();
    }
    /**
     * Get whether the editor is dirty.
     */
    get isDirty() {
        return this._dataDirty || this._inputDirty;
    }
    /**
     * Handle the DOM events for the widget.
     *
     * @param event - The DOM event sent to the widget.
     *
     * #### Notes
     * This method implements the DOM `EventListener` interface and is
     * called in response to events on the notebook panel's node. It should
     * not be called directly by user code.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'blur':
                this._evtBlur(event);
                break;
            case 'click':
                this._evtClick(event);
                break;
            default:
                break;
        }
    }
    /**
     * Handle `after-attach` messages for the widget.
     */
    onAfterAttach(msg) {
        let node = this.editorHostNode;
        node.addEventListener('blur', this, true);
        node.addEventListener('click', this, true);
        this.revertButtonNode.hidden = true;
        this.commitButtonNode.hidden = true;
        this.headerNode.addEventListener('click', this);
        if (this.isVisible) {
            this.update();
        }
    }
    /**
     * Handle `after-show` messages for the widget.
     */
    onAfterShow(msg) {
        this.update();
    }
    /**
     * Handle `update-request` messages for the widget.
     */
    onUpdateRequest(msg) {
        this.editor.refresh();
    }
    /**
     * Handle `before-detach` messages for the widget.
     */
    onBeforeDetach(msg) {
        let node = this.editorHostNode;
        node.removeEventListener('blur', this, true);
        node.removeEventListener('click', this, true);
        this.headerNode.removeEventListener('click', this);
    }
    /**
     * Handle a change to the metadata of the source.
     */
    _onSourceChanged(sender, args) {
        if (this._changeGuard) {
            return;
        }
        if (this._inputDirty || this.editor.hasFocus()) {
            this._dataDirty = true;
            return;
        }
        this._setValue();
    }
    /**
     * Handle change events.
     */
    _onValueChanged() {
        let valid = true;
        try {
            let value = JSON.parse(this.editor.model.value.text);
            this.removeClass(ERROR_CLASS);
            this._inputDirty =
                !this._changeGuard && !_lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["JSONExt"].deepEqual(value, this._originalValue);
        }
        catch (err) {
            this.addClass(ERROR_CLASS);
            this._inputDirty = true;
            valid = false;
        }
        this.revertButtonNode.hidden = !this._inputDirty;
        this.commitButtonNode.hidden = !valid || !this._inputDirty;
    }
    /**
     * Handle blur events for the text area.
     */
    _evtBlur(event) {
        // Update the metadata if necessary.
        if (!this._inputDirty && this._dataDirty) {
            this._setValue();
        }
    }
    /**
     * Handle click events for the buttons.
     */
    _evtClick(event) {
        let target = event.target;
        if (this.revertButtonNode.contains(target)) {
            this._setValue();
        }
        else if (this.commitButtonNode.contains(target)) {
            if (!this.commitButtonNode.hidden && !this.hasClass(ERROR_CLASS)) {
                this._changeGuard = true;
                this._mergeContent();
                this._changeGuard = false;
                this._setValue();
            }
        }
        else if (this.editorHostNode.contains(target)) {
            this.editor.focus();
        }
    }
    /**
     * Merge the user content.
     */
    _mergeContent() {
        let model = this.editor.model;
        let old = this._originalValue;
        let user = JSON.parse(model.value.text);
        let source = this.source;
        if (!source) {
            return;
        }
        // If it is in user and has changed from old, set in new.
        for (let key in user) {
            if (!_lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["JSONExt"].deepEqual(user[key], old[key] || null)) {
                source.set(key, user[key]);
            }
        }
        // If it was in old and is not in user, remove from source.
        for (let key in old) {
            if (!(key in user)) {
                source.delete(key);
            }
        }
    }
    /**
     * Set the value given the owner contents.
     */
    _setValue() {
        this._dataDirty = false;
        this._inputDirty = false;
        this.revertButtonNode.hidden = true;
        this.commitButtonNode.hidden = true;
        this.removeClass(ERROR_CLASS);
        let model = this.editor.model;
        let content = this._source ? this._source.toJSON() : {};
        this._changeGuard = true;
        if (content === void 0) {
            model.value.text = 'No data!';
            this._originalValue = _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["JSONExt"].emptyObject;
        }
        else {
            let value = JSON.stringify(content, null, 4);
            model.value.text = value;
            this._originalValue = content;
            // Move the cursor to within the brace.
            if (value.length > 1 && value[0] === '{') {
                this.editor.setCursorPosition({ line: 0, column: 1 });
            }
        }
        this.editor.refresh();
        this._changeGuard = false;
        this.commitButtonNode.hidden = true;
        this.revertButtonNode.hidden = true;
    }
}
//# sourceMappingURL=jsoneditor.js.map

/***/ }),

/***/ "Wt2P":
/*!************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/coreutils/lib/url.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const url_parse_1 = __importDefault(__webpack_require__(/*! url-parse */ "BhZD"));
/**
 * The namespace for URL-related functions.
 */
var URLExt;
(function (URLExt) {
    /**
     * Parse a url into a URL object.
     *
     * @param urlString - The URL string to parse.
     *
     * @returns A URL object.
     */
    function parse(url) {
        if (typeof document !== 'undefined' && document) {
            let a = document.createElement('a');
            a.href = url;
            return a;
        }
        return url_parse_1.default(url);
    }
    URLExt.parse = parse;
    function normalize(url) {
        return url && parse(url).toString();
    }
    URLExt.normalize = normalize;
    /**
     * Join a sequence of url components and normalizes as in node `path.join`.
     *
     * @param parts - The url components.
     *
     * @returns the joined url.
     */
    function join(...parts) {
        parts = parts || [];
        // Isolate the top element.
        const top = parts[0] || '';
        // Check whether protocol shorthand is being used.
        const shorthand = top.indexOf('//') === 0;
        // Parse the top element into a header collection.
        const header = top.match(/(\w+)(:)(\/\/)?/);
        const protocol = header && header[1];
        const colon = protocol && header[2];
        const slashes = colon && header[3];
        // Construct the URL prefix.
        const prefix = shorthand
            ? '//'
            : [protocol, colon, slashes].filter(str => str).join('');
        // Construct the URL body omitting the prefix of the top value.
        const body = [top.indexOf(prefix) === 0 ? top.replace(prefix, '') : top]
            // Filter out top value if empty.
            .filter(str => str)
            // Remove leading slashes in all subsequent URL body elements.
            .concat(parts.slice(1).map(str => str.replace(/^\//, '')))
            .join('/')
            // Replace multiple slashes with one.
            .replace(/\/+/g, '/');
        return prefix + body;
    }
    URLExt.join = join;
    /**
     * Encode the components of a multi-segment url.
     *
     * @param url - The url to encode.
     *
     * @returns the encoded url.
     *
     * #### Notes
     * Preserves the `'/'` separators.
     * Should not include the base url, since all parts are escaped.
     */
    function encodeParts(url) {
        return join(...url.split('/').map(encodeURIComponent));
    }
    URLExt.encodeParts = encodeParts;
    /**
     * Return a serialized object string suitable for a query.
     *
     * @param object - The source object.
     *
     * @returns an encoded url query.
     *
     * #### Notes
     * Modified version of [stackoverflow](http://stackoverflow.com/a/30707423).
     */
    function objectToQueryString(value) {
        const keys = Object.keys(value).filter(key => key.length > 0);
        if (!keys.length) {
            return '';
        }
        return ('?' +
            keys
                .map(key => {
                const content = encodeURIComponent(String(value[key]));
                return key + (content ? '=' + content : '');
            })
                .join('&'));
    }
    URLExt.objectToQueryString = objectToQueryString;
    /**
     * Return a parsed object that represents the values in a query string.
     */
    function queryStringToObject(value) {
        return value
            .replace(/^\?/, '')
            .split('&')
            .reduce((acc, val) => {
            const [key, value] = val.split('=');
            if (key.length > 0) {
                acc[key] = decodeURIComponent(value || '');
            }
            return acc;
        }, {});
    }
    URLExt.queryStringToObject = queryStringToObject;
    /**
     * Test whether the url is a local url.
     *
     * #### Notes
     * This function returns `false` for any fully qualified url, including
     * `data:`, `file:`, and `//` protocol URLs.
     */
    function isLocal(url) {
        const { protocol } = parse(url);
        return ((!protocol || url.toLowerCase().indexOf(protocol) !== 0) &&
            url.indexOf('/') !== 0);
    }
    URLExt.isLocal = isLocal;
})(URLExt = exports.URLExt || (exports.URLExt = {}));
//# sourceMappingURL=url.js.map

/***/ }),

/***/ "WzAK":
/*!*****************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/components/index.js ***!
  \*****************************************************************************************************/
/*! exports provided: HTML_SELECT_CLASS, HTMLSelect, DEFAULT_STYLE_CLASS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _htmlselect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./htmlselect */ "ZJZM");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HTML_SELECT_CLASS", function() { return _htmlselect__WEBPACK_IMPORTED_MODULE_0__["HTML_SELECT_CLASS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HTMLSelect", function() { return _htmlselect__WEBPACK_IMPORTED_MODULE_0__["HTMLSelect"]; });

/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interface */ "JA/Q");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_STYLE_CLASS", function() { return _interface__WEBPACK_IMPORTED_MODULE_1__["DEFAULT_STYLE_CLASS"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "XZQe":
/*!***************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/observables/lib/observablestring.js ***!
  \***************************************************************************************************/
/*! exports provided: ObservableString */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObservableString", function() { return ObservableString; });
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * A concrete implementation of [[IObservableString]]
 */
class ObservableString {
    /**
     * Construct a new observable string.
     */
    constructor(initialText = '') {
        this._text = '';
        this._isDisposed = false;
        this._changed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__["Signal"](this);
        this._text = initialText;
    }
    /**
     * The type of the Observable.
     */
    get type() {
        return 'String';
    }
    /**
     * A signal emitted when the string has changed.
     */
    get changed() {
        return this._changed;
    }
    /**
     * Set the value of the string.
     */
    set text(value) {
        if (value.length === this._text.length && value === this._text) {
            return;
        }
        this._text = value;
        this._changed.emit({
            type: 'set',
            start: 0,
            end: value.length,
            value: value
        });
    }
    /**
     * Get the value of the string.
     */
    get text() {
        return this._text;
    }
    /**
     * Insert a substring.
     *
     * @param index - The starting index.
     *
     * @param text - The substring to insert.
     */
    insert(index, text) {
        this._text = this._text.slice(0, index) + text + this._text.slice(index);
        this._changed.emit({
            type: 'insert',
            start: index,
            end: index + text.length,
            value: text
        });
    }
    /**
     * Remove a substring.
     *
     * @param start - The starting index.
     *
     * @param end - The ending index.
     */
    remove(start, end) {
        let oldValue = this._text.slice(start, end);
        this._text = this._text.slice(0, start) + this._text.slice(end);
        this._changed.emit({
            type: 'remove',
            start: start,
            end: end,
            value: oldValue
        });
    }
    /**
     * Set the ObservableString to an empty string.
     */
    clear() {
        this.text = '';
    }
    /**
     * Test whether the string has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the string.
     */
    dispose() {
        if (this._isDisposed) {
            return;
        }
        this._isDisposed = true;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__["Signal"].clearData(this);
        this.clear();
    }
}
//# sourceMappingURL=observablestring.js.map

/***/ }),

/***/ "XpOT":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/mainareawidget.css ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2016, Jupyter Development Team.\n|\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-MainAreaWidget > :focus {\n  outline: none;\n}\n", ""]);


/***/ }),

/***/ "XyKy":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/tokens.js ***!
  \*****************************************************************************************/
/*! exports provided: IConnectionLost, IRouter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IConnectionLost", function() { return IConnectionLost; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IRouter", function() { return IRouter; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * A token for which a plugin can provide to respond to connection failures
 * to the application server.
 */
const IConnectionLost = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/apputils:IConnectionLost');
/**
 * The URL Router token.
 */
const IRouter = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/application:IRouter');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "YEk9":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/defaults/lineCol.js ***!
  \*************************************************************************************************/
/*! exports provided: LineCol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LineCol", function() { return LineCol; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! .. */ "8R0s");
/* harmony import */ var _style_lineForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../style/lineForm */ "xCN4");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.






/**
 * A component for rendering a "go-to-line" form.
 */
class LineFormComponent extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {
    /**
     * Construct a new LineFormComponent.
     */
    constructor(props) {
        super(props);
        /**
         * Handle a change to the value in the input field.
         */
        this._handleChange = (event) => {
            this.setState({ value: event.currentTarget.value });
        };
        /**
         * Handle submission of the input field.
         */
        this._handleSubmit = (event) => {
            event.preventDefault();
            const value = parseInt(this._textInput.value, 10);
            if (!isNaN(value) &&
                isFinite(value) &&
                1 <= value &&
                value <= this.props.maxLine) {
                this.props.handleSubmit(value);
            }
            return false;
        };
        /**
         * Handle focusing of the input field.
         */
        this._handleFocus = () => {
            this.setState({ hasFocus: true });
        };
        /**
         * Handle blurring of the input field.
         */
        this._handleBlur = () => {
            this.setState({ hasFocus: false });
        };
        this._textInput = null;
        this.state = {
            value: '',
            hasFocus: false
        };
    }
    /**
     * Focus the element on mount.
     */
    componentDidMount() {
        this._textInput.focus();
    }
    /**
     * Render the LineFormComponent.
     */
    render() {
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: _style_lineForm__WEBPACK_IMPORTED_MODULE_5__["lineFormSearch"] },
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", { name: "lineColumnForm", onSubmit: this._handleSubmit, noValidate: true },
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_3__["classes"])(_style_lineForm__WEBPACK_IMPORTED_MODULE_5__["lineFormWrapper"], 'lm-lineForm-wrapper', this.state.hasFocus ? _style_lineForm__WEBPACK_IMPORTED_MODULE_5__["lineFormWrapperFocusWithin"] : undefined) },
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", { type: "text", className: _style_lineForm__WEBPACK_IMPORTED_MODULE_5__["lineFormInput"], onChange: this._handleChange, onFocus: this._handleFocus, onBlur: this._handleBlur, value: this.state.value, ref: input => {
                            this._textInput = input;
                        } }),
                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", { className: _style_lineForm__WEBPACK_IMPORTED_MODULE_5__["lineFormButtonDiv"] },
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__["lineFormIcon"].react, { className: _style_lineForm__WEBPACK_IMPORTED_MODULE_5__["lineFormButtonIcon"], justify: "center" }),
                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", { type: "submit", className: _style_lineForm__WEBPACK_IMPORTED_MODULE_5__["lineFormButton"], value: "" }))),
                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", { className: _style_lineForm__WEBPACK_IMPORTED_MODULE_5__["lineFormCaption"] },
                    "Go to line number between 1 and ",
                    this.props.maxLine))));
    }
}
/**
 * A pure functional component for rendering a line/column
 * status item.
 */
function LineColComponent(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_4__["TextItem"], { onClick: props.handleClick, source: `Ln ${props.line}, Col ${props.column}`, title: "Go to line number\u2026" }));
}
/**
 * A widget implementing a line/column status item.
 */
class LineCol extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomRenderer"] {
    /**
     * Construct a new LineCol status item.
     */
    constructor() {
        super(new LineCol.Model());
        this._popup = null;
        this.addClass(___WEBPACK_IMPORTED_MODULE_4__["interactiveItem"]);
    }
    /**
     * Render the status item.
     */
    render() {
        if (this.model === null) {
            return null;
        }
        else {
            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LineColComponent, { line: this.model.line, column: this.model.column, handleClick: () => this._handleClick() }));
        }
    }
    /**
     * A click handler for the widget.
     */
    _handleClick() {
        if (this._popup) {
            this._popup.dispose();
        }
        const body = _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["ReactWidget"].create(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LineFormComponent, { handleSubmit: val => this._handleSubmit(val), currentLine: this.model.line, maxLine: this.model.editor.lineCount }));
        this._popup = Object(___WEBPACK_IMPORTED_MODULE_4__["showPopup"])({
            body: body,
            anchor: this,
            align: 'right'
        });
    }
    /**
     * Handle submission for the widget.
     */
    _handleSubmit(value) {
        this.model.editor.setCursorPosition({ line: value - 1, column: 0 });
        this._popup.dispose();
        this.model.editor.focus();
    }
}
/**
 * A namespace for LineCol statics.
 */
(function (LineCol) {
    /**
     * A VDom model for a status item tracking the line/column of an editor.
     */
    class Model extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomModel"] {
        constructor() {
            super(...arguments);
            /**
             * React to a change in the cursors of the current editor.
             */
            this._onSelectionChanged = () => {
                const oldState = this._getAllState();
                const pos = this.editor.getCursorPosition();
                this._line = pos.line + 1;
                this._column = pos.column + 1;
                this._triggerChange(oldState, this._getAllState());
            };
            this._line = 1;
            this._column = 1;
            this._editor = null;
        }
        /**
         * The current editor of the model.
         */
        get editor() {
            return this._editor;
        }
        set editor(editor) {
            const oldEditor = this._editor;
            if (oldEditor) {
                oldEditor.model.selections.changed.disconnect(this._onSelectionChanged);
            }
            const oldState = this._getAllState();
            this._editor = editor;
            if (!this._editor) {
                this._column = 1;
                this._line = 1;
            }
            else {
                this._editor.model.selections.changed.connect(this._onSelectionChanged);
                const pos = this._editor.getCursorPosition();
                this._column = pos.column + 1;
                this._line = pos.line + 1;
            }
            this._triggerChange(oldState, this._getAllState());
        }
        /**
         * The current line of the model.
         */
        get line() {
            return this._line;
        }
        /**
         * The current column of the model.
         */
        get column() {
            return this._column;
        }
        _getAllState() {
            return [this._line, this._column];
        }
        _triggerChange(oldState, newState) {
            if (oldState[0] !== newState[0] || oldState[1] !== newState[1]) {
                this.stateChanged.emit(void 0);
            }
        }
    }
    LineCol.Model = Model;
})(LineCol || (LineCol = {}));
//# sourceMappingURL=lineCol.js.map

/***/ }),

/***/ "YdKB":
/*!*************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/index.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./config */ "1IYD"));
__export(__webpack_require__(/*! ./contents */ "7bmR"));
__export(__webpack_require__(/*! ./kernel */ "461y"));
__export(__webpack_require__(/*! ./kernelspec */ "MuUM"));
__export(__webpack_require__(/*! ./manager */ "ausW"));
__export(__webpack_require__(/*! ./serverconnection */ "gY1d"));
__export(__webpack_require__(/*! ./session */ "MaQl"));
__export(__webpack_require__(/*! ./setting */ "i0ge"));
__export(__webpack_require__(/*! ./terminal */ "xejO"));
__export(__webpack_require__(/*! ./workspace */ "t7Ml"));
__export(__webpack_require__(/*! ./nbconvert */ "TNeX"));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "YepR":
/*!*****************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernelspec/kernelspec.js ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
//# sourceMappingURL=kernelspec.js.map

/***/ }),

/***/ "YhD1":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/connectionlost.js ***!
  \*************************************************************************************************/
/*! exports provided: ConnectionLost */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectionLost", function() { return ConnectionLost; });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * A default connection lost handler, which brings up an error dialog.
 */
const ConnectionLost = async function (manager, err) {
    const title = 'Server Connection Error';
    const networkMsg = 'A connection to the Jupyter server could not be established.\n' +
        'JupyterLab will continue trying to reconnect.\n' +
        'Check your network connection or Jupyter server configuration.\n';
    return Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["showErrorMessage"])(title, { message: networkMsg });
};
//# sourceMappingURL=connectionlost.js.map

/***/ }),

/***/ "ZEgq":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/deprecated/search-white.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 18 18' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='%23fff'%3E %3Cpath d='M12.1,10.9h-0.7l-0.2-0.2c0.8-0.9,1.3-2.2,1.3-3.5c0-3-2.4-5.4-5.4-5.4S1.8,4.2,1.8,7.1s2.4,5.4,5.4,5.4 c1.3,0,2.5-0.5,3.5-1.3l0.2,0.2v0.7l4.1,4.1l1.2-1.2L12.1,10.9z M7.1,10.9c-2.1,0-3.7-1.7-3.7-3.7s1.7-3.7,3.7-3.7s3.7,1.7,3.7,3.7 S9.2,10.9,7.1,10.9z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "ZJZM":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/components/htmlselect.js ***!
  \**********************************************************************************************************/
/*! exports provided: HTML_SELECT_CLASS, HTMLSelect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HTML_SELECT_CLASS", function() { return HTML_SELECT_CLASS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HTMLSelect", function() { return HTMLSelect; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../icon */ "ixyj");
/* harmony import */ var _interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./interface */ "JA/Q");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "P1nB");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




const HTML_SELECT_CLASS = 'jp-HTMLSelect';
class HTMLSelect extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
    render() {
        const _a = this.props, { className, defaultStyle = true, disabled, elementRef, iconProps, icon = _icon__WEBPACK_IMPORTED_MODULE_1__["caretDownEmptyIcon"], options = [] } = _a, htmlProps = __rest(_a, ["className", "defaultStyle", "disabled", "elementRef", "iconProps", "icon", "options"]);
        const cls = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["classes"])(HTML_SELECT_CLASS, {
            [_interface__WEBPACK_IMPORTED_MODULE_2__["DEFAULT_STYLE_CLASS"]]: defaultStyle
        }, className);
        const optionChildren = options.map(option => {
            const props = typeof option === 'object' ? option : { value: option };
            return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("option", Object.assign({}, props, { key: props.value, children: props.label || props.value })));
        });
        return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: cls },
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("select", Object.assign({ disabled: disabled, ref: elementRef }, htmlProps, { multiple: false }),
                optionChildren,
                htmlProps.children),
            react__WEBPACK_IMPORTED_MODULE_0__["createElement"](icon.react, Object.assign({}, Object.assign({ tag: 'span', kind: 'select', right: '7px', top: '5px' }, iconProps)))));
    }
}
//# sourceMappingURL=htmlselect.js.map

/***/ }),

/***/ "ZjPc":
/*!*************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statedb/lib/tokens.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* tslint:disable */
/**
 * The default state database token.
 */
exports.IStateDB = new coreutils_1.Token('@jupyterlab/coreutils:IStateDB');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "aoqG":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codeeditor/lib/editor.js ***!
  \****************************************************************************************/
/*! exports provided: CodeEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeEditor", function() { return CodeEditor; });
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_observables__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/observables */ "d/JO");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.


/**
 * A namespace for code editors.
 *
 * #### Notes
 * - A code editor is a set of common assumptions which hold for all concrete editors.
 * - Changes in implementations of the code editor should only be caused by changes in concrete editors.
 * - Common JLab services which are based on the code editor should belong to `IEditorServices`.
 */
var CodeEditor;
(function (CodeEditor) {
    /**
     * The default selection style.
     */
    CodeEditor.defaultSelectionStyle = {
        className: '',
        displayName: '',
        color: 'black'
    };
    /**
     * The default implementation of the editor model.
     */
    class Model {
        /**
         * Construct a new Model.
         */
        constructor(options) {
            this._isDisposed = false;
            this._mimeTypeChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__["Signal"](this);
            options = options || {};
            if (options.modelDB) {
                this.modelDB = options.modelDB;
            }
            else {
                this.modelDB = new _jupyterlab_observables__WEBPACK_IMPORTED_MODULE_1__["ModelDB"]();
            }
            let value = this.modelDB.createString('value');
            value.text = value.text || options.value || '';
            let mimeType = this.modelDB.createValue('mimeType');
            mimeType.set(options.mimeType || 'text/plain');
            mimeType.changed.connect(this._onMimeTypeChanged, this);
            this.modelDB.createMap('selections');
        }
        /**
         * A signal emitted when a mimetype changes.
         */
        get mimeTypeChanged() {
            return this._mimeTypeChanged;
        }
        /**
         * Get the value of the model.
         */
        get value() {
            return this.modelDB.get('value');
        }
        /**
         * Get the selections for the model.
         */
        get selections() {
            return this.modelDB.get('selections');
        }
        /**
         * A mime type of the model.
         */
        get mimeType() {
            return this.modelDB.getValue('mimeType');
        }
        set mimeType(newValue) {
            const oldValue = this.mimeType;
            if (oldValue === newValue) {
                return;
            }
            this.modelDB.setValue('mimeType', newValue);
        }
        /**
         * Whether the model is disposed.
         */
        get isDisposed() {
            return this._isDisposed;
        }
        /**
         * Dispose of the resources used by the model.
         */
        dispose() {
            if (this._isDisposed) {
                return;
            }
            this._isDisposed = true;
            this.value.text = '';
            _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__["Signal"].clearData(this);
        }
        _onMimeTypeChanged(mimeType, args) {
            this._mimeTypeChanged.emit({
                name: 'mimeType',
                oldValue: args.oldValue,
                newValue: args.newValue
            });
        }
    }
    CodeEditor.Model = Model;
    /**
     * The default configuration options for an editor.
     */
    CodeEditor.defaultConfig = {
        fontFamily: null,
        fontSize: null,
        lineHeight: null,
        lineNumbers: false,
        lineWrap: 'on',
        wordWrapColumn: 80,
        readOnly: false,
        tabSize: 4,
        insertSpaces: true,
        matchBrackets: true,
        autoClosingBrackets: true,
        rulers: [],
        codeFolding: false
    };
})(CodeEditor || (CodeEditor = {}));
//# sourceMappingURL=editor.js.map

/***/ }),

/***/ "ausW":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/manager.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const builder_1 = __webpack_require__(/*! ./builder */ "Irls");
const nbconvert_1 = __webpack_require__(/*! ./nbconvert */ "TNeX");
const contents_1 = __webpack_require__(/*! ./contents */ "7bmR");
const kernelspec_1 = __webpack_require__(/*! ./kernelspec */ "MuUM");
const session_1 = __webpack_require__(/*! ./session */ "MaQl");
const setting_1 = __webpack_require__(/*! ./setting */ "i0ge");
const terminal_1 = __webpack_require__(/*! ./terminal */ "xejO");
const serverconnection_1 = __webpack_require__(/*! ./serverconnection */ "gY1d");
const workspace_1 = __webpack_require__(/*! ./workspace */ "t7Ml");
const kernel_1 = __webpack_require__(/*! ./kernel */ "461y");
/**
 * A Jupyter services manager.
 */
class ServiceManager {
    /**
     * Construct a new services provider.
     */
    constructor(options = {}) {
        var _a, _b;
        this._isDisposed = false;
        this._connectionFailure = new signaling_1.Signal(this);
        this._isReady = false;
        const defaultDrive = options.defaultDrive;
        const serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : serverconnection_1.ServerConnection.makeSettings()));
        const standby = (_b = options.standby, (_b !== null && _b !== void 0 ? _b : 'when-hidden'));
        const normalized = { defaultDrive, serverSettings, standby };
        const kernelManager = new kernel_1.KernelManager(normalized);
        this.serverSettings = serverSettings;
        this.contents = new contents_1.ContentsManager(normalized);
        this.sessions = new session_1.SessionManager(Object.assign(Object.assign({}, normalized), { kernelManager: kernelManager }));
        this.settings = new setting_1.SettingManager(normalized);
        this.terminals = new terminal_1.TerminalManager(normalized);
        this.builder = new builder_1.BuildManager(normalized);
        this.workspaces = new workspace_1.WorkspaceManager(normalized);
        this.nbconvert = new nbconvert_1.NbConvertManager(normalized);
        this.kernelspecs = new kernelspec_1.KernelSpecManager(normalized);
        // Relay connection failures from the service managers that poll
        // the server for current information.
        this.kernelspecs.connectionFailure.connect(this._onConnectionFailure, this);
        this.sessions.connectionFailure.connect(this._onConnectionFailure, this);
        this.terminals.connectionFailure.connect(this._onConnectionFailure, this);
        let readyList = [this.sessions.ready, this.kernelspecs.ready];
        if (this.terminals.isAvailable()) {
            readyList.push(this.terminals.ready);
        }
        this._readyPromise = Promise.all(readyList).then(() => {
            this._isReady = true;
        });
    }
    /**
     * A signal emitted when there is a connection failure with the kernel.
     */
    get connectionFailure() {
        return this._connectionFailure;
    }
    /**
     * Test whether the service manager is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources used by the manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        signaling_1.Signal.clearData(this);
        this.contents.dispose();
        this.sessions.dispose();
        this.terminals.dispose();
    }
    /**
     * Test whether the manager is ready.
     */
    get isReady() {
        return this._isReady;
    }
    /**
     * A promise that fulfills when the manager is ready.
     */
    get ready() {
        return this._readyPromise;
    }
    _onConnectionFailure(sender, err) {
        this._connectionFailure.emit(err);
    }
}
exports.ServiceManager = ServiceManager;
//# sourceMappingURL=manager.js.map

/***/ }),

/***/ "bNYJ":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/session/restapi.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const validate_1 = __webpack_require__(/*! ./validate */ "xxa+");
/**
 * The url for the session service.
 */
exports.SESSION_SERVICE_URL = 'api/sessions';
/**
 * List the running sessions.
 */
async function listRunning(settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.SESSION_SERVICE_URL);
    let response = await serverconnection_1.ServerConnection.makeRequest(url, {}, settings);
    if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    if (!Array.isArray(data)) {
        throw new Error('Invalid Session list');
    }
    data.forEach(m => {
        validate_1.updateLegacySessionModel(m);
        validate_1.validateModel(m);
    });
    return data;
}
exports.listRunning = listRunning;
/**
 * Get a session url.
 */
function getSessionUrl(baseUrl, id) {
    return coreutils_1.URLExt.join(baseUrl, exports.SESSION_SERVICE_URL, id);
}
exports.getSessionUrl = getSessionUrl;
/**
 * Shut down a session by id.
 */
async function shutdownSession(id, settings = serverconnection_1.ServerConnection.makeSettings()) {
    var _a;
    let url = getSessionUrl(settings.baseUrl, id);
    let init = { method: 'DELETE' };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status === 404) {
        let data = await response.json();
        let msg = (_a = data.message, (_a !== null && _a !== void 0 ? _a : `The session "${id}"" does not exist on the server`));
        console.warn(msg);
    }
    else if (response.status === 410) {
        throw new serverconnection_1.ServerConnection.ResponseError(response, 'The kernel was deleted but the session was not');
    }
    else if (response.status !== 204) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
}
exports.shutdownSession = shutdownSession;
/**
 * Get a full session model from the server by session id string.
 */
async function getSessionModel(id, settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = getSessionUrl(settings.baseUrl, id);
    let response = await serverconnection_1.ServerConnection.makeRequest(url, {}, settings);
    if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    validate_1.updateLegacySessionModel(data);
    validate_1.validateModel(data);
    return data;
}
exports.getSessionModel = getSessionModel;
/**
 * Create a new session, or return an existing session if the session path
 * already exists.
 */
async function startSession(options, settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.SESSION_SERVICE_URL);
    let init = {
        method: 'POST',
        body: JSON.stringify(options)
    };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status !== 201) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    validate_1.updateLegacySessionModel(data);
    validate_1.validateModel(data);
    return data;
}
exports.startSession = startSession;
/**
 * Send a PATCH to the server, updating the session path or the kernel.
 */
async function updateSession(model, settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = getSessionUrl(settings.baseUrl, model.id);
    let init = {
        method: 'PATCH',
        body: JSON.stringify(model)
    };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    validate_1.updateLegacySessionModel(data);
    validate_1.validateModel(data);
    return data;
}
exports.updateSession = updateSession;
//# sourceMappingURL=restapi.js.map

/***/ }),

/***/ "bapi":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/sessioncontext.js ***!
  \**********************************************************************************************/
/*! exports provided: SessionContext, sessionContextDialogs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionContext", function() { return SessionContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sessionContextDialogs", function() { return sessionContextDialogs; });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dialog */ "HEhr");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.








/**
 * The default implementation for a session context object.
 */
class SessionContext {
    /**
     * Construct a new session context.
     */
    constructor(options) {
        var _a, _b, _c, _d;
        this._path = '';
        this._name = '';
        this._type = '';
        this._prevKernelName = '';
        this._isDisposed = false;
        this._disposed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._session = null;
        this._ready = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["PromiseDelegate"]();
        this._initializing = false;
        this._initPromise = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["PromiseDelegate"]();
        this._isReady = false;
        this._kernelChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._sessionChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._statusChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._connectionStatusChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._iopubMessage = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._unhandledMessage = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._propertyChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        this._dialog = null;
        this._busyDisposable = null;
        this.sessionManager = options.sessionManager;
        this.specsManager = options.specsManager;
        this._path = (_a = options.path, (_a !== null && _a !== void 0 ? _a : _lumino_coreutils__WEBPACK_IMPORTED_MODULE_1__["UUID"].uuid4()));
        this._type = (_b = options.type, (_b !== null && _b !== void 0 ? _b : ''));
        this._name = (_c = options.name, (_c !== null && _c !== void 0 ? _c : ''));
        this._setBusy = options.setBusy;
        this._kernelPreference = (_d = options.kernelPreference, (_d !== null && _d !== void 0 ? _d : {}));
    }
    /**
     * The current session connection.
     */
    get session() {
        var _a;
        return _a = this._session, (_a !== null && _a !== void 0 ? _a : null);
    }
    /**
     * The session path.
     *
     * #### Notes
     * Typically `.session.path` should be used. This attribute is useful if
     * there is no current session.
     */
    get path() {
        return this._path;
    }
    /**
     * The session type.
     *
     * #### Notes
     * Typically `.session.type` should be used. This attribute is useful if
     * there is no current session.
     */
    get type() {
        return this._type;
    }
    /**
     * The session name.
     *
     * #### Notes
     * Typically `.session.name` should be used. This attribute is useful if
     * there is no current session.
     */
    get name() {
        return this._name;
    }
    /**
     * A signal emitted when the kernel connection changes, proxied from the session connection.
     */
    get kernelChanged() {
        return this._kernelChanged;
    }
    /**
     * A signal emitted when the session connection changes.
     */
    get sessionChanged() {
        return this._sessionChanged;
    }
    /**
     * A signal emitted when the kernel status changes, proxied from the kernel.
     */
    get statusChanged() {
        return this._statusChanged;
    }
    /**
     * A signal emitted when the kernel status changes, proxied from the kernel.
     */
    get connectionStatusChanged() {
        return this._connectionStatusChanged;
    }
    /**
     * A signal emitted for iopub kernel messages, proxied from the kernel.
     */
    get iopubMessage() {
        return this._iopubMessage;
    }
    /**
     * A signal emitted for an unhandled kernel message, proxied from the kernel.
     */
    get unhandledMessage() {
        return this._unhandledMessage;
    }
    /**
     * A signal emitted when a session property changes, proxied from the current session.
     */
    get propertyChanged() {
        return this._propertyChanged;
    }
    /**
     * The kernel preference of this client session.
     *
     * This is used when selecting a new kernel, and should reflect the sort of
     * kernel the activity prefers.
     */
    get kernelPreference() {
        return this._kernelPreference;
    }
    set kernelPreference(value) {
        this._kernelPreference = value;
    }
    /**
     * Whether the context is ready.
     */
    get isReady() {
        return this._isReady;
    }
    /**
     * A promise that is fulfilled when the context is ready.
     */
    get ready() {
        return this._ready.promise;
    }
    /**
     * The display name of the current kernel, or a sensible alternative.
     *
     * #### Notes
     * This is a convenience function to have a consistent sensible name for the
     * kernel.
     */
    get kernelDisplayName() {
        var _a, _b, _c, _d;
        let kernel = (_a = this.session) === null || _a === void 0 ? void 0 : _a.kernel;
        if (!kernel &&
            !this.isReady &&
            this.kernelPreference.canStart !== false &&
            this.kernelPreference.shouldStart !== false) {
            return 'Kernel';
        }
        if (!kernel) {
            return 'No Kernel!';
        }
        return (_d = (_c = (_b = this.specsManager.specs) === null || _b === void 0 ? void 0 : _b.kernelspecs[kernel.name]) === null || _c === void 0 ? void 0 : _c.display_name, (_d !== null && _d !== void 0 ? _d : kernel.name));
    }
    /**
     * A sensible status to display
     *
     * #### Notes
     * This combines the status and connection status into a single status for
     * the user.
     */
    get kernelDisplayStatus() {
        var _a, _b, _c, _d, _e;
        let kernel = (_a = this.session) === null || _a === void 0 ? void 0 : _a.kernel;
        if (!kernel &&
            !this.isReady &&
            this.kernelPreference.canStart !== false &&
            this.kernelPreference.shouldStart !== false) {
            return 'initializing';
        }
        return (_e = (((_b = kernel) === null || _b === void 0 ? void 0 : _b.connectionStatus) === 'connected'
            ? (_c = kernel) === null || _c === void 0 ? void 0 : _c.status : (_d = kernel) === null || _d === void 0 ? void 0 : _d.connectionStatus), (_e !== null && _e !== void 0 ? _e : ''));
    }
    /**
     * The name of the previously started kernel.
     */
    get prevKernelName() {
        return this._prevKernelName;
    }
    /**
     * Test whether the context is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * A signal emitted when the poll is disposed.
     */
    get disposed() {
        return this._disposed;
    }
    /**
     * Dispose of the resources held by the context.
     */
    dispose() {
        if (this._isDisposed) {
            return;
        }
        this._isDisposed = true;
        this._disposed.emit();
        if (this._session) {
            if (this.kernelPreference.shutdownOnDispose) {
                // Fire and forget the session shutdown request
                this._session.shutdown().catch(reason => {
                    console.error(`Kernel not shut down ${reason}`);
                });
            }
            // Dispose the session connection
            this._session.dispose();
            this._session = null;
        }
        if (this._dialog) {
            this._dialog.dispose();
        }
        if (this._busyDisposable) {
            this._busyDisposable.dispose();
            this._busyDisposable = null;
        }
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"].clearData(this);
    }
    /**
     * Change the current kernel associated with the session.
     */
    async changeKernel(options = {}) {
        await this.initialize();
        if (this.isDisposed) {
            throw new Error('Disposed');
        }
        return this._changeKernel(options);
    }
    /**
     * Kill the kernel and shutdown the session.
     *
     * @returns A promise that resolves when the session is shut down.
     */
    async shutdown() {
        var _a;
        return (_a = this._session) === null || _a === void 0 ? void 0 : _a.shutdown();
    }
    /**
     * Initialize the session context
     *
     * @returns A promise that resolves with whether to ask the user to select a kernel.
     *
     * #### Notes
     * If a server session exists on the current path, we will connect to it.
     * If preferences include disabling `canStart` or `shouldStart`, no
     * server session will be started.
     * If a kernel id is given, we attempt to start a session with that id.
     * If a default kernel is available, we connect to it.
     * Otherwise we ask the user to select a kernel.
     */
    async initialize() {
        if (this._initializing) {
            return this._initPromise.promise;
        }
        this._initializing = true;
        let manager = this.sessionManager;
        await manager.ready;
        let model = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["find"])(manager.running(), item => {
            return item.path === this._path;
        });
        if (model) {
            try {
                let session = manager.connectTo({ model });
                this._handleNewSession(session);
            }
            catch (err) {
                void this._handleSessionError(err);
                return Promise.reject(err);
            }
        }
        const needsSelection = await this._startIfNecessary();
        if (!needsSelection) {
            this._isReady = true;
            this._ready.resolve(undefined);
        }
        this._initPromise.resolve(needsSelection);
        return needsSelection;
    }
    /**
     * Start the session if necessary.
     *
     * @returns Whether to ask the user to pick a kernel.
     */
    async _startIfNecessary() {
        var _a;
        let preference = this.kernelPreference;
        if (this.isDisposed || ((_a = this.session) === null || _a === void 0 ? void 0 : _a.kernel) ||
            preference.shouldStart === false ||
            preference.canStart === false) {
            // Not necessary to start a kernel
            return false;
        }
        let options;
        if (preference.id) {
            options = { id: preference.id };
        }
        else {
            let name = SessionContext.getDefaultKernel({
                specs: this.specsManager.specs,
                sessions: this.sessionManager.running(),
                preference
            });
            if (name) {
                options = { name };
            }
        }
        if (options) {
            try {
                await this._changeKernel(options);
                return false;
            }
            catch (err) {
                /* no-op */
            }
        }
        // Always fall back to selecting a kernel
        return true;
    }
    /**
     * Change the kernel.
     */
    async _changeKernel(options = {}) {
        var _a;
        if (this.isDisposed) {
            throw new Error('Disposed');
        }
        let session = this._session;
        if (session && ((_a = session.kernel) === null || _a === void 0 ? void 0 : _a.status) !== 'dead') {
            try {
                return session.changeKernel(options);
            }
            catch (err) {
                void this._handleSessionError(err);
                throw err;
            }
        }
        else {
            return this._startSession(options);
        }
    }
    /**
     * Start a session and set up its signals.
     */
    async _startSession(model = {}) {
        if (this.isDisposed) {
            throw 'Client session is disposed.';
        }
        try {
            const session = await this.sessionManager.startNew({
                path: this._path,
                type: this._type,
                name: this._name,
                kernel: model
            });
            return this._handleNewSession(session);
        }
        catch (err) {
            void this._handleSessionError(err);
            throw err;
        }
    }
    /**
     * Handle a new session object.
     */
    _handleNewSession(session) {
        var _a, _b;
        if (this.isDisposed) {
            throw Error('Disposed');
        }
        if (!this._isReady) {
            this._isReady = true;
            this._ready.resolve(undefined);
        }
        if (this._session) {
            this._session.dispose();
        }
        this._session = session;
        this._prevKernelName = (_b = (_a = session.kernel) === null || _a === void 0 ? void 0 : _a.name, (_b !== null && _b !== void 0 ? _b : ''));
        session.disposed.connect(this._onSessionDisposed, this);
        session.propertyChanged.connect(this._onPropertyChanged, this);
        session.kernelChanged.connect(this._onKernelChanged, this);
        session.statusChanged.connect(this._onStatusChanged, this);
        session.connectionStatusChanged.connect(this._onConnectionStatusChanged, this);
        session.iopubMessage.connect(this._onIopubMessage, this);
        session.unhandledMessage.connect(this._onUnhandledMessage, this);
        if (session.path !== this._path) {
            this._onPropertyChanged(session, 'path');
        }
        if (session.name !== this._name) {
            this._onPropertyChanged(session, 'name');
        }
        if (session.type !== this._type) {
            this._onPropertyChanged(session, 'type');
        }
        // Any existing kernel connection was disposed above when the session was
        // disposed, so the oldValue should be null.
        this._kernelChanged.emit({
            oldValue: null,
            newValue: session.kernel,
            name: 'kernel'
        });
        return session.kernel;
    }
    /**
     * Handle an error in session startup.
     */
    async _handleSessionError(err) {
        let text = await err.response.text();
        let message = err.message;
        try {
            message = JSON.parse(text)['traceback'];
        }
        catch (err) {
            // no-op
        }
        let dialog = (this._dialog = new _dialog__WEBPACK_IMPORTED_MODULE_6__["Dialog"]({
            title: 'Error Starting Kernel',
            body: react__WEBPACK_IMPORTED_MODULE_5__["createElement"]("pre", null, message),
            buttons: [_dialog__WEBPACK_IMPORTED_MODULE_6__["Dialog"].okButton()]
        }));
        await dialog.launch();
        this._dialog = null;
    }
    /**
     * Handle a session termination.
     */
    _onSessionDisposed() {
        if (this._session) {
            this._session.dispose();
            const oldValue = this._session;
            this._session = null;
            const newValue = this._session;
            this._sessionChanged.emit({ name: 'session', oldValue, newValue });
        }
    }
    /**
     * Handle a change to a session property.
     */
    _onPropertyChanged(sender, property) {
        switch (property) {
            case 'path':
                this._path = sender.path;
                break;
            case 'name':
                this._name = sender.name;
                break;
            case 'type':
                this._type = sender.type;
                break;
            default:
                throw new Error(`unrecognized property ${property}`);
        }
        this._propertyChanged.emit(property);
    }
    /**
     * Handle a change to the kernel.
     */
    _onKernelChanged(sender, args) {
        this._kernelChanged.emit(args);
    }
    /**
     * Handle a change to the session status.
     */
    _onStatusChanged(sender, status) {
        // Set that this kernel is busy, if we haven't already
        // If we have already, and now we aren't busy, dispose
        // of the busy disposable.
        if (this._setBusy) {
            if (status === 'busy') {
                if (!this._busyDisposable) {
                    this._busyDisposable = this._setBusy();
                }
            }
            else {
                if (this._busyDisposable) {
                    this._busyDisposable.dispose();
                    this._busyDisposable = null;
                }
            }
        }
        // Proxy the signal
        this._statusChanged.emit(status);
    }
    /**
     * Handle a change to the session status.
     */
    _onConnectionStatusChanged(sender, status) {
        // Proxy the signal
        this._connectionStatusChanged.emit(status);
    }
    /**
     * Handle an iopub message.
     */
    _onIopubMessage(sender, message) {
        this._iopubMessage.emit(message);
    }
    /**
     * Handle an unhandled message.
     */
    _onUnhandledMessage(sender, message) {
        this._unhandledMessage.emit(message);
    }
}
/**
 * A namespace for `SessionContext` statics.
 */
(function (SessionContext) {
    /**
     * Get the default kernel name given select options.
     */
    function getDefaultKernel(options) {
        return Private.getDefaultKernel(options);
    }
    SessionContext.getDefaultKernel = getDefaultKernel;
})(SessionContext || (SessionContext = {}));
/**
 * The default implementation of the client sesison dialog provider.
 */
const sessionContextDialogs = {
    /**
     * Select a kernel for the session.
     */
    async selectKernel(sessionContext) {
        var _a, _b, _c, _d;
        if (sessionContext.isDisposed) {
            return Promise.resolve();
        }
        // If there is no existing kernel, offer the option
        // to keep no kernel.
        let label = 'Cancel';
        if (!((_b = (_a = sessionContext) === null || _a === void 0 ? void 0 : _a.session) === null || _b === void 0 ? void 0 : _b.kernel)) {
            label = 'No Kernel';
        }
        const buttons = [
            _dialog__WEBPACK_IMPORTED_MODULE_6__["Dialog"].cancelButton({ label }),
            _dialog__WEBPACK_IMPORTED_MODULE_6__["Dialog"].okButton({ label: 'Select' })
        ];
        let dialog = new _dialog__WEBPACK_IMPORTED_MODULE_6__["Dialog"]({
            title: 'Select Kernel',
            body: new Private.KernelSelector(sessionContext),
            buttons
        });
        const result = await dialog.launch();
        if (sessionContext.isDisposed || !result.button.accept) {
            return;
        }
        let model = result.value;
        if (model === null && ((_d = (_c = sessionContext) === null || _c === void 0 ? void 0 : _c.session) === null || _d === void 0 ? void 0 : _d.kernel)) {
            return sessionContext.shutdown();
        }
        if (model) {
            await sessionContext.changeKernel(model);
        }
    },
    /**
     * Restart the session.
     *
     * @returns A promise that resolves with whether the kernel has restarted.
     *
     * #### Notes
     * If there is a running kernel, present a dialog.
     * If there is no kernel, we start a kernel with the last run
     * kernel name and resolves with `true`.
     */
    async restart(sessionContext) {
        var _a;
        await sessionContext.initialize();
        if (sessionContext.isDisposed) {
            throw new Error('session already disposed');
        }
        let kernel = (_a = sessionContext.session) === null || _a === void 0 ? void 0 : _a.kernel;
        if (!kernel && sessionContext.prevKernelName) {
            await sessionContext.changeKernel({
                name: sessionContext.prevKernelName
            });
            return true;
        }
        // Bail if there is no previous kernel to start.
        if (!kernel) {
            throw new Error('No kernel to restart');
        }
        let restartBtn = _dialog__WEBPACK_IMPORTED_MODULE_6__["Dialog"].warnButton({ label: 'Restart' });
        const result = await Object(_dialog__WEBPACK_IMPORTED_MODULE_6__["showDialog"])({
            title: 'Restart Kernel?',
            body: 'Do you want to restart the current kernel? All variables will be lost.',
            buttons: [_dialog__WEBPACK_IMPORTED_MODULE_6__["Dialog"].cancelButton(), restartBtn]
        });
        if (kernel.isDisposed) {
            return false;
        }
        if (result.button.accept) {
            await kernel.restart();
            return true;
        }
        return false;
    }
};
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * A widget that provides a kernel selection.
     */
    class KernelSelector extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_4__["Widget"] {
        /**
         * Create a new kernel selector widget.
         */
        constructor(sessionContext) {
            super({ node: createSelectorNode(sessionContext) });
        }
        /**
         * Get the value of the kernel selector widget.
         */
        getValue() {
            let selector = this.node.querySelector('select');
            return JSON.parse(selector.value);
        }
    }
    Private.KernelSelector = KernelSelector;
    /**
     * Create a node for a kernel selector widget.
     */
    function createSelectorNode(sessionContext) {
        // Create the dialog body.
        let body = document.createElement('div');
        let text = document.createElement('label');
        text.textContent = `Select kernel for: "${sessionContext.name}"`;
        body.appendChild(text);
        let options = getKernelSearch(sessionContext);
        let selector = document.createElement('select');
        populateKernelSelect(selector, options);
        body.appendChild(selector);
        return body;
    }
    /**
     * Get the default kernel name given select options.
     */
    function getDefaultKernel(options) {
        var _a;
        let { specs, preference } = options;
        let { name, language, shouldStart, canStart, autoStartDefault } = preference;
        if (!specs || shouldStart === false || canStart === false) {
            return null;
        }
        let defaultName = autoStartDefault ? specs.default : null;
        if (!name && !language) {
            return defaultName;
        }
        // Look for an exact match of a spec name.
        for (let specName in specs.kernelspecs) {
            if (specName === name) {
                return name;
            }
        }
        // Bail if there is no language.
        if (!language) {
            return defaultName;
        }
        // Check for a single kernel matching the language.
        let matches = [];
        for (let specName in specs.kernelspecs) {
            let kernelLanguage = (_a = specs.kernelspecs[specName]) === null || _a === void 0 ? void 0 : _a.language;
            if (language === kernelLanguage) {
                matches.push(specName);
            }
        }
        if (matches.length === 1) {
            let specName = matches[0];
            console.log('No exact match found for ' +
                specName +
                ', using kernel ' +
                specName +
                ' that matches ' +
                'language=' +
                language);
            return specName;
        }
        // No matches found.
        return defaultName;
    }
    Private.getDefaultKernel = getDefaultKernel;
    /**
     * Populate a kernel select node for the session.
     */
    function populateKernelSelect(node, options) {
        while (node.firstChild) {
            node.removeChild(node.firstChild);
        }
        let { preference, sessions, specs } = options;
        let { name, id, language, canStart, shouldStart } = preference;
        if (!specs || canStart === false) {
            node.appendChild(optionForNone());
            node.value = 'null';
            node.disabled = true;
            return;
        }
        node.disabled = false;
        // Create mappings of display names and languages for kernel name.
        let displayNames = Object.create(null);
        let languages = Object.create(null);
        for (let name in specs.kernelspecs) {
            let spec = specs.kernelspecs[name];
            displayNames[name] = spec.display_name;
            languages[name] = spec.language;
        }
        // Handle a kernel by name.
        let names = [];
        if (name && name in specs.kernelspecs) {
            names.push(name);
        }
        // Then look by language.
        if (language) {
            for (let specName in specs.kernelspecs) {
                if (name !== specName && languages[specName] === language) {
                    names.push(specName);
                }
            }
        }
        // Use the default kernel if no kernels were found.
        if (!names.length) {
            names.push(specs.default);
        }
        // Handle a preferred kernels in order of display name.
        let preferred = document.createElement('optgroup');
        preferred.label = 'Start Preferred Kernel';
        names.sort((a, b) => displayNames[a].localeCompare(displayNames[b]));
        for (let name of names) {
            preferred.appendChild(optionForName(name, displayNames[name]));
        }
        if (preferred.firstChild) {
            node.appendChild(preferred);
        }
        // Add an option for no kernel
        node.appendChild(optionForNone());
        let other = document.createElement('optgroup');
        other.label = 'Start Other Kernel';
        // Add the rest of the kernel names in alphabetical order.
        let otherNames = [];
        for (let specName in specs.kernelspecs) {
            if (names.indexOf(specName) !== -1) {
                continue;
            }
            otherNames.push(specName);
        }
        otherNames.sort((a, b) => displayNames[a].localeCompare(displayNames[b]));
        for (let otherName of otherNames) {
            other.appendChild(optionForName(otherName, displayNames[otherName]));
        }
        // Add a separator option if there were any other names.
        if (otherNames.length) {
            node.appendChild(other);
        }
        // Handle the default value.
        if (shouldStart === false) {
            node.value = 'null';
        }
        else {
            node.selectedIndex = 0;
        }
        // Bail if there are no sessions.
        if (!sessions) {
            return;
        }
        // Add the sessions using the preferred language first.
        let matchingSessions = [];
        let otherSessions = [];
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["each"])(sessions, session => {
            var _a;
            if (language &&
                session.kernel &&
                languages[session.kernel.name] === language &&
                session.kernel.id !== id) {
                matchingSessions.push(session);
            }
            else if (((_a = session.kernel) === null || _a === void 0 ? void 0 : _a.id) !== id) {
                otherSessions.push(session);
            }
        });
        let matching = document.createElement('optgroup');
        matching.label = 'Use Kernel from Preferred Session';
        node.appendChild(matching);
        if (matchingSessions.length) {
            matchingSessions.sort((a, b) => {
                return a.path.localeCompare(b.path);
            });
            Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["each"])(matchingSessions, session => {
                let name = session.kernel ? displayNames[session.kernel.name] : '';
                matching.appendChild(optionForSession(session, name));
            });
        }
        let otherSessionsNode = document.createElement('optgroup');
        otherSessionsNode.label = 'Use Kernel from Other Session';
        node.appendChild(otherSessionsNode);
        if (otherSessions.length) {
            otherSessions.sort((a, b) => {
                return a.path.localeCompare(b.path);
            });
            Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_2__["each"])(otherSessions, session => {
                let name = session.kernel
                    ? displayNames[session.kernel.name] || session.kernel.name
                    : '';
                otherSessionsNode.appendChild(optionForSession(session, name));
            });
        }
    }
    Private.populateKernelSelect = populateKernelSelect;
    /**
     * Get the kernel search options given a session context and session manager.
     */
    function getKernelSearch(sessionContext) {
        return {
            specs: sessionContext.specsManager.specs,
            sessions: sessionContext.sessionManager.running(),
            preference: sessionContext.kernelPreference
        };
    }
    /**
     * Create an option element for a kernel name.
     */
    function optionForName(name, displayName) {
        let option = document.createElement('option');
        option.text = displayName;
        option.value = JSON.stringify({ name });
        return option;
    }
    /**
     * Create an option for no kernel.
     */
    function optionForNone() {
        let group = document.createElement('optgroup');
        group.label = 'Use No Kernel';
        let option = document.createElement('option');
        option.text = 'No Kernel';
        option.value = 'null';
        group.appendChild(option);
        return group;
    }
    /**
     * Create an option element for a session.
     */
    function optionForSession(session, displayName) {
        var _a, _b;
        let option = document.createElement('option');
        let sessionName = session.name || _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PathExt"].basename(session.path);
        option.text = sessionName;
        option.value = JSON.stringify({ id: (_a = session.kernel) === null || _a === void 0 ? void 0 : _a.id });
        option.title =
            `Path: ${session.path}\n` +
                `Name: ${sessionName}\n` +
                `Kernel Name: ${displayName}\n` +
                `Kernel Id: ${(_b = session.kernel) === null || _b === void 0 ? void 0 : _b.id}`;
        return option;
    }
})(Private || (Private = {}));
//# sourceMappingURL=sessioncontext.js.map

/***/ }),

/***/ "bdYP":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/docregistry/style/base.css ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-MimeDocument {\n  outline: none;\n}\n", ""]);


/***/ }),

/***/ "bkHy":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/clipboard.js ***!
  \*****************************************************************************************/
/*! exports provided: Clipboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Clipboard", function() { return Clipboard; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * The clipboard interface.
 */
var Clipboard;
(function (Clipboard) {
    /**
     * Get the application clipboard instance.
     */
    function getInstance() {
        return Private.instance;
    }
    Clipboard.getInstance = getInstance;
    /**
     * Set the application clipboard instance.
     */
    function setInstance(value) {
        Private.instance = value;
    }
    Clipboard.setInstance = setInstance;
    /**
     * Copy text to the system clipboard.
     *
     * #### Notes
     * This can only be called in response to a user input event.
     */
    function copyToSystem(clipboardData) {
        let node = document.body;
        let handler = (event) => {
            let data = event.clipboardData || window.clipboardData;
            if (typeof clipboardData === 'string') {
                data.setData('text', clipboardData);
            }
            else {
                clipboardData.types().map((mimeType) => {
                    data.setData(mimeType, clipboardData.getData(mimeType));
                });
            }
            event.preventDefault();
            node.removeEventListener('copy', handler);
        };
        node.addEventListener('copy', handler);
        generateEvent(node);
    }
    Clipboard.copyToSystem = copyToSystem;
    /**
     * Generate a clipboard event on a node.
     *
     * @param node - The element on which to generate the event.
     *
     * @param type - The type of event to generate.
     *   `'paste'` events cannot be programmatically generated.
     *
     * #### Notes
     * This can only be called in response to a user input event.
     */
    function generateEvent(node, type = 'copy') {
        // http://stackoverflow.com/a/5210367
        var _a;
        // Identify selected text.
        let sel = window.getSelection();
        // Save the current selection.
        let savedRanges = [];
        for (let i = 0, len = ((_a = sel) === null || _a === void 0 ? void 0 : _a.rangeCount) || 0; i < len; ++i) {
            savedRanges[i] = sel.getRangeAt(i).cloneRange();
        }
        // Select the node content.
        let range = document.createRange();
        range.selectNodeContents(node);
        if (sel) {
            sel.removeAllRanges();
            sel.addRange(range);
        }
        // Execute the command.
        document.execCommand(type);
        // Restore the previous selection.
        sel = window.getSelection();
        if (sel) {
            sel.removeAllRanges();
            for (let i = 0, len = savedRanges.length; i < len; ++i) {
                sel.addRange(savedRanges[i]);
            }
        }
    }
    Clipboard.generateEvent = generateEvent;
})(Clipboard || (Clipboard = {}));
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * The application clipboard instance.
     */
    Private.instance = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["MimeData"]();
})(Private || (Private = {}));
//# sourceMappingURL=clipboard.js.map

/***/ }),

/***/ "bnYl":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/components/index.js ***!
  \*************************************************************************************************/
/*! exports provided: ProgressBar, TextItem, GroupItem, showPopup, Popup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _progressBar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./progressBar */ "IzzF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ProgressBar", function() { return _progressBar__WEBPACK_IMPORTED_MODULE_0__["ProgressBar"]; });

/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text */ "h9Cn");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextItem", function() { return _text__WEBPACK_IMPORTED_MODULE_1__["TextItem"]; });

/* harmony import */ var _group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./group */ "QhbH");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GroupItem", function() { return _group__WEBPACK_IMPORTED_MODULE_2__["GroupItem"]; });

/* harmony import */ var _hover__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hover */ "1EMV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "showPopup", function() { return _hover__WEBPACK_IMPORTED_MODULE_3__["showPopup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Popup", function() { return _hover__WEBPACK_IMPORTED_MODULE_3__["Popup"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




//# sourceMappingURL=index.js.map

/***/ }),

/***/ "bt++":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docregistry/lib/default.js ***!
  \******************************************************************************************/
/*! exports provided: DocumentModel, TextModelFactory, Base64ModelFactory, ABCWidgetFactory, DocumentWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentModel", function() { return DocumentModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextModelFactory", function() { return TextModelFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Base64ModelFactory", function() { return Base64ModelFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ABCWidgetFactory", function() { return ABCWidgetFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentWidget", function() { return DocumentWidget; });
/* harmony import */ var _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/codemirror */ "BqCg");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/codeeditor */ "JeIE");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_4__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.





/**
 * The default implementation of a document model.
 */
class DocumentModel extends _jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_3__["CodeEditor"].Model {
    /**
     * Construct a new document model.
     */
    constructor(languagePreference, modelDB) {
        super({ modelDB });
        this._defaultLang = '';
        this._dirty = false;
        this._readOnly = false;
        this._contentChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this._stateChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this._defaultLang = languagePreference || '';
        this.value.changed.connect(this.triggerContentChange, this);
    }
    /**
     * A signal emitted when the document content changes.
     */
    get contentChanged() {
        return this._contentChanged;
    }
    /**
     * A signal emitted when the document state changes.
     */
    get stateChanged() {
        return this._stateChanged;
    }
    /**
     * The dirty state of the document.
     */
    get dirty() {
        return this._dirty;
    }
    set dirty(newValue) {
        if (newValue === this._dirty) {
            return;
        }
        let oldValue = this._dirty;
        this._dirty = newValue;
        this.triggerStateChange({ name: 'dirty', oldValue, newValue });
    }
    /**
     * The read only state of the document.
     */
    get readOnly() {
        return this._readOnly;
    }
    set readOnly(newValue) {
        if (newValue === this._readOnly) {
            return;
        }
        let oldValue = this._readOnly;
        this._readOnly = newValue;
        this.triggerStateChange({ name: 'readOnly', oldValue, newValue });
    }
    /**
     * The default kernel name of the document.
     *
     * #### Notes
     * This is a read-only property.
     */
    get defaultKernelName() {
        return '';
    }
    /**
     * The default kernel language of the document.
     *
     * #### Notes
     * This is a read-only property.
     */
    get defaultKernelLanguage() {
        return this._defaultLang;
    }
    /**
     * Serialize the model to a string.
     */
    toString() {
        return this.value.text;
    }
    /**
     * Deserialize the model from a string.
     *
     * #### Notes
     * Should emit a [contentChanged] signal.
     */
    fromString(value) {
        this.value.text = value;
    }
    /**
     * Serialize the model to JSON.
     */
    toJSON() {
        return JSON.parse(this.value.text || 'null');
    }
    /**
     * Deserialize the model from JSON.
     *
     * #### Notes
     * Should emit a [contentChanged] signal.
     */
    fromJSON(value) {
        this.fromString(JSON.stringify(value));
    }
    /**
     * Initialize the model with its current state.
     */
    initialize() {
        return;
    }
    /**
     * Trigger a state change signal.
     */
    triggerStateChange(args) {
        this._stateChanged.emit(args);
    }
    /**
     * Trigger a content changed signal.
     */
    triggerContentChange() {
        this._contentChanged.emit(void 0);
        this.dirty = true;
    }
}
/**
 * An implementation of a model factory for text files.
 */
class TextModelFactory {
    constructor() {
        this._isDisposed = false;
    }
    /**
     * The name of the model type.
     *
     * #### Notes
     * This is a read-only property.
     */
    get name() {
        return 'text';
    }
    /**
     * The type of the file.
     *
     * #### Notes
     * This is a read-only property.
     */
    get contentType() {
        return 'file';
    }
    /**
     * The format of the file.
     *
     * This is a read-only property.
     */
    get fileFormat() {
        return 'text';
    }
    /**
     * Get whether the model factory has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the model factory.
     */
    dispose() {
        this._isDisposed = true;
    }
    /**
     * Create a new model.
     *
     * @param languagePreference - An optional kernel language preference.
     *
     * @returns A new document model.
     */
    createNew(languagePreference, modelDB) {
        return new DocumentModel(languagePreference, modelDB);
    }
    /**
     * Get the preferred kernel language given a file path.
     */
    preferredLanguage(path) {
        let mode = _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_0__["Mode"].findByFileName(path);
        return mode && mode.mode;
    }
}
/**
 * An implementation of a model factory for base64 files.
 */
class Base64ModelFactory extends TextModelFactory {
    /**
     * The name of the model type.
     *
     * #### Notes
     * This is a read-only property.
     */
    get name() {
        return 'base64';
    }
    /**
     * The type of the file.
     *
     * #### Notes
     * This is a read-only property.
     */
    get contentType() {
        return 'file';
    }
    /**
     * The format of the file.
     *
     * This is a read-only property.
     */
    get fileFormat() {
        return 'base64';
    }
}
/**
 * The default implementation of a widget factory.
 */
class ABCWidgetFactory {
    /**
     * Construct a new `ABCWidgetFactory`.
     */
    constructor(options) {
        this._isDisposed = false;
        this._widgetCreated = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        this._name = options.name;
        this._readOnly = options.readOnly === undefined ? false : options.readOnly;
        this._defaultFor = options.defaultFor ? options.defaultFor.slice() : [];
        this._defaultRendered = (options.defaultRendered || []).slice();
        this._fileTypes = options.fileTypes.slice();
        this._modelName = options.modelName || 'text';
        this._preferKernel = !!options.preferKernel;
        this._canStartKernel = !!options.canStartKernel;
        this._shutdownOnClose = !!options.shutdownOnClose;
        this._toolbarFactory = options.toolbarFactory;
    }
    /**
     * A signal emitted when a widget is created.
     */
    get widgetCreated() {
        return this._widgetCreated;
    }
    /**
     * Get whether the model factory has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources used by the document manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"].clearData(this);
    }
    /**
     * Whether the widget factory is read only.
     */
    get readOnly() {
        return this._readOnly;
    }
    /**
     * The name of the widget to display in dialogs.
     */
    get name() {
        return this._name;
    }
    /**
     * The file types the widget can view.
     */
    get fileTypes() {
        return this._fileTypes.slice();
    }
    /**
     * The registered name of the model type used to create the widgets.
     */
    get modelName() {
        return this._modelName;
    }
    /**
     * The file types for which the factory should be the default.
     */
    get defaultFor() {
        return this._defaultFor.slice();
    }
    /**
     * The file types for which the factory should be the default for
     * rendering a document model, if different from editing.
     */
    get defaultRendered() {
        return this._defaultRendered.slice();
    }
    /**
     * Whether the widgets prefer having a kernel started.
     */
    get preferKernel() {
        return this._preferKernel;
    }
    /**
     * Whether the widgets can start a kernel when opened.
     */
    get canStartKernel() {
        return this._canStartKernel;
    }
    /**
     * Whether the kernel should be shutdown when the widget is closed.
     */
    get shutdownOnClose() {
        return this._shutdownOnClose;
    }
    set shutdownOnClose(value) {
        this._shutdownOnClose = value;
    }
    /**
     * Create a new widget given a document model and a context.
     *
     * #### Notes
     * It should emit the [widgetCreated] signal with the new widget.
     */
    createNew(context, source) {
        // Create the new widget
        const widget = this.createNewWidget(context, source);
        // Add toolbar items
        let items;
        if (this._toolbarFactory) {
            items = this._toolbarFactory(widget);
        }
        else {
            items = this.defaultToolbarFactory(widget);
        }
        items.forEach(({ name, widget: item }) => {
            widget.toolbar.addItem(name, item);
        });
        // Emit widget created signal
        this._widgetCreated.emit(widget);
        return widget;
    }
    /**
     * Default factory for toolbar items to be added after the widget is created.
     */
    defaultToolbarFactory(widget) {
        return [];
    }
}
/**
 * The class name added to a dirty widget.
 */
const DIRTY_CLASS = 'jp-mod-dirty';
/**
 * A document widget implementation.
 */
class DocumentWidget extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_2__["MainAreaWidget"] {
    constructor(options) {
        // Include the context ready promise in the widget reveal promise
        options.reveal = Promise.all([options.reveal, options.context.ready]);
        super(options);
        this.context = options.context;
        // Handle context path changes
        this.context.pathChanged.connect(this._onPathChanged, this);
        this._onPathChanged(this.context, this.context.path);
        // Listen for changes in the dirty state.
        this.context.model.stateChanged.connect(this._onModelStateChanged, this);
        void this.context.ready.then(() => {
            this._handleDirtyState();
        });
    }
    /**
     * Set URI fragment identifier.
     */
    setFragment(fragment) {
        /* no-op */
    }
    /**
     * Handle a path change.
     */
    _onPathChanged(sender, path) {
        this.title.label = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_4__["PathExt"].basename(sender.localPath);
    }
    /**
     * Handle a change to the context model state.
     */
    _onModelStateChanged(sender, args) {
        if (args.name === 'dirty') {
            this._handleDirtyState();
        }
    }
    /**
     * Handle the dirty state of the context model.
     */
    _handleDirtyState() {
        if (this.context.model.dirty) {
            this.title.className += ` ${DIRTY_CLASS}`;
        }
        else {
            this.title.className = this.title.className.replace(DIRTY_CLASS, '');
        }
    }
}
//# sourceMappingURL=default.js.map

/***/ }),

/***/ "bt4Z":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/palette.svg ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M18 13V20H4V6H9.02C9.07 5.29 9.24 4.62 9.5 4H4C2.9 4 2 4.9 2 6V20C2 21.1 2.9 22 4 22H18C19.1 22 20 21.1 20 20V15L18 13ZM19.3 8.89C19.74 8.19 20 7.38 20 6.5C20 4.01 17.99 2 15.5 2C13.01 2 11 4.01 11 6.5C11 8.99 13.01 11 15.49 11C16.37 11 17.19 10.74 17.88 10.3L21 13.42L22.42 12L19.3 8.89ZM15.5 9C14.12 9 13 7.88 13 6.5C13 5.12 14.12 4 15.5 4C16.88 4 18 5.12 18 6.5C18 7.88 16.88 9 15.5 9Z'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 6H9.01894C9.00639 6.16502 9 6.33176 9 6.5C9 8.81577 10.211 10.8487 12.0343 12H9V14H16V12.9811C16.5703 12.9377 17.12 12.8207 17.6396 12.6396L18 13V20H4V6ZM8 8H6V10H8V8ZM6 12H8V14H6V12ZM8 16H6V18H8V16ZM9 16H16V18H9V16Z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "bt4ZG":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/sidebar/palette.svg ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M18 13V20H4V6H9.02C9.07 5.29 9.24 4.62 9.5 4H4C2.9 4 2 4.9 2 6V20C2 21.1 2.9 22 4 22H18C19.1 22 20 21.1 20 20V15L18 13ZM19.3 8.89C19.74 8.19 20 7.38 20 6.5C20 4.01 17.99 2 15.5 2C13.01 2 11 4.01 11 6.5C11 8.99 13.01 11 15.49 11C16.37 11 17.19 10.74 17.88 10.3L21 13.42L22.42 12L19.3 8.89ZM15.5 9C14.12 9 13 7.88 13 6.5C13 5.12 14.12 4 15.5 4C16.88 4 18 5.12 18 6.5C18 7.88 16.88 9 15.5 9Z\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 6H9.01894C9.00639 6.16502 9 6.33176 9 6.5C9 8.81577 10.211 10.8487 12.0343 12H9V14H16V12.9811C16.5703 12.9377 17.12 12.8207 17.6396 12.6396L18 13V20H4V6ZM8 8H6V10H8V8ZM6 12H8V14H6V12ZM8 16H6V18H8V16ZM9 16H16V18H9V16Z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "cGGe":
/*!******************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/settingregistry/lib/settingregistry.js ***!
  \******************************************************************************************************/
/*! exports provided: DefaultSchemaValidator, SettingRegistry, Settings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultSchemaValidator", function() { return DefaultSchemaValidator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingRegistry", function() { return SettingRegistry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Settings", function() { return Settings; });
/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ajv */ "grXf");
/* harmony import */ var ajv__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ajv__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var json5__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! json5 */ "MO6w");
/* harmony import */ var json5__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(json5__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_commands__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/commands */ "NRHz");
/* harmony import */ var _lumino_commands__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_commands__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _plugin_schema_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./plugin-schema.json */ "WWmG");
var _plugin_schema_json__WEBPACK_IMPORTED_MODULE_6___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./plugin-schema.json */ "WWmG", 1);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/**
 * An alias for the JSON deep copy function.
 */
const copy = _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__["JSONExt"].deepCopy;
/**
 * The default number of milliseconds before a `load()` call to the registry
 * will wait before timing out if it requires a transformation that has not been
 * registered.
 */
const DEFAULT_TRANSFORM_TIMEOUT = 1000;
/**
 * The ASCII record separator character.
 */
const RECORD_SEPARATOR = String.fromCharCode(30);
/**
 * The default implementation of a schema validator.
 */
class DefaultSchemaValidator {
    /**
     * Instantiate a schema validator.
     */
    constructor() {
        this._composer = new ajv__WEBPACK_IMPORTED_MODULE_0___default.a({ useDefaults: true });
        this._validator = new ajv__WEBPACK_IMPORTED_MODULE_0___default.a();
        this._composer.addSchema(_plugin_schema_json__WEBPACK_IMPORTED_MODULE_6__, 'jupyterlab-plugin-schema');
        this._validator.addSchema(_plugin_schema_json__WEBPACK_IMPORTED_MODULE_6__, 'jupyterlab-plugin-schema');
    }
    /**
     * Validate a plugin's schema and user data; populate the `composite` data.
     *
     * @param plugin - The plugin being validated. Its `composite` data will be
     * populated by reference.
     *
     * @param populate - Whether plugin data should be populated, defaults to
     * `true`.
     *
     * @return A list of errors if either the schema or data fail to validate or
     * `null` if there are no errors.
     */
    validateData(plugin, populate = true) {
        const validate = this._validator.getSchema(plugin.id);
        const compose = this._composer.getSchema(plugin.id);
        // If the schemas do not exist, add them to the validator and continue.
        if (!validate || !compose) {
            if (plugin.schema.type !== 'object') {
                const keyword = 'schema';
                const message = `Setting registry schemas' root-level type must be ` +
                    `'object', rejecting type: ${plugin.schema.type}`;
                return [{ dataPath: 'type', keyword, schemaPath: '', message }];
            }
            const errors = this._addSchema(plugin.id, plugin.schema);
            return errors || this.validateData(plugin);
        }
        // Parse the raw commented JSON into a user map.
        let user;
        try {
            user = json5__WEBPACK_IMPORTED_MODULE_1__["parse"](plugin.raw);
        }
        catch (error) {
            if (error instanceof SyntaxError) {
                return [
                    {
                        dataPath: '',
                        keyword: 'syntax',
                        schemaPath: '',
                        message: error.message
                    }
                ];
            }
            const { column, description } = error;
            const line = error.lineNumber;
            return [
                {
                    dataPath: '',
                    keyword: 'parse',
                    schemaPath: '',
                    message: `${description} (line ${line} column ${column})`
                }
            ];
        }
        if (!validate(user)) {
            return validate.errors;
        }
        // Copy the user data before merging defaults into composite map.
        const composite = copy(user);
        if (!compose(composite)) {
            return compose.errors;
        }
        if (populate) {
            plugin.data = { composite, user };
        }
        return null;
    }
    /**
     * Add a schema to the validator.
     *
     * @param plugin - The plugin ID.
     *
     * @param schema - The schema being added.
     *
     * @return A list of errors if the schema fails to validate or `null` if there
     * are no errors.
     *
     * #### Notes
     * It is safe to call this function multiple times with the same plugin name.
     */
    _addSchema(plugin, schema) {
        const composer = this._composer;
        const validator = this._validator;
        const validate = validator.getSchema('jupyterlab-plugin-schema');
        // Validate against the main schema.
        if (!validate(schema)) {
            return validate.errors;
        }
        // Validate against the JSON schema meta-schema.
        if (!validator.validateSchema(schema)) {
            return validator.errors;
        }
        // Remove if schema already exists.
        composer.removeSchema(plugin);
        validator.removeSchema(plugin);
        // Add schema to the validator and composer.
        composer.addSchema(schema, plugin);
        validator.addSchema(schema, plugin);
        return null;
    }
}
/**
 * The default concrete implementation of a setting registry.
 */
class SettingRegistry {
    /**
     * Create a new setting registry.
     */
    constructor(options) {
        /**
         * The schema of the setting registry.
         */
        this.schema = _plugin_schema_json__WEBPACK_IMPORTED_MODULE_6__;
        /**
         * The collection of setting registry plugins.
         */
        this.plugins = Object.create(null);
        this._pluginChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_5__["Signal"](this);
        this._ready = Promise.resolve();
        this._transformers = Object.create(null);
        this.connector = options.connector;
        this.validator = options.validator || new DefaultSchemaValidator();
        this._timeout = options.timeout || DEFAULT_TRANSFORM_TIMEOUT;
        // Preload with any available data at instantiation-time.
        if (options.plugins) {
            this._ready = this._preload(options.plugins);
        }
    }
    /**
     * A signal that emits the name of a plugin when its settings change.
     */
    get pluginChanged() {
        return this._pluginChanged;
    }
    /**
     * Get an individual setting.
     *
     * @param plugin - The name of the plugin whose settings are being retrieved.
     *
     * @param key - The name of the setting being retrieved.
     *
     * @returns A promise that resolves when the setting is retrieved.
     */
    async get(plugin, key) {
        // Wait for data preload before allowing normal operation.
        await this._ready;
        const plugins = this.plugins;
        if (plugin in plugins) {
            const { composite, user } = plugins[plugin].data;
            return {
                composite: composite[key] !== undefined ? copy(composite[key]) : undefined,
                user: user[key] !== undefined ? copy(user[key]) : undefined
            };
        }
        return this.load(plugin).then(() => this.get(plugin, key));
    }
    /**
     * Load a plugin's settings into the setting registry.
     *
     * @param plugin - The name of the plugin whose settings are being loaded.
     *
     * @returns A promise that resolves with a plugin settings object or rejects
     * if the plugin is not found.
     */
    async load(plugin) {
        // Wait for data preload before allowing normal operation.
        await this._ready;
        const plugins = this.plugins;
        const registry = this;
        // If the plugin exists, resolve.
        if (plugin in plugins) {
            return new Settings({ plugin: plugins[plugin], registry });
        }
        // If the plugin needs to be loaded from the data connector, fetch.
        return this.reload(plugin);
    }
    /**
     * Reload a plugin's settings into the registry even if they already exist.
     *
     * @param plugin - The name of the plugin whose settings are being reloaded.
     *
     * @returns A promise that resolves with a plugin settings object or rejects
     * with a list of `ISchemaValidator.IError` objects if it fails.
     */
    async reload(plugin) {
        // Wait for data preload before allowing normal operation.
        await this._ready;
        const fetched = await this.connector.fetch(plugin);
        const plugins = this.plugins;
        const registry = this;
        if (fetched === undefined) {
            throw [
                {
                    dataPath: '',
                    keyword: 'id',
                    message: `Could not fetch settings for ${plugin}.`,
                    schemaPath: ''
                }
            ];
        }
        await this._load(await this._transform('fetch', fetched));
        this._pluginChanged.emit(plugin);
        return new Settings({ plugin: plugins[plugin], registry });
    }
    /**
     * Remove a single setting in the registry.
     *
     * @param plugin - The name of the plugin whose setting is being removed.
     *
     * @param key - The name of the setting being removed.
     *
     * @returns A promise that resolves when the setting is removed.
     */
    async remove(plugin, key) {
        // Wait for data preload before allowing normal operation.
        await this._ready;
        const plugins = this.plugins;
        if (!(plugin in plugins)) {
            return;
        }
        const raw = json5__WEBPACK_IMPORTED_MODULE_1__["parse"](plugins[plugin].raw);
        // Delete both the value and any associated comment.
        delete raw[key];
        delete raw[`// ${key}`];
        plugins[plugin].raw = Private.annotatedPlugin(plugins[plugin], raw);
        return this._save(plugin);
    }
    /**
     * Set a single setting in the registry.
     *
     * @param plugin - The name of the plugin whose setting is being set.
     *
     * @param key - The name of the setting being set.
     *
     * @param value - The value of the setting being set.
     *
     * @returns A promise that resolves when the setting has been saved.
     *
     */
    async set(plugin, key, value) {
        // Wait for data preload before allowing normal operation.
        await this._ready;
        const plugins = this.plugins;
        if (!(plugin in plugins)) {
            return this.load(plugin).then(() => this.set(plugin, key, value));
        }
        // Parse the raw JSON string removing all comments and return an object.
        const raw = json5__WEBPACK_IMPORTED_MODULE_1__["parse"](plugins[plugin].raw);
        plugins[plugin].raw = Private.annotatedPlugin(plugins[plugin], Object.assign(Object.assign({}, raw), { [key]: value }));
        return this._save(plugin);
    }
    /**
     * Register a plugin transform function to act on a specific plugin.
     *
     * @param plugin - The name of the plugin whose settings are transformed.
     *
     * @param transforms - The transform functions applied to the plugin.
     *
     * @returns A disposable that removes the transforms from the registry.
     *
     * #### Notes
     * - `compose` transformations: The registry automatically overwrites a
     * plugin's default values with user overrides, but a plugin may instead wish
     * to merge values. This behavior can be accomplished in a `compose`
     * transformation.
     * - `fetch` transformations: The registry uses the plugin data that is
     * fetched from its connector. If a plugin wants to override, e.g. to update
     * its schema with dynamic defaults, a `fetch` transformation can be applied.
     */
    transform(plugin, transforms) {
        const transformers = this._transformers;
        if (plugin in transformers) {
            throw new Error(`${plugin} already has a transformer.`);
        }
        transformers[plugin] = {
            fetch: transforms.fetch || (plugin => plugin),
            compose: transforms.compose || (plugin => plugin)
        };
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_4__["DisposableDelegate"](() => {
            delete transformers[plugin];
        });
    }
    /**
     * Upload a plugin's settings.
     *
     * @param plugin - The name of the plugin whose settings are being set.
     *
     * @param raw - The raw plugin settings being uploaded.
     *
     * @returns A promise that resolves when the settings have been saved.
     */
    async upload(plugin, raw) {
        // Wait for data preload before allowing normal operation.
        await this._ready;
        const plugins = this.plugins;
        if (!(plugin in plugins)) {
            return this.load(plugin).then(() => this.upload(plugin, raw));
        }
        // Set the local copy.
        plugins[plugin].raw = raw;
        return this._save(plugin);
    }
    /**
     * Load a plugin into the registry.
     */
    async _load(data) {
        const plugin = data.id;
        // Validate and preload the item.
        try {
            await this._validate(data);
        }
        catch (errors) {
            const output = [`Validating ${plugin} failed:`];
            errors.forEach((error, index) => {
                const { dataPath, schemaPath, keyword, message } = error;
                if (dataPath || schemaPath) {
                    output.push(`${index} - schema @ ${schemaPath}, data @ ${dataPath}`);
                }
                output.push(`{${keyword}} ${message}`);
            });
            console.warn(output.join('\n'));
            throw errors;
        }
    }
    /**
     * Preload a list of plugins and fail gracefully.
     */
    async _preload(plugins) {
        await Promise.all(plugins.map(async (plugin) => {
            try {
                // Apply a transformation to the plugin if necessary.
                await this._load(await this._transform('fetch', plugin));
            }
            catch (errors) {
                /* Ignore preload errors. */
                console.log('Ignored setting registry preload errors.', errors);
            }
        }));
    }
    /**
     * Save a plugin in the registry.
     */
    async _save(plugin) {
        const plugins = this.plugins;
        if (!(plugin in plugins)) {
            throw new Error(`${plugin} does not exist in setting registry.`);
        }
        try {
            await this._validate(plugins[plugin]);
        }
        catch (errors) {
            console.warn(`${plugin} validation errors:`, errors);
            throw new Error(`${plugin} failed to validate; check console.`);
        }
        await this.connector.save(plugin, plugins[plugin].raw);
        // Fetch and reload the data to guarantee server and client are in sync.
        const fetched = await this.connector.fetch(plugin);
        if (fetched === undefined) {
            throw [
                {
                    dataPath: '',
                    keyword: 'id',
                    message: `Could not fetch settings for ${plugin}.`,
                    schemaPath: ''
                }
            ];
        }
        await this._load(await this._transform('fetch', fetched));
        this._pluginChanged.emit(plugin);
    }
    /**
     * Transform the plugin if necessary.
     */
    async _transform(phase, plugin, started = new Date().getTime()) {
        const elapsed = new Date().getTime() - started;
        const id = plugin.id;
        const transformers = this._transformers;
        const timeout = this._timeout;
        if (!plugin.schema['jupyter.lab.transform']) {
            return plugin;
        }
        if (id in transformers) {
            const transformed = transformers[id][phase].call(null, plugin);
            if (transformed.id !== id) {
                throw [
                    {
                        dataPath: '',
                        keyword: 'id',
                        message: 'Plugin transformations cannot change plugin IDs.',
                        schemaPath: ''
                    }
                ];
            }
            return transformed;
        }
        // If the timeout has not been exceeded, stall and try again in 250ms.
        if (elapsed < timeout) {
            await new Promise(resolve => {
                setTimeout(() => {
                    resolve();
                }, 250);
            });
            return this._transform(phase, plugin, started);
        }
        throw [
            {
                dataPath: '',
                keyword: 'timeout',
                message: `Transforming ${plugin.id} timed out.`,
                schemaPath: ''
            }
        ];
    }
    /**
     * Validate and preload a plugin, compose the `composite` data.
     */
    async _validate(plugin) {
        // Validate the user data and create the composite data.
        const errors = this.validator.validateData(plugin);
        if (errors) {
            throw errors;
        }
        // Apply a transformation if necessary and set the local copy.
        this.plugins[plugin.id] = await this._transform('compose', plugin);
    }
}
/**
 * A manager for a specific plugin's settings.
 */
class Settings {
    /**
     * Instantiate a new plugin settings manager.
     */
    constructor(options) {
        this._changed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_5__["Signal"](this);
        this._isDisposed = false;
        this.id = options.plugin.id;
        this.registry = options.registry;
        this.registry.pluginChanged.connect(this._onPluginChanged, this);
    }
    /**
     * A signal that emits when the plugin's settings have changed.
     */
    get changed() {
        return this._changed;
    }
    /**
     * The composite of user settings and extension defaults.
     */
    get composite() {
        return this.plugin.data.composite;
    }
    /**
     * Test whether the plugin settings manager disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    get plugin() {
        return this.registry.plugins[this.id];
    }
    /**
     * The plugin's schema.
     */
    get schema() {
        return this.plugin.schema;
    }
    /**
     * The plugin settings raw text value.
     */
    get raw() {
        return this.plugin.raw;
    }
    /**
     * The user settings.
     */
    get user() {
        return this.plugin.data.user;
    }
    /**
     * The published version of the NPM package containing these settings.
     */
    get version() {
        return this.plugin.version;
    }
    /**
     * Return the defaults in a commented JSON format.
     */
    annotatedDefaults() {
        return Private.annotatedDefaults(this.schema, this.id);
    }
    /**
     * Calculate the default value of a setting by iterating through the schema.
     *
     * @param key - The name of the setting whose default value is calculated.
     *
     * @returns A calculated default JSON value for a specific setting.
     */
    default(key) {
        return Private.reifyDefault(this.schema, key);
    }
    /**
     * Dispose of the plugin settings resources.
     */
    dispose() {
        if (this._isDisposed) {
            return;
        }
        this._isDisposed = true;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_5__["Signal"].clearData(this);
    }
    /**
     * Get an individual setting.
     *
     * @param key - The name of the setting being retrieved.
     *
     * @returns The setting value.
     *
     * #### Notes
     * This method returns synchronously because it uses a cached copy of the
     * plugin settings that is synchronized with the registry.
     */
    get(key) {
        const { composite, user } = this;
        return {
            composite: composite[key] !== undefined ? copy(composite[key]) : undefined,
            user: user[key] !== undefined ? copy(user[key]) : undefined
        };
    }
    /**
     * Remove a single setting.
     *
     * @param key - The name of the setting being removed.
     *
     * @returns A promise that resolves when the setting is removed.
     *
     * #### Notes
     * This function is asynchronous because it writes to the setting registry.
     */
    remove(key) {
        return this.registry.remove(this.plugin.id, key);
    }
    /**
     * Save all of the plugin's user settings at once.
     */
    save(raw) {
        return this.registry.upload(this.plugin.id, raw);
    }
    /**
     * Set a single setting.
     *
     * @param key - The name of the setting being set.
     *
     * @param value - The value of the setting.
     *
     * @returns A promise that resolves when the setting has been saved.
     *
     * #### Notes
     * This function is asynchronous because it writes to the setting registry.
     */
    set(key, value) {
        return this.registry.set(this.plugin.id, key, value);
    }
    /**
     * Validates raw settings with comments.
     *
     * @param raw - The JSON with comments string being validated.
     *
     * @returns A list of errors or `null` if valid.
     */
    validate(raw) {
        const data = { composite: {}, user: {} };
        const { id, schema } = this.plugin;
        const validator = this.registry.validator;
        const version = this.version;
        return validator.validateData({ data, id, raw, schema, version }, false);
    }
    /**
     * Handle plugin changes in the setting registry.
     */
    _onPluginChanged(sender, plugin) {
        if (plugin === this.plugin.id) {
            this._changed.emit(undefined);
        }
    }
}
/**
 * A namespace for `SettingRegistry` statics.
 */
(function (SettingRegistry) {
    /**
     * Reconcile default and user shortcuts and return the composite list.
     *
     * @param defaults - The list of default shortcuts.
     *
     * @param user - The list of user shortcut overrides and additions.
     *
     * @returns A loadable list of shortcuts (omitting disabled and overridden).
     */
    function reconcileShortcuts(defaults, user) {
        const memo = {};
        // If a user shortcut collides with another user shortcut warn and filter.
        user = user.filter(shortcut => {
            const keys = _lumino_commands__WEBPACK_IMPORTED_MODULE_2__["CommandRegistry"].normalizeKeys(shortcut).join(RECORD_SEPARATOR);
            const { selector } = shortcut;
            if (!keys) {
                console.warn('Skipping this shortcut because there are no actionable keys on this platform', shortcut);
                return false;
            }
            if (!(keys in memo)) {
                memo[keys] = {};
            }
            if (!(selector in memo[keys])) {
                memo[keys][selector] = false; // User shortcuts are `false`.
                return true;
            }
            console.warn('Skipping this shortcut because it collides with another shortcut.', shortcut);
            return false;
        });
        // If a default shortcut collides with another default, warn and filter.
        // If a shortcut has already been added by the user preferences, filter it
        // out too (this includes shortcuts that are disabled by user preferences).
        defaults = defaults.filter(shortcut => {
            const { disabled } = shortcut;
            const keys = _lumino_commands__WEBPACK_IMPORTED_MODULE_2__["CommandRegistry"].normalizeKeys(shortcut).join(RECORD_SEPARATOR);
            if (disabled || !keys) {
                return false;
            }
            if (!(keys in memo)) {
                memo[keys] = {};
            }
            const { selector } = shortcut;
            if (!(selector in memo[keys])) {
                memo[keys][selector] = true; // Default shortcuts are `true`.
                return true;
            }
            // Only warn if a default shortcut collides with another default shortcut.
            if (memo[keys][selector]) {
                console.warn('Skipping this shortcut because it collides with another shortcut.', shortcut);
            }
            return false;
        });
        // Filter out disabled user shortcuts and concat defaults before returning.
        return user.filter(shortcut => !shortcut.disabled).concat(defaults);
    }
    SettingRegistry.reconcileShortcuts = reconcileShortcuts;
})(SettingRegistry || (SettingRegistry = {}));
/**
 * A namespace for private module data.
 */
var Private;
(function (Private) {
    /**
     * The default indentation level, uses spaces instead of tabs.
     */
    const indent = '    ';
    /**
     * Replacement text for schema properties missing a `description` field.
     */
    const nondescript = '[missing schema description]';
    /**
     * Replacement text for schema properties missing a `title` field.
     */
    const untitled = '[missing schema title]';
    /**
     * Returns an annotated (JSON with comments) version of a schema's defaults.
     */
    function annotatedDefaults(schema, plugin) {
        const { description, properties, title } = schema;
        const keys = properties
            ? Object.keys(properties).sort((a, b) => a.localeCompare(b))
            : [];
        const length = Math.max((description || nondescript).length, plugin.length);
        return [
            '{',
            prefix(`${title || untitled}`),
            prefix(plugin),
            prefix(description || nondescript),
            prefix('*'.repeat(length)),
            '',
            join(keys.map(key => defaultDocumentedValue(schema, key))),
            '}'
        ].join('\n');
    }
    Private.annotatedDefaults = annotatedDefaults;
    /**
     * Returns an annotated (JSON with comments) version of a plugin's
     * setting data.
     */
    function annotatedPlugin(plugin, data) {
        const { description, title } = plugin.schema;
        const keys = Object.keys(data).sort((a, b) => a.localeCompare(b));
        const length = Math.max((description || nondescript).length, plugin.id.length);
        return [
            '{',
            prefix(`${title || untitled}`),
            prefix(plugin.id),
            prefix(description || nondescript),
            prefix('*'.repeat(length)),
            '',
            join(keys.map(key => documentedValue(plugin.schema, key, data[key]))),
            '}'
        ].join('\n');
    }
    Private.annotatedPlugin = annotatedPlugin;
    /**
     * Returns the default value-with-documentation-string for a
     * specific schema property.
     */
    function defaultDocumentedValue(schema, key) {
        const props = (schema.properties && schema.properties[key]) || {};
        const type = props['type'];
        const description = props['description'] || nondescript;
        const title = props['title'] || '';
        const reified = reifyDefault(schema, key);
        const spaces = indent.length;
        const defaults = reified !== undefined
            ? prefix(`"${key}": ${JSON.stringify(reified, null, spaces)}`, indent)
            : prefix(`"${key}": ${type}`);
        return [prefix(title), prefix(description), defaults]
            .filter(str => str.length)
            .join('\n');
    }
    /**
     * Returns a value-with-documentation-string for a specific schema property.
     */
    function documentedValue(schema, key, value) {
        const props = schema.properties && schema.properties[key];
        const description = (props && props['description']) || nondescript;
        const title = (props && props['title']) || untitled;
        const spaces = indent.length;
        const attribute = prefix(`"${key}": ${JSON.stringify(value, null, spaces)}`, indent);
        return [prefix(title), prefix(description), attribute].join('\n');
    }
    /**
     * Returns a joined string with line breaks and commas where appropriate.
     */
    function join(body) {
        return body.reduce((acc, val, idx) => {
            const rows = val.split('\n');
            const last = rows[rows.length - 1];
            const comment = last.trim().indexOf('//') === 0;
            const comma = comment || idx === body.length - 1 ? '' : ',';
            const separator = idx === body.length - 1 ? '' : '\n\n';
            return acc + val + comma + separator;
        }, '');
    }
    /**
     * Returns a documentation string with a comment prefix added on every line.
     */
    function prefix(source, pre = `${indent}// `) {
        return pre + source.split('\n').join(`\n${pre}`);
    }
    /**
     * Create a fully extrapolated default value for a root key in a schema.
     */
    function reifyDefault(schema, root) {
        var _a;
        // If the property is at the root level, traverse its schema.
        schema = (root ? (_a = schema.properties) === null || _a === void 0 ? void 0 : _a[root] : schema) || {};
        // If the property has no default or is a primitive, return.
        if (!('default' in schema) || schema.type !== 'object') {
            return schema.default;
        }
        // Make a copy of the default value to populate.
        const result = _lumino_coreutils__WEBPACK_IMPORTED_MODULE_3__["JSONExt"].deepCopy(schema.default);
        // Iterate through and populate each child property.
        const props = schema.properties || {};
        for (let property in props) {
            result[property] = reifyDefault(props[property]);
        }
        return result;
    }
    Private.reifyDefault = reifyDefault;
})(Private || (Private = {}));
//# sourceMappingURL=settingregistry.js.map

/***/ }),

/***/ "cQue":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/mainmenu.js ***!
  \****************************************************************************************/
/*! exports provided: MainMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainMenu", function() { return MainMenu; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _file__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./file */ "vNCt");
/* harmony import */ var _edit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./edit */ "7IHF");
/* harmony import */ var _help__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./help */ "BvQV");
/* harmony import */ var _kernel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./kernel */ "scvd");
/* harmony import */ var _run__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./run */ "STaG");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./settings */ "OCew");
/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./view */ "Kt44");
/* harmony import */ var _tabs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tabs */ "f9/9");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.










/**
 * The main menu class.  It is intended to be used as a singleton.
 */
class MainMenu extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["MenuBar"] {
    /**
     * Construct the main menu bar.
     */
    constructor(commands) {
        super();
        this._items = [];
        this.editMenu = new _edit__WEBPACK_IMPORTED_MODULE_3__["EditMenu"]({ commands });
        this.fileMenu = new _file__WEBPACK_IMPORTED_MODULE_2__["FileMenu"]({ commands });
        this.helpMenu = new _help__WEBPACK_IMPORTED_MODULE_4__["HelpMenu"]({ commands });
        this.kernelMenu = new _kernel__WEBPACK_IMPORTED_MODULE_5__["KernelMenu"]({ commands });
        this.runMenu = new _run__WEBPACK_IMPORTED_MODULE_6__["RunMenu"]({ commands });
        this.settingsMenu = new _settings__WEBPACK_IMPORTED_MODULE_7__["SettingsMenu"]({ commands });
        this.viewMenu = new _view__WEBPACK_IMPORTED_MODULE_8__["ViewMenu"]({ commands });
        this.tabsMenu = new _tabs__WEBPACK_IMPORTED_MODULE_9__["TabsMenu"]({ commands });
        this.addMenu(this.fileMenu.menu, { rank: 0 });
        this.addMenu(this.editMenu.menu, { rank: 1 });
        this.addMenu(this.viewMenu.menu, { rank: 2 });
        this.addMenu(this.runMenu.menu, { rank: 3 });
        this.addMenu(this.kernelMenu.menu, { rank: 4 });
        this.addMenu(this.tabsMenu.menu, { rank: 500 });
        this.addMenu(this.settingsMenu.menu, { rank: 999 });
        this.addMenu(this.helpMenu.menu, { rank: 1000 });
    }
    /**
     * Add a new menu to the main menu bar.
     */
    addMenu(menu, options = {}) {
        if (_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].firstIndexOf(this.menus, menu) > -1) {
            return;
        }
        let rank = 'rank' in options ? options.rank : 100;
        let rankItem = { menu, rank };
        let index = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].upperBound(this._items, rankItem, Private.itemCmp);
        // Upon disposal, remove the menu and its rank reference.
        menu.disposed.connect(this._onMenuDisposed, this);
        _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].insert(this._items, index, rankItem);
        /**
         * Create a new menu.
         */
        this.insertMenu(index, menu);
    }
    /**
     * Dispose of the resources held by the menu bar.
     */
    dispose() {
        this.editMenu.dispose();
        this.fileMenu.dispose();
        this.helpMenu.dispose();
        this.kernelMenu.dispose();
        this.runMenu.dispose();
        this.settingsMenu.dispose();
        this.viewMenu.dispose();
        this.tabsMenu.dispose();
        super.dispose();
    }
    /**
     * Handle the disposal of a menu.
     */
    _onMenuDisposed(menu) {
        this.removeMenu(menu);
        let index = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].findFirstIndex(this._items, item => item.menu === menu);
        if (index !== -1) {
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeAt(this._items, index);
        }
    }
}
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * A comparator function for menu rank items.
     */
    function itemCmp(first, second) {
        return first.rank - second.rank;
    }
    Private.itemCmp = itemCmp;
})(Private || (Private = {}));
//# sourceMappingURL=mainmenu.js.map

/***/ }),

/***/ "cmkH":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/observables/lib/observablejson.js ***!
  \*************************************************************************************************/
/*! exports provided: ObservableJSON */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObservableJSON", function() { return ObservableJSON; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/messaging */ "so/j");
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_messaging__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _observablemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./observablemap */ "Pi81");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/**
 * A concrete Observable map for JSON data.
 */
class ObservableJSON extends _observablemap__WEBPACK_IMPORTED_MODULE_2__["ObservableMap"] {
    /**
     * Construct a new observable JSON object.
     */
    constructor(options = {}) {
        super({
            itemCmp: _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["JSONExt"].deepEqual,
            values: options.values
        });
    }
    /**
     * Serialize the model to JSON.
     */
    toJSON() {
        const out = Object.create(null);
        const keys = this.keys();
        for (let key of keys) {
            const value = this.get(key);
            if (value !== undefined) {
                out[key] = _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["JSONExt"].deepCopy(value);
            }
        }
        return out;
    }
}
/**
 * The namespace for ObservableJSON static data.
 */
(function (ObservableJSON) {
    /**
     * An observable JSON change message.
     */
    class ChangeMessage extends _lumino_messaging__WEBPACK_IMPORTED_MODULE_1__["Message"] {
        /**
         * Create a new metadata changed message.
         */
        constructor(type, args) {
            super(type);
            this.args = args;
        }
    }
    ObservableJSON.ChangeMessage = ChangeMessage;
})(ObservableJSON || (ObservableJSON = {}));
//# sourceMappingURL=observablejson.js.map

/***/ }),

/***/ "czI/":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/check.svg ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "czI/S":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/check.svg ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "d/JO":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/observables/lib/index.js ***!
  \****************************************************************************************/
/*! exports provided: ObservableValue, ModelDB, ObservableJSON, ObservableList, ObservableMap, ObservableString, ObservableUndoableList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modeldb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modeldb */ "8kDe");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ObservableValue", function() { return _modeldb__WEBPACK_IMPORTED_MODULE_0__["ObservableValue"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModelDB", function() { return _modeldb__WEBPACK_IMPORTED_MODULE_0__["ModelDB"]; });

/* harmony import */ var _observablejson__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observablejson */ "cmkH");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ObservableJSON", function() { return _observablejson__WEBPACK_IMPORTED_MODULE_1__["ObservableJSON"]; });

/* harmony import */ var _observablelist__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./observablelist */ "qKD/");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ObservableList", function() { return _observablelist__WEBPACK_IMPORTED_MODULE_2__["ObservableList"]; });

/* harmony import */ var _observablemap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./observablemap */ "Pi81");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ObservableMap", function() { return _observablemap__WEBPACK_IMPORTED_MODULE_3__["ObservableMap"]; });

/* harmony import */ var _observablestring__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./observablestring */ "XZQe");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ObservableString", function() { return _observablestring__WEBPACK_IMPORTED_MODULE_4__["ObservableString"]; });

/* harmony import */ var _undoablelist__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./undoablelist */ "j+G8");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ObservableUndoableList", function() { return _undoablelist__WEBPACK_IMPORTED_MODULE_5__["ObservableUndoableList"]; });

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/






//# sourceMappingURL=index.js.map

/***/ }),

/***/ "d0qS":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/add.svg ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "d0qS5":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/add.svg ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "dHt+":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/status.js ***!
  \*****************************************************************************************/
/*! exports provided: ILabStatus, LabStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ILabStatus", function() { return ILabStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabStatus", function() { return LabStatus; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_2__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/* tslint:disable */
/**
 * The application status token.
 */
const ILabStatus = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/application:ILabStatus');
/**
 * The application status signals and flags class.
 */
class LabStatus {
    /**
     * Construct a new  status object.
     */
    constructor(app) {
        this._busyCount = 0;
        this._dirtyCount = 0;
        this._busySignal = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__["Signal"](app);
        this._dirtySignal = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__["Signal"](app);
    }
    /**
     * Returns a signal for when application changes its busy status.
     */
    get busySignal() {
        return this._busySignal;
    }
    /**
     * Returns a signal for when application changes its dirty status.
     */
    get dirtySignal() {
        return this._dirtySignal;
    }
    /**
     * Whether the application is busy.
     */
    get isBusy() {
        return this._busyCount > 0;
    }
    /**
     * Whether the application is dirty.
     */
    get isDirty() {
        return this._dirtyCount > 0;
    }
    /**
     * Set the application state to dirty.
     *
     * @returns A disposable used to clear the dirty state for the caller.
     */
    setDirty() {
        const oldDirty = this.isDirty;
        this._dirtyCount++;
        if (this.isDirty !== oldDirty) {
            this._dirtySignal.emit(this.isDirty);
        }
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](() => {
            const oldDirty = this.isDirty;
            this._dirtyCount = Math.max(0, this._dirtyCount - 1);
            if (this.isDirty !== oldDirty) {
                this._dirtySignal.emit(this.isDirty);
            }
        });
    }
    /**
     * Set the application state to busy.
     *
     * @returns A disposable used to clear the busy state for the caller.
     */
    setBusy() {
        const oldBusy = this.isBusy;
        this._busyCount++;
        if (this.isBusy !== oldBusy) {
            this._busySignal.emit(this.isBusy);
        }
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](() => {
            const oldBusy = this.isBusy;
            this._busyCount--;
            if (this.isBusy !== oldBusy) {
                this._busySignal.emit(this.isBusy);
            }
        });
    }
}
//# sourceMappingURL=status.js.map

/***/ }),

/***/ "dT8x":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/r-kernel.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cg class='jp-icon-contrast3 jp-icon-selectable' fill='%232196F3' %3E %3Cpath d='M4.4,2.5c1.2-0.1,2.9-0.3,4.9-0.3c2.5,0,4.1,0.4,5.2,1.3C15.5,4.2,16,5.4,16,7c0,2-1.4,3.5-2.9,4.1l0,0 c1.2,0.4,1.7,1.6,2.2,3c0.6,1.9,1,3.9,1.3,4.6h-3.8C12.5,18.3,12,17,11.6,15s-1.2-2.6-2.6-2.6H8.1v6.4H4.4V2.5z M8.1,9.4h1.4 c1.9,0,2.9-0.9,2.9-2.3s-1-2.3-2.8-2.3C8.9,4.8,8.3,4.8,8,5v4.5h0.1V9.4z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "dT8xC":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/r-kernel.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<g\n\t\tclass=\"jp-icon-contrast3 jp-icon-selectable\"\n\t\tfill=\"#2196F3\"\n\t>\n\t\t<path d=\"M4.4,2.5c1.2-0.1,2.9-0.3,4.9-0.3c2.5,0,4.1,0.4,5.2,1.3C15.5,4.2,16,5.4,16,7c0,2-1.4,3.5-2.9,4.1l0,0 c1.2,0.4,1.7,1.6,2.2,3c0.6,1.9,1,3.9,1.3,4.6h-3.8C12.5,18.3,12,17,11.6,15s-1.2-2.6-2.6-2.6H8.1v6.4H4.4V2.5z M8.1,9.4h1.4 c1.9,0,2.9-0.9,2.9-2.3s-1-2.3-2.8-2.3C8.9,4.8,8.3,4.8,8,5v4.5h0.1V9.4z\"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "dYJ7":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/coreutils/lib/pageconfig.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
const minimist_1 = __importDefault(__webpack_require__(/*! minimist */ "c7bO"));
const url_1 = __webpack_require__(/*! ./url */ "Wt2P");
/**
 * The namespace for `PageConfig` functions.
 */
var PageConfig;
(function (PageConfig) {
    /**
     * Get global configuration data for the Jupyter application.
     *
     * @param name - The name of the configuration option.
     *
     * @returns The config value or an empty string if not found.
     *
     * #### Notes
     * All values are treated as strings.
     * For browser based applications, it is assumed that the page HTML
     * includes a script tag with the id `jupyter-config-data` containing the
     * configuration as valid JSON.  In order to support the classic Notebook,
     * we fall back on checking for `body` data of the given `name`.
     *
     * For node applications, it is assumed that the process was launched
     * with a `--jupyter-config-data` option pointing to a JSON settings
     * file.
     */
    function getOption(name) {
        if (configData) {
            return configData[name] || getBodyData(name);
        }
        configData = Object.create(null);
        let found = false;
        // Use script tag if available.
        if (typeof document !== 'undefined' && document) {
            const el = document.getElementById('jupyter-config-data');
            if (el) {
                configData = JSON.parse(el.textContent || '');
                found = true;
            }
        }
        // Otherwise use CLI if given.
        if (!found && typeof process !== 'undefined') {
            try {
                const cli = minimist_1.default(process.argv.slice(2));
                const path = __webpack_require__(/*! path */ "33yf");
                let fullPath = '';
                if ('jupyter-config-data' in cli) {
                    fullPath = path.resolve(cli['jupyter-config-data']);
                }
                else if ('JUPYTER_CONFIG_DATA' in process.env) {
                    fullPath = path.resolve(process.env['JUPYTER_CONFIG_DATA']);
                }
                if (fullPath) {
                    /* tslint:disable */
                    // Force Webpack to ignore this require.
                    configData = eval('require')(fullPath);
                    /* tslint:enable */
                }
            }
            catch (e) {
                console.error(e);
            }
        }
        if (!coreutils_1.JSONExt.isObject(configData)) {
            configData = Object.create(null);
        }
        else {
            for (let key in configData) {
                // PageConfig expects strings
                if (typeof configData[key] !== 'string') {
                    configData[key] = JSON.stringify(configData[key]);
                }
            }
        }
        return configData[name] || getBodyData(name);
    }
    PageConfig.getOption = getOption;
    /**
     * Set global configuration data for the Jupyter application.
     *
     * @param name - The name of the configuration option.
     * @param value - The value to set the option to.
     *
     * @returns The last config value or an empty string if it doesn't exist.
     */
    function setOption(name, value) {
        const last = getOption(name);
        configData[name] = value;
        return last;
    }
    PageConfig.setOption = setOption;
    /**
     * Get the base url for a Jupyter application, or the base url of the page.
     */
    function getBaseUrl() {
        return url_1.URLExt.normalize(getOption('baseUrl') || '/');
    }
    PageConfig.getBaseUrl = getBaseUrl;
    /**
     * Get the tree url for a JupyterLab application.
     */
    function getTreeUrl() {
        return url_1.URLExt.join(getBaseUrl(), getOption('treeUrl'));
    }
    PageConfig.getTreeUrl = getTreeUrl;
    /**
     * Get the base websocket url for a Jupyter application, or an empty string.
     */
    function getWsUrl(baseUrl) {
        let wsUrl = getOption('wsUrl');
        if (!wsUrl) {
            baseUrl = baseUrl ? url_1.URLExt.normalize(baseUrl) : getBaseUrl();
            if (baseUrl.indexOf('http') !== 0) {
                return '';
            }
            wsUrl = 'ws' + baseUrl.slice(4);
        }
        return url_1.URLExt.normalize(wsUrl);
    }
    PageConfig.getWsUrl = getWsUrl;
    /**
     * Returns the URL converting this notebook to a certain
     * format with nbconvert.
     */
    function getNBConvertURL({ path, format, download }) {
        const notebookPath = url_1.URLExt.encodeParts(path);
        const url = url_1.URLExt.join(getBaseUrl(), 'nbconvert', format, notebookPath);
        if (download) {
            return url + '?download=true';
        }
        return url;
    }
    PageConfig.getNBConvertURL = getNBConvertURL;
    /**
     * Get the authorization token for a Jupyter application.
     */
    function getToken() {
        return getOption('token') || getBodyData('jupyterApiToken');
    }
    PageConfig.getToken = getToken;
    /**
     * Get the Notebook version info [major, minor, patch].
     */
    function getNotebookVersion() {
        const notebookVersion = getOption('notebookVersion');
        if (notebookVersion === '') {
            return [0, 0, 0];
        }
        return JSON.parse(notebookVersion);
    }
    PageConfig.getNotebookVersion = getNotebookVersion;
    /**
     * Private page config data for the Jupyter application.
     */
    let configData = null;
    /**
     * Get a url-encoded item from `body.data` and decode it
     * We should never have any encoded URLs anywhere else in code
     * until we are building an actual request.
     */
    function getBodyData(key) {
        if (typeof document === 'undefined' || !document.body) {
            return '';
        }
        let val = document.body.dataset[key];
        if (typeof val === 'undefined') {
            return '';
        }
        return decodeURIComponent(val);
    }
    /**
     * The namespace for page config `Extension` functions.
     */
    let Extension;
    (function (Extension) {
        /**
         * Populate an array from page config.
         *
         * @param key - The page config key (e.g., `deferredExtensions`).
         *
         * #### Notes
         * This is intended for `deferredExtensions` and `disabledExtensions`.
         */
        function populate(key) {
            try {
                const raw = getOption(key);
                if (raw) {
                    return JSON.parse(raw).map((pattern) => {
                        return { raw: pattern, rule: new RegExp(pattern) };
                    });
                }
            }
            catch (error) {
                console.warn(`Unable to parse ${key}.`, error);
            }
            return [];
        }
        /**
         * The collection of deferred extensions in page config.
         */
        Extension.deferred = populate('deferredExtensions');
        /**
         * The collection of disabled extensions in page config.
         */
        Extension.disabled = populate('disabledExtensions');
        /**
         * Returns whether a plugin is deferred.
         *
         * @param id - The plugin ID.
         */
        function isDeferred(id) {
            return Extension.deferred.some(val => val.raw === id || val.rule.test(id));
        }
        Extension.isDeferred = isDeferred;
        /**
         * Returns whether a plugin is disabled.
         *
         * @param id - The plugin ID.
         */
        function isDisabled(id) {
            return Extension.disabled.some(val => val.raw === id || val.rule.test(id));
        }
        Extension.isDisabled = isDisabled;
    })(Extension = PageConfig.Extension || (PageConfig.Extension = {}));
})(PageConfig = exports.PageConfig || (exports.PageConfig = {}));
//# sourceMappingURL=pageconfig.js.map
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../3.6/share/jupyter/lab/staging/node_modules/process/browser.js */ "8oxB")))

/***/ }),

/***/ "dqQ7":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/style/variables.js ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
/* harmony default export */ __webpack_exports__["default"] = ({
    hoverColor: 'var(--jp-layout-color3)',
    clickColor: 'var(--jp-brand-color1)',
    backgroundColor: 'var(--jp-layout-color2)',
    height: '24px',
    fontSize: 'var(--jp-ui-font-size1)',
    fontFamily: 'var(--jp-ui-font-family)',
    textColor: 'var(--jp-ui-font-color1)',
    textClickColor: 'white',
    itemMargin: '2px',
    itemPadding: '6px',
    statusBarPadding: '10px',
    interItemHalfSpacing: '2px' // this amount accounts for half the spacing between items
});
//# sourceMappingURL=variables.js.map

/***/ }),

/***/ "dwep":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/inputdialog.js ***!
  \*******************************************************************************************/
/*! exports provided: InputDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InputDialog", function() { return InputDialog; });
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dialog */ "HEhr");
/* harmony import */ var _styling__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styling */ "4mEv");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



const INPUT_DIALOG_CLASS = 'jp-Input-Dialog';
/**
 * Namespace for input dialogs
 */
var InputDialog;
(function (InputDialog) {
    /**
     * Create and show a input dialog for a boolean.
     *
     * @param options - The dialog setup options.
     *
     * @returns A promise that resolves with whether the dialog was accepted
     */
    function getBoolean(options) {
        return Object(_dialog__WEBPACK_IMPORTED_MODULE_1__["showDialog"])(Object.assign(Object.assign({}, options), { body: new InputBooleanDialog(options), buttons: [
                _dialog__WEBPACK_IMPORTED_MODULE_1__["Dialog"].cancelButton({ label: options.cancelLabel }),
                _dialog__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton({ label: options.okLabel })
            ], focusNodeSelector: 'input' }));
    }
    InputDialog.getBoolean = getBoolean;
    /**
     * Create and show a input dialog for a number.
     *
     * @param options - The dialog setup options.
     *
     * @returns A promise that resolves with whether the dialog was accepted
     */
    function getNumber(options) {
        return Object(_dialog__WEBPACK_IMPORTED_MODULE_1__["showDialog"])(Object.assign(Object.assign({}, options), { body: new InputNumberDialog(options), buttons: [
                _dialog__WEBPACK_IMPORTED_MODULE_1__["Dialog"].cancelButton({ label: options.cancelLabel }),
                _dialog__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton({ label: options.okLabel })
            ], focusNodeSelector: 'input' }));
    }
    InputDialog.getNumber = getNumber;
    /**
     * Create and show a input dialog for a choice.
     *
     * @param options - The dialog setup options.
     *
     * @returns A promise that resolves with whether the dialog was accepted
     */
    function getItem(options) {
        return Object(_dialog__WEBPACK_IMPORTED_MODULE_1__["showDialog"])(Object.assign(Object.assign({}, options), { body: new InputItemsDialog(options), buttons: [
                _dialog__WEBPACK_IMPORTED_MODULE_1__["Dialog"].cancelButton({ label: options.cancelLabel }),
                _dialog__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton({ label: options.okLabel })
            ], focusNodeSelector: options.editable ? 'input' : 'select' }));
    }
    InputDialog.getItem = getItem;
    /**
     * Create and show a input dialog for a text.
     *
     * @param options - The dialog setup options.
     *
     * @returns A promise that resolves with whether the dialog was accepted
     */
    function getText(options) {
        return Object(_dialog__WEBPACK_IMPORTED_MODULE_1__["showDialog"])(Object.assign(Object.assign({}, options), { body: new InputTextDialog(options), buttons: [
                _dialog__WEBPACK_IMPORTED_MODULE_1__["Dialog"].cancelButton({ label: options.cancelLabel }),
                _dialog__WEBPACK_IMPORTED_MODULE_1__["Dialog"].okButton({ label: options.okLabel })
            ], focusNodeSelector: 'input' }));
    }
    InputDialog.getText = getText;
})(InputDialog || (InputDialog = {}));
/**
 * Base widget for input dialog body
 */
class InputDialogBase extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_0__["Widget"] {
    /**
     * InputDialog constructor
     *
     * @param label Input field label
     */
    constructor(label) {
        super();
        this.addClass(INPUT_DIALOG_CLASS);
        if (label !== undefined) {
            let labelElement = document.createElement('label');
            labelElement.textContent = label;
            // Initialize the node
            this.node.appendChild(labelElement);
        }
    }
}
/**
 * Widget body for input boolean dialog
 */
class InputBooleanDialog extends InputDialogBase {
    /**
     * InputBooleanDialog constructor
     *
     * @param options Constructor options
     */
    constructor(options) {
        super(options.label);
        this._input = document.createElement('input');
        this._input.classList.add('jp-mod-styled');
        this._input.type = 'checkbox';
        this._input.checked = options.value ? true : false;
        // Initialize the node
        this.node.appendChild(this._input);
    }
    /**
     * Get the text specified by the user
     */
    getValue() {
        return this._input.checked;
    }
}
/**
 * Widget body for input number dialog
 */
class InputNumberDialog extends InputDialogBase {
    /**
     * InputNumberDialog constructor
     *
     * @param options Constructor options
     */
    constructor(options) {
        super(options.label);
        this._input = document.createElement('input', {});
        this._input.classList.add('jp-mod-styled');
        this._input.type = 'number';
        this._input.value = options.value ? options.value.toString() : '0';
        // Initialize the node
        this.node.appendChild(this._input);
    }
    /**
     * Get the number specified by the user.
     */
    getValue() {
        if (this._input.value) {
            return Number(this._input.value);
        }
        else {
            return Number.NaN;
        }
    }
}
/**
 * Widget body for input text dialog
 */
class InputTextDialog extends InputDialogBase {
    /**
     * InputTextDialog constructor
     *
     * @param options Constructor options
     */
    constructor(options) {
        super(options.label);
        this._input = document.createElement('input', {});
        this._input.classList.add('jp-mod-styled');
        this._input.type = 'text';
        this._input.value = options.text ? options.text : '';
        if (options.placeholder) {
            this._input.placeholder = options.placeholder;
        }
        // Initialize the node
        this.node.appendChild(this._input);
    }
    /**
     * Get the text specified by the user
     */
    getValue() {
        return this._input.value;
    }
}
/**
 * Widget body for input list dialog
 */
class InputItemsDialog extends InputDialogBase {
    /**
     * InputItemsDialog constructor
     *
     * @param options Constructor options
     */
    constructor(options) {
        super(options.label);
        this._editable = options.editable || false;
        let current = options.current || 0;
        let defaultIndex;
        if (typeof current === 'number') {
            defaultIndex = Math.max(0, Math.min(current, options.items.length - 1));
            current = '';
        }
        this._list = document.createElement('select');
        options.items.forEach((item, index) => {
            let option = document.createElement('option');
            if (index === defaultIndex) {
                option.selected = true;
                current = item;
            }
            option.value = item;
            option.textContent = item;
            this._list.appendChild(option);
        });
        if (options.editable) {
            /* Use of list and datalist */
            let data = document.createElement('datalist');
            data.id = 'input-dialog-items';
            data.appendChild(this._list);
            this._input = document.createElement('input', {});
            this._input.classList.add('jp-mod-styled');
            this._input.type = 'list';
            this._input.value = current;
            this._input.setAttribute('list', data.id);
            if (options.placeholder) {
                this._input.placeholder = options.placeholder;
            }
            this.node.appendChild(this._input);
            this.node.appendChild(data);
        }
        else {
            /* Use select directly */
            this.node.appendChild(_styling__WEBPACK_IMPORTED_MODULE_2__["Styling"].wrapSelect(this._list));
        }
    }
    /**
     * Get the user choice
     */
    getValue() {
        if (this._editable) {
            return this._input.value;
        }
        else {
            return this._list.value;
        }
    }
}
//# sourceMappingURL=inputdialog.js.map

/***/ }),

/***/ "eUJo":
/*!*****************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/defaults/memoryUsage.js ***!
  \*****************************************************************************************************/
/*! exports provided: MemoryUsage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MemoryUsage", function() { return MemoryUsage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/services */ "YdKB");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_polling__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/polling */ "iePd");
/* harmony import */ var _lumino_polling__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_polling__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! .. */ "8R0s");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.






/**
 * A VDomRenderer for showing memory usage by a kernel.
 */
class MemoryUsage extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomRenderer"] {
    /**
     * Construct a new memory usage status item.
     */
    constructor() {
        super(new MemoryUsage.Model({ refreshRate: 5000 }));
    }
    /**
     * Render the memory usage status item.
     */
    render() {
        if (!this.model) {
            return null;
        }
        let text;
        if (this.model.memoryLimit === null) {
            text = `Mem: ${this.model.currentMemory.toFixed(Private.DECIMAL_PLACES)} ${this.model.units}`;
        }
        else {
            text = `Mem: ${this.model.currentMemory.toFixed(Private.DECIMAL_PLACES)} / ${this.model.memoryLimit.toFixed(Private.DECIMAL_PLACES)} ${this.model.units}`;
        }
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_5__["TextItem"], { title: "Current memory usage", source: text });
    }
}
/**
 * A namespace for MemoryUsage statics.
 */
(function (MemoryUsage) {
    /**
     * A VDomModel for the memory usage status item.
     */
    class Model extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomModel"] {
        /**
         * Construct a new memory usage model.
         *
         * @param options: the options for creating the model.
         */
        constructor(options) {
            super();
            this._currentMemory = 0;
            this._memoryLimit = null;
            this._metricsAvailable = false;
            this._units = 'B';
            this._poll = new _lumino_polling__WEBPACK_IMPORTED_MODULE_4__["Poll"]({
                factory: () => Private.factory(),
                frequency: {
                    interval: options.refreshRate,
                    backoff: true
                },
                name: '@jupyterlab/statusbar:MemoryUsage#metrics'
            });
            this._poll.ticked.connect(poll => {
                const { payload, phase } = poll.state;
                if (phase === 'resolved') {
                    this._updateMetricsValues(payload);
                    return;
                }
                if (phase === 'rejected') {
                    const oldMetricsAvailable = this._metricsAvailable;
                    this._metricsAvailable = false;
                    this._currentMemory = 0;
                    this._memoryLimit = null;
                    this._units = 'B';
                    if (oldMetricsAvailable) {
                        this.stateChanged.emit();
                    }
                    return;
                }
            });
        }
        /**
         * Whether the metrics server extension is available.
         */
        get metricsAvailable() {
            return this._metricsAvailable;
        }
        /**
         * The current memory usage/
         */
        get currentMemory() {
            return this._currentMemory;
        }
        /**
         * The current memory limit, or null if not specified.
         */
        get memoryLimit() {
            return this._memoryLimit;
        }
        /**
         * The units for memory usages and limits.
         */
        get units() {
            return this._units;
        }
        /**
         * Dispose of the memory usage model.
         */
        dispose() {
            super.dispose();
            this._poll.dispose();
        }
        /**
         * Given the results of the metrics request, update model values.
         */
        _updateMetricsValues(value) {
            const oldMetricsAvailable = this._metricsAvailable;
            const oldCurrentMemory = this._currentMemory;
            const oldMemoryLimit = this._memoryLimit;
            const oldUnits = this._units;
            if (value === null) {
                this._metricsAvailable = false;
                this._currentMemory = 0;
                this._memoryLimit = null;
                this._units = 'B';
            }
            else {
                const numBytes = value.rss;
                const memoryLimit = value.limits.memory
                    ? value.limits.memory.rss
                    : null;
                const [currentMemory, units] = Private.convertToLargestUnit(numBytes);
                this._metricsAvailable = true;
                this._currentMemory = currentMemory;
                this._units = units;
                this._memoryLimit = memoryLimit
                    ? memoryLimit / Private.MEMORY_UNIT_LIMITS[units]
                    : null;
            }
            if (this._currentMemory !== oldCurrentMemory ||
                this._units !== oldUnits ||
                this._memoryLimit !== oldMemoryLimit ||
                this._metricsAvailable !== oldMetricsAvailable) {
                this.stateChanged.emit(void 0);
            }
        }
    }
    MemoryUsage.Model = Model;
})(MemoryUsage || (MemoryUsage = {}));
/**
 * A namespace for module private statics.
 */
var Private;
(function (Private) {
    /**
     * The number of decimal places to use when rendering memory usage.
     */
    Private.DECIMAL_PLACES = 2;
    /**
     * The number of bytes in each memory unit.
     */
    Private.MEMORY_UNIT_LIMITS = {
        B: 1,
        KB: 1024,
        MB: 1048576,
        GB: 1073741824,
        TB: 1099511627776,
        PB: 1125899906842624
    };
    /**
     * Given a number of bytes, convert to the most human-readable
     * format, (GB, TB, etc).
     */
    function convertToLargestUnit(numBytes) {
        if (numBytes < Private.MEMORY_UNIT_LIMITS.KB) {
            return [numBytes, 'B'];
        }
        else if (Private.MEMORY_UNIT_LIMITS.KB === numBytes ||
            numBytes < Private.MEMORY_UNIT_LIMITS.MB) {
            return [numBytes / Private.MEMORY_UNIT_LIMITS.KB, 'KB'];
        }
        else if (Private.MEMORY_UNIT_LIMITS.MB === numBytes ||
            numBytes < Private.MEMORY_UNIT_LIMITS.GB) {
            return [numBytes / Private.MEMORY_UNIT_LIMITS.MB, 'MB'];
        }
        else if (Private.MEMORY_UNIT_LIMITS.GB === numBytes ||
            numBytes < Private.MEMORY_UNIT_LIMITS.TB) {
            return [numBytes / Private.MEMORY_UNIT_LIMITS.GB, 'GB'];
        }
        else if (Private.MEMORY_UNIT_LIMITS.TB === numBytes ||
            numBytes < Private.MEMORY_UNIT_LIMITS.PB) {
            return [numBytes / Private.MEMORY_UNIT_LIMITS.TB, 'TB'];
        }
        else {
            return [numBytes / Private.MEMORY_UNIT_LIMITS.PB, 'PB'];
        }
    }
    Private.convertToLargestUnit = convertToLargestUnit;
    /**
     * Settings for making requests to the server.
     */
    const SERVER_CONNECTION_SETTINGS = _jupyterlab_services__WEBPACK_IMPORTED_MODULE_3__["ServerConnection"].makeSettings();
    /**
     * The url endpoint for making requests to the server.
     */
    const METRIC_URL = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["URLExt"].join(SERVER_CONNECTION_SETTINGS.baseUrl, 'metrics');
    /**
     * Make a request to the backend.
     */
    async function factory() {
        const request = _jupyterlab_services__WEBPACK_IMPORTED_MODULE_3__["ServerConnection"].makeRequest(METRIC_URL, {}, SERVER_CONNECTION_SETTINGS);
        const response = await request;
        if (response.ok) {
            try {
                return await response.json();
            }
            catch (error) {
                throw error;
            }
        }
        return null;
    }
    Private.factory = factory;
})(Private || (Private = {}));
//# sourceMappingURL=memoryUsage.js.map

/***/ }),

/***/ "egPu":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/file.svg ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cpath class='jp-icon3 jp-icon-selectable' fill='%23616161' d='M19.3,8.2l-5.5-5.5c-0.3-0.3-0.7-0.5-1.2-0.5H3.9C3.1,2.3,2.3,3.1,2.3,4v14.1c0,0.9,0.7,1.6,1.6,1.6h14.2 c0.9,0,1.6-0.7,1.6-1.6V9.4C19.8,8.9,19.6,8.5,19.3,8.2z M13.5,4.9l3.4,3.6h-3.4V4.9z M17.4,17.6l-12.7,0c-0.1,0-0.2,0-0.2-0.2V4.7 c0-0.2,0.1-0.3,0.2-0.3h7.2v4.4c0,0,0,0.8,0.3,1.1c0.3,0.3,1.1,0.3,1.1,0.3h4.3l0,7.2C17.6,17.4,17.5,17.6,17.4,17.6z' /%3E %3C/svg%3E"

/***/ }),

/***/ "egPut":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/file.svg ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<path\n\t\tclass=\"jp-icon3 jp-icon-selectable\"\n\t\tfill=\"#616161\"\n\t\td=\"M19.3,8.2l-5.5-5.5c-0.3-0.3-0.7-0.5-1.2-0.5H3.9C3.1,2.3,2.3,3.1,2.3,4v14.1c0,0.9,0.7,1.6,1.6,1.6h14.2 c0.9,0,1.6-0.7,1.6-1.6V9.4C19.8,8.9,19.6,8.5,19.3,8.2z M13.5,4.9l3.4,3.6h-3.4V4.9z M17.4,17.6l-12.7,0c-0.1,0-0.2,0-0.2-0.2V4.7 c0-0.2,0.1-0.3,0.2-0.3h7.2v4.4c0,0,0,0.8,0.3,1.1c0.3,0.3,1.1,0.3,1.1,0.3h4.3l0,7.2C17.6,17.4,17.5,17.6,17.4,17.6z\"\n\t/>\n</svg>\n");

/***/ }),

/***/ "eiUk":
/*!*************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/coreutils/lib/text.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * The namespace for text-related functions.
 */
var Text;
(function (Text) {
    // javascript stores text as utf16 and string indices use "code units",
    // which stores high-codepoint characters as "surrogate pairs",
    // which occupy two indices in the javascript string.
    // We need to translate cursor_pos in the Jupyter protocol (in characters)
    // to js offset (with surrogate pairs taking two spots).
    const HAS_SURROGATES = '𝐚'.length > 1;
    /**
     * Convert a javascript string index into a unicode character offset
     *
     * @param jsIdx - The javascript string index (counting surrogate pairs)
     *
     * @param text - The text in which the offset is calculated
     *
     * @returns The unicode character offset
     */
    function jsIndexToCharIndex(jsIdx, text) {
        if (HAS_SURROGATES) {
            // not using surrogates, nothing to do
            return jsIdx;
        }
        let charIdx = jsIdx;
        for (let i = 0; i + 1 < text.length && i < jsIdx; i++) {
            let charCode = text.charCodeAt(i);
            // check for surrogate pair
            if (charCode >= 0xd800 && charCode <= 0xdbff) {
                let nextCharCode = text.charCodeAt(i + 1);
                if (nextCharCode >= 0xdc00 && nextCharCode <= 0xdfff) {
                    charIdx--;
                    i++;
                }
            }
        }
        return charIdx;
    }
    Text.jsIndexToCharIndex = jsIndexToCharIndex;
    /**
     * Convert a unicode character offset to a javascript string index.
     *
     * @param charIdx - The index in unicode characters
     *
     * @param text - The text in which the offset is calculated
     *
     * @returns The js-native index
     */
    function charIndexToJsIndex(charIdx, text) {
        if (HAS_SURROGATES) {
            // not using surrogates, nothing to do
            return charIdx;
        }
        let jsIdx = charIdx;
        for (let i = 0; i + 1 < text.length && i < jsIdx; i++) {
            let charCode = text.charCodeAt(i);
            // check for surrogate pair
            if (charCode >= 0xd800 && charCode <= 0xdbff) {
                let nextCharCode = text.charCodeAt(i + 1);
                if (nextCharCode >= 0xdc00 && nextCharCode <= 0xdfff) {
                    jsIdx++;
                    i++;
                }
            }
        }
        return jsIdx;
    }
    Text.charIndexToJsIndex = charIndexToJsIndex;
    /**
     * Given a 'snake-case', 'snake_case', 'snake:case', or
     * 'snake case' string, will return the camel case version: 'snakeCase'.
     *
     * @param str: the snake-case input string.
     *
     * @param upper: default = false. If true, the first letter of the
     * returned string will be capitalized.
     *
     * @returns the camel case version of the input string.
     */
    function camelCase(str, upper = false) {
        return str.replace(/^(\w)|[\s-_:]+(\w)/g, function (match, p1, p2) {
            if (p2) {
                return p2.toUpperCase();
            }
            else {
                return upper ? p1.toUpperCase() : p1.toLowerCase();
            }
        });
    }
    Text.camelCase = camelCase;
    /**
     * Given a string, title case the words in the string.
     *
     * @param str: the string to title case.
     *
     * @returns the same string, but with each word capitalized.
     */
    function titleCase(str) {
        return (str || '')
            .toLowerCase()
            .split(' ')
            .map(word => word.charAt(0).toUpperCase() + word.slice(1))
            .join(' ');
    }
    Text.titleCase = titleCase;
})(Text = exports.Text || (exports.Text = {}));
//# sourceMappingURL=text.js.map

/***/ }),

/***/ "f1uU":
/*!****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/inspector.svg ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3 jp-icon-selectable' fill='%23616161'%3E %3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "f1uUs":
/*!****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/inspector.svg ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3 jp-icon-selectable\" fill=\"#616161\">\n    <path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "f9/9":
/*!************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/tabs.js ***!
  \************************************************************************************/
/*! exports provided: TabsMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TabsMenu", function() { return TabsMenu; });
/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * An extensible Tabs menu for the application.
 */
class TabsMenu extends _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"] {
    /**
     * Construct the tabs menu.
     */
    constructor(options) {
        super(options);
        this.menu.title.label = 'Tabs';
    }
}
//# sourceMappingURL=tabs.js.map

/***/ }),

/***/ "f9yA":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/docregistry/style/index.css ***!
  \*********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@lumino/widgets/style/index.css */ "0S1w"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@jupyterlab/ui-components/style/index.css */ "z7Tq"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@jupyterlab/apputils/style/index.css */ "WVm5"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./base.css */ "bdYP"), "");
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/* This file was auto-generated by ensurePackage() in @jupyterlab/buildutils */\n", ""]);


/***/ }),

/***/ "g/SU":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/mimerenderers.js ***!
  \************************************************************************************************/
/*! exports provided: IMimeDocumentTracker, createRendermimePlugins, createRendermimePlugin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IMimeDocumentTracker", function() { return IMimeDocumentTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createRendermimePlugins", function() { return createRendermimePlugins; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createRendermimePlugin", function() { return createRendermimePlugin; });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/docregistry */ "HY8D");
/* harmony import */ var _jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/rendermime */ "18Yc");
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lumino/properties */ "2RSD");
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lumino_properties__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _layoutrestorer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./layoutrestorer */ "wgtH");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/* tslint:disable */
/**
 * The mime document tracker token.
 */
const IMimeDocumentTracker = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__["Token"]('@jupyterlab/application:IMimeDocumentTracker');
/* tslint:enable */
/**
 * Create rendermime plugins for rendermime extension modules.
 */
function createRendermimePlugins(extensions) {
    const plugins = [];
    const namespace = 'application-mimedocuments';
    const tracker = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__["WidgetTracker"]({ namespace });
    extensions.forEach(mod => {
        let data = mod.default;
        // Handle CommonJS exports.
        if (!mod.hasOwnProperty('__esModule')) {
            data = mod;
        }
        if (!Array.isArray(data)) {
            data = [data];
        }
        data.forEach(item => {
            plugins.push(createRendermimePlugin(tracker, item));
        });
    });
    // Also add a meta-plugin handling state restoration
    // and exposing the mime document widget tracker.
    plugins.push({
        id: '@jupyterlab/application:mimedocument',
        optional: [_layoutrestorer__WEBPACK_IMPORTED_MODULE_6__["ILayoutRestorer"]],
        provides: IMimeDocumentTracker,
        autoStart: true,
        activate: (app, restorer) => {
            if (restorer) {
                void restorer.restore(tracker, {
                    command: 'docmanager:open',
                    args: widget => ({
                        path: widget.context.path,
                        factory: Private.factoryNameProperty.get(widget)
                    }),
                    name: widget => `${widget.context.path}:${Private.factoryNameProperty.get(widget)}`
                });
            }
            return tracker;
        }
    });
    return plugins;
}
/**
 * Create rendermime plugins for rendermime extension modules.
 */
function createRendermimePlugin(tracker, item) {
    return {
        id: item.id,
        requires: [_jupyterlab_rendermime__WEBPACK_IMPORTED_MODULE_2__["IRenderMimeRegistry"]],
        autoStart: true,
        activate: (app, rendermime) => {
            // Add the mime renderer.
            if (item.rank !== undefined) {
                rendermime.addFactory(item.rendererFactory, item.rank);
            }
            else {
                rendermime.addFactory(item.rendererFactory);
            }
            // Handle the widget factory.
            if (!item.documentWidgetFactoryOptions) {
                return;
            }
            let registry = app.docRegistry;
            let options = [];
            if (Array.isArray(item.documentWidgetFactoryOptions)) {
                options = item.documentWidgetFactoryOptions;
            }
            else {
                options = [
                    item.documentWidgetFactoryOptions
                ];
            }
            if (item.fileTypes) {
                item.fileTypes.forEach(ft => {
                    if (ft.icon) {
                        // upconvert the contents of the icon field to a proper LabIcon
                        ft = Object.assign(Object.assign({}, ft), { icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_3__["LabIcon"].resolve({ icon: ft.icon }) });
                    }
                    app.docRegistry.addFileType(ft);
                });
            }
            options.forEach(option => {
                const toolbarFactory = option.toolbarFactory
                    ? (w) => option.toolbarFactory(w.content.renderer)
                    : undefined;
                let factory = new _jupyterlab_docregistry__WEBPACK_IMPORTED_MODULE_1__["MimeDocumentFactory"]({
                    renderTimeout: item.renderTimeout,
                    dataType: item.dataType,
                    rendermime,
                    modelName: option.modelName,
                    name: option.name,
                    primaryFileType: registry.getFileType(option.primaryFileType),
                    fileTypes: option.fileTypes,
                    defaultFor: option.defaultFor,
                    defaultRendered: option.defaultRendered,
                    toolbarFactory
                });
                registry.addWidgetFactory(factory);
                factory.widgetCreated.connect((sender, widget) => {
                    Private.factoryNameProperty.set(widget, factory.name);
                    // Notify the widget tracker if restore data needs to update.
                    widget.context.pathChanged.connect(() => {
                        void tracker.save(widget);
                    });
                    void tracker.add(widget);
                });
            });
        }
    };
}
/**
 * Private namespace for the module.
 */
var Private;
(function (Private) {
    /**
     * An attached property for keeping the factory name
     * that was used to create a mimedocument.
     */
    Private.factoryNameProperty = new _lumino_properties__WEBPACK_IMPORTED_MODULE_5__["AttachedProperty"]({
        name: 'factoryName',
        create: () => undefined
    });
})(Private || (Private = {}));
//# sourceMappingURL=mimerenderers.js.map

/***/ }),

/***/ "gBdJ":
/*!********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/thememanager.js ***!
  \********************************************************************************************/
/*! exports provided: ThemeManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeManager", function() { return ThemeManager; });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dialog */ "HEhr");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.





/**
 * The number of milliseconds between theme loading attempts.
 */
const REQUEST_INTERVAL = 75;
/**
 * The number of times to attempt to load a theme before giving up.
 */
const REQUEST_THRESHOLD = 20;
/**
 * A class that provides theme management.
 */
class ThemeManager {
    /**
     * Construct a new theme manager.
     */
    constructor(options) {
        this._current = null;
        this._links = [];
        this._overrides = {};
        this._overrideProps = {};
        this._outstanding = null;
        this._pending = 0;
        this._requests = {};
        this._themes = {};
        this._themeChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_3__["Signal"](this);
        const { host, key, splash, url } = options;
        const registry = options.settings;
        this._base = url;
        this._host = host;
        this._splash = splash || null;
        void registry.load(key).then(settings => {
            this._settings = settings;
            this._settings.changed.connect(this._loadSettings, this);
            this._loadSettings();
            this._initOverrideProps();
        });
    }
    /**
     * Get the name of the current theme.
     */
    get theme() {
        return this._current;
    }
    /**
     * The names of the registered themes.
     */
    get themes() {
        return Object.keys(this._themes);
    }
    /**
     * A signal fired when the application theme changes.
     */
    get themeChanged() {
        return this._themeChanged;
    }
    /**
     * Get the value of a CSS variable from its key.
     *
     * @param key - A Jupyterlab CSS variable, without the leading '--jp-'.
     *
     * @return value - The current value of the Jupyterlab CSS variable
     */
    getCSS(key) {
        return getComputedStyle(document.documentElement).getPropertyValue(`--jp-${key}`);
    }
    /**
     * Load a theme CSS file by path.
     *
     * @param path - The path of the file to load.
     */
    loadCSS(path) {
        const base = this._base;
        const href = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["URLExt"].isLocal(path) ? _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["URLExt"].join(base, path) : path;
        const links = this._links;
        return new Promise((resolve, reject) => {
            const link = document.createElement('link');
            link.setAttribute('rel', 'stylesheet');
            link.setAttribute('type', 'text/css');
            link.setAttribute('href', href);
            link.addEventListener('load', () => {
                resolve(undefined);
            });
            link.addEventListener('error', () => {
                reject(`Stylesheet failed to load: ${href}`);
            });
            document.body.appendChild(link);
            links.push(link);
        });
    }
    /**
     * Loads all current CSS overrides from settings. If an override has been
     * removed or is invalid, this function unloads it instead.
     */
    loadCSSOverrides() {
        const newOverrides = this._settings.user['overrides'] || {};
        // iterate over the union of current and new CSS override keys
        Object.keys(Object.assign(Object.assign({}, this._overrides), newOverrides)).forEach(key => {
            const val = newOverrides[key];
            if (val && this.validateCSS(key, val)) {
                // validation succeeded, set the override
                document.documentElement.style.setProperty(`--jp-${key}`, val);
            }
            else {
                // if key is not present or validation failed, the override will be removed
                document.documentElement.style.removeProperty(`--jp-${key}`);
            }
        });
        // replace the current overrides with the new ones
        this._overrides = newOverrides;
    }
    /**
     * Validate a CSS value w.r.t. a key
     *
     * @param key - A Jupyterlab CSS variable, without the leading '--jp-'.
     *
     * @param val - A candidate CSS value
     */
    validateCSS(key, val) {
        // determine the css property corresponding to the key
        const prop = this._overrideProps[key];
        if (!prop) {
            console.warn('CSS validation failed: could not find property corresponding to key.\n' +
                `key: '${key}', val: '${val}'`);
            return false;
        }
        // use built-in validation once we have the corresponding property
        if (CSS.supports(prop, val)) {
            return true;
        }
        else {
            console.warn('CSS validation failed: invalid value.\n' +
                `key: '${key}', val: '${val}', prop: '${prop}'`);
            return false;
        }
    }
    /**
     * Register a theme with the theme manager.
     *
     * @param theme - The theme to register.
     *
     * @returns A disposable that can be used to unregister the theme.
     */
    register(theme) {
        const { name } = theme;
        const themes = this._themes;
        if (themes[name]) {
            throw new Error(`Theme already registered for ${name}`);
        }
        themes[name] = theme;
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_2__["DisposableDelegate"](() => {
            delete themes[name];
        });
    }
    /**
     * Add a CSS override to the settings.
     */
    setCSSOverride(key, value) {
        this._overrides[key] = value;
        return this._settings.set('overrides', this._overrides);
    }
    /**
     * Set the current theme.
     */
    setTheme(name) {
        return this._settings.set('theme', name);
    }
    /**
     * Test whether a given theme is light.
     */
    isLight(name) {
        return this._themes[name].isLight;
    }
    /**
     * Increase a font size w.r.t. its current setting or its value in the
     * current theme.
     *
     * @param key - A Jupyterlab font size CSS variable, without the leading '--jp-'.
     */
    incrFontSize(key) {
        return this._incrFontSize(key, true);
    }
    /**
     * Decrease a font size w.r.t. its current setting or its value in the
     * current theme.
     *
     * @param key - A Jupyterlab font size CSS variable, without the leading '--jp-'.
     */
    decrFontSize(key) {
        return this._incrFontSize(key, false);
    }
    /**
     * Test whether a given theme styles scrollbars,
     * and if the user has scrollbar styling enabled.
     */
    themeScrollbars(name) {
        return (!!this._settings.composite['theme-scrollbars'] &&
            !!this._themes[name].themeScrollbars);
    }
    /**
     * Test if the user has scrollbar styling enabled.
     */
    isToggledThemeScrollbars() {
        return !!this._settings.composite['theme-scrollbars'];
    }
    /**
     * Toggle the `theme-scrollbbars` setting.
     */
    toggleThemeScrollbars() {
        return this._settings.set('theme-scrollbars', !this._settings.composite['theme-scrollbars']);
    }
    /**
     * Change a font size by a positive or negative increment.
     */
    _incrFontSize(key, add = true) {
        // get the numeric and unit parts of the current font size
        const parts = (this.getCSS(key) || '13px').split(/([a-zA-Z]+)/);
        // determine the increment
        const incr = (add ? 1 : -1) * (parts[1] === 'em' ? 0.1 : 1);
        // increment the font size and set it as an override
        return this.setCSSOverride(key, `${Number(parts[0]) + incr}${parts[1]}`);
    }
    /**
     * Initialize the key -> property dict for the overrides
     */
    _initOverrideProps() {
        const definitions = this._settings.schema.definitions;
        // workaround for 1.0.x versions of Jlab pulling in 1.1.x versions of apputils
        // TODO: delete workaround in v2.0.0
        if (definitions && definitions.cssOverrides) {
            const oSchema = definitions.cssOverrides.properties;
            // the description field of each item in the overrides schema stores a
            // CSS property that will be used to validate that override's values
            Object.keys(oSchema).forEach(key => {
                this._overrideProps[key] = oSchema[key].description;
            });
        }
    }
    /**
     * Handle the current settings.
     */
    _loadSettings() {
        const outstanding = this._outstanding;
        const pending = this._pending;
        const requests = this._requests;
        // If another request is pending, cancel it.
        if (pending) {
            window.clearTimeout(pending);
            this._pending = 0;
        }
        const settings = this._settings;
        const themes = this._themes;
        const theme = settings.composite['theme'];
        // If another promise is outstanding, wait until it finishes before
        // attempting to load the settings. Because outstanding promises cannot
        // be aborted, the order in which they occur must be enforced.
        if (outstanding) {
            outstanding
                .then(() => {
                this._loadSettings();
            })
                .catch(() => {
                this._loadSettings();
            });
            this._outstanding = null;
            return;
        }
        // Increment the request counter.
        requests[theme] = requests[theme] ? requests[theme] + 1 : 1;
        // If the theme exists, load it right away.
        if (themes[theme]) {
            this._outstanding = this._loadTheme(theme);
            delete requests[theme];
            return;
        }
        // If the request has taken too long, give up.
        if (requests[theme] > REQUEST_THRESHOLD) {
            const fallback = settings.default('theme');
            // Stop tracking the requests for this theme.
            delete requests[theme];
            if (!themes[fallback]) {
                this._onError(`Neither theme ${theme} nor default ${fallback} loaded.`);
                return;
            }
            console.warn(`Could not load theme ${theme}, using default ${fallback}.`);
            this._outstanding = this._loadTheme(fallback);
            return;
        }
        // If the theme does not yet exist, attempt to wait for it.
        this._pending = window.setTimeout(() => {
            this._loadSettings();
        }, REQUEST_INTERVAL);
    }
    /**
     * Load the theme.
     *
     * #### Notes
     * This method assumes that the `theme` exists.
     */
    _loadTheme(theme) {
        const current = this._current;
        const links = this._links;
        const themes = this._themes;
        const splash = this._splash
            ? this._splash.show(themes[theme].isLight)
            : new _lumino_disposable__WEBPACK_IMPORTED_MODULE_2__["DisposableDelegate"](() => undefined);
        // Unload any CSS files that have been loaded.
        links.forEach(link => {
            if (link.parentElement) {
                link.parentElement.removeChild(link);
            }
        });
        links.length = 0;
        // Unload the previously loaded theme.
        const old = current ? themes[current].unload() : Promise.resolve();
        return Promise.all([old, themes[theme].load()])
            .then(() => {
            this._current = theme;
            this._themeChanged.emit({
                name: 'theme',
                oldValue: current,
                newValue: theme
            });
            // Need to force a redraw of the app here to avoid a Chrome rendering
            // bug that can leave the scrollbars in an invalid state
            this._host.hide();
            // If we hide/show the widget too quickly, no redraw will happen.
            // requestAnimationFrame delays until after the next frame render.
            requestAnimationFrame(() => {
                this._host.show();
                Private.fitAll(this._host);
                splash.dispose();
            });
        })
            .catch(reason => {
            this._onError(reason);
            splash.dispose();
        });
    }
    /**
     * Handle a theme error.
     */
    _onError(reason) {
        void Object(_dialog__WEBPACK_IMPORTED_MODULE_4__["showDialog"])({
            title: 'Error Loading Theme',
            body: String(reason),
            buttons: [_dialog__WEBPACK_IMPORTED_MODULE_4__["Dialog"].okButton({ label: 'OK' })]
        });
    }
}
/**
 * A namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * Fit a widget and all of its children, recursively.
     */
    function fitAll(widget) {
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["each"])(widget.children(), fitAll);
        widget.fit();
    }
    Private.fitAll = fitAll;
})(Private || (Private = {}));
//# sourceMappingURL=thememanager.js.map

/***/ }),

/***/ "gEQi":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/splash.js ***!
  \**************************************************************************************/
/*! exports provided: ISplashScreen */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ISplashScreen", function() { return ISplashScreen; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/* tslint:disable */
/**
 * The main menu token.
 */
const ISplashScreen = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/apputils:ISplashScreen');
//# sourceMappingURL=splash.js.map

/***/ }),

/***/ "gY1d":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/serverconnection.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var _a, _b, _c;
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
let FETCH;
let HEADERS;
let REQUEST;
let WEBSOCKET;
if (typeof window === 'undefined') {
    // Mangle the require statements so it does not get picked up in the
    // browser assets.
    /* tslint:disable */
    let fetchMod = __webpack_require__(/*! node-fetch */ "4vsW");
    FETCH = (_a = global.fetch, (_a !== null && _a !== void 0 ? _a : fetchMod));
    REQUEST = (_b = global.Request, (_b !== null && _b !== void 0 ? _b : fetchMod.Request));
    HEADERS = (_c = global.Headers, (_c !== null && _c !== void 0 ? _c : fetchMod.Headers));
    WEBSOCKET = __webpack_require__(/*! ws */ "kEOu");
    /* tslint:enable */
}
else {
    FETCH = fetch;
    REQUEST = Request;
    HEADERS = Headers;
    WEBSOCKET = WebSocket;
}
/**
 * The namespace for ServerConnection functions.
 *
 * #### Notes
 * This is only intended to manage communication with the Jupyter server.
 *
 * The default values can be used in a JupyterLab or Jupyter Notebook context.
 *
 * We use `token` authentication if available, falling back on an XSRF
 * cookie if one has been provided on the `document`.
 *
 * A content type of `'application/json'` is added when using authentication
 * and there is no body data to allow the server to prevent malicious forms.
 */
var ServerConnection;
(function (ServerConnection) {
    /**
     * Create a settings object given a subset of options.
     *
     * @param options - An optional partial set of options.
     *
     * @returns The full settings object.
     */
    function makeSettings(options) {
        return Private.makeSettings(options);
    }
    ServerConnection.makeSettings = makeSettings;
    /**
     * Make an request to the notebook server.
     *
     * @param url - The url for the request.
     *
     * @param init - The initialization options for the request.
     *
     * @param settings - The server settings to apply to the request.
     *
     * @returns a Promise that resolves with the response.
     *
     * @throws If the url of the request is not a notebook server url.
     *
     * #### Notes
     * The `url` must start with `settings.baseUrl`.  The `init` settings are
     * merged with `settings.init`, with `init` taking precedence.
     * The headers in the two objects are not merged.
     * If there is no body data, we set the content type to `application/json`
     * because it is required by the Notebook server.
     */
    function makeRequest(url, init, settings) {
        return Private.handleRequest(url, init, settings);
    }
    ServerConnection.makeRequest = makeRequest;
    /**
     * A wrapped error for a fetch response.
     */
    class ResponseError extends Error {
        /**
         * Create a new response error.
         */
        constructor(response, message = `Invalid response: ${response.status} ${response.statusText}`) {
            super(message);
            this.response = response;
        }
    }
    ServerConnection.ResponseError = ResponseError;
    /**
     * A wrapped error for a network error.
     */
    class NetworkError extends TypeError {
        /**
         * Create a new network error.
         */
        constructor(original) {
            super(original.message);
            this.stack = original.stack;
        }
    }
    ServerConnection.NetworkError = NetworkError;
    /**
     * The default settings.
     */
    ServerConnection.defaultSettings = {
        baseUrl: coreutils_1.PageConfig.getBaseUrl(),
        appUrl: coreutils_1.PageConfig.getOption('appUrl'),
        wsUrl: coreutils_1.PageConfig.getWsUrl(),
        token: coreutils_1.PageConfig.getToken(),
        init: { cache: 'no-store', credentials: 'same-origin' },
        fetch: FETCH,
        Headers: HEADERS,
        Request: REQUEST,
        WebSocket: WEBSOCKET
    };
})(ServerConnection = exports.ServerConnection || (exports.ServerConnection = {}));
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * Handle the server connection settings, returning a new value.
     */
    function makeSettings(options = {}) {
        const defaultSettings = ServerConnection.defaultSettings;
        const baseUrl = coreutils_1.URLExt.normalize(options.baseUrl) || defaultSettings.baseUrl;
        let wsUrl = options.wsUrl;
        // Prefer the default wsUrl if we are using the default baseUrl.
        if (!wsUrl && baseUrl === defaultSettings.baseUrl) {
            wsUrl = defaultSettings.wsUrl;
        }
        // Otherwise convert the baseUrl to a wsUrl if possible.
        if (!wsUrl && baseUrl.indexOf('http') === 0) {
            wsUrl = 'ws' + baseUrl.slice(4);
        }
        // Otherwise fall back on the default wsUrl.
        wsUrl = (wsUrl !== null && wsUrl !== void 0 ? wsUrl : defaultSettings.wsUrl);
        return Object.assign(Object.assign(Object.assign({}, defaultSettings), options), { wsUrl });
    }
    Private.makeSettings = makeSettings;
    /**
     * Handle a request.
     *
     * @param url - The url for the request.
     *
     * @param init - The overrides for the request init.
     *
     * @param settings - The settings object for the request.
     *
     * #### Notes
     * The `url` must start with `settings.baseUrl`.  The `init` settings
     * take precedence over `settings.init`.
     */
    function handleRequest(url, init, settings) {
        var _a, _b;
        // Handle notebook server requests.
        if (url.indexOf(settings.baseUrl) !== 0) {
            throw new Error('Can only be used for notebook server requests');
        }
        // Use explicit cache buster when `no-store` is set since
        // not all browsers use it properly.
        const cache = (_a = init.cache, (_a !== null && _a !== void 0 ? _a : settings.init.cache));
        if (cache === 'no-store') {
            // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache
            url += (/\?/.test(url) ? '&' : '?') + new Date().getTime();
        }
        const request = new settings.Request(url, Object.assign(Object.assign({}, settings.init), init));
        // Handle authentication. Authentication can be overdetermined by
        // settings token and XSRF token.
        let authenticated = false;
        if (settings.token) {
            authenticated = true;
            request.headers.append('Authorization', `token ${settings.token}`);
        }
        if (typeof document !== 'undefined' && ((_b = document) === null || _b === void 0 ? void 0 : _b.cookie)) {
            const xsrfToken = getCookie('_xsrf');
            if (xsrfToken !== undefined) {
                authenticated = true;
                request.headers.append('X-XSRFToken', xsrfToken);
            }
        }
        // Set the content type if there is no given data and we are
        // using an authenticated connection.
        if (!request.bodyUsed && authenticated) {
            request.headers.set('Content-Type', 'application/json');
        }
        // Use `call` to avoid a `TypeError` in the browser.
        return settings.fetch.call(null, request).catch((e) => {
            // Convert the TypeError into a more specific error.
            throw new ServerConnection.NetworkError(e);
        });
        // TODO: *this* is probably where we need a system-wide connectionFailure
        // signal we can hook into.
    }
    Private.handleRequest = handleRequest;
    /**
     * Get a cookie from the document.
     */
    function getCookie(name) {
        var _a;
        // From http://www.tornadoweb.org/en/stable/guide/security.html
        const matches = document.cookie.match('\\b' + name + '=([^;]*)\\b');
        return (_a = matches) === null || _a === void 0 ? void 0 : _a[1];
    }
})(Private || (Private = {}));
//# sourceMappingURL=serverconnection.js.map
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../3.6/share/jupyter/lab/staging/node_modules/webpack/buildin/global.js */ "yLpj")))

/***/ }),

/***/ "gbyn":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/coreutils/lib/activitymonitor.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
/**
 * A class that monitors activity on a signal.
 */
class ActivityMonitor {
    /**
     * Construct a new activity monitor.
     */
    constructor(options) {
        this._timer = -1;
        this._timeout = -1;
        this._isDisposed = false;
        this._activityStopped = new signaling_1.Signal(this);
        options.signal.connect(this._onSignalFired, this);
        this._timeout = options.timeout || 1000;
    }
    /**
     * A signal emitted when activity has ceased.
     */
    get activityStopped() {
        return this._activityStopped;
    }
    /**
     * The timeout associated with the monitor, in milliseconds.
     */
    get timeout() {
        return this._timeout;
    }
    set timeout(value) {
        this._timeout = value;
    }
    /**
     * Test whether the monitor has been disposed.
     *
     * #### Notes
     * This is a read-only property.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources used by the activity monitor.
     */
    dispose() {
        if (this._isDisposed) {
            return;
        }
        this._isDisposed = true;
        signaling_1.Signal.clearData(this);
    }
    /**
     * A signal handler for the monitored signal.
     */
    _onSignalFired(sender, args) {
        clearTimeout(this._timer);
        this._sender = sender;
        this._args = args;
        this._timer = setTimeout(() => {
            this._activityStopped.emit({
                sender: this._sender,
                args: this._args
            });
        }, this._timeout);
    }
}
exports.ActivityMonitor = ActivityMonitor;
//# sourceMappingURL=activitymonitor.js.map

/***/ }),

/***/ "glEY":
/*!****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/new-folder.svg ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "glEYY":
/*!****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/new-folder.svg ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "gpNj":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/deprecated.css ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
var getUrl = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/getUrl.js */ "HeW1");
var ___CSS_LOADER_URL___0___ = getUrl(__webpack_require__(/*! ./icons/toolbar/add.svg */ "d0qS"));
var ___CSS_LOADER_URL___1___ = getUrl(__webpack_require__(/*! ./icons/toolbar/bug.svg */ "9aRE"));
var ___CSS_LOADER_URL___2___ = getUrl(__webpack_require__(/*! ./icons/sidebar/build.svg */ "D0b+"));
var ___CSS_LOADER_URL___3___ = getUrl(__webpack_require__(/*! ./icons/arrow/caret-down-empty-thin.svg */ "34zP"));
var ___CSS_LOADER_URL___4___ = getUrl(__webpack_require__(/*! ./icons/arrow/caret-down-empty.svg */ "hCOB"));
var ___CSS_LOADER_URL___5___ = getUrl(__webpack_require__(/*! ./icons/arrow/caret-down.svg */ "hcGG"));
var ___CSS_LOADER_URL___6___ = getUrl(__webpack_require__(/*! ./icons/arrow/caret-left.svg */ "G9aA"));
var ___CSS_LOADER_URL___7___ = getUrl(__webpack_require__(/*! ./icons/arrow/caret-right.svg */ "7alH"));
var ___CSS_LOADER_URL___8___ = getUrl(__webpack_require__(/*! ./icons/arrow/caret-up-empty-thin.svg */ "8n1V"));
var ___CSS_LOADER_URL___9___ = getUrl(__webpack_require__(/*! ./icons/arrow/caret-up.svg */ "0hwS"));
var ___CSS_LOADER_URL___10___ = getUrl(__webpack_require__(/*! ./icons/search/case-sensitive.svg */ "uNO9"));
var ___CSS_LOADER_URL___11___ = getUrl(__webpack_require__(/*! ./icons/toolbar/check.svg */ "czI/"));
var ___CSS_LOADER_URL___12___ = getUrl(__webpack_require__(/*! ./icons/toolbar/circle-empty.svg */ "8bJw"));
var ___CSS_LOADER_URL___13___ = getUrl(__webpack_require__(/*! ./icons/toolbar/circle.svg */ "quQ5"));
var ___CSS_LOADER_URL___14___ = getUrl(__webpack_require__(/*! ./icons/toolbar/close.svg */ "mk9+"));
var ___CSS_LOADER_URL___15___ = getUrl(__webpack_require__(/*! ./icons/filetype/console.svg */ "WGM2"));
var ___CSS_LOADER_URL___16___ = getUrl(__webpack_require__(/*! ./icons/toolbar/copy.svg */ "9FPD"));
var ___CSS_LOADER_URL___17___ = getUrl(__webpack_require__(/*! ./icons/toolbar/cut.svg */ "jd0T"));
var ___CSS_LOADER_URL___18___ = getUrl(__webpack_require__(/*! ./icons/toolbar/download.svg */ "W9lb"));
var ___CSS_LOADER_URL___19___ = getUrl(__webpack_require__(/*! ./icons/toolbar/edit.svg */ "zG+O"));
var ___CSS_LOADER_URL___20___ = getUrl(__webpack_require__(/*! ./icons/toolbar/ellipses.svg */ "NNvM"));
var ___CSS_LOADER_URL___21___ = getUrl(__webpack_require__(/*! ./icons/sidebar/extension.svg */ "43H8"));
var ___CSS_LOADER_URL___22___ = getUrl(__webpack_require__(/*! ./icons/toolbar/file-upload.svg */ "yh0H"));
var ___CSS_LOADER_URL___23___ = getUrl(__webpack_require__(/*! ./icons/filetype/file.svg */ "egPu"));
var ___CSS_LOADER_URL___24___ = getUrl(__webpack_require__(/*! ./icons/toolbar/filter-list.svg */ "FTpu"));
var ___CSS_LOADER_URL___25___ = getUrl(__webpack_require__(/*! ./icons/filetype/folder.svg */ "s5xs"));
var ___CSS_LOADER_URL___26___ = getUrl(__webpack_require__(/*! ./icons/filetype/html5.svg */ "+FA6"));
var ___CSS_LOADER_URL___27___ = getUrl(__webpack_require__(/*! ./icons/filetype/image.svg */ "4LnR"));
var ___CSS_LOADER_URL___28___ = getUrl(__webpack_require__(/*! ./icons/filetype/inspector.svg */ "f1uU"));
var ___CSS_LOADER_URL___29___ = getUrl(__webpack_require__(/*! ./icons/filetype/json.svg */ "wogB"));
var ___CSS_LOADER_URL___30___ = getUrl(__webpack_require__(/*! ./icons/jupyter/jupyter-favicon.svg */ "wE//"));
var ___CSS_LOADER_URL___31___ = getUrl(__webpack_require__(/*! ./icons/jupyter/jupyter.svg */ "D7AG"));
var ___CSS_LOADER_URL___32___ = getUrl(__webpack_require__(/*! ./icons/jupyter/jupyterlab-wordmark.svg */ "7K4v"));
var ___CSS_LOADER_URL___33___ = getUrl(__webpack_require__(/*! ./icons/statusbar/kernel.svg */ "GNlT"));
var ___CSS_LOADER_URL___34___ = getUrl(__webpack_require__(/*! ./icons/filetype/keyboard.svg */ "Px9J"));
var ___CSS_LOADER_URL___35___ = getUrl(__webpack_require__(/*! ./icons/filetype/launcher.svg */ "kBEA"));
var ___CSS_LOADER_URL___36___ = getUrl(__webpack_require__(/*! ./icons/statusbar/line-form.svg */ "UHVt"));
var ___CSS_LOADER_URL___37___ = getUrl(__webpack_require__(/*! ./icons/toolbar/link.svg */ "Q1n9"));
var ___CSS_LOADER_URL___38___ = getUrl(__webpack_require__(/*! ./icons/statusbar/list.svg */ "Q4iw"));
var ___CSS_LOADER_URL___39___ = getUrl(__webpack_require__(/*! ./icons/filetype/markdown.svg */ "vy0v"));
var ___CSS_LOADER_URL___40___ = getUrl(__webpack_require__(/*! ./icons/toolbar/new-folder.svg */ "glEY"));
var ___CSS_LOADER_URL___41___ = getUrl(__webpack_require__(/*! ./icons/statusbar/not-trusted.svg */ "SpBn"));
var ___CSS_LOADER_URL___42___ = getUrl(__webpack_require__(/*! ./icons/filetype/notebook.svg */ "9Wnf"));
var ___CSS_LOADER_URL___43___ = getUrl(__webpack_require__(/*! ./icons/sidebar/palette.svg */ "bt4Z"));
var ___CSS_LOADER_URL___44___ = getUrl(__webpack_require__(/*! ./icons/toolbar/paste.svg */ "+Xg4"));
var ___CSS_LOADER_URL___45___ = getUrl(__webpack_require__(/*! ./icons/filetype/python.svg */ "4HTl"));
var ___CSS_LOADER_URL___46___ = getUrl(__webpack_require__(/*! ./icons/filetype/r-kernel.svg */ "dT8x"));
var ___CSS_LOADER_URL___47___ = getUrl(__webpack_require__(/*! ./icons/filetype/react.svg */ "5xsQ"));
var ___CSS_LOADER_URL___48___ = getUrl(__webpack_require__(/*! ./icons/toolbar/refresh.svg */ "Vsf5"));
var ___CSS_LOADER_URL___49___ = getUrl(__webpack_require__(/*! ./icons/search/regex.svg */ "U2AC"));
var ___CSS_LOADER_URL___50___ = getUrl(__webpack_require__(/*! ./icons/toolbar/run.svg */ "5okx"));
var ___CSS_LOADER_URL___51___ = getUrl(__webpack_require__(/*! ./icons/sidebar/running.svg */ "5eAW"));
var ___CSS_LOADER_URL___52___ = getUrl(__webpack_require__(/*! ./icons/toolbar/save.svg */ "EAFq"));
var ___CSS_LOADER_URL___53___ = getUrl(__webpack_require__(/*! ./icons/toolbar/search.svg */ "O1ZG"));
var ___CSS_LOADER_URL___54___ = getUrl(__webpack_require__(/*! ./icons/filetype/settings.svg */ "CXpg"));
var ___CSS_LOADER_URL___55___ = getUrl(__webpack_require__(/*! ./icons/filetype/spreadsheet.svg */ "vHxm"));
var ___CSS_LOADER_URL___56___ = getUrl(__webpack_require__(/*! ./icons/toolbar/stop.svg */ "MkW4"));
var ___CSS_LOADER_URL___57___ = getUrl(__webpack_require__(/*! ./icons/sidebar/tab.svg */ "V7oU"));
var ___CSS_LOADER_URL___58___ = getUrl(__webpack_require__(/*! ./icons/statusbar/terminal.svg */ "HC+r"));
var ___CSS_LOADER_URL___59___ = getUrl(__webpack_require__(/*! ./icons/filetype/text-editor.svg */ "m+Nt"));
var ___CSS_LOADER_URL___60___ = getUrl(__webpack_require__(/*! ./icons/statusbar/trusted.svg */ "MRPS"));
var ___CSS_LOADER_URL___61___ = getUrl(__webpack_require__(/*! ./icons/toolbar/undo.svg */ "MdrQ"));
var ___CSS_LOADER_URL___62___ = getUrl(__webpack_require__(/*! ./icons/filetype/vega.svg */ "r4jb"));
var ___CSS_LOADER_URL___63___ = getUrl(__webpack_require__(/*! ./icons/filetype/yaml.svg */ "DjWy"));
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/* This file was auto-generated by ensureUiComponents() in @jupyterlab/buildutils */\n\n/**\n * (DEPRECATED) Support for consuming icons as CSS background images\n */\n\n/* Icons urls */\n\n:root {\n  --jp-icon-add: url(" + ___CSS_LOADER_URL___0___ + ");\n  --jp-icon-bug: url(" + ___CSS_LOADER_URL___1___ + ");\n  --jp-icon-build: url(" + ___CSS_LOADER_URL___2___ + ");\n  --jp-icon-caret-down-empty-thin: url(" + ___CSS_LOADER_URL___3___ + ");\n  --jp-icon-caret-down-empty: url(" + ___CSS_LOADER_URL___4___ + ");\n  --jp-icon-caret-down: url(" + ___CSS_LOADER_URL___5___ + ");\n  --jp-icon-caret-left: url(" + ___CSS_LOADER_URL___6___ + ");\n  --jp-icon-caret-right: url(" + ___CSS_LOADER_URL___7___ + ");\n  --jp-icon-caret-up-empty-thin: url(" + ___CSS_LOADER_URL___8___ + ");\n  --jp-icon-caret-up: url(" + ___CSS_LOADER_URL___9___ + ");\n  --jp-icon-case-sensitive: url(" + ___CSS_LOADER_URL___10___ + ");\n  --jp-icon-check: url(" + ___CSS_LOADER_URL___11___ + ");\n  --jp-icon-circle-empty: url(" + ___CSS_LOADER_URL___12___ + ");\n  --jp-icon-circle: url(" + ___CSS_LOADER_URL___13___ + ");\n  --jp-icon-close: url(" + ___CSS_LOADER_URL___14___ + ");\n  --jp-icon-console: url(" + ___CSS_LOADER_URL___15___ + ");\n  --jp-icon-copy: url(" + ___CSS_LOADER_URL___16___ + ");\n  --jp-icon-cut: url(" + ___CSS_LOADER_URL___17___ + ");\n  --jp-icon-download: url(" + ___CSS_LOADER_URL___18___ + ");\n  --jp-icon-edit: url(" + ___CSS_LOADER_URL___19___ + ");\n  --jp-icon-ellipses: url(" + ___CSS_LOADER_URL___20___ + ");\n  --jp-icon-extension: url(" + ___CSS_LOADER_URL___21___ + ");\n  --jp-icon-file-upload: url(" + ___CSS_LOADER_URL___22___ + ");\n  --jp-icon-file: url(" + ___CSS_LOADER_URL___23___ + ");\n  --jp-icon-filter-list: url(" + ___CSS_LOADER_URL___24___ + ");\n  --jp-icon-folder: url(" + ___CSS_LOADER_URL___25___ + ");\n  --jp-icon-html5: url(" + ___CSS_LOADER_URL___26___ + ");\n  --jp-icon-image: url(" + ___CSS_LOADER_URL___27___ + ");\n  --jp-icon-inspector: url(" + ___CSS_LOADER_URL___28___ + ");\n  --jp-icon-json: url(" + ___CSS_LOADER_URL___29___ + ");\n  --jp-icon-jupyter-favicon: url(" + ___CSS_LOADER_URL___30___ + ");\n  --jp-icon-jupyter: url(" + ___CSS_LOADER_URL___31___ + ");\n  --jp-icon-jupyterlab-wordmark: url(" + ___CSS_LOADER_URL___32___ + ");\n  --jp-icon-kernel: url(" + ___CSS_LOADER_URL___33___ + ");\n  --jp-icon-keyboard: url(" + ___CSS_LOADER_URL___34___ + ");\n  --jp-icon-launcher: url(" + ___CSS_LOADER_URL___35___ + ");\n  --jp-icon-line-form: url(" + ___CSS_LOADER_URL___36___ + ");\n  --jp-icon-link: url(" + ___CSS_LOADER_URL___37___ + ");\n  --jp-icon-list: url(" + ___CSS_LOADER_URL___38___ + ");\n  --jp-icon-markdown: url(" + ___CSS_LOADER_URL___39___ + ");\n  --jp-icon-new-folder: url(" + ___CSS_LOADER_URL___40___ + ");\n  --jp-icon-not-trusted: url(" + ___CSS_LOADER_URL___41___ + ");\n  --jp-icon-notebook: url(" + ___CSS_LOADER_URL___42___ + ");\n  --jp-icon-palette: url(" + ___CSS_LOADER_URL___43___ + ");\n  --jp-icon-paste: url(" + ___CSS_LOADER_URL___44___ + ");\n  --jp-icon-python: url(" + ___CSS_LOADER_URL___45___ + ");\n  --jp-icon-r-kernel: url(" + ___CSS_LOADER_URL___46___ + ");\n  --jp-icon-react: url(" + ___CSS_LOADER_URL___47___ + ");\n  --jp-icon-refresh: url(" + ___CSS_LOADER_URL___48___ + ");\n  --jp-icon-regex: url(" + ___CSS_LOADER_URL___49___ + ");\n  --jp-icon-run: url(" + ___CSS_LOADER_URL___50___ + ");\n  --jp-icon-running: url(" + ___CSS_LOADER_URL___51___ + ");\n  --jp-icon-save: url(" + ___CSS_LOADER_URL___52___ + ");\n  --jp-icon-search: url(" + ___CSS_LOADER_URL___53___ + ");\n  --jp-icon-settings: url(" + ___CSS_LOADER_URL___54___ + ");\n  --jp-icon-spreadsheet: url(" + ___CSS_LOADER_URL___55___ + ");\n  --jp-icon-stop: url(" + ___CSS_LOADER_URL___56___ + ");\n  --jp-icon-tab: url(" + ___CSS_LOADER_URL___57___ + ");\n  --jp-icon-terminal: url(" + ___CSS_LOADER_URL___58___ + ");\n  --jp-icon-text-editor: url(" + ___CSS_LOADER_URL___59___ + ");\n  --jp-icon-trusted: url(" + ___CSS_LOADER_URL___60___ + ");\n  --jp-icon-undo: url(" + ___CSS_LOADER_URL___61___ + ");\n  --jp-icon-vega: url(" + ___CSS_LOADER_URL___62___ + ");\n  --jp-icon-yaml: url(" + ___CSS_LOADER_URL___63___ + ");\n}\n\n/* Icon CSS class declarations */\n\n.jp-AddIcon {\n  background-image: var(--jp-icon-add);\n}\n.jp-BugIcon {\n  background-image: var(--jp-icon-bug);\n}\n.jp-BuildIcon {\n  background-image: var(--jp-icon-build);\n}\n.jp-CaretDownEmptyIcon {\n  background-image: var(--jp-icon-caret-down-empty);\n}\n.jp-CaretDownEmptyThinIcon {\n  background-image: var(--jp-icon-caret-down-empty-thin);\n}\n.jp-CaretDownIcon {\n  background-image: var(--jp-icon-caret-down);\n}\n.jp-CaretLeftIcon {\n  background-image: var(--jp-icon-caret-left);\n}\n.jp-CaretRightIcon {\n  background-image: var(--jp-icon-caret-right);\n}\n.jp-CaretUpEmptyThinIcon {\n  background-image: var(--jp-icon-caret-up-empty-thin);\n}\n.jp-CaretUpIcon {\n  background-image: var(--jp-icon-caret-up);\n}\n.jp-CaseSensitiveIcon {\n  background-image: var(--jp-icon-case-sensitive);\n}\n.jp-CheckIcon {\n  background-image: var(--jp-icon-check);\n}\n.jp-CircleEmptyIcon {\n  background-image: var(--jp-icon-circle-empty);\n}\n.jp-CircleIcon {\n  background-image: var(--jp-icon-circle);\n}\n.jp-CloseIcon {\n  background-image: var(--jp-icon-close);\n}\n.jp-ConsoleIcon {\n  background-image: var(--jp-icon-console);\n}\n.jp-CopyIcon {\n  background-image: var(--jp-icon-copy);\n}\n.jp-CutIcon {\n  background-image: var(--jp-icon-cut);\n}\n.jp-DownloadIcon {\n  background-image: var(--jp-icon-download);\n}\n.jp-EditIcon {\n  background-image: var(--jp-icon-edit);\n}\n.jp-EllipsesIcon {\n  background-image: var(--jp-icon-ellipses);\n}\n.jp-ExtensionIcon {\n  background-image: var(--jp-icon-extension);\n}\n.jp-FileIcon {\n  background-image: var(--jp-icon-file);\n}\n.jp-FileUploadIcon {\n  background-image: var(--jp-icon-file-upload);\n}\n.jp-FilterListIcon {\n  background-image: var(--jp-icon-filter-list);\n}\n.jp-FolderIcon {\n  background-image: var(--jp-icon-folder);\n}\n.jp-Html5Icon {\n  background-image: var(--jp-icon-html5);\n}\n.jp-ImageIcon {\n  background-image: var(--jp-icon-image);\n}\n.jp-InspectorIcon {\n  background-image: var(--jp-icon-inspector);\n}\n.jp-JsonIcon {\n  background-image: var(--jp-icon-json);\n}\n.jp-JupyterFaviconIcon {\n  background-image: var(--jp-icon-jupyter-favicon);\n}\n.jp-JupyterIcon {\n  background-image: var(--jp-icon-jupyter);\n}\n.jp-JupyterlabWordmarkIcon {\n  background-image: var(--jp-icon-jupyterlab-wordmark);\n}\n.jp-KernelIcon {\n  background-image: var(--jp-icon-kernel);\n}\n.jp-KeyboardIcon {\n  background-image: var(--jp-icon-keyboard);\n}\n.jp-LauncherIcon {\n  background-image: var(--jp-icon-launcher);\n}\n.jp-LineFormIcon {\n  background-image: var(--jp-icon-line-form);\n}\n.jp-LinkIcon {\n  background-image: var(--jp-icon-link);\n}\n.jp-ListIcon {\n  background-image: var(--jp-icon-list);\n}\n.jp-MarkdownIcon {\n  background-image: var(--jp-icon-markdown);\n}\n.jp-NewFolderIcon {\n  background-image: var(--jp-icon-new-folder);\n}\n.jp-NotTrustedIcon {\n  background-image: var(--jp-icon-not-trusted);\n}\n.jp-NotebookIcon {\n  background-image: var(--jp-icon-notebook);\n}\n.jp-PaletteIcon {\n  background-image: var(--jp-icon-palette);\n}\n.jp-PasteIcon {\n  background-image: var(--jp-icon-paste);\n}\n.jp-PythonIcon {\n  background-image: var(--jp-icon-python);\n}\n.jp-RKernelIcon {\n  background-image: var(--jp-icon-r-kernel);\n}\n.jp-ReactIcon {\n  background-image: var(--jp-icon-react);\n}\n.jp-RefreshIcon {\n  background-image: var(--jp-icon-refresh);\n}\n.jp-RegexIcon {\n  background-image: var(--jp-icon-regex);\n}\n.jp-RunIcon {\n  background-image: var(--jp-icon-run);\n}\n.jp-RunningIcon {\n  background-image: var(--jp-icon-running);\n}\n.jp-SaveIcon {\n  background-image: var(--jp-icon-save);\n}\n.jp-SearchIcon {\n  background-image: var(--jp-icon-search);\n}\n.jp-SettingsIcon {\n  background-image: var(--jp-icon-settings);\n}\n.jp-SpreadsheetIcon {\n  background-image: var(--jp-icon-spreadsheet);\n}\n.jp-StopIcon {\n  background-image: var(--jp-icon-stop);\n}\n.jp-TabIcon {\n  background-image: var(--jp-icon-tab);\n}\n.jp-TerminalIcon {\n  background-image: var(--jp-icon-terminal);\n}\n.jp-TextEditorIcon {\n  background-image: var(--jp-icon-text-editor);\n}\n.jp-TrustedIcon {\n  background-image: var(--jp-icon-trusted);\n}\n.jp-UndoIcon {\n  background-image: var(--jp-icon-undo);\n}\n.jp-VegaIcon {\n  background-image: var(--jp-icon-vega);\n}\n.jp-YamlIcon {\n  background-image: var(--jp-icon-yaml);\n}\n", ""]);


/***/ }),

/***/ "h9Cn":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/components/text.js ***!
  \************************************************************************************************/
/*! exports provided: TextItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextItem", function() { return TextItem; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../style/text */ "m53+");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



/**
 * A functional tsx component for a text item.
 */
function TextItem(props) {
    const { title, source, className } = props, rest = __rest(props, ["title", "source", "className"]);
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", Object.assign({ className: Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["classes"])(_style_text__WEBPACK_IMPORTED_MODULE_2__["textItem"], className), title: title }, rest), source));
}
//# sourceMappingURL=text.js.map

/***/ }),

/***/ "hCOB":
/*!********************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-down-empty.svg ***!
  \********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 18 18'%3E %3Cg class='jp-icon3' fill='%23616161' shape-rendering='geometricPrecision'%3E %3Cpath d='M5.2,5.9L9,9.7l3.8-3.8l1.2,1.2l-4.9,5l-4.9-5L5.2,5.9z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "hCOBn":
/*!********************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-down-empty.svg ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\n  <g class=\"jp-icon3\" fill=\"#616161\" shape-rendering=\"geometricPrecision\">\n    <path d=\"M5.2,5.9L9,9.7l3.8-3.8l1.2,1.2l-4.9,5l-4.9-5L5.2,5.9z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "hWfk":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/deprecatedExtra.css ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
var getUrl = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/getUrl.js */ "HeW1");
var ___CSS_LOADER_URL___0___ = getUrl(__webpack_require__(/*! ./deprecated/check-disabled.svg */ "QgDA"));
var ___CSS_LOADER_URL___1___ = getUrl(__webpack_require__(/*! ./deprecated/search-white.svg */ "ZEgq"));
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/**\n * (DEPRECATED) Support for consuming icons as CSS background images\n */\n\n:root {\n  --jp-icon-check-disabled: url(" + ___CSS_LOADER_URL___0___ + ");\n  --jp-icon-search-white: url(" + ___CSS_LOADER_URL___1___ + ");\n}\n", ""]);


/***/ }),

/***/ "hcGG":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-down.svg ***!
  \**************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 18 18'%3E %3Cg class='jp-icon3' fill='%23616161' shape-rendering='geometricPrecision'%3E %3Cpath d='M5.2,7.5L9,11.2l3.8-3.8H5.2z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "hcGGu":
/*!**************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/arrow/caret-down.svg ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\">\n  <g class=\"jp-icon3\" fill=\"#616161\" shape-rendering=\"geometricPrecision\">\n    <path d=\"M5.2,7.5L9,11.2l3.8-3.8H5.2z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "hlUU":
/*!*************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/coreutils/lib/time.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const moment_1 = __importDefault(__webpack_require__(/*! moment */ "HyLO"));
/**
 * The namespace for date functions.
 */
var Time;
(function (Time) {
    /**
     * Convert a timestring to a human readable string (e.g. 'two minutes ago').
     *
     * @param value - The date timestring or date object.
     *
     * @returns A formatted date.
     */
    function formatHuman(value) {
        let time = moment_1.default(value).fromNow();
        time = time === 'a few seconds ago' ? 'seconds ago' : time;
        return time;
    }
    Time.formatHuman = formatHuman;
    /**
     * Convert a timestring to a date format.
     *
     * @param value - The date timestring or date object.
     *
     * @param format - The format string.
     *
     * @returns A formatted date.
     */
    function format(value, format = 'YYYY-MM-DD HH:mm') {
        return moment_1.default(value).format(format);
    }
    Time.format = format;
})(Time = exports.Time || (exports.Time = {}));
//# sourceMappingURL=time.js.map

/***/ }),

/***/ "i0ge":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/setting/index.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const statedb_1 = __webpack_require__(/*! @jupyterlab/statedb */ "rtzc");
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
/**
 * The url for the lab settings service.
 */
const SERVICE_SETTINGS_URL = 'api/settings';
/**
 * The settings API service manager.
 */
class SettingManager extends statedb_1.DataConnector {
    /**
     * Create a new setting manager.
     */
    constructor(options = {}) {
        var _a;
        super();
        this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : serverconnection_1.ServerConnection.makeSettings()));
    }
    /**
     * Fetch a plugin's settings.
     *
     * @param id - The plugin's ID.
     *
     * @returns A promise that resolves if successful.
     */
    async fetch(id) {
        if (!id) {
            throw new Error('Plugin `id` parameter is required for settings fetch.');
        }
        const { serverSettings } = this;
        const { baseUrl, appUrl } = serverSettings;
        const { makeRequest, ResponseError } = serverconnection_1.ServerConnection;
        const base = baseUrl + appUrl;
        const url = Private.url(base, id);
        const response = await makeRequest(url, {}, serverSettings);
        if (response.status !== 200) {
            throw new ResponseError(response);
        }
        // Assert what type the server response is returning.
        return response.json();
    }
    /**
     * Fetch the list of all plugin setting bundles.
     *
     * @returns A promise that resolves if successful.
     */
    async list() {
        var _a, _b, _c;
        const { serverSettings } = this;
        const { baseUrl, appUrl } = serverSettings;
        const { makeRequest, ResponseError } = serverconnection_1.ServerConnection;
        const base = baseUrl + appUrl;
        const url = Private.url(base, '');
        const response = await makeRequest(url, {}, serverSettings);
        if (response.status !== 200) {
            throw new ResponseError(response);
        }
        const json = await response.json();
        const values = (_c = (_b = (_a = json) === null || _a === void 0 ? void 0 : _a['settings']) === null || _b === void 0 ? void 0 : _b.map((plugin) => {
            plugin.data = { composite: {}, user: {} };
            return plugin;
        }), (_c !== null && _c !== void 0 ? _c : []));
        const ids = values.map(plugin => plugin.id);
        return { ids, values };
    }
    /**
     * Save a plugin's settings.
     *
     * @param id - The plugin's ID.
     *
     * @param raw - The user setting values as a raw string of JSON with comments.
     *
     * @returns A promise that resolves if successful.
     */
    async save(id, raw) {
        const { serverSettings } = this;
        const { baseUrl, appUrl } = serverSettings;
        const { makeRequest, ResponseError } = serverconnection_1.ServerConnection;
        const base = baseUrl + appUrl;
        const url = Private.url(base, id);
        const init = { body: raw, method: 'PUT' };
        const response = await makeRequest(url, init, serverSettings);
        if (response.status !== 204) {
            throw new ResponseError(response);
        }
    }
}
exports.SettingManager = SettingManager;
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * Get the url for a plugin's settings.
     */
    function url(base, id) {
        return coreutils_1.URLExt.join(base, SERVICE_SETTINGS_URL, id);
    }
    Private.url = url;
})(Private || (Private = {}));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "ixyj":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/icon/index.js ***!
  \***********************************************************************************************/
/*! exports provided: addIcon, bugIcon, buildIcon, caretDownEmptyIcon, caretDownEmptyThinIcon, caretDownIcon, caretLeftIcon, caretRightIcon, caretUpEmptyThinIcon, caretUpIcon, caseSensitiveIcon, checkIcon, circleEmptyIcon, circleIcon, closeIcon, consoleIcon, copyIcon, cutIcon, downloadIcon, editIcon, ellipsesIcon, extensionIcon, fileIcon, fileUploadIcon, filterListIcon, folderIcon, html5Icon, imageIcon, inspectorIcon, jsonIcon, jupyterFaviconIcon, jupyterIcon, jupyterlabWordmarkIcon, kernelIcon, keyboardIcon, launcherIcon, lineFormIcon, linkIcon, listIcon, markdownIcon, newFolderIcon, notTrustedIcon, notebookIcon, paletteIcon, pasteIcon, pythonIcon, rKernelIcon, reactIcon, refreshIcon, regexIcon, runIcon, runningIcon, saveIcon, searchIcon, settingsIcon, spreadsheetIcon, stopIcon, tabIcon, terminalIcon, textEditorIcon, trustedIcon, undoIcon, vegaIcon, yamlIcon, LabIcon, badIcon, blankIcon, TabBarSvg, DockPanelSvg */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _iconimports__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iconimports */ "OnP5");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["addIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "bugIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["bugIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "buildIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["buildIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretDownEmptyIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["caretDownEmptyIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretDownEmptyThinIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["caretDownEmptyThinIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretDownIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["caretDownIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretLeftIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["caretLeftIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretRightIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["caretRightIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretUpEmptyThinIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["caretUpEmptyThinIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caretUpIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["caretUpIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "caseSensitiveIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["caseSensitiveIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "checkIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["checkIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "circleEmptyIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["circleEmptyIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "circleIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["circleIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "closeIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["closeIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "consoleIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["consoleIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "copyIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["copyIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cutIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["cutIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "downloadIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["downloadIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "editIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["editIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ellipsesIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["ellipsesIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "extensionIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["extensionIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fileIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["fileIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fileUploadIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["fileUploadIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "filterListIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["filterListIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "folderIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["folderIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "html5Icon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["html5Icon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "imageIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["imageIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "inspectorIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["inspectorIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "jsonIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["jsonIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "jupyterFaviconIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["jupyterFaviconIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "jupyterIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["jupyterIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "jupyterlabWordmarkIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["jupyterlabWordmarkIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "kernelIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["kernelIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "keyboardIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["keyboardIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "launcherIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["launcherIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "lineFormIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["lineFormIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "linkIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["linkIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "listIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["listIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "markdownIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["markdownIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "newFolderIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["newFolderIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notTrustedIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["notTrustedIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notebookIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["notebookIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "paletteIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["paletteIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pasteIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["pasteIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "pythonIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["pythonIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "rKernelIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["rKernelIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "reactIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["reactIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "refreshIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["refreshIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "regexIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["regexIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "runIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["runIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "runningIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["runningIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "saveIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["saveIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "searchIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["searchIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "settingsIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["settingsIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "spreadsheetIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["spreadsheetIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stopIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["stopIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "tabIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["tabIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "terminalIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["terminalIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "textEditorIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["textEditorIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "trustedIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["trustedIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "undoIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["undoIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "vegaIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["vegaIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "yamlIcon", function() { return _iconimports__WEBPACK_IMPORTED_MODULE_0__["yamlIcon"]; });

/* harmony import */ var _labicon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./labicon */ "RTNQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabIcon", function() { return _labicon__WEBPACK_IMPORTED_MODULE_1__["LabIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "badIcon", function() { return _labicon__WEBPACK_IMPORTED_MODULE_1__["badIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "blankIcon", function() { return _labicon__WEBPACK_IMPORTED_MODULE_1__["blankIcon"]; });

/* harmony import */ var _tabbarsvg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tabbarsvg */ "WlmI");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TabBarSvg", function() { return _tabbarsvg__WEBPACK_IMPORTED_MODULE_2__["TabBarSvg"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DockPanelSvg", function() { return _tabbarsvg__WEBPACK_IMPORTED_MODULE_2__["DockPanelSvg"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



//# sourceMappingURL=index.js.map

/***/ }),

/***/ "j+G8":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/observables/lib/undoablelist.js ***!
  \***********************************************************************************************/
/*! exports provided: ObservableUndoableList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObservableUndoableList", function() { return ObservableUndoableList; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _observablelist__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observablelist */ "qKD/");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.


/**
 * A concrete implementation of an observable undoable list.
 */
class ObservableUndoableList extends _observablelist__WEBPACK_IMPORTED_MODULE_1__["ObservableList"] {
    /**
     * Construct a new undoable observable list.
     */
    constructor(serializer) {
        super();
        this._inCompound = false;
        this._isUndoable = true;
        this._madeCompoundChange = false;
        this._index = -1;
        this._stack = [];
        this._serializer = serializer;
        this.changed.connect(this._onListChanged, this);
    }
    /**
     * Whether the object can redo changes.
     */
    get canRedo() {
        return this._index < this._stack.length - 1;
    }
    /**
     * Whether the object can undo changes.
     */
    get canUndo() {
        return this._index >= 0;
    }
    /**
     * Begin a compound operation.
     *
     * @param isUndoAble - Whether the operation is undoable.
     *   The default is `true`.
     */
    beginCompoundOperation(isUndoAble) {
        this._inCompound = true;
        this._isUndoable = isUndoAble !== false;
        this._madeCompoundChange = false;
    }
    /**
     * End a compound operation.
     */
    endCompoundOperation() {
        this._inCompound = false;
        this._isUndoable = true;
        if (this._madeCompoundChange) {
            this._index++;
        }
    }
    /**
     * Undo an operation.
     */
    undo() {
        if (!this.canUndo) {
            return;
        }
        let changes = this._stack[this._index];
        this._isUndoable = false;
        for (let change of changes.reverse()) {
            this._undoChange(change);
        }
        this._isUndoable = true;
        this._index--;
    }
    /**
     * Redo an operation.
     */
    redo() {
        if (!this.canRedo) {
            return;
        }
        this._index++;
        let changes = this._stack[this._index];
        this._isUndoable = false;
        for (let change of changes) {
            this._redoChange(change);
        }
        this._isUndoable = true;
    }
    /**
     * Clear the change stack.
     */
    clearUndo() {
        this._index = -1;
        this._stack = [];
    }
    /**
     * Handle a change in the list.
     */
    _onListChanged(list, change) {
        if (this.isDisposed || !this._isUndoable) {
            return;
        }
        // Clear everything after this position if necessary.
        if (!this._inCompound || !this._madeCompoundChange) {
            this._stack = this._stack.slice(0, this._index + 1);
        }
        // Copy the change.
        let evt = this._copyChange(change);
        // Put the change in the stack.
        if (this._stack[this._index + 1]) {
            this._stack[this._index + 1].push(evt);
        }
        else {
            this._stack.push([evt]);
        }
        // If not in a compound operation, increase index.
        if (!this._inCompound) {
            this._index++;
        }
        else {
            this._madeCompoundChange = true;
        }
    }
    /**
     * Undo a change event.
     */
    _undoChange(change) {
        let index = 0;
        let serializer = this._serializer;
        switch (change.type) {
            case 'add':
                Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(change.newValues, () => {
                    this.remove(change.newIndex);
                });
                break;
            case 'set':
                index = change.oldIndex;
                Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(change.oldValues, value => {
                    this.set(index++, serializer.fromJSON(value));
                });
                break;
            case 'remove':
                index = change.oldIndex;
                Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(change.oldValues, value => {
                    this.insert(index++, serializer.fromJSON(value));
                });
                break;
            case 'move':
                this.move(change.newIndex, change.oldIndex);
                break;
            default:
                return;
        }
    }
    /**
     * Redo a change event.
     */
    _redoChange(change) {
        let index = 0;
        let serializer = this._serializer;
        switch (change.type) {
            case 'add':
                index = change.newIndex;
                Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(change.newValues, value => {
                    this.insert(index++, serializer.fromJSON(value));
                });
                break;
            case 'set':
                index = change.newIndex;
                Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(change.newValues, value => {
                    this.set(change.newIndex++, serializer.fromJSON(value));
                });
                break;
            case 'remove':
                Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(change.oldValues, () => {
                    this.remove(change.oldIndex);
                });
                break;
            case 'move':
                this.move(change.oldIndex, change.newIndex);
                break;
            default:
                return;
        }
    }
    /**
     * Copy a change as JSON.
     */
    _copyChange(change) {
        let oldValues = [];
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(change.oldValues, value => {
            oldValues.push(this._serializer.toJSON(value));
        });
        let newValues = [];
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(change.newValues, value => {
            newValues.push(this._serializer.toJSON(value));
        });
        return {
            type: change.type,
            oldIndex: change.oldIndex,
            newIndex: change.newIndex,
            oldValues,
            newValues
        };
    }
}
/**
 * Namespace for ObservableUndoableList utilities.
 */
(function (ObservableUndoableList) {
    /**
     * A default, identity serializer.
     */
    class IdentitySerializer {
        /**
         * Identity serialize.
         */
        toJSON(value) {
            return value;
        }
        /**
         * Identity deserialize.
         */
        fromJSON(value) {
            return value;
        }
    }
    ObservableUndoableList.IdentitySerializer = IdentitySerializer;
})(ObservableUndoableList || (ObservableUndoableList = {}));
//# sourceMappingURL=undoablelist.js.map

/***/ }),

/***/ "jFKH":
/*!***************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernelspec/validate.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const validate_1 = __webpack_require__(/*! ../validate */ "VVJs");
/**
 * Validate a server kernelspec model to a client side model.
 */
function validateSpecModel(data) {
    let spec = data.spec;
    if (!spec) {
        throw new Error('Invalid kernel spec');
    }
    validate_1.validateProperty(data, 'name', 'string');
    validate_1.validateProperty(data, 'resources', 'object');
    validate_1.validateProperty(spec, 'language', 'string');
    validate_1.validateProperty(spec, 'display_name', 'string');
    validate_1.validateProperty(spec, 'argv', 'array');
    let metadata = null;
    if (spec.hasOwnProperty('metadata')) {
        validate_1.validateProperty(spec, 'metadata', 'object');
        metadata = spec.metadata;
    }
    let env = null;
    if (spec.hasOwnProperty('env')) {
        validate_1.validateProperty(spec, 'env', 'object');
        env = spec.env;
    }
    return {
        name: data.name,
        resources: data.resources,
        language: spec.language,
        display_name: spec.display_name,
        argv: spec.argv,
        metadata,
        env
    };
}
exports.validateSpecModel = validateSpecModel;
/**
 * Validate a `Kernel.ISpecModels` object.
 */
function validateSpecModels(data) {
    if (!data.hasOwnProperty('kernelspecs')) {
        throw new Error('No kernelspecs found');
    }
    let keys = Object.keys(data.kernelspecs);
    let kernelspecs = Object.create(null);
    let defaultSpec = data.default;
    for (let i = 0; i < keys.length; i++) {
        let ks = data.kernelspecs[keys[i]];
        try {
            kernelspecs[keys[i]] = validateSpecModel(ks);
        }
        catch (err) {
            // Remove the errant kernel spec.
            console.warn(`Removing errant kernel spec: ${keys[i]}`);
        }
    }
    keys = Object.keys(kernelspecs);
    if (!keys.length) {
        throw new Error('No valid kernelspecs found');
    }
    if (!defaultSpec ||
        typeof defaultSpec !== 'string' ||
        !(defaultSpec in kernelspecs)) {
        defaultSpec = keys[0];
        console.warn(`Default kernel not found, using '${keys[0]}'`);
    }
    return {
        default: defaultSpec,
        kernelspecs
    };
}
exports.validateSpecModels = validateSpecModels;
//# sourceMappingURL=validate.js.map

/***/ }),

/***/ "jX5N":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/terminal/default.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const coreutils_2 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const __1 = __webpack_require__(/*! .. */ "YdKB");
const restapi_1 = __webpack_require__(/*! ./restapi */ "0c6o");
/**
 * An implementation of a terminal interface.
 */
class TerminalConnection {
    /**
     * Construct a new terminal session.
     */
    constructor(options) {
        var _a;
        /**
         * Create the terminal websocket connection and add socket status handlers.
         *
         * #### Notes
         * You are responsible for updating the connection status as appropriate.
         */
        this._createSocket = () => {
            this._errorIfDisposed();
            // Make sure the socket is clear
            this._clearSocket();
            // Update the connection status to reflect opening a new connection.
            this._updateConnectionStatus('connecting');
            const name = this._name;
            const settings = this.serverSettings;
            let url = coreutils_1.URLExt.join(settings.wsUrl, 'terminals', 'websocket', encodeURIComponent(name));
            const token = settings.token;
            if (token !== '') {
                url = url + `?token=${encodeURIComponent(token)}`;
            }
            this._ws = new settings.WebSocket(url);
            this._ws.onmessage = this._onWSMessage;
            this._ws.onclose = this._onWSClose;
            this._ws.onerror = this._onWSClose;
        };
        // Websocket messages events are defined as variables to bind `this`
        this._onWSMessage = (event) => {
            if (this._isDisposed) {
                return;
            }
            const data = JSON.parse(event.data);
            // Handle a disconnect message.
            if (data[0] === 'disconnect') {
                this.dispose();
            }
            if (this._connectionStatus === 'connecting') {
                // After reconnection, ignore all messages until a 'setup' message
                // before we are truly connected. Setting the connection status to
                // connected only then means that if we do not get a setup message
                // before our retry timeout, we will delete the websocket and try again.
                if (data[0] === 'setup') {
                    this._updateConnectionStatus('connected');
                }
                return;
            }
            this._messageReceived.emit({
                type: data[0],
                content: data.slice(1)
            });
        };
        this._onWSClose = (event) => {
            console.warn(`Terminal websocket closed: ${event.code}`);
            if (!this.isDisposed) {
                this._reconnect();
            }
        };
        this._connectionStatus = 'connecting';
        this._connectionStatusChanged = new signaling_1.Signal(this);
        this._isDisposed = false;
        this._disposed = new signaling_1.Signal(this);
        this._messageReceived = new signaling_1.Signal(this);
        this._reconnectTimeout = null;
        this._ws = null;
        this._noOp = () => {
            /* no-op */
        };
        this._reconnectLimit = 7;
        this._reconnectAttempt = 0;
        this._pendingMessages = [];
        this._name = options.model.name;
        this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : __1.ServerConnection.makeSettings()));
        this._createSocket();
    }
    /**
     * A signal emitted when the session is disposed.
     */
    get disposed() {
        return this._disposed;
    }
    /**
     * A signal emitted when a message is received from the server.
     */
    get messageReceived() {
        return this._messageReceived;
    }
    /**
     * Get the name of the terminal session.
     */
    get name() {
        return this._name;
    }
    /**
     * Get the model for the terminal session.
     */
    get model() {
        return { name: this._name };
    }
    /**
     * Test whether the session is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the session.
     */
    dispose() {
        if (this._isDisposed) {
            return;
        }
        this._isDisposed = true;
        this._disposed.emit();
        this._updateConnectionStatus('disconnected');
        this._clearSocket();
        signaling_1.Signal.clearData(this);
    }
    /**
     * Send a message to the terminal session.
     *
     * #### Notes
     * If the connection is down, the message will be queued for sending when
     * the connection comes back up.
     */
    send(message) {
        this._sendMessage(message);
    }
    /**
     * Send a message on the websocket, or possibly queue for later sending.
     *
     * @param queue - whether to queue the message if it cannot be sent
     */
    _sendMessage(message, queue = true) {
        if (this._isDisposed || !message.content) {
            return;
        }
        if (this.connectionStatus === 'connected' && this._ws) {
            const msg = [message.type, ...message.content];
            this._ws.send(JSON.stringify(msg));
        }
        else if (queue) {
            this._pendingMessages.push(message);
        }
        else {
            throw new Error(`Could not send message: ${JSON.stringify(message)}`);
        }
    }
    /**
     * Send pending messages to the kernel.
     */
    _sendPending() {
        // We check to make sure we are still connected each time. For
        // example, if a websocket buffer overflows, it may close, so we should
        // stop sending messages.
        while (this.connectionStatus === 'connected' &&
            this._pendingMessages.length > 0) {
            this._sendMessage(this._pendingMessages[0], false);
            // We shift the message off the queue after the message is sent so that
            // if there is an exception, the message is still pending.
            this._pendingMessages.shift();
        }
    }
    /**
     * Reconnect to a terminal.
     *
     * #### Notes
     * This may try multiple times to reconnect to a terminal, and will sever
     * any existing connection.
     */
    reconnect() {
        this._errorIfDisposed();
        let result = new coreutils_2.PromiseDelegate();
        // Set up a listener for the connection status changing, which accepts or
        // rejects after the retries are done.
        let fulfill = (sender, status) => {
            if (status === 'connected') {
                result.resolve();
                this.connectionStatusChanged.disconnect(fulfill, this);
            }
            else if (status === 'disconnected') {
                result.reject(new Error('Terminal connection disconnected'));
                this.connectionStatusChanged.disconnect(fulfill, this);
            }
        };
        this.connectionStatusChanged.connect(fulfill, this);
        // Reset the reconnect limit so we start the connection attempts fresh
        this._reconnectAttempt = 0;
        // Start the reconnection process, which will also clear any existing
        // connection.
        this._reconnect();
        // Return the promise that should resolve on connection or reject if the
        // retries don't work.
        return result.promise;
    }
    /**
     * Attempt a connection if we have not exhausted connection attempts.
     */
    _reconnect() {
        this._errorIfDisposed();
        // Clear any existing reconnection attempt
        clearTimeout(this._reconnectTimeout);
        // Update the connection status and schedule a possible reconnection.
        if (this._reconnectAttempt < this._reconnectLimit) {
            this._updateConnectionStatus('connecting');
            // The first reconnect attempt should happen immediately, and subsequent
            // attemps should pick a random number in a growing range so that we
            // don't overload the server with synchronized reconnection attempts
            // across multiple kernels.
            let timeout = Private.getRandomIntInclusive(0, 1e3 * (Math.pow(2, this._reconnectAttempt) - 1));
            console.error(`Connection lost, reconnecting in ${Math.floor(timeout / 1000)} seconds.`);
            this._reconnectTimeout = setTimeout(this._createSocket, timeout);
            this._reconnectAttempt += 1;
        }
        else {
            this._updateConnectionStatus('disconnected');
        }
        // Clear the websocket event handlers and the socket itself.
        this._clearSocket();
    }
    /**
     * Forcefully clear the socket state.
     *
     * #### Notes
     * This will clear all socket state without calling any handlers and will
     * not update the connection status. If you call this method, you are
     * responsible for updating the connection status as needed and recreating
     * the socket if you plan to reconnect.
     */
    _clearSocket() {
        if (this._ws !== null) {
            // Clear the websocket event handlers and the socket itself.
            this._ws.onopen = this._noOp;
            this._ws.onclose = this._noOp;
            this._ws.onerror = this._noOp;
            this._ws.onmessage = this._noOp;
            this._ws.close();
            this._ws = null;
        }
    }
    /**
     * Shut down the terminal session.
     */
    async shutdown() {
        await restapi_1.shutdownTerminal(this.name, this.serverSettings);
        this.dispose();
    }
    /**
     * Clone the current terminal connection.
     */
    clone() {
        return new TerminalConnection(this);
    }
    /**
     * Handle connection status changes.
     */
    _updateConnectionStatus(connectionStatus) {
        if (this._connectionStatus === connectionStatus) {
            return;
        }
        this._connectionStatus = connectionStatus;
        // If we are not 'connecting', stop any reconnection attempts.
        if (connectionStatus !== 'connecting') {
            this._reconnectAttempt = 0;
            clearTimeout(this._reconnectTimeout);
        }
        // Send the pending messages if we just connected.
        if (connectionStatus === 'connected') {
            this._sendPending();
        }
        // Notify others that the connection status changed.
        this._connectionStatusChanged.emit(connectionStatus);
    }
    /**
     * Utility function to throw an error if this instance is disposed.
     */
    _errorIfDisposed() {
        if (this.isDisposed) {
            throw new Error('Terminal connection is disposed');
        }
    }
    /**
     * A signal emitted when the terminal connection status changes.
     */
    get connectionStatusChanged() {
        return this._connectionStatusChanged;
    }
    /**
     * The current connection status of the terminal connection.
     */
    get connectionStatus() {
        return this._connectionStatus;
    }
}
exports.TerminalConnection = TerminalConnection;
var Private;
(function (Private) {
    /**
     * Get the url for a terminal.
     */
    function getTermUrl(baseUrl, name) {
        return coreutils_1.URLExt.join(baseUrl, restapi_1.TERMINAL_SERVICE_URL, encodeURIComponent(name));
    }
    Private.getTermUrl = getTermUrl;
    /**
     * Get a random integer between min and max, inclusive of both.
     *
     * #### Notes
     * From
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random#Getting_a_random_integer_between_two_values_inclusive
     *
     * From the MDN page: It might be tempting to use Math.round() to accomplish
     * that, but doing so would cause your random numbers to follow a non-uniform
     * distribution, which may not be acceptable for your needs.
     */
    function getRandomIntInclusive(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    Private.getRandomIntInclusive = getRandomIntInclusive;
})(Private || (Private = {}));
//# sourceMappingURL=default.js.map

/***/ }),

/***/ "jd0T":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/cut.svg ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "jd0Ts":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/cut.svg ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "jlyA":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/coreutils/lib/index.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./activitymonitor */ "gbyn"));
__export(__webpack_require__(/*! ./markdowncodeblocks */ "LZBv"));
__export(__webpack_require__(/*! ./pageconfig */ "dYJ7"));
__export(__webpack_require__(/*! ./path */ "/K8G"));
__export(__webpack_require__(/*! ./text */ "eiUk"));
__export(__webpack_require__(/*! ./time */ "hlUU"));
__export(__webpack_require__(/*! ./url */ "Wt2P"));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "kBEA":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/launcher.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg fill='%23616161' xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3 jp-icon-selectable' fill='%23616161'%3E %3Cpath d='M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "kBEAD":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/launcher.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg fill=\"#616161\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3 jp-icon-selectable\" fill=\"#616161\">\n    <path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "kEOu":
/*!*********************!*\
  !*** external "ws" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ws;

/***/ }),

/***/ "kq1Q":
/*!*****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codemirror/lib/factory.js ***!
  \*****************************************************************************************/
/*! exports provided: CodeMirrorEditorFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeMirrorEditorFactory", function() { return CodeMirrorEditorFactory; });
/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor */ "xg53");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * CodeMirror editor factory.
 */
class CodeMirrorEditorFactory {
    /**
     * Construct an IEditorFactoryService for CodeMirrorEditors.
     */
    constructor(defaults = {}) {
        /**
         * Create a new editor for inline code.
         */
        this.newInlineEditor = (options) => {
            options.host.dataset.type = 'inline';
            return new _editor__WEBPACK_IMPORTED_MODULE_0__["CodeMirrorEditor"](Object.assign(Object.assign({}, options), { config: Object.assign(Object.assign({}, this.inlineCodeMirrorConfig), (options.config || {})) }));
        };
        /**
         * Create a new editor for a full document.
         */
        this.newDocumentEditor = (options) => {
            options.host.dataset.type = 'document';
            return new _editor__WEBPACK_IMPORTED_MODULE_0__["CodeMirrorEditor"](Object.assign(Object.assign({}, options), { config: Object.assign(Object.assign({}, this.documentCodeMirrorConfig), (options.config || {})) }));
        };
        this.inlineCodeMirrorConfig = Object.assign(Object.assign(Object.assign({}, _editor__WEBPACK_IMPORTED_MODULE_0__["CodeMirrorEditor"].defaultConfig), { extraKeys: {
                'Cmd-Right': 'goLineRight',
                End: 'goLineRight',
                'Cmd-Left': 'goLineLeft',
                Tab: 'indentMoreOrinsertTab',
                'Shift-Tab': 'indentLess',
                'Cmd-/': 'toggleComment',
                'Ctrl-/': 'toggleComment'
            } }), defaults);
        this.documentCodeMirrorConfig = Object.assign(Object.assign(Object.assign({}, _editor__WEBPACK_IMPORTED_MODULE_0__["CodeMirrorEditor"].defaultConfig), { extraKeys: {
                Tab: 'indentMoreOrinsertTab',
                'Shift-Tab': 'indentLess',
                'Cmd-/': 'toggleComment',
                'Ctrl-/': 'toggleComment',
                'Shift-Enter': () => {
                    /* no-op */
                }
            }, lineNumbers: true, scrollPastEnd: true }), defaults);
    }
}
//# sourceMappingURL=factory.js.map

/***/ }),

/***/ "lT6k":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/collapse.js ***!
  \****************************************************************************************/
/*! exports provided: Collapse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Collapse", function() { return Collapse; });
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/**
 * A panel that supports a collapsible header made from the widget's title.
 * Clicking on the title expands or contracts the widget.
 */
class Collapse extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["Widget"] {
    constructor(options) {
        super(options);
        this._collapseChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__["Signal"](this);
        const { widget, collapsed = true } = options;
        this.addClass('jp-Collapse');
        this._header = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["Widget"]();
        this._header.addClass('jp-Collapse-header');
        this._content = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["Panel"]();
        this._content.addClass('jp-Collapse-contents');
        let layout = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_1__["PanelLayout"]();
        this.layout = layout;
        layout.addWidget(this._header);
        layout.addWidget(this._content);
        this.widget = widget;
        this.collapsed = collapsed;
    }
    /**
     * The widget inside the collapse panel.
     */
    get widget() {
        return this._widget;
    }
    set widget(widget) {
        let oldWidget = this._widget;
        if (oldWidget) {
            oldWidget.title.changed.disconnect(this._onTitleChanged, this);
            oldWidget.parent = null;
        }
        this._widget = widget;
        widget.title.changed.connect(this._onTitleChanged, this);
        this._onTitleChanged(widget.title);
        this._content.addWidget(widget);
    }
    /**
     * The collapsed state of the panel.
     */
    get collapsed() {
        return this._collapsed;
    }
    set collapsed(value) {
        if (value === this._collapsed) {
            return;
        }
        if (value) {
            this._collapse();
        }
        else {
            this._uncollapse();
        }
    }
    /**
     * A signal for when the widget collapse state changes.
     */
    get collapseChanged() {
        return this._collapseChanged;
    }
    /**
     * Toggle the collapse state of the panel.
     */
    toggle() {
        this.collapsed = !this.collapsed;
    }
    /**
     * Dispose the widget.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        // Delete references we explicitly hold to other widgets.
        this._header = null;
        this._widget = null;
        this._content = null;
        super.dispose();
    }
    /**
     * Handle the DOM events for the Collapse widget.
     *
     * @param event - The DOM event sent to the panel.
     *
     * #### Notes
     * This method implements the DOM `EventListener` interface and is
     * called in response to events on the panel's DOM node. It should
     * not be called directly by user code.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'click':
                this._evtClick(event);
                break;
            default:
                break;
        }
    }
    onAfterAttach(msg) {
        this._header.node.addEventListener('click', this);
    }
    onBeforeDetach(msg) {
        this._header.node.removeEventListener('click', this);
    }
    _collapse() {
        this._collapsed = true;
        if (this._content) {
            this._content.hide();
        }
        this._setHeader();
        this._collapseChanged.emit(void 0);
    }
    _uncollapse() {
        this._collapsed = false;
        if (this._content) {
            this._content.show();
        }
        this._setHeader();
        this._collapseChanged.emit(void 0);
    }
    _evtClick(event) {
        this.toggle();
    }
    /**
     * Handle the `changed` signal of a title object.
     */
    _onTitleChanged(sender) {
        this._setHeader();
    }
    _setHeader() {
        (this._collapsed ? _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__["caretUpIcon"] : _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__["caretDownIcon"]).element({
            container: this._header.node,
            label: this._widget.title.label,
            justify: 'right',
            height: '28px'
        });
    }
}
//# sourceMappingURL=collapse.js.map

/***/ }),

/***/ "lkzW":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statedb/lib/restorablepool.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
const properties_1 = __webpack_require__(/*! @lumino/properties */ "2RSD");
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
/**
 * An object pool that supports restoration.
 *
 * @typeparam T - The type of object being tracked.
 */
class RestorablePool {
    /**
     * Create a new restorable pool.
     *
     * @param options - The instantiation options for a restorable pool.
     */
    constructor(options) {
        this._added = new signaling_1.Signal(this);
        this._current = null;
        this._currentChanged = new signaling_1.Signal(this);
        this._hasRestored = false;
        this._isDisposed = false;
        this._objects = new Set();
        this._restore = null;
        this._restored = new coreutils_1.PromiseDelegate();
        this._updated = new signaling_1.Signal(this);
        this.namespace = options.namespace;
    }
    /**
     * A signal emitted when an object object is added.
     *
     * #### Notes
     * This signal will only fire when an object is added to the pool.
     * It will not fire if an object injected into the pool.
     */
    get added() {
        return this._added;
    }
    /**
     * The current object.
     *
     * #### Notes
     * The restorable pool does not set `current`. It is intended for client use.
     *
     * If `current` is set to an object that does not exist in the pool, it is a
     * no-op.
     */
    get current() {
        return this._current;
    }
    set current(obj) {
        if (this._current === obj) {
            return;
        }
        if (obj !== null && this._objects.has(obj)) {
            this._current = obj;
            this._currentChanged.emit(this._current);
        }
    }
    /**
     * A signal emitted when the current widget changes.
     */
    get currentChanged() {
        return this._currentChanged;
    }
    /**
     * Test whether the pool is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * A promise resolved when the restorable pool has been restored.
     */
    get restored() {
        return this._restored.promise;
    }
    /**
     * The number of objects held by the pool.
     */
    get size() {
        return this._objects.size;
    }
    /**
     * A signal emitted when an object is updated.
     */
    get updated() {
        return this._updated;
    }
    /**
     * Add a new object to the pool.
     *
     * @param obj - The object object being added.
     *
     * #### Notes
     * The object passed into the pool is added synchronously; its existence in
     * the pool can be checked with the `has()` method. The promise this method
     * returns resolves after the object has been added and saved to an underlying
     * restoration connector, if one is available.
     */
    async add(obj) {
        var _a, _b;
        if (obj.isDisposed) {
            const warning = 'A disposed object cannot be added.';
            console.warn(warning, obj);
            throw new Error(warning);
        }
        if (this._objects.has(obj)) {
            const warning = 'This object already exists in the pool.';
            console.warn(warning, obj);
            throw new Error(warning);
        }
        this._objects.add(obj);
        obj.disposed.connect(this._onInstanceDisposed, this);
        if (Private.injectedProperty.get(obj)) {
            return;
        }
        if (this._restore) {
            const { connector } = this._restore;
            const objName = this._restore.name(obj);
            if (objName) {
                const name = `${this.namespace}:${objName}`;
                const data = (_b = (_a = this._restore).args) === null || _b === void 0 ? void 0 : _b.call(_a, obj);
                Private.nameProperty.set(obj, name);
                await connector.save(name, { data });
            }
        }
        // Emit the added signal.
        this._added.emit(obj);
    }
    /**
     * Dispose of the resources held by the pool.
     *
     * #### Notes
     * Disposing a pool does not affect the underlying data in the data connector,
     * it simply disposes the client-side pool without making any connector calls.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._current = null;
        this._isDisposed = true;
        this._objects.clear();
        signaling_1.Signal.clearData(this);
    }
    /**
     * Find the first object in the pool that satisfies a filter function.
     *
     * @param - fn The filter function to call on each object.
     */
    find(fn) {
        const values = this._objects.values();
        for (let value of values) {
            if (fn(value)) {
                return value;
            }
        }
        return undefined;
    }
    /**
     * Iterate through each object in the pool.
     *
     * @param fn - The function to call on each object.
     */
    forEach(fn) {
        this._objects.forEach(fn);
    }
    /**
     * Filter the objects in the pool based on a predicate.
     *
     * @param fn - The function by which to filter.
     */
    filter(fn) {
        const filtered = [];
        this.forEach(obj => {
            if (fn(obj)) {
                filtered.push(obj);
            }
        });
        return filtered;
    }
    /**
     * Inject an object into the restorable pool without the pool handling its
     * restoration lifecycle.
     *
     * @param obj - The object to inject into the pool.
     */
    inject(obj) {
        Private.injectedProperty.set(obj, true);
        return this.add(obj);
    }
    /**
     * Check if this pool has the specified object.
     *
     * @param obj - The object whose existence is being checked.
     */
    has(obj) {
        return this._objects.has(obj);
    }
    /**
     * Restore the objects in this pool's namespace.
     *
     * @param options - The configuration options that describe restoration.
     *
     * @returns A promise that resolves when restoration has completed.
     *
     * #### Notes
     * This function should almost never be invoked by client code. Its primary
     * use case is to be invoked by a layout restorer plugin that handles
     * multiple restorable pools and, when ready, asks them each to restore their
     * respective objects.
     */
    async restore(options) {
        if (this._hasRestored) {
            throw new Error('This pool has already been restored.');
        }
        this._hasRestored = true;
        const { command, connector, registry, when } = options;
        const namespace = this.namespace;
        const promises = when
            ? [connector.list(namespace)].concat(when)
            : [connector.list(namespace)];
        this._restore = options;
        const [saved] = await Promise.all(promises);
        const values = await Promise.all(saved.ids.map(async (id, index) => {
            const value = saved.values[index];
            const args = value && value.data;
            if (args === undefined) {
                return connector.remove(id);
            }
            // Execute the command and if it fails, delete the state restore data.
            return registry
                .execute(command, args)
                .catch(() => connector.remove(id));
        }));
        this._restored.resolve();
        return values;
    }
    /**
     * Save the restore data for a given object.
     *
     * @param obj - The object being saved.
     */
    async save(obj) {
        var _a, _b;
        const injected = Private.injectedProperty.get(obj);
        if (!this._restore || !this.has(obj) || injected) {
            return;
        }
        const { connector } = this._restore;
        const objName = this._restore.name(obj);
        const oldName = Private.nameProperty.get(obj);
        const newName = objName ? `${this.namespace}:${objName}` : '';
        if (oldName && oldName !== newName) {
            await connector.remove(oldName);
        }
        // Set the name property irrespective of whether the new name is null.
        Private.nameProperty.set(obj, newName);
        if (newName) {
            const data = (_b = (_a = this._restore).args) === null || _b === void 0 ? void 0 : _b.call(_a, obj);
            await connector.save(newName, { data });
        }
        if (oldName !== newName) {
            this._updated.emit(obj);
        }
    }
    /**
     * Clean up after disposed objects.
     */
    _onInstanceDisposed(obj) {
        this._objects.delete(obj);
        if (obj === this._current) {
            this._current = null;
            this._currentChanged.emit(this._current);
        }
        if (Private.injectedProperty.get(obj)) {
            return;
        }
        if (!this._restore) {
            return;
        }
        const { connector } = this._restore;
        const name = Private.nameProperty.get(obj);
        if (name) {
            void connector.remove(name);
        }
    }
}
exports.RestorablePool = RestorablePool;
/*
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * An attached property to indicate whether an object has been injected.
     */
    Private.injectedProperty = new properties_1.AttachedProperty({
        name: 'injected',
        create: () => false
    });
    /**
     * An attached property for an object's ID.
     */
    Private.nameProperty = new properties_1.AttachedProperty({
        name: 'name',
        create: () => ''
    });
})(Private || (Private = {}));
//# sourceMappingURL=restorablepool.js.map

/***/ }),

/***/ "m+Nt":
/*!******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/text-editor.svg ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cpath class='jp-icon3 jp-icon-selectable' fill='%23616161' d='M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z' /%3E %3C/svg%3E"

/***/ }),

/***/ "m+NtG":
/*!******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/text-editor.svg ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t<path\n\t\tclass=\"jp-icon3 jp-icon-selectable\"\n\t\tfill=\"#616161\"\n\t\td=\"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\"\n\t/>\n</svg>\n");

/***/ }),

/***/ "m53+":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/style/text.js ***!
  \*******************************************************************************************/
/*! exports provided: baseText, textItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "baseText", function() { return baseText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "textItem", function() { return textItem; });
/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./variables */ "dqQ7");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.


const baseText = {
    fontSize: _variables__WEBPACK_IMPORTED_MODULE_0__["default"].fontSize,
    fontFamily: _variables__WEBPACK_IMPORTED_MODULE_0__["default"].fontFamily
};
const textItem = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_1__["style"])(baseText, {
    lineHeight: '24px',
    color: _variables__WEBPACK_IMPORTED_MODULE_0__["default"].textColor
});
//# sourceMappingURL=text.js.map

/***/ }),

/***/ "mG7G":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/iframe.css ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-IFrame {\n  width: 100%;\n  height: 100%;\n}\n\n.jp-IFrame > iframe {\n  border: none;\n}\n\n/*\nWhen drag events occur, `p-mod-override-cursor` is added to the body.\nBecause iframes steal all cursor events, the following two rules are necessary\nto suppress pointer events while resize drags are occurring. There may be a\nbetter solution to this problem.\n*/\nbody.lm-mod-override-cursor .jp-IFrame {\n  position: relative;\n}\n\nbody.lm-mod-override-cursor .jp-IFrame:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n}\n", ""]);


/***/ }),

/***/ "mbSQ":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/session/session.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
//# sourceMappingURL=session.js.map

/***/ }),

/***/ "mcb3":
/*!*****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./build/imports.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/application-extension/style/index.css */ "3cvp"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/apputils-extension/style/index.css */ "6zrg"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/celltags-extension/style/index.css */ "VHnZ"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/codemirror-extension/style/index.css */ "peMj"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/completer-extension/style/index.css */ "PgDR"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/console-extension/style/index.css */ "bfTm"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/csvviewer-extension/style/index.css */ "lgLN"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/docmanager-extension/style/index.css */ "O9bM"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/documentsearch-extension/style/index.css */ "CDpp"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/extensionmanager-extension/style/index.css */ "r+9J"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/filebrowser-extension/style/index.css */ "2LjY"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/fileeditor-extension/style/index.css */ "LTYk"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/help-extension/style/index.css */ "Sr3f"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/htmlviewer-extension/style/index.css */ "n8Y9"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/hub-extension/style/index.css */ "S7fB"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/imageviewer-extension/style/index.css */ "CFN3"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/inspector-extension/style/index.css */ "K7oJ"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/javascript-extension/style/index.css */ "eRPd"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/json-extension/style/index.css */ "zX8U"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/launcher-extension/style/index.css */ "/YmD"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/logconsole-extension/style/index.css */ "MdHq"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/mainmenu-extension/style/index.css */ "lJhN"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/markdownviewer-extension/style/index.css */ "tNbO"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/mathjax2-extension/style/index.css */ "j8JF"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/notebook-extension/style/index.css */ "UAEM"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/pdf-extension/style/index.css */ "ezRN"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/rendermime-extension/style/index.css */ "hVka"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/running-extension/style/index.css */ "Gbs+"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/settingeditor-extension/style/index.css */ "dBpt"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/statusbar-extension/style/index.css */ "Xt8d"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/tabmanager-extension/style/index.css */ "qHVV"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/terminal-extension/style/index.css */ "vIM2"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/tooltip-extension/style/index.css */ "8R3s"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/ui-components-extension/style/index.css */ "x/tk"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/vdom-extension/style/index.css */ "LY97"), "");
exports.i(__webpack_require__(/*! -!../node_modules/css-loader/dist/cjs.js!@jupyterlab/vega5-extension/style/index.css */ "RXP+"), "");
// Module
exports.push([module.i, "/* This is a generated file of CSS imports */\n/* It was generated by @jupyterlab/buildutils in Build.ensureAssets() */\n", ""]);


/***/ }),

/***/ "mk9+":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/close.svg ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' height='16' width='16' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon-none jp-icon-selectable-inverse jp-icon3-hover' fill='none'%3E %3Ccircle cx='12' cy='12' r='11'/%3E %3C/g%3E %3Cg class='jp-icon3 jp-icon-selectable jp-icon-accent2-hover' fill='%23616161'%3E %3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E %3C/g%3E %3Cg class='jp-icon-none jp-icon-busy' fill='none'%3E %3Ccircle cx='12' cy='12' r='7'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "mk9+c":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/close.svg ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" height=\"16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon-none jp-icon-selectable-inverse jp-icon3-hover\" fill=\"none\">\n    <circle cx=\"12\" cy=\"12\" r=\"11\"/>\n  </g>\n\n  <g class=\"jp-icon3 jp-icon-selectable jp-icon-accent2-hover\" fill=\"#616161\">\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n  </g>\n\n  <g class=\"jp-icon-none jp-icon-busy\" fill=\"none\">\n    <circle cx=\"12\" cy=\"12\" r=\"7\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "nBzX":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/defaults/index.js ***!
  \***********************************************************************************************/
/*! exports provided: LineCol, KernelStatus, RunningSessions, MemoryUsage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lineCol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lineCol */ "YEk9");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LineCol", function() { return _lineCol__WEBPACK_IMPORTED_MODULE_0__["LineCol"]; });

/* harmony import */ var _kernelStatus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./kernelStatus */ "zevx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "KernelStatus", function() { return _kernelStatus__WEBPACK_IMPORTED_MODULE_1__["KernelStatus"]; });

/* harmony import */ var _runningSessions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./runningSessions */ "ncvd");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RunningSessions", function() { return _runningSessions__WEBPACK_IMPORTED_MODULE_2__["RunningSessions"]; });

/* harmony import */ var _memoryUsage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./memoryUsage */ "eUJo");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MemoryUsage", function() { return _memoryUsage__WEBPACK_IMPORTED_MODULE_3__["MemoryUsage"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




//# sourceMappingURL=index.js.map

/***/ }),

/***/ "nMRO":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/index.js ***!
  \****************************************************************************************/
/*! exports provided: ConnectionLost, JupyterFrontEnd, JupyterLab, ILayoutRestorer, LayoutRestorer, IMimeDocumentTracker, Router, ILabShell, LabShell, ILabStatus, IConnectionLost, IRouter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _connectionlost__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./connectionlost */ "YhD1");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ConnectionLost", function() { return _connectionlost__WEBPACK_IMPORTED_MODULE_0__["ConnectionLost"]; });

/* harmony import */ var _frontend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./frontend */ "/spg");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JupyterFrontEnd", function() { return _frontend__WEBPACK_IMPORTED_MODULE_1__["JupyterFrontEnd"]; });

/* harmony import */ var _lab__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lab */ "5K4T");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JupyterLab", function() { return _lab__WEBPACK_IMPORTED_MODULE_2__["JupyterLab"]; });

/* harmony import */ var _layoutrestorer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./layoutrestorer */ "wgtH");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ILayoutRestorer", function() { return _layoutrestorer__WEBPACK_IMPORTED_MODULE_3__["ILayoutRestorer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LayoutRestorer", function() { return _layoutrestorer__WEBPACK_IMPORTED_MODULE_3__["LayoutRestorer"]; });

/* harmony import */ var _mimerenderers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mimerenderers */ "g/SU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IMimeDocumentTracker", function() { return _mimerenderers__WEBPACK_IMPORTED_MODULE_4__["IMimeDocumentTracker"]; });

/* harmony import */ var _router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./router */ "J2V2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Router", function() { return _router__WEBPACK_IMPORTED_MODULE_5__["Router"]; });

/* harmony import */ var _shell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shell */ "z/Qb");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ILabShell", function() { return _shell__WEBPACK_IMPORTED_MODULE_6__["ILabShell"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabShell", function() { return _shell__WEBPACK_IMPORTED_MODULE_6__["LabShell"]; });

/* harmony import */ var _status__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./status */ "dHt+");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ILabStatus", function() { return _status__WEBPACK_IMPORTED_MODULE_7__["ILabStatus"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tokens */ "XyKy");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IConnectionLost", function() { return _tokens__WEBPACK_IMPORTED_MODULE_8__["IConnectionLost"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IRouter", function() { return _tokens__WEBPACK_IMPORTED_MODULE_8__["IRouter"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.









//# sourceMappingURL=index.js.map

/***/ }),

/***/ "na4A":
/*!*******************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codemirror/lib/codemirror-ipythongfm.js ***!
  \*******************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! codemirror */ "FIRL");
/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var codemirror_mode_stex_stex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! codemirror/mode/stex/stex */ "h2Gc");
/* harmony import */ var codemirror_mode_stex_stex__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_stex_stex__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var codemirror_mode_gfm_gfm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! codemirror/mode/gfm/gfm */ "rDXX");
/* harmony import */ var codemirror_mode_gfm_gfm__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_gfm_gfm__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var codemirror_addon_mode_multiplex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! codemirror/addon/mode/multiplex */ "Sl6A");
/* harmony import */ var codemirror_addon_mode_multiplex__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_mode_multiplex__WEBPACK_IMPORTED_MODULE_3__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




/**
 * Define an IPython GFM (GitHub Flavored Markdown) mode.
 *
 * Is just a slightly altered GFM Mode with support for LaTeX.
 * LaTeX support was supported by Codemirror GFM as of
 *   https://github.com/codemirror/CodeMirror/pull/567
 *  But was later removed in
 *   https://github.com/codemirror/CodeMirror/commit/d9c9f1b1ffe984aee41307f3e927f80d1f23590c
 */
codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.defineMode('ipythongfm', (config, modeOptions) => {
    let gfmMode = codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.getMode(config, {
        name: 'gfm',
        // Override list3 with an under-used token, rather than `keyword`
        tokenTypeOverrides: { list3: 'string-2' }
    });
    let texMode = codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.getMode(config, {
        name: 'stex',
        inMathMode: true
    });
    return codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.multiplexingMode(gfmMode, {
        open: '$$',
        close: '$$',
        mode: texMode,
        delimStyle: 'delimit'
    }, {
        open: '$',
        close: '$',
        mode: texMode,
        delimStyle: 'delimit'
    }, {
        open: '\\(',
        close: '\\)',
        mode: texMode,
        delimStyle: 'delimit'
    }, {
        open: '\\[',
        close: '\\]',
        mode: texMode,
        delimStyle: 'delimit'
    }
    // .. more multiplexed styles can follow here
    );
}, 'gfm');
codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.defineMIME('text/x-ipythongfm', 'ipythongfm');
codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.modeInfo.push({
    ext: [],
    mime: 'text/x-ipythongfm',
    mode: 'ipythongfm',
    name: 'ipythongfm'
});
//# sourceMappingURL=codemirror-ipythongfm.js.map

/***/ }),

/***/ "ncvd":
/*!*********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/defaults/runningSessions.js ***!
  \*********************************************************************************************************/
/*! exports provided: RunningSessions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RunningSessions", function() { return RunningSessions; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! .. */ "8R0s");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




/**
 * Half spacing between subitems in a status item.
 */
const HALF_SPACING = 4;
/**
 * A pure functional component for rendering kernel and terminal sessions.
 *
 * @param props: the props for the component.
 *
 * @returns a tsx component for the running sessions.
 */
function RunningSessionsComponent(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_3__["GroupItem"], { spacing: HALF_SPACING, onClick: props.handleClick },
        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_3__["GroupItem"], { spacing: HALF_SPACING },
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_3__["TextItem"], { source: props.terminals }),
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__["terminalIcon"].react, { left: '1px', top: '3px', kind: 'statusBar' })),
        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_3__["GroupItem"], { spacing: HALF_SPACING },
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_3__["TextItem"], { source: props.sessions }),
            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__["kernelIcon"].react, { top: '2px', kind: 'statusBar' }))));
}
/**
 * A VDomRenderer for a RunningSessions status item.
 */
class RunningSessions extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomRenderer"] {
    /**
     * Create a new RunningSessions widget.
     */
    constructor(opts) {
        super(new RunningSessions.Model());
        this._serviceManager = opts.serviceManager;
        this._handleClick = opts.onClick;
        this._serviceManager.sessions.runningChanged.connect(this._onSessionsRunningChanged, this);
        this._serviceManager.terminals.runningChanged.connect(this._onTerminalsRunningChanged, this);
        this.addClass(___WEBPACK_IMPORTED_MODULE_3__["interactiveItem"]);
    }
    /**
     * Render the running sessions widget.
     */
    render() {
        if (!this.model) {
            return null;
        }
        this.title.caption = `${this.model.terminals} Terminals, ${this.model.sessions} Kernel sessions`;
        return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RunningSessionsComponent, { sessions: this.model.sessions, terminals: this.model.terminals, handleClick: this._handleClick }));
    }
    /**
     * Dispose of the status item.
     */
    dispose() {
        super.dispose();
        this._serviceManager.sessions.runningChanged.disconnect(this._onSessionsRunningChanged, this);
        this._serviceManager.terminals.runningChanged.disconnect(this._onTerminalsRunningChanged, this);
    }
    /**
     * Set the number of kernel sessions when the list changes.
     */
    _onSessionsRunningChanged(manager, sessions) {
        this.model.sessions = sessions.length;
    }
    /**
     * Set the number of terminal sessions when the list changes.
     */
    _onTerminalsRunningChanged(manager, terminals) {
        this.model.terminals = terminals.length;
    }
}
/**
 * A namespace for RunninSessions statics.
 */
(function (RunningSessions) {
    /**
     * A VDomModel for the RunninSessions status item.
     */
    class Model extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomModel"] {
        constructor() {
            super(...arguments);
            this._terminals = 0;
            this._sessions = 0;
        }
        /**
         * The number of active kernel sessions.
         */
        get sessions() {
            return this._sessions;
        }
        set sessions(sessions) {
            const oldSessions = this._sessions;
            this._sessions = sessions;
            if (oldSessions !== this._sessions) {
                this.stateChanged.emit(void 0);
            }
        }
        /**
         * The number of active terminal sessions.
         */
        get terminals() {
            return this._terminals;
        }
        set terminals(terminals) {
            const oldTerminals = this._terminals;
            this._terminals = terminals;
            if (oldTerminals !== this._terminals) {
                this.stateChanged.emit(void 0);
            }
        }
    }
    RunningSessions.Model = Model;
})(RunningSessions || (RunningSessions = {}));
//# sourceMappingURL=runningSessions.js.map

/***/ }),

/***/ "nqLG":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/statusbar.js ***!
  \******************************************************************************************/
/*! exports provided: StatusBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatusBar", function() { return StatusBar; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_statusbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style/statusbar */ "Hx4J");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.




/**
 * Main status bar object which contains all items.
 */
class StatusBar extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Widget"] {
    constructor() {
        super();
        this._leftRankItems = [];
        this._rightRankItems = [];
        this._statusItems = {};
        this._disposables = new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableSet"]();
        this.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["statusBar"]);
        let rootLayout = (this.layout = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["PanelLayout"]());
        let leftPanel = (this._leftSide = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Panel"]());
        let middlePanel = (this._middlePanel = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Panel"]());
        let rightPanel = (this._rightSide = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Panel"]());
        leftPanel.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["side"]);
        leftPanel.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["leftSide"]);
        middlePanel.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["side"]);
        rightPanel.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["side"]);
        rightPanel.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["rightSide"]);
        rootLayout.addWidget(leftPanel);
        rootLayout.addWidget(middlePanel);
        rootLayout.addWidget(rightPanel);
    }
    /**
     * Register a new status item.
     *
     * @param id - a unique id for the status item.
     *
     * @param statusItem - The item to add to the status bar.
     */
    registerStatusItem(id, statusItem) {
        if (id in this._statusItems) {
            throw new Error(`Status item ${id} already registered.`);
        }
        // Populate defaults for the optional properties of the status item.
        const fullStatusItem = Object.assign(Object.assign({}, Private.statusItemDefaults), statusItem);
        const { align, item, rank } = fullStatusItem;
        // Connect the activeStateChanged signal to refreshing the status item,
        // if the signal was provided.
        const onActiveStateChanged = () => {
            this._refreshItem(id);
        };
        if (fullStatusItem.activeStateChanged) {
            fullStatusItem.activeStateChanged.connect(onActiveStateChanged);
        }
        let rankItem = { id, rank };
        fullStatusItem.item.addClass(_style_statusbar__WEBPACK_IMPORTED_MODULE_3__["item"]);
        this._statusItems[id] = fullStatusItem;
        if (align === 'left') {
            let insertIndex = this._findInsertIndex(this._leftRankItems, rankItem);
            if (insertIndex === -1) {
                this._leftSide.addWidget(item);
                this._leftRankItems.push(rankItem);
            }
            else {
                _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].insert(this._leftRankItems, insertIndex, rankItem);
                this._leftSide.insertWidget(insertIndex, item);
            }
        }
        else if (align === 'right') {
            let insertIndex = this._findInsertIndex(this._rightRankItems, rankItem);
            if (insertIndex === -1) {
                this._rightSide.addWidget(item);
                this._rightRankItems.push(rankItem);
            }
            else {
                _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].insert(this._rightRankItems, insertIndex, rankItem);
                this._rightSide.insertWidget(insertIndex, item);
            }
        }
        else {
            this._middlePanel.addWidget(item);
        }
        this._refreshItem(id); // Initially refresh the status item.
        const disposable = new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](() => {
            delete this._statusItems[id];
            if (fullStatusItem.activeStateChanged) {
                fullStatusItem.activeStateChanged.disconnect(onActiveStateChanged);
            }
            item.parent = null;
            item.dispose();
        });
        this._disposables.add(disposable);
        return disposable;
    }
    /**
     * Dispose of the status bar.
     */
    dispose() {
        this._leftRankItems.length = 0;
        this._rightRankItems.length = 0;
        this._disposables.dispose();
        super.dispose();
    }
    /**
     * Handle an 'update-request' message to the status bar.
     */
    onUpdateRequest(msg) {
        this._refreshAll();
        super.onUpdateRequest(msg);
    }
    _findInsertIndex(side, newItem) {
        return _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].findFirstIndex(side, item => item.rank > newItem.rank);
    }
    _refreshItem(id) {
        const statusItem = this._statusItems[id];
        if (statusItem.isActive()) {
            statusItem.item.show();
            statusItem.item.update();
        }
        else {
            statusItem.item.hide();
        }
    }
    _refreshAll() {
        Object.keys(this._statusItems).forEach(id => {
            this._refreshItem(id);
        });
    }
}
/**
 * A namespace for private functionality.
 */
var Private;
(function (Private) {
    /**
     * Default options for a status item, less the item itself.
     */
    Private.statusItemDefaults = {
        align: 'left',
        rank: 0,
        isActive: () => true,
        activeStateChanged: undefined
    };
})(Private || (Private = {}));
//# sourceMappingURL=statusbar.js.map

/***/ }),

/***/ "nwxn":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/node_modules/moment/locale sync ^\.\/.*$ ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "+BjG",
	"./af.js": "+BjG",
	"./ar": "tbrF",
	"./ar-dz": "nQgV",
	"./ar-dz.js": "nQgV",
	"./ar-kw": "/T1w",
	"./ar-kw.js": "/T1w",
	"./ar-ly": "DfYU",
	"./ar-ly.js": "DfYU",
	"./ar-ma": "9fgu",
	"./ar-ma.js": "9fgu",
	"./ar-sa": "hs39",
	"./ar-sa.js": "hs39",
	"./ar-tn": "WDBD",
	"./ar-tn.js": "WDBD",
	"./ar.js": "tbrF",
	"./az": "n9/U",
	"./az.js": "n9/U",
	"./be": "TTZp",
	"./be.js": "TTZp",
	"./bg": "6IMO",
	"./bg.js": "6IMO",
	"./bm": "QpgK",
	"./bm.js": "QpgK",
	"./bn": "Ky52",
	"./bn.js": "Ky52",
	"./bo": "qP7y",
	"./bo.js": "qP7y",
	"./br": "qwKU",
	"./br.js": "qwKU",
	"./bs": "ysN/",
	"./bs.js": "ysN/",
	"./ca": "cnwV",
	"./ca.js": "cnwV",
	"./cs": "2xUB",
	"./cs.js": "2xUB",
	"./cv": "KGY+",
	"./cv.js": "KGY+",
	"./cy": "4uCw",
	"./cy.js": "4uCw",
	"./da": "0ZAp",
	"./da.js": "0ZAp",
	"./de": "VzE4",
	"./de-at": "Z3bc",
	"./de-at.js": "Z3bc",
	"./de-ch": "a9lH",
	"./de-ch.js": "a9lH",
	"./de.js": "VzE4",
	"./dv": "eCdo",
	"./dv.js": "eCdo",
	"./el": "M1Cn",
	"./el.js": "M1Cn",
	"./en-SG": "XYMt",
	"./en-SG.js": "XYMt",
	"./en-au": "5o4W",
	"./en-au.js": "5o4W",
	"./en-ca": "tKkG",
	"./en-ca.js": "tKkG",
	"./en-gb": "Lg+G",
	"./en-gb.js": "Lg+G",
	"./en-ie": "IAd3",
	"./en-ie.js": "IAd3",
	"./en-il": "MNxD",
	"./en-il.js": "MNxD",
	"./en-nz": "+kyR",
	"./en-nz.js": "+kyR",
	"./eo": "+w0X",
	"./eo.js": "+w0X",
	"./es": "vQxF",
	"./es-do": "/oWH",
	"./es-do.js": "/oWH",
	"./es-us": "wcLm",
	"./es-us.js": "wcLm",
	"./es.js": "vQxF",
	"./et": "jlHh",
	"./et.js": "jlHh",
	"./eu": "gEfR",
	"./eu.js": "gEfR",
	"./fa": "rOPa",
	"./fa.js": "rOPa",
	"./fi": "NRLE",
	"./fi.js": "NRLE",
	"./fo": "KW2Z",
	"./fo.js": "KW2Z",
	"./fr": "Yq7j",
	"./fr-ca": "9SC9",
	"./fr-ca.js": "9SC9",
	"./fr-ch": "qdlf",
	"./fr-ch.js": "qdlf",
	"./fr.js": "Yq7j",
	"./fy": "u4M5",
	"./fy.js": "u4M5",
	"./ga": "+qy6",
	"./ga.js": "+qy6",
	"./gd": "TzBu",
	"./gd.js": "TzBu",
	"./gl": "H3yp",
	"./gl.js": "H3yp",
	"./gom-latn": "2qJp",
	"./gom-latn.js": "2qJp",
	"./gu": "WfH6",
	"./gu.js": "WfH6",
	"./he": "uVI6",
	"./he.js": "uVI6",
	"./hi": "NjBQ",
	"./hi.js": "NjBQ",
	"./hr": "1wV8",
	"./hr.js": "1wV8",
	"./hu": "EMlO",
	"./hu.js": "EMlO",
	"./hy-am": "S2p7",
	"./hy-am.js": "S2p7",
	"./id": "dPoT",
	"./id.js": "dPoT",
	"./is": "wymO",
	"./is.js": "wymO",
	"./it": "7kd1",
	"./it-ch": "uq6G",
	"./it-ch.js": "uq6G",
	"./it.js": "7kd1",
	"./ja": "a2zv",
	"./ja.js": "a2zv",
	"./jv": "zjiy",
	"./jv.js": "zjiy",
	"./ka": "etWJ",
	"./ka.js": "etWJ",
	"./kk": "GGhR",
	"./kk.js": "GGhR",
	"./km": "r0v2",
	"./km.js": "r0v2",
	"./kn": "aTPD",
	"./kn.js": "aTPD",
	"./ko": "Owk1",
	"./ko.js": "Owk1",
	"./ku": "16I9",
	"./ku.js": "16I9",
	"./ky": "RNo2",
	"./ky.js": "RNo2",
	"./lb": "OqwN",
	"./lb.js": "OqwN",
	"./lo": "TXK+",
	"./lo.js": "TXK+",
	"./lt": "Uzcy",
	"./lt.js": "Uzcy",
	"./lv": "mjFb",
	"./lv.js": "mjFb",
	"./me": "ye+z",
	"./me.js": "ye+z",
	"./mi": "5ZBc",
	"./mi.js": "5ZBc",
	"./mk": "BJJn",
	"./mk.js": "BJJn",
	"./ml": "Yv6l",
	"./ml.js": "Yv6l",
	"./mn": "X26W",
	"./mn.js": "X26W",
	"./mr": "qhcz",
	"./mr.js": "qhcz",
	"./ms": "YdAW",
	"./ms-my": "iu8O",
	"./ms-my.js": "iu8O",
	"./ms.js": "YdAW",
	"./mt": "aVtj",
	"./mt.js": "aVtj",
	"./my": "4OpE",
	"./my.js": "4OpE",
	"./nb": "QeC6",
	"./nb.js": "QeC6",
	"./ne": "0Cvt",
	"./ne.js": "0Cvt",
	"./nl": "abZl",
	"./nl-be": "ByjK",
	"./nl-be.js": "ByjK",
	"./nl.js": "abZl",
	"./nn": "/CIm",
	"./nn.js": "/CIm",
	"./pa-in": "+nJ8",
	"./pa-in.js": "+nJ8",
	"./pl": "gCF3",
	"./pl.js": "gCF3",
	"./pt": "zyqB",
	"./pt-br": "l/9g",
	"./pt-br.js": "l/9g",
	"./pt.js": "zyqB",
	"./ro": "O1t/",
	"./ro.js": "O1t/",
	"./ru": "aIOj",
	"./ru.js": "aIOj",
	"./sd": "6KHo",
	"./sd.js": "6KHo",
	"./se": "fbHF",
	"./se.js": "fbHF",
	"./si": "E4YT",
	"./si.js": "E4YT",
	"./sk": "1kV7",
	"./sk.js": "1kV7",
	"./sl": "5h99",
	"./sl.js": "5h99",
	"./sq": "7jTw",
	"./sq.js": "7jTw",
	"./sr": "6pQQ",
	"./sr-cyrl": "GrAQ",
	"./sr-cyrl.js": "GrAQ",
	"./sr.js": "6pQQ",
	"./ss": "54qw",
	"./ss.js": "54qw",
	"./sv": "AQwk",
	"./sv.js": "AQwk",
	"./sw": "FFAn",
	"./sw.js": "FFAn",
	"./ta": "qhTy",
	"./ta.js": "qhTy",
	"./te": "vrbz",
	"./te.js": "vrbz",
	"./tet": "J9qX",
	"./tet.js": "J9qX",
	"./tg": "S97Q",
	"./tg.js": "S97Q",
	"./th": "LdZS",
	"./th.js": "LdZS",
	"./tl-ph": "o2yB",
	"./tl-ph.js": "o2yB",
	"./tlh": "hsnM",
	"./tlh.js": "hsnM",
	"./tr": "Z1Vb",
	"./tr.js": "Z1Vb",
	"./tzl": "XP0f",
	"./tzl.js": "XP0f",
	"./tzm": "SBLy",
	"./tzm-latn": "ZjbG",
	"./tzm-latn.js": "ZjbG",
	"./tzm.js": "SBLy",
	"./ug-cn": "q3V2",
	"./ug-cn.js": "q3V2",
	"./uk": "n2EV",
	"./uk.js": "n2EV",
	"./ur": "rfWW",
	"./ur.js": "rfWW",
	"./uz": "+23z",
	"./uz-latn": "nVBo",
	"./uz-latn.js": "nVBo",
	"./uz.js": "+23z",
	"./vi": "maXa",
	"./vi.js": "maXa",
	"./x-pseudo": "w88i",
	"./x-pseudo.js": "w88i",
	"./yo": "PtXc",
	"./yo.js": "PtXc",
	"./zh-cn": "6xUB",
	"./zh-cn.js": "6xUB",
	"./zh-hk": "t+Ll",
	"./zh-hk.js": "t+Ll",
	"./zh-tw": "GruA",
	"./zh-tw.js": "GruA"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "nwxn";

/***/ }),

/***/ "o1Bc":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/restapi.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const validate_1 = __webpack_require__(/*! ./validate */ "8o6w");
/**
 * The url for the kernel service.
 */
exports.KERNEL_SERVICE_URL = 'api/kernels';
/**
 * Fetch the running kernels.
 *
 * @param settings - The optional server settings.
 *
 * @returns A promise that resolves with the list of running kernels.
 *
 * #### Notes
 * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels) and validates the response model.
 *
 * The promise is fulfilled on a valid response and rejected otherwise.
 */
async function listRunning(settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.KERNEL_SERVICE_URL);
    const response = await serverconnection_1.ServerConnection.makeRequest(url, {}, settings);
    if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    const data = await response.json();
    validate_1.validateModels(data);
    return data;
}
exports.listRunning = listRunning;
/**
 * Start a new kernel.
 *
 * @param options - The options used to create the kernel.
 *
 * @returns A promise that resolves with a kernel connection object.
 *
 * #### Notes
 * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels) and validates the response model.
 *
 * The promise is fulfilled on a valid response and rejected otherwise.
 */
async function startNew(options = {}, settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.KERNEL_SERVICE_URL);
    let init = {
        method: 'POST',
        body: JSON.stringify(options)
    };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status !== 201) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    validate_1.validateModel(data);
    return data;
}
exports.startNew = startNew;
/**
 * Restart a kernel.
 *
 * #### Notes
 * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels) and validates the response model.
 *
 * The promise is fulfilled on a valid response (and thus after a restart) and rejected otherwise.
 */
async function restartKernel(id, settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.KERNEL_SERVICE_URL, encodeURIComponent(id), 'restart');
    let init = { method: 'POST' };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    validate_1.validateModel(data);
}
exports.restartKernel = restartKernel;
/**
 * Interrupt a kernel.
 *
 * #### Notes
 * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels) and validates the response model.
 *
 * The promise is fulfilled on a valid response and rejected otherwise.
 */
async function interruptKernel(id, settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.KERNEL_SERVICE_URL, encodeURIComponent(id), 'interrupt');
    let init = { method: 'POST' };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status !== 204) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
}
exports.interruptKernel = interruptKernel;
/**
 * Shut down a kernel.
 *
 * @param id - The id of the running kernel.
 *
 * @param settings - The server settings for the request.
 *
 * @returns A promise that resolves when the kernel is shut down.
 *
 *
 * #### Notes
 * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels) and validates the response model.
 *
 * The promise is fulfilled on a valid response and rejected otherwise.
 */
async function shutdownKernel(id, settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.KERNEL_SERVICE_URL, encodeURIComponent(id));
    let init = { method: 'DELETE' };
    let response = await serverconnection_1.ServerConnection.makeRequest(url, init, settings);
    if (response.status === 404) {
        let msg = `The kernel "${id}" does not exist on the server`;
        console.warn(msg);
    }
    else if (response.status !== 204) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
}
exports.shutdownKernel = shutdownKernel;
/**
 * Get a full kernel model from the server by kernel id string.
 *
 * #### Notes
 * Uses the [Jupyter Notebook API](http://petstore.swagger.io/?url=https://raw.githubusercontent.com/jupyter/notebook/master/notebook/services/api/api.yaml#!/kernels) and validates the response model.
 *
 * The promise is fulfilled on a valid response and rejected otherwise.
 */
async function getKernelModel(id, settings = serverconnection_1.ServerConnection.makeSettings()) {
    let url = coreutils_1.URLExt.join(settings.baseUrl, exports.KERNEL_SERVICE_URL, encodeURIComponent(id));
    let response = await serverconnection_1.ServerConnection.makeRequest(url, {}, settings);
    if (response.status === 404) {
        return undefined;
    }
    else if (response.status !== 200) {
        throw new serverconnection_1.ServerConnection.ResponseError(response);
    }
    let data = await response.json();
    validate_1.validateModel(data);
    return data;
}
exports.getKernelModel = getKernelModel;
//# sourceMappingURL=restapi.js.map

/***/ }),

/***/ "oj+p":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codeeditor/lib/mimetype.js ***!
  \******************************************************************************************/
/*! exports provided: IEditorMimeTypeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IEditorMimeTypeService", function() { return IEditorMimeTypeService; });
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
/**
 * A namespace for `IEditorMimeTypeService`.
 */
var IEditorMimeTypeService;
(function (IEditorMimeTypeService) {
    /**
     * The default mime type.
     */
    IEditorMimeTypeService.defaultMimeType = 'text/plain';
})(IEditorMimeTypeService || (IEditorMimeTypeService = {}));
//# sourceMappingURL=mimetype.js.map

/***/ }),

/***/ "pLaC":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/blueprint.js ***!
  \**********************************************************************************************/
/*! exports provided: Intent, Button, InputGroup, Collapse, Select */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return Button; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InputGroup", function() { return InputGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Collapse", function() { return Collapse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Select", function() { return Select; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _blueprintjs_core_lib_cjs_components_button_buttons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blueprintjs/core/lib/cjs/components/button/buttons */ "NppO");
/* harmony import */ var _blueprintjs_core_lib_cjs_components_button_buttons__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_blueprintjs_core_lib_cjs_components_button_buttons__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _blueprintjs_core_lib_cjs_components_icon_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blueprintjs/core/lib/cjs/components/icon/icon */ "IO9T");
/* harmony import */ var _blueprintjs_core_lib_cjs_components_icon_icon__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_blueprintjs_core_lib_cjs_components_icon_icon__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _blueprintjs_core_lib_cjs_components_collapse_collapse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @blueprintjs/core/lib/cjs/components/collapse/collapse */ "JIoh");
/* harmony import */ var _blueprintjs_core_lib_cjs_components_collapse_collapse__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_blueprintjs_core_lib_cjs_components_collapse_collapse__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _blueprintjs_core_lib_cjs_components_forms_inputGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @blueprintjs/core/lib/cjs/components/forms/inputGroup */ "zzUL");
/* harmony import */ var _blueprintjs_core_lib_cjs_components_forms_inputGroup__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_blueprintjs_core_lib_cjs_components_forms_inputGroup__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _blueprintjs_select_lib_cjs_components_select_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @blueprintjs/select/lib/cjs/components/select/select */ "myHL");
/* harmony import */ var _blueprintjs_select_lib_cjs_components_select_select__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_blueprintjs_select_lib_cjs_components_select_select__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _blueprintjs_core_lib_cjs_common_intent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @blueprintjs/core/lib/cjs/common/intent */ "pK2W");
/* harmony import */ var _blueprintjs_core_lib_cjs_common_intent__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_blueprintjs_core_lib_cjs_common_intent__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Intent", function() { return _blueprintjs_core_lib_cjs_common_intent__WEBPACK_IMPORTED_MODULE_6__["Intent"]; });

/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils */ "P1nB");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.








const Button = (props) => (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_blueprintjs_core_lib_cjs_components_button_buttons__WEBPACK_IMPORTED_MODULE_1__["Button"], Object.assign({}, props, { className: Object(_utils__WEBPACK_IMPORTED_MODULE_7__["classes"])(props.className, props.minimal ? 'minimal' : '', 'jp-Button') })));
const InputGroup = (props) => {
    if (props.rightIcon) {
        return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_blueprintjs_core_lib_cjs_components_forms_inputGroup__WEBPACK_IMPORTED_MODULE_4__["InputGroup"], Object.assign({}, props, { className: Object(_utils__WEBPACK_IMPORTED_MODULE_7__["classes"])(props.className, 'jp-InputGroup'), rightElement: react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", { className: "jp-InputGroupAction" },
                react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_blueprintjs_core_lib_cjs_components_icon_icon__WEBPACK_IMPORTED_MODULE_2__["Icon"], { className: 'jp-Icon', icon: props.rightIcon })) })));
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_blueprintjs_core_lib_cjs_components_forms_inputGroup__WEBPACK_IMPORTED_MODULE_4__["InputGroup"], Object.assign({}, props, { className: Object(_utils__WEBPACK_IMPORTED_MODULE_7__["classes"])(props.className, 'jp-InputGroup') })));
};
const Collapse = (props) => (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_blueprintjs_core_lib_cjs_components_collapse_collapse__WEBPACK_IMPORTED_MODULE_3__["Collapse"], Object.assign({}, props)));
const Select = (props) => (react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_blueprintjs_select_lib_cjs_components_select_select__WEBPACK_IMPORTED_MODULE_5__["Select"], Object.assign({}, props, { className: Object(_utils__WEBPACK_IMPORTED_MODULE_7__["classes"])(props.className, 'jp-Select') })));
//# sourceMappingURL=blueprint.js.map

/***/ }),

/***/ "q2/4":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/session/manager.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const algorithm_1 = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
const polling_1 = __webpack_require__(/*! @lumino/polling */ "iePd");
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
const basemanager_1 = __webpack_require__(/*! ../basemanager */ "38F2");
const default_1 = __webpack_require__(/*! ./default */ "0B+A");
const restapi_1 = __webpack_require__(/*! ./restapi */ "bNYJ");
/**
 * An implementation of a session manager.
 */
class SessionManager extends basemanager_1.BaseManager {
    /**
     * Construct a new session manager.
     *
     * @param options - The default options for each session.
     */
    constructor(options) {
        var _a;
        super(options);
        this._isReady = false;
        this._sessionConnections = new Set();
        this._models = new Map();
        this._runningChanged = new signaling_1.Signal(this);
        this._connectionFailure = new signaling_1.Signal(this);
        // We define these here so they bind `this` correctly
        this._connectToKernel = (options) => {
            return this._kernelManager.connectTo(options);
        };
        this._kernelManager = options.kernelManager;
        // Start model polling with exponential backoff.
        this._pollModels = new polling_1.Poll({
            auto: false,
            factory: () => this.requestRunning(),
            frequency: {
                interval: 10 * 1000,
                backoff: true,
                max: 300 * 1000
            },
            name: `@jupyterlab/services:SessionManager#models`,
            standby: (_a = options.standby, (_a !== null && _a !== void 0 ? _a : 'when-hidden'))
        });
        // Initialize internal data.
        this._ready = (async () => {
            await this._pollModels.start();
            await this._pollModels.tick;
            await this._kernelManager.ready;
            this._isReady = true;
        })();
    }
    /**
     * Test whether the manager is ready.
     */
    get isReady() {
        return this._isReady;
    }
    /**
     * A promise that fulfills when the manager is ready.
     */
    get ready() {
        return this._ready;
    }
    /**
     * A signal emitted when the running sessions change.
     */
    get runningChanged() {
        return this._runningChanged;
    }
    /**
     * A signal emitted when there is a connection failure.
     */
    get connectionFailure() {
        return this._connectionFailure;
    }
    /**
     * Dispose of the resources used by the manager.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._models.clear();
        this._sessionConnections.forEach(x => x.dispose());
        this._pollModels.dispose();
        super.dispose();
    }
    /*
     * Connect to a running session.  See also [[connectToSession]].
     */
    connectTo(options) {
        const sessionConnection = new default_1.SessionConnection(Object.assign(Object.assign({}, options), { connectToKernel: this._connectToKernel, serverSettings: this.serverSettings }));
        this._onStarted(sessionConnection);
        if (!this._models.has(options.model.id)) {
            // We trust the user to connect to an existing session, but we verify
            // asynchronously.
            void this.refreshRunning().catch(() => {
                /* no-op */
            });
        }
        return sessionConnection;
    }
    /**
     * Create an iterator over the most recent running sessions.
     *
     * @returns A new iterator over the running sessions.
     */
    running() {
        return algorithm_1.iter([...this._models.values()]);
    }
    /**
     * Force a refresh of the running sessions.
     *
     * @returns A promise that with the list of running sessions.
     *
     * #### Notes
     * This is not typically meant to be called by the user, since the
     * manager maintains its own internal state.
     */
    async refreshRunning() {
        await this._pollModels.refresh();
        await this._pollModels.tick;
    }
    /**
     * Start a new session.  See also [[startNewSession]].
     *
     * @param createOptions - Options for creating the session
     *
     * @param connectOptions - Options for connecting to the session
     */
    async startNew(createOptions, connectOptions = {}) {
        const model = await restapi_1.startSession(createOptions, this.serverSettings);
        await this.refreshRunning();
        return this.connectTo(Object.assign(Object.assign({}, connectOptions), { model }));
    }
    /**
     * Shut down a session by id.
     */
    async shutdown(id) {
        await restapi_1.shutdownSession(id, this.serverSettings);
        await this.refreshRunning();
    }
    /**
     * Shut down all sessions.
     *
     * @returns A promise that resolves when all of the kernels are shut down.
     */
    async shutdownAll() {
        // Update the list of models to make sure our list is current.
        await this.refreshRunning();
        // Shut down all models.
        await Promise.all([...this._models.keys()].map(id => restapi_1.shutdownSession(id, this.serverSettings)));
        // Update the list of models to clear out our state.
        await this.refreshRunning();
    }
    /**
     * Find a session associated with a path and stop it if it is the only session
     * using that kernel.
     *
     * @param path - The path in question.
     *
     * @returns A promise that resolves when the relevant sessions are stopped.
     */
    async stopIfNeeded(path) {
        try {
            const sessions = await restapi_1.listRunning(this.serverSettings);
            const matches = sessions.filter(value => value.path === path);
            if (matches.length === 1) {
                const id = matches[0].id;
                await this.shutdown(id);
            }
        }
        catch (error) {
            /* Always succeed. */
        }
    }
    /**
     * Find a session by id.
     */
    async findById(id) {
        if (this._models.has(id)) {
            return this._models.get(id);
        }
        await this.refreshRunning();
        return this._models.get(id);
    }
    /**
     * Find a session by path.
     */
    async findByPath(path) {
        for (let m of this._models.values()) {
            if (m.path === path) {
                return m;
            }
        }
        await this.refreshRunning();
        for (let m of this._models.values()) {
            if (m.path === path) {
                return m;
            }
        }
        return undefined;
    }
    /**
     * Execute a request to the server to poll running kernels and update state.
     */
    async requestRunning() {
        var _a;
        let models;
        try {
            models = await restapi_1.listRunning(this.serverSettings);
        }
        catch (err) {
            // Check for a network error, or a 503 error, which is returned
            // by a JupyterHub when a server is shut down.
            if (err instanceof serverconnection_1.ServerConnection.NetworkError ||
                ((_a = err.response) === null || _a === void 0 ? void 0 : _a.status) === 503) {
                this._connectionFailure.emit(err);
            }
            throw err;
        }
        if (this.isDisposed) {
            return;
        }
        if (this._models.size === models.length &&
            algorithm_1.every(models, x => coreutils_1.JSONExt.deepEqual(this._models.get(x.id), x))) {
            // Identical models list (presuming models does not contain duplicate
            // ids), so just return
            return;
        }
        this._models = new Map(models.map(x => [x.id, x]));
        this._sessionConnections.forEach(sc => {
            if (this._models.has(sc.id)) {
                sc.update(this._models.get(sc.id));
            }
            else {
                sc.dispose();
            }
        });
        this._runningChanged.emit(models);
    }
    /**
     * Handle a session starting.
     */
    _onStarted(sessionConnection) {
        this._sessionConnections.add(sessionConnection);
        sessionConnection.disposed.connect(this._onDisposed, this);
        sessionConnection.propertyChanged.connect(this._onChanged, this);
        sessionConnection.kernelChanged.connect(this._onChanged, this);
    }
    _onDisposed(sessionConnection) {
        this._sessionConnections.delete(sessionConnection);
        // A session termination emission could mean the server session is deleted,
        // or that the session JS object is disposed and the session still exists on
        // the server, so we refresh from the server to make sure we reflect the
        // server state.
        void this.refreshRunning().catch(() => {
            /* no-op */
        });
    }
    _onChanged() {
        void this.refreshRunning().catch(() => {
            /* no-op */
        });
    }
}
exports.SessionManager = SessionManager;
//# sourceMappingURL=manager.js.map

/***/ }),

/***/ "qECz":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docregistry/lib/registry.js ***!
  \*******************************************************************************************/
/*! exports provided: DocumentRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentRegistry", function() { return DocumentRegistry; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
/* harmony import */ var _default__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./default */ "bt++");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.






/**
 * The document registry.
 */
class DocumentRegistry {
    /**
     * Construct a new document registry.
     */
    constructor(options = {}) {
        this._modelFactories = Object.create(null);
        this._widgetFactories = Object.create(null);
        this._defaultWidgetFactory = '';
        this._defaultWidgetFactoryOverrides = Object.create(null);
        this._defaultWidgetFactories = Object.create(null);
        this._defaultRenderedWidgetFactories = Object.create(null);
        this._widgetFactoriesForFileType = Object.create(null);
        this._fileTypes = [];
        this._extenders = Object.create(null);
        this._changed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__["Signal"](this);
        this._isDisposed = false;
        let factory = options.textModelFactory;
        if (factory && factory.name !== 'text') {
            throw new Error('Text model factory must have the name `text`');
        }
        this._modelFactories['text'] = factory || new _default__WEBPACK_IMPORTED_MODULE_5__["TextModelFactory"]();
        let fts = options.initialFileTypes || DocumentRegistry.defaultFileTypes;
        fts.forEach(ft => {
            let value = Object.assign(Object.assign({}, DocumentRegistry.fileTypeDefaults), ft);
            this._fileTypes.push(value);
        });
    }
    /**
     * A signal emitted when the registry has changed.
     */
    get changed() {
        return this._changed;
    }
    /**
     * Get whether the document registry has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the document registery.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        for (let modelName in this._modelFactories) {
            this._modelFactories[modelName].dispose();
        }
        for (let widgetName in this._widgetFactories) {
            this._widgetFactories[widgetName].dispose();
        }
        for (let widgetName in this._extenders) {
            this._extenders[widgetName].length = 0;
        }
        this._fileTypes.length = 0;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_2__["Signal"].clearData(this);
    }
    /**
     * Add a widget factory to the registry.
     *
     * @param factory - The factory instance to register.
     *
     * @returns A disposable which will unregister the factory.
     *
     * #### Notes
     * If a factory with the given `'name'` is already registered,
     * a warning will be logged, and this will be a no-op.
     * If `'*'` is given as a default extension, the factory will be registered
     * as the global default.
     * If an extension or global default is already registered, this factory
     * will override the existing default.
     * The factory cannot be named an empty string or the string `'default'`.
     */
    addWidgetFactory(factory) {
        let name = factory.name.toLowerCase();
        if (!name || name === 'default') {
            throw Error('Invalid factory name');
        }
        if (this._widgetFactories[name]) {
            console.warn(`Duplicate registered factory ${name}`);
            return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](Private.noOp);
        }
        this._widgetFactories[name] = factory;
        for (let ft of factory.defaultFor || []) {
            if (factory.fileTypes.indexOf(ft) === -1) {
                continue;
            }
            if (ft === '*') {
                this._defaultWidgetFactory = name;
            }
            else {
                this._defaultWidgetFactories[ft] = name;
            }
        }
        for (let ft of factory.defaultRendered || []) {
            if (factory.fileTypes.indexOf(ft) === -1) {
                continue;
            }
            this._defaultRenderedWidgetFactories[ft] = name;
        }
        // For convenience, store a mapping of file type name -> name
        for (let ft of factory.fileTypes) {
            if (!this._widgetFactoriesForFileType[ft]) {
                this._widgetFactoriesForFileType[ft] = [];
            }
            this._widgetFactoriesForFileType[ft].push(name);
        }
        this._changed.emit({
            type: 'widgetFactory',
            name,
            change: 'added'
        });
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](() => {
            delete this._widgetFactories[name];
            if (this._defaultWidgetFactory === name) {
                this._defaultWidgetFactory = '';
            }
            for (let ext of Object.keys(this._defaultWidgetFactories)) {
                if (this._defaultWidgetFactories[ext] === name) {
                    delete this._defaultWidgetFactories[ext];
                }
            }
            for (let ext of Object.keys(this._defaultRenderedWidgetFactories)) {
                if (this._defaultRenderedWidgetFactories[ext] === name) {
                    delete this._defaultRenderedWidgetFactories[ext];
                }
            }
            for (let ext of Object.keys(this._widgetFactoriesForFileType)) {
                _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeFirstOf(this._widgetFactoriesForFileType[ext], name);
                if (this._widgetFactoriesForFileType[ext].length === 0) {
                    delete this._widgetFactoriesForFileType[ext];
                }
            }
            for (let ext of Object.keys(this._defaultWidgetFactoryOverrides)) {
                if (this._defaultWidgetFactoryOverrides[ext] === name) {
                    delete this._defaultWidgetFactoryOverrides[ext];
                }
            }
            this._changed.emit({
                type: 'widgetFactory',
                name,
                change: 'removed'
            });
        });
    }
    /**
     * Add a model factory to the registry.
     *
     * @param factory - The factory instance.
     *
     * @returns A disposable which will unregister the factory.
     *
     * #### Notes
     * If a factory with the given `name` is already registered, or
     * the given factory is already registered, a warning will be logged
     * and this will be a no-op.
     */
    addModelFactory(factory) {
        let name = factory.name.toLowerCase();
        if (this._modelFactories[name]) {
            console.warn(`Duplicate registered factory ${name}`);
            return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](Private.noOp);
        }
        this._modelFactories[name] = factory;
        this._changed.emit({
            type: 'modelFactory',
            name,
            change: 'added'
        });
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](() => {
            delete this._modelFactories[name];
            this._changed.emit({
                type: 'modelFactory',
                name,
                change: 'removed'
            });
        });
    }
    /**
     * Add a widget extension to the registry.
     *
     * @param widgetName - The name of the widget factory.
     *
     * @param extension - A widget extension.
     *
     * @returns A disposable which will unregister the extension.
     *
     * #### Notes
     * If the extension is already registered for the given
     * widget name, a warning will be logged and this will be a no-op.
     */
    addWidgetExtension(widgetName, extension) {
        widgetName = widgetName.toLowerCase();
        if (!(widgetName in this._extenders)) {
            this._extenders[widgetName] = [];
        }
        let extenders = this._extenders[widgetName];
        let index = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].firstIndexOf(extenders, extension);
        if (index !== -1) {
            console.warn(`Duplicate registered extension for ${widgetName}`);
            return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](Private.noOp);
        }
        this._extenders[widgetName].push(extension);
        this._changed.emit({
            type: 'widgetExtension',
            name: widgetName,
            change: 'added'
        });
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](() => {
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeFirstOf(this._extenders[widgetName], extension);
            this._changed.emit({
                type: 'widgetExtension',
                name: widgetName,
                change: 'removed'
            });
        });
    }
    /**
     * Add a file type to the document registry.
     *
     * @params fileType - The file type object to register.
     *
     * @returns A disposable which will unregister the command.
     *
     * #### Notes
     * These are used to populate the "Create New" dialog.
     */
    addFileType(fileType) {
        let value = Object.assign(Object.assign({}, DocumentRegistry.fileTypeDefaults), fileType);
        this._fileTypes.push(value);
        this._changed.emit({
            type: 'fileType',
            name: value.name,
            change: 'added'
        });
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](() => {
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeFirstOf(this._fileTypes, value);
            this._changed.emit({
                type: 'fileType',
                name: fileType.name,
                change: 'removed'
            });
        });
    }
    /**
     * Get a list of the preferred widget factories.
     *
     * @param path - The file path to filter the results.
     *
     * @returns A new array of widget factories.
     *
     * #### Notes
     * Only the widget factories whose associated model factory have
     * been registered will be returned.
     * The first item is considered the default. The returned array
     * has widget factories in the following order:
     * - path-specific default factory
     * - path-specific default rendered factory
     * - global default factory
     * - all other path-specific factories
     * - all other global factories
     */
    preferredWidgetFactories(path) {
        let factories = new Set();
        // Get the ordered matching file types.
        let fts = this.getFileTypesForPath(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3__["PathExt"].basename(path));
        // Start with any user overrides for the defaults.
        fts.forEach(ft => {
            if (ft.name in this._defaultWidgetFactoryOverrides) {
                factories.add(this._defaultWidgetFactoryOverrides[ft.name]);
            }
        });
        // Next add the file type default factories.
        fts.forEach(ft => {
            if (ft.name in this._defaultWidgetFactories) {
                factories.add(this._defaultWidgetFactories[ft.name]);
            }
        });
        // Add the file type default rendered factories.
        fts.forEach(ft => {
            if (ft.name in this._defaultRenderedWidgetFactories) {
                factories.add(this._defaultRenderedWidgetFactories[ft.name]);
            }
        });
        // Add the global default factory.
        if (this._defaultWidgetFactory) {
            factories.add(this._defaultWidgetFactory);
        }
        // Add the file type factories in registration order.
        fts.forEach(ft => {
            if (ft.name in this._widgetFactoriesForFileType) {
                Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(this._widgetFactoriesForFileType[ft.name], n => {
                    factories.add(n);
                });
            }
        });
        // Add the rest of the global factories, in registration order.
        if ('*' in this._widgetFactoriesForFileType) {
            Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(this._widgetFactoriesForFileType['*'], n => {
                factories.add(n);
            });
        }
        // Construct the return list, checking to make sure the corresponding
        // model factories are registered.
        let factoryList = [];
        factories.forEach(name => {
            let factory = this._widgetFactories[name];
            if (!factory) {
                return;
            }
            let modelName = factory.modelName || 'text';
            if (modelName in this._modelFactories) {
                factoryList.push(factory);
            }
        });
        return factoryList;
    }
    /**
     * Get the default rendered widget factory for a path.
     *
     * @param path - The path to for which to find a widget factory.
     *
     * @returns The default rendered widget factory for the path.
     *
     * ### Notes
     * If the widget factory has registered a separate set of `defaultRendered`
     * file types and there is a match in that set, this returns that.
     * Otherwise, this returns the same widget factory as
     * [[defaultWidgetFactory]].
     */
    defaultRenderedWidgetFactory(path) {
        // Get the matching file types.
        let fts = this.getFileTypesForPath(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3__["PathExt"].basename(path));
        let factory = undefined;
        // Find if a there is a default rendered factory for this type.
        for (let ft of fts) {
            if (ft.name in this._defaultRenderedWidgetFactories) {
                factory = this._widgetFactories[this._defaultRenderedWidgetFactories[ft.name]];
                break;
            }
        }
        return factory || this.defaultWidgetFactory(path);
    }
    /**
     * Get the default widget factory for a path.
     *
     * @param path - An optional file path to filter the results.
     *
     * @returns The default widget factory for an path.
     *
     * #### Notes
     * This is equivalent to the first value in [[preferredWidgetFactories]].
     */
    defaultWidgetFactory(path) {
        if (!path) {
            return this._widgetFactories[this._defaultWidgetFactory];
        }
        return this.preferredWidgetFactories(path)[0];
    }
    /**
     * Set overrides for the default widget factory for a file type.
     *
     * Normally, a widget factory informs the document registry which file types
     * it should be the default for using the `defaultFor` option in the
     * IWidgetFactoryOptions. This function can be used to override that after
     * the fact.
     *
     * @param fileType: The name of the file type.
     *
     * @param factory: The name of the factory.
     *
     * #### Notes
     * If `factory` is undefined, then any override will be unset, and the
     * default factory will revert to the original value.
     *
     * If `factory` or `fileType` are not known to the docregistry, or
     * if `factory` cannot open files of type `fileType`, this will throw
     * an error.
     */
    setDefaultWidgetFactory(fileType, factory) {
        fileType = fileType.toLowerCase();
        if (!this.getFileType(fileType)) {
            throw Error(`Cannot find file type ${fileType}`);
        }
        if (!factory) {
            if (this._defaultWidgetFactoryOverrides[fileType]) {
                delete this._defaultWidgetFactoryOverrides[fileType];
            }
            return;
        }
        if (!this.getWidgetFactory(factory)) {
            throw Error(`Cannot find widget factory ${factory}`);
        }
        factory = factory.toLowerCase();
        const factories = this._widgetFactoriesForFileType[fileType];
        if (factory !== this._defaultWidgetFactory &&
            !(factories && factories.includes(factory))) {
            throw Error(`Factory ${factory} cannot view file type ${fileType}`);
        }
        this._defaultWidgetFactoryOverrides[fileType] = factory;
    }
    /**
     * Create an iterator over the widget factories that have been registered.
     *
     * @returns A new iterator of widget factories.
     */
    widgetFactories() {
        return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["map"])(Object.keys(this._widgetFactories), name => {
            return this._widgetFactories[name];
        });
    }
    /**
     * Create an iterator over the model factories that have been registered.
     *
     * @returns A new iterator of model factories.
     */
    modelFactories() {
        return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["map"])(Object.keys(this._modelFactories), name => {
            return this._modelFactories[name];
        });
    }
    /**
     * Create an iterator over the registered extensions for a given widget.
     *
     * @param widgetName - The name of the widget factory.
     *
     * @returns A new iterator over the widget extensions.
     */
    widgetExtensions(widgetName) {
        widgetName = widgetName.toLowerCase();
        if (!(widgetName in this._extenders)) {
            return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["empty"])();
        }
        return new _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayIterator"](this._extenders[widgetName]);
    }
    /**
     * Create an iterator over the file types that have been registered.
     *
     * @returns A new iterator of file types.
     */
    fileTypes() {
        return new _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayIterator"](this._fileTypes);
    }
    /**
     * Get a widget factory by name.
     *
     * @param widgetName - The name of the widget factory.
     *
     * @returns A widget factory instance.
     */
    getWidgetFactory(widgetName) {
        return this._widgetFactories[widgetName.toLowerCase()];
    }
    /**
     * Get a model factory by name.
     *
     * @param name - The name of the model factory.
     *
     * @returns A model factory instance.
     */
    getModelFactory(name) {
        return this._modelFactories[name.toLowerCase()];
    }
    /**
     * Get a file type by name.
     */
    getFileType(name) {
        name = name.toLowerCase();
        return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["find"])(this._fileTypes, fileType => {
            return fileType.name.toLowerCase() === name;
        });
    }
    /**
     * Get a kernel preference.
     *
     * @param path - The file path.
     *
     * @param widgetName - The name of the widget factory.
     *
     * @param kernel - An optional existing kernel model.
     *
     * @returns A kernel preference.
     */
    getKernelPreference(path, widgetName, kernel) {
        widgetName = widgetName.toLowerCase();
        let widgetFactory = this._widgetFactories[widgetName];
        if (!widgetFactory) {
            return void 0;
        }
        let modelFactory = this.getModelFactory(widgetFactory.modelName || 'text');
        if (!modelFactory) {
            return void 0;
        }
        let language = modelFactory.preferredLanguage(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3__["PathExt"].basename(path));
        let name = kernel && kernel.name;
        let id = kernel && kernel.id;
        return {
            id,
            name,
            language,
            shouldStart: widgetFactory.preferKernel,
            canStart: widgetFactory.canStartKernel,
            shutdownOnDispose: widgetFactory.shutdownOnClose
        };
    }
    /**
     * Get the best file type given a contents model.
     *
     * @param model - The contents model of interest.
     *
     * @returns The best matching file type.
     */
    getFileTypeForModel(model) {
        switch (model.type) {
            case 'directory':
                return (Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["find"])(this._fileTypes, ft => ft.contentType === 'directory') ||
                    DocumentRegistry.defaultDirectoryFileType);
            case 'notebook':
                return (Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["find"])(this._fileTypes, ft => ft.contentType === 'notebook') ||
                    DocumentRegistry.defaultNotebookFileType);
            default:
                // Find the best matching extension.
                if (model.name || model.path) {
                    let name = model.name || _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3__["PathExt"].basename(model.path);
                    let fts = this.getFileTypesForPath(name);
                    if (fts.length > 0) {
                        return fts[0];
                    }
                }
                return this.getFileType('text') || DocumentRegistry.defaultTextFileType;
        }
    }
    /**
     * Get the file types that match a file name.
     *
     * @param path - The path of the file.
     *
     * @returns An ordered list of matching file types.
     */
    getFileTypesForPath(path) {
        let fts = [];
        let name = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3__["PathExt"].basename(path);
        // Look for a pattern match first.
        let ft = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["find"])(this._fileTypes, ft => {
            return !!(ft.pattern && ft.pattern.match(name) !== null);
        });
        if (ft) {
            fts.push(ft);
        }
        // Then look by extension name, starting with the longest
        let ext = Private.extname(name);
        while (ext.length > 1) {
            ft = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["find"])(this._fileTypes, ft => ft.extensions.indexOf(ext) !== -1);
            if (ft) {
                fts.push(ft);
            }
            ext =
                '.' +
                    ext
                        .split('.')
                        .slice(2)
                        .join('.');
        }
        return fts;
    }
}
/**
 * The namespace for the `DocumentRegistry` class statics.
 */
(function (DocumentRegistry) {
    /**
     * The defaults used for a file type.
     */
    DocumentRegistry.fileTypeDefaults = {
        name: 'default',
        extensions: [],
        mimeTypes: [],
        contentType: 'file',
        fileFormat: 'text'
    };
    /**
     * The default text file type used by the document registry.
     */
    DocumentRegistry.defaultTextFileType = Object.assign(Object.assign({}, DocumentRegistry.fileTypeDefaults), { name: 'text', mimeTypes: ['text/plain'], extensions: ['.txt'], icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["fileIcon"] });
    /**
     * The default notebook file type used by the document registry.
     */
    DocumentRegistry.defaultNotebookFileType = Object.assign(Object.assign({}, DocumentRegistry.fileTypeDefaults), { name: 'notebook', displayName: 'Notebook', mimeTypes: ['application/x-ipynb+json'], extensions: ['.ipynb'], contentType: 'notebook', fileFormat: 'json', icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["notebookIcon"] });
    /**
     * The default directory file type used by the document registry.
     */
    DocumentRegistry.defaultDirectoryFileType = Object.assign(Object.assign({}, DocumentRegistry.fileTypeDefaults), { name: 'directory', extensions: [], mimeTypes: ['text/directory'], contentType: 'directory', icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["folderIcon"] });
    /**
     * The default file types used by the document registry.
     */
    DocumentRegistry.defaultFileTypes = [
        DocumentRegistry.defaultTextFileType,
        DocumentRegistry.defaultNotebookFileType,
        DocumentRegistry.defaultDirectoryFileType,
        {
            name: 'markdown',
            displayName: 'Markdown File',
            extensions: ['.md'],
            mimeTypes: ['text/markdown'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["markdownIcon"]
        },
        {
            name: 'python',
            displayName: 'Python File',
            extensions: ['.py'],
            mimeTypes: ['text/x-python'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["pythonIcon"]
        },
        {
            name: 'json',
            displayName: 'JSON File',
            extensions: ['.json'],
            mimeTypes: ['application/json'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["jsonIcon"]
        },
        {
            name: 'csv',
            displayName: 'CSV File',
            extensions: ['.csv'],
            mimeTypes: ['text/csv'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["spreadsheetIcon"]
        },
        {
            name: 'tsv',
            displayName: 'TSV File',
            extensions: ['.tsv'],
            mimeTypes: ['text/csv'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["spreadsheetIcon"]
        },
        {
            name: 'r',
            displayName: 'R File',
            mimeTypes: ['text/x-rsrc'],
            extensions: ['.r'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["rKernelIcon"]
        },
        {
            name: 'yaml',
            displayName: 'YAML File',
            mimeTypes: ['text/x-yaml', 'text/yaml'],
            extensions: ['.yaml', '.yml'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["yamlIcon"]
        },
        {
            name: 'svg',
            displayName: 'Image',
            mimeTypes: ['image/svg+xml'],
            extensions: ['.svg'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["imageIcon"],
            fileFormat: 'base64'
        },
        {
            name: 'tiff',
            displayName: 'Image',
            mimeTypes: ['image/tiff'],
            extensions: ['.tif', '.tiff'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["imageIcon"],
            fileFormat: 'base64'
        },
        {
            name: 'jpeg',
            displayName: 'Image',
            mimeTypes: ['image/jpeg'],
            extensions: ['.jpg', '.jpeg'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["imageIcon"],
            fileFormat: 'base64'
        },
        {
            name: 'gif',
            displayName: 'Image',
            mimeTypes: ['image/gif'],
            extensions: ['.gif'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["imageIcon"],
            fileFormat: 'base64'
        },
        {
            name: 'png',
            displayName: 'Image',
            mimeTypes: ['image/png'],
            extensions: ['.png'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["imageIcon"],
            fileFormat: 'base64'
        },
        {
            name: 'bmp',
            displayName: 'Image',
            mimeTypes: ['image/bmp'],
            extensions: ['.bmp'],
            icon: _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_4__["imageIcon"],
            fileFormat: 'base64'
        }
    ];
})(DocumentRegistry || (DocumentRegistry = {}));
/**
 * A private namespace for DocumentRegistry data.
 */
var Private;
(function (Private) {
    /**
     * Get the extension name of a path.
     *
     * @param file - string.
     *
     * #### Notes
     * Dotted filenames (e.g. `".table.json"` are allowed).
     */
    function extname(path) {
        let parts = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_3__["PathExt"].basename(path).split('.');
        parts.shift();
        let ext = '.' + parts.join('.');
        return ext.toLowerCase();
    }
    Private.extname = extname;
    /**
     * A no-op function.
     */
    function noOp() {
        /* no-op */
    }
    Private.noOp = noOp;
})(Private || (Private = {}));
//# sourceMappingURL=registry.js.map

/***/ }),

/***/ "qKD/":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/observables/lib/observablelist.js ***!
  \*************************************************************************************************/
/*! exports provided: ObservableList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ObservableList", function() { return ObservableList; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_1__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.


/**
 * A concrete implementation of [[IObservableList]].
 */
class ObservableList {
    /**
     * Construct a new observable map.
     */
    constructor(options = {}) {
        this._array = [];
        this._isDisposed = false;
        this._changed = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"](this);
        if (options.values !== void 0) {
            Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(options.values, value => {
                this._array.push(value);
            });
        }
        this._itemCmp = options.itemCmp || Private.itemCmp;
    }
    /**
     * The type of this object.
     */
    get type() {
        return 'List';
    }
    /**
     * A signal emitted when the list has changed.
     */
    get changed() {
        return this._changed;
    }
    /**
     * The length of the list.
     */
    get length() {
        return this._array.length;
    }
    /**
     * Test whether the list has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the list.
     */
    dispose() {
        if (this._isDisposed) {
            return;
        }
        this._isDisposed = true;
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_1__["Signal"].clearData(this);
        this.clear();
    }
    /**
     * Create an iterator over the values in the list.
     *
     * @returns A new iterator starting at the front of the list.
     *
     * #### Complexity
     * Constant.
     *
     * #### Iterator Validity
     * No changes.
     */
    iter() {
        return new _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayIterator"](this._array);
    }
    /**
     * Get the value at the specified index.
     *
     * @param index - The positive integer index of interest.
     *
     * @returns The value at the specified index.
     *
     * #### Undefined Behavior
     * An `index` which is non-integral or out of range.
     */
    get(index) {
        return this._array[index];
    }
    /**
     * Set the value at the specified index.
     *
     * @param index - The positive integer index of interest.
     *
     * @param value - The value to set at the specified index.
     *
     * #### Complexity
     * Constant.
     *
     * #### Iterator Validity
     * No changes.
     *
     * #### Undefined Behavior
     * An `index` which is non-integral or out of range.
     */
    set(index, value) {
        let oldValue = this._array[index];
        if (value === undefined) {
            throw new Error('Cannot set an undefined item');
        }
        // Bail if the value does not change.
        let itemCmp = this._itemCmp;
        if (itemCmp(oldValue, value)) {
            return;
        }
        this._array[index] = value;
        this._changed.emit({
            type: 'set',
            oldIndex: index,
            newIndex: index,
            oldValues: [oldValue],
            newValues: [value]
        });
    }
    /**
     * Add a value to the end of the list.
     *
     * @param value - The value to add to the end of the list.
     *
     * @returns The new length of the list.
     *
     * #### Complexity
     * Constant.
     *
     * #### Iterator Validity
     * No changes.
     */
    push(value) {
        let num = this._array.push(value);
        this._changed.emit({
            type: 'add',
            oldIndex: -1,
            newIndex: this.length - 1,
            oldValues: [],
            newValues: [value]
        });
        return num;
    }
    /**
     * Insert a value into the list at a specific index.
     *
     * @param index - The index at which to insert the value.
     *
     * @param value - The value to set at the specified index.
     *
     * #### Complexity
     * Linear.
     *
     * #### Iterator Validity
     * No changes.
     *
     * #### Notes
     * The `index` will be clamped to the bounds of the list.
     *
     * #### Undefined Behavior
     * An `index` which is non-integral.
     */
    insert(index, value) {
        _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].insert(this._array, index, value);
        this._changed.emit({
            type: 'add',
            oldIndex: -1,
            newIndex: index,
            oldValues: [],
            newValues: [value]
        });
    }
    /**
     * Remove the first occurrence of a value from the list.
     *
     * @param value - The value of interest.
     *
     * @returns The index of the removed value, or `-1` if the value
     *   is not contained in the list.
     *
     * #### Complexity
     * Linear.
     *
     * #### Iterator Validity
     * Iterators pointing at the removed value and beyond are invalidated.
     */
    removeValue(value) {
        let itemCmp = this._itemCmp;
        let index = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].findFirstIndex(this._array, item => {
            return itemCmp(item, value);
        });
        this.remove(index);
        return index;
    }
    /**
     * Remove and return the value at a specific index.
     *
     * @param index - The index of the value of interest.
     *
     * @returns The value at the specified index, or `undefined` if the
     *   index is out of range.
     *
     * #### Complexity
     * Constant.
     *
     * #### Iterator Validity
     * Iterators pointing at the removed value and beyond are invalidated.
     *
     * #### Undefined Behavior
     * An `index` which is non-integral.
     */
    remove(index) {
        let value = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeAt(this._array, index);
        if (value === undefined) {
            return;
        }
        this._changed.emit({
            type: 'remove',
            oldIndex: index,
            newIndex: -1,
            newValues: [],
            oldValues: [value]
        });
        return value;
    }
    /**
     * Remove all values from the list.
     *
     * #### Complexity
     * Linear.
     *
     * #### Iterator Validity
     * All current iterators are invalidated.
     */
    clear() {
        let copy = this._array.slice();
        this._array.length = 0;
        this._changed.emit({
            type: 'remove',
            oldIndex: 0,
            newIndex: 0,
            newValues: [],
            oldValues: copy
        });
    }
    /**
     * Move a value from one index to another.
     *
     * @parm fromIndex - The index of the element to move.
     *
     * @param toIndex - The index to move the element to.
     *
     * #### Complexity
     * Constant.
     *
     * #### Iterator Validity
     * Iterators pointing at the lesser of the `fromIndex` and the `toIndex`
     * and beyond are invalidated.
     *
     * #### Undefined Behavior
     * A `fromIndex` or a `toIndex` which is non-integral.
     */
    move(fromIndex, toIndex) {
        if (this.length <= 1 || fromIndex === toIndex) {
            return;
        }
        let values = [this._array[fromIndex]];
        _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].move(this._array, fromIndex, toIndex);
        this._changed.emit({
            type: 'move',
            oldIndex: fromIndex,
            newIndex: toIndex,
            oldValues: values,
            newValues: values
        });
    }
    /**
     * Push a set of values to the back of the list.
     *
     * @param values - An iterable or array-like set of values to add.
     *
     * @returns The new length of the list.
     *
     * #### Complexity
     * Linear.
     *
     * #### Iterator Validity
     * No changes.
     */
    pushAll(values) {
        let newIndex = this.length;
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(values, value => {
            this._array.push(value);
        });
        this._changed.emit({
            type: 'add',
            oldIndex: -1,
            newIndex,
            oldValues: [],
            newValues: Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["toArray"])(values)
        });
        return this.length;
    }
    /**
     * Insert a set of items into the list at the specified index.
     *
     * @param index - The index at which to insert the values.
     *
     * @param values - The values to insert at the specified index.
     *
     * #### Complexity.
     * Linear.
     *
     * #### Iterator Validity
     * No changes.
     *
     * #### Notes
     * The `index` will be clamped to the bounds of the list.
     *
     * #### Undefined Behavior.
     * An `index` which is non-integral.
     */
    insertAll(index, values) {
        let newIndex = index;
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["each"])(values, value => {
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].insert(this._array, index++, value);
        });
        this._changed.emit({
            type: 'add',
            oldIndex: -1,
            newIndex,
            oldValues: [],
            newValues: Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["toArray"])(values)
        });
    }
    /**
     * Remove a range of items from the list.
     *
     * @param startIndex - The start index of the range to remove (inclusive).
     *
     * @param endIndex - The end index of the range to remove (exclusive).
     *
     * @returns The new length of the list.
     *
     * #### Complexity
     * Linear.
     *
     * #### Iterator Validity
     * Iterators pointing to the first removed value and beyond are invalid.
     *
     * #### Undefined Behavior
     * A `startIndex` or `endIndex` which is non-integral.
     */
    removeRange(startIndex, endIndex) {
        let oldValues = this._array.slice(startIndex, endIndex);
        for (let i = startIndex; i < endIndex; i++) {
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].removeAt(this._array, startIndex);
        }
        this._changed.emit({
            type: 'remove',
            oldIndex: startIndex,
            newIndex: -1,
            oldValues,
            newValues: []
        });
        return this.length;
    }
}
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    /**
     * The default strict equality item cmp.
     */
    function itemCmp(first, second) {
        return first === second;
    }
    Private.itemCmp = itemCmp;
})(Private || (Private = {}));
//# sourceMappingURL=observablelist.js.map

/***/ }),

/***/ "qPH0":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/settingregistry/lib/tokens.js ***!
  \*********************************************************************************************/
/*! exports provided: ISettingRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ISettingRegistry", function() { return ISettingRegistry; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* tslint:disable */
/**
 * The setting registry token.
 */
const ISettingRegistry = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/coreutils:ISettingRegistry');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "qX8I":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/commandpalette.css ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*-----------------------------------------------------------------------------\n| Variables\n|----------------------------------------------------------------------------*/\n\n:root {\n  --jp-private-commandpalette-search-height: 28px;\n}\n\n/*-----------------------------------------------------------------------------\n| Overall styles\n|----------------------------------------------------------------------------*/\n\n.lm-CommandPalette {\n  padding-bottom: 0px;\n  color: var(--jp-ui-font-color1);\n  background: var(--jp-layout-color1);\n  /* This is needed so that all font sizing of children done in ems is\n   * relative to this base size */\n  font-size: var(--jp-ui-font-size1);\n}\n\n/*-----------------------------------------------------------------------------\n| Search\n|----------------------------------------------------------------------------*/\n\n.lm-CommandPalette-search {\n  padding: 4px;\n  background-color: var(--jp-layout-color1);\n  z-index: 2;\n}\n\n.lm-CommandPalette-wrapper {\n  overflow: overlay;\n  padding: 0px 9px;\n  background-color: var(--jp-input-active-background);\n  height: 30px;\n  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);\n}\n\n.lm-CommandPalette.lm-mod-focused .lm-CommandPalette-wrapper {\n  box-shadow: inset 0 0 0 1px var(--jp-input-active-box-shadow-color),\n    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);\n}\n\n.lm-CommandPalette-wrapper::after {\n  content: ' ';\n  color: white;\n  background-color: var(--jp-brand-color1);\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  height: 30px;\n  width: 10px;\n  padding: 0px 10px;\n  background-image: var(--jp-icon-search-white);\n  background-size: 20px;\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.lm-CommandPalette-input {\n  background: transparent;\n  width: calc(100% - 18px);\n  float: left;\n  border: none;\n  outline: none;\n  font-size: var(--jp-ui-font-size1);\n  color: var(--jp-ui-font-color0);\n  line-height: var(--jp-private-commandpalette-search-height);\n}\n\n.lm-CommandPalette-input::-webkit-input-placeholder,\n.lm-CommandPalette-input::-moz-placeholder,\n.lm-CommandPalette-input:-ms-input-placeholder {\n  color: var(--jp-ui-font-color3);\n  font-size: var(--jp-ui-font-size1);\n}\n\n/*-----------------------------------------------------------------------------\n| Results\n|----------------------------------------------------------------------------*/\n\n.lm-CommandPalette-header:first-child {\n  margin-top: 0px;\n}\n\n.lm-CommandPalette-header {\n  margin-top: 8px;\n  padding: 8px 0 8px 12px;\n  color: var(--jp-ui-font-color1);\n  font-size: var(--jp-ui-font-size0);\n  font-weight: 600;\n  cursor: pointer;\n  text-transform: uppercase;\n  border-bottom: solid var(--jp-border-width) var(--jp-border-color2);\n  letter-spacing: 1px;\n}\n\n.lm-CommandPalette-header.lm-mod-active {\n  background: var(--jp-layout-color2);\n}\n\n.lm-CommandPalette-header:hover::after {\n  content: '';\n  min-width: 12px;\n  min-height: 12px;\n  background-size: 14px;\n  margin-right: 16px;\n  float: right;\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-image: var(--jp-icon-filter-list);\n}\n\n.lm-CommandPalette-header > mark {\n  background-color: transparent;\n  font-weight: bold;\n  color: var(--jp-ui-font-color1);\n}\n\n.lm-CommandPalette-item {\n  padding: 4px 12px 4px 4px;\n  color: var(--jp-ui-font-color1);\n  font-size: var(--jp-ui-font-size1);\n  font-weight: 400;\n  display: flex;\n}\n\n.lm-CommandPalette-item.lm-mod-disabled {\n  color: var(--jp-ui-font-color3);\n}\n\n.lm-CommandPalette-item.lm-mod-active {\n  background: var(--jp-layout-color3);\n}\n\n.lm-CommandPalette-item.lm-mod-active:hover:not(.lm-mod-disabled) {\n  background: var(--jp-layout-color4);\n}\n\n.lm-CommandPalette-item:hover:not(.lm-mod-active):not(.lm-mod-disabled) {\n  background: var(--jp-layout-color2);\n}\n\n.lm-CommandPalette-itemContent {\n  overflow: hidden;\n}\n\n.lm-CommandPalette-itemLabel > mark {\n  color: var(--jp-ui-font-color0);\n  background-color: transparent;\n  font-weight: bold;\n}\n\n.lm-CommandPalette-item.lm-mod-disabled mark {\n  color: var(--jp-ui-font-color3);\n}\n\n.lm-CommandPalette-item.lm-mod-toggled .lm-CommandPalette-itemIcon {\n  background-image: var(--jp-icon-check);\n  background-size: 16px;\n  background-repeat: no-repeat;\n}\n\n.lm-CommandPalette-item .lm-CommandPalette-itemIcon {\n  padding: 0px 0px 0px 4px;\n  position: relative;\n  width: 16px;\n  top: 2px;\n  flex: 0 0 auto;\n}\n\n.lm-CommandPalette-item.lm-mod-disabled .lm-CommandPalette-itemIcon {\n  opacity: 0.4;\n}\n\n.lm-CommandPalette-item .lm-CommandPalette-itemShortcut {\n  flex: 0 0 auto;\n}\n\n.lm-CommandPalette-itemCaption {\n  display: none;\n}\n\n.lm-CommandPalette-content {\n  background-color: var(--jp-layout-color1);\n}\n\n.lm-CommandPalette-content:empty:after {\n  content: 'No results';\n  margin: auto;\n  margin-top: 20px;\n  width: 100px;\n  display: block;\n  font-size: var(--jp-ui-font-size2);\n  font-family: var(--jp-ui-font-family);\n  font-weight: lighter;\n}\n\n.lm-CommandPalette-emptyMessage {\n  text-align: center;\n  margin-top: 24px;\n  line-height: 1.32;\n  padding: 0px 8px;\n  color: var(--jp-content-font-color3);\n}\n", ""]);


/***/ }),

/***/ "qsQW":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/terminal/terminal.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const restapi_1 = __webpack_require__(/*! ./restapi */ "0c6o");
exports.isAvailable = restapi_1.isAvailable;
//# sourceMappingURL=terminal.js.map

/***/ }),

/***/ "quQ5":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/circle.svg ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 18 18' height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Ccircle cx='9' cy='9' r='8'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "quQ5j":
/*!************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/circle.svg ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 18 18\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <circle cx=\"9\" cy=\"9\" r=\"8\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "r4jb":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/vega.svg ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cg class='jp-icon1 jp-icon-selectable' fill='%23212121'%3E %3Cpolygon points='10.6,5.4 12.8,2.2 2.2,2.2 2.2,9.5 6.2,2.9 '/%3E %3Cpath d='M15.8,2.2l-4.4,6.6L7,6.3l-4.8,8v5.5h17.6V2.2H15.8z M8.8,17.6H5.5v-4.4h3.3V17.6z M13.2,17.6H9.8V9.8h3.4 V17.6z M17.6,17.6h-3.4V6.5h3.4V17.6z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "r4jbJ":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/vega.svg ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<g class=\"jp-icon1 jp-icon-selectable\" fill=\"#212121\">\n\t\t<polygon points=\"10.6,5.4 12.8,2.2 2.2,2.2 2.2,9.5 6.2,2.9 \t\"/>\n\t\t<path d=\"M15.8,2.2l-4.4,6.6L7,6.3l-4.8,8v5.5h17.6V2.2H15.8z M8.8,17.6H5.5v-4.4h3.3V17.6z M13.2,17.6H9.8V9.8h3.4 V17.6z M17.6,17.6h-3.4V6.5h3.4V17.6z\"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "rRp0":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/lib/style/index.js ***!
  \************************************************************************************************/
/*! exports provided: iconStyle, iconStyleFlat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./icon */ "5Nvm");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "iconStyle", function() { return _icon__WEBPACK_IMPORTED_MODULE_0__["iconStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "iconStyleFlat", function() { return _icon__WEBPACK_IMPORTED_MODULE_0__["iconStyleFlat"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

//# sourceMappingURL=index.js.map

/***/ }),

/***/ "rtzc":
/*!************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statedb/lib/index.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/
function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./dataconnector */ "zwmw"));
__export(__webpack_require__(/*! ./restorablepool */ "lkzW"));
__export(__webpack_require__(/*! ./statedb */ "v4NB"));
__export(__webpack_require__(/*! ./tokens */ "ZjPc"));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "rum8":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/debug/bad.svg ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n    <path\n        class=\"jp-icon0\"\n        fill=\"#000\"\n        d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"\n    />\n</svg>\n");

/***/ }),

/***/ "rygd":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codeeditor/lib/tokens.js ***!
  \****************************************************************************************/
/*! exports provided: IEditorServices */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IEditorServices", function() { return IEditorServices; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/* tslint:disable */
/**
 * Code editor services token.
 */
const IEditorServices = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/codeeditor:IEditorServices');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "s/ac":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/messages.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
function createMessage(options) {
    var _a, _b, _c, _d, _e;
    return {
        buffers: (_a = options.buffers, (_a !== null && _a !== void 0 ? _a : [])),
        channel: options.channel,
        content: options.content,
        header: {
            date: new Date().toISOString(),
            msg_id: (_b = options.msgId, (_b !== null && _b !== void 0 ? _b : coreutils_1.UUID.uuid4())),
            msg_type: options.msgType,
            session: options.session,
            username: (_c = options.username, (_c !== null && _c !== void 0 ? _c : '')),
            version: '5.2'
        },
        metadata: (_d = options.metadata, (_d !== null && _d !== void 0 ? _d : {})),
        parent_header: (_e = options.parentHeader, (_e !== null && _e !== void 0 ? _e : {}))
    };
}
exports.createMessage = createMessage;
/**
 * Test whether a kernel message is a `'stream'` message.
 */
function isStreamMsg(msg) {
    return msg.header.msg_type === 'stream';
}
exports.isStreamMsg = isStreamMsg;
/**
 * Test whether a kernel message is an `'display_data'` message.
 */
function isDisplayDataMsg(msg) {
    return msg.header.msg_type === 'display_data';
}
exports.isDisplayDataMsg = isDisplayDataMsg;
/**
 * Test whether a kernel message is an `'update_display_data'` message.
 */
function isUpdateDisplayDataMsg(msg) {
    return msg.header.msg_type === 'update_display_data';
}
exports.isUpdateDisplayDataMsg = isUpdateDisplayDataMsg;
/**
 * Test whether a kernel message is an `'execute_input'` message.
 */
function isExecuteInputMsg(msg) {
    return msg.header.msg_type === 'execute_input';
}
exports.isExecuteInputMsg = isExecuteInputMsg;
/**
 * Test whether a kernel message is an `'execute_result'` message.
 */
function isExecuteResultMsg(msg) {
    return msg.header.msg_type === 'execute_result';
}
exports.isExecuteResultMsg = isExecuteResultMsg;
/**
 * Test whether a kernel message is an `'error'` message.
 */
function isErrorMsg(msg) {
    return msg.header.msg_type === 'error';
}
exports.isErrorMsg = isErrorMsg;
/**
 * Test whether a kernel message is a `'status'` message.
 */
function isStatusMsg(msg) {
    return msg.header.msg_type === 'status';
}
exports.isStatusMsg = isStatusMsg;
/**
 * Test whether a kernel message is a `'clear_output'` message.
 */
function isClearOutputMsg(msg) {
    return msg.header.msg_type === 'clear_output';
}
exports.isClearOutputMsg = isClearOutputMsg;
/**
 * Test whether a kernel message is an experimental `'debug_event'` message.
 *
 * @hidden
 *
 * #### Notes
 * Debug messages are experimental messages that are not in the official
 * kernel message specification. As such, this is *NOT* considered
 * part of the public API, and may change without notice.
 */
function isDebugEventMsg(msg) {
    return msg.header.msg_type === 'debug_event';
}
exports.isDebugEventMsg = isDebugEventMsg;
/**
 * Test whether a kernel message is a `'comm_open'` message.
 */
function isCommOpenMsg(msg) {
    return msg.header.msg_type === 'comm_open';
}
exports.isCommOpenMsg = isCommOpenMsg;
/**
 * Test whether a kernel message is a `'comm_close'` message.
 */
function isCommCloseMsg(msg) {
    return msg.header.msg_type === 'comm_close';
}
exports.isCommCloseMsg = isCommCloseMsg;
/**
 * Test whether a kernel message is a `'comm_msg'` message.
 */
function isCommMsgMsg(msg) {
    return msg.header.msg_type === 'comm_msg';
}
exports.isCommMsgMsg = isCommMsgMsg;
/**
 * Test whether a kernel message is a `'kernel_info_request'` message.
 */
function isInfoRequestMsg(msg) {
    return msg.header.msg_type === 'kernel_info_request';
}
exports.isInfoRequestMsg = isInfoRequestMsg;
/**
 * Test whether a kernel message is an `'execute_reply'` message.
 */
function isExecuteReplyMsg(msg) {
    return msg.header.msg_type === 'execute_reply';
}
exports.isExecuteReplyMsg = isExecuteReplyMsg;
/**
 * Test whether a kernel message is an experimental `'debug_request'` message.
 *
 * @hidden
 *
 * #### Notes
 * Debug messages are experimental messages that are not in the official
 * kernel message specification. As such, this is *NOT* considered
 * part of the public API, and may change without notice.
 */
function isDebugRequestMsg(msg) {
    return msg.header.msg_type === 'debug_request';
}
exports.isDebugRequestMsg = isDebugRequestMsg;
/**
 * Test whether a kernel message is an experimental `'debug_reply'` message.
 *
 * @hidden
 *
 * #### Notes
 * Debug messages are experimental messages that are not in the official
 * kernel message specification. As such, this is *NOT* considered
 * part of the public API, and may change without notice.
 */
function isDebugReplyMsg(msg) {
    return msg.header.msg_type === 'debug_reply';
}
exports.isDebugReplyMsg = isDebugReplyMsg;
/**
 * Test whether a kernel message is an `'input_request'` message.
 */
function isInputRequestMsg(msg) {
    return msg.header.msg_type === 'input_request';
}
exports.isInputRequestMsg = isInputRequestMsg;
/**
 * Test whether a kernel message is an `'input_reply'` message.
 */
function isInputReplyMsg(msg) {
    return msg.header.msg_type === 'input_reply';
}
exports.isInputReplyMsg = isInputReplyMsg;
//# sourceMappingURL=messages.js.map

/***/ }),

/***/ "s5xs":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/folder.svg ***!
  \*************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cpath class='jp-icon3 jp-icon-selectable' fill='%23616161' d='M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z' /%3E %3C/svg%3E"

/***/ }),

/***/ "s5xsv":
/*!*************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/folder.svg ***!
  \*************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t<path\n\t\tclass=\"jp-icon3 jp-icon-selectable\"\n\t\tfill=\"#616161\"\n\t\td=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"\n\t/>\n</svg>\n");

/***/ }),

/***/ "scvd":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/kernel.js ***!
  \**************************************************************************************/
/*! exports provided: KernelMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KernelMenu", function() { return KernelMenu; });
/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * An extensible Kernel menu for the application.
 */
class KernelMenu extends _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"] {
    /**
     * Construct the kernel menu.
     */
    constructor(options) {
        super(options);
        this.menu.title.label = 'Kernel';
        this.kernelUsers = new Set();
    }
    /**
     * Dispose of the resources held by the kernel menu.
     */
    dispose() {
        this.kernelUsers.clear();
        super.dispose();
    }
}
//# sourceMappingURL=kernel.js.map

/***/ }),

/***/ "skd/":
/*!***************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/debug/blank.svg ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n    <path\n        fill=\"#000\"\n        fill-opacity=\"0.0\"\n        d=\"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z\"\n    />\n</svg>\n");

/***/ }),

/***/ "t7Ml":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/workspace/index.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const coreutils_1 = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
const statedb_1 = __webpack_require__(/*! @jupyterlab/statedb */ "rtzc");
const serverconnection_1 = __webpack_require__(/*! ../serverconnection */ "gY1d");
/**
 * The url for the lab workspaces service.
 */
const SERVICE_WORKSPACES_URL = 'api/workspaces';
/**
 * The workspaces API service manager.
 */
class WorkspaceManager extends statedb_1.DataConnector {
    /**
     * Create a new workspace manager.
     */
    constructor(options = {}) {
        var _a;
        super();
        this.serverSettings = (_a = options.serverSettings, (_a !== null && _a !== void 0 ? _a : serverconnection_1.ServerConnection.makeSettings()));
    }
    /**
     * Fetch a workspace.
     *
     * @param id - The workspaces's ID.
     *
     * @returns A promise that resolves if successful.
     */
    async fetch(id) {
        const { serverSettings } = this;
        const { baseUrl, appUrl } = serverSettings;
        const { makeRequest, ResponseError } = serverconnection_1.ServerConnection;
        const base = baseUrl + appUrl;
        const url = Private.url(base, id);
        const response = await makeRequest(url, {}, serverSettings);
        if (response.status !== 200) {
            throw new ResponseError(response);
        }
        return response.json();
    }
    /**
     * Fetch the list of workspace IDs that exist on the server.
     *
     * @returns A promise that resolves if successful.
     */
    async list() {
        const { serverSettings } = this;
        const { baseUrl, appUrl } = serverSettings;
        const { makeRequest, ResponseError } = serverconnection_1.ServerConnection;
        const base = baseUrl + appUrl;
        const url = Private.url(base, '');
        const response = await makeRequest(url, {}, serverSettings);
        if (response.status !== 200) {
            throw new ResponseError(response);
        }
        const result = await response.json();
        return result.workspaces;
    }
    /**
     * Remove a workspace from the server.
     *
     * @param id - The workspaces's ID.
     *
     * @returns A promise that resolves if successful.
     */
    async remove(id) {
        const { serverSettings } = this;
        const { baseUrl, appUrl } = serverSettings;
        const { makeRequest, ResponseError } = serverconnection_1.ServerConnection;
        const base = baseUrl + appUrl;
        const url = Private.url(base, id);
        const init = { method: 'DELETE' };
        const response = await makeRequest(url, init, serverSettings);
        if (response.status !== 204) {
            throw new ResponseError(response);
        }
    }
    /**
     * Save a workspace.
     *
     * @param id - The workspace's ID.
     *
     * @param workspace - The workspace being saved.
     *
     * @returns A promise that resolves if successful.
     */
    async save(id, workspace) {
        const { serverSettings } = this;
        const { baseUrl, appUrl } = serverSettings;
        const { makeRequest, ResponseError } = serverconnection_1.ServerConnection;
        const base = baseUrl + appUrl;
        const url = Private.url(base, id);
        const init = { body: JSON.stringify(workspace), method: 'PUT' };
        const response = await makeRequest(url, init, serverSettings);
        if (response.status !== 204) {
            throw new ResponseError(response);
        }
    }
}
exports.WorkspaceManager = WorkspaceManager;
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * Get the url for a workspace.
     */
    function url(base, id) {
        return coreutils_1.URLExt.join(base, SERVICE_WORKSPACES_URL, id);
    }
    Private.url = url;
})(Private || (Private = {}));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "u3Zd":
/*!***************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/labmenu.js ***!
  \***************************************************************************************/
/*! exports provided: JupyterLabMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JupyterLabMenu", function() { return JupyterLabMenu; });
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_2__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.



/**
 * An extensible menu for JupyterLab application menus.
 */
class JupyterLabMenu {
    /**
     * Construct a new menu.
     *
     * @param options - Options for the phosphor menu.
     *
     * @param includeSeparators - whether to include separators between the
     *   groups that are added to the menu.
     */
    constructor(options, includeSeparators = true) {
        this._groups = [];
        this._isDisposed = false;
        this.menu = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_2__["Menu"](options);
        this._includeSeparators = includeSeparators;
    }
    /**
     * Add a group of menu items specific to a particular
     * plugin.
     *
     * @param items - the list of menu items to add.
     *
     * @param rank - the rank in the menu in which to insert the group.
     */
    addGroup(items, rank) {
        const rankGroup = {
            size: items.length,
            rank: rank === undefined ? 100 : rank
        };
        // Insert the plugin group into the list of groups.
        const groupIndex = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].upperBound(this._groups, rankGroup, Private.itemCmp);
        // Determine the index of the menu at which to insert the group.
        let insertIndex = 0;
        for (let i = 0; i < groupIndex; ++i) {
            if (this._groups[i].size > 0) {
                insertIndex += this._groups[i].size;
                // Increase the insert index by two extra in order
                // to include the leading and trailing separators.
                insertIndex += this._includeSeparators ? 2 : 0;
            }
        }
        // Keep an array of the menu items that have been created.
        const added = [];
        // Insert a separator before the group.
        // Phosphor takes care of superfluous leading,
        // trailing, and duplicate separators.
        if (this._includeSeparators) {
            added.push(this.menu.insertItem(insertIndex++, { type: 'separator' }));
        }
        // Insert the group.
        for (let item of items) {
            added.push(this.menu.insertItem(insertIndex++, item));
        }
        // Insert a separator after the group.
        if (this._includeSeparators) {
            added.push(this.menu.insertItem(insertIndex++, { type: 'separator' }));
        }
        _lumino_algorithm__WEBPACK_IMPORTED_MODULE_0__["ArrayExt"].insert(this._groups, groupIndex, rankGroup);
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_1__["DisposableDelegate"](() => {
            added.forEach(i => this.menu.removeItem(i));
            this._groups.splice(groupIndex, 1);
        });
    }
    /**
     * Whether the menu has been disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the menu.
     */
    dispose() {
        this._groups.length = 0;
        this._isDisposed = true;
        this.menu.dispose();
    }
}
/**
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * A comparator function for menu rank items.
     */
    function itemCmp(first, second) {
        return first.rank - second.rank;
    }
    Private.itemCmp = itemCmp;
})(Private || (Private = {}));
//# sourceMappingURL=labmenu.js.map

/***/ }),

/***/ "uNO9":
/*!*******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/search/case-sensitive.svg ***!
  \*******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E %3Cg class='jp-icon2' fill='%23414141'%3E %3Crect x='2' y='2' width='16' height='16'/%3E %3C/g%3E %3Cg class='jp-icon-accent2' fill='%23FFF'%3E %3Cpath d='M7.6,8h0.9l3.5,8h-1.1L10,14H6l-0.9,2H4L7.6,8z M8,9.1L6.4,13h3.2L8,9.1z'/%3E %3Cpath d='M16.6,9.8c-0.2,0.1-0.4,0.1-0.7,0.1c-0.2,0-0.4-0.1-0.6-0.2c-0.1-0.1-0.2-0.4-0.2-0.7 c-0.3,0.3-0.6,0.5-0.9,0.7c-0.3,0.1-0.7,0.2-1.1,0.2c-0.3,0-0.5,0-0.7-0.1c-0.2-0.1-0.4-0.2-0.6-0.3c-0.2-0.1-0.3-0.3-0.4-0.5 c-0.1-0.2-0.1-0.4-0.1-0.7c0-0.3,0.1-0.6,0.2-0.8c0.1-0.2,0.3-0.4,0.4-0.5C12,7,12.2,6.9,12.5,6.8c0.2-0.1,0.5-0.1,0.7-0.2 c0.3-0.1,0.5-0.1,0.7-0.1c0.2,0,0.4-0.1,0.6-0.1c0.2,0,0.3-0.1,0.4-0.2c0.1-0.1,0.2-0.2,0.2-0.4c0-1-1.1-1-1.3-1 c-0.4,0-1.4,0-1.4,1.2h-0.9c0-0.4,0.1-0.7,0.2-1c0.1-0.2,0.3-0.4,0.5-0.6c0.2-0.2,0.5-0.3,0.8-0.3C13.3,4,13.6,4,13.9,4 c0.3,0,0.5,0,0.8,0.1c0.3,0,0.5,0.1,0.7,0.2c0.2,0.1,0.4,0.3,0.5,0.5C16,5,16,5.2,16,5.6v2.9c0,0.2,0,0.4,0,0.5 c0,0.1,0.1,0.2,0.3,0.2c0.1,0,0.2,0,0.3,0V9.8z M15.2,6.9c-1.2,0.6-3.1,0.2-3.1,1.4c0,1.4,3.1,1,3.1-0.5V6.9z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "uNO92":
/*!*******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/search/case-sensitive.svg ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n  <g class=\"jp-icon2\" fill=\"#414141\">\n    <rect x=\"2\" y=\"2\" width=\"16\" height=\"16\"/>\n  </g>\n  <g class=\"jp-icon-accent2\" fill=\"#FFF\">\n    <path d=\"M7.6,8h0.9l3.5,8h-1.1L10,14H6l-0.9,2H4L7.6,8z M8,9.1L6.4,13h3.2L8,9.1z\"/>\n    <path d=\"M16.6,9.8c-0.2,0.1-0.4,0.1-0.7,0.1c-0.2,0-0.4-0.1-0.6-0.2c-0.1-0.1-0.2-0.4-0.2-0.7 c-0.3,0.3-0.6,0.5-0.9,0.7c-0.3,0.1-0.7,0.2-1.1,0.2c-0.3,0-0.5,0-0.7-0.1c-0.2-0.1-0.4-0.2-0.6-0.3c-0.2-0.1-0.3-0.3-0.4-0.5 c-0.1-0.2-0.1-0.4-0.1-0.7c0-0.3,0.1-0.6,0.2-0.8c0.1-0.2,0.3-0.4,0.4-0.5C12,7,12.2,6.9,12.5,6.8c0.2-0.1,0.5-0.1,0.7-0.2 c0.3-0.1,0.5-0.1,0.7-0.1c0.2,0,0.4-0.1,0.6-0.1c0.2,0,0.3-0.1,0.4-0.2c0.1-0.1,0.2-0.2,0.2-0.4c0-1-1.1-1-1.3-1 c-0.4,0-1.4,0-1.4,1.2h-0.9c0-0.4,0.1-0.7,0.2-1c0.1-0.2,0.3-0.4,0.5-0.6c0.2-0.2,0.5-0.3,0.8-0.3C13.3,4,13.6,4,13.9,4 c0.3,0,0.5,0,0.8,0.1c0.3,0,0.5,0.1,0.7,0.2c0.2,0.1,0.4,0.3,0.5,0.5C16,5,16,5.2,16,5.6v2.9c0,0.2,0,0.4,0,0.5 c0,0.1,0.1,0.2,0.3,0.2c0.1,0,0.2,0,0.3,0V9.8z M15.2,6.9c-1.2,0.6-3.1,0.2-3.1,1.4c0,1.4,3.1,1,3.1-0.5V6.9z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "v4NB":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statedb/lib/statedb.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const signaling_1 = __webpack_require__(/*! @lumino/signaling */ "twVq");
/**
 * The default concrete implementation of a state database.
 */
class StateDB {
    /**
     * Create a new state database.
     *
     * @param options - The instantiation options for a state database.
     */
    constructor(options = {}) {
        this._changed = new signaling_1.Signal(this);
        const { connector, transform } = options;
        this._connector = connector || new StateDB.Connector();
        if (!transform) {
            this._ready = Promise.resolve(undefined);
        }
        else {
            this._ready = transform.then(transformation => {
                const { contents, type } = transformation;
                switch (type) {
                    case 'cancel':
                        return;
                    case 'clear':
                        return this._clear();
                    case 'merge':
                        return this._merge(contents || {});
                    case 'overwrite':
                        return this._overwrite(contents || {});
                    default:
                        return;
                }
            });
        }
    }
    /**
     * A signal that emits the change type any time a value changes.
     */
    get changed() {
        return this._changed;
    }
    /**
     * Clear the entire database.
     */
    async clear() {
        await this._ready;
        await this._clear();
    }
    /**
     * Retrieve a saved bundle from the database.
     *
     * @param id - The identifier used to retrieve a data bundle.
     *
     * @returns A promise that bears a data payload if available.
     *
     * #### Notes
     * The `id` values of stored items in the state database are formatted:
     * `'namespace:identifier'`, which is the same convention that command
     * identifiers in JupyterLab use as well. While this is not a technical
     * requirement for `fetch()`, `remove()`, and `save()`, it *is* necessary for
     * using the `list(namespace: string)` method.
     *
     * The promise returned by this method may be rejected if an error occurs in
     * retrieving the data. Non-existence of an `id` will succeed with the `value`
     * `undefined`.
     */
    async fetch(id) {
        await this._ready;
        return this._fetch(id);
    }
    /**
     * Retrieve all the saved bundles for a namespace.
     *
     * @param filter - The namespace prefix to retrieve.
     *
     * @returns A promise that bears a collection of payloads for a namespace.
     *
     * #### Notes
     * Namespaces are entirely conventional entities. The `id` values of stored
     * items in the state database are formatted: `'namespace:identifier'`, which
     * is the same convention that command identifiers in JupyterLab use as well.
     *
     * If there are any errors in retrieving the data, they will be logged to the
     * console in order to optimistically return any extant data without failing.
     * This promise will always succeed.
     */
    async list(namespace) {
        await this._ready;
        return this._list(namespace);
    }
    /**
     * Remove a value from the database.
     *
     * @param id - The identifier for the data being removed.
     *
     * @returns A promise that is rejected if remove fails and succeeds otherwise.
     */
    async remove(id) {
        await this._ready;
        await this._remove(id);
        this._changed.emit({ id, type: 'remove' });
    }
    /**
     * Save a value in the database.
     *
     * @param id - The identifier for the data being saved.
     *
     * @param value - The data being saved.
     *
     * @returns A promise that is rejected if saving fails and succeeds otherwise.
     *
     * #### Notes
     * The `id` values of stored items in the state database are formatted:
     * `'namespace:identifier'`, which is the same convention that command
     * identifiers in JupyterLab use as well. While this is not a technical
     * requirement for `fetch()`, `remove()`, and `save()`, it *is* necessary for
     * using the `list(namespace: string)` method.
     */
    async save(id, value) {
        await this._ready;
        await this._save(id, value);
        this._changed.emit({ id, type: 'save' });
    }
    /**
     * Return a serialized copy of the state database's entire contents.
     *
     * @returns A promise that resolves with the database contents as JSON.
     */
    async toJSON() {
        await this._ready;
        const { ids, values } = await this._list();
        return values.reduce((acc, val, idx) => {
            acc[ids[idx]] = val;
            return acc;
        }, {});
    }
    /**
     * Clear the entire database.
     */
    async _clear() {
        await Promise.all((await this._list()).ids.map(id => this._remove(id)));
    }
    /**
     * Fetch a value from the database.
     */
    async _fetch(id) {
        const value = await this._connector.fetch(id);
        if (value) {
            return JSON.parse(value).v;
        }
    }
    /**
     * Fetch a list from the database.
     */
    async _list(namespace = '') {
        const { ids, values } = await this._connector.list(namespace);
        return {
            ids,
            values: values.map(val => JSON.parse(val).v)
        };
    }
    /**
     * Merge data into the state database.
     */
    async _merge(contents) {
        await Promise.all(Object.keys(contents).map(key => contents[key] && this._save(key, contents[key])));
    }
    /**
     * Overwrite the entire database with new contents.
     */
    async _overwrite(contents) {
        await this._clear();
        await this._merge(contents);
    }
    /**
     * Remove a key in the database.
     */
    async _remove(id) {
        return this._connector.remove(id);
    }
    /**
     * Save a key and its value in the database.
     */
    async _save(id, value) {
        return this._connector.save(id, JSON.stringify({ v: value }));
    }
}
exports.StateDB = StateDB;
/**
 * A namespace for StateDB statics.
 */
(function (StateDB) {
    /**
     * An in-memory string key/value data connector.
     */
    class Connector {
        constructor() {
            this._storage = {};
        }
        /**
         * Retrieve an item from the data connector.
         */
        async fetch(id) {
            return this._storage[id];
        }
        /**
         * Retrieve the list of items available from the data connector.
         *
         * @param namespace - If not empty, only keys whose first token before `:`
         * exactly match `namespace` will be returned, e.g. `foo` in `foo:bar`.
         */
        async list(namespace = '') {
            return Object.keys(this._storage).reduce((acc, val) => {
                if (namespace === '' ? true : namespace === val.split(':')[0]) {
                    acc.ids.push(val);
                    acc.values.push(this._storage[val]);
                }
                return acc;
            }, { ids: [], values: [] });
        }
        /**
         * Remove a value using the data connector.
         */
        async remove(id) {
            delete this._storage[id];
        }
        /**
         * Save a value using the data connector.
         */
        async save(id, value) {
            this._storage[id] = value;
        }
    }
    StateDB.Connector = Connector;
})(StateDB = exports.StateDB || (exports.StateDB = {}));
//# sourceMappingURL=statedb.js.map

/***/ }),

/***/ "vEyG":
/*!******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/registry.js ***!
  \******************************************************************************************/
/*! exports provided: RenderMimeRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderMimeRegistry", function() { return RenderMimeRegistry; });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _mimemodel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mimemodel */ "K2qJ");



/**
 * An object which manages mime renderer factories.
 *
 * This object is used to render mime models using registered mime
 * renderers, selecting the preferred mime renderer to render the
 * model into a widget.
 *
 * #### Notes
 * This class is not intended to be subclassed.
 */
class RenderMimeRegistry {
    /**
     * Construct a new rendermime.
     *
     * @param options - The options for initializing the instance.
     */
    constructor(options = {}) {
        this._id = 0;
        this._ranks = {};
        this._types = null;
        this._factories = {};
        // Parse the options.
        this.resolver = options.resolver || null;
        this.linkHandler = options.linkHandler || null;
        this.latexTypesetter = options.latexTypesetter || null;
        this.sanitizer = options.sanitizer || _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["defaultSanitizer"];
        // Add the initial factories.
        if (options.initialFactories) {
            for (let factory of options.initialFactories) {
                this.addFactory(factory);
            }
        }
    }
    /**
     * The ordered list of mimeTypes.
     */
    get mimeTypes() {
        return this._types || (this._types = Private.sortedTypes(this._ranks));
    }
    /**
     * Find the preferred mime type for a mime bundle.
     *
     * @param bundle - The bundle of mime data.
     *
     * @param safe - How to consider safe/unsafe factories. If 'ensure',
     *   it will only consider safe factories. If 'any', any factory will be
     *   considered. If 'prefer', unsafe factories will be considered, but
     *   only after the safe options have been exhausted.
     *
     * @returns The preferred mime type from the available factories,
     *   or `undefined` if the mime type cannot be rendered.
     */
    preferredMimeType(bundle, safe = 'ensure') {
        // Try to find a safe factory first, if preferred.
        if (safe === 'ensure' || safe === 'prefer') {
            for (let mt of this.mimeTypes) {
                if (mt in bundle && this._factories[mt].safe) {
                    return mt;
                }
            }
        }
        if (safe !== 'ensure') {
            // Otherwise, search for the best factory among all factories.
            for (let mt of this.mimeTypes) {
                if (mt in bundle) {
                    return mt;
                }
            }
        }
        // Otherwise, no matching mime type exists.
        return undefined;
    }
    /**
     * Create a renderer for a mime type.
     *
     * @param mimeType - The mime type of interest.
     *
     * @returns A new renderer for the given mime type.
     *
     * @throws An error if no factory exists for the mime type.
     */
    createRenderer(mimeType) {
        // Throw an error if no factory exists for the mime type.
        if (!(mimeType in this._factories)) {
            throw new Error(`No factory for mime type: '${mimeType}'`);
        }
        // Invoke the best factory for the given mime type.
        return this._factories[mimeType].createRenderer({
            mimeType,
            resolver: this.resolver,
            sanitizer: this.sanitizer,
            linkHandler: this.linkHandler,
            latexTypesetter: this.latexTypesetter
        });
    }
    /**
     * Create a new mime model.  This is a convenience method.
     *
     * @options - The options used to create the model.
     *
     * @returns A new mime model.
     */
    createModel(options = {}) {
        return new _mimemodel__WEBPACK_IMPORTED_MODULE_2__["MimeModel"](options);
    }
    /**
     * Create a clone of this rendermime instance.
     *
     * @param options - The options for configuring the clone.
     *
     * @returns A new independent clone of the rendermime.
     */
    clone(options = {}) {
        // Create the clone.
        let clone = new RenderMimeRegistry({
            resolver: options.resolver || this.resolver || undefined,
            sanitizer: options.sanitizer || this.sanitizer || undefined,
            linkHandler: options.linkHandler || this.linkHandler || undefined,
            latexTypesetter: options.latexTypesetter || this.latexTypesetter || undefined
        });
        // Clone the internal state.
        clone._factories = Object.assign({}, this._factories);
        clone._ranks = Object.assign({}, this._ranks);
        clone._id = this._id;
        // Return the cloned object.
        return clone;
    }
    /**
     * Get the renderer factory registered for a mime type.
     *
     * @param mimeType - The mime type of interest.
     *
     * @returns The factory for the mime type, or `undefined`.
     */
    getFactory(mimeType) {
        return this._factories[mimeType];
    }
    /**
     * Add a renderer factory to the rendermime.
     *
     * @param factory - The renderer factory of interest.
     *
     * @param rank - The rank of the renderer. A lower rank indicates
     *   a higher priority for rendering. If not given, the rank will
     *   defer to the `defaultRank` of the factory.  If no `defaultRank`
     *   is given, it will default to 100.
     *
     * #### Notes
     * The renderer will replace an existing renderer for the given
     * mimeType.
     */
    addFactory(factory, rank) {
        if (rank === undefined) {
            rank = factory.defaultRank;
            if (rank === undefined) {
                rank = 100;
            }
        }
        for (let mt of factory.mimeTypes) {
            this._factories[mt] = factory;
            this._ranks[mt] = { rank, id: this._id++ };
        }
        this._types = null;
    }
    /**
     * Remove a mime type.
     *
     * @param mimeType - The mime type of interest.
     */
    removeMimeType(mimeType) {
        delete this._factories[mimeType];
        delete this._ranks[mimeType];
        this._types = null;
    }
    /**
     * Get the rank for a given mime type.
     *
     * @param mimeType - The mime type of interest.
     *
     * @returns The rank of the mime type or undefined.
     */
    getRank(mimeType) {
        let rank = this._ranks[mimeType];
        return rank && rank.rank;
    }
    /**
     * Set the rank of a given mime type.
     *
     * @param mimeType - The mime type of interest.
     *
     * @param rank - The new rank to assign.
     *
     * #### Notes
     * This is a no-op if the mime type is not registered.
     */
    setRank(mimeType, rank) {
        if (!this._ranks[mimeType]) {
            return;
        }
        let id = this._id++;
        this._ranks[mimeType] = { rank, id };
        this._types = null;
    }
}
/**
 * The namespace for `RenderMimeRegistry` class statics.
 */
(function (RenderMimeRegistry) {
    /**
     * A default resolver that uses a session and a contents manager.
     */
    class UrlResolver {
        /**
         * Create a new url resolver for a console.
         */
        constructor(options) {
            this._session = options.session;
            this._contents = options.contents;
        }
        /**
         * Resolve a relative url to an absolute url path.
         */
        resolveUrl(url) {
            if (this.isLocal(url)) {
                const sc = Private.sessionConnection(this._session);
                if (!sc) {
                    throw new Error('Cannot resolve local url with no session');
                }
                const cwd = encodeURI(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PathExt"].dirname(sc.path));
                url = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["PathExt"].resolve(cwd, url);
            }
            return Promise.resolve(url);
        }
        /**
         * Get the download url of a given absolute url path.
         *
         * #### Notes
         * This URL may include a query parameter.
         */
        getDownloadUrl(url) {
            if (this.isLocal(url)) {
                // decode url->path before passing to contents api
                return this._contents.getDownloadUrl(decodeURI(url));
            }
            return Promise.resolve(url);
        }
        /**
         * Whether the URL should be handled by the resolver
         * or not.
         *
         * #### Notes
         * This is similar to the `isLocal` check in `URLExt`,
         * but it also checks whether the path points to any
         * of the `IDrive`s that may be registered with the contents
         * manager.
         */
        isLocal(url) {
            const path = decodeURI(url);
            return _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__["URLExt"].isLocal(url) || !!this._contents.driveName(path);
        }
    }
    RenderMimeRegistry.UrlResolver = UrlResolver;
})(RenderMimeRegistry || (RenderMimeRegistry = {}));
/**
 * The namespace for the module implementation details.
 */
var Private;
(function (Private) {
    /**
     * Get the mime types in the map, ordered by rank.
     */
    function sortedTypes(map) {
        return Object.keys(map).sort((a, b) => {
            let p1 = map[a];
            let p2 = map[b];
            if (p1.rank !== p2.rank) {
                return p1.rank - p2.rank;
            }
            return p1.id - p2.id;
        });
    }
    Private.sortedTypes = sortedTypes;
    function sessionConnection(s) {
        return s.sessionChanged
            ? s.session
            : s;
    }
    Private.sessionConnection = sessionConnection;
})(Private || (Private = {}));
//# sourceMappingURL=registry.js.map

/***/ }),

/***/ "vHxm":
/*!******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/spreadsheet.svg ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cpath class='jp-icon-contrast1 jp-icon-selectable' fill='%234CAF50' d='M2.2,2.2v17.6h17.6V2.2C19.8,2.2,2.2,2.2,2.2,2.2z M17.6,9.9h-5.5V4.4h5.5V9.9z M9.9,4.4v5.5H4.4V4.4 C4.4,4.4,9.9,4.4,9.9,4.4z M4.4,12.1h5.5v5.5H4.4L4.4,12.1z M12.1,17.6v-5.5h5.5v5.5H12.1z' /%3E %3C/svg%3E"

/***/ }),

/***/ "vHxmb":
/*!******************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/spreadsheet.svg ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<path\n\t\tclass=\"jp-icon-contrast1 jp-icon-selectable\"\n\t\tfill=\"#4CAF50\"\n\t\td=\"M2.2,2.2v17.6h17.6V2.2C19.8,2.2,2.2,2.2,2.2,2.2z M17.6,9.9h-5.5V4.4h5.5V9.9z M9.9,4.4v5.5H4.4V4.4 C4.4,4.4,9.9,4.4,9.9,4.4z M4.4,12.1h5.5v5.5H4.4L4.4,12.1z M12.1,17.6v-5.5h5.5v5.5H12.1z\"\n\t/>\n</svg>\n");

/***/ }),

/***/ "vNCt":
/*!************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/file.js ***!
  \************************************************************************************/
/*! exports provided: FileMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileMenu", function() { return FileMenu; });
/* harmony import */ var _labmenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labmenu */ "u3Zd");
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * An extensible FileMenu for the application.
 */
class FileMenu extends _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"] {
    constructor(options) {
        super(options);
        this.menu.title.label = 'File';
        this.quitEntry = false;
        // Create the "New" submenu.
        this.newMenu = new _labmenu__WEBPACK_IMPORTED_MODULE_0__["JupyterLabMenu"](options, false);
        this.newMenu.menu.title.label = 'New';
        this.closeAndCleaners = new Set();
        this.consoleCreators = new Set();
    }
    /**
     * Dispose of the resources held by the file menu.
     */
    dispose() {
        this.newMenu.dispose();
        this.consoleCreators.clear();
        super.dispose();
    }
}
//# sourceMappingURL=file.js.map

/***/ }),

/***/ "vNIF":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/style/toolbar.css ***!
  \********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) 2014-2016, Jupyter Development Team.\n|\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n:root {\n  --jp-private-toolbar-height: calc(\n    28px + var(--jp-border-width)\n  ); /* leave 28px for content */\n}\n\n.jp-Toolbar {\n  color: var(--jp-ui-font-color1);\n  flex: 0 0 auto;\n  display: flex;\n  flex-direction: row;\n  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);\n  box-shadow: var(--jp-toolbar-box-shadow);\n  background: var(--jp-toolbar-background);\n  min-height: var(--jp-toolbar-micro-height);\n  padding: 2px;\n  z-index: 1;\n}\n\n/* Toolbar items */\n\n.jp-Toolbar > .jp-Toolbar-item.jp-Toolbar-spacer {\n  flex-grow: 1;\n  flex-shrink: 1;\n}\n\n.jp-Toolbar-item.jp-Toolbar-kernelStatus {\n  display: inline-block;\n  width: 32px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 16px;\n}\n\n.jp-Toolbar > .jp-Toolbar-item {\n  flex: 0 0 auto;\n  display: flex;\n  padding-left: 1px;\n  padding-right: 1px;\n  font-size: var(--jp-ui-font-size1);\n  line-height: var(--jp-private-toolbar-height);\n  height: 100%;\n}\n\n/* Toolbar buttons */\n\n/* This is the div we use to wrap the react component into a Widget */\ndiv.jp-ToolbarButton {\n  color: transparent;\n  border: none;\n  box-sizing: border-box;\n  outline: none;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  padding: 0px;\n  margin: 0px;\n}\n\nbutton.jp-ToolbarButtonComponent {\n  background: var(--jp-layout-color1);\n  border: none;\n  box-sizing: border-box;\n  outline: none;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  padding: 0px 6px;\n  margin: 0px;\n  height: 24px;\n  border-radius: var(--jp-border-radius);\n  display: flex;\n  align-items: center;\n  text-align: center;\n  font-size: 14px;\n  min-width: unset;\n  min-height: unset;\n}\n\nbutton.jp-ToolbarButtonComponent:disabled {\n  opacity: 0.4;\n}\n\nbutton.jp-ToolbarButtonComponent span {\n  padding: 0px;\n  flex: 0 0 auto;\n}\n\nbutton.jp-ToolbarButtonComponent .jp-ToolbarButtonComponent-label {\n  font-size: var(--jp-ui-font-size1);\n  line-height: 100%;\n  padding-left: 2px;\n  color: var(--jp-ui-font-color1);\n}\n", ""]);


/***/ }),

/***/ "vnUX":
/*!*********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/docmanager/lib/savehandler.js ***!
  \*********************************************************************************************/
/*! exports provided: SaveHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveHandler", function() { return SaveHandler; });
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/**
 * A class that manages the auto saving of a document.
 *
 * #### Notes
 * Implements https://github.com/ipython/ipython/wiki/IPEP-15:-Autosaving-the-IPython-Notebook.
 */
class SaveHandler {
    /**
     * Construct a new save handler.
     */
    constructor(options) {
        this._autosaveTimer = -1;
        this._minInterval = -1;
        this._interval = -1;
        this._isActive = false;
        this._inDialog = false;
        this._isDisposed = false;
        this._multiplier = 10;
        this._context = options.context;
        let interval = options.saveInterval || 120;
        this._minInterval = interval * 1000;
        this._interval = this._minInterval;
        // Restart the timer when the contents model is updated.
        this._context.fileChanged.connect(this._setTimer, this);
        this._context.disposed.connect(this.dispose, this);
    }
    /**
     * The save interval used by the timer (in seconds).
     */
    get saveInterval() {
        return this._interval / 1000;
    }
    set saveInterval(value) {
        this._minInterval = this._interval = value * 1000;
        if (this._isActive) {
            this._setTimer();
        }
    }
    /**
     * Get whether the handler is active.
     */
    get isActive() {
        return this._isActive;
    }
    /**
     * Get whether the save handler is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources used by the save handler.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        clearTimeout(this._autosaveTimer);
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_0__["Signal"].clearData(this);
    }
    /**
     * Start the autosaver.
     */
    start() {
        this._isActive = true;
        this._setTimer();
    }
    /**
     * Stop the autosaver.
     */
    stop() {
        this._isActive = false;
        clearTimeout(this._autosaveTimer);
    }
    /**
     * Set the timer.
     */
    _setTimer() {
        clearTimeout(this._autosaveTimer);
        if (!this._isActive) {
            return;
        }
        this._autosaveTimer = window.setTimeout(() => {
            this._save();
        }, this._interval);
    }
    /**
     * Handle an autosave timeout.
     */
    _save() {
        let context = this._context;
        // Trigger the next update.
        this._setTimer();
        if (!context) {
            return;
        }
        // Bail if the model is not dirty or the file is not writable, or the dialog
        // is already showing.
        let writable = context.contentsModel && context.contentsModel.writable;
        if (!writable || !context.model.dirty || this._inDialog) {
            return;
        }
        let start = new Date().getTime();
        context
            .save()
            .then(() => {
            if (this.isDisposed) {
                return;
            }
            let duration = new Date().getTime() - start;
            // New save interval: higher of 10x save duration or min interval.
            this._interval = Math.max(this._multiplier * duration, this._minInterval);
            // Restart the update to pick up the new interval.
            this._setTimer();
        })
            .catch(err => {
            // If the user canceled the save, do nothing.
            if (err.message === 'Cancel') {
                return;
            }
            // Otherwise, log the error.
            console.error('Error in Auto-Save', err.message);
        });
    }
}
//# sourceMappingURL=savehandler.js.map

/***/ }),

/***/ "vy0v":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/markdown.svg ***!
  \***************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cg class='jp-icon-contrast0 jp-icon-selectable' fill='%237B1FA2' %3E %3Cpolygon points='5,14.9 17,14.9 10.9,20.9 '/%3E %3Cpath d='M14.4,8.1c0-1.3-0.1-2.9-0.1-4.5l0,0C13.9,5,13.4,6.5,13,7.9l-1.3,4.3h-2L8.5,7.9C8.1,6.6,7.8,5,7.5,3.6l0,0 C7.4,5.2,7.4,6.8,7.3,8.2L7,12.4H4.8l0.7-11h3.3L10,5c0.4,1.2,0.7,2.7,1,3.9l0,0c0.3-1.2,0.7-2.6,1-3.9l1.2-3.7h3.3l0.6,11h-2.4 L14.4,8.1z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "vy0vn":
/*!***************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/markdown.svg ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<g\n\t\tclass=\"jp-icon-contrast0 jp-icon-selectable\"\n\t\tfill=\"#7B1FA2\"\n\t>\n\t\t<polygon points=\"5,14.9 17,14.9 10.9,20.9 \"/>\n\t\t<path d=\"M14.4,8.1c0-1.3-0.1-2.9-0.1-4.5l0,0C13.9,5,13.4,6.5,13,7.9l-1.3,4.3h-2L8.5,7.9C8.1,6.6,7.8,5,7.5,3.6l0,0 C7.4,5.2,7.4,6.8,7.3,8.2L7,12.4H4.8l0.7-11h3.3L10,5c0.4,1.2,0.7,2.7,1,3.9l0,0c0.3-1.2,0.7-2.6,1-3.9l1.2-3.7h3.3l0.6,11h-2.4 L14.4,8.1z\"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "wAiP":
/*!*************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/apputils/lib/index.js ***!
  \*************************************************************************************/
/*! exports provided: Clipboard, Collapse, CommandLinker, ICommandPalette, showDialog, showErrorMessage, Dialog, DOMUtils, HoverBox, IFrame, InputDialog, MainAreaWidget, Printing, defaultSanitizer, SessionContext, sessionContextDialogs, Spinner, ISplashScreen, Styling, ThemeManager, ISessionContextDialogs, IThemeManager, Toolbar, ToolbarButtonComponent, addToolbarButtonClass, ToolbarButton, CommandToolbarButtonComponent, addCommandToolbarButtonClass, CommandToolbarButton, ReactWidget, VDomRenderer, UseSignal, VDomModel, WidgetTracker, IWindowResolver, WindowResolver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _clipboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./clipboard */ "bkHy");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Clipboard", function() { return _clipboard__WEBPACK_IMPORTED_MODULE_0__["Clipboard"]; });

/* harmony import */ var _collapse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collapse */ "lT6k");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapse", function() { return _collapse__WEBPACK_IMPORTED_MODULE_1__["Collapse"]; });

/* harmony import */ var _commandlinker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./commandlinker */ "IvQx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CommandLinker", function() { return _commandlinker__WEBPACK_IMPORTED_MODULE_2__["CommandLinker"]; });

/* harmony import */ var _commandpalette__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./commandpalette */ "V6Mt");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ICommandPalette", function() { return _commandpalette__WEBPACK_IMPORTED_MODULE_3__["ICommandPalette"]; });

/* harmony import */ var _dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dialog */ "HEhr");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "showDialog", function() { return _dialog__WEBPACK_IMPORTED_MODULE_4__["showDialog"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "showErrorMessage", function() { return _dialog__WEBPACK_IMPORTED_MODULE_4__["showErrorMessage"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Dialog", function() { return _dialog__WEBPACK_IMPORTED_MODULE_4__["Dialog"]; });

/* harmony import */ var _domutils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./domutils */ "OWai");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DOMUtils", function() { return _domutils__WEBPACK_IMPORTED_MODULE_5__["DOMUtils"]; });

/* harmony import */ var _hoverbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hoverbox */ "HPyp");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HoverBox", function() { return _hoverbox__WEBPACK_IMPORTED_MODULE_6__["HoverBox"]; });

/* harmony import */ var _iframe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./iframe */ "S+a8");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IFrame", function() { return _iframe__WEBPACK_IMPORTED_MODULE_7__["IFrame"]; });

/* harmony import */ var _inputdialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./inputdialog */ "dwep");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InputDialog", function() { return _inputdialog__WEBPACK_IMPORTED_MODULE_8__["InputDialog"]; });

/* harmony import */ var _mainareawidget__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mainareawidget */ "P2p2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MainAreaWidget", function() { return _mainareawidget__WEBPACK_IMPORTED_MODULE_9__["MainAreaWidget"]; });

/* harmony import */ var _printing__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./printing */ "5OfG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Printing", function() { return _printing__WEBPACK_IMPORTED_MODULE_10__["Printing"]; });

/* harmony import */ var _sanitizer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./sanitizer */ "Q7xl");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultSanitizer", function() { return _sanitizer__WEBPACK_IMPORTED_MODULE_11__["defaultSanitizer"]; });

/* harmony import */ var _sessioncontext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./sessioncontext */ "bapi");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SessionContext", function() { return _sessioncontext__WEBPACK_IMPORTED_MODULE_12__["SessionContext"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sessionContextDialogs", function() { return _sessioncontext__WEBPACK_IMPORTED_MODULE_12__["sessionContextDialogs"]; });

/* harmony import */ var _spinner__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./spinner */ "VpiZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Spinner", function() { return _spinner__WEBPACK_IMPORTED_MODULE_13__["Spinner"]; });

/* harmony import */ var _splash__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./splash */ "gEQi");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ISplashScreen", function() { return _splash__WEBPACK_IMPORTED_MODULE_14__["ISplashScreen"]; });

/* harmony import */ var _styling__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./styling */ "4mEv");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Styling", function() { return _styling__WEBPACK_IMPORTED_MODULE_15__["Styling"]; });

/* harmony import */ var _thememanager__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./thememanager */ "gBdJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeManager", function() { return _thememanager__WEBPACK_IMPORTED_MODULE_16__["ThemeManager"]; });

/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./tokens */ "HjVH");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ISessionContextDialogs", function() { return _tokens__WEBPACK_IMPORTED_MODULE_17__["ISessionContextDialogs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IThemeManager", function() { return _tokens__WEBPACK_IMPORTED_MODULE_17__["IThemeManager"]; });

/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./toolbar */ "0nDx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Toolbar", function() { return _toolbar__WEBPACK_IMPORTED_MODULE_18__["Toolbar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ToolbarButtonComponent", function() { return _toolbar__WEBPACK_IMPORTED_MODULE_18__["ToolbarButtonComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addToolbarButtonClass", function() { return _toolbar__WEBPACK_IMPORTED_MODULE_18__["addToolbarButtonClass"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ToolbarButton", function() { return _toolbar__WEBPACK_IMPORTED_MODULE_18__["ToolbarButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CommandToolbarButtonComponent", function() { return _toolbar__WEBPACK_IMPORTED_MODULE_18__["CommandToolbarButtonComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "addCommandToolbarButtonClass", function() { return _toolbar__WEBPACK_IMPORTED_MODULE_18__["addCommandToolbarButtonClass"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CommandToolbarButton", function() { return _toolbar__WEBPACK_IMPORTED_MODULE_18__["CommandToolbarButton"]; });

/* harmony import */ var _vdom__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./vdom */ "70x9");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ReactWidget", function() { return _vdom__WEBPACK_IMPORTED_MODULE_19__["ReactWidget"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VDomRenderer", function() { return _vdom__WEBPACK_IMPORTED_MODULE_19__["VDomRenderer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UseSignal", function() { return _vdom__WEBPACK_IMPORTED_MODULE_19__["UseSignal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VDomModel", function() { return _vdom__WEBPACK_IMPORTED_MODULE_19__["VDomModel"]; });

/* harmony import */ var _widgettracker__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./widgettracker */ "+Ik6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WidgetTracker", function() { return _widgettracker__WEBPACK_IMPORTED_MODULE_20__["WidgetTracker"]; });

/* harmony import */ var _windowresolver__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./windowresolver */ "Bs93");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IWindowResolver", function() { return _windowresolver__WEBPACK_IMPORTED_MODULE_21__["IWindowResolver"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WindowResolver", function() { return _windowresolver__WEBPACK_IMPORTED_MODULE_21__["WindowResolver"]; });

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.






















//# sourceMappingURL=index.js.map

/***/ }),

/***/ "wE//":
/*!*********************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/jupyter/jupyter-favicon.svg ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg width='152' height='165' viewBox='0 0 152 165' version='1.1' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon-warn0' fill='%23F37726'%3E %3Cpath transform='translate(0.078947, 110.582927)' d='M75.9422842,29.5804561 C43.3023947,29.5804561 14.7967832,17.6534634 0,0 C5.51083211,15.8406829 15.7815389,29.5667732 29.3904947,39.2784171 C42.9997,48.9898537 59.2737,54.2067805 75.9605789,54.2067805 C92.6474579,54.2067805 108.921458,48.9898537 122.530663,39.2784171 C136.139453,29.5667732 146.410284,15.8406829 151.921158,0 C137.087868,17.6534634 108.582589,29.5804561 75.9422842,29.5804561 L75.9422842,29.5804561 Z' /%3E %3Cpath transform='translate(0.037368, 0.704878)' d='M75.9784579,24.6264073 C108.618763,24.6264073 137.124458,36.5534415 151.921158,54.2067805 C146.410284,38.366222 136.139453,24.6401317 122.530663,14.9284878 C108.921458,5.2168439 92.6474579,0 75.9605789,0 C59.2737,0 42.9997,5.2168439 29.3904947,14.9284878 C15.7815389,24.6401317 5.51083211,38.366222 0,54.2067805 C14.8330816,36.5899293 43.3385684,24.6264073 75.9784579,24.6264073 L75.9784579,24.6264073 Z' /%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "wE//X":
/*!*********************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/jupyter/jupyter-favicon.svg ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg width=\"152\" height=\"165\" viewBox=\"0 0 152 165\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon-warn0\" fill=\"#F37726\">\n    <path transform=\"translate(0.078947, 110.582927)\" d=\"M75.9422842,29.5804561 C43.3023947,29.5804561 14.7967832,17.6534634 0,0 C5.51083211,15.8406829 15.7815389,29.5667732 29.3904947,39.2784171 C42.9997,48.9898537 59.2737,54.2067805 75.9605789,54.2067805 C92.6474579,54.2067805 108.921458,48.9898537 122.530663,39.2784171 C136.139453,29.5667732 146.410284,15.8406829 151.921158,0 C137.087868,17.6534634 108.582589,29.5804561 75.9422842,29.5804561 L75.9422842,29.5804561 Z\" />\n    <path transform=\"translate(0.037368, 0.704878)\" d=\"M75.9784579,24.6264073 C108.618763,24.6264073 137.124458,36.5534415 151.921158,54.2067805 C146.410284,38.366222 136.139453,24.6401317 122.530663,14.9284878 C108.921458,5.2168439 92.6474579,0 75.9605789,0 C59.2737,0 42.9997,5.2168439 29.3904947,14.9284878 C15.7815389,24.6401317 5.51083211,38.366222 0,54.2067805 C14.8330816,36.5899293 43.3385684,24.6264073 75.9784579,24.6264073 L75.9784579,24.6264073 Z\" />\n  </g>\n</svg>\n");

/***/ }),

/***/ "wgtH":
/*!*************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/layoutrestorer.js ***!
  \*************************************************************************************************/
/*! exports provided: ILayoutRestorer, LayoutRestorer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ILayoutRestorer", function() { return ILayoutRestorer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutRestorer", function() { return LayoutRestorer; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/properties */ "2RSD");
/* harmony import */ var _lumino_properties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_properties__WEBPACK_IMPORTED_MODULE_1__);
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/


/* tslint:disable */
/**
 * The layout restorer token.
 */
const ILayoutRestorer = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/application:ILayoutRestorer');
/**
 * The data connector key for restorer data.
 */
const KEY = 'layout-restorer:data';
/**
 * The default implementation of a layout restorer.
 *
 * #### Notes
 * The lifecycle for state restoration is subtle. The sequence of events is:
 *
 * 1. The layout restorer plugin is instantiated and makes a `fetch` call to
 *    the data connector that stores the layout restoration data. The `fetch`
 *    call returns a promise that resolves in step 6, below.
 *
 * 2. Other plugins that care about state restoration require the layout
 *    restorer as a dependency.
 *
 * 3. As each load-time plugin initializes (which happens before the front-end
 *    application has `started`), it instructs the layout restorer whether
 *    the restorer ought to `restore` its widgets by passing in its widget
 *    tracker.
 *    Alternatively, a plugin that does not require its own widget tracker
 *    (because perhaps it only creates a single widget, like a command palette),
 *    can simply `add` its widget along with a persistent unique name to the
 *    layout restorer so that its layout state can be restored when the lab
 *    application restores.
 *
 * 4. After all the load-time plugins have finished initializing, the front-end
 *    application `started` promise will resolve. This is the `first`
 *    promise that the layout restorer waits for. By this point, all of the
 *    plugins that care about restoration will have instructed the layout
 *    restorer to `restore` their widget trackers.
 *
 * 5. The layout restorer will then instruct each plugin's widget tracker
 *    to restore its state and reinstantiate whichever widgets it wants. The
 *    tracker returns a promise to the layout restorer that resolves when it
 *    has completed restoring the tracked widgets it cares about.
 *
 * 6. As each widget tracker finishes restoring the widget instances it cares
 *    about, it resolves the promise that was returned to the layout restorer
 *    (in step 5). After all of the promises that the restorer is awaiting have
 *    settled, the restorer then resolves the outstanding `fetch` promise
 *    (from step 1) and hands off a layout state object to the application
 *    shell's `restoreLayout` method for restoration.
 *
 * 7. Once the application shell has finished restoring the layout, the
 *    JupyterLab application's `restored` promise is resolved.
 *
 * Of particular note are steps 5 and 6: since data restoration of plugins
 * is accomplished by executing commands, the command that is used to restore
 * the data of each plugin must return a promise that only resolves when the
 * widget has been created and added to the plugin's widget tracker.
 */
class LayoutRestorer {
    /**
     * Create a layout restorer.
     */
    constructor(options) {
        this._firstDone = false;
        this._promisesDone = false;
        this._promises = [];
        this._restored = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["PromiseDelegate"]();
        this._trackers = new Set();
        this._widgets = new Map();
        this._connector = options.connector;
        this._first = options.first;
        this._registry = options.registry;
        void this._first
            .then(() => {
            this._firstDone = true;
        })
            .then(() => Promise.all(this._promises))
            .then(() => {
            this._promisesDone = true;
            // Release the tracker set.
            this._trackers.clear();
        })
            .then(() => {
            this._restored.resolve(void 0);
        });
    }
    /**
     * A promise resolved when the layout restorer is ready to receive signals.
     */
    get restored() {
        return this._restored.promise;
    }
    /**
     * Add a widget to be tracked by the layout restorer.
     */
    add(widget, name) {
        Private.nameProperty.set(widget, name);
        this._widgets.set(name, widget);
        widget.disposed.connect(this._onWidgetDisposed, this);
    }
    /**
     * Fetch the layout state for the application.
     *
     * #### Notes
     * Fetching the layout relies on all widget restoration to be complete, so
     * calls to `fetch` are guaranteed to return after restoration is complete.
     */
    async fetch() {
        const blank = {
            fresh: true,
            mainArea: null,
            leftArea: null,
            rightArea: null
        };
        const layout = this._connector.fetch(KEY);
        try {
            const [data] = await Promise.all([layout, this.restored]);
            if (!data) {
                return blank;
            }
            const { main, left, right } = data;
            // If any data exists, then this is not a fresh session.
            const fresh = false;
            // Rehydrate main area.
            const mainArea = this._rehydrateMainArea(main);
            // Rehydrate left area.
            const leftArea = this._rehydrateSideArea(left);
            // Rehydrate right area.
            const rightArea = this._rehydrateSideArea(right);
            return { fresh, mainArea, leftArea, rightArea };
        }
        catch (error) {
            return blank;
        }
    }
    /**
     * Restore the widgets of a particular widget tracker.
     *
     * @param tracker - The widget tracker whose widgets will be restored.
     *
     * @param options - The restoration options.
     */
    restore(tracker, options) {
        const warning = 'restore() can only be called before `first` has resolved.';
        if (this._firstDone) {
            console.warn(warning);
            return Promise.reject(warning);
        }
        const { namespace } = tracker;
        if (this._trackers.has(namespace)) {
            const warning = `A tracker namespaced ${namespace} was already restored.`;
            console.warn(warning);
            return Promise.reject(warning);
        }
        const { args, command, name, when } = options;
        // Add the tracker to the private trackers collection.
        this._trackers.add(namespace);
        // Whenever a new widget is added to the tracker, record its name.
        tracker.widgetAdded.connect((_, widget) => {
            const widgetName = name(widget);
            if (widgetName) {
                this.add(widget, `${namespace}:${widgetName}`);
            }
        }, this);
        // Whenever a widget is updated, get its new name.
        tracker.widgetUpdated.connect((_, widget) => {
            const widgetName = name(widget);
            if (widgetName) {
                const name = `${namespace}:${widgetName}`;
                Private.nameProperty.set(widget, name);
                this._widgets.set(name, widget);
            }
        });
        const first = this._first;
        const promise = tracker
            .restore({
            args: args || (() => _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["JSONExt"].emptyObject),
            command,
            connector: this._connector,
            name,
            registry: this._registry,
            when: when ? [first].concat(when) : first
        })
            .catch(error => {
            console.error(error);
        });
        this._promises.push(promise);
        return promise;
    }
    /**
     * Save the layout state for the application.
     */
    save(data) {
        // If there are promises that are unresolved, bail.
        if (!this._promisesDone) {
            let warning = 'save() was called prematurely.';
            console.warn(warning);
            return Promise.reject(warning);
        }
        let dehydrated = {};
        // Dehydrate main area.
        dehydrated.main = this._dehydrateMainArea(data.mainArea);
        // Dehydrate left area.
        dehydrated.left = this._dehydrateSideArea(data.leftArea);
        // Dehydrate right area.
        dehydrated.right = this._dehydrateSideArea(data.rightArea);
        return this._connector.save(KEY, dehydrated);
    }
    /**
     * Dehydrate a main area description into a serializable object.
     */
    _dehydrateMainArea(area) {
        if (!area) {
            return null;
        }
        return Private.serializeMain(area);
    }
    /**
     * Reydrate a serialized main area description object.
     *
     * #### Notes
     * This function consumes data that can become corrupted, so it uses type
     * coercion to guarantee the dehydrated object is safely processed.
     */
    _rehydrateMainArea(area) {
        if (!area) {
            return null;
        }
        return Private.deserializeMain(area, this._widgets);
    }
    /**
     * Dehydrate a side area description into a serializable object.
     */
    _dehydrateSideArea(area) {
        if (!area) {
            return null;
        }
        let dehydrated = { collapsed: area.collapsed };
        if (area.currentWidget) {
            let current = Private.nameProperty.get(area.currentWidget);
            if (current) {
                dehydrated.current = current;
            }
        }
        if (area.widgets) {
            dehydrated.widgets = area.widgets
                .map(widget => Private.nameProperty.get(widget))
                .filter(name => !!name);
        }
        return dehydrated;
    }
    /**
     * Reydrate a serialized side area description object.
     *
     * #### Notes
     * This function consumes data that can become corrupted, so it uses type
     * coercion to guarantee the dehydrated object is safely processed.
     */
    _rehydrateSideArea(area) {
        if (!area) {
            return { collapsed: true, currentWidget: null, widgets: null };
        }
        let internal = this._widgets;
        const collapsed = area.hasOwnProperty('collapsed')
            ? !!area.collapsed
            : false;
        const currentWidget = area.current && internal.has(`${area.current}`)
            ? internal.get(`${area.current}`)
            : null;
        const widgets = !Array.isArray(area.widgets)
            ? null
            : area.widgets
                .map(name => internal.has(`${name}`) ? internal.get(`${name}`) : null)
                .filter(widget => !!widget);
        return {
            collapsed,
            currentWidget: currentWidget,
            widgets: widgets
        };
    }
    /**
     * Handle a widget disposal.
     */
    _onWidgetDisposed(widget) {
        let name = Private.nameProperty.get(widget);
        this._widgets.delete(name);
    }
}
/*
 * A namespace for private data.
 */
var Private;
(function (Private) {
    /**
     * An attached property for a widget's ID in the serialized restore data.
     */
    Private.nameProperty = new _lumino_properties__WEBPACK_IMPORTED_MODULE_1__["AttachedProperty"]({
        name: 'name',
        create: owner => ''
    });
    /**
     * Serialize individual areas within the main area.
     */
    function serializeArea(area) {
        if (!area || !area.type) {
            return null;
        }
        if (area.type === 'tab-area') {
            return {
                type: 'tab-area',
                currentIndex: area.currentIndex,
                widgets: area.widgets
                    .map(widget => Private.nameProperty.get(widget))
                    .filter(name => !!name)
            };
        }
        return {
            type: 'split-area',
            orientation: area.orientation,
            sizes: area.sizes,
            children: area.children
                .map(serializeArea)
                .filter(area => !!area)
        };
    }
    /**
     * Return a dehydrated, serializable version of the main dock panel.
     */
    function serializeMain(area) {
        let dehydrated = {
            dock: (area && area.dock && serializeArea(area.dock.main)) || null
        };
        if (area) {
            dehydrated.mode = area.mode;
            if (area.currentWidget) {
                let current = Private.nameProperty.get(area.currentWidget);
                if (current) {
                    dehydrated.current = current;
                }
            }
        }
        return dehydrated;
    }
    Private.serializeMain = serializeMain;
    /**
     * Deserialize individual areas within the main area.
     *
     * #### Notes
     * Because this data comes from a potentially unreliable foreign source, it is
     * typed as a `JSONObject`; but the actual expected type is:
     * `ITabArea | ISplitArea`.
     *
     * For fault tolerance, types are manually checked in deserialization.
     */
    function deserializeArea(area, names) {
        if (!area) {
            return null;
        }
        // Because this data is saved to a foreign data source, its type safety is
        // not guaranteed when it is retrieved, so exhaustive checks are necessary.
        const type = area.type || 'unknown';
        if (type === 'unknown' || (type !== 'tab-area' && type !== 'split-area')) {
            console.warn(`Attempted to deserialize unknown type: ${type}`);
            return null;
        }
        if (type === 'tab-area') {
            const { currentIndex, widgets } = area;
            let hydrated = {
                type: 'tab-area',
                currentIndex: currentIndex || 0,
                widgets: (widgets &&
                    widgets
                        .map(widget => names.get(widget))
                        .filter(widget => !!widget)) ||
                    []
            };
            // Make sure the current index is within bounds.
            if (hydrated.currentIndex > hydrated.widgets.length - 1) {
                hydrated.currentIndex = 0;
            }
            return hydrated;
        }
        const { orientation, sizes, children } = area;
        let hydrated = {
            type: 'split-area',
            orientation: orientation,
            sizes: sizes || [],
            children: (children &&
                children
                    .map(child => deserializeArea(child, names))
                    .filter(widget => !!widget)) ||
                []
        };
        return hydrated;
    }
    /**
     * Return the hydrated version of the main dock panel, ready to restore.
     *
     * #### Notes
     * Because this data comes from a potentially unreliable foreign source, it is
     * typed as a `JSONObject`; but the actual expected type is: `IMainArea`.
     *
     * For fault tolerance, types are manually checked in deserialization.
     */
    function deserializeMain(area, names) {
        if (!area) {
            return null;
        }
        const name = area.current || null;
        const dock = area.dock || null;
        const mode = area.mode || null;
        return {
            currentWidget: (name && names.has(name) && names.get(name)) || null,
            dock: dock ? { main: deserializeArea(dock, names) } : null,
            mode: mode === 'multiple-document' || mode === 'single-document' ? mode : null
        };
    }
    Private.deserializeMain = deserializeMain;
})(Private || (Private = {}));
//# sourceMappingURL=layoutrestorer.js.map

/***/ }),

/***/ "wogB":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/json.svg ***!
  \***********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 22 22' style='enable-background:new 0 0 22 22;' xml:space='preserve'%3E %3Cg class='jp-icon-warn1 jp-icon-selectable' fill='%23F9A825' %3E %3Cpath d='M20.2,11.8c-1.6,0-1.7,0.5-1.7,1c0,0.4,0.1,0.9,0.1,1.3c0.1,0.5,0.1,0.9,0.1,1.3c0,1.7-1.4,2.3-3.5,2.3h-0.9 v-1.9h0.5c1.1,0,1.4,0,1.4-0.8c0-0.3,0-0.6-0.1-1c0-0.4-0.1-0.8-0.1-1.2c0-1.3,0-1.8,1.3-2l0,0c-1.3-0.2-1.3-0.7-1.3-2 c0-0.4,0.1-0.8,0.1-1.2c0.1-0.4,0.1-0.7,0.1-1c0-0.8-0.4-0.7-1.4-0.8h-0.5V4.1h0.9c2.2,0,3.5,0.7,3.5,2.3c0,0.4-0.1,0.9-0.1,1.3 c-0.1,0.5-0.1,0.9-0.1,1.3c0,0.5,0.2,1,1.7,1C20.2,10,20.2,11.8,20.2,11.8z'/%3E %3Cpath d='M1.8,10.1c1.6,0,1.7-0.5,1.7-1c0-0.4-0.1-0.9-0.1-1.3C3.3,7.3,3.3,6.9,3.3,6.5c0-1.6,1.4-2.3,3.5-2.3h0.9 v1.9H7.2c-1,0-1.4,0-1.4,0.8c0,0.3,0,0.6,0.1,1c0,0.2,0.1,0.6,0.1,1c0,1.3,0,1.8-1.3,2l0,0C6,11.2,6,11.7,6,13 c0,0.4-0.1,0.8-0.1,1.2c-0.1,0.3-0.1,0.7-0.1,1C5.8,16,6.1,16,7.2,16h0.5v1.9H6.8c-2.1,0-3.5-0.6-3.5-2.3c0-0.4,0.1-0.9,0.1-1.3 c0.1-0.5,0.1-0.9,0.1-1.3c0-0.5-0.2-1-1.7-1V10.1z'/%3E %3Ccircle cx='11' cy='13.8' r='2.1'/%3E %3Ccircle cx='11' cy='8.2' r='2.1'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "wogBm":
/*!***********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/filetype/json.svg ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 22 22\" style=\"enable-background:new 0 0 22 22;\" xml:space=\"preserve\">\n\t<g\n\t\tclass=\"jp-icon-warn1 jp-icon-selectable\"\n\t\tfill=\"#F9A825\"\n\t>\n\t\t<path d=\"M20.2,11.8c-1.6,0-1.7,0.5-1.7,1c0,0.4,0.1,0.9,0.1,1.3c0.1,0.5,0.1,0.9,0.1,1.3c0,1.7-1.4,2.3-3.5,2.3h-0.9 v-1.9h0.5c1.1,0,1.4,0,1.4-0.8c0-0.3,0-0.6-0.1-1c0-0.4-0.1-0.8-0.1-1.2c0-1.3,0-1.8,1.3-2l0,0c-1.3-0.2-1.3-0.7-1.3-2 c0-0.4,0.1-0.8,0.1-1.2c0.1-0.4,0.1-0.7,0.1-1c0-0.8-0.4-0.7-1.4-0.8h-0.5V4.1h0.9c2.2,0,3.5,0.7,3.5,2.3c0,0.4-0.1,0.9-0.1,1.3 c-0.1,0.5-0.1,0.9-0.1,1.3c0,0.5,0.2,1,1.7,1C20.2,10,20.2,11.8,20.2,11.8z\"/>\n\t\t<path d=\"M1.8,10.1c1.6,0,1.7-0.5,1.7-1c0-0.4-0.1-0.9-0.1-1.3C3.3,7.3,3.3,6.9,3.3,6.5c0-1.6,1.4-2.3,3.5-2.3h0.9 v1.9H7.2c-1,0-1.4,0-1.4,0.8c0,0.3,0,0.6,0.1,1c0,0.2,0.1,0.6,0.1,1c0,1.3,0,1.8-1.3,2l0,0C6,11.2,6,11.7,6,13 c0,0.4-0.1,0.8-0.1,1.2c-0.1,0.3-0.1,0.7-0.1,1C5.8,16,6.1,16,7.2,16h0.5v1.9H6.8c-2.1,0-3.5-0.6-3.5-2.3c0-0.4,0.1-0.9,0.1-1.3 c0.1-0.5,0.1-0.9,0.1-1.3c0-0.5-0.2-1-1.7-1V10.1z\"/>\n\t\t<circle cx=\"11\" cy=\"13.8\" r=\"2.1\"/>\n\t\t<circle cx=\"11\" cy=\"8.2\" r=\"2.1\"/>\n\t</g>\n</svg>\n");

/***/ }),

/***/ "xCN4":
/*!***********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/style/lineForm.js ***!
  \***********************************************************************************************/
/*! exports provided: hoverItem, lineFormSearch, lineFormCaption, baseLineForm, lineFormButtonDiv, lineFormButtonIcon, lineFormButton, lineFormWrapper, lineFormWrapperFocusWithin, lineFormInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hoverItem", function() { return hoverItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormSearch", function() { return lineFormSearch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormCaption", function() { return lineFormCaption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "baseLineForm", function() { return baseLineForm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormButtonDiv", function() { return lineFormButtonDiv; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormButtonIcon", function() { return lineFormButtonIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormButton", function() { return lineFormButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormWrapper", function() { return lineFormWrapper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormWrapperFocusWithin", function() { return lineFormWrapperFocusWithin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lineFormInput", function() { return lineFormInput; });
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! typestyle/lib */ "Et2g");
/* harmony import */ var typestyle_lib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

const hoverItem = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])({
    boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)'
});
const lineFormSearch = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])({
    padding: '4px 12px',
    backgroundColor: 'var(--jp-layout-color2)',
    boxShadow: 'var(--jp-toolbar-box-shadow)',
    zIndex: 2,
    fontSize: 'var(--jp-ui-font-size1)'
});
const lineFormCaption = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])({
    fontSize: 'var(--jp-ui-font-size0)',
    lineHeight: 'var(--jp-ui-font-size1)',
    marginTop: '4px',
    color: 'var(--jp-ui-font-color0)'
});
const baseLineForm = {
    border: 'none',
    borderRadius: '0px',
    position: 'absolute',
    backgroundSize: '16px',
    backgroundRepeat: 'no-repeat',
    backgroundPosition: 'center',
    outline: 'none',
    top: '0px',
    right: '0px'
};
const lineFormButtonDiv = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])(baseLineForm, {
    top: '4px',
    right: '8px',
    height: '24px',
    padding: '0px 12px',
    width: '12px'
});
const lineFormButtonIcon = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])(baseLineForm, {
    backgroundColor: 'var(--jp-brand-color1)',
    height: '100%',
    width: '100%',
    boxSizing: 'border-box',
    padding: '4px 6px'
});
const lineFormButton = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])(baseLineForm, {
    backgroundColor: 'transparent',
    height: '100%',
    width: '100%',
    boxSizing: 'border-box'
});
const lineFormWrapper = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])({
    overflow: 'hidden',
    padding: '0px 8px',
    border: '1px solid var(--jp-border-color0)',
    backgroundColor: 'var(--jp-input-active-background)',
    height: '22px'
});
const lineFormWrapperFocusWithin = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])({
    border: 'var(--jp-border-width) solid var(--md-blue-500)',
    boxShadow: 'inset 0 0 4px var(--md-blue-300)'
});
const lineFormInput = Object(typestyle_lib__WEBPACK_IMPORTED_MODULE_0__["style"])({
    background: 'transparent',
    width: '200px',
    height: '100%',
    border: 'none',
    outline: 'none',
    color: 'var(--jp-ui-font-color0)',
    lineHeight: '28px'
});
//# sourceMappingURL=lineForm.js.map

/***/ }),

/***/ "xejO":
/*!**********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/terminal/index.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const Terminal = __importStar(__webpack_require__(/*! ./terminal */ "qsQW"));
exports.Terminal = Terminal;
const TerminalAPI = __importStar(__webpack_require__(/*! ./restapi */ "0c6o"));
exports.TerminalAPI = TerminalAPI;
__export(__webpack_require__(/*! ./manager */ "QUQA"));
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "xg53":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/codemirror/lib/editor.js ***!
  \****************************************************************************************/
/*! exports provided: CodeMirrorEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeMirrorEditor", function() { return CodeMirrorEditor; });
/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! codemirror */ "FIRL");
/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/codeeditor */ "JeIE");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _lumino_polling__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lumino/polling */ "iePd");
/* harmony import */ var _lumino_polling__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lumino_polling__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lumino/disposable */ "suH0");
/* harmony import */ var _lumino_disposable__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_lumino_disposable__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _mode__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mode */ "6m1J");
/* harmony import */ var codemirror_addon_comment_comment_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! codemirror/addon/comment/comment.js */ "M+Hl");
/* harmony import */ var codemirror_addon_comment_comment_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_comment_comment_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var codemirror_addon_display_rulers_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! codemirror/addon/display/rulers.js */ "DHHs");
/* harmony import */ var codemirror_addon_display_rulers_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_display_rulers_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var codemirror_addon_edit_matchbrackets_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! codemirror/addon/edit/matchbrackets.js */ "beLB");
/* harmony import */ var codemirror_addon_edit_matchbrackets_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_edit_matchbrackets_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var codemirror_addon_edit_closebrackets_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! codemirror/addon/edit/closebrackets.js */ "RlwX");
/* harmony import */ var codemirror_addon_edit_closebrackets_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_edit_closebrackets_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var codemirror_addon_fold_foldcode_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! codemirror/addon/fold/foldcode.js */ "2iXM");
/* harmony import */ var codemirror_addon_fold_foldcode_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_fold_foldcode_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var codemirror_addon_fold_foldgutter_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! codemirror/addon/fold/foldgutter.js */ "R3cs");
/* harmony import */ var codemirror_addon_fold_foldgutter_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_fold_foldgutter_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var codemirror_addon_fold_brace_fold_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! codemirror/addon/fold/brace-fold.js */ "+nwm");
/* harmony import */ var codemirror_addon_fold_brace_fold_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_fold_brace_fold_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var codemirror_addon_fold_indent_fold_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! codemirror/addon/fold/indent-fold.js */ "egGo");
/* harmony import */ var codemirror_addon_fold_indent_fold_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_fold_indent_fold_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var codemirror_addon_fold_markdown_fold_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! codemirror/addon/fold/markdown-fold.js */ "ezdr");
/* harmony import */ var codemirror_addon_fold_markdown_fold_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_fold_markdown_fold_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var codemirror_addon_fold_xml_fold_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! codemirror/addon/fold/xml-fold.js */ "Xh6l");
/* harmony import */ var codemirror_addon_fold_xml_fold_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_fold_xml_fold_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var codemirror_addon_fold_comment_fold_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! codemirror/addon/fold/comment-fold.js */ "ENps");
/* harmony import */ var codemirror_addon_fold_comment_fold_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_fold_comment_fold_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var codemirror_addon_scroll_scrollpastend_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! codemirror/addon/scroll/scrollpastend.js */ "gfzG");
/* harmony import */ var codemirror_addon_scroll_scrollpastend_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_scroll_scrollpastend_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var codemirror_addon_search_searchcursor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! codemirror/addon/search/searchcursor */ "5Hhm");
/* harmony import */ var codemirror_addon_search_searchcursor__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_search_searchcursor__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var codemirror_addon_search_search__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! codemirror/addon/search/search */ "RGbr");
/* harmony import */ var codemirror_addon_search_search__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_search_search__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var codemirror_addon_search_jump_to_line__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! codemirror/addon/search/jump-to-line */ "IKPc");
/* harmony import */ var codemirror_addon_search_jump_to_line__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_search_jump_to_line__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var codemirror_addon_selection_active_line__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! codemirror/addon/selection/active-line */ "VDoA");
/* harmony import */ var codemirror_addon_selection_active_line__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_selection_active_line__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var codemirror_addon_selection_mark_selection__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! codemirror/addon/selection/mark-selection */ "HkxI");
/* harmony import */ var codemirror_addon_selection_mark_selection__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_selection_mark_selection__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var codemirror_addon_selection_selection_pointer__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! codemirror/addon/selection/selection-pointer */ "n1PY");
/* harmony import */ var codemirror_addon_selection_selection_pointer__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_selection_selection_pointer__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var codemirror_keymap_emacs_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! codemirror/keymap/emacs.js */ "adQ9");
/* harmony import */ var codemirror_keymap_emacs_js__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(codemirror_keymap_emacs_js__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var codemirror_keymap_sublime_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! codemirror/keymap/sublime.js */ "g0rK");
/* harmony import */ var codemirror_keymap_sublime_js__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(codemirror_keymap_sublime_js__WEBPACK_IMPORTED_MODULE_28__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
/// <reference types="codemirror"/>
/// <reference types="codemirror/searchcursor"/>
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};





























// import 'codemirror/keymap/vim.js';  lazy loading of vim mode is available in ../codemirror-extension/index.ts
/**
 * The class name added to CodeMirrorWidget instances.
 */
const EDITOR_CLASS = 'jp-CodeMirrorEditor';
/**
 * The class name added to read only cell editor widgets.
 */
const READ_ONLY_CLASS = 'jp-mod-readOnly';
/**
 * The class name for the hover box for collaborator cursors.
 */
const COLLABORATOR_CURSOR_CLASS = 'jp-CollaboratorCursor';
/**
 * The class name for the hover box for collaborator cursors.
 */
const COLLABORATOR_HOVER_CLASS = 'jp-CollaboratorCursor-hover';
/**
 * The key code for the up arrow key.
 */
const UP_ARROW = 38;
/**
 * The key code for the down arrow key.
 */
const DOWN_ARROW = 40;
/**
 * The time that a collaborator name hover persists.
 */
const HOVER_TIMEOUT = 1000;
/**
 * CodeMirror editor.
 */
class CodeMirrorEditor {
    /**
     * Construct a CodeMirror editor.
     */
    constructor(options) {
        /**
         * A signal emitted when either the top or bottom edge is requested.
         */
        this.edgeRequested = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_7__["Signal"](this);
        this.selectionMarkers = {};
        this._keydownHandlers = new Array();
        this._changeGuard = false;
        this._uuid = '';
        this._needsRefresh = false;
        this._isDisposed = false;
        this._lastChange = null;
        let host = (this.host = options.host);
        host.classList.add(EDITOR_CLASS);
        host.classList.add('jp-Editor');
        host.addEventListener('focus', this, true);
        host.addEventListener('blur', this, true);
        host.addEventListener('scroll', this, true);
        this._uuid = options.uuid || _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__["UUID"].uuid4();
        // Handle selection style.
        let style = options.selectionStyle || {};
        this._selectionStyle = Object.assign(Object.assign({}, _jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_2__["CodeEditor"].defaultSelectionStyle), style);
        let model = (this._model = options.model);
        let config = options.config || {};
        let fullConfig = (this._config = Object.assign(Object.assign({}, CodeMirrorEditor.defaultConfig), config));
        let editor = (this._editor = Private.createEditor(host, fullConfig));
        let doc = editor.getDoc();
        // Handle initial values for text, mimetype, and selections.
        doc.setValue(model.value.text);
        this.clearHistory();
        this._onMimeTypeChanged();
        this._onCursorActivity();
        this._poll = new _lumino_polling__WEBPACK_IMPORTED_MODULE_5__["Poll"]({
            factory: async () => {
                this._checkSync();
            },
            frequency: { interval: 3000, backoff: false },
            standby: () => {
                // If changed, only stand by when hidden, otherwise always stand by.
                return this._lastChange ? 'when-hidden' : true;
            }
        });
        // Connect to changes.
        model.value.changed.connect(this._onValueChanged, this);
        model.mimeTypeChanged.connect(this._onMimeTypeChanged, this);
        model.selections.changed.connect(this._onSelectionsChanged, this);
        codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.on(editor, 'keydown', (editor, event) => {
            let index = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_3__["ArrayExt"].findFirstIndex(this._keydownHandlers, handler => {
                if (handler(this, event) === true) {
                    event.preventDefault();
                    return true;
                }
                return false;
            });
            if (index === -1) {
                this.onKeydown(event);
            }
        });
        codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.on(editor, 'cursorActivity', () => this._onCursorActivity());
        codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.on(editor.getDoc(), 'beforeChange', (instance, change) => {
            this._beforeDocChanged(instance, change);
        });
        codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.on(editor.getDoc(), 'change', (instance, change) => {
            // Manually refresh after setValue to make sure editor is properly sized.
            if (change.origin === 'setValue' && this.hasFocus()) {
                this.refresh();
            }
            this._lastChange = change;
        });
        // Manually refresh on paste to make sure editor is properly sized.
        editor.getWrapperElement().addEventListener('paste', () => {
            if (this.hasFocus()) {
                this.refresh();
            }
        });
    }
    /**
     * The uuid of this editor;
     */
    get uuid() {
        return this._uuid;
    }
    set uuid(value) {
        this._uuid = value;
    }
    /**
     * The selection style of this editor.
     */
    get selectionStyle() {
        return this._selectionStyle;
    }
    set selectionStyle(value) {
        this._selectionStyle = value;
    }
    /**
     * Get the codemirror editor wrapped by the editor.
     */
    get editor() {
        return this._editor;
    }
    /**
     * Get the codemirror doc wrapped by the widget.
     */
    get doc() {
        return this._editor.getDoc();
    }
    /**
     * Get the number of lines in the editor.
     */
    get lineCount() {
        return this.doc.lineCount();
    }
    /**
     * Returns a model for this editor.
     */
    get model() {
        return this._model;
    }
    /**
     * The height of a line in the editor in pixels.
     */
    get lineHeight() {
        return this._editor.defaultTextHeight();
    }
    /**
     * The widget of a character in the editor in pixels.
     */
    get charWidth() {
        return this._editor.defaultCharWidth();
    }
    /**
     * Tests whether the editor is disposed.
     */
    get isDisposed() {
        return this._isDisposed;
    }
    /**
     * Dispose of the resources held by the widget.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._isDisposed = true;
        this.host.removeEventListener('focus', this, true);
        this.host.removeEventListener('blur', this, true);
        this.host.removeEventListener('scroll', this, true);
        this._keydownHandlers.length = 0;
        this._poll.dispose();
        _lumino_signaling__WEBPACK_IMPORTED_MODULE_7__["Signal"].clearData(this);
    }
    /**
     * Get a config option for the editor.
     */
    getOption(option) {
        return this._config[option];
    }
    /**
     * Set a config option for the editor.
     */
    setOption(option, value) {
        // Don't bother setting the option if it is already the same.
        if (this._config[option] !== value) {
            this._config[option] = value;
            Private.setOption(this.editor, option, value, this._config);
        }
    }
    /**
     * Returns the content for the given line number.
     */
    getLine(line) {
        return this.doc.getLine(line);
    }
    /**
     * Find an offset for the given position.
     */
    getOffsetAt(position) {
        return this.doc.indexFromPos({
            ch: position.column,
            line: position.line
        });
    }
    /**
     * Find a position for the given offset.
     */
    getPositionAt(offset) {
        const { ch, line } = this.doc.posFromIndex(offset);
        return { line, column: ch };
    }
    /**
     * Undo one edit (if any undo events are stored).
     */
    undo() {
        this.doc.undo();
    }
    /**
     * Redo one undone edit.
     */
    redo() {
        this.doc.redo();
    }
    /**
     * Clear the undo history.
     */
    clearHistory() {
        this.doc.clearHistory();
    }
    /**
     * Brings browser focus to this editor text.
     */
    focus() {
        this._editor.focus();
    }
    /**
     * Test whether the editor has keyboard focus.
     */
    hasFocus() {
        return this._editor.getWrapperElement().contains(document.activeElement);
    }
    /**
     * Explicitly blur the editor.
     */
    blur() {
        this._editor.getInputField().blur();
    }
    /**
     * Repaint editor.
     */
    refresh() {
        this._editor.refresh();
        this._needsRefresh = false;
    }
    /**
     * Refresh the editor if it is focused;
     * otherwise postpone refreshing till focusing.
     */
    resizeToFit() {
        if (this.hasFocus()) {
            this.refresh();
        }
        else {
            this._needsRefresh = true;
        }
        this._clearHover();
    }
    // todo: docs, maybe define overlay options as a type?
    addOverlay(mode, options) {
        this._editor.addOverlay(mode, options);
    }
    removeOverlay(mode) {
        this._editor.removeOverlay(mode);
    }
    getSearchCursor(query, start, caseFold) {
        return this._editor.getDoc().getSearchCursor(query, start, caseFold);
    }
    getCursor(start) {
        return this._editor.getDoc().getCursor(start);
    }
    get state() {
        return this._editor.state;
    }
    operation(fn) {
        return this._editor.operation(fn);
    }
    firstLine() {
        return this._editor.getDoc().firstLine();
    }
    lastLine() {
        return this._editor.getDoc().lastLine();
    }
    scrollIntoView(pos, margin) {
        this._editor.scrollIntoView(pos, margin);
    }
    cursorCoords(where, mode) {
        return this._editor.cursorCoords(where, mode);
    }
    getRange(from, to, seperator) {
        return this._editor.getDoc().getRange(from, to, seperator);
    }
    /**
     * Add a keydown handler to the editor.
     *
     * @param handler - A keydown handler.
     *
     * @returns A disposable that can be used to remove the handler.
     */
    addKeydownHandler(handler) {
        this._keydownHandlers.push(handler);
        return new _lumino_disposable__WEBPACK_IMPORTED_MODULE_6__["DisposableDelegate"](() => {
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_3__["ArrayExt"].removeAllWhere(this._keydownHandlers, val => val === handler);
        });
    }
    /**
     * Set the size of the editor in pixels.
     */
    setSize(dimension) {
        if (dimension) {
            this._editor.setSize(dimension.width, dimension.height);
        }
        else {
            this._editor.setSize(null, null);
        }
        this._needsRefresh = false;
    }
    /**
     * Reveal the given position in the editor.
     */
    revealPosition(position) {
        const cmPosition = this._toCodeMirrorPosition(position);
        this._editor.scrollIntoView(cmPosition);
    }
    /**
     * Reveal the given selection in the editor.
     */
    revealSelection(selection) {
        const range = {
            from: this._toCodeMirrorPosition(selection.start),
            to: this._toCodeMirrorPosition(selection.end)
        };
        this._editor.scrollIntoView(range);
    }
    /**
     * Get the window coordinates given a cursor position.
     */
    getCoordinateForPosition(position) {
        const pos = this._toCodeMirrorPosition(position);
        const rect = this.editor.charCoords(pos, 'page');
        return rect;
    }
    /**
     * Get the cursor position given window coordinates.
     *
     * @param coordinate - The desired coordinate.
     *
     * @returns The position of the coordinates, or null if not
     *   contained in the editor.
     */
    getPositionForCoordinate(coordinate) {
        return this._toPosition(this.editor.coordsChar(coordinate)) || null;
    }
    /**
     * Returns the primary position of the cursor, never `null`.
     */
    getCursorPosition() {
        const cursor = this.doc.getCursor();
        return this._toPosition(cursor);
    }
    /**
     * Set the primary position of the cursor.
     *
     * #### Notes
     * This will remove any secondary cursors.
     */
    setCursorPosition(position, options) {
        const cursor = this._toCodeMirrorPosition(position);
        this.doc.setCursor(cursor, undefined, options);
        // If the editor does not have focus, this cursor change
        // will get screened out in _onCursorsChanged(). Make an
        // exception for this method.
        if (!this.editor.hasFocus()) {
            this.model.selections.set(this.uuid, this.getSelections());
        }
    }
    /**
     * Returns the primary selection, never `null`.
     */
    getSelection() {
        return this.getSelections()[0];
    }
    /**
     * Set the primary selection. This will remove any secondary cursors.
     */
    setSelection(selection) {
        this.setSelections([selection]);
    }
    /**
     * Gets the selections for all the cursors, never `null` or empty.
     */
    getSelections() {
        const selections = this.doc.listSelections();
        if (selections.length > 0) {
            return selections.map(selection => this._toSelection(selection));
        }
        const cursor = this.doc.getCursor();
        const selection = this._toSelection({ anchor: cursor, head: cursor });
        return [selection];
    }
    /**
     * Sets the selections for all the cursors, should not be empty.
     * Cursors will be removed or added, as necessary.
     * Passing an empty array resets a cursor position to the start of a document.
     */
    setSelections(selections) {
        const cmSelections = this._toCodeMirrorSelections(selections);
        this.doc.setSelections(cmSelections, 0);
    }
    /**
     * Get a list of tokens for the current editor text content.
     */
    getTokens() {
        let tokens = [];
        for (let i = 0; i < this.lineCount; ++i) {
            const lineTokens = this.editor.getLineTokens(i).map(t => ({
                offset: this.getOffsetAt({ column: t.start, line: i }),
                value: t.string,
                type: t.type || ''
            }));
            tokens = tokens.concat(lineTokens);
        }
        return tokens;
    }
    /**
     * Get the token at a given editor position.
     */
    getTokenForPosition(position) {
        var _a;
        const cursor = this._toCodeMirrorPosition(position);
        const token = this.editor.getTokenAt(cursor);
        return {
            offset: this.getOffsetAt({ column: token.start, line: cursor.line }),
            value: token.string,
            type: (_a = token.type, (_a !== null && _a !== void 0 ? _a : undefined))
        };
    }
    /**
     * Insert a new indented line at the current cursor position.
     */
    newIndentedLine() {
        this.execCommand('newlineAndIndent');
    }
    /**
     * Execute a codemirror command on the editor.
     *
     * @param command - The name of the command to execute.
     */
    execCommand(command) {
        this._editor.execCommand(command);
    }
    /**
     * Handle keydown events from the editor.
     */
    onKeydown(event) {
        let position = this.getCursorPosition();
        let { line, column } = position;
        if (line === 0 && column === 0 && event.keyCode === UP_ARROW) {
            if (!event.shiftKey) {
                this.edgeRequested.emit('top');
            }
            return false;
        }
        if (line === 0 && event.keyCode === UP_ARROW) {
            if (!event.shiftKey) {
                this.edgeRequested.emit('topLine');
            }
            return false;
        }
        let lastLine = this.lineCount - 1;
        let lastCh = this.getLine(lastLine).length;
        if (line === lastLine &&
            column === lastCh &&
            event.keyCode === DOWN_ARROW) {
            if (!event.shiftKey) {
                this.edgeRequested.emit('bottom');
            }
            return false;
        }
        return false;
    }
    /**
     * Converts selections to code mirror selections.
     */
    _toCodeMirrorSelections(selections) {
        if (selections.length > 0) {
            return selections.map(selection => this._toCodeMirrorSelection(selection));
        }
        const position = { line: 0, ch: 0 };
        return [{ anchor: position, head: position }];
    }
    /**
     * Handles a mime type change.
     */
    _onMimeTypeChanged() {
        const mime = this._model.mimeType;
        let editor = this._editor;
        // TODO: should we provide a hook for when the
        // mode is done being set?
        void _mode__WEBPACK_IMPORTED_MODULE_8__["Mode"].ensure(mime).then(spec => {
            var _a, _b;
            editor.setOption('mode', (_b = (_a = spec) === null || _a === void 0 ? void 0 : _a.mime, (_b !== null && _b !== void 0 ? _b : 'null')));
        });
        let extraKeys = editor.getOption('extraKeys') || {};
        const isCode = mime !== 'text/plain' && mime !== 'text/x-ipythongfm';
        if (isCode) {
            extraKeys['Backspace'] = 'delSpaceToPrevTabStop';
        }
        else {
            delete extraKeys['Backspace'];
        }
        editor.setOption('extraKeys', extraKeys);
    }
    /**
     * Handles a selections change.
     */
    _onSelectionsChanged(selections, args) {
        const uuid = args.key;
        if (uuid !== this.uuid) {
            this._cleanSelections(uuid);
            if (args.type !== 'remove' && args.newValue) {
                this._markSelections(uuid, args.newValue);
            }
        }
    }
    /**
     * Clean selections for the given uuid.
     */
    _cleanSelections(uuid) {
        const markers = this.selectionMarkers[uuid];
        if (markers) {
            markers.forEach(marker => {
                marker.clear();
            });
        }
        delete this.selectionMarkers[uuid];
    }
    /**
     * Marks selections.
     */
    _markSelections(uuid, selections) {
        const markers = [];
        // If we are marking selections corresponding to an active hover,
        // remove it.
        if (uuid === this._hoverId) {
            this._clearHover();
        }
        // If we can id the selection to a specific collaborator,
        // use that information.
        let collaborator;
        if (this._model.modelDB.collaborators) {
            collaborator = this._model.modelDB.collaborators.get(uuid);
        }
        // Style each selection for the uuid.
        selections.forEach(selection => {
            // Only render selections if the start is not equal to the end.
            // In that case, we don't need to render the cursor.
            if (!_lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__["JSONExt"].deepEqual(selection.start, selection.end)) {
                // Selections only appear to render correctly if the anchor
                // is before the head in the document. That is, reverse selections
                // do not appear as intended.
                let forward = selection.start.line < selection.end.line ||
                    (selection.start.line === selection.end.line &&
                        selection.start.column <= selection.end.column);
                let anchor = this._toCodeMirrorPosition(forward ? selection.start : selection.end);
                let head = this._toCodeMirrorPosition(forward ? selection.end : selection.start);
                let markerOptions;
                if (collaborator) {
                    markerOptions = this._toTextMarkerOptions(Object.assign(Object.assign({}, selection.style), { color: collaborator.color }));
                }
                else {
                    markerOptions = this._toTextMarkerOptions(selection.style);
                }
                markers.push(this.doc.markText(anchor, head, markerOptions));
            }
            else if (collaborator) {
                let caret = this._getCaret(collaborator);
                markers.push(this.doc.setBookmark(this._toCodeMirrorPosition(selection.end), {
                    widget: caret
                }));
            }
        });
        this.selectionMarkers[uuid] = markers;
    }
    /**
     * Handles a cursor activity event.
     */
    _onCursorActivity() {
        // Only add selections if the editor has focus. This avoids unwanted
        // triggering of cursor activity due to collaborator actions.
        if (this._editor.hasFocus()) {
            const selections = this.getSelections();
            this.model.selections.set(this.uuid, selections);
        }
    }
    /**
     * Converts a code mirror selection to an editor selection.
     */
    _toSelection(selection) {
        return {
            uuid: this.uuid,
            start: this._toPosition(selection.anchor),
            end: this._toPosition(selection.head),
            style: this.selectionStyle
        };
    }
    /**
     * Converts the selection style to a text marker options.
     */
    _toTextMarkerOptions(style) {
        let r = parseInt(style.color.slice(1, 3), 16);
        let g = parseInt(style.color.slice(3, 5), 16);
        let b = parseInt(style.color.slice(5, 7), 16);
        let css = `background-color: rgba( ${r}, ${g}, ${b}, 0.15)`;
        return {
            className: style.className,
            title: style.displayName,
            css
        };
    }
    /**
     * Converts an editor selection to a code mirror selection.
     */
    _toCodeMirrorSelection(selection) {
        return {
            anchor: this._toCodeMirrorPosition(selection.start),
            head: this._toCodeMirrorPosition(selection.end)
        };
    }
    /**
     * Convert a code mirror position to an editor position.
     */
    _toPosition(position) {
        return {
            line: position.line,
            column: position.ch
        };
    }
    /**
     * Convert an editor position to a code mirror position.
     */
    _toCodeMirrorPosition(position) {
        return {
            line: position.line,
            ch: position.column
        };
    }
    /**
     * Handle model value changes.
     */
    _onValueChanged(value, args) {
        if (this._changeGuard) {
            return;
        }
        this._changeGuard = true;
        let doc = this.doc;
        switch (args.type) {
            case 'insert':
                let pos = doc.posFromIndex(args.start);
                // Replace the range, including a '+input' orign,
                // which indicates that CodeMirror may merge changes
                // for undo/redo purposes.
                doc.replaceRange(args.value, pos, pos, '+input');
                break;
            case 'remove':
                let from = doc.posFromIndex(args.start);
                let to = doc.posFromIndex(args.end);
                // Replace the range, including a '+input' orign,
                // which indicates that CodeMirror may merge changes
                // for undo/redo purposes.
                doc.replaceRange('', from, to, '+input');
                break;
            case 'set':
                doc.setValue(args.value);
                break;
            default:
                break;
        }
        this._changeGuard = false;
    }
    /**
     * Handles document changes.
     */
    _beforeDocChanged(doc, change) {
        if (this._changeGuard) {
            return;
        }
        this._changeGuard = true;
        let value = this._model.value;
        let start = doc.indexFromPos(change.from);
        let end = doc.indexFromPos(change.to);
        let inserted = change.text.join('\n');
        if (end !== start) {
            value.remove(start, end);
        }
        if (inserted) {
            value.insert(start, inserted);
        }
        this._changeGuard = false;
    }
    /**
     * Handle the DOM events for the editor.
     *
     * @param event - The DOM event sent to the editor.
     *
     * #### Notes
     * This method implements the DOM `EventListener` interface and is
     * called in response to events on the editor's DOM node. It should
     * not be called directly by user code.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'focus':
                this._evtFocus(event);
                break;
            case 'blur':
                this._evtBlur(event);
                break;
            case 'scroll':
                this._evtScroll();
                break;
            default:
                break;
        }
    }
    /**
     * Handle `focus` events for the editor.
     */
    _evtFocus(event) {
        if (this._needsRefresh) {
            this.refresh();
        }
        this.host.classList.add('jp-mod-focused');
        // Update the selections on editor gaining focus because
        // the onCursorActivity function filters usual cursor events
        // based on the editor's focus.
        this._onCursorActivity();
    }
    /**
     * Handle `blur` events for the editor.
     */
    _evtBlur(event) {
        this.host.classList.remove('jp-mod-focused');
    }
    /**
     * Handle `scroll` events for the editor.
     */
    _evtScroll() {
        // Remove any active hover.
        this._clearHover();
    }
    /**
     * Clear the hover for a caret, due to things like
     * scrolling, resizing, deactivation, etc, where
     * the position is no longer valid.
     */
    _clearHover() {
        if (this._caretHover) {
            window.clearTimeout(this._hoverTimeout);
            document.body.removeChild(this._caretHover);
            this._caretHover = null;
        }
    }
    /**
     * Construct a caret element representing the position
     * of a collaborator's cursor.
     */
    _getCaret(collaborator) {
        let name = collaborator ? collaborator.displayName : 'Anonymous';
        let color = collaborator ? collaborator.color : this._selectionStyle.color;
        let caret = document.createElement('span');
        caret.className = COLLABORATOR_CURSOR_CLASS;
        caret.style.borderBottomColor = color;
        caret.onmouseenter = () => {
            this._clearHover();
            this._hoverId = collaborator.sessionId;
            let rect = caret.getBoundingClientRect();
            // Construct and place the hover box.
            let hover = document.createElement('div');
            hover.className = COLLABORATOR_HOVER_CLASS;
            hover.style.left = String(rect.left) + 'px';
            hover.style.top = String(rect.bottom) + 'px';
            hover.textContent = name;
            hover.style.backgroundColor = color;
            // If the user mouses over the hover, take over the timer.
            hover.onmouseenter = () => {
                window.clearTimeout(this._hoverTimeout);
            };
            hover.onmouseleave = () => {
                this._hoverTimeout = window.setTimeout(() => {
                    this._clearHover();
                }, HOVER_TIMEOUT);
            };
            this._caretHover = hover;
            document.body.appendChild(hover);
        };
        caret.onmouseleave = () => {
            this._hoverTimeout = window.setTimeout(() => {
                this._clearHover();
            }, HOVER_TIMEOUT);
        };
        return caret;
    }
    /**
     * Check for an out of sync editor.
     */
    _checkSync() {
        let change = this._lastChange;
        if (!change) {
            return;
        }
        this._lastChange = null;
        let editor = this._editor;
        let doc = editor.getDoc();
        if (doc.getValue() === this._model.value.text) {
            return;
        }
        void Object(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["showDialog"])({
            title: 'Code Editor out of Sync',
            body: 'Please open your browser JavaScript console for bug report instructions'
        });
        console.log('Please paste the following to https://github.com/jupyterlab/jupyterlab/issues/2951');
        console.log(JSON.stringify({
            model: this._model.value.text,
            view: doc.getValue(),
            selections: this.getSelections(),
            cursor: this.getCursorPosition(),
            lineSep: editor.getOption('lineSeparator'),
            mode: editor.getOption('mode'),
            change
        }));
    }
}
/**
 * The namespace for `CodeMirrorEditor` statics.
 */
(function (CodeMirrorEditor) {
    /**
     * The default configuration options for an editor.
     */
    CodeMirrorEditor.defaultConfig = Object.assign(Object.assign({}, _jupyterlab_codeeditor__WEBPACK_IMPORTED_MODULE_2__["CodeEditor"].defaultConfig), { mode: 'null', theme: 'jupyter', smartIndent: true, electricChars: true, keyMap: 'default', extraKeys: null, gutters: [], fixedGutter: true, showCursorWhenSelecting: false, coverGutterNextToScrollbar: false, dragDrop: true, lineSeparator: null, scrollbarStyle: 'native', lineWiseCopyCut: true, scrollPastEnd: false, styleActiveLine: false, styleSelectedText: true, selectionPointer: false, rulers: [], foldGutter: false });
    /**
     * Add a command to CodeMirror.
     *
     * @param name - The name of the command to add.
     *
     * @param command - The command function.
     */
    function addCommand(name, command) {
        codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.commands[name] = command;
    }
    CodeMirrorEditor.addCommand = addCommand;
})(CodeMirrorEditor || (CodeMirrorEditor = {}));
/**
 * The namespace for module private data.
 */
var Private;
(function (Private) {
    function createEditor(host, config) {
        let { autoClosingBrackets, fontFamily, fontSize, insertSpaces, lineHeight, lineWrap, wordWrapColumn, tabSize, readOnly } = config, otherOptions = __rest(config, ["autoClosingBrackets", "fontFamily", "fontSize", "insertSpaces", "lineHeight", "lineWrap", "wordWrapColumn", "tabSize", "readOnly"]);
        let bareConfig = Object.assign({ autoCloseBrackets: autoClosingBrackets ? {} : false, indentUnit: tabSize, indentWithTabs: !insertSpaces, lineWrapping: lineWrap === 'off' ? false : true, readOnly }, otherOptions);
        return codemirror__WEBPACK_IMPORTED_MODULE_0___default()(el => {
            if (fontFamily) {
                el.style.fontFamily = fontFamily;
            }
            if (fontSize) {
                el.style.fontSize = fontSize + 'px';
            }
            if (lineHeight) {
                el.style.lineHeight = lineHeight.toString();
            }
            if (readOnly) {
                el.classList.add(READ_ONLY_CLASS);
            }
            if (lineWrap === 'wordWrapColumn') {
                const lines = el.querySelector('.CodeMirror-lines');
                lines.style.width = `${wordWrapColumn}ch`;
            }
            if (lineWrap === 'bounded') {
                const lines = el.querySelector('.CodeMirror-lines');
                lines.style.maxWidth = `${wordWrapColumn}ch`;
            }
            host.appendChild(el);
        }, bareConfig);
    }
    Private.createEditor = createEditor;
    /**
     * Indent or insert a tab as appropriate.
     */
    function indentMoreOrinsertTab(cm) {
        let doc = cm.getDoc();
        let from = doc.getCursor('from');
        let to = doc.getCursor('to');
        let sel = !posEq(from, to);
        if (sel) {
            codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.commands['indentMore'](cm);
            return;
        }
        // Check for start of line.
        let line = doc.getLine(from.line);
        let before = line.slice(0, from.ch);
        if (/^\s*$/.test(before)) {
            codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.commands['indentMore'](cm);
        }
        else {
            if (cm.getOption('indentWithTabs')) {
                codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.commands['insertTab'](cm);
            }
            else {
                codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.commands['insertSoftTab'](cm);
            }
        }
    }
    Private.indentMoreOrinsertTab = indentMoreOrinsertTab;
    /**
     * Delete spaces to the previous tab stob in a codemirror editor.
     */
    function delSpaceToPrevTabStop(cm) {
        let doc = cm.getDoc();
        let tabSize = cm.getOption('indentUnit');
        let ranges = doc.listSelections(); // handle multicursor
        for (let i = ranges.length - 1; i >= 0; i--) {
            // iterate reverse so any deletions don't overlap
            let head = ranges[i].head;
            let anchor = ranges[i].anchor;
            let isSelection = !posEq(head, anchor);
            if (isSelection) {
                doc.replaceRange('', anchor, head);
            }
            else {
                let line = doc.getLine(head.line).substring(0, head.ch);
                if (line.match(/^\ +$/) !== null) {
                    // delete tabs
                    let prevTabStop = (Math.ceil(head.ch / tabSize) - 1) * tabSize;
                    let from = codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.Pos(head.line, prevTabStop);
                    doc.replaceRange('', from, head);
                }
                else {
                    // delete non-tabs
                    if (head.ch === 0) {
                        if (head.line !== 0) {
                            let from = codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.Pos(head.line - 1, doc.getLine(head.line - 1).length);
                            doc.replaceRange('', from, head);
                        }
                    }
                    else {
                        let from = codemirror__WEBPACK_IMPORTED_MODULE_0___default.a.Pos(head.line, head.ch - 1);
                        doc.replaceRange('', from, head);
                    }
                }
            }
        }
    }
    Private.delSpaceToPrevTabStop = delSpaceToPrevTabStop;
    /**
     * Test whether two CodeMirror positions are equal.
     */
    function posEq(a, b) {
        return a.line === b.line && a.ch === b.ch;
    }
    Private.posEq = posEq;
    /**
     * Get the list of active gutters
     *
     * @param config Editor configuration
     */
    function getActiveGutters(config) {
        // The order of the classes will be the gutters order
        let classToSwitch = {
            'CodeMirror-linenumbers': 'lineNumbers',
            'CodeMirror-foldgutter': 'codeFolding'
        };
        return Object.keys(classToSwitch).filter(gutter => config[classToSwitch[gutter]]);
    }
    /**
     * Set a config option for the editor.
     */
    function setOption(editor, option, value, config) {
        let el = editor.getWrapperElement();
        switch (option) {
            case 'lineWrap':
                const lineWrapping = value === 'off' ? false : true;
                const lines = el.querySelector('.CodeMirror-lines');
                const maxWidth = value === 'bounded' ? `${config.wordWrapColumn}ch` : null;
                const width = value === 'wordWrapColumn' ? `${config.wordWrapColumn}ch` : null;
                lines.style.setProperty('maxWidth', maxWidth);
                lines.style.setProperty('width', width);
                editor.setOption('lineWrapping', lineWrapping);
                break;
            case 'wordWrapColumn':
                const { lineWrap } = config;
                if (lineWrap === 'wordWrapColumn' || lineWrap === 'bounded') {
                    const lines = el.querySelector('.CodeMirror-lines');
                    const prop = lineWrap === 'wordWrapColumn' ? 'width' : 'maxWidth';
                    lines.style[prop] = `${value}ch`;
                }
                break;
            case 'tabSize':
                editor.setOption('indentUnit', value);
                break;
            case 'insertSpaces':
                editor.setOption('indentWithTabs', !value);
                break;
            case 'autoClosingBrackets':
                editor.setOption('autoCloseBrackets', value);
                break;
            case 'rulers':
                let rulers = value;
                editor.setOption('rulers', rulers.map(column => {
                    return {
                        column,
                        className: 'jp-CodeMirror-ruler'
                    };
                }));
                break;
            case 'readOnly':
                el.classList.toggle(READ_ONLY_CLASS, value);
                editor.setOption(option, value);
                break;
            case 'fontFamily':
                el.style.fontFamily = value;
                break;
            case 'fontSize':
                el.style.setProperty('fontSize', value ? value + 'px' : null);
                break;
            case 'lineHeight':
                el.style.lineHeight = value ? value.toString() : null;
                break;
            case 'gutters':
                editor.setOption(option, getActiveGutters(config));
                break;
            case 'lineNumbers':
                editor.setOption(option, value);
                editor.setOption('gutters', getActiveGutters(config));
                break;
            case 'codeFolding':
                editor.setOption('foldGutter', value);
                editor.setOption('gutters', getActiveGutters(config));
                break;
            default:
                editor.setOption(option, value);
                break;
        }
    }
    Private.setOption = setOption;
})(Private || (Private = {}));
/**
 * Add a CodeMirror command to delete until previous non blanking space
 * character or first multiple of tabsize tabstop.
 */
CodeMirrorEditor.addCommand('delSpaceToPrevTabStop', Private.delSpaceToPrevTabStop);
/**
 * Add a CodeMirror command to indent or insert a tab as appropriate.
 */
CodeMirrorEditor.addCommand('indentMoreOrinsertTab', Private.indentMoreOrinsertTab);
//# sourceMappingURL=editor.js.map

/***/ }),

/***/ "xmJR":
/*!**************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/mainmenu/lib/tokens.js ***!
  \**************************************************************************************/
/*! exports provided: IMainMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IMainMenu", function() { return IMainMenu; });
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.

/* tslint:disable */
/**
 * The main menu token.
 */
const IMainMenu = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_0__["Token"]('@jupyterlab/mainmenu:IMainMenu');
//# sourceMappingURL=tokens.js.map

/***/ }),

/***/ "xxa+":
/*!************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/session/validate.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
const validate_1 = __webpack_require__(/*! ../kernel/validate */ "8o6w");
const validate_2 = __webpack_require__(/*! ../validate */ "VVJs");
/**
 * Validate an `Session.IModel` object.
 */
function validateModel(data) {
    validate_2.validateProperty(data, 'id', 'string');
    validate_2.validateProperty(data, 'type', 'string');
    validate_2.validateProperty(data, 'name', 'string');
    validate_2.validateProperty(data, 'path', 'string');
    validate_2.validateProperty(data, 'kernel', 'object');
    validate_1.validateModel(data.kernel);
}
exports.validateModel = validateModel;
/**
 * Update model from legacy session data.
 */
function updateLegacySessionModel(data) {
    if (data.path === undefined && data.notebook !== undefined) {
        data.path = data.notebook.path;
        data.type = 'notebook';
        data.name = '';
    }
}
exports.updateLegacySessionModel = updateLegacySessionModel;
/**
 * Validate an array of `Session.IModel` objects.
 */
function validateModels(models) {
    if (!Array.isArray(models)) {
        throw new Error('Invalid session list');
    }
    models.forEach(d => validateModel(d));
}
exports.validateModels = validateModels;
//# sourceMappingURL=validate.js.map

/***/ }),

/***/ "y/+z":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/services/lib/kernel/comm.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const disposable_1 = __webpack_require__(/*! @lumino/disposable */ "suH0");
const KernelMessage = __importStar(__webpack_require__(/*! ./messages */ "s/ac"));
/**
 * Comm channel handler.
 */
class CommHandler extends disposable_1.DisposableDelegate {
    /**
     * Construct a new comm channel.
     */
    constructor(target, id, kernel, disposeCb) {
        super(disposeCb);
        this._target = '';
        this._id = '';
        this._id = id;
        this._target = target;
        this._kernel = kernel;
    }
    /**
     * The unique id for the comm channel.
     */
    get commId() {
        return this._id;
    }
    /**
     * The target name for the comm channel.
     */
    get targetName() {
        return this._target;
    }
    /**
     * Get the callback for a comm close event.
     *
     * #### Notes
     * This is called when the comm is closed from either the server or client.
     *
     * **See also:** [[ICommClose]], [[close]]
     */
    get onClose() {
        return this._onClose;
    }
    /**
     * Set the callback for a comm close event.
     *
     * #### Notes
     * This is called when the comm is closed from either the server or client. If
     * the function returns a promise, and the kernel was closed from the server,
     * kernel message processing will pause until the returned promise is
     * fulfilled.
     *
     * **See also:** [[close]]
     */
    set onClose(cb) {
        this._onClose = cb;
    }
    /**
     * Get the callback for a comm message received event.
     */
    get onMsg() {
        return this._onMsg;
    }
    /**
     * Set the callback for a comm message received event.
     *
     * #### Notes
     * This is called when a comm message is received. If the function returns a
     * promise, kernel message processing will pause until it is fulfilled.
     */
    set onMsg(cb) {
        this._onMsg = cb;
    }
    /**
     * Open a comm with optional data and metadata.
     *
     * #### Notes
     * This sends a `comm_open` message to the server.
     *
     * **See also:** [[ICommOpen]]
     */
    open(data, metadata, buffers = []) {
        if (this.isDisposed || this._kernel.isDisposed) {
            throw new Error('Cannot open');
        }
        let msg = KernelMessage.createMessage({
            msgType: 'comm_open',
            channel: 'shell',
            username: this._kernel.username,
            session: this._kernel.clientId,
            content: {
                comm_id: this._id,
                target_name: this._target,
                data: (data !== null && data !== void 0 ? data : {})
            },
            metadata,
            buffers
        });
        return this._kernel.sendShellMessage(msg, false, true);
    }
    /**
     * Send a `comm_msg` message to the kernel.
     *
     * #### Notes
     * This is a no-op if the comm has been closed.
     *
     * **See also:** [[ICommMsg]]
     */
    send(data, metadata, buffers = [], disposeOnDone = true) {
        if (this.isDisposed || this._kernel.isDisposed) {
            throw new Error('Cannot send');
        }
        let msg = KernelMessage.createMessage({
            msgType: 'comm_msg',
            channel: 'shell',
            username: this._kernel.username,
            session: this._kernel.clientId,
            content: {
                comm_id: this._id,
                data: data
            },
            metadata,
            buffers
        });
        return this._kernel.sendShellMessage(msg, false, disposeOnDone);
    }
    /**
     * Close the comm.
     *
     * #### Notes
     * This will send a `comm_close` message to the kernel, and call the
     * `onClose` callback if set.
     *
     * This is a no-op if the comm is already closed.
     *
     * **See also:** [[ICommClose]], [[onClose]]
     */
    close(data, metadata, buffers = []) {
        if (this.isDisposed || this._kernel.isDisposed) {
            throw new Error('Cannot close');
        }
        let msg = KernelMessage.createMessage({
            msgType: 'comm_close',
            channel: 'shell',
            username: this._kernel.username,
            session: this._kernel.clientId,
            content: {
                comm_id: this._id,
                data: (data !== null && data !== void 0 ? data : {})
            },
            metadata,
            buffers
        });
        let future = this._kernel.sendShellMessage(msg, false, true);
        let onClose = this._onClose;
        if (onClose) {
            let ioMsg = KernelMessage.createMessage({
                msgType: 'comm_close',
                channel: 'iopub',
                username: this._kernel.username,
                session: this._kernel.clientId,
                content: {
                    comm_id: this._id,
                    data: (data !== null && data !== void 0 ? data : {})
                },
                metadata,
                buffers
            });
            // In the future, we may want to communicate back to the user the possible
            // promise returned from onClose.
            onClose(ioMsg);
        }
        this.dispose();
        return future;
    }
}
exports.CommHandler = CommHandler;
//# sourceMappingURL=comm.js.map

/***/ }),

/***/ "yGL3":
/*!*******************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/rendermime/lib/renderers.js ***!
  \*******************************************************************************************/
/*! exports provided: renderHTML, renderImage, renderLatex, renderMarkdown, renderSVG, renderText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderHTML", function() { return renderHTML; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderImage", function() { return renderImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderLatex", function() { return renderLatex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderMarkdown", function() { return renderMarkdown; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderSVG", function() { return renderSVG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderText", function() { return renderText; });
/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! marked */ "PKj7");
/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(marked__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/codemirror */ "BqCg");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_escape__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash.escape */ "eRbP");
/* harmony import */ var lodash_escape__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_escape__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _latex__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./latex */ "UWaU");
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};






/**
 * Render HTML into a host node.
 *
 * @params options - The options for rendering.
 *
 * @returns A promise which resolves when rendering is complete.
 */
function renderHTML(options) {
    // Unpack the options.
    let { host, source, trusted, sanitizer, resolver, linkHandler, shouldTypeset, latexTypesetter } = options;
    let originalSource = source;
    // Bail early if the source is empty.
    if (!source) {
        host.textContent = '';
        return Promise.resolve(undefined);
    }
    // Sanitize the source if it is not trusted. This removes all
    // `<script>` tags as well as other potentially harmful HTML.
    if (!trusted) {
        originalSource = `${source}`;
        source = sanitizer.sanitize(source);
    }
    // Set the inner HTML of the host.
    host.innerHTML = source;
    if (host.getElementsByTagName('script').length > 0) {
        // If output it trusted, eval any script tags contained in the HTML.
        // This is not done automatically by the browser when script tags are
        // created by setting `innerHTML`.
        if (trusted) {
            Private.evalInnerHTMLScriptTags(host);
        }
        else {
            const container = document.createElement('div');
            const warning = document.createElement('pre');
            warning.textContent =
                'This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?';
            const runButton = document.createElement('button');
            runButton.textContent = 'Run';
            runButton.onclick = event => {
                host.innerHTML = originalSource;
                Private.evalInnerHTMLScriptTags(host);
                if (host.firstChild) {
                    host.removeChild(host.firstChild);
                }
            };
            container.appendChild(warning);
            container.appendChild(runButton);
            host.insertBefore(container, host.firstChild);
        }
    }
    // Handle default behavior of nodes.
    Private.handleDefaults(host, resolver);
    // Patch the urls if a resolver is available.
    let promise;
    if (resolver) {
        promise = Private.handleUrls(host, resolver, linkHandler);
    }
    else {
        promise = Promise.resolve(undefined);
    }
    // Return the final rendered promise.
    return promise.then(() => {
        if (shouldTypeset && latexTypesetter) {
            latexTypesetter.typeset(host);
        }
    });
}
/**
 * Render an image into a host node.
 *
 * @params options - The options for rendering.
 *
 * @returns A promise which resolves when rendering is complete.
 */
function renderImage(options) {
    // Unpack the options.
    let { host, mimeType, source, width, height, needsBackground, unconfined } = options;
    // Clear the content in the host.
    host.textContent = '';
    // Create the image element.
    let img = document.createElement('img');
    // Set the source of the image.
    img.src = `data:${mimeType};base64,${source}`;
    // Set the size of the image if provided.
    if (typeof height === 'number') {
        img.height = height;
    }
    if (typeof width === 'number') {
        img.width = width;
    }
    if (needsBackground === 'light') {
        img.classList.add('jp-needs-light-background');
    }
    else if (needsBackground === 'dark') {
        img.classList.add('jp-needs-dark-background');
    }
    if (unconfined === true) {
        img.classList.add('jp-mod-unconfined');
    }
    // Add the image to the host.
    host.appendChild(img);
    // Return the rendered promise.
    return Promise.resolve(undefined);
}
/**
 * Render LaTeX into a host node.
 *
 * @params options - The options for rendering.
 *
 * @returns A promise which resolves when rendering is complete.
 */
function renderLatex(options) {
    // Unpack the options.
    let { host, source, shouldTypeset, latexTypesetter } = options;
    // Set the source on the node.
    host.textContent = source;
    // Typeset the node if needed.
    if (shouldTypeset && latexTypesetter) {
        latexTypesetter.typeset(host);
    }
    // Return the rendered promise.
    return Promise.resolve(undefined);
}
/**
 * Render Markdown into a host node.
 *
 * @params options - The options for rendering.
 *
 * @returns A promise which resolves when rendering is complete.
 */
async function renderMarkdown(options) {
    // Unpack the options.
    let { host, source } = options, others = __rest(options, ["host", "source"]);
    // Clear the content if there is no source.
    if (!source) {
        host.textContent = '';
        return;
    }
    // Separate math from normal markdown text.
    let parts = Object(_latex__WEBPACK_IMPORTED_MODULE_5__["removeMath"])(source);
    // Convert the markdown to HTML.
    let html = await Private.renderMarked(parts['text']);
    // Replace math.
    html = Object(_latex__WEBPACK_IMPORTED_MODULE_5__["replaceMath"])(html, parts['math']);
    // Render HTML.
    await renderHTML(Object.assign({ host, source: html }, others));
    // Apply ids to the header nodes.
    Private.headerAnchors(host);
}
/**
 * Render SVG into a host node.
 *
 * @params options - The options for rendering.
 *
 * @returns A promise which resolves when rendering is complete.
 */
function renderSVG(options) {
    // Unpack the options.
    let { host, source, trusted, unconfined } = options;
    // Clear the content if there is no source.
    if (!source) {
        host.textContent = '';
        return Promise.resolve(undefined);
    }
    // Display a message if the source is not trusted.
    if (!trusted) {
        host.textContent =
            'Cannot display an untrusted SVG. Maybe you need to run the cell?';
        return Promise.resolve(undefined);
    }
    // Add missing SVG namespace (if actually missing)
    let patt = '<svg[^>]+xmlns=[^>]+svg';
    if (source.search(patt) < 0) {
        source = source.replace('<svg', '<svg xmlns="http://www.w3.org/2000/svg"');
    }
    // Render in img so that user can save it easily
    const img = new Image();
    img.src = `data:image/svg+xml,${encodeURIComponent(source)}`;
    host.appendChild(img);
    if (unconfined === true) {
        host.classList.add('jp-mod-unconfined');
    }
    return Promise.resolve();
}
/**
 * Render text into a host node.
 *
 * @params options - The options for rendering.
 *
 * @returns A promise which resolves when rendering is complete.
 */
function renderText(options) {
    // Unpack the options.
    const { host, sanitizer, source } = options;
    // Create the HTML content.
    const content = sanitizer.sanitize(Private.ansiSpan(source), {
        allowedTags: ['span']
    });
    // Set the sanitized content for the host node.
    const pre = document.createElement('pre');
    pre.innerHTML = content;
    host.appendChild(pre);
    // Return the rendered promise.
    return Promise.resolve(undefined);
}
/**
 * The namespace for module implementation details.
 */
var Private;
(function (Private) {
    /**
     * Eval the script tags contained in a host populated by `innerHTML`.
     *
     * When script tags are created via `innerHTML`, the browser does not
     * evaluate them when they are added to the page. This function works
     * around that by creating new equivalent script nodes manually, and
     * replacing the originals.
     */
    function evalInnerHTMLScriptTags(host) {
        // Create a snapshot of the current script nodes.
        let scripts = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_3__["toArray"])(host.getElementsByTagName('script'));
        // Loop over each script node.
        for (let script of scripts) {
            // Skip any scripts which no longer have a parent.
            if (!script.parentNode) {
                continue;
            }
            // Create a new script node which will be clone.
            let clone = document.createElement('script');
            // Copy the attributes into the clone.
            let attrs = script.attributes;
            for (let i = 0, n = attrs.length; i < n; ++i) {
                let { name, value } = attrs[i];
                clone.setAttribute(name, value);
            }
            // Copy the text content into the clone.
            clone.textContent = script.textContent;
            // Replace the old script in the parent.
            script.parentNode.replaceChild(clone, script);
        }
    }
    Private.evalInnerHTMLScriptTags = evalInnerHTMLScriptTags;
    /**
     * Render markdown for the specified content.
     *
     * @param content - The string of markdown to render.
     *
     * @return A promise which resolves with the rendered content.
     */
    function renderMarked(content) {
        initializeMarked();
        return new Promise((resolve, reject) => {
            marked__WEBPACK_IMPORTED_MODULE_0___default()(content, (err, content) => {
                if (err) {
                    reject(err);
                }
                else {
                    resolve(content);
                }
            });
        });
    }
    Private.renderMarked = renderMarked;
    /**
     * Handle the default behavior of nodes.
     */
    function handleDefaults(node, resolver) {
        // Handle anchor elements.
        let anchors = node.getElementsByTagName('a');
        for (let i = 0; i < anchors.length; i++) {
            const el = anchors[i];
            // skip when processing a elements inside svg
            // which are of type SVGAnimatedString
            if (!(el instanceof HTMLAnchorElement)) {
                continue;
            }
            let path = el.href;
            const isLocal = resolver && resolver.isLocal
                ? resolver.isLocal(path)
                : _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["URLExt"].isLocal(path);
            // set target attribute if not already present
            if (!el.target) {
                el.target = isLocal ? '_self' : '_blank';
            }
            // set rel as 'noopener' for non-local anchors
            if (!isLocal) {
                el.rel = 'noopener';
            }
        }
        // Handle image elements.
        let imgs = node.getElementsByTagName('img');
        for (let i = 0; i < imgs.length; i++) {
            if (!imgs[i].alt) {
                imgs[i].alt = 'Image';
            }
        }
    }
    Private.handleDefaults = handleDefaults;
    /**
     * Resolve the relative urls in element `src` and `href` attributes.
     *
     * @param node - The head html element.
     *
     * @param resolver - A url resolver.
     *
     * @param linkHandler - An optional link handler for nodes.
     *
     * @returns a promise fulfilled when the relative urls have been resolved.
     */
    function handleUrls(node, resolver, linkHandler) {
        // Set up an array to collect promises.
        let promises = [];
        // Handle HTML Elements with src attributes.
        let nodes = node.querySelectorAll('*[src]');
        for (let i = 0; i < nodes.length; i++) {
            promises.push(handleAttr(nodes[i], 'src', resolver));
        }
        // Handle anchor elements.
        let anchors = node.getElementsByTagName('a');
        for (let i = 0; i < anchors.length; i++) {
            promises.push(handleAnchor(anchors[i], resolver, linkHandler));
        }
        // Handle link elements.
        let links = node.getElementsByTagName('link');
        for (let i = 0; i < links.length; i++) {
            promises.push(handleAttr(links[i], 'href', resolver));
        }
        // Wait on all promises.
        return Promise.all(promises).then(() => undefined);
    }
    Private.handleUrls = handleUrls;
    /**
     * Apply ids to headers.
     */
    function headerAnchors(node) {
        var _a;
        let headerNames = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];
        for (let headerType of headerNames) {
            let headers = node.getElementsByTagName(headerType);
            for (let i = 0; i < headers.length; i++) {
                let header = headers[i];
                header.id = (_a = header.textContent, (_a !== null && _a !== void 0 ? _a : '')).replace(/ /g, '-');
                let anchor = document.createElement('a');
                anchor.target = '_self';
                anchor.textContent = '¶';
                anchor.href = '#' + header.id;
                anchor.classList.add('jp-InternalAnchorLink');
                header.appendChild(anchor);
            }
        }
    }
    Private.headerAnchors = headerAnchors;
    /**
     * Handle a node with a `src` or `href` attribute.
     */
    function handleAttr(node, name, resolver) {
        let source = node.getAttribute(name) || '';
        const isLocal = resolver.isLocal
            ? resolver.isLocal(source)
            : _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["URLExt"].isLocal(source);
        if (!source || !isLocal) {
            return Promise.resolve(undefined);
        }
        node.setAttribute(name, '');
        return resolver
            .resolveUrl(source)
            .then(urlPath => {
            return resolver.getDownloadUrl(urlPath);
        })
            .then(url => {
            // Check protocol again in case it changed:
            if (_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["URLExt"].parse(url).protocol !== 'data:') {
                // Bust caching for local src attrs.
                // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache
                url += (/\?/.test(url) ? '&' : '?') + new Date().getTime();
            }
            node.setAttribute(name, url);
        })
            .catch(err => {
            // If there was an error getting the url,
            // just make it an empty link.
            node.setAttribute(name, '');
        });
    }
    /**
     * Handle an anchor node.
     */
    function handleAnchor(anchor, resolver, linkHandler) {
        // Get the link path without the location prepended.
        // (e.g. "./foo.md#Header 1" vs "http://localhost:8888/foo.md#Header 1")
        let href = anchor.getAttribute('href') || '';
        const isLocal = resolver.isLocal
            ? resolver.isLocal(href)
            : _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["URLExt"].isLocal(href);
        // Bail if it is not a file-like url.
        if (!href || !isLocal) {
            return Promise.resolve(undefined);
        }
        // Remove the hash until we can handle it.
        let hash = anchor.hash;
        if (hash) {
            // Handle internal link in the file.
            if (hash === href) {
                anchor.target = '_self';
                return Promise.resolve(undefined);
            }
            // For external links, remove the hash until we have hash handling.
            href = href.replace(hash, '');
        }
        // Get the appropriate file path.
        return resolver
            .resolveUrl(href)
            .then(urlPath => {
            // decode encoded url from url to api path
            const path = decodeURI(urlPath);
            // Handle the click override.
            if (linkHandler) {
                linkHandler.handleLink(anchor, path, hash);
            }
            // Get the appropriate file download path.
            return resolver.getDownloadUrl(urlPath);
        })
            .then(url => {
            // Set the visible anchor.
            anchor.href = url + hash;
        })
            .catch(err => {
            // If there was an error getting the url,
            // just make it an empty link.
            anchor.href = '';
        });
    }
    let markedInitialized = false;
    /**
     * Support GitHub flavored Markdown, leave sanitizing to external library.
     */
    function initializeMarked() {
        if (markedInitialized) {
            return;
        }
        markedInitialized = true;
        marked__WEBPACK_IMPORTED_MODULE_0___default.a.setOptions({
            gfm: true,
            sanitize: false,
            // breaks: true; We can't use GFM breaks as it causes problems with tables
            langPrefix: `cm-s-${_jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__["CodeMirrorEditor"].defaultConfig.theme} language-`,
            highlight: (code, lang, callback) => {
                let cb = (err, code) => {
                    if (callback) {
                        callback(err, code);
                    }
                    return code;
                };
                if (!lang) {
                    // no language, no highlight
                    return cb(null, code);
                }
                _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__["Mode"].ensure(lang)
                    .then(spec => {
                    let el = document.createElement('div');
                    if (!spec) {
                        console.log(`No CodeMirror mode: ${lang}`);
                        return cb(null, code);
                    }
                    try {
                        _jupyterlab_codemirror__WEBPACK_IMPORTED_MODULE_1__["Mode"].run(code, spec.mime, el);
                        return cb(null, el.innerHTML);
                    }
                    catch (err) {
                        console.log(`Failed to highlight ${lang} code`, err);
                        return cb(err, code);
                    }
                })
                    .catch(err => {
                    console.log(`No CodeMirror mode: ${lang}`);
                    console.log(`Require CodeMirror mode error: ${err}`);
                    return cb(null, code);
                });
                return code;
            }
        });
    }
    let ANSI_COLORS = [
        'ansi-black',
        'ansi-red',
        'ansi-green',
        'ansi-yellow',
        'ansi-blue',
        'ansi-magenta',
        'ansi-cyan',
        'ansi-white',
        'ansi-black-intense',
        'ansi-red-intense',
        'ansi-green-intense',
        'ansi-yellow-intense',
        'ansi-blue-intense',
        'ansi-magenta-intense',
        'ansi-cyan-intense',
        'ansi-white-intense'
    ];
    /**
     * Create HTML tags for a string with given foreground, background etc. and
     * add them to the `out` array.
     */
    function pushColoredChunk(chunk, fg, bg, bold, underline, inverse, out) {
        if (chunk) {
            let classes = [];
            let styles = [];
            if (bold && typeof fg === 'number' && 0 <= fg && fg < 8) {
                fg += 8; // Bold text uses "intense" colors
            }
            if (inverse) {
                [fg, bg] = [bg, fg];
            }
            if (typeof fg === 'number') {
                classes.push(ANSI_COLORS[fg] + '-fg');
            }
            else if (fg.length) {
                styles.push(`color: rgb(${fg})`);
            }
            else if (inverse) {
                classes.push('ansi-default-inverse-fg');
            }
            if (typeof bg === 'number') {
                classes.push(ANSI_COLORS[bg] + '-bg');
            }
            else if (bg.length) {
                styles.push(`background-color: rgb(${bg})`);
            }
            else if (inverse) {
                classes.push('ansi-default-inverse-bg');
            }
            if (bold) {
                classes.push('ansi-bold');
            }
            if (underline) {
                classes.push('ansi-underline');
            }
            if (classes.length || styles.length) {
                out.push('<span');
                if (classes.length) {
                    out.push(` class="${classes.join(' ')}"`);
                }
                if (styles.length) {
                    out.push(` style="${styles.join('; ')}"`);
                }
                out.push('>');
                out.push(chunk);
                out.push('</span>');
            }
            else {
                out.push(chunk);
            }
        }
    }
    /**
     * Convert ANSI extended colors to R/G/B triple.
     */
    function getExtendedColors(numbers) {
        let r;
        let g;
        let b;
        let n = numbers.shift();
        if (n === 2 && numbers.length >= 3) {
            // 24-bit RGB
            r = numbers.shift();
            g = numbers.shift();
            b = numbers.shift();
            if ([r, g, b].some(c => c < 0 || 255 < c)) {
                throw new RangeError('Invalid range for RGB colors');
            }
        }
        else if (n === 5 && numbers.length >= 1) {
            // 256 colors
            let idx = numbers.shift();
            if (idx < 0) {
                throw new RangeError('Color index must be >= 0');
            }
            else if (idx < 16) {
                // 16 default terminal colors
                return idx;
            }
            else if (idx < 232) {
                // 6x6x6 color cube, see https://stackoverflow.com/a/27165165/500098
                r = Math.floor((idx - 16) / 36);
                r = r > 0 ? 55 + r * 40 : 0;
                g = Math.floor(((idx - 16) % 36) / 6);
                g = g > 0 ? 55 + g * 40 : 0;
                b = (idx - 16) % 6;
                b = b > 0 ? 55 + b * 40 : 0;
            }
            else if (idx < 256) {
                // grayscale, see https://stackoverflow.com/a/27165165/500098
                r = g = b = (idx - 232) * 10 + 8;
            }
            else {
                throw new RangeError('Color index must be < 256');
            }
        }
        else {
            throw new RangeError('Invalid extended color specification');
        }
        return [r, g, b];
    }
    /**
     * Transform ANSI color escape codes into HTML <span> tags with CSS
     * classes such as "ansi-green-intense-fg".
     * The actual colors used are set in the CSS file.
     * This also removes non-color escape sequences.
     * This is supposed to have the same behavior as nbconvert.filters.ansi2html()
     */
    function ansiSpan(str) {
        let ansiRe = /\x1b\[(.*?)([@-~])/g;
        let fg = [];
        let bg = [];
        let bold = false;
        let underline = false;
        let inverse = false;
        let match;
        let out = [];
        let numbers = [];
        let start = 0;
        str = lodash_escape__WEBPACK_IMPORTED_MODULE_4___default()(str);
        str += '\x1b[m'; // Ensure markup for trailing text
        // tslint:disable-next-line
        while ((match = ansiRe.exec(str))) {
            if (match[2] === 'm') {
                let items = match[1].split(';');
                for (let i = 0; i < items.length; i++) {
                    let item = items[i];
                    if (item === '') {
                        numbers.push(0);
                    }
                    else if (item.search(/^\d+$/) !== -1) {
                        numbers.push(parseInt(item, 10));
                    }
                    else {
                        // Ignored: Invalid color specification
                        numbers.length = 0;
                        break;
                    }
                }
            }
            else {
                // Ignored: Not a color code
            }
            let chunk = str.substring(start, match.index);
            pushColoredChunk(chunk, fg, bg, bold, underline, inverse, out);
            start = ansiRe.lastIndex;
            while (numbers.length) {
                let n = numbers.shift();
                switch (n) {
                    case 0:
                        fg = bg = [];
                        bold = false;
                        underline = false;
                        inverse = false;
                        break;
                    case 1:
                    case 5:
                        bold = true;
                        break;
                    case 4:
                        underline = true;
                        break;
                    case 7:
                        inverse = true;
                        break;
                    case 21:
                    case 22:
                        bold = false;
                        break;
                    case 24:
                        underline = false;
                        break;
                    case 27:
                        inverse = false;
                        break;
                    case 30:
                    case 31:
                    case 32:
                    case 33:
                    case 34:
                    case 35:
                    case 36:
                    case 37:
                        fg = n - 30;
                        break;
                    case 38:
                        try {
                            fg = getExtendedColors(numbers);
                        }
                        catch (e) {
                            numbers.length = 0;
                        }
                        break;
                    case 39:
                        fg = [];
                        break;
                    case 40:
                    case 41:
                    case 42:
                    case 43:
                    case 44:
                    case 45:
                    case 46:
                    case 47:
                        bg = n - 40;
                        break;
                    case 48:
                        try {
                            bg = getExtendedColors(numbers);
                        }
                        catch (e) {
                            numbers.length = 0;
                        }
                        break;
                    case 49:
                        bg = [];
                        break;
                    case 90:
                    case 91:
                    case 92:
                    case 93:
                    case 94:
                    case 95:
                    case 96:
                    case 97:
                        fg = n - 90 + 8;
                        break;
                    case 100:
                    case 101:
                    case 102:
                    case 103:
                    case 104:
                    case 105:
                    case 106:
                    case 107:
                        bg = n - 100 + 8;
                        break;
                    default:
                    // Unknown codes are ignored
                }
            }
        }
        return out.join('');
    }
    Private.ansiSpan = ansiSpan;
})(Private || (Private = {}));
//# sourceMappingURL=renderers.js.map

/***/ }),

/***/ "yh0H":
/*!*****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/file-upload.svg ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "yh0Ht":
/*!*****************************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/file-upload.svg ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "z/Qb":
/*!****************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/application/lib/shell.js ***!
  \****************************************************************************************/
/*! exports provided: ILabShell, LabShell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ILabShell", function() { return ILabShell; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabShell", function() { return LabShell; });
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/ui-components */ "W6OZ");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lumino/algorithm */ "f0lv");
/* harmony import */ var _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lumino/messaging */ "so/j");
/* harmony import */ var _lumino_messaging__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lumino_messaging__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _lumino_polling__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/polling */ "iePd");
/* harmony import */ var _lumino_polling__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_polling__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lumino/signaling */ "twVq");
/* harmony import */ var _lumino_signaling__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lumino_signaling__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lumino/widgets */ "v/gr");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_6__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.







/**
 * The class name added to AppShell instances.
 */
const APPLICATION_SHELL_CLASS = 'jp-LabShell';
/**
 * The class name added to side bar instances.
 */
const SIDEBAR_CLASS = 'jp-SideBar';
/**
 * The class name added to the current widget's title.
 */
const CURRENT_CLASS = 'jp-mod-current';
/**
 * The class name added to the active widget's title.
 */
const ACTIVE_CLASS = 'jp-mod-active';
/**
 * The default rank of items added to a sidebar.
 */
const DEFAULT_RANK = 500;
const ACTIVITY_CLASS = 'jp-Activity';
/* tslint:disable */
/**
 * The JupyterLab application shell token.
 */
const ILabShell = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__["Token"]('@jupyterlab/application:ILabShell');
/**
 * The application shell for JupyterLab.
 */
class LabShell extends _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["Widget"] {
    /**
     * Construct a new application shell.
     */
    constructor() {
        super();
        /**
         * A message hook for child add/remove messages on the main area dock panel.
         */
        this._dockChildHook = (handler, msg) => {
            switch (msg.type) {
                case 'child-added':
                    msg.child.addClass(ACTIVITY_CLASS);
                    this._tracker.add(msg.child);
                    break;
                case 'child-removed':
                    msg.child.removeClass(ACTIVITY_CLASS);
                    this._tracker.remove(msg.child);
                    break;
                default:
                    break;
            }
            return true;
        };
        this._activeChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_5__["Signal"](this);
        this._cachedLayout = null;
        this._currentChanged = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_5__["Signal"](this);
        this._isRestored = false;
        this._layoutModified = new _lumino_signaling__WEBPACK_IMPORTED_MODULE_5__["Signal"](this);
        this._layoutDebouncer = new _lumino_polling__WEBPACK_IMPORTED_MODULE_4__["Debouncer"](() => {
            this._layoutModified.emit(undefined);
        }, 0);
        this._restored = new _lumino_coreutils__WEBPACK_IMPORTED_MODULE_2__["PromiseDelegate"]();
        this._tracker = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["FocusTracker"]();
        this._mainOptionsCache = new Map();
        this._sideOptionsCache = new Map();
        this.addClass(APPLICATION_SHELL_CLASS);
        this.id = 'main';
        let headerPanel = (this._headerPanel = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["Panel"]());
        let topHandler = (this._topHandler = new Private.PanelHandler());
        let bottomPanel = (this._bottomPanel = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxPanel"]());
        let hboxPanel = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxPanel"]();
        let dockPanel = (this._dockPanel = new _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__["DockPanelSvg"]());
        _lumino_messaging__WEBPACK_IMPORTED_MODULE_3__["MessageLoop"].installMessageHook(dockPanel, this._dockChildHook);
        let hsplitPanel = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["SplitPanel"]();
        let leftHandler = (this._leftHandler = new Private.SideBarHandler());
        let rightHandler = (this._rightHandler = new Private.SideBarHandler());
        let rootLayout = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxLayout"]();
        headerPanel.id = 'jp-header-panel';
        topHandler.panel.id = 'jp-top-panel';
        bottomPanel.id = 'jp-bottom-panel';
        hboxPanel.id = 'jp-main-content-panel';
        dockPanel.id = 'jp-main-dock-panel';
        hsplitPanel.id = 'jp-main-split-panel';
        leftHandler.sideBar.addClass(SIDEBAR_CLASS);
        leftHandler.sideBar.addClass('jp-mod-left');
        leftHandler.stackedPanel.id = 'jp-left-stack';
        rightHandler.sideBar.addClass(SIDEBAR_CLASS);
        rightHandler.sideBar.addClass('jp-mod-right');
        rightHandler.stackedPanel.id = 'jp-right-stack';
        hboxPanel.spacing = 0;
        dockPanel.spacing = 5;
        hsplitPanel.spacing = 1;
        hboxPanel.direction = 'left-to-right';
        hsplitPanel.orientation = 'horizontal';
        bottomPanel.direction = 'bottom-to-top';
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["SplitPanel"].setStretch(leftHandler.stackedPanel, 0);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["SplitPanel"].setStretch(dockPanel, 1);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["SplitPanel"].setStretch(rightHandler.stackedPanel, 0);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxPanel"].setStretch(leftHandler.sideBar, 0);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxPanel"].setStretch(hsplitPanel, 1);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxPanel"].setStretch(rightHandler.sideBar, 0);
        hsplitPanel.addWidget(leftHandler.stackedPanel);
        hsplitPanel.addWidget(dockPanel);
        hsplitPanel.addWidget(rightHandler.stackedPanel);
        hboxPanel.addWidget(leftHandler.sideBar);
        hboxPanel.addWidget(hsplitPanel);
        hboxPanel.addWidget(rightHandler.sideBar);
        rootLayout.direction = 'top-to-bottom';
        rootLayout.spacing = 0; // TODO make this configurable?
        // Use relative sizing to set the width of the side panels.
        // This will still respect the min-size of children widget in the stacked
        // panel.
        hsplitPanel.setRelativeSizes([1, 2.5, 1]);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxLayout"].setStretch(headerPanel, 0);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxLayout"].setStretch(topHandler.panel, 0);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxLayout"].setStretch(hboxPanel, 1);
        _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["BoxLayout"].setStretch(bottomPanel, 0);
        rootLayout.addWidget(headerPanel);
        rootLayout.addWidget(topHandler.panel);
        rootLayout.addWidget(hboxPanel);
        rootLayout.addWidget(bottomPanel);
        // initially hiding header and bottom panel when no elements inside
        this._headerPanel.hide();
        this._bottomPanel.hide();
        this.layout = rootLayout;
        // Connect change listeners.
        this._tracker.currentChanged.connect(this._onCurrentChanged, this);
        this._tracker.activeChanged.connect(this._onActiveChanged, this);
        // Connect main layout change listener.
        this._dockPanel.layoutModified.connect(this._onLayoutModified, this);
        // Catch current changed events on the side handlers.
        this._leftHandler.sideBar.currentChanged.connect(this._onLayoutModified, this);
        this._rightHandler.sideBar.currentChanged.connect(this._onLayoutModified, this);
    }
    /**
     * A signal emitted when main area's active focus changes.
     */
    get activeChanged() {
        return this._activeChanged;
    }
    /**
     * The active widget in the shell's main area.
     */
    get activeWidget() {
        return this._tracker.activeWidget;
    }
    /**
     * A signal emitted when main area's current focus changes.
     */
    get currentChanged() {
        return this._currentChanged;
    }
    /**
     * The current widget in the shell's main area.
     */
    get currentWidget() {
        return this._tracker.currentWidget;
    }
    /**
     * A signal emitted when the main area's layout is modified.
     */
    get layoutModified() {
        return this._layoutModified;
    }
    /**
     * Whether the left area is collapsed.
     */
    get leftCollapsed() {
        return !this._leftHandler.sideBar.currentTitle;
    }
    /**
     * Whether the left area is collapsed.
     */
    get rightCollapsed() {
        return !this._rightHandler.sideBar.currentTitle;
    }
    /**
     * Whether JupyterLab is in presentation mode with the
     * `jp-mod-presentationMode` CSS class.
     */
    get presentationMode() {
        return this.hasClass('jp-mod-presentationMode');
    }
    /**
     * Enable/disable presentation mode (`jp-mod-presentationMode` CSS class) with
     * a boolean.
     */
    set presentationMode(value) {
        this.toggleClass('jp-mod-presentationMode', value);
    }
    /**
     * The main dock area's user interface mode.
     */
    get mode() {
        return this._dockPanel.mode;
    }
    set mode(mode) {
        const dock = this._dockPanel;
        if (mode === dock.mode) {
            return;
        }
        const applicationCurrentWidget = this.currentWidget;
        if (mode === 'single-document') {
            this._cachedLayout = dock.saveLayout();
            dock.mode = mode;
            // In case the active widget in the dock panel is *not* the active widget
            // of the application, defer to the application.
            if (this.currentWidget) {
                dock.activateWidget(this.currentWidget);
            }
            // Set the mode data attribute on the application shell node.
            this.node.dataset.shellMode = mode;
            return;
        }
        // Cache a reference to every widget currently in the dock panel.
        const widgets = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["toArray"])(dock.widgets());
        // Toggle back to multiple document mode.
        dock.mode = mode;
        // Restore the original layout.
        if (this._cachedLayout) {
            // Remove any disposed widgets in the cached layout and restore.
            Private.normalizeAreaConfig(dock, this._cachedLayout.main);
            dock.restoreLayout(this._cachedLayout);
            this._cachedLayout = null;
        }
        // Add any widgets created during single document mode, which have
        // subsequently been removed from the dock panel after the multiple document
        // layout has been restored. If the widget has add options cached for
        // it (i.e., if it has been placed with respect to another widget),
        // then take that into account.
        widgets.forEach(widget => {
            if (!widget.parent) {
                this._addToMainArea(widget, Object.assign(Object.assign({}, this._mainOptionsCache.get(widget)), { activate: false }));
            }
        });
        this._mainOptionsCache.clear();
        // In case the active widget in the dock panel is *not* the active widget
        // of the application, defer to the application.
        if (applicationCurrentWidget) {
            dock.activateWidget(applicationCurrentWidget);
        }
        // Set the mode data attribute on the applications shell node.
        this.node.dataset.shellMode = mode;
    }
    /**
     * Promise that resolves when state is first restored, returning layout
     * description.
     */
    get restored() {
        return this._restored.promise;
    }
    /**
     * Activate a widget in its area.
     */
    activateById(id) {
        if (this._leftHandler.has(id)) {
            this._leftHandler.activate(id);
            return;
        }
        if (this._rightHandler.has(id)) {
            this._rightHandler.activate(id);
            return;
        }
        const dock = this._dockPanel;
        const widget = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["find"])(dock.widgets(), value => value.id === id);
        if (widget) {
            dock.activateWidget(widget);
        }
    }
    /*
     * Activate the next Tab in the active TabBar.
     */
    activateNextTab() {
        let current = this._currentTabBar();
        if (!current) {
            return;
        }
        let ci = current.currentIndex;
        if (ci === -1) {
            return;
        }
        if (ci < current.titles.length - 1) {
            current.currentIndex += 1;
            if (current.currentTitle) {
                current.currentTitle.owner.activate();
            }
            return;
        }
        if (ci === current.titles.length - 1) {
            let nextBar = this._adjacentBar('next');
            if (nextBar) {
                nextBar.currentIndex = 0;
                if (nextBar.currentTitle) {
                    nextBar.currentTitle.owner.activate();
                }
            }
        }
    }
    /*
     * Activate the previous Tab in the active TabBar.
     */
    activatePreviousTab() {
        let current = this._currentTabBar();
        if (!current) {
            return;
        }
        let ci = current.currentIndex;
        if (ci === -1) {
            return;
        }
        if (ci > 0) {
            current.currentIndex -= 1;
            if (current.currentTitle) {
                current.currentTitle.owner.activate();
            }
            return;
        }
        if (ci === 0) {
            let prevBar = this._adjacentBar('previous');
            if (prevBar) {
                let len = prevBar.titles.length;
                prevBar.currentIndex = len - 1;
                if (prevBar.currentTitle) {
                    prevBar.currentTitle.owner.activate();
                }
            }
        }
    }
    /*
     * Activate the next TabBar.
     */
    activateNextTabBar() {
        let nextBar = this._adjacentBar('next');
        if (nextBar) {
            if (nextBar.currentTitle) {
                nextBar.currentTitle.owner.activate();
            }
        }
    }
    /*
     * Activate the next TabBar.
     */
    activatePreviousTabBar() {
        let nextBar = this._adjacentBar('previous');
        if (nextBar) {
            if (nextBar.currentTitle) {
                nextBar.currentTitle.owner.activate();
            }
        }
    }
    add(widget, area = 'main', options) {
        switch (area || 'main') {
            case 'main':
                return this._addToMainArea(widget, options);
            case 'left':
                return this._addToLeftArea(widget, options);
            case 'right':
                return this._addToRightArea(widget, options);
            case 'header':
                return this._addToHeaderArea(widget, options);
            case 'top':
                return this._addToTopArea(widget, options);
            case 'bottom':
                return this._addToBottomArea(widget, options);
            default:
                throw new Error(`Invalid area: ${area}`);
        }
    }
    /**
     * Collapse the left area.
     */
    collapseLeft() {
        this._leftHandler.collapse();
        this._onLayoutModified();
    }
    /**
     * Collapse the right area.
     */
    collapseRight() {
        this._rightHandler.collapse();
        this._onLayoutModified();
    }
    /**
     * Dispose the shell.
     */
    dispose() {
        if (this.isDisposed) {
            return;
        }
        this._layoutDebouncer.dispose();
        super.dispose();
    }
    /**
     * Expand the left area.
     *
     * #### Notes
     * This will open the most recently used tab,
     * or the first tab if there is no most recently used.
     */
    expandLeft() {
        this._leftHandler.expand();
        this._onLayoutModified();
    }
    /**
     * Expand the right area.
     *
     * #### Notes
     * This will open the most recently used tab,
     * or the first tab if there is no most recently used.
     */
    expandRight() {
        this._rightHandler.expand();
        this._onLayoutModified();
    }
    /**
     * Close all widgets in the main area.
     */
    closeAll() {
        // Make a copy of all the widget in the dock panel (using `toArray()`)
        // before removing them because removing them while iterating through them
        // modifies the underlying data of the iterator.
        Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["toArray"])(this._dockPanel.widgets()).forEach(widget => widget.close());
    }
    /**
     * True if the given area is empty.
     */
    isEmpty(area) {
        switch (area) {
            case 'left':
                return this._leftHandler.stackedPanel.widgets.length === 0;
            case 'main':
                return this._dockPanel.isEmpty;
            case 'header':
                return this._headerPanel.widgets.length === 0;
            case 'top':
                return this._topHandler.panel.widgets.length === 0;
            case 'bottom':
                return this._bottomPanel.widgets.length === 0;
            case 'right':
                return this._rightHandler.stackedPanel.widgets.length === 0;
            default:
                return true;
        }
    }
    /**
     * Restore the layout state for the application shell.
     */
    restoreLayout(layout) {
        const { mainArea, leftArea, rightArea } = layout;
        // Rehydrate the main area.
        if (mainArea) {
            const { currentWidget, dock, mode } = mainArea;
            if (dock) {
                this._dockPanel.restoreLayout(dock);
            }
            if (mode) {
                this.mode = mode;
            }
            if (currentWidget) {
                this.activateById(currentWidget.id);
            }
        }
        // Rehydrate the left area.
        if (leftArea) {
            this._leftHandler.rehydrate(leftArea);
        }
        // Rehydrate the right area.
        if (rightArea) {
            this._rightHandler.rehydrate(rightArea);
        }
        if (!this._isRestored) {
            // Make sure all messages in the queue are finished before notifying
            // any extensions that are waiting for the promise that guarantees the
            // application state has been restored.
            _lumino_messaging__WEBPACK_IMPORTED_MODULE_3__["MessageLoop"].flush();
            this._restored.resolve(layout);
        }
    }
    /**
     * Save the dehydrated state of the application shell.
     */
    saveLayout() {
        // If the application is in single document mode, use the cached layout if
        // available. Otherwise, default to querying the dock panel for layout.
        return {
            mainArea: {
                currentWidget: this._tracker.currentWidget,
                dock: this.mode === 'single-document'
                    ? this._cachedLayout || this._dockPanel.saveLayout()
                    : this._dockPanel.saveLayout(),
                mode: this._dockPanel.mode
            },
            leftArea: this._leftHandler.dehydrate(),
            rightArea: this._rightHandler.dehydrate()
        };
    }
    /**
     * Returns the widgets for an application area.
     */
    widgets(area) {
        switch (area || 'main') {
            case 'main':
                return this._dockPanel.widgets();
            case 'left':
                return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["iter"])(this._leftHandler.sideBar.titles.map(t => t.owner));
            case 'right':
                return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["iter"])(this._rightHandler.sideBar.titles.map(t => t.owner));
            case 'header':
                return this._headerPanel.children();
            case 'top':
                return this._topHandler.panel.children();
            case 'bottom':
                return this._bottomPanel.children();
            default:
                throw new Error(`Invalid area: ${area}`);
        }
    }
    /**
     * Handle `after-attach` messages for the application shell.
     */
    onAfterAttach(msg) {
        this.node.dataset.shellMode = this.mode;
    }
    /**
     * Add a widget to the left content area.
     *
     * #### Notes
     * Widgets must have a unique `id` property, which will be used as the DOM id.
     */
    _addToLeftArea(widget, options) {
        if (!widget.id) {
            console.error('Widgets added to app shell must have unique id property.');
            return;
        }
        options = options || this._sideOptionsCache.get(widget) || {};
        this._sideOptionsCache.set(widget, options);
        let rank = 'rank' in options ? options.rank : DEFAULT_RANK;
        this._leftHandler.addWidget(widget, rank);
        this._onLayoutModified();
    }
    /**
     * Add a widget to the main content area.
     *
     * #### Notes
     * Widgets must have a unique `id` property, which will be used as the DOM id.
     * All widgets added to the main area should be disposed after removal
     * (disposal before removal will remove the widget automatically).
     *
     * In the options, `ref` defaults to `null`, `mode` defaults to `'tab-after'`,
     * and `activate` defaults to `true`.
     */
    _addToMainArea(widget, options) {
        if (!widget.id) {
            console.error('Widgets added to app shell must have unique id property.');
            return;
        }
        options = options || {};
        const dock = this._dockPanel;
        const mode = options.mode || 'tab-after';
        let ref = this.currentWidget;
        if (options.ref) {
            ref = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["find"])(dock.widgets(), value => value.id === options.ref) || null;
        }
        const { title } = widget;
        // Add widget ID to tab so that we can get a handle on the tab's widget
        // (for context menu support)
        title.dataset = Object.assign(Object.assign({}, title.dataset), { id: widget.id });
        // set an appropriate style class for the iconRenderer
        if (title.iconRenderer) {
            title.iconClass = _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__["LabIcon"].UNSTABLE_style({
                className: title.iconClass,
                justify: 'center',
                kind: 'mainAreaTab'
            });
        }
        dock.addWidget(widget, { mode, ref });
        // The dock panel doesn't account for placement information while
        // in single document mode, so upon rehydrating any widgets that were
        // added will not be in the correct place. Cache the placement information
        // here so that we can later rehydrate correctly.
        if (dock.mode === 'single-document') {
            this._mainOptionsCache.set(widget, options);
        }
        if (options.activate !== false) {
            dock.activateWidget(widget);
        }
    }
    /**
     * Add a widget to the right content area.
     *
     * #### Notes
     * Widgets must have a unique `id` property, which will be used as the DOM id.
     */
    _addToRightArea(widget, options) {
        if (!widget.id) {
            console.error('Widgets added to app shell must have unique id property.');
            return;
        }
        options = options || this._sideOptionsCache.get(widget) || {};
        const rank = 'rank' in options ? options.rank : DEFAULT_RANK;
        this._sideOptionsCache.set(widget, options);
        this._rightHandler.addWidget(widget, rank);
        this._onLayoutModified();
    }
    /**
     * Add a widget to the top content area.
     *
     * #### Notes
     * Widgets must have a unique `id` property, which will be used as the DOM id.
     */
    _addToTopArea(widget, options) {
        var _a;
        if (!widget.id) {
            console.error('Widgets added to app shell must have unique id property.');
            return;
        }
        options = options || {};
        const rank = (_a = options.rank, (_a !== null && _a !== void 0 ? _a : DEFAULT_RANK));
        this._topHandler.addWidget(widget, rank);
        this._onLayoutModified();
        if (this._topHandler.panel.isHidden) {
            this._topHandler.panel.show();
        }
    }
    /**
     * Add a widget to the header content area.
     *
     * #### Notes
     * Widgets must have a unique `id` property, which will be used as the DOM id.
     */
    _addToHeaderArea(widget, options) {
        if (!widget.id) {
            console.error('Widgets added to app shell must have unique id property.');
            return;
        }
        // Temporary: widgets are added to the panel in order of insertion.
        this._headerPanel.addWidget(widget);
        this._onLayoutModified();
        if (this._headerPanel.isHidden) {
            this._headerPanel.show();
        }
    }
    /**
     * Add a widget to the bottom content area.
     *
     * #### Notes
     * Widgets must have a unique `id` property, which will be used as the DOM id.
     */
    _addToBottomArea(widget, options) {
        if (!widget.id) {
            console.error('Widgets added to app shell must have unique id property.');
            return;
        }
        // Temporary: widgets are added to the panel in order of insertion.
        this._bottomPanel.addWidget(widget);
        this._onLayoutModified();
        if (this._bottomPanel.isHidden) {
            this._bottomPanel.show();
        }
    }
    /*
     * Return the tab bar adjacent to the current TabBar or `null`.
     */
    _adjacentBar(direction) {
        const current = this._currentTabBar();
        if (!current) {
            return null;
        }
        const bars = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["toArray"])(this._dockPanel.tabBars());
        const len = bars.length;
        const index = bars.indexOf(current);
        if (direction === 'previous') {
            return index > 0 ? bars[index - 1] : index === 0 ? bars[len - 1] : null;
        }
        // Otherwise, direction is 'next'.
        return index < len - 1
            ? bars[index + 1]
            : index === len - 1
                ? bars[0]
                : null;
    }
    /*
     * Return the TabBar that has the currently active Widget or null.
     */
    _currentTabBar() {
        const current = this._tracker.currentWidget;
        if (!current) {
            return null;
        }
        const title = current.title;
        const bars = this._dockPanel.tabBars();
        return Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["find"])(bars, bar => bar.titles.indexOf(title) > -1) || null;
    }
    /**
     * Handle a change to the dock area active widget.
     */
    _onActiveChanged(sender, args) {
        if (args.newValue) {
            args.newValue.title.className += ` ${ACTIVE_CLASS}`;
        }
        if (args.oldValue) {
            args.oldValue.title.className = args.oldValue.title.className.replace(ACTIVE_CLASS, '');
        }
        this._activeChanged.emit(args);
    }
    /**
     * Handle a change to the dock area current widget.
     */
    _onCurrentChanged(sender, args) {
        if (args.newValue) {
            args.newValue.title.className += ` ${CURRENT_CLASS}`;
        }
        if (args.oldValue) {
            args.oldValue.title.className = args.oldValue.title.className.replace(CURRENT_CLASS, '');
        }
        this._currentChanged.emit(args);
        this._onLayoutModified();
    }
    /**
     * Handle a change to the layout.
     */
    _onLayoutModified() {
        void this._layoutDebouncer.invoke();
    }
}
var Private;
(function (Private) {
    /**
     * A less-than comparison function for side bar rank items.
     */
    function itemCmp(first, second) {
        return first.rank - second.rank;
    }
    Private.itemCmp = itemCmp;
    /**
     * Removes widgets that have been disposed from an area config, mutates area.
     */
    function normalizeAreaConfig(parent, area) {
        if (!area) {
            return;
        }
        if (area.type === 'tab-area') {
            area.widgets = area.widgets.filter(widget => !widget.isDisposed && widget.parent === parent);
            return;
        }
        area.children.forEach(child => {
            normalizeAreaConfig(parent, child);
        });
    }
    Private.normalizeAreaConfig = normalizeAreaConfig;
    /**
     * A class which manages a panel and sorts its widgets by rank.
     */
    class PanelHandler {
        constructor() {
            this._items = new Array();
            this._panel = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["Panel"]();
        }
        /**
         * Get the panel managed by the handler.
         */
        get panel() {
            return this._panel;
        }
        /**
         * Add a widget to the panel.
         *
         * If the widget is already added, it will be moved.
         */
        addWidget(widget, rank) {
            widget.parent = null;
            const item = { widget, rank };
            const index = _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["ArrayExt"].upperBound(this._items, item, Private.itemCmp);
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["ArrayExt"].insert(this._items, index, item);
            this._panel.insertWidget(index, widget);
        }
    }
    Private.PanelHandler = PanelHandler;
    /**
     * A class which manages a side bar and related stacked panel.
     */
    class SideBarHandler {
        /**
         * Construct a new side bar handler.
         */
        constructor() {
            this._items = new Array();
            this._sideBar = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["TabBar"]({
                insertBehavior: 'none',
                removeBehavior: 'none',
                allowDeselect: true
            });
            this._stackedPanel = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__["StackedPanel"]();
            this._sideBar.hide();
            this._stackedPanel.hide();
            this._lastCurrent = null;
            this._sideBar.currentChanged.connect(this._onCurrentChanged, this);
            this._sideBar.tabActivateRequested.connect(this._onTabActivateRequested, this);
            this._stackedPanel.widgetRemoved.connect(this._onWidgetRemoved, this);
        }
        /**
         * Get the tab bar managed by the handler.
         */
        get sideBar() {
            return this._sideBar;
        }
        /**
         * Get the stacked panel managed by the handler
         */
        get stackedPanel() {
            return this._stackedPanel;
        }
        /**
         * Expand the sidebar.
         *
         * #### Notes
         * This will open the most recently used tab, or the first tab
         * if there is no most recently used.
         */
        expand() {
            const previous = this._lastCurrent || (this._items.length > 0 && this._items[0].widget);
            if (previous) {
                this.activate(previous.id);
            }
        }
        /**
         * Activate a widget residing in the side bar by ID.
         *
         * @param id - The widget's unique ID.
         */
        activate(id) {
            let widget = this._findWidgetByID(id);
            if (widget) {
                this._sideBar.currentTitle = widget.title;
                widget.activate();
            }
        }
        /**
         * Test whether the sidebar has the given widget by id.
         */
        has(id) {
            return this._findWidgetByID(id) !== null;
        }
        /**
         * Collapse the sidebar so no items are expanded.
         */
        collapse() {
            this._sideBar.currentTitle = null;
        }
        /**
         * Add a widget and its title to the stacked panel and side bar.
         *
         * If the widget is already added, it will be moved.
         */
        addWidget(widget, rank) {
            widget.parent = null;
            widget.hide();
            let item = { widget, rank };
            let index = this._findInsertIndex(item);
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["ArrayExt"].insert(this._items, index, item);
            this._stackedPanel.insertWidget(index, widget);
            const title = this._sideBar.insertTab(index, widget.title);
            // Store the parent id in the title dataset
            // in order to dispatch click events to the right widget.
            title.dataset = { id: widget.id };
            // set an appropriate style class for the iconRenderer
            if (title.iconRenderer) {
                title.iconClass = _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_0__["LabIcon"].UNSTABLE_style({
                    className: title.iconClass,
                    justify: 'center',
                    kind: 'sideBar'
                });
            }
            this._refreshVisibility();
        }
        /**
         * Dehydrate the side bar data.
         */
        dehydrate() {
            let collapsed = this._sideBar.currentTitle === null;
            let widgets = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["toArray"])(this._stackedPanel.widgets);
            let currentWidget = widgets[this._sideBar.currentIndex];
            return { collapsed, currentWidget, widgets };
        }
        /**
         * Rehydrate the side bar.
         */
        rehydrate(data) {
            if (data.currentWidget) {
                this.activate(data.currentWidget.id);
            }
            else if (data.collapsed) {
                this.collapse();
            }
        }
        /**
         * Find the insertion index for a rank item.
         */
        _findInsertIndex(item) {
            return _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["ArrayExt"].upperBound(this._items, item, Private.itemCmp);
        }
        /**
         * Find the index of the item with the given widget, or `-1`.
         */
        _findWidgetIndex(widget) {
            return _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["ArrayExt"].findFirstIndex(this._items, i => i.widget === widget);
        }
        /**
         * Find the widget which owns the given title, or `null`.
         */
        _findWidgetByTitle(title) {
            let item = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["find"])(this._items, value => value.widget.title === title);
            return item ? item.widget : null;
        }
        /**
         * Find the widget with the given id, or `null`.
         */
        _findWidgetByID(id) {
            let item = Object(_lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["find"])(this._items, value => value.widget.id === id);
            return item ? item.widget : null;
        }
        /**
         * Refresh the visibility of the side bar and stacked panel.
         */
        _refreshVisibility() {
            this._sideBar.setHidden(this._sideBar.titles.length === 0);
            this._stackedPanel.setHidden(this._sideBar.currentTitle === null);
        }
        /**
         * Handle the `currentChanged` signal from the sidebar.
         */
        _onCurrentChanged(sender, args) {
            const oldWidget = args.previousTitle
                ? this._findWidgetByTitle(args.previousTitle)
                : null;
            const newWidget = args.currentTitle
                ? this._findWidgetByTitle(args.currentTitle)
                : null;
            if (oldWidget) {
                oldWidget.hide();
            }
            if (newWidget) {
                newWidget.show();
            }
            this._lastCurrent = newWidget || oldWidget;
            this._refreshVisibility();
        }
        /**
         * Handle a `tabActivateRequest` signal from the sidebar.
         */
        _onTabActivateRequested(sender, args) {
            args.title.owner.activate();
        }
        /*
         * Handle the `widgetRemoved` signal from the stacked panel.
         */
        _onWidgetRemoved(sender, widget) {
            if (widget === this._lastCurrent) {
                this._lastCurrent = null;
            }
            _lumino_algorithm__WEBPACK_IMPORTED_MODULE_1__["ArrayExt"].removeAt(this._items, this._findWidgetIndex(widget));
            this._sideBar.removeTab(widget.title);
            this._refreshVisibility();
        }
    }
    Private.SideBarHandler = SideBarHandler;
})(Private || (Private = {}));
//# sourceMappingURL=shell.js.map

/***/ }),

/***/ "z7Tq":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!/Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/index.css ***!
  \***********************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/runtime/api.js */ "JPst")(false);
// Imports
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@blueprintjs/core/lib/css/blueprint.css */ "ShPo"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@blueprintjs/select/lib/css/blueprint-select.css */ "FDO7"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!@lumino/widgets/style/index.css */ "0S1w"), "");
exports.i(__webpack_require__(/*! -!../../../3.6/share/jupyter/lab/staging/node_modules/css-loader/dist/cjs.js!./base.css */ "Gvq/"), "");
// Module
exports.push([module.i, "/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/* This file was auto-generated by ensurePackage() in @jupyterlab/buildutils */\n", ""]);


/***/ }),

/***/ "zG+O":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/edit.svg ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml,%3Csvg viewBox='0 0 24 24' height='18' width='18' xmlns='http://www.w3.org/2000/svg'%3E %3Cg class='jp-icon3' fill='%23616161'%3E %3Cpath d='M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z'/%3E %3C/g%3E %3C/svg%3E"

/***/ }),

/***/ "zG+Oz":
/*!**********************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/ui-components/style/icons/toolbar/edit.svg ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<svg viewBox=\"0 0 24 24\" height=\"18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n  <g class=\"jp-icon3\" fill=\"#616161\">\n    <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n  </g>\n</svg>\n");

/***/ }),

/***/ "zevx":
/*!******************************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statusbar/lib/defaults/kernelStatus.js ***!
  \******************************************************************************************************/
/*! exports provided: KernelStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KernelStatus", function() { return KernelStatus; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "GyhR");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "wAiP");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/coreutils */ "jlyA");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! .. */ "8R0s");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lumino/coreutils */ "T8+u");
/* harmony import */ var _lumino_coreutils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__);
// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.





/**
 * A pure functional component for rendering kernel status.
 */
function KernelStatusComponent(props) {
    var _a;
    return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(___WEBPACK_IMPORTED_MODULE_3__["TextItem"], { onClick: props.handleClick, source: `${props.kernelName} | ${_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_2__["Text"].titleCase((_a = props.status, (_a !== null && _a !== void 0 ? _a : 'undefined')))}`, title: `Change kernel for ${props.activityName}` }));
}
/**
 * A VDomRenderer widget for displaying the status of a kernel.
 */
class KernelStatus extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomRenderer"] {
    /**
     * Construct the kernel status widget.
     */
    constructor(opts) {
        super(new KernelStatus.Model());
        this._handleClick = opts.onClick;
        this.addClass(___WEBPACK_IMPORTED_MODULE_3__["interactiveItem"]);
    }
    /**
     * Render the kernel status item.
     */
    render() {
        if (this.model === null) {
            return null;
        }
        else {
            return (react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(KernelStatusComponent, { status: this.model.status, kernelName: this.model.kernelName, activityName: this.model.activityName, handleClick: this._handleClick }));
        }
    }
}
/**
 * A namespace for KernelStatus statics.
 */
(function (KernelStatus) {
    /**
     * A VDomModel for the kernel status indicator.
     */
    class Model extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__["VDomModel"] {
        constructor() {
            super(...arguments);
            /**
             * React to changes to the kernel status.
             */
            this._onKernelStatusChanged = () => {
                var _a;
                this._kernelStatus = (_a = this._sessionContext) === null || _a === void 0 ? void 0 : _a.kernelDisplayStatus;
                this.stateChanged.emit(void 0);
            };
            /**
             * React to changes in the kernel.
             */
            this._onKernelChanged = (_sessionContext, change) => {
                var _a;
                const oldState = this._getAllState();
                const { newValue } = change;
                if (newValue !== null) {
                    // sync setting of status and display name
                    this._kernelStatus = (_a = this._sessionContext) === null || _a === void 0 ? void 0 : _a.kernelDisplayStatus;
                    this._kernelName = _sessionContext.kernelDisplayName;
                    this._triggerChange(oldState, this._getAllState());
                }
                else {
                    this._kernelStatus = '';
                    this._kernelName = 'No Kernel!';
                    this._triggerChange(oldState, this._getAllState());
                }
            };
            this._activityName = 'activity';
            this._kernelName = 'No Kernel!';
            this._kernelStatus = '';
            this._sessionContext = null;
        }
        /**
         * The name of the kernel.
         */
        get kernelName() {
            return this._kernelName;
        }
        /**
         * The current status of the kernel.
         */
        get status() {
            return this._kernelStatus;
        }
        /**
         * A display name for the activity.
         */
        get activityName() {
            return this._activityName;
        }
        set activityName(val) {
            const oldVal = this._activityName;
            if (oldVal === val) {
                return;
            }
            this._activityName = val;
            this.stateChanged.emit(void 0);
        }
        /**
         * The current client session associated with the kernel status indicator.
         */
        get sessionContext() {
            return this._sessionContext;
        }
        set sessionContext(sessionContext) {
            var _a, _b, _c, _d, _e, _f, _g, _h;
            (_a = this._sessionContext) === null || _a === void 0 ? void 0 : _a.statusChanged.disconnect(this._onKernelStatusChanged);
            (_b = this._sessionContext) === null || _b === void 0 ? void 0 : _b.kernelChanged.disconnect(this._onKernelChanged);
            const oldState = this._getAllState();
            this._sessionContext = sessionContext;
            this._kernelStatus = (_c = sessionContext) === null || _c === void 0 ? void 0 : _c.kernelDisplayStatus;
            this._kernelName = (_e = (_d = sessionContext) === null || _d === void 0 ? void 0 : _d.kernelDisplayName, (_e !== null && _e !== void 0 ? _e : 'No Kernel!'));
            (_f = sessionContext) === null || _f === void 0 ? void 0 : _f.statusChanged.connect(this._onKernelStatusChanged, this);
            (_g = sessionContext) === null || _g === void 0 ? void 0 : _g.connectionStatusChanged.connect(this._onKernelStatusChanged, this);
            (_h = sessionContext) === null || _h === void 0 ? void 0 : _h.kernelChanged.connect(this._onKernelChanged, this);
            this._triggerChange(oldState, this._getAllState());
        }
        _getAllState() {
            return [this._kernelName, this._kernelStatus, this._activityName];
        }
        _triggerChange(oldState, newState) {
            if (_lumino_coreutils__WEBPACK_IMPORTED_MODULE_4__["JSONExt"].deepEqual(oldState, newState)) {
                this.stateChanged.emit(void 0);
            }
        }
    }
    KernelStatus.Model = Model;
})(KernelStatus || (KernelStatus = {}));
//# sourceMappingURL=kernelStatus.js.map

/***/ }),

/***/ "zwmw":
/*!********************************************************************************************!*\
  !*** /Users/selango/Documents/Dev/github/jupyterlab/packages/statedb/lib/dataconnector.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * An abstract class that adheres to the data connector interface.
 *
 * @typeparam T - The basic entity response type a service's connector.
 *
 * @typeparam U - The basic entity request type, which is conventionally the
 * same as the response type but may be different if a service's implementation
 * requires input data to be different from output responses. Defaults to `T`.
 *
 * @typeparam V - The basic token applied to a request, conventionally a string
 * ID or filter, but may be set to a different type when an implementation
 * requires it. Defaults to `string`.
 *
 * @typeparam W - The type of the optional `query` parameter of the `list`
 * method. Defaults to `string`.
 *
 * #### Notes
 * The only abstract method in this class is the `fetch` method, which must be
 * reimplemented by all subclasses. The `remove` and `save` methods have a
 * default implementation that returns a promise that will always reject. This
 * class is a convenience superclass for connectors that only need to `fetch`.
 */
class DataConnector {
    /**
     * Retrieve the list of items available from the data connector.
     *
     * @param query - The optional query filter to apply to the connector request.
     *
     * @returns A promise that always rejects with an error.
     *
     * #### Notes
     * Subclasses should reimplement if they support a back-end that can list.
     */
    async list(query) {
        throw new Error('DataConnector#list method has not been implemented.');
    }
    /**
     * Remove a value using the data connector.
     *
     * @param id - The identifier for the data being removed.
     *
     * @returns A promise that always rejects with an error.
     *
     * #### Notes
     * Subclasses should reimplement if they support a back-end that can remove.
     */
    async remove(id) {
        throw new Error('DataConnector#remove method has not been implemented.');
    }
    /**
     * Save a value using the data connector.
     *
     * @param id - The identifier for the data being saved.
     *
     * @param value - The data being saved.
     *
     * @returns A promise that always rejects with an error.
     *
     * #### Notes
     * Subclasses should reimplement if they support a back-end that can save.
     */
    async save(id, value) {
        throw new Error('DataConnector#save method has not been implemented.');
    }
}
exports.DataConnector = DataConnector;
//# sourceMappingURL=dataconnector.js.map

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9odG1sNS5zdmc/YjAwZSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2h0bWw1LnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvd2lkZ2V0dHJhY2tlci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvcGFzdGUuc3ZnPzg2OTkiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL3Bhc3RlLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXR0aW5ncmVnaXN0cnkvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL3N0eWxlL3N0eWxpbmcuY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2RvY3JlZ2lzdHJ5L2xpYi9taW1lZG9jdW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvY29yZXV0aWxzL2xpYi9wYXRoLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcGxpY2F0aW9uL2xpYi9mcm9udGVuZC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvc2Vzc2lvbi9kZWZhdWx0LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9rZXJuZWwva2VybmVsLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2RvY21hbmFnZXIvbGliL3BhdGhzdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL3Rlcm1pbmFsL3Jlc3RhcGkuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9hcnJvdy9jYXJldC11cC5zdmc/MzRlNiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2Fycm93L2NhcmV0LXVwLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvdG9vbGJhci5qcyIsIndlYnBhY2s6Ly8vdXRpbCAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vL3JlYWRhYmxlLXN0cmVhbSAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vL3N1cHBvcnRzLWNvbG9yIChpZ25vcmVkKSIsIndlYnBhY2s6Ly8vY2hhbGsgKGlnbm9yZWQpIiwid2VicGFjazovLy8uL3Rlcm1pbmFsLWhpZ2hsaWdodCAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vL2ZzIChpZ25vcmVkKSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9yZW5kZXJtaW1lL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL2NvbXBvbmVudHMvaG92ZXIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL2NvbmZpZy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9jb2RlZWRpdG9yL2xpYi93aWRnZXQuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL2tlcm5lbHNwZWMvbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vdXRpbCAoaWdub3JlZCk/NjI1NiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL3N0eWxlL3Byb2dyZXNzQmFyLmpzIiwid2VicGFjazovLy9idWZmZXIgKGlnbm9yZWQpIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvYXJyb3cvY2FyZXQtZG93bi1lbXB0eS10aGluLnN2Zz9iNmUwIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvYXJyb3cvY2FyZXQtZG93bi1lbXB0eS10aGluLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvYmFzZW1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vL2NyeXB0byAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zaWRlYmFyL2V4dGVuc2lvbi5zdmc/ZGQ5NCIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3NpZGViYXIvZXh0ZW5zaW9uLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9kb2NyZWdpc3RyeS9saWIvY29udGV4dC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIva2VybmVsL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvcHl0aG9uLnN2Zz9mMzMyIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvcHl0aG9uLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2ltYWdlLnN2Zz84N2UyIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvaW1hZ2Uuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL2xpYi9zdHlsaW5nLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm5vZGUtZmV0Y2hcIiIsIndlYnBhY2s6Ly8vcmVhZGFibGUtc3RyZWFtIChpZ25vcmVkKT84NDliIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcGxpY2F0aW9uL2xpYi9sYWIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9saWIvc3R5bGUvaWNvbi5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvcHJpbnRpbmcuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zaWRlYmFyL3J1bm5pbmcuc3ZnPzllNWIiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zaWRlYmFyL3J1bm5pbmcuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9ydW4uc3ZnPzExOWQiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL3J1bi5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9yZWFjdC5zdmc/MjQxYSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL3JlYWN0LnN2ZyIsIndlYnBhY2s6Ly8vc3VwcG9ydHMtY29sb3IgKGlnbm9yZWQpPzI0NzciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvY29kZW1pcnJvci9saWIvbW9kZS5qcyIsIndlYnBhY2s6Ly8vY2hhbGsgKGlnbm9yZWQpPzg0MjQiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvbGliL3Zkb20uanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL2tlcm5lbC9zZXJpYWxpemUuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvbWFpbm1lbnUvbGliL2VkaXQuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9qdXB5dGVyL2p1cHl0ZXJsYWItd29yZG1hcmsuc3ZnPzZmMWUiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9qdXB5dGVyL2p1cHl0ZXJsYWItd29yZG1hcmsuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvYXJyb3cvY2FyZXQtcmlnaHQuc3ZnPzA3MzEiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9hcnJvdy9jYXJldC1yaWdodC5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL2NvbnRlbnRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3Rlcm1pbmFsLWhpZ2hsaWdodCAoaWdub3JlZCk/MWJkNSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2RvY21hbmFnZXIvbGliL3Rva2Vucy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvY2lyY2xlLWVtcHR5LnN2Zz9jYzI3Iiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9jaXJjbGUtZW1wdHkuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL29ic2VydmFibGVzL2xpYi9tb2RlbGRiLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvYXJyb3cvY2FyZXQtdXAtZW1wdHktdGhpbi5zdmc/ZWYyOSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2Fycm93L2NhcmV0LXVwLWVtcHR5LXRoaW4uc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9rZXJuZWwvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vL2ZzIChpZ25vcmVkKT84NDFkIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL3N0eWxlL3NwaW5uZXIuY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9jb3B5LnN2Zz8zNmE1Iiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9jb3B5LnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIva2VybmVsL2Z1dHVyZS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL25vdGVib29rLnN2Zz9iNjRmIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvbm90ZWJvb2suc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9idWcuc3ZnPzljZDkiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL2J1Zy5zdmciLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvaW1wb3J0cy5jc3M/ZmM0MiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL2xpYi90b2tlbnMuanMiLCJ3ZWJwYWNrOi8vLy4vYnVpbGQvaW5kZXgub3V0LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL21haW5tZW51L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9jb2RlbWlycm9yL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvd2luZG93cmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvbWFpbm1lbnUvbGliL2hlbHAuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9zZXR0aW5ncy5zdmc/ZDA2NSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL3NldHRpbmdzLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9kb2NtYW5hZ2VyL2xpYi9kaWFsb2dzLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2RvY21hbmFnZXIvbGliL21hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvZG9jbWFuYWdlci9saWIvc2F2aW5nc3RhdHVzLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvc2lkZWJhci9idWlsZC5zdmc/ZDJkMCIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3NpZGViYXIvYnVpbGQuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvanVweXRlci9qdXB5dGVyLnN2Zz9kNzAzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvanVweXRlci9qdXB5dGVyLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9kb2NtYW5hZ2VyL2xpYi93aWRnZXRtYW5hZ2VyLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUveWFtbC5zdmc/MzBiMyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL3lhbWwuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9zYXZlLnN2Zz84NmY2Iiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9zYXZlLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9zdHlsZS9jb2xsYXBzZS5jc3MiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvcmVuZGVybWltZS9saWIvYXR0YWNobWVudG1vZGVsLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9maWx0ZXItbGlzdC5zdmc/YzcxZSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvZmlsdGVyLWxpc3Quc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3N0YXR1c2Jhci9saWIvc3R5bGUvbGF5b3V0LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvYXJyb3cvY2FyZXQtbGVmdC5zdmc/YTgxOSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2Fycm93L2NhcmV0LWxlZnQuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvc3RhdHVzYmFyL2tlcm5lbC5zdmc/YWZkMiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3N0YXR1c2Jhci9rZXJuZWwuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9rZXJuZWwvZGVmYXVsdC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9zdHlsZS9iYXNlLmNzcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2Jhc2UuY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3JlbmRlcm1pbWUvbGliL291dHB1dG1vZGVsLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvc3RhdHVzYmFyL3Rlcm1pbmFsLnN2Zz9kYTM4Iiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvc3RhdHVzYmFyL3Rlcm1pbmFsLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvZGlhbG9nLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL2xpYi9ob3ZlcmJveC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9kb2NyZWdpc3RyeS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvbGliL3Rva2Vucy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL3N0eWxlL3N0YXR1c2Jhci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvYnVpbGRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvY29tbWFuZGxpbmtlci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL2NvbXBvbmVudHMvcHJvZ3Jlc3NCYXIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwbGljYXRpb24vbGliL3JvdXRlci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL2xpYi9jb21wb25lbnRzL2ludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9kb2NtYW5hZ2VyLWV4dGVuc2lvbi9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvcmVuZGVybWltZS9saWIvdG9rZW5zLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2NvZGVlZGl0b3IvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3N0YXR1c2Jhci9saWIvdG9rZW5zLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3JlbmRlcm1pbWUvbGliL21pbWVtb2RlbC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIva2VybmVsL21hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL2tlcm5lbHNwZWMvcmVzdGFwaS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9yZW5kZXJtaW1lL2xpYi9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvbWFpbm1lbnUvbGliL3ZpZXcuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvc3R5bGUvaG92ZXJib3guY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2RvY21hbmFnZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2NvcmV1dGlscy9saWIvbWFya2Rvd25jb2RlYmxvY2tzLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3JlbmRlcm1pbWUvbGliL3dpZGdldHMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zdGF0dXNiYXIvdHJ1c3RlZC5zdmc/YjdlMiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3N0YXR1c2Jhci90cnVzdGVkLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvc2Vzc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvdW5kby5zdmc/YTU2NyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvdW5kby5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL3N0b3Auc3ZnPzhlMTAiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL3N0b3Auc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9rZXJuZWxzcGVjL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9lbGxpcHNlcy5zdmc/MDNmOSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvZWxsaXBzZXMuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMuY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9zZWFyY2guc3ZnP2VjMDciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL3NlYXJjaC5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvY29kZW1pcnJvci9saWIvbWltZXR5cGUuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvZG9jbWFuYWdlci1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL21haW5tZW51L2xpYi9zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvZG9tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9saWIvaWNvbi9pY29uaW1wb3J0cy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvbWFpbmFyZWF3aWRnZXQuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29uc2FsdC5jc3MiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvb2JzZXJ2YWJsZXMvbGliL29ic2VydmFibGVtYXAuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvZG9jbWFuYWdlci9zdHlsZS9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9rZXlib2FyZC5zdmc/ODcyMiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2tleWJvYXJkLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvbGluay5zdmc/NWQ3NiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvbGluay5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zdGF0dXNiYXIvbGlzdC5zdmc/NjgzNSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3N0YXR1c2Jhci9saXN0LnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvc2FuaXRpemVyLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi90ZXJtaW5hbC9tYW5hZ2VyLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL25iZm9ybWF0L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2RlcHJlY2F0ZWQvY2hlY2stZGlzYWJsZWQuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3N0YXR1c2Jhci9saWIvY29tcG9uZW50cy9ncm91cC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9zdHlsZS9tYXRlcmlhbGNvbG9ycy5jc3MiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvc3R5bGUvZGlhbG9nLmNzcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9jb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLWlweXRob24uanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9saWIvaWNvbi9sYWJpY29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlIHN5bmMgXlxcLlxcLy4qJCIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvaWZyYW1lLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL21haW5tZW51L2xpYi9ydW4uanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zdGF0dXNiYXIvbm90LXRydXN0ZWQuc3ZnPzk2NjEiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zdGF0dXNiYXIvbm90LXRydXN0ZWQuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9uYmNvbnZlcnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zZWFyY2gvcmVnZXguc3ZnPzBjODQiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zZWFyY2gvcmVnZXguc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvc3RhdHVzYmFyL2xpbmUtZm9ybS5zdmc/MWIwNyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3N0YXR1c2Jhci9saW5lLWZvcm0uc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3JlbmRlcm1pbWUvbGliL2xhdGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9jb250ZW50cy92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9jb2RlbWlycm9yL2xpYi9zeW50YXhzdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29uc2hvdmVyLmNzcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvY29tbWFuZHBhbGV0dGUuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9zaWRlYmFyL3RhYi5zdmc/ZjA3YSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3NpZGViYXIvdGFiLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvbGliL3NwaW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL3JlZnJlc2guc3ZnPzI0OTkiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL3JlZnJlc2guc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9kb3dubG9hZC5zdmc/NmQwZCIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvZG93bmxvYWQuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvY29uc29sZS5zdmc/MGNhMCIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2NvbnNvbGUuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL3N0eWxlL2luZGV4LmNzcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL2xpYi9pY29uL3RhYmJhcnN2Zy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9jb2RlZWRpdG9yL2xpYi9qc29uZWRpdG9yLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2NvcmV1dGlscy9saWIvdXJsLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvbGliL2NvbXBvbmVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvb2JzZXJ2YWJsZXMvbGliL29ic2VydmFibGVzdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvc3R5bGUvbWFpbmFyZWF3aWRnZXQuY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcGxpY2F0aW9uL2xpYi90b2tlbnMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc3RhdHVzYmFyL2xpYi9kZWZhdWx0cy9saW5lQ29sLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIva2VybmVsc3BlYy9rZXJuZWxzcGVjLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcGxpY2F0aW9uL2xpYi9jb25uZWN0aW9ubG9zdC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2RlcHJlY2F0ZWQvc2VhcmNoLXdoaXRlLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL2xpYi9jb21wb25lbnRzL2h0bWxzZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc3RhdGVkYi9saWIvdG9rZW5zLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2NvZGVlZGl0b3IvbGliL2VkaXRvci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvc2Vzc2lvbi9yZXN0YXBpLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL2xpYi9zZXNzaW9uY29udGV4dC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9kb2NyZWdpc3RyeS9zdHlsZS9iYXNlLmNzcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHB1dGlscy9saWIvY2xpcGJvYXJkLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3N0YXR1c2Jhci9saWIvY29tcG9uZW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9kb2NyZWdpc3RyeS9saWIvZGVmYXVsdC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3NpZGViYXIvcGFsZXR0ZS5zdmc/NDBlZSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3NpZGViYXIvcGFsZXR0ZS5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2V0dGluZ3JlZ2lzdHJ5L2xpYi9zZXR0aW5ncmVnaXN0cnkuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvbWFpbm1lbnUvbGliL21haW5tZW51LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL29ic2VydmFibGVzL2xpYi9vYnNlcnZhYmxlanNvbi5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvY2hlY2suc3ZnP2E2ZmQiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL2NoZWNrLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9vYnNlcnZhYmxlcy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL2FkZC5zdmc/ZTdhZSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvYWRkLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9hcHBsaWNhdGlvbi9saWIvc3RhdHVzLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvci1rZXJuZWwuc3ZnPzQxODEiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9yLWtlcm5lbC5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvY29yZXV0aWxzL2xpYi9wYWdlY29uZmlnLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3N0YXR1c2Jhci9saWIvc3R5bGUvdmFyaWFibGVzLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL2xpYi9pbnB1dGRpYWxvZy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL2RlZmF1bHRzL21lbW9yeVVzYWdlLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvZmlsZS5zdmc/MzJhOSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2ZpbGUuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2NvcmV1dGlscy9saWIvdGV4dC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2luc3BlY3Rvci5zdmc/YjA1ZSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2luc3BlY3Rvci5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvbWFpbm1lbnUvbGliL3RhYnMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvZG9jcmVnaXN0cnkvc3R5bGUvaW5kZXguY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcGxpY2F0aW9uL2xpYi9taW1lcmVuZGVyZXJzLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL2xpYi90aGVtZW1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvbGliL3NwbGFzaC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvc2VydmVyY29ubmVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9jb3JldXRpbHMvbGliL2FjdGl2aXR5bW9uaXRvci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvbmV3LWZvbGRlci5zdmc/NzFjYSIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvbmV3LWZvbGRlci5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9kZXByZWNhdGVkLmNzcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL2NvbXBvbmVudHMvdGV4dC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2Fycm93L2NhcmV0LWRvd24tZW1wdHkuc3ZnPzYxNGMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9hcnJvdy9jYXJldC1kb3duLWVtcHR5LnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2RlcHJlY2F0ZWRFeHRyYS5jc3MiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9hcnJvdy9jYXJldC1kb3duLnN2Zz8xZGNmIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvYXJyb3cvY2FyZXQtZG93bi5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvY29yZXV0aWxzL2xpYi90aW1lLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9zZXR0aW5nL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvbGliL2ljb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvb2JzZXJ2YWJsZXMvbGliL3VuZG9hYmxlbGlzdC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIva2VybmVsc3BlYy92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvdGVybWluYWwvZGVmYXVsdC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvY3V0LnN2Zz9kMDdlIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9jdXQuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2NvcmV1dGlscy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9sYXVuY2hlci5zdmc/NmFkZiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2xhdW5jaGVyLnN2ZyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3c1wiIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2NvZGVtaXJyb3IvbGliL2ZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvbGliL2NvbGxhcHNlLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3N0YXRlZGIvbGliL3Jlc3RvcmFibGVwb29sLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvdGV4dC1lZGl0b3Iuc3ZnP2MzOWEiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS90ZXh0LWVkaXRvci5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc3RhdHVzYmFyL2xpYi9zdHlsZS90ZXh0LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL3N0eWxlL2lmcmFtZS5jc3MiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL3Nlc3Npb24vc2Vzc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9idWlsZC9pbXBvcnRzLmNzcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvY2xvc2Uuc3ZnP2E2NWIiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL2Nsb3NlLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL2RlZmF1bHRzL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcGxpY2F0aW9uL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9jb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLWlweXRob25nZm0uanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc3RhdHVzYmFyL2xpYi9kZWZhdWx0cy9ydW5uaW5nU2Vzc2lvbnMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc3RhdHVzYmFyL2xpYi9zdGF0dXNiYXIuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUgc3luYyBeXFwuXFwvLiokIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9rZXJuZWwvcmVzdGFwaS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9jb2RlZWRpdG9yL2xpYi9taW1ldHlwZS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL2xpYi9ibHVlcHJpbnQuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL3Nlc3Npb24vbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9kb2NyZWdpc3RyeS9saWIvcmVnaXN0cnkuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvb2JzZXJ2YWJsZXMvbGliL29ic2VydmFibGVsaXN0LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NldHRpbmdyZWdpc3RyeS9saWIvdG9rZW5zLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL3N0eWxlL2NvbW1hbmRwYWxldHRlLmNzcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zZXJ2aWNlcy9saWIvdGVybWluYWwvdGVybWluYWwuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL2NpcmNsZS5zdmc/YTRiNCIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3Rvb2xiYXIvY2lyY2xlLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL3ZlZ2Euc3ZnPzA1MjYiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS92ZWdhLnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL2xpYi9zdHlsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0ZWRiL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2RlYnVnL2JhZC5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvY29kZWVkaXRvci9saWIvdG9rZW5zLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9rZXJuZWwvbWVzc2FnZXMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9mb2xkZXIuc3ZnPzE2ZTYiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9mb2xkZXIuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL21haW5tZW51L2xpYi9rZXJuZWwuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9kZWJ1Zy9ibGFuay5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL3dvcmtzcGFjZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9tYWlubWVudS9saWIvbGFibWVudS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3NlYXJjaC9jYXNlLXNlbnNpdGl2ZS5zdmc/MTA1ZCIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL3NlYXJjaC9jYXNlLXNlbnNpdGl2ZS5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc3RhdGVkYi9saWIvc3RhdGVkYi5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9yZW5kZXJtaW1lL2xpYi9yZWdpc3RyeS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL3NwcmVhZHNoZWV0LnN2Zz8xOTRlIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvc3ByZWFkc2hlZXQuc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL21haW5tZW51L2xpYi9maWxlLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2FwcHV0aWxzL3N0eWxlL3Rvb2xiYXIuY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2RvY21hbmFnZXIvbGliL3NhdmVoYW5kbGVyLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvbWFya2Rvd24uc3ZnP2NhZGQiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9maWxldHlwZS9tYXJrZG93bi5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwdXRpbHMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvanVweXRlci9qdXB5dGVyLWZhdmljb24uc3ZnPzljY2YiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy9qdXB5dGVyL2p1cHl0ZXItZmF2aWNvbi5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwbGljYXRpb24vbGliL2xheW91dHJlc3RvcmVyLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvZmlsZXR5cGUvanNvbi5zdmc/N2Q1MiIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy91aS1jb21wb25lbnRzL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2pzb24uc3ZnIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3N0YXR1c2Jhci9saWIvc3R5bGUvbGluZUZvcm0uanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvc2VydmljZXMvbGliL3Rlcm1pbmFsL2luZGV4LmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL2NvZGVtaXJyb3IvbGliL2VkaXRvci5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9tYWlubWVudS9saWIvdG9rZW5zLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9zZXNzaW9uL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3NlcnZpY2VzL2xpYi9rZXJuZWwvY29tbS5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9yZW5kZXJtaW1lL2xpYi9yZW5kZXJlcnMuanMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvdWktY29tcG9uZW50cy9zdHlsZS9pY29ucy90b29sYmFyL2ZpbGUtdXBsb2FkLnN2Zz9mZTRmIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9maWxlLXVwbG9hZC5zdmciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9zZWxhbmdvL0RvY3VtZW50cy9EZXYvZ2l0aHViL2p1cHl0ZXJsYWIvcGFja2FnZXMvYXBwbGljYXRpb24vbGliL3NoZWxsLmpzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaW5kZXguY3NzIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9lZGl0LnN2Zz85OWViIiwid2VicGFjazovLy8vVXNlcnMvc2VsYW5nby9Eb2N1bWVudHMvRGV2L2dpdGh1Yi9qdXB5dGVybGFiL3BhY2thZ2VzL3VpLWNvbXBvbmVudHMvc3R5bGUvaWNvbnMvdG9vbGJhci9lZGl0LnN2ZyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0dXNiYXIvbGliL2RlZmF1bHRzL2tlcm5lbFN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vL1VzZXJzL3NlbGFuZ28vRG9jdW1lbnRzL0Rldi9naXRodWIvanVweXRlcmxhYi9wYWNrYWdlcy9zdGF0ZWRiL2xpYi9kYXRhY29ubmVjdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLFFBQVEsb0JBQW9CO1FBQzVCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsaUJBQWlCLDRCQUE0QjtRQUM3QztRQUNBO1FBQ0Esa0JBQWtCLDJCQUEyQjtRQUM3QztRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7O1FBRUE7UUFDQTtRQUNBLDBDQUEwQyw2QkFBNkIsa0tBQWtLO1FBQ3pPOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTs7O1FBR0E7O1FBRUE7UUFDQSxpQ0FBaUM7O1FBRWpDO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQSxNQUFNO1FBQ047O1FBRUE7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx3QkFBd0Isa0NBQWtDO1FBQzFELE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0EsNkJBQTZCLDJCQUEyQjs7UUFFeEQ7UUFDQSwwQ0FBMEMsb0JBQW9CLFdBQVc7O1FBRXpFO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsZ0JBQWdCLHVCQUF1QjtRQUN2Qzs7O1FBR0E7UUFDQTtRQUNBO1FBQ0E7Ozs7Ozs7Ozs7OztBQzVOQSxpNkI7Ozs7Ozs7Ozs7OztBQ0FBO0FBQWUsa2xDQUFtaEMsRTs7Ozs7Ozs7Ozs7O0FDQWxpQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNxRDtBQUNWO0FBQ0k7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0RBQU07QUFDekM7QUFDQSxnQ0FBZ0Msd0RBQU07QUFDdEMsa0NBQWtDLHdEQUFNO0FBQ3hDLGdEQUFnRCw0REFBWTtBQUM1RCx1Q0FBdUMsa0VBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Qzs7Ozs7Ozs7Ozs7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDZDQUE2QztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFDQUFxQztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFDQUFxQztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQVcsaUNBQWlDLHNEQUFNO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2REFBVywwQkFBMEIsc0RBQU07QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0JBQXNCLHNEQUFNO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkRBQUc7QUFDbEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOERBQUk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUM7Ozs7Ozs7Ozs7OztBQzdKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGdDQUFnQyxzREFBTTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscUVBQWtCO0FBQ3JDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFFBQVEsUUFBUSxRQUFRO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx1REFBdUQ7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUdBQXlHLGlCQUFpQjtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVMsR0FBRyx3REFBd0Q7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELFVBQVUsNkNBQTZDO0FBQ3RILGlC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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdEQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNkRBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLG1EQUFtRDtBQUNuRDtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IseUJBQXlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwrQkFBK0IseUJBQXlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG9CQUFvQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRztBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwwREFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0JBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsY0FBYyxhQUFhLHNDQUFzQztBQUM1SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHFCQUFxQjtBQUMxRDtBQUNBLDREQUE0RCxvQkFBb0IsUUFBUTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DOzs7Ozs7Ozs7Ozs7QUNuUWE7QUFDYjtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQsMkJBQTJCLG1CQUFPLENBQUMsaUNBQXFCO0FBQ3hELG1CQUFtQixtQkFBTyxDQUFDLHdCQUFZO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLG1DQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUM7Ozs7Ozs7Ozs7OztBQ2hDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxxREFBb0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzREFBcUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzREFBcUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx5REFBd0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvREFBbUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHFEQUFvQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDJEQUEwQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDOzs7Ozs7Ozs7Ozs7QUNoRkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUMyQztBQUMzQztBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsdURBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQzs7Ozs7Ozs7Ozs7QUN2QkEsMkJBQTJCLG1CQUFPLENBQUMsZ0dBQW9GO0FBQ3ZIO0FBQ0EsY0FBYyxRQUFTLDBTQUEwUyxvQkFBb0IsR0FBRyxtQ0FBbUMsa0JBQWtCLEdBQUc7Ozs7Ozs7Ozs7Ozs7QUNGaFo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQzBCO0FBQ0Q7QUFDQztBQUNJO0FBQ0M7QUFDRjtBQUNHO0FBQ2hDLGlDOzs7Ozs7Ozs7Ozs7QUNUYTtBQUNiO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwQkFBMEI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUZBQXFGO0FBQ3RGLDhDOzs7Ozs7Ozs7Ozs7QUNoR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBeUM7QUFDQTtBQUN6QztBQUNBO0FBQ0E7QUFDTyw2QkFBNkIsc0RBQU07QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFvQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxzREFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0RBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlEQUF3QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9EQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQW9CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtQzs7Ozs7Ozs7Ozs7QUMxVUEsdzBCOzs7Ozs7Ozs7Ozs7QUNBQTtBQUFlLHczQkFBeXpCLEU7Ozs7Ozs7Ozs7OztBQ0EzekI7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RCw2QkFBNkIsbUJBQU8sQ0FBQyx1QkFBVztBQUNoRDtBQUNBLGdDQUFnQyxtQkFBTyxDQUFDLHVCQUFXO0FBQ25EO0FBQ0EsU0FBUyxtQkFBTyxDQUFDLHVCQUFXO0FBQzVCLGlDOzs7Ozs7Ozs7OztBQ25CQSwwVjs7Ozs7Ozs7Ozs7O0FDQUE7QUFBZSwyWEFBNFQsRTs7Ozs7Ozs7Ozs7QUNBM1UsbVE7Ozs7Ozs7Ozs7OztBQ0FBO0FBQWUscVRBQXNQLEU7Ozs7Ozs7Ozs7OztBQ0F4UDtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVELGdDQUFnQyxtQkFBTyxDQUFDLDBCQUFjO0FBQ3REO0FBQ0EsbUNBQW1DLG1CQUFPLENBQUMsdUJBQVc7QUFDdEQ7QUFDQSxTQUFTLG1CQUFPLENBQUMsdUJBQVc7QUFDNUIsaUM7Ozs7Ozs7Ozs7O0FDbkJBLHNTOzs7Ozs7Ozs7Ozs7QUNBQTtBQUFlLHlWQUEwUixFOzs7Ozs7Ozs7OztBQ0F6UywyQkFBMkIsbUJBQU8sQ0FBQyxnR0FBb0Y7QUFDdkg7QUFDQSxjQUFjLFFBQVMsMllBQTJZLDBDQUEwQyxHQUFHLG1CQUFtQiwwQ0FBMEMsR0FBRyxtQkFBbUIsMENBQTBDLEdBQUcsbUJBQW1CLDBDQUEwQyxHQUFHLG1CQUFtQiwwQ0FBMEMsR0FBRyx1QkFBdUIsNENBQTRDLEdBQUcscUJBQXFCLDRDQUE0QyxHQUFHLHFCQUFxQiw0Q0FBNEMsR0FBRyxxQkFBcUIsNENBQTRDLEdBQUcscUJBQXFCLDRDQUE0QyxHQUFHLHdFQUF3RSxrQ0FBa0MsR0FBRywwQkFBMEIsa0NBQWtDLEdBQUcsMEJBQTBCLGtDQUFrQyxHQUFHLDBCQUEwQixrQ0FBa0MsR0FBRywwQkFBMEIsa0NBQWtDLEdBQUcsOEJBQThCLG9DQUFvQyxHQUFHLDRCQUE0QixvQ0FBb0MsR0FBRyw0QkFBNEIsb0NBQW9DLEdBQUcsNEJBQTRCLG9DQUFvQyxHQUFHLDRCQUE0QixvQ0FBb0MsR0FBRyxzRUFBc0UsZUFBZSxHQUFHLDJCQUEyQixpQkFBaUIsR0FBRywyRUFBMkUsaUNBQWlDLEdBQUcseUJBQXlCLGlDQUFpQyxHQUFHLHlCQUF5QixpQ0FBaUMsR0FBRyx5QkFBeUIsaUNBQWlDLEdBQUcseUJBQXlCLGlDQUFpQyxHQUFHLDZCQUE2QixtQ0FBbUMsR0FBRywyQkFBMkIsbUNBQW1DLEdBQUcsMkJBQTJCLG1DQUFtQyxHQUFHLDJCQUEyQixtQ0FBbUMsR0FBRywyQkFBMkIsbUNBQW1DLEdBQUcseUVBQXlFLGdDQUFnQyxHQUFHLHdCQUF3QixnQ0FBZ0MsR0FBRyx3QkFBd0IsZ0NBQWdDLEdBQUcsd0JBQXdCLGdDQUFnQyxHQUFHLDRCQUE0QixrQ0FBa0MsR0FBRywwQkFBMEIsa0NBQWtDLEdBQUcsMEJBQTBCLGtDQUFrQyxHQUFHLDBCQUEwQixrQ0FBa0MsR0FBRyx1R0FBdUcseUNBQXlDLEdBQUcsNEJBQTRCLHlDQUF5QyxHQUFHLDRCQUE0Qix5Q0FBeUMsR0FBRyw0QkFBNEIseUNBQXlDLEdBQUcsZ0NBQWdDLDJDQUEyQyxHQUFHLDhCQUE4QiwyQ0FBMkMsR0FBRyw4QkFBOEIsMkNBQTJDLEdBQUcsOEJBQThCLDJDQUEyQyxHQUFHLDZJQUE2SSxlQUFlLEdBQUcsOEZBQThGLGlDQUFpQyxHQUFHLDhIQUE4SCxlQUFlLEdBQUcseUVBQXlFLGlDQUFpQyxHQUFHLDBJQUEwSSxlQUFlLEdBQUcsaUZBQWlGLGlDQUFpQyxHQUFHLHlHQUF5RyxpQ0FBaUMsR0FBRyxtSEFBbUgsZUFBZSxHQUFHLGtUQUFrVCxlQUFlLEdBQUcsdUhBQXVILDBDQUEwQyxHQUFHLHVJQUF1SSxlQUFlLEdBQUcsbVVBQW1VLGVBQWUsR0FBRywrSUFBK0ksMENBQTBDLEdBQUcsc0dBQXNHLGVBQWUsR0FBRywyRUFBMkUsaUNBQWlDLEdBQUcscU1BQXFNLDJDQUEyQyxHQUFHLDhGQUE4RixvQkFBb0IscUJBQXFCLDBCQUEwQiwwQkFBMEIsMkJBQTJCLGlDQUFpQyxnQ0FBZ0MsR0FBRyxZQUFZLDBCQUEwQiwyQkFBMkIsaUNBQWlDLGdDQUFnQyxpQkFBaUIsR0FBRyxpQkFBaUIsb0JBQW9CLHFCQUFxQiwwQkFBMEIsR0FBRyxpQkFBaUIsb0JBQW9CLHFCQUFxQiwwQkFBMEIsR0FBRyxpQkFBaUIsb0JBQW9CLHFCQUFxQiwwQkFBMEIsR0FBRyxrQkFBa0Isc0JBQXNCLEdBQUcsNEVBQTRFLCtDQUErQyxPQUFPLHlCQUF5QixpREFBaUQsT0FBTywwQkFBMEIsa0RBQWtELE9BQU8sc0JBQXNCLDhDQUE4QyxPQUFPLHNCQUFzQiw4Q0FBOEMsT0FBTywyQkFBMkIsb0RBQW9ELE9BQU8sc0JBQXNCLDhDQUE4QyxPQUFPOzs7Ozs7Ozs7Ozs7QUNGbHJQLG1jOzs7Ozs7Ozs7Ozs7QUNBQTtBQUFlLG9lQUFxYSxFOzs7Ozs7Ozs7Ozs7QUNBcGI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDZ0Q7QUFDbEI7QUFDOUI7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwQ0FBSTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2REFBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMENBQUkseUJBQXlCLDBDQUFJO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLG9DOzs7Ozs7Ozs7OztBQ3hDQSwyQkFBMkIsbUJBQU8sQ0FBQyxnR0FBb0Y7QUFDdkg7QUFDQSxVQUFVLG1CQUFPLENBQUMsaUlBQXFIO0FBQ3ZJO0FBQ0EsY0FBYyxRQUFTOzs7Ozs7Ozs7Ozs7O0FDSnZCO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLHVEQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQzs7Ozs7Ozs7Ozs7O0FDZkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDNkM7QUFDQztBQUNMO0FBQ3pDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMERBQVE7QUFDdkIsbUJBQW1CLDJEQUFVO0FBQzdCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsVUFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzREFBSSxTQUFTO0FBQ2xDO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3QixvQzs7Ozs7Ozs7Ozs7O0FDekNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNvQztBQUNwQztBQUMwRDtBQUNBO0FBQ0k7QUFDa0I7QUFDUztBQUNwQjtBQUNBO0FBQ0U7QUFDYztBQUNwQjtBQUNhO0FBQ2hCO0FBQ2E7QUFDWDtBQUNGO0FBQ0s7QUFDUDtBQUNGO0FBQ1U7QUFDUjtBQUNRO0FBQ0U7QUFDVDtBQUNZO0FBQ0E7QUFDUjtBQUNGO0FBQ0E7QUFDUTtBQUNWO0FBQ29CO0FBQ2Y7QUFDdUI7QUFDdkI7QUFDRztBQUNBO0FBQ0U7QUFDWDtBQUNFO0FBQ087QUFDRTtBQUNJO0FBQ047QUFDSDtBQUNKO0FBQ0c7QUFDRztBQUNMO0FBQ0c7QUFDTDtBQUNIO0FBQ1E7QUFDTjtBQUNJO0FBQ0s7QUFDTTtBQUNmO0FBQ0Y7QUFDWTtBQUNJO0FBQ047QUFDUjtBQUNDO0FBQ0E7QUFDN0Q7QUFDTyxvQkFBb0IsZ0RBQU8sRUFBRSxvQ0FBb0Msb0VBQVMsRUFBRTtBQUM1RSxvQkFBb0IsZ0RBQU8sRUFBRSxvQ0FBb0Msb0VBQVMsRUFBRTtBQUM1RSxzQkFBc0IsZ0RBQU8sRUFBRSxzQ0FBc0Msc0VBQVcsRUFBRTtBQUNsRiwrQkFBK0IsZ0RBQU8sRUFBRSxpREFBaUQsK0VBQW9CLEVBQUU7QUFDL0csbUNBQW1DLGdEQUFPLEVBQUUsc0RBQXNELG9GQUF3QixFQUFFO0FBQzVILDBCQUEwQixnREFBTyxFQUFFLDJDQUEyQyx5RUFBZSxFQUFFO0FBQy9GLDBCQUEwQixnREFBTyxFQUFFLDJDQUEyQyx5RUFBZSxFQUFFO0FBQy9GLDJCQUEyQixnREFBTyxFQUFFLDRDQUE0QywwRUFBZ0IsRUFBRTtBQUNsRyxpQ0FBaUMsZ0RBQU8sRUFBRSxvREFBb0Qsa0ZBQXNCLEVBQUU7QUFDdEgsd0JBQXdCLGdEQUFPLEVBQUUseUNBQXlDLHdFQUFhLEVBQUU7QUFDekYsOEJBQThCLGdEQUFPLEVBQUUsK0NBQStDLCtFQUFtQixFQUFFO0FBQzNHLHNCQUFzQixnREFBTyxFQUFFLHNDQUFzQyx1RUFBVyxFQUFFO0FBQ2xGLDRCQUE0QixnREFBTyxFQUFFLDZDQUE2Qyw4RUFBaUIsRUFBRTtBQUNyRyx1QkFBdUIsZ0RBQU8sRUFBRSx1Q0FBdUMsd0VBQVksRUFBRTtBQUNyRixzQkFBc0IsZ0RBQU8sRUFBRSxzQ0FBc0MsdUVBQVcsRUFBRTtBQUNsRix3QkFBd0IsZ0RBQU8sRUFBRSx3Q0FBd0MsMEVBQWEsRUFBRTtBQUN4RixxQkFBcUIsZ0RBQU8sRUFBRSxxQ0FBcUMsc0VBQVUsRUFBRTtBQUMvRSxvQkFBb0IsZ0RBQU8sRUFBRSxvQ0FBb0MscUVBQVMsRUFBRTtBQUM1RSx5QkFBeUIsZ0RBQU8sRUFBRSx5Q0FBeUMsMEVBQWMsRUFBRTtBQUMzRixxQkFBcUIsZ0RBQU8sRUFBRSxxQ0FBcUMsc0VBQVUsRUFBRTtBQUMvRSx5QkFBeUIsZ0RBQU8sRUFBRSx5Q0FBeUMsMEVBQWMsRUFBRTtBQUMzRiwwQkFBMEIsZ0RBQU8sRUFBRSwwQ0FBMEMsMkVBQWUsRUFBRTtBQUM5RixxQkFBcUIsZ0RBQU8sRUFBRSxxQ0FBcUMsdUVBQVUsRUFBRTtBQUMvRSwyQkFBMkIsZ0RBQU8sRUFBRSw0Q0FBNEMsNkVBQWdCLEVBQUU7QUFDbEcsMkJBQTJCLGdEQUFPLEVBQUUsNENBQTRDLDZFQUFnQixFQUFFO0FBQ2xHLHVCQUF1QixnREFBTyxFQUFFLHVDQUF1Qyx5RUFBWSxFQUFFO0FBQ3JGLHNCQUFzQixnREFBTyxFQUFFLHNDQUFzQyx3RUFBVyxFQUFFO0FBQ2xGLHNCQUFzQixnREFBTyxFQUFFLHNDQUFzQyx3RUFBVyxFQUFFO0FBQ2xGLDBCQUEwQixnREFBTyxFQUFFLDBDQUEwQyw0RUFBZSxFQUFFO0FBQzlGLHFCQUFxQixnREFBTyxFQUFFLHFDQUFxQyx1RUFBVSxFQUFFO0FBQy9FLCtCQUErQixnREFBTyxFQUFFLGdEQUFnRCxpRkFBb0IsRUFBRTtBQUM5Ryx3QkFBd0IsZ0RBQU8sRUFBRSx3Q0FBd0MseUVBQWEsRUFBRTtBQUN4RixtQ0FBbUMsZ0RBQU8sRUFBRSxvREFBb0QscUZBQXdCLEVBQUU7QUFDMUgsdUJBQXVCLGdEQUFPLEVBQUUsdUNBQXVDLDBFQUFZLEVBQUU7QUFDckYseUJBQXlCLGdEQUFPLEVBQUUseUNBQXlDLDJFQUFjLEVBQUU7QUFDM0YseUJBQXlCLGdEQUFPLEVBQUUseUNBQXlDLDJFQUFjLEVBQUU7QUFDM0YseUJBQXlCLGdEQUFPLEVBQUUsMENBQTBDLDZFQUFjLEVBQUU7QUFDNUYscUJBQXFCLGdEQUFPLEVBQUUscUNBQXFDLHNFQUFVLEVBQUU7QUFDL0UscUJBQXFCLGdEQUFPLEVBQUUscUNBQXFDLHdFQUFVLEVBQUU7QUFDL0UseUJBQXlCLGdEQUFPLEVBQUUseUNBQXlDLDJFQUFjLEVBQUU7QUFDM0YsMEJBQTBCLGdEQUFPLEVBQUUsMkNBQTJDLDRFQUFlLEVBQUU7QUFDL0YsMkJBQTJCLGdEQUFPLEVBQUUsNENBQTRDLCtFQUFnQixFQUFFO0FBQ2xHLHlCQUF5QixnREFBTyxFQUFFLHlDQUF5QywyRUFBYyxFQUFFO0FBQzNGLHdCQUF3QixnREFBTyxFQUFFLHdDQUF3Qyx5RUFBYSxFQUFFO0FBQ3hGLHNCQUFzQixnREFBTyxFQUFFLHNDQUFzQyx1RUFBVyxFQUFFO0FBQ2xGLHVCQUF1QixnREFBTyxFQUFFLHVDQUF1Qyx5RUFBWSxFQUFFO0FBQ3JGLHdCQUF3QixnREFBTyxFQUFFLHlDQUF5QywyRUFBYSxFQUFFO0FBQ3pGLHNCQUFzQixnREFBTyxFQUFFLHNDQUFzQyx3RUFBVyxFQUFFO0FBQ2xGLHdCQUF3QixnREFBTyxFQUFFLHdDQUF3Qyx5RUFBYSxFQUFFO0FBQ3hGLHNCQUFzQixnREFBTyxFQUFFLHNDQUFzQyxzRUFBVyxFQUFFO0FBQ2xGLG9CQUFvQixnREFBTyxFQUFFLG9DQUFvQyxxRUFBUyxFQUFFO0FBQzVFLHdCQUF3QixnREFBTyxFQUFFLHdDQUF3Qyx5RUFBYSxFQUFFO0FBQ3hGLHFCQUFxQixnREFBTyxFQUFFLHFDQUFxQyxzRUFBVSxFQUFFO0FBQy9FLHVCQUF1QixnREFBTyxFQUFFLHVDQUF1Qyx3RUFBWSxFQUFFO0FBQ3JGLHlCQUF5QixnREFBTyxFQUFFLHlDQUF5QywyRUFBYyxFQUFFO0FBQzNGLDRCQUE0QixnREFBTyxFQUFFLDRDQUE0Qyw4RUFBaUIsRUFBRTtBQUNwRyxxQkFBcUIsZ0RBQU8sRUFBRSxxQ0FBcUMsc0VBQVUsRUFBRTtBQUMvRSxvQkFBb0IsZ0RBQU8sRUFBRSxvQ0FBb0MscUVBQVMsRUFBRTtBQUM1RSx5QkFBeUIsZ0RBQU8sRUFBRSx5Q0FBeUMsNEVBQWMsRUFBRTtBQUMzRiwyQkFBMkIsZ0RBQU8sRUFBRSw0Q0FBNEMsOEVBQWdCLEVBQUU7QUFDbEcsd0JBQXdCLGdEQUFPLEVBQUUsd0NBQXdDLDJFQUFhLEVBQUU7QUFDeEYscUJBQXFCLGdEQUFPLEVBQUUscUNBQXFDLHNFQUFVLEVBQUU7QUFDL0UscUJBQXFCLGdEQUFPLEVBQUUscUNBQXFDLHVFQUFVLEVBQUU7QUFDL0UscUJBQXFCLGdEQUFPLEVBQUUscUNBQXFDLHVFQUFVLEVBQUU7QUFDdEYsdUM7Ozs7Ozs7Ozs7OztBQ3hJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQzZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwREFBSTtBQUNsQjtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQSxpQzs7Ozs7Ozs7Ozs7O0FDNURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNnRDtBQUNJO0FBQ2hCO0FBQ0E7QUFDRTtBQUNBO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2QixzREFBTTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdEQUFPO0FBQ25DO0FBQ0E7QUFDQSxrQkFBa0Isa0RBQVE7QUFDMUI7QUFDQSxnRUFBZ0UsZ0RBQU87QUFDdkU7QUFDQSwwQ0FBMEMseURBQVMsRUFBRSxhQUFhO0FBQ2xFO0FBQ0EsUUFBUSx5REFBUztBQUNqQixRQUFRLHlEQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixrREFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esa0NBQWtDLHNEQUFNO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHlEQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtEQUFRO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrREFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDOzs7Ozs7Ozs7OztBQzdNQSwyQkFBMkIsbUJBQU8sQ0FBQyxnR0FBb0Y7QUFDdkg7QUFDQSxjQUFjLFFBQVMsMmFBQTJhLGtDQUFrQyxHQUFHLGdDQUFnQyxrQ0FBa0MsR0FBRyxnQ0FBZ0Msa0NBQWtDLEdBQUcsZ0NBQWdDLGtDQUFrQyxHQUFHLGdDQUFnQyxrQ0FBa0MsR0FBRyxvQ0FBb0Msb0NBQW9DLEdBQUcsa0NBQWtDLG9DQUFvQyxHQUFHLGtDQUFrQyxvQ0FBb0MsR0FBRyxrQ0FBa0Msb0NBQW9DLEdBQUcsa0NBQWtDLG9DQUFvQyxHQUFHLDJGQUEyRiwwQ0FBMEMsR0FBRyx1Q0FBdUMsMENBQTBDLEdBQUcsdUNBQXVDLDBDQUEwQyxHQUFHLHVDQUF1QywwQ0FBMEMsR0FBRyx1Q0FBdUMsMENBQTBDLEdBQUcsMkNBQTJDLDRDQUE0QyxHQUFHLHlDQUF5Qyw0Q0FBNEMsR0FBRyx5Q0FBeUMsNENBQTRDLEdBQUcseUNBQXlDLDRDQUE0QyxHQUFHLHlDQUF5Qyw0Q0FBNEMsR0FBRzs7Ozs7Ozs7Ozs7OztBQ0Y1L0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQzJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0EsNEJBQTRCLHdEQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvQkFBb0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQix5Qzs7Ozs7Ozs7Ozs7QUN0TEEsMkJBQTJCLG1CQUFPLENBQUMsZ0dBQW9GO0FBQ3ZIO0FBQ0EsVUFBVSxtQkFBTyxDQUFDLCtIQUFtSDtBQUNySSxVQUFVLG1CQUFPLENBQUMsa0lBQXNIO0FBQ3hJO0FBQ0EsY0FBYyxRQUFTOzs7Ozs7Ozs7Ozs7QUNMdkIsZ2U7Ozs7Ozs7Ozs7OztBQ0FBO0FBQWUsaWdCQUFrYyxFOzs7Ozs7Ozs7OztBQ0FqZCwrWjs7Ozs7Ozs7Ozs7O0FDQUE7QUFBZSxnY0FBaVksRTs7Ozs7Ozs7Ozs7QUNBaFosK1g7Ozs7Ozs7Ozs7OztBQ0FBO0FBQWUsZ2FBQWlXLEU7Ozs7Ozs7Ozs7OztBQ0FoWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEMsa0JBQWtCLGlCQUFpQjtBQUNuQyx3REFBd0QsSUFBSSx5RUFBeUUsSUFBSTtBQUN6SSx1QkFBdUIsaUJBQWlCO0FBQ3hDLGdCQUFnQixpQkFBaUI7QUFDakMsb0JBQW9CLHFCQUFxQjtBQUN6QyxtQkFBbUIsaUJBQWlCO0FBQ3BDLHVCQUF1QixxQkFBcUI7QUFDNUMsZ0NBQWdDLDhCQUE4QjtBQUM5RCxvRUFBb0UsSUFBSSx1RkFBdUYsSUFBSTtBQUNuSyxhQUFhLGlCQUFpQjtBQUM5QjtBQUNBLHlCQUF5QixJQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLElBQUksWUFBWSxJQUFJLFlBQVksSUFBSTtBQUNyRSxtQ0FBbUMsSUFBSSxZQUFZLElBQUksWUFBWSxJQUFJLFdBQVcsMEJBQTBCLEdBQUcsMEJBQTBCLEdBQUcsa0NBQWtDO0FBQzlLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBCQUEwQixHQUFHLDBCQUEwQixHQUFHLGtDQUFrQztBQUMxRztBQUNBLHNCQUFzQixzQkFBc0Isb0NBQW9DLElBQUk7QUFDcEYsaUJBQWlCLHFCQUFxQixHQUFHLHFCQUFxQixPQUFPLElBQUk7QUFDekUsdUNBQXVDLGlCQUFpQjtBQUN4RCxlQUFlLGlCQUFpQjtBQUNoQyxjQUFjLG1CQUFtQixHQUFHLG1CQUFtQixHQUFHLG9CQUFvQixHQUFHLG9CQUFvQjtBQUNyRyxvQkFBb0IsaUJBQWlCLElBQUksZ0JBQWdCO0FBQ3pEO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUIsOEJBQThCLGdCQUFnQjtBQUM5QyxxQkFBcUIsc0JBQXNCO0FBQzNDLHNCQUFzQixxQkFBcUIsR0FBRyx5QkFBeUI7QUFDdkU7QUFDQSxtQkFBbUIsc0JBQXNCLG9DQUFvQyxJQUFJO0FBQ2pGLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0EsdUVBQXVFLGlCQUFpQixJQUFJLHNCQUFzQixRQUFRLHNCQUFzQjtBQUNoSixZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0EsZ0NBQWdDLGNBQWMsU0FBUyxjQUFjLEdBQUcsaUJBQWlCO0FBQ3pGLGlCQUFpQixpQkFBaUIsU0FBUyxpQkFBaUIsT0FBTyxJQUFJLDhCQUE4QixpQkFBaUIsT0FBTyxJQUFJLE9BQU8saUJBQWlCO0FBQ3pKO0FBQ0E7QUFDQSxrQkFBa0IsY0FBYyxHQUFHLHVCQUF1QjtBQUMxRCxjQUFjLGNBQWMsR0FBRyx1QkFBdUI7QUFDdEQsMEJBQTBCLGVBQWUsYUFBYSxpQkFBaUIsYUFBYSxrQkFBa0IsYUFBYSxnQkFBZ0I7QUFDbkk7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixxQkFBcUIsUUFBUSxxQkFBcUI7QUFDaEY7QUFDQSwwQkFBMEIsY0FBYyxRQUFRLGNBQWM7QUFDOUQsMEJBQTBCLHVCQUF1QixRQUFRLHVCQUF1QjtBQUNoRixpQkFBaUIsdUJBQXVCLEdBQUcsdUJBQXVCLEdBQUcsZ0JBQWdCLE9BQU8sSUFBSTtBQUNoRyx3QkFBd0Isc0JBQXNCLE9BQU8sSUFBSSxZQUFZLHNCQUFzQixPQUFPLElBQUk7QUFDdEcsdUJBQXVCLGlCQUFpQixPQUFPLGlCQUFpQjtBQUNoRTtBQUNBO0FBQ0EsdUJBQXVCLHVCQUF1QixPQUFPLElBQUk7QUFDekQ7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QiwwSkFBMEoseUJBQXlCLEdBQUcsMEJBQTBCO0FBQ2hOO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQyxxQkFBcUIsc0JBQXNCLEdBQUcseUJBQXlCLFVBQVUsc0JBQXNCLEdBQUcseUJBQXlCO0FBQ25JLGVBQWUsaUJBQWlCLEdBQUcscUJBQXFCO0FBQ3hELDhCQUE4QixpQkFBaUI7QUFDL0MseUJBQXlCLGdCQUFnQjtBQUN6QztBQUNBLG1CQUFtQixxQkFBcUIsR0FBRyx5QkFBeUI7QUFDcEUsbUJBQW1CLHFCQUFxQixHQUFHLHlCQUF5QjtBQUNwRTtBQUNBLHNCQUFzQixnQkFBZ0I7QUFDdEM7QUFDQSxrQkFBa0Isd0JBQXdCLE9BQU8sSUFBSTtBQUNyRDtBQUNBO0FBQ0EsY0FBYyxpQkFBaUIsR0FBRyxxQkFBcUI7QUFDdkQ7QUFDQSxvQkFBb0IsaUJBQWlCLEdBQUcscUJBQXFCO0FBQzdELHlCQUF5QixpQkFBaUIsU0FBUyxpQkFBaUI7QUFDcEUsZUFBZSxxQkFBcUIsR0FBRyx5QkFBeUI7QUFDaEU7QUFDQSxvQkFBb0IscUJBQXFCLEdBQUcseUJBQXlCO0FBQ3JFO0FBQ0Esd0JBQXdCLGNBQWMsU0FBUyxjQUFjO0FBQzdELDRCQUE0QixzQkFBc0IsU0FBUyxzQkFBc0I7QUFDakY7QUFDQTtBQUNBLHVCQUF1QixnQkFBZ0IsT0FBTyxJQUFJO0FBQ2xEO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCLE9BQU8sSUFBSTtBQUN6RCxnQ0FBZ0MsaUJBQWlCLEdBQUcscUJBQXFCLFNBQVMsaUJBQWlCLEdBQUcscUJBQXFCO0FBQzNIO0FBQ0Esd0JBQXdCLGlCQUFpQixTQUFTLGlCQUFpQjtBQUNuRSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBLGtCQUFrQix3QkFBd0IsR0FBRyx3QkFBd0IsR0FBRyxxQkFBcUIsR0FBRyx5QkFBeUI7QUFDekgsMkJBQTJCLHFCQUFxQixHQUFHLHFCQUFxQixHQUFHLHlCQUF5QjtBQUNwRztBQUNBLGtCQUFrQixxQkFBcUIsR0FBRyx5QkFBeUI7QUFDbkU7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlCQUFpQjtBQUMxQztBQUNBLHNDQUFzQyxpQkFBaUIsT0FBTyxJQUFJO0FBQ2xFLFlBQVksaUJBQWlCLEdBQUcscUJBQXFCO0FBQ3JELGNBQWMscUJBQXFCLEdBQUcseUJBQXlCO0FBQy9ELHFCQUFxQixrQkFBa0I7QUFDdkM7QUFDQSxzQkFBc0Isc0JBQXNCLGNBQWMsa0JBQWtCLE9BQU8sdUJBQXVCLEtBQUsscUJBQXFCLEtBQUssb0JBQW9CLEtBQUssbUJBQW1CLEtBQUssZ0JBQWdCO0FBQzFNLHdCQUF3QixrQkFBa0IsUUFBUSxrQkFBa0I7QUFDcEUsbUNBQW1DLGlCQUFpQixHQUFHLHFCQUFxQixTQUFTLGlCQUFpQixHQUFHLHFCQUFxQjtBQUM5SDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLEdBQUcsdUJBQXVCLEdBQUcsZ0JBQWdCLE9BQU8sSUFBSTtBQUNwRyxlQUFlLHNCQUFzQjtBQUNyQyxxQkFBcUIsMkJBQTJCLEdBQUcsK0JBQStCLEdBQUcsZ0JBQWdCLE1BQU0sT0FBTyxJQUFJO0FBQ3RIO0FBQ0Esa0JBQWtCLGdCQUFnQixVQUFVLHVCQUF1QixHQUFHLHVCQUF1QixPQUFPLElBQUk7QUFDeEc7QUFDQSxjQUFjLG9CQUFvQjtBQUNsQyxpRkFBaUYsc0JBQXNCO0FBQ3ZHLDRCQUE0QixpQkFBaUI7QUFDN0MseUJBQXlCLG1CQUFtQixRQUFRLG1CQUFtQjtBQUN2RSxvQ0FBb0MsaUJBQWlCLEdBQUcscUJBQXFCLFNBQVMsaUJBQWlCLEdBQUcscUJBQXFCO0FBQy9IO0FBQ0E7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQztBQUNBLG9CQUFvQixlQUFlLEdBQUcscUJBQXFCO0FBQzNELG9CQUFvQixpQkFBaUI7QUFDckMsNEJBQTRCLGVBQWUsUUFBUSxlQUFlO0FBQ2xFLHdCQUF3Qix1QkFBdUIsR0FBRyx1QkFBdUIsR0FBRyxnQkFBZ0IsT0FBTyxJQUFJO0FBQ3ZHLHVCQUF1Qix1QkFBdUIsR0FBRyx1QkFBdUIsR0FBRyxnQkFBZ0IsT0FBTyxJQUFJO0FBQ3RHLGlCQUFpQix1QkFBdUIsT0FBTyxJQUFJO0FBQ25EO0FBQ0Esc0JBQXNCLHVCQUF1QixHQUFHLHVCQUF1QixHQUFHLGdCQUFnQixPQUFPLElBQUk7QUFDckcsZ0JBQWdCLGlCQUFpQixNQUFNLGlCQUFpQjtBQUN4RCxpQ0FBaUMsaUJBQWlCLEdBQUcscUJBQXFCLFNBQVMsaUJBQWlCLEdBQUcscUJBQXFCO0FBQzVILGtCQUFrQixxQkFBcUIsR0FBRyx5QkFBeUI7QUFDbkU7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0IsR0FBRyx3QkFBd0IsR0FBRyx1QkFBdUIsT0FBTyxJQUFJLFNBQVMsc0JBQXNCLGdCQUFnQix3QkFBd0IsVUFBVSx3QkFBd0I7QUFDak47QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLG1CQUFtQixvREFBUSx1QkFBdUIsa0JBQWtCO0FBQ3BFO0FBQ0EsdUJBQXVCLG9EQUFRLDJCQUEyQix1QkFBdUI7QUFDakYsYUFBYTtBQUNiO0FBQ0E7QUFDQSxxQkFBcUIsb0RBQVE7QUFDN0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9EQUFRLHNDQUFzQyxnQ0FBZ0M7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AscUM7Ozs7Ozs7Ozs7OztBQzU0QmE7QUFDYjtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQsb0JBQW9CLG1CQUFPLENBQUMsK0JBQW1CO0FBQy9DLGtCQUFrQixtQkFBTyxDQUFDLDZCQUFpQjtBQUMzQyxvQkFBb0IsbUJBQU8sQ0FBQywrQkFBbUI7QUFDL0MsWUFBWSxtQkFBTyxDQUFDLGdCQUFJO0FBQ3hCLHNCQUFzQixtQkFBTyxDQUFDLDRCQUFnQjtBQUM5QyxrQkFBa0IsbUJBQU8sQ0FBQyx1QkFBVztBQUNyQyxrQkFBa0IsbUJBQU8sQ0FBQyx1QkFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyxhQUFhLHNDQUFzQztBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFFBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLE9BQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQzs7Ozs7Ozs7Ozs7O0FDdk9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QiwyQkFBMkIsMkJBQTJCLDJCQUEyQiwyQkFBMkIsMkJBQTJCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw2QkFBNkIsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsNkJBQTZCLDZCQUE2Qiw2QkFBNkIsNkJBQTZCLG1DQUFtQyxrQ0FBa0Msa0NBQWtDLGtDQUFrQyxrQ0FBa0Msa0NBQWtDLGtDQUFrQyxrQ0FBa0Msa0NBQWtDLGtDQUFrQyxtQ0FBbUMsbUNBQW1DLG1DQUFtQyxtQ0FBbUMsNEJBQTRCLDJCQUEyQiwyQkFBMkIsMkJBQTJCLDJCQUEyQiwyQkFBMkIsMkJBQTJCLDJCQUEyQiwyQkFBMkIsMkJBQTJCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw4QkFBOEIsNkJBQTZCLDZCQUE2Qiw2QkFBNkIsNkJBQTZCLDZCQUE2Qiw2QkFBNkIsNkJBQTZCLDZCQUE2Qiw2QkFBNkIsOEJBQThCLDhCQUE4Qiw4QkFBOEIsOEJBQThCLDZCQUE2Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw2QkFBNkIsNkJBQTZCLDZCQUE2Qiw2QkFBNkIsOEJBQThCLDZCQUE2Qiw2QkFBNkIsNkJBQTZCLDZCQUE2Qiw2QkFBNkIsNkJBQTZCLDZCQUE2Qiw2QkFBNkIsNkJBQTZCLDhCQUE4Qiw4QkFBOEIsOEJBQThCLDhCQUE4QixtQ0FBbUMsa0NBQWtDLGtDQUFrQyxrQ0FBa0Msa0NBQWtDLGtDQUFrQyxrQ0FBa0Msa0NBQWtDLGtDQUFrQyxrQ0FBa0MsbUNBQW1DLG1DQUFtQyxtQ0FBbUMsbUNBQW1DLDZCQUE2Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsMkJBQTJCLDJCQUEyQiwyQkFBMkIsMkJBQTJCLDJCQUEyQiwyQkFBMkIsMkJBQTJCLDJCQUEyQiwyQkFBMkIsaUNBQWlDLGdD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQjs7Ozs7Ozs7Ozs7O0FDblJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUN5QztBQUN6QztBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsc0RBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLGVBQWUsNkJBQTZCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Ozs7Ozs7O0FDQUE7QUFBZSxvY0FBcVksRTs7Ozs7Ozs7Ozs7O0FDQXBaO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDNEI7QUFDQztB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxXQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxpREFBaUQ7QUFDbEQsK0I7Ozs7Ozs7Ozs7OztBQ3hJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQzZCO0FBQ0Q7QUFDNUIsaUM7Ozs7Ozs7Ozs7OztBQ0pBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUMyQztBQUMzQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix3REFBTTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxPQUFPO0FBQ2pFLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdEQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwyREFBSTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx3REFBTTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFjO0FBQzVELG9CQUFvQixtQkFBTyxDQUFDLCtCQUFtQjtBQUMvQyxtQ0FBbUMsbUJBQU8sQ0FBQyxzQkFBVTtBQUNyRCxjQUFjLG1CQUFPLENBQUMsbUJBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtQkFBTyxDQUFDLGtCQUFNO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlCQUF5QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQkFBMEI7QUFDM0IsaUM7Ozs7Ozs7Ozs7OztBQzFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDOEI7QUFDSjtBQUNFO0FBQzVCLGlDOzs7Ozs7Ozs7Ozs7QUNMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUN5QztBQUNTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNPLHFDQUFxQyw4REFBYztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFJO0FBQ3BCO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4REFBSTtBQUNwQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQUk7QUFDcEI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4REFBSTtBQUNwQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQUk7QUFDcEI7QUFDQSxp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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsd0JBQXdCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELDJCQUEyQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQ0FBcUM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBO0FBQ0EscUNBQXFDLGVBQWUsR0FBRyxRQUFRO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMs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QkFBMEI7QUFDM0IscUM7Ozs7Ozs7Ozs7O0FDOUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0csYUFBYSw4RUFBOEU7QUFDM0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQSw0REFBNEQsb0JBQW9CLFFBQVE7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQSxtQkFBbUIsK0RBQWE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMERBQVE7QUFDNUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBEQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHVDOzs7Ozs7Ozs7OztBQ2pJQSxnT0FBZ08sdWE7Ozs7Ozs7Ozs7OztBQ0FoTztBQUFlLHdRQUF5TSwwYkFBMGIsRTs7Ozs7Ozs7Ozs7O0FDQWxwQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUM0QjtBQUNEO0FBQ0s7QUFDQztBQUNSO0FBQ0U7QUFDQTtBQUNGO0FBQ0s7QUFDRztBQUNOO0FBQ0M7QUFDSztBQUNQ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VztBQUMxQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscUVBQWtCO0FBQ3JDLFlBQVksMERBQVE7QUFDcEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywrQkFBK0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0JBQW9CO0FBQzNDO0FBQ0EsMENBQTBDLDJCQUEyQjtBQUNyRTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx5Q0FBeUM7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQixpQkFBaUIsbUNBQW1DO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMENBQUk7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0RixxQkFBcUIsNEJBQTRCO0FBQzdJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdUVBQVU7QUFDdkI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLEVBQUUsaUVBQVUsa0JBQWtCLHFhQUFxYTtBQUN0Z0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaURBQVU7QUFDbEI7QUFDQTtBQUNBLENBQUMsNENB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Qyx3QkFBWTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNB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RDtBQUNBO0FBQ0Esd0NBQXdDLGNBQWMsSUFBSTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxvREFBTTtBQUNwQix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDLCtCQUErQixrQkFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpRUFBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSx3Q0FBd0Msa0JBQWtCO0FBQ3BJO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOERBQUk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsS0FBSztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnQ0FBZ0M7QUFDL0M7QUFDQTtBQUNBLG1CQUFtQiw0QkFBNEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZEQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4REFBSTtBQUMzQjtBQUNBLHVCQUF1Qiw4REFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxLQUFLO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseURBQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQ3JDLHdDOzs7Ozs7Ozs7Ozs7QUN4SWE7QUFDYjtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUMiLCJmaWxlIjoibWFpbi41ZDUyNGRkMzlhZmY4M2I2NTAwOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0XCJtYWluXCI6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gc2NyaXB0IHBhdGggZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIGpzb25wU2NyaXB0U3JjKGNodW5rSWQpIHtcbiBcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyAoe31bY2h1bmtJZF18fGNodW5rSWQpICsgXCIuXCIgKyB7XCIwXCI6XCIzYTFlZDk2NDI2YjIwODZlN2QyMFwiLFwiMVwiOlwiYTA3ZTZiM2Q5MGQzYzVjNjMwYWNcIixcIjJcIjpcIjE2MWQ3OTgzNTg3MWNmMmEyZmIzXCIsXCIzXCI6XCJiN2E5MmI1MTAwMGQ4ZjUxMDUyNFwiLFwiNFwiOlwiOGFmNThmZjJiNGIwZTgwMDU3NTdcIixcIjVcIjpcIjcyMGFjZDU4Mjc1NDRkYzIzODVjXCJ9W2NodW5rSWRdICsgXCIuanNcIlxuIFx0fVxuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cbiBcdC8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbiBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4gXHRcdHZhciBwcm9taXNlcyA9IFtdO1xuXG5cbiBcdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXG4gXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcbiBcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG4gXHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG4gXHRcdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gXHRcdFx0XHR2YXIgb25TY3JpcHRDb21wbGV0ZTtcblxuIFx0XHRcdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuIFx0XHRcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG4gXHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuIFx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzY3JpcHQuc3JjID0ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCk7XG5cbiBcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcbiBcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuIFx0XHRcdFx0b25TY3JpcHRDb21wbGV0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuIFx0XHRcdFx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG4gXHRcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG4gXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiBcdFx0XHRcdFx0dmFyIGNodW5rID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRcdFx0XHRpZihjaHVuayAhPT0gMCkge1xuIFx0XHRcdFx0XHRcdGlmKGNodW5rKSB7XG4gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuIFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKSc7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcbiBcdFx0XHRcdFx0XHRcdGNodW5rWzFdKGVycm9yKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9O1xuIFx0XHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUoeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pO1xuIFx0XHRcdFx0fSwgMTIwMDAwKTtcbiBcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGU7XG4gXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gXHR9O1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwie3twYWdlX2NvbmZpZy5mdWxsU3RhdGljVXJsfX0vXCI7XG5cbiBcdC8vIG9uIGVycm9yIGZ1bmN0aW9uIGZvciBhc3luYyBsb2FkaW5nXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm9lID0gZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9O1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMCxcInZlbmRvcnN+bWFpblwiXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInJTNFICUzQ2clM0UgJTNDcGF0aCBjbGFzcz0nanAtaWNvbjAganAtaWNvbi1zZWxlY3RhYmxlJyBmaWxsPSclMjMwMDAnIGQ9J00xMDguNCAwaDIzdjIyLjhoMjEuMlYwaDIzdjY5aC0yM1Y0NmgtMjF2MjNoLTIzLjJNMjA2IDIzaC0yMC4zVjBoNjMuN3YyM0gyMjl2NDZoLTIzTTI1OS41IDBoMjQuMWwxNC44IDI0LjNMMzEzLjIgMGgyNC4xdjY5aC0yM1YzNC44bC0xNi4xIDI0LjhsLTE2LjEtMjQuOHYzNC4yaC0yMi42TTM0OC43IDBoMjN2NDYuMmgzMi42VjY5aC01NS42JyAvJTNFICUzQ3BhdGggY2xhc3M9J2pwLWljb24tc2VsZWN0YWJsZScgZmlsbD0nJTIzZTQ0ZDI2JyBkPSdNMTA3LjYgNDcxbC0zMy0zNzAuNGgzNjIuOGwtMzMgMzcwLjJMMjU1LjcgNTEyJyAvJTNFICUzQ3BhdGggY2xhc3M9J2pwLWljb24tc2VsZWN0YWJsZScgZmlsbD0nJTIzZjE2NTI5JyBkPSdNMjU2IDQ4MC41VjEzMUg0MDQuM0wzNzYgNDQ3JyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDcGF0aCBjbGFzcz0nanAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2UnIGZpbGw9JyUyM2ViZWJlYicgZD0nTTE0MiAxNzYuM2gxMTR2NDUuNGgtNjQuMmw0LjIgNDYuNWg2MHY0NS4zSDE1NC40TTE1Ni40IDMzNi4zSDIwMmwzLjIgMzYuMyA1MC44IDEzLjZ2NDcuNGwtOTMuMi0yNicgLyUzRSAlM0NwYXRoIGNsYXNzPSdqcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZScgZmlsbD0nJTIzZmZmJyBkPSdNMzY5LjYgMTc2LjNIMjU1Ljh2NDUuNGgxMDkuNk0zNjEuMyAyNjguMkgyNTUuOHY0NS40aDU2bC01LjMgNTktNTAuNyAxMy42djQ3LjJsOTMtMjUuOCcgLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNTEyIDUxMlxcXCI+XFxuXFx0PGc+XFxuXFx0XFx0PHBhdGhcXG5cXHRcXHRcXHRjbGFzcz1cXFwianAtaWNvbjAganAtaWNvbi1zZWxlY3RhYmxlXFxcIlxcblxcdFxcdFxcdGZpbGw9XFxcIiMwMDBcXFwiXFxuXFx0XFx0XFx0ZD1cXFwiTTEwOC40IDBoMjN2MjIuOGgyMS4yVjBoMjN2NjloLTIzVjQ2aC0yMXYyM2gtMjMuMk0yMDYgMjNoLTIwLjNWMGg2My43djIzSDIyOXY0NmgtMjNNMjU5LjUgMGgyNC4xbDE0LjggMjQuM0wzMTMuMiAwaDI0LjF2NjloLTIzVjM0LjhsLTE2LjEgMjQuOGwtMTYuMS0yNC44djM0LjJoLTIyLjZNMzQ4LjcgMGgyM3Y0Ni4yaDMyLjZWNjloLTU1LjZcXFwiXFxuXFx0XFx0Lz5cXG5cXHRcXHQ8cGF0aFxcblxcdFxcdFxcdGNsYXNzPVxcXCJqcC1pY29uLXNlbGVjdGFibGVcXFwiXFxuXFx0XFx0XFx0ZmlsbD1cXFwiI2U0NGQyNlxcXCJcXG5cXHRcXHRcXHRkPVxcXCJNMTA3LjYgNDcxbC0zMy0zNzAuNGgzNjIuOGwtMzMgMzcwLjJMMjU1LjcgNTEyXFxcIlxcblxcdFxcdC8+XFxuXFx0XFx0PHBhdGhcXG5cXHRcXHRcXHRjbGFzcz1cXFwianAtaWNvbi1zZWxlY3RhYmxlXFxcIlxcblxcdFxcdFxcdGZpbGw9XFxcIiNmMTY1MjlcXFwiXFxuXFx0XFx0XFx0ZD1cXFwiTTI1NiA0ODAuNVYxMzFINDA0LjNMMzc2IDQ0N1xcXCJcXG5cXHRcXHQvPlxcblxcdDwvZz5cXG5cXHQ8Zz5cXG5cXHRcXHQ8cGF0aFxcblxcdFxcdFxcdGNsYXNzPVxcXCJqcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZVxcXCJcXG5cXHRcXHRcXHRmaWxsPVxcXCIjZWJlYmViXFxcIlxcblxcdFxcdFxcdGQ9XFxcIk0xNDIgMTc2LjNoMTE0djQ1LjRoLTY0LjJsNC4yIDQ2LjVoNjB2NDUuM0gxNTQuNE0xNTYuNCAzMzYuM0gyMDJsMy4yIDM2LjMgNTAuOCAxMy42djQ3LjRsLTkzLjItMjZcXFwiXFxuXFx0XFx0Lz5cXG5cXHRcXHQ8cGF0aFxcblxcdFxcdFxcdGNsYXNzPVxcXCJqcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZVxcXCJcXG5cXHRcXHRcXHRmaWxsPVxcXCIjZmZmXFxcIlxcblxcdFxcdFxcdGQ9XFxcIk0zNjkuNiAxNzYuM0gyNTUuOHY0NS40aDEwOS42TTM2MS4zIDI2OC4ySDI1NS44djQ1LjRoNTZsLTUuMyA1OS01MC43IDEzLjZ2NDcuMmw5My0yNS44XFxcIlxcblxcdFxcdC8+XFxuXFx0PC9nPlxcbjwvc3ZnPlxcblwiOyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFJlc3RvcmFibGVQb29sIH0gZnJvbSAnQGp1cHl0ZXJsYWIvc3RhdGVkYic7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tICdAbHVtaW5vL3NpZ25hbGluZyc7XG5pbXBvcnQgeyBGb2N1c1RyYWNrZXIgfSBmcm9tICdAbHVtaW5vL3dpZGdldHMnO1xuLyoqXG4gKiBBIGNsYXNzIHRoYXQga2VlcHMgdHJhY2sgb2Ygd2lkZ2V0IGluc3RhbmNlcyBvbiBhbiBBcHBsaWNhdGlvbiBzaGVsbC5cbiAqXG4gKiBAdHlwZXBhcmFtIFQgLSBUaGUgdHlwZSBvZiB3aWRnZXQgYmVpbmcgdHJhY2tlZC4gRGVmYXVsdHMgdG8gYFdpZGdldGAuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogVGhlIEFQSSBzdXJmYWNlIGFyZWEgb2YgdGhpcyBjb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBpcyBzdWJzdGFudGlhbGx5IGxhcmdlclxuICogdGhhbiB0aGUgd2lkZ2V0IHRyYWNrZXIgaW50ZXJmYWNlIGl0IGltcGxlbWVudHMuIFRoZSBpbnRlcmZhY2UgaXMgaW50ZW5kZWRcbiAqIGZvciBleHBvcnQgYnkgSnVweXRlckxhYiBwbHVnaW5zIHRoYXQgY3JlYXRlIHdpZGdldHMgYW5kIGhhdmUgY2xpZW50cyB3aG8gbWF5XG4gKiB3aXNoIHRvIGtlZXAgdHJhY2sgb2YgbmV3bHkgY3JlYXRlZCB3aWRnZXRzLiBUaGlzIGNsYXNzLCBob3dldmVyLCBjYW4gYmUgdXNlZFxuICogaW50ZXJuYWxseSBieSBwbHVnaW5zIHRvIHJlc3RvcmUgc3RhdGUgYXMgd2VsbC5cbiAqL1xuZXhwb3J0IGNsYXNzIFdpZGdldFRyYWNrZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyB3aWRnZXQgdHJhY2tlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGluc3RhbnRpYXRpb24gb3B0aW9ucyBmb3IgYSB3aWRnZXQgdHJhY2tlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRDaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl93aWRnZXRBZGRlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX3dpZGdldFVwZGF0ZWQgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICBjb25zdCBmb2N1cyA9ICh0aGlzLl9mb2N1c1RyYWNrZXIgPSBuZXcgRm9jdXNUcmFja2VyKCkpO1xuICAgICAgICBjb25zdCBwb29sID0gKHRoaXMuX3Bvb2wgPSBuZXcgUmVzdG9yYWJsZVBvb2wob3B0aW9ucykpO1xuICAgICAgICB0aGlzLm5hbWVzcGFjZSA9IG9wdGlvbnMubmFtZXNwYWNlO1xuICAgICAgICBmb2N1cy5jdXJyZW50Q2hhbmdlZC5jb25uZWN0KChfLCBjdXJyZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5uZXdWYWx1ZSAhPT0gdGhpcy5jdXJyZW50V2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgcG9vbC5jdXJyZW50ID0gY3VycmVudC5uZXdWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHBvb2wuYWRkZWQuY29ubmVjdCgoXywgd2lkZ2V0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl93aWRnZXRBZGRlZC5lbWl0KHdpZGdldCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBwb29sLmN1cnJlbnRDaGFuZ2VkLmNvbm5lY3QoKF8sIHdpZGdldCkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBvb2wncyBjdXJyZW50IHJlZmVyZW5jZSBpcyBgbnVsbGAgYnV0IHRoZSBmb2N1cyB0cmFja2VyIGhhcyBhXG4gICAgICAgICAgICAvLyBjdXJyZW50IHdpZGdldCwgdXBkYXRlIHRoZSBwb29sIHRvIG1hdGNoIHRoZSBmb2N1cyB0cmFja2VyLlxuICAgICAgICAgICAgaWYgKHdpZGdldCA9PT0gbnVsbCAmJiBmb2N1cy5jdXJyZW50V2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgcG9vbC5jdXJyZW50ID0gZm9jdXMuY3VycmVudFdpZGdldDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uQ3VycmVudENoYW5nZWQod2lkZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRDaGFuZ2VkLmVtaXQod2lkZ2V0KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHBvb2wudXBkYXRlZC5jb25uZWN0KChfLCB3aWRnZXQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3dpZGdldFVwZGF0ZWQuZW1pdCh3aWRnZXQpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBjdXJyZW50IHdpZGdldCBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBjdXJyZW50Q2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB3aWRnZXQgaXMgdGhlIG1vc3QgcmVjZW50bHkgZm9jdXNlZCBvciBhZGRlZCB3aWRnZXQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSXQgaXMgdGhlIG1vc3QgcmVjZW50bHkgZm9jdXNlZCB3aWRnZXQsIG9yIHRoZSBtb3N0IHJlY2VudGx5IGFkZGVkXG4gICAgICogd2lkZ2V0IGlmIG5vIHdpZGdldCBoYXMgdGFrZW4gZm9jdXMuXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRXaWRnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb29sLmN1cnJlbnQgfHwgbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHJlc29sdmVkIHdoZW4gdGhlIHRyYWNrZXIgaGFzIGJlZW4gcmVzdG9yZWQuXG4gICAgICovXG4gICAgZ2V0IHJlc3RvcmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9vbC5yZXN0b3JlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiB3aWRnZXRzIGhlbGQgYnkgdGhlIHRyYWNrZXIuXG4gICAgICovXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb29sLnNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiBhIHdpZGdldCBpcyBhZGRlZC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIHNpZ25hbCB3aWxsIG9ubHkgZmlyZSB3aGVuIGEgd2lkZ2V0IGlzIGFkZGVkIHRvIHRoZSB0cmFja2VyLiBJdCB3aWxsXG4gICAgICogbm90IGZpcmUgaWYgYSB3aWRnZXQgaXMgaW5qZWN0ZWQgaW50byB0aGUgdHJhY2tlci5cbiAgICAgKi9cbiAgICBnZXQgd2lkZ2V0QWRkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWRnZXRBZGRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIGEgd2lkZ2V0IGlzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgZ2V0IHdpZGdldFVwZGF0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWRnZXRVcGRhdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgd2lkZ2V0IHRvIHRoZSB0cmFja2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldCAtIFRoZSB3aWRnZXQgYmVpbmcgYWRkZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhlIHdpZGdldCBwYXNzZWQgaW50byB0aGUgdHJhY2tlciBpcyBhZGRlZCBzeW5jaHJvbm91c2x5OyBpdHMgZXhpc3RlbmNlIGluXG4gICAgICogdGhlIHRyYWNrZXIgY2FuIGJlIGNoZWNrZWQgd2l0aCB0aGUgYGhhcygpYCBtZXRob2QuIFRoZSBwcm9taXNlIHRoaXMgbWV0aG9kXG4gICAgICogcmV0dXJucyByZXNvbHZlcyBhZnRlciB0aGUgd2lkZ2V0IGhhcyBiZWVuIGFkZGVkIGFuZCBzYXZlZCB0byBhbiB1bmRlcmx5aW5nXG4gICAgICogcmVzdG9yYXRpb24gY29ubmVjdG9yLCBpZiBvbmUgaXMgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIGFzeW5jIGFkZCh3aWRnZXQpIHtcbiAgICAgICAgdGhpcy5fZm9jdXNUcmFja2VyLmFkZCh3aWRnZXQpO1xuICAgICAgICBhd2FpdCB0aGlzLl9wb29sLmFkZCh3aWRnZXQpO1xuICAgICAgICB0aGlzLl9wb29sLmN1cnJlbnQgPSB3aWRnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0aGUgdHJhY2tlciBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSB0cmFja2VyLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcG9vbC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzVHJhY2tlci5kaXNwb3NlKCk7XG4gICAgICAgIFNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIGZpcnN0IHdpZGdldCBpbiB0aGUgdHJhY2tlciB0aGF0IHNhdGlzZmllcyBhIGZpbHRlciBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAtIGZuIFRoZSBmaWx0ZXIgZnVuY3Rpb24gdG8gY2FsbCBvbiBlYWNoIHdpZGdldC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBJZiBubyB3aWRnZXQgaXMgZm91bmQsIHRoZSB2YWx1ZSByZXR1cm5lZCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmaW5kKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb29sLmZpbmQoZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlIHRocm91Z2ggZWFjaCB3aWRnZXQgaW4gdGhlIHRyYWNrZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBvbiBlYWNoIHdpZGdldC5cbiAgICAgKi9cbiAgICBmb3JFYWNoKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb29sLmZvckVhY2goZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdGhlIHdpZGdldHMgaW4gdGhlIHRyYWNrZXIgYmFzZWQgb24gYSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gYnkgd2hpY2ggdG8gZmlsdGVyLlxuICAgICAqL1xuICAgIGZpbHRlcihmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9vbC5maWx0ZXIoZm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmplY3QgYSBmb3JlaWduIHdpZGdldCBpbnRvIHRoZSB3aWRnZXQgdHJhY2tlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgd2lkZ2V0IHRvIGluamVjdCBpbnRvIHRoZSB0cmFja2VyLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIEluamVjdGVkIHdpZGdldHMgd2lsbCBub3QgaGF2ZSB0aGVpciBzdGF0ZSBzYXZlZCBieSB0aGUgdHJhY2tlci5cbiAgICAgKlxuICAgICAqIFRoZSBwcmltYXJ5IHVzZSBjYXNlIGZvciB3aWRnZXQgaW5qZWN0aW9uIGlzIGZvciBhIHBsdWdpbiB0aGF0IG9mZmVycyBhXG4gICAgICogc3ViLWNsYXNzIG9mIGFuIGV4dGFudCBwbHVnaW4gdG8gaGF2ZSBpdHMgaW5zdGFuY2VzIHNoYXJlIHRoZSBzYW1lIGNvbW1hbmRzXG4gICAgICogYXMgdGhlIHBhcmVudCBwbHVnaW4gKHNpbmNlIG1vc3QgcmVsZXZhbnQgY29tbWFuZHMgd2lsbCB1c2UgdGhlXG4gICAgICogYGN1cnJlbnRXaWRnZXRgIG9mIHRoZSBwYXJlbnQgcGx1Z2luJ3Mgd2lkZ2V0IHRyYWNrZXIpLiBJbiB0aGlzIHNpdHVhdGlvbixcbiAgICAgKiB0aGUgc3ViLWNsYXNzIHBsdWdpbiBtYXkgd2VsbCBoYXZlIGl0cyBvd24gd2lkZ2V0IHRyYWNrZXIgZm9yIGxheW91dCBhbmRcbiAgICAgKiBzdGF0ZSByZXN0b3JhdGlvbiBpbiBhZGRpdGlvbiB0byBpbmplY3RpbmcgaXRzIHdpZGdldHMgaW50byB0aGUgcGFyZW50XG4gICAgICogcGx1Z2luJ3Mgd2lkZ2V0IHRyYWNrZXIuXG4gICAgICovXG4gICAgaW5qZWN0KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9vbC5pbmplY3Qod2lkZ2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyB0cmFja2VyIGhhcyB0aGUgc3BlY2lmaWVkIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgd2lkZ2V0IHdob3NlIGV4aXN0ZW5jZSBpcyBiZWluZyBjaGVja2VkLlxuICAgICAqL1xuICAgIGhhcyh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvb2wuaGFzKHdpZGdldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc3RvcmUgdGhlIHdpZGdldHMgaW4gdGhpcyB0cmFja2VyJ3MgbmFtZXNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRoYXQgZGVzY3JpYmUgcmVzdG9yYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHJlc3RvcmF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgbm90IHR5cGljYWxseSBiZSBpbnZva2VkIGJ5IGNsaWVudCBjb2RlLlxuICAgICAqIEl0cyBwcmltYXJ5IHVzZSBjYXNlIGlzIHRvIGJlIGludm9rZWQgYnkgYSByZXN0b3Jlci5cbiAgICAgKi9cbiAgICBhc3luYyByZXN0b3JlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvb2wucmVzdG9yZShvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2F2ZSB0aGUgcmVzdG9yZSBkYXRhIGZvciBhIGdpdmVuIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgd2lkZ2V0IGJlaW5nIHNhdmVkLlxuICAgICAqL1xuICAgIGFzeW5jIHNhdmUod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb29sLnNhdmUod2lkZ2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBjdXJyZW50IGNoYW5nZSBldmVudC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBpcyBhIG5vLW9wLlxuICAgICAqL1xuICAgIG9uQ3VycmVudENoYW5nZWQodmFsdWUpIHtcbiAgICAgICAgLyogbm8tb3AgKi9cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aWRnZXR0cmFja2VyLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIGhlaWdodD0nMTgnIHZpZXdCb3g9JzAgMCAyNCAyNCcgd2lkdGg9JzE4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTE5IDJoLTQuMThDMTQuNC44NCAxMy4zIDAgMTIgMGMtMS4zIDAtMi40Ljg0LTIuODIgMkg1Yy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjRjMC0xLjEtLjktMi0yLTJ6bS03IDBjLjU1IDAgMSAuNDUgMSAxcy0uNDUgMS0xIDEtMS0uNDUtMS0xIC40NS0xIDEtMXptNyAxOEg1VjRoMnYzaDEwVjRoMnYxNnonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgaGVpZ2h0PVxcXCIxOFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB3aWR0aD1cXFwiMThcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICAgIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNMTkgMmgtNC4xOEMxNC40Ljg0IDEzLjMgMCAxMiAwYy0xLjMgMC0yLjQuODQtMi44MiAySDVjLTEuMSAwLTIgLjktMiAydjE2YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNGMwLTEuMS0uOS0yLTItMnptLTcgMGMuNTUgMCAxIC40NSAxIDFzLS40NSAxLTEgMS0xLS40NS0xLTEgLjQ1LTEgMS0xem03IDE4SDVWNGgydjNoMTBWNGgydjE2elxcXCIvPlxcbiAgICA8L2c+XFxuPC9zdmc+XFxuXCI7IiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCAqIGZyb20gJy4vc2V0dGluZ3JlZ2lzdHJ5JztcbmV4cG9ydCAqIGZyb20gJy4vdG9rZW5zJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcsIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58XFxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG5idXR0b24uanAtbW9kLXN0eWxlZCB7XFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTEpO1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IwKTtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBsaW5lLWhlaWdodDogMzJweDtcXG4gIGhlaWdodDogMzJweDtcXG4gIHBhZGRpbmc6IDBweCAxMnB4O1xcbiAgbGV0dGVyLXNwYWNpbmc6IDAuOHB4O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxufVxcblxcbmlucHV0LmpwLW1vZC1zdHlsZWQge1xcbiAgYmFja2dyb3VuZDogdmFyKC0tanAtaW5wdXQtYmFja2dyb3VuZCk7XFxuICBoZWlnaHQ6IDI4cHg7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm9yZGVyOiB2YXIoLS1qcC1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLWpwLWJvcmRlci1jb2xvcjEpO1xcbiAgcGFkZGluZy1sZWZ0OiA3cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA3cHg7XFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTIpO1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IwKTtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBhcHBlYXJhbmNlOiBub25lO1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbn1cXG5cXG5pbnB1dC5qcC1tb2Qtc3R5bGVkOmZvY3VzIHtcXG4gIGJvcmRlcjogdmFyKC0tanAtYm9yZGVyLXdpZHRoKSBzb2xpZCB2YXIoLS1tZC1ibHVlLTUwMCk7XFxuICBib3gtc2hhZG93OiBpbnNldCAwIDAgNHB4IHZhcigtLW1kLWJsdWUtMzAwKTtcXG59XFxuXFxuLmpwLXNlbGVjdC13cmFwcGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgcGFkZGluZzogMXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tanAtbGF5b3V0LWNvbG9yMSk7XFxuICBoZWlnaHQ6IDI4cHg7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcXG59XFxuXFxuLmpwLXNlbGVjdC13cmFwcGVyLmpwLW1vZC1mb2N1c2VkIHNlbGVjdC5qcC1tb2Qtc3R5bGVkIHtcXG4gIGJvcmRlcjogdmFyKC0tanAtYm9yZGVyLXdpZHRoKSBzb2xpZCB2YXIoLS1qcC1pbnB1dC1hY3RpdmUtYm9yZGVyLWNvbG9yKTtcXG4gIGJveC1zaGFkb3c6IHZhcigtLWpwLWlucHV0LWJveC1zaGFkb3cpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tanAtaW5wdXQtYWN0aXZlLWJhY2tncm91bmQpO1xcbn1cXG5cXG5zZWxlY3QuanAtbW9kLXN0eWxlZDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGNvbG9yOiB2YXIoLS1qcC11aS1mb250LWNvbG9yMCk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1qcC1pbnB1dC1ob3Zlci1iYWNrZ3JvdW5kKTtcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuNSk7XFxufVxcblxcbnNlbGVjdC5qcC1tb2Qtc3R5bGVkIHtcXG4gIGZsZXg6IDEgMSBhdXRvO1xcbiAgaGVpZ2h0OiAzMnB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTIpO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tanAtaW5wdXQtYmFja2dyb3VuZCk7XFxuICBjb2xvcjogdmFyKC0tanAtdWktZm9udC1jb2xvcjApO1xcbiAgcGFkZGluZzogMCAyNXB4IDAgOHB4O1xcbiAgYm9yZGVyOiB2YXIoLS1qcC1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLWpwLWlucHV0LWJvcmRlci1jb2xvcik7XFxuICBib3JkZXItcmFkaXVzOiAwcHg7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgYXBwZWFyYW5jZTogbm9uZTtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IHNob3dFcnJvck1lc3NhZ2UsIFByaW50aW5nIH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwdXRpbHMnO1xuaW1wb3J0IHsgQWN0aXZpdHlNb25pdG9yIH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IE1pbWVNb2RlbCB9IGZyb20gJ0BqdXB5dGVybGFiL3JlbmRlcm1pbWUnO1xuaW1wb3J0IHsgUHJvbWlzZURlbGVnYXRlLCBKU09ORXh0IH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuaW1wb3J0IHsgTWVzc2FnZUxvb3AgfSBmcm9tICdAbHVtaW5vL21lc3NhZ2luZyc7XG5pbXBvcnQgeyBTdGFja2VkTGF5b3V0LCBXaWRnZXQgfSBmcm9tICdAbHVtaW5vL3dpZGdldHMnO1xuaW1wb3J0IHsgQUJDV2lkZ2V0RmFjdG9yeSwgRG9jdW1lbnRXaWRnZXQgfSBmcm9tICcuL2RlZmF1bHQnO1xuLyoqXG4gKiBBIGNvbnRlbnQgd2lkZ2V0IGZvciBhIHJlbmRlcmVkIG1pbWV0eXBlIGRvY3VtZW50LlxuICovXG5leHBvcnQgY2xhc3MgTWltZUNvbnRlbnQgZXh0ZW5kcyBXaWRnZXQge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyB3aWRnZXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBib3VuZCBjaGFuZ2UgY2FsbGJhY2suXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jaGFuZ2VDYWxsYmFjayA9IChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZGF0YSB8fCAhb3B0aW9ucy5kYXRhW3RoaXMubWltZVR5cGVdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGFbdGhpcy5taW1lVHlwZV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IHRoaXMuX2NvbnRleHQubW9kZWwudG9TdHJpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb250ZXh0Lm1vZGVsLmZyb21TdHJpbmcoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIGRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICFKU09ORXh0LmRlZXBFcXVhbChkYXRhLCB0aGlzLl9jb250ZXh0Lm1vZGVsLnRvSlNPTigpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRleHQubW9kZWwuZnJvbUpTT04oZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2ZyYWdtZW50ID0gJyc7XG4gICAgICAgIHRoaXMuX3JlYWR5ID0gbmV3IFByb21pc2VEZWxlZ2F0ZSgpO1xuICAgICAgICB0aGlzLl9pc1JlbmRlcmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZW5kZXJSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygnanAtTWltZURvY3VtZW50Jyk7XG4gICAgICAgIHRoaXMubWltZVR5cGUgPSBvcHRpb25zLm1pbWVUeXBlO1xuICAgICAgICB0aGlzLl9kYXRhVHlwZSA9IG9wdGlvbnMuZGF0YVR5cGUgfHwgJ3N0cmluZyc7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBvcHRpb25zLmNvbnRleHQ7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBvcHRpb25zLnJlbmRlcmVyO1xuICAgICAgICBjb25zdCBsYXlvdXQgPSAodGhpcy5sYXlvdXQgPSBuZXcgU3RhY2tlZExheW91dCgpKTtcbiAgICAgICAgbGF5b3V0LmFkZFdpZGdldCh0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZWFkeVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gQWZ0ZXIgcmVuZGVyaW5nIGZvciB0aGUgZmlyc3QgdGltZSwgc2VuZCBhbiBhY3RpdmF0aW9uIHJlcXVlc3QgaWYgd2VcbiAgICAgICAgICAgIC8vIGFyZSBjdXJyZW50bHkgZm9jdXNlZC5cbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGUgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSB3YW50IHRvIHN5bmNocm9ub3VzbHkgc2VuZCAobm90IHBvc3QpIHRoZSBhY3RpdmF0ZSBtZXNzYWdlLCB3aGlsZVxuICAgICAgICAgICAgICAgIC8vIHdlIGtub3cgdGhpcyBub2RlIHN0aWxsIGhhcyBmb2N1cy5cbiAgICAgICAgICAgICAgICBNZXNzYWdlTG9vcC5zZW5kTWVzc2FnZSh0aGlzLnJlbmRlcmVyLCBXaWRnZXQuTXNnLkFjdGl2YXRlUmVxdWVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaHJvdHRsZSB0aGUgcmVuZGVyaW5nIHJhdGUgb2YgdGhlIHdpZGdldC5cbiAgICAgICAgICAgIHRoaXMuX21vbml0b3IgPSBuZXcgQWN0aXZpdHlNb25pdG9yKHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IHRoaXMuX2NvbnRleHQubW9kZWwuY29udGVudENoYW5nZWQsXG4gICAgICAgICAgICAgICAgdGltZW91dDogb3B0aW9ucy5yZW5kZXJUaW1lb3V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX21vbml0b3IuYWN0aXZpdHlTdG9wcGVkLmNvbm5lY3QodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAvLyBEaXNwb3NlIHRoZSBkb2N1bWVudCBpZiByZW5kZXJpbmcgZmFpbHMuXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2b2lkIHNob3dFcnJvck1lc3NhZ2UoYFJlbmRlcmVyIEZhaWx1cmU6ICR7dGhpcy5fY29udGV4dC5wYXRofWAsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmludCBtZXRob2QuIERlZmVyZWQgdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIFtQcmludGluZy5zeW1ib2xdKCkge1xuICAgICAgICByZXR1cm4gUHJpbnRpbmcuZ2V0UHJpbnRGdW5jdGlvbih0aGlzLnJlbmRlcmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgd2lkZ2V0IGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGdldCByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5LnByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBVUkkgZnJhZ21lbnQgaWRlbnRpZmllci5cbiAgICAgKi9cbiAgICBzZXRGcmFnbWVudChmcmFnbWVudCkge1xuICAgICAgICB0aGlzLl9mcmFnbWVudCA9IGZyYWdtZW50O1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW9uaXRvcikge1xuICAgICAgICAgICAgdGhpcy5fbW9uaXRvci5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9uaXRvciA9IG51bGw7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFuIGB1cGRhdGUtcmVxdWVzdGAgbWVzc2FnZSB0byB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIG9uVXBkYXRlUmVxdWVzdChtc2cpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHQuaXNSZWFkeSkge1xuICAgICAgICAgICAgdm9pZCB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2ZyYWdtZW50ID0gJyc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBtaW1lIGNvbnRlbnQuXG4gICAgICovXG4gICAgYXN5bmMgX3JlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmNlIHJlbmRlcmluZyBpcyBhc3luYywgd2Ugbm90ZSByZW5kZXIgcmVxdWVzdHMgdGhhdCBoYXBwZW4gd2hpbGUgd2VcbiAgICAgICAgLy8gYWN0dWFsbHkgYXJlIHJlbmRlcmluZyBmb3IgYSBmdXR1cmUgcmVuZGVyaW5nLlxuICAgICAgICBpZiAodGhpcy5faXNSZW5kZXJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclJlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHVwIGZvciB0aGlzIHJlbmRlcmluZyBwYXNzLlxuICAgICAgICB0aGlzLl9yZW5kZXJSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLl9jb250ZXh0O1xuICAgICAgICBsZXQgbW9kZWwgPSBjb250ZXh0Lm1vZGVsO1xuICAgICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgICBpZiAodGhpcy5fZGF0YVR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBkYXRhW3RoaXMubWltZVR5cGVdID0gbW9kZWwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRhdGFbdGhpcy5taW1lVHlwZV0gPSBtb2RlbC50b0pTT04oKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWltZU1vZGVsID0gbmV3IE1pbWVNb2RlbCh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuX2NoYW5nZUNhbGxiYWNrLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHsgZnJhZ21lbnQ6IHRoaXMuX2ZyYWdtZW50IH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBEbyB0aGUgcmVuZGVyaW5nIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICAgICAgdGhpcy5faXNSZW5kZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJlci5yZW5kZXJNb2RlbChtaW1lTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5faXNSZW5kZXJpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIG91dHN0YW5kaW5nIHJlcXVlc3QgdG8gcmVuZGVyLCBnbyBhaGVhZCBhbmQgcmVuZGVyXG4gICAgICAgICAgICBpZiAodGhpcy5fcmVuZGVyUmVxdWVzdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgICAgIC8vIERpc3Bvc2UgdGhlIGRvY3VtZW50IGlmIHJlbmRlcmluZyBmYWlscy5cbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZvaWQgc2hvd0Vycm9yTWVzc2FnZShgUmVuZGVyZXIgRmFpbHVyZTogJHtjb250ZXh0LnBhdGh9YCwgcmVhc29uKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBkb2N1bWVudCB3aWRnZXQgZm9yIG1pbWUgY29udGVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1pbWVEb2N1bWVudCBleHRlbmRzIERvY3VtZW50V2lkZ2V0IHtcbiAgICBzZXRGcmFnbWVudChmcmFnbWVudCkge1xuICAgICAgICB0aGlzLmNvbnRlbnQuc2V0RnJhZ21lbnQoZnJhZ21lbnQpO1xuICAgIH1cbn1cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgYSB3aWRnZXQgZmFjdG9yeSBmb3IgYSByZW5kZXJlZCBtaW1ldHlwZSBkb2N1bWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1pbWVEb2N1bWVudEZhY3RvcnkgZXh0ZW5kcyBBQkNXaWRnZXRGYWN0b3J5IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgbWltZXR5cGUgd2lkZ2V0IGZhY3RvcnkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihQcml2YXRlLmNyZWF0ZVJlZ2lzdHJ5T3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcm1pbWUgPSBvcHRpb25zLnJlbmRlcm1pbWU7XG4gICAgICAgIHRoaXMuX3JlbmRlclRpbWVvdXQgPSBvcHRpb25zLnJlbmRlclRpbWVvdXQgfHwgMTAwMDtcbiAgICAgICAgdGhpcy5fZGF0YVR5cGUgPSBvcHRpb25zLmRhdGFUeXBlIHx8ICdzdHJpbmcnO1xuICAgICAgICB0aGlzLl9maWxlVHlwZSA9IG9wdGlvbnMucHJpbWFyeUZpbGVUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgd2lkZ2V0IGdpdmVuIGEgY29udGV4dC5cbiAgICAgKi9cbiAgICBjcmVhdGVOZXdXaWRnZXQoY29udGV4dCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgY29uc3QgZnQgPSB0aGlzLl9maWxlVHlwZTtcbiAgICAgICAgY29uc3QgbWltZVR5cGUgPSAoKF9hID0gZnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5taW1lVHlwZXMubGVuZ3RoKSA/IGZ0Lm1pbWVUeXBlc1swXSA6ICd0ZXh0L3BsYWluJztcbiAgICAgICAgY29uc3QgcmVuZGVybWltZSA9IHRoaXMuX3JlbmRlcm1pbWUuY2xvbmUoe1xuICAgICAgICAgICAgcmVzb2x2ZXI6IGNvbnRleHQudXJsUmVzb2x2ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gcmVuZGVybWltZS5jcmVhdGVSZW5kZXJlcihtaW1lVHlwZSk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBuZXcgTWltZUNvbnRlbnQoe1xuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgbWltZVR5cGUsXG4gICAgICAgICAgICByZW5kZXJUaW1lb3V0OiB0aGlzLl9yZW5kZXJUaW1lb3V0LFxuICAgICAgICAgICAgZGF0YVR5cGU6IHRoaXMuX2RhdGFUeXBlXG4gICAgICAgIH0pO1xuICAgICAgICBjb250ZW50LnRpdGxlLmljb25DbGFzcyA9IChfYyA9IChfYiA9IGZ0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWNvbkNsYXNzLCAoX2MgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJycpKTtcbiAgICAgICAgY29udGVudC50aXRsZS5pY29uTGFiZWwgPSAoX2UgPSAoX2QgPSBmdCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmljb25MYWJlbCwgKF9lICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICcnKSk7XG4gICAgICAgIGNvbnRlbnQudGl0bGUuaWNvblJlbmRlcmVyID0gKF9mID0gZnQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5pY29uO1xuICAgICAgICBjb25zdCB3aWRnZXQgPSBuZXcgTWltZURvY3VtZW50KHsgY29udGVudCwgY29udGV4dCB9KTtcbiAgICAgICAgcmV0dXJuIHdpZGdldDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIHRoZSBtb2R1bGUgaW1wbGVtZW50YXRpb24gZGV0YWlscy5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGRvY3VtZW50IHJlZ2lzdHJ5IG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVnaXN0cnlPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgcmVhZE9ubHk6IHRydWUgfSk7XG4gICAgfVxuICAgIFByaXZhdGUuY3JlYXRlUmVnaXN0cnlPcHRpb25zID0gY3JlYXRlUmVnaXN0cnlPcHRpb25zO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taW1lZG9jdW1lbnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xuICAgIHJlc3VsdFtcImRlZmF1bHRcIl0gPSBtb2Q7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBwb3NpeCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwicGF0aC1wb3NpeFwiKSk7XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIHBhdGgtcmVsYXRlZCBmdW5jdGlvbnMuXG4gKlxuICogTm90ZSB0aGF0IEp1cHl0ZXIgc2VydmVyIHBhdGhzIGRvIG5vdCBzdGFydCB3aXRoIGEgbGVhZGluZyBzbGFzaC5cbiAqL1xudmFyIFBhdGhFeHQ7XG4oZnVuY3Rpb24gKFBhdGhFeHQpIHtcbiAgICAvKipcbiAgICAgKiBKb2luIGFsbCBhcmd1bWVudHMgdG9nZXRoZXIgYW5kIG5vcm1hbGl6ZSB0aGUgcmVzdWx0aW5nIHBhdGguXG4gICAgICogQXJndW1lbnRzIG11c3QgYmUgc3RyaW5ncy4gSW4gdjAuOCwgbm9uLXN0cmluZyBhcmd1bWVudHMgd2VyZSBzaWxlbnRseSBpZ25vcmVkLiBJbiB2MC4xMCBhbmQgdXAsIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aHMgLSBUaGUgc3RyaW5nIHBhdGhzIHRvIGpvaW4uXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbiguLi5wYXRocykge1xuICAgICAgICBjb25zdCBwYXRoID0gcG9zaXguam9pbiguLi5wYXRocyk7XG4gICAgICAgIHJldHVybiBwYXRoID09PSAnLicgPyAnJyA6IHJlbW92ZVNsYXNoKHBvc2l4LmpvaW4oLi4ucGF0aHMpKTtcbiAgICB9XG4gICAgUGF0aEV4dC5qb2luID0gam9pbjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGxhc3QgcG9ydGlvbiBvZiBhIHBhdGguIFNpbWlsYXIgdG8gdGhlIFVuaXggYmFzZW5hbWUgY29tbWFuZC5cbiAgICAgKiBPZnRlbiB1c2VkIHRvIGV4dHJhY3QgdGhlIGZpbGUgbmFtZSBmcm9tIGEgZnVsbHkgcXVhbGlmaWVkIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIHRvIGV2YWx1YXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV4dCAtIEFuIGV4dGVuc2lvbiB0byByZW1vdmUgZnJvbSB0aGUgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgsIGV4dCkge1xuICAgICAgICByZXR1cm4gcG9zaXguYmFzZW5hbWUocGF0aCwgZXh0KTtcbiAgICB9XG4gICAgUGF0aEV4dC5iYXNlbmFtZSA9IGJhc2VuYW1lO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlyZWN0b3J5IG5hbWUgb2YgYSBwYXRoLCBzaW1pbGFyIHRvIHRoZSBVbml4IGRpcm5hbWUgY29tbWFuZC5cbiAgICAgKiBXaGVuIGFuIGVtcHR5IHBhdGggaXMgZ2l2ZW4sIHJldHVybnMgdGhlIHJvb3QgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIGZpbGUgcGF0aC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHtcbiAgICAgICAgbGV0IGRpciA9IHJlbW92ZVNsYXNoKHBvc2l4LmRpcm5hbWUocGF0aCkpO1xuICAgICAgICByZXR1cm4gZGlyID09PSAnLicgPyAnJyA6IGRpcjtcbiAgICB9XG4gICAgUGF0aEV4dC5kaXJuYW1lID0gZGlybmFtZTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGV4dGVuc2lvbiBvZiB0aGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIGZpbGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBleHRlbnNpb24gb2YgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhlIGV4dGVuc2lvbiBpcyB0aGUgc3RyaW5nIGZyb20gdGhlIGxhc3Qgb2NjdXJyZW5jZSBvZiB0aGUgYC5gXG4gICAgICogY2hhcmFjdGVyIHRvIGVuZCBvZiBzdHJpbmcgaW4gdGhlIGxhc3QgcG9ydGlvbiBvZiB0aGUgcGF0aCwgaW5jbHVzaXZlLlxuICAgICAqIElmIHRoZXJlIGlzIG5vIGAuYCBpbiB0aGUgbGFzdCBwb3J0aW9uIG9mIHRoZSBwYXRoLCBvciBpZiB0aGUgZmlyc3RcbiAgICAgKiBjaGFyYWN0ZXIgb2YgdGhlIGJhc2VuYW1lIG9mIHBhdGggW1tiYXNlbmFtZV1dIGlzIGAuYCwgdGhlbiBhblxuICAgICAqIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBleHRuYW1lKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHBvc2l4LmV4dG5hbWUocGF0aCk7XG4gICAgfVxuICAgIFBhdGhFeHQuZXh0bmFtZSA9IGV4dG5hbWU7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIGEgc3RyaW5nIHBhdGgsIHJlZHVjaW5nICcuLicgYW5kICcuJyBwYXJ0cy5cbiAgICAgKiBXaGVuIG11bHRpcGxlIHNsYXNoZXMgYXJlIGZvdW5kLCB0aGV5J3JlIHJlcGxhY2VkIGJ5IGEgc2luZ2xlIG9uZTsgd2hlbiB0aGUgcGF0aCBjb250YWlucyBhIHRyYWlsaW5nIHNsYXNoLCBpdCBpcyBwcmVzZXJ2ZWQuIE9uIFdpbmRvd3MgYmFja3NsYXNoZXMgYXJlIHVzZWQuXG4gICAgICogV2hlbiBhbiBlbXB0eSBwYXRoIGlzIGdpdmVuLCByZXR1cm5zIHRoZSByb290IHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBzdHJpbmcgcGF0aCB0byBub3JtYWxpemUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplKHBhdGgpIHtcbiAgICAgICAgaWYgKHBhdGggPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlbW92ZVNsYXNoKHBvc2l4Lm5vcm1hbGl6ZShwYXRoKSk7XG4gICAgfVxuICAgIFBhdGhFeHQubm9ybWFsaXplID0gbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYSBzZXF1ZW5jZSBvZiBwYXRocyBvciBwYXRoIHNlZ21lbnRzIGludG8gYW4gYWJzb2x1dGUgcGF0aC5cbiAgICAgKiBUaGUgcm9vdCBwYXRoIGluIHRoZSBhcHBsaWNhdGlvbiBoYXMgbm8gbGVhZGluZyBzbGFzaCwgc28gaXQgaXMgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJ0cyAtIFRoZSBwYXRocyB0byBqb2luLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSByaWdodC1tb3N0IHBhcmFtZXRlciBpcyBjb25zaWRlcmVkIHt0b30uICBPdGhlciBwYXJhbWV0ZXJzIGFyZSBjb25zaWRlcmVkIGFuIGFycmF5IG9mIHtmcm9tfS5cbiAgICAgKlxuICAgICAqIFN0YXJ0aW5nIGZyb20gbGVmdG1vc3Qge2Zyb219IHBhcmFtZXRlciwgcmVzb2x2ZXMge3RvfSB0byBhbiBhYnNvbHV0ZSBwYXRoLlxuICAgICAqXG4gICAgICogSWYge3RvfSBpc24ndCBhbHJlYWR5IGFic29sdXRlLCB7ZnJvbX0gYXJndW1lbnRzIGFyZSBwcmVwZW5kZWQgaW4gcmlnaHQgdG8gbGVmdCBvcmRlciwgdW50aWwgYW4gYWJzb2x1dGUgcGF0aCBpcyBmb3VuZC4gSWYgYWZ0ZXIgdXNpbmcgYWxsIHtmcm9tfSBwYXRocyBzdGlsbCBubyBhYnNvbHV0ZSBwYXRoIGlzIGZvdW5kLCB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSBpcyB1c2VkIGFzIHdlbGwuIFRoZSByZXN1bHRpbmcgcGF0aCBpcyBub3JtYWxpemVkLCBhbmQgdHJhaWxpbmcgc2xhc2hlcyBhcmUgcmVtb3ZlZCB1bmxlc3MgdGhlIHBhdGggZ2V0cyByZXNvbHZlZCB0byB0aGUgcm9vdCBkaXJlY3RvcnkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZSguLi5wYXJ0cykge1xuICAgICAgICByZXR1cm4gcmVtb3ZlU2xhc2gocG9zaXgucmVzb2x2ZSguLi5wYXJ0cykpO1xuICAgIH1cbiAgICBQYXRoRXh0LnJlc29sdmUgPSByZXNvbHZlO1xuICAgIC8qKlxuICAgICAqIFNvbHZlIHRoZSByZWxhdGl2ZSBwYXRoIGZyb20ge2Zyb219IHRvIHt0b30uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBzb3VyY2UgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0byAtIFRoZSB0YXJnZXQgcGF0aC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBJZiBmcm9tIGFuZCB0byBlYWNoIHJlc29sdmUgdG8gdGhlIHNhbWUgcGF0aCAoYWZ0ZXIgY2FsbGluZ1xuICAgICAqIHBhdGgucmVzb2x2ZSgpIG9uIGVhY2gpLCBhIHplcm8tbGVuZ3RoIHN0cmluZyBpcyByZXR1cm5lZC5cbiAgICAgKiBJZiBhIHplcm8tbGVuZ3RoIHN0cmluZyBpcyBwYXNzZWQgYXMgZnJvbSBvciB0bywgYC9gXG4gICAgICogd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIHplcm8tbGVuZ3RoIHN0cmluZ3MuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVsYXRpdmUoZnJvbSwgdG8pIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZVNsYXNoKHBvc2l4LnJlbGF0aXZlKGZyb20sIHRvKSk7XG4gICAgfVxuICAgIFBhdGhFeHQucmVsYXRpdmUgPSByZWxhdGl2ZTtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgYSBmaWxlIGV4dGVuc2lvbiB0byBiZSBvZiB0aGUgdHlwZSBgJy5mb28nYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBleHRlbnNpb24gLSB0aGUgZmlsZSBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogQWRkcyBhIGxlYWRpbmcgZG90IGlmIG5vdCBwcmVzZW50IGFuZCBjb252ZXJ0cyB0byBsb3dlciBjYXNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUV4dGVuc2lvbihleHRlbnNpb24pIHtcbiAgICAgICAgaWYgKGV4dGVuc2lvbi5sZW5ndGggPiAwICYmIGV4dGVuc2lvbi5pbmRleE9mKCcuJykgIT09IDApIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IGAuJHtleHRlbnNpb259YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uO1xuICAgIH1cbiAgICBQYXRoRXh0Lm5vcm1hbGl6ZUV4dGVuc2lvbiA9IG5vcm1hbGl6ZUV4dGVuc2lvbjtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGxlYWRpbmcgc2xhc2ggZnJvbSBhIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aDogdGhlIHBhdGggZnJvbSB3aGljaCB0byByZW1vdmUgYSBsZWFkaW5nIHNsYXNoLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZVNsYXNoKHBhdGgpIHtcbiAgICAgICAgaWYgKHBhdGguaW5kZXhPZignLycpID09PSAwKSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgUGF0aEV4dC5yZW1vdmVTbGFzaCA9IHJlbW92ZVNsYXNoO1xufSkoUGF0aEV4dCA9IGV4cG9ydHMuUGF0aEV4dCB8fCAoZXhwb3J0cy5QYXRoRXh0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhdGguanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgQ29tbWFuZExpbmtlciB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbmltcG9ydCB7IERvY3VtZW50UmVnaXN0cnkgfSBmcm9tICdAanVweXRlcmxhYi9kb2NyZWdpc3RyeSc7XG5pbXBvcnQgeyBTZXJ2aWNlTWFuYWdlciB9IGZyb20gJ0BqdXB5dGVybGFiL3NlcnZpY2VzJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uIH0gZnJvbSAnQGx1bWluby9hcHBsaWNhdGlvbic7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbi8qKlxuICogVGhlIGJhc2UgSnVweXRlciBmcm9udC1lbmQgYXBwbGljYXRpb24gY2xhc3MuXG4gKlxuICogQHR5cGVwYXJhbSBgVGAgLSBUaGUgYHNoZWxsYCB0eXBlLiBEZWZhdWx0cyB0byBgSnVweXRlckZyb250RW5kLklTaGVsbGAuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogVGhpcyB0eXBlIGlzIHVzZWZ1bCBhcyBhIGdlbmVyaWMgYXBwbGljYXRpb24gYWdhaW5zdCB3aGljaCBmcm9udC1lbmQgcGx1Z2luc1xuICogY2FuIGJlIGF1dGhvcmVkLiBJdCBpbmhlcml0cyBmcm9tIHRoZSBwaG9zcGhvciBgQXBwbGljYXRpb25gLlxuICovXG5leHBvcnQgY2xhc3MgSnVweXRlckZyb250RW5kIGV4dGVuZHMgQXBwbGljYXRpb24ge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBKdXB5dGVyRnJvbnRFbmQgb2JqZWN0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIC8vIFRoZSBkZWZhdWx0IHJlc3RvcmVkIHByb21pc2UgaWYgb25lIGRvZXMgbm90IGV4aXN0IGluIHRoZSBvcHRpb25zLlxuICAgICAgICBjb25zdCByZXN0b3JlZCA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tbWFuZExpbmtlciA9XG4gICAgICAgICAgICBvcHRpb25zLmNvbW1hbmRMaW5rZXIgfHwgbmV3IENvbW1hbmRMaW5rZXIoeyBjb21tYW5kczogdGhpcy5jb21tYW5kcyB9KTtcbiAgICAgICAgdGhpcy5kb2NSZWdpc3RyeSA9IG9wdGlvbnMuZG9jUmVnaXN0cnkgfHwgbmV3IERvY3VtZW50UmVnaXN0cnkoKTtcbiAgICAgICAgdGhpcy5yZXN0b3JlZCA9XG4gICAgICAgICAgICBvcHRpb25zLnJlc3RvcmVkIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydGVkLnRoZW4oKCkgPT4gcmVzdG9yZWQpLmNhdGNoKCgpID0+IHJlc3RvcmVkKTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlTWFuYWdlciA9IG9wdGlvbnMuc2VydmljZU1hbmFnZXIgfHwgbmV3IFNlcnZpY2VNYW5hZ2VyKCk7XG4gICAgICAgIHRoaXMuY29tbWFuZHMuYWRkQ29tbWFuZChQcml2YXRlLkNPTlRFWFRfTUVOVV9JTkZPLCB7XG4gICAgICAgICAgICBsYWJlbDogJ1NoaWZ0K1JpZ2h0IENsaWNrIGZvciBCcm93c2VyIE1lbnUnLFxuICAgICAgICAgICAgaXNFbmFibGVkOiAoKSA9PiBmYWxzZSxcbiAgICAgICAgICAgIGV4ZWN1dGU6ICgpID0+IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5hZGRJdGVtKHtcbiAgICAgICAgICAgIGNvbW1hbmQ6IFByaXZhdGUuQ09OVEVYVF9NRU5VX0lORk8sXG4gICAgICAgICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgICAgICAgcmFuazogSW5maW5pdHlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhbGtzIHVwIHRoZSBET00gaGllcmFyY2h5IG9mIHRoZSB0YXJnZXQgb2YgdGhlIGFjdGl2ZSBgY29udGV4dG1lbnVgXG4gICAgICogZXZlbnQsIHRlc3RpbmcgZWFjaCBIVE1MRWxlbWVudCBhbmNlc3RvciBmb3IgYSB1c2VyLXN1cHBsaWVkIGZ1bmNpb24uIFRoaXMgY2FuXG4gICAgICogYmUgdXNlZCB0byBmaW5kIGFuIEhUTUxFbGVtZW50IG9uIHdoaWNoIHRvIG9wZXJhdGUsIGdpdmVuIGEgY29udGV4dCBtZW51IGNsaWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRlc3QgLSBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gYEhUTUxFbGVtZW50YCBhbmQgcmV0dXJucyBhXG4gICAgICogICBib29sZWFuIGZvciB3aGV0aGVyIGl0IGlzIHRoZSBlbGVtZW50IHRoZSByZXF1ZXN0ZXIgaXMgc2Vla2luZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIEhUTUxFbGVtZW50IG9yIHVuZGVmaW5lZCwgaWYgbm9uZSBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBjb250ZXh0TWVudUhpdFRlc3QodGVzdCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbnRleHRNZW51RXZlbnQgfHxcbiAgICAgICAgICAgICEodGhpcy5fY29udGV4dE1lbnVFdmVudC50YXJnZXQgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX2NvbnRleHRNZW51RXZlbnQudGFyZ2V0O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHRlc3Qobm9kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIH0gd2hpbGUgKG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlICYmIG5vZGUgIT09IG5vZGUucGFyZW50Tm9kZSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFRPRE86IHdlIHNob3VsZCBiZSBhYmxlIHRvIHVzZSAuY29tcG9zZWRQYXRoKCkgdG8gc2ltcGxpZnkgdGhpcyBmdW5jdGlvblxuICAgICAgICAvLyBkb3duIHRvIHNvbWV0aGluZyBsaWtlIHRoZSBiZWxvdywgYnV0IGl0IHNlZW1zIGxpa2UgY29tcG9zZWRQYXRoIGlzXG4gICAgICAgIC8vIHNvbWV0aW1lcyByZXR1cm5pbmcgYW4gZW1wdHkgbGlzdC5cbiAgICAgICAgLypcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHRNZW51RXZlbnQpIHtcbiAgICAgICAgICB0aGlzLl9jb250ZXh0TWVudUV2ZW50XG4gICAgICAgICAgICAuY29tcG9zZWRQYXRoKClcbiAgICAgICAgICAgIC5maWx0ZXIoeCA9PiB4IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgICAuZmluZCh0ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAqL1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1ldGhvZCBpbnZva2VkIG9uIGEgZG9jdW1lbnQgYCdjb250ZXh0bWVudSdgIGV2ZW50LlxuICAgICAqL1xuICAgIGV2dENvbnRleHRNZW51KGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHRNZW51RXZlbnQgPSBldmVudDtcbiAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3BlbmVkID0gdGhpcy5jb250ZXh0TWVudS5vcGVuKGV2ZW50KTtcbiAgICAgICAgaWYgKG9wZW5lZCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmNvbnRleHRNZW51Lm1lbnUuaXRlbXM7XG4gICAgICAgICAgICAvLyBJZiBvbmx5IHRoZSBjb250ZXh0IG1lbnUgaW5mb3JtYXRpb24gd2lsbCBiZSBzaG93bixcbiAgICAgICAgICAgIC8vIHdpdGggbm8gcmVhbCBjb21tYW5kcywgY2xvc2UgdGhlIGNvbnRleHQgbWVudSBhbmRcbiAgICAgICAgICAgIC8vIGFsbG93IHRoZSBuYXRpdmUgb25lIHRvIG9wZW4uXG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICAgICAgaXRlbXNbMF0uY29tbWFuZCA9PT0gUHJpdmF0ZS5DT05URVhUX01FTlVfSU5GTykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dE1lbnUubWVudS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0b3AgcHJvcGFnYXRpb24gYW5kIGFsbG93IHRoZSBhcHBsaWNhdGlvbiBjb250ZXh0IG1lbnUgdG8gc2hvdy5cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgYEp1cHl0ZXJGcm9udEVuZGAgY2xhc3Mgc3RhdGljcy5cbiAqL1xuKGZ1bmN0aW9uIChKdXB5dGVyRnJvbnRFbmQpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGljYXRpb24gcGF0aHMgZGljdGlvbmFyeSB0b2tlbi5cbiAgICAgKi9cbiAgICBKdXB5dGVyRnJvbnRFbmQuSVBhdGhzID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9hcHBsaWNhdGlvbjpJUGF0aHMnKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGljYXRpb24gdHJlZSByZXNvbHZlciB0b2tlbi5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBOb3QgYWxsIEp1cHl0ZXIgZnJvbnQtZW5kIGFwcGxpY2F0aW9ucyB3aWxsIGhhdmUgYSB0cmVlIHJlc29sdmVyXG4gICAgICogaW1wbGVtZW50ZWQgb24gdGhlIGNsaWVudC1zaWRlLiBUaGlzIHRva2VuIHNob3VsZCBub3QgYmUgcmVxdWlyZWQgYXMgYVxuICAgICAqIGRlcGVuZGVuY3kgaWYgaXQgaXMgcG9zc2libGUgdG8gbWFrZSBpdCBhbiBvcHRpb25hbCBkZXBlbmRlbmN5LlxuICAgICAqL1xuICAgIEp1cHl0ZXJGcm9udEVuZC5JVHJlZVJlc29sdmVyID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9hcHBsaWNhdGlvbjpJVHJlZVJlc29sdmVyJyk7XG59KShKdXB5dGVyRnJvbnRFbmQgfHwgKEp1cHl0ZXJGcm9udEVuZCA9IHt9KSk7XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBtb2R1bGUtcHJpdmF0ZSBmdW5jdGlvbmFsaXR5LlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEFuIGlkIGZvciBhIHByaXZhdGUgY29udGV4dC1tZW51LWluZm9cbiAgICAgKiBlcnNhdHogY29tbWFuZC5cbiAgICAgKi9cbiAgICBQcml2YXRlLkNPTlRFWFRfTUVOVV9JTkZPID0gJ19faW50ZXJuYWw6Y29udGV4dC1tZW51LWluZm8nO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9udGVuZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHNpZ25hbGluZ18xID0gcmVxdWlyZShcIkBsdW1pbm8vc2lnbmFsaW5nXCIpO1xuY29uc3QgX18xID0gcmVxdWlyZShcIi4uXCIpO1xuY29uc3QgcmVzdGFwaV8xID0gcmVxdWlyZShcIi4vcmVzdGFwaVwiKTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBsdW1pbm8vY29yZXV0aWxzXCIpO1xuLyoqXG4gKiBTZXNzaW9uIG9iamVjdCBmb3IgYWNjZXNzaW5nIHRoZSBzZXNzaW9uIFJFU1QgYXBpLiBUaGUgc2Vzc2lvblxuICogc2hvdWxkIGJlIHVzZWQgdG8gc3RhcnQga2VybmVscyBhbmQgdGhlbiBzaHV0IHRoZW0gZG93biAtLSBmb3JcbiAqIGFsbCBvdGhlciBrZXJuZWwgb3BlcmF0aW9ucywgdGhlIGtlcm5lbCBvYmplY3Qgc2hvdWxkIGJlIHVzZWQuXG4gKi9cbmNsYXNzIFNlc3Npb25Db25uZWN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdGhpcy5faWQgPSAnJztcbiAgICAgICAgdGhpcy5fcGF0aCA9ICcnO1xuICAgICAgICB0aGlzLl9uYW1lID0gJyc7XG4gICAgICAgIHRoaXMuX3R5cGUgPSAnJztcbiAgICAgICAgdGhpcy5fa2VybmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2tlcm5lbENoYW5nZWQgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9zdGF0dXNDaGFuZ2VkID0gbmV3IHNpZ25hbGluZ18xLlNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXR1c0NoYW5nZWQgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9pb3B1Yk1lc3NhZ2UgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl91bmhhbmRsZWRNZXNzYWdlID0gbmV3IHNpZ25hbGluZ18xLlNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYW55TWVzc2FnZSA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Byb3BlcnR5Q2hhbmdlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2lkID0gb3B0aW9ucy5tb2RlbC5pZDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG9wdGlvbnMubW9kZWwubmFtZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IG9wdGlvbnMubW9kZWwucGF0aDtcbiAgICAgICAgdGhpcy5fdHlwZSA9IG9wdGlvbnMubW9kZWwudHlwZTtcbiAgICAgICAgdGhpcy5fdXNlcm5hbWUgPSAoX2EgPSBvcHRpb25zLnVzZXJuYW1lLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpKTtcbiAgICAgICAgdGhpcy5fY2xpZW50SWQgPSAoX2IgPSBvcHRpb25zLmNsaWVudElkLCAoX2IgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29yZXV0aWxzXzEuVVVJRC51dWlkNCgpKSk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RUb0tlcm5lbCA9IG9wdGlvbnMuY29ubmVjdFRvS2VybmVsO1xuICAgICAgICB0aGlzLl9rZXJuZWxDb25uZWN0aW9uT3B0aW9ucyA9IChfYyA9IG9wdGlvbnMua2VybmVsQ29ubmVjdGlvbk9wdGlvbnMsIChfYyAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB7fSkpO1xuICAgICAgICB0aGlzLnNlcnZlclNldHRpbmdzID0gKF9kID0gb3B0aW9ucy5zZXJ2ZXJTZXR0aW5ncywgKF9kICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSk7XG4gICAgICAgIHRoaXMuc2V0dXBLZXJuZWwob3B0aW9ucy5tb2RlbC5rZXJuZWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gdGhlIHNlc3Npb24gaXMgZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGRpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUga2VybmVsIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGtlcm5lbENoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXJuZWxDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBwcm94aWVkIGZyb20gdGhlIGNvbm5lY3Rpb24gYWJvdXQgdGhlIGtlcm5lbCBzdGF0dXMuXG4gICAgICovXG4gICAgZ2V0IHN0YXR1c0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXNDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBwcm94aWVkIGZyb20gdGhlIGtlcm5lbCBhYm91dCB0aGUgY29ubmVjdGlvbiBzdGF0dXMuXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXR1c0NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIHByb3hpZWQgZnJvbSB0aGUga2VybmVsIGFib3V0IGlvcHViIGtlcm5lbCBtZXNzYWdlcy5cbiAgICAgKi9cbiAgICBnZXQgaW9wdWJNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW9wdWJNZXNzYWdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBwcm94aWVkIGZyb20gdGhlIGtlcm5lbCBmb3IgYW4gdW5oYW5kbGVkIGtlcm5lbCBtZXNzYWdlLlxuICAgICAqL1xuICAgIGdldCB1bmhhbmRsZWRNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdW5oYW5kbGVkTWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgcHJveGllZCBmcm9tIHRoZSBrZXJuZWwgZW1pdHRlZCBmb3IgYW55IGtlcm5lbCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQgaWYgdGhlIG1lc3NhZ2UgaXMgbW9kaWZpZWQgZHVyaW5nIG1lc3NhZ2VcbiAgICAgKiBoYW5kbGluZy4gQXMgc3VjaCwgaXQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgcmVhZC1vbmx5LlxuICAgICAqL1xuICAgIGdldCBhbnlNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW55TWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIGEgc2Vzc2lvbiBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBwcm9wZXJ0eUNoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0eUNoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vzc2lvbiBpZC5cbiAgICAgKi9cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzZXNzaW9uIGtlcm5lbCBjb25uZWN0aW9uIG9iamVjdC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGEgcmVhZC1vbmx5IHByb3BlcnR5LCBhbmQgY2FuIGJlIGFsdGVyZWQgYnkgW2NoYW5nZUtlcm5lbF0uXG4gICAgICovXG4gICAgZ2V0IGtlcm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tlcm5lbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzZXNzaW9uIHBhdGguXG4gICAgICovXG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNlc3Npb24gdHlwZS5cbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2Vzc2lvbiBuYW1lLlxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IG1vZGVsKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICBrZXJuZWw6IHRoaXMua2VybmVsICYmIHsgaWQ6IHRoaXMua2VybmVsLmlkLCBuYW1lOiB0aGlzLmtlcm5lbC5uYW1lIH0sXG4gICAgICAgICAgICBwYXRoOiB0aGlzLl9wYXRoLFxuICAgICAgICAgICAgdHlwZTogdGhpcy5fdHlwZSxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBzZXNzaW9uIGhhcyBiZWVuIGRpc3Bvc2VkLlxuICAgICAqL1xuICAgIGdldCBpc0Rpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBzZXNzaW9uIGJhc2VkIG9uIGEgc2Vzc2lvbiBtb2RlbCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBvbmx5IHVwZGF0ZXMgdGhpcyBzZXNzaW9uIGNvbm5lY3Rpb24gaW5zdGFuY2UuIFVzZSBgc2V0UGF0aGAsXG4gICAgICogYHNldE5hbWVgLCBgc2V0VHlwZWAsIGFuZCBgY2hhbmdlS2VybmVsYCB0byBjaGFuZ2UgdGhlIHNlc3Npb24gdmFsdWVzIG9uXG4gICAgICogdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICB1cGRhdGUobW9kZWwpIHtcbiAgICAgICAgbGV0IG9sZE1vZGVsID0gdGhpcy5tb2RlbDtcbiAgICAgICAgdGhpcy5fcGF0aCA9IG1vZGVsLnBhdGg7XG4gICAgICAgIHRoaXMuX25hbWUgPSBtb2RlbC5uYW1lO1xuICAgICAgICB0aGlzLl90eXBlID0gbW9kZWwudHlwZTtcbiAgICAgICAgaWYgKCh0aGlzLl9rZXJuZWwgPT09IG51bGwgJiYgbW9kZWwua2VybmVsICE9PSBudWxsKSB8fFxuICAgICAgICAgICAgKHRoaXMuX2tlcm5lbCAhPT0gbnVsbCAmJiBtb2RlbC5rZXJuZWwgPT09IG51bGwpIHx8XG4gICAgICAgICAgICAodGhpcy5fa2VybmVsICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgbW9kZWwua2VybmVsICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgdGhpcy5fa2VybmVsLmlkICE9PSBtb2RlbC5rZXJuZWwuaWQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fa2VybmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fa2VybmVsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IHRoaXMuX2tlcm5lbDtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBLZXJuZWwobW9kZWwua2VybmVsKTtcbiAgICAgICAgICAgIGxldCBuZXdWYWx1ZSA9IHRoaXMuX2tlcm5lbDtcbiAgICAgICAgICAgIHRoaXMuX2tlcm5lbENoYW5nZWQuZW1pdCh7IG5hbWU6ICdrZXJuZWwnLCBvbGRWYWx1ZSwgbmV3VmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFuZGxlTW9kZWxDaGFuZ2Uob2xkTW9kZWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkLmVtaXQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2tlcm5lbCkge1xuICAgICAgICAgICAgdGhpcy5fa2VybmVsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IHRoaXMuX2tlcm5lbDtcbiAgICAgICAgICAgIHRoaXMuX2tlcm5lbCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSB0aGlzLl9rZXJuZWw7XG4gICAgICAgICAgICB0aGlzLl9rZXJuZWxDaGFuZ2VkLmVtaXQoeyBuYW1lOiAna2VybmVsJywgb2xkVmFsdWUsIG5ld1ZhbHVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNpZ25hbGluZ18xLlNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgc2Vzc2lvbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgbmV3IHNlc3Npb24gcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNlc3Npb24gaGFzIHJlbmFtZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyB1c2VzIHRoZSBKdXB5dGVyIFJFU1QgQVBJLCBhbmQgdGhlIHJlc3BvbnNlIGlzIHZhbGlkYXRlZC5cbiAgICAgKiBUaGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgb24gYSB2YWxpZCByZXNwb25zZSBhbmQgcmVqZWN0ZWQgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGFzeW5jIHNldFBhdGgocGF0aCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gaXMgZGlzcG9zZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9wYXRjaCh7IHBhdGggfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgc2Vzc2lvbiBuYW1lLlxuICAgICAqL1xuICAgIGFzeW5jIHNldE5hbWUobmFtZSkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gaXMgZGlzcG9zZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9wYXRjaCh7IG5hbWUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgc2Vzc2lvbiB0eXBlLlxuICAgICAqL1xuICAgIGFzeW5jIHNldFR5cGUodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gaXMgZGlzcG9zZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9wYXRjaCh7IHR5cGUgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUga2VybmVsLlxuICAgICAqXG4gICAgICogQHBhcmFtcyBvcHRpb25zIC0gVGhlIG5hbWUgb3IgaWQgb2YgdGhlIG5ldyBrZXJuZWwuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBzaHV0cyBkb3duIHRoZSBleGlzdGluZyBrZXJuZWwgYW5kIGNyZWF0ZXMgYSBuZXcga2VybmVsLFxuICAgICAqIGtlZXBpbmcgdGhlIGV4aXN0aW5nIHNlc3Npb24gSUQgYW5kIHNlc3Npb24gcGF0aC5cbiAgICAgKi9cbiAgICBhc3luYyBjaGFuZ2VLZXJuZWwob3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gaXMgZGlzcG9zZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9wYXRjaCh7IGtlcm5lbDogb3B0aW9ucyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMua2VybmVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBLaWxsIHRoZSBrZXJuZWwgYW5kIHNodXRkb3duIHRoZSBzZXNzaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgLSBUaGUgcHJvbWlzZSBmdWxmaWxsZWQgb24gYSB2YWxpZCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9zZXNzaW9ucyksIGFuZCB2YWxpZGF0ZXMgdGhlIHJlc3BvbnNlLlxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBzZXNzaW9uIGFuZCBlbWl0cyBhIFtzZXNzaW9uRGllZF0gc2lnbmFsIG9uIHN1Y2Nlc3MuXG4gICAgICovXG4gICAgYXN5bmMgc2h1dGRvd24oKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBpcyBkaXNwb3NlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJlc3RhcGlfMS5zaHV0ZG93blNlc3Npb24odGhpcy5pZCwgdGhpcy5zZXJ2ZXJTZXR0aW5ncyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcga2VybmVsIGNvbm5lY3Rpb24gYW5kIGNvbm5lY3QgdG8gaXRzIHNpZ25hbHMuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IG1lYW50IHRvIGJlIHN1YmNsYXNzZWQuXG4gICAgICovXG4gICAgc2V0dXBLZXJuZWwobW9kZWwpIHtcbiAgICAgICAgaWYgKG1vZGVsID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9rZXJuZWwgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtjID0gdGhpcy5fY29ubmVjdFRvS2VybmVsKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fa2VybmVsQ29ubmVjdGlvbk9wdGlvbnMpLCB7IG1vZGVsLCB1c2VybmFtZTogdGhpcy5fdXNlcm5hbWUsIGNsaWVudElkOiB0aGlzLl9jbGllbnRJZCwgc2VydmVyU2V0dGluZ3M6IHRoaXMuc2VydmVyU2V0dGluZ3MgfSkpO1xuICAgICAgICB0aGlzLl9rZXJuZWwgPSBrYztcbiAgICAgICAga2Muc3RhdHVzQ2hhbmdlZC5jb25uZWN0KHRoaXMub25LZXJuZWxTdGF0dXMsIHRoaXMpO1xuICAgICAgICBrYy5jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZC5jb25uZWN0KHRoaXMub25LZXJuZWxDb25uZWN0aW9uU3RhdHVzLCB0aGlzKTtcbiAgICAgICAga2MudW5oYW5kbGVkTWVzc2FnZS5jb25uZWN0KHRoaXMub25VbmhhbmRsZWRNZXNzYWdlLCB0aGlzKTtcbiAgICAgICAga2MuaW9wdWJNZXNzYWdlLmNvbm5lY3QodGhpcy5vbklPUHViTWVzc2FnZSwgdGhpcyk7XG4gICAgICAgIGtjLmFueU1lc3NhZ2UuY29ubmVjdCh0aGlzLm9uQW55TWVzc2FnZSwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0byBjaGFuZ2VzIGluIHRoZSBLZXJuZWwgc3RhdHVzLlxuICAgICAqL1xuICAgIG9uS2VybmVsU3RhdHVzKHNlbmRlciwgc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzQ2hhbmdlZC5lbWl0KHN0YXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRvIGNoYW5nZXMgaW4gdGhlIEtlcm5lbCBzdGF0dXMuXG4gICAgICovXG4gICAgb25LZXJuZWxDb25uZWN0aW9uU3RhdHVzKHNlbmRlciwgc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXR1c0NoYW5nZWQuZW1pdChzdGF0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBpb3B1YiBrZXJuZWwgbWVzc2FnZXMuXG4gICAgICovXG4gICAgb25JT1B1Yk1lc3NhZ2Uoc2VuZGVyLCBtc2cpIHtcbiAgICAgICAgdGhpcy5faW9wdWJNZXNzYWdlLmVtaXQobXNnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHVuaGFuZGxlZCBrZXJuZWwgbWVzc2FnZXMuXG4gICAgICovXG4gICAgb25VbmhhbmRsZWRNZXNzYWdlKHNlbmRlciwgbXNnKSB7XG4gICAgICAgIHRoaXMuX3VuaGFuZGxlZE1lc3NhZ2UuZW1pdChtc2cpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYW55IGtlcm5lbCBtZXNzYWdlcy5cbiAgICAgKi9cbiAgICBvbkFueU1lc3NhZ2Uoc2VuZGVyLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuX2FueU1lc3NhZ2UuZW1pdChhcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIFBBVENIIHRvIHRoZSBzZXJ2ZXIsIHVwZGF0aW5nIHRoZSBzZXNzaW9uIHBhdGggb3IgdGhlIGtlcm5lbC5cbiAgICAgKi9cbiAgICBhc3luYyBfcGF0Y2goYm9keSkge1xuICAgICAgICBsZXQgbW9kZWwgPSBhd2FpdCByZXN0YXBpXzEudXBkYXRlU2Vzc2lvbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGJvZHkpLCB7IGlkOiB0aGlzLl9pZCB9KSwgdGhpcy5zZXJ2ZXJTZXR0aW5ncyk7XG4gICAgICAgIHRoaXMudXBkYXRlKG1vZGVsKTtcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBjaGFuZ2UgdG8gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIF9oYW5kbGVNb2RlbENoYW5nZShvbGRNb2RlbCkge1xuICAgICAgICBpZiAob2xkTW9kZWwubmFtZSAhPT0gdGhpcy5fbmFtZSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlDaGFuZ2VkLmVtaXQoJ25hbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkTW9kZWwudHlwZSAhPT0gdGhpcy5fdHlwZSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlDaGFuZ2VkLmVtaXQoJ3R5cGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkTW9kZWwucGF0aCAhPT0gdGhpcy5fcGF0aCkge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlDaGFuZ2VkLmVtaXQoJ3BhdGgnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuU2Vzc2lvbkNvbm5lY3Rpb24gPSBTZXNzaW9uQ29ubmVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXJuZWwuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZEb21Nb2RlbCwgVkRvbVJlbmRlcmVyIH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwdXRpbHMnO1xuaW1wb3J0IHsgUGF0aEV4dCB9IGZyb20gJ0BqdXB5dGVybGFiL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBUZXh0SXRlbSB9IGZyb20gJ0BqdXB5dGVybGFiL3N0YXR1c2Jhcic7XG4vKipcbiAqIEEgcHVyZSBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBhIGZpbGUgcGF0aCAob3IgYWN0aXZpdHkgbmFtZSkuXG4gKlxuICogQHBhcmFtIHByb3BzIC0gdGhlIHByb3BzIGZvciB0aGUgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIGEgdHN4IGNvbXBvbmVudCBmb3IgYSBmaWxlIHBhdGguXG4gKi9cbmZ1bmN0aW9uIFBhdGhTdGF0dXNDb21wb25lbnQocHJvcHMpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SXRlbSwgeyBzb3VyY2U6IHByb3BzLm5hbWUsIHRpdGxlOiBwcm9wcy5mdWxsUGF0aCB9KTtcbn1cbi8qKlxuICogQSBzdGF0dXMgYmFyIGl0ZW0gZm9yIHRoZSBjdXJyZW50IGZpbGUgcGF0aCAob3IgYWN0aXZpdHkgbmFtZSkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXRoU3RhdHVzIGV4dGVuZHMgVkRvbVJlbmRlcmVyIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgUGF0aFN0YXR1cyBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG5ldyBQYXRoU3RhdHVzLk1vZGVsKG9wdHMuZG9jTWFuYWdlcikpO1xuICAgICAgICB0aGlzLm5vZGUudGl0bGUgPSB0aGlzLm1vZGVsLnBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgc3RhdHVzIGl0ZW0uXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGF0aFN0YXR1c0NvbXBvbmVudCwgeyBmdWxsUGF0aDogdGhpcy5tb2RlbC5wYXRoLCBuYW1lOiB0aGlzLm1vZGVsLm5hbWUgfSkpO1xuICAgIH1cbn1cbi8qKlxuICogQSBuYW1lc3BhY2UgZm9yIFBhdGhTdGF0dXMgc3RhdGljcy5cbiAqL1xuKGZ1bmN0aW9uIChQYXRoU3RhdHVzKSB7XG4gICAgLyoqXG4gICAgICogQSBWRG9tTW9kZWwgZm9yIHJlbmRlcmluZyB0aGUgUGF0aFN0YXR1cyBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICBjbGFzcyBNb2RlbCBleHRlbmRzIFZEb21Nb2RlbCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgbW9kZWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBkb2NNYW5hZ2VyOiB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQgbWFuYWdlci4gVXNlZCB0byBjaGVja1xuICAgICAgICAgKiAgIHdoZXRoZXIgdGhlIGN1cnJlbnQgd2lkZ2V0IGlzIGEgZG9jdW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3Rvcihkb2NNYW5hZ2VyKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWFjdCB0byBhIHRpdGxlIGNoYW5nZSBmb3IgdGhlIGN1cnJlbnQgd2lkZ2V0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9vblRpdGxlQ2hhbmdlID0gKHRpdGxlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLl9nZXRBbGxTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX25hbWUgPSB0aXRsZS5sYWJlbDtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyQ2hhbmdlKG9sZFN0YXRlLCB0aGlzLl9nZXRBbGxTdGF0ZSgpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlYWN0IHRvIGEgcGF0aCBjaGFuZ2UgZm9yIHRoZSBjdXJyZW50IGRvY3VtZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9vblBhdGhDaGFuZ2UgPSAoX2RvY3VtZW50TW9kZWwsIG5ld1BhdGgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRTdGF0ZSA9IHRoaXMuX2dldEFsbFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGF0aCA9IG5ld1BhdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmFtZSA9IFBhdGhFeHQuYmFzZW5hbWUobmV3UGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckNoYW5nZShvbGRTdGF0ZSwgdGhpcy5fZ2V0QWxsU3RhdGUoKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fcGF0aCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fbmFtZSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fd2lkZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2RvY01hbmFnZXIgPSBkb2NNYW5hZ2VyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBwYXRoIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXRoO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY3VycmVudCBhY3Rpdml0eS5cbiAgICAgICAgICovXG4gICAgICAgIGdldCBuYW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHdpZGdldCBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHdpZGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWRnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHdpZGdldCh3aWRnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFdpZGdldCA9IHRoaXMuX3dpZGdldDtcbiAgICAgICAgICAgIGlmIChvbGRXaWRnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRDb250ZXh0ID0gdGhpcy5fZG9jTWFuYWdlci5jb250ZXh0Rm9yV2lkZ2V0KG9sZFdpZGdldCk7XG4gICAgICAgICAgICAgICAgaWYgKG9sZENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkQ29udGV4dC5wYXRoQ2hhbmdlZC5kaXNjb25uZWN0KHRoaXMuX29uUGF0aENoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbGRXaWRnZXQudGl0bGUuY2hhbmdlZC5kaXNjb25uZWN0KHRoaXMuX29uVGl0bGVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9sZFN0YXRlID0gdGhpcy5fZ2V0QWxsU3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX3dpZGdldCA9IHdpZGdldDtcbiAgICAgICAgICAgIGlmICh0aGlzLl93aWRnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXRoID0gJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmFtZSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkZ2V0Q29udGV4dCA9IHRoaXMuX2RvY01hbmFnZXIuY29udGV4dEZvcldpZGdldCh0aGlzLl93aWRnZXQpO1xuICAgICAgICAgICAgICAgIGlmICh3aWRnZXRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhdGggPSB3aWRnZXRDb250ZXh0LnBhdGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25hbWUgPSBQYXRoRXh0LmJhc2VuYW1lKHdpZGdldENvbnRleHQucGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIHdpZGdldENvbnRleHQucGF0aENoYW5nZWQuY29ubmVjdCh0aGlzLl9vblBhdGhDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGF0aCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYW1lID0gdGhpcy5fd2lkZ2V0LnRpdGxlLmxhYmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl93aWRnZXQudGl0bGUuY2hhbmdlZC5jb25uZWN0KHRoaXMuX29uVGl0bGVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2Uob2xkU3RhdGUsIHRoaXMuX2dldEFsbFN0YXRlKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgX2dldEFsbFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLl9wYXRoLCB0aGlzLl9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVHJpZ2dlciBhIHN0YXRlIGNoYW5nZSB0byByZXJlbmRlci5cbiAgICAgICAgICovXG4gICAgICAgIF90cmlnZ2VyQ2hhbmdlKG9sZFN0YXRlLCBuZXdTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKG9sZFN0YXRlWzBdICE9PSBuZXdTdGF0ZVswXSB8fCBvbGRTdGF0ZVsxXSAhPT0gbmV3U3RhdGVbMV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5lbWl0KHZvaWQgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgUGF0aFN0YXR1cy5Nb2RlbCA9IE1vZGVsO1xufSkoUGF0aFN0YXR1cyB8fCAoUGF0aFN0YXR1cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXRoc3RhdHVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29yZXV0aWxzXzEgPSByZXF1aXJlKFwiQGp1cHl0ZXJsYWIvY29yZXV0aWxzXCIpO1xuY29uc3Qgc2VydmVyY29ubmVjdGlvbl8xID0gcmVxdWlyZShcIi4uL3NlcnZlcmNvbm5lY3Rpb25cIik7XG4vKipcbiAqIFRoZSB1cmwgZm9yIHRoZSB0ZXJtaW5hbCBzZXJ2aWNlLlxuICovXG5leHBvcnRzLlRFUk1JTkFMX1NFUlZJQ0VfVVJMID0gJ2FwaS90ZXJtaW5hbHMnO1xuLyoqXG4gKiBXaGV0aGVyIHRoZSB0ZXJtaW5hbCBzZXJ2aWNlIGlzIGF2YWlsYWJsZS5cbiAqL1xuZnVuY3Rpb24gaXNBdmFpbGFibGUoKSB7XG4gICAgbGV0IGF2YWlsYWJsZSA9IFN0cmluZyhjb3JldXRpbHNfMS5QYWdlQ29uZmlnLmdldE9wdGlvbigndGVybWluYWxzQXZhaWxhYmxlJykpO1xuICAgIHJldHVybiBhdmFpbGFibGUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xufVxuZXhwb3J0cy5pc0F2YWlsYWJsZSA9IGlzQXZhaWxhYmxlO1xuLyoqXG4gKiBTdGFydCBhIG5ldyB0ZXJtaW5hbCBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIHNlc3Npb24gb3B0aW9ucyB0byB1c2UuXG4gKlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgc2Vzc2lvbiBpbnN0YW5jZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc3RhcnROZXcoc2V0dGluZ3MgPSBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlU2V0dGluZ3MoKSkge1xuICAgIFByaXZhdGUuZXJyb3JJZk5vdEF2YWlsYWJsZSgpO1xuICAgIGxldCB1cmwgPSBjb3JldXRpbHNfMS5VUkxFeHQuam9pbihzZXR0aW5ncy5iYXNlVXJsLCBleHBvcnRzLlRFUk1JTkFMX1NFUlZJQ0VfVVJMKTtcbiAgICBsZXQgaW5pdCA9IHsgbWV0aG9kOiAnUE9TVCcgfTtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIGluaXQsIHNldHRpbmdzKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgIH1cbiAgICBsZXQgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAvLyBUT0RPOiBWYWxpZGF0ZSBtb2RlbFxuICAgIHJldHVybiBkYXRhO1xufVxuZXhwb3J0cy5zdGFydE5ldyA9IHN0YXJ0TmV3O1xuLyoqXG4gKiBMaXN0IHRoZSBydW5uaW5nIHRlcm1pbmFsIHNlc3Npb25zLlxuICpcbiAqIEBwYXJhbSBzZXR0aW5ncyAtIFRoZSBzZXJ2ZXIgc2V0dGluZ3MgdG8gdXNlLlxuICpcbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGxpc3Qgb2YgcnVubmluZyBzZXNzaW9uIG1vZGVscy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbGlzdFJ1bm5pbmcoc2V0dGluZ3MgPSBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlU2V0dGluZ3MoKSkge1xuICAgIFByaXZhdGUuZXJyb3JJZk5vdEF2YWlsYWJsZSgpO1xuICAgIGxldCB1cmwgPSBjb3JldXRpbHNfMS5VUkxFeHQuam9pbihzZXR0aW5ncy5iYXNlVXJsLCBleHBvcnRzLlRFUk1JTkFMX1NFUlZJQ0VfVVJMKTtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIHt9LCBzZXR0aW5ncyk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHRocm93IG5ldyBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgbGV0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0ZXJtaW5hbCBsaXN0Jyk7XG4gICAgfVxuICAgIC8vIFRPRE86IHZhbGlkYXRlIGVhY2ggbW9kZWxcbiAgICByZXR1cm4gZGF0YTtcbn1cbmV4cG9ydHMubGlzdFJ1bm5pbmcgPSBsaXN0UnVubmluZztcbi8qKlxuICogU2h1dCBkb3duIGEgdGVybWluYWwgc2Vzc2lvbiBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHRhcmdldCBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSBzZXR0aW5ncyAtIFRoZSBzZXJ2ZXIgc2V0dGluZ3MgdG8gdXNlLlxuICpcbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNlc3Npb24gaXMgc2h1dCBkb3duLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaHV0ZG93blRlcm1pbmFsKG5hbWUsIHNldHRpbmdzID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpIHtcbiAgICB2YXIgX2E7XG4gICAgUHJpdmF0ZS5lcnJvcklmTm90QXZhaWxhYmxlKCk7XG4gICAgbGV0IHVybCA9IGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKHNldHRpbmdzLmJhc2VVcmwsIGV4cG9ydHMuVEVSTUlOQUxfU0VSVklDRV9VUkwsIG5hbWUpO1xuICAgIGxldCBpbml0ID0geyBtZXRob2Q6ICdERUxFVEUnIH07XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCBpbml0LCBzZXR0aW5ncyk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBsZXQgbXNnID0gKF9hID0gZGF0YS5tZXNzYWdlLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYFRoZSB0ZXJtaW5hbCBzZXNzaW9uIFwiJHtuYW1lfVwiXCIgZG9lcyBub3QgZXhpc3Qgb24gdGhlIHNlcnZlcmApKTtcbiAgICAgICAgY29uc29sZS53YXJuKG1zZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjA0KSB7XG4gICAgICAgIHRocm93IG5ldyBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICB9XG59XG5leHBvcnRzLnNodXRkb3duVGVybWluYWwgPSBzaHV0ZG93blRlcm1pbmFsO1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBUaHJvdyBhbiBlcnJvciBpZiB0ZXJtaW5hbHMgYXJlIG5vdCBhdmFpbGFibGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXJyb3JJZk5vdEF2YWlsYWJsZSgpIHtcbiAgICAgICAgaWYgKCFpc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rlcm1pbmFscyBVbmF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUuZXJyb3JJZk5vdEF2YWlsYWJsZSA9IGVycm9ySWZOb3RBdmFpbGFibGU7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3RhcGkuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTggMTgnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnIHNoYXBlLXJlbmRlcmluZz0nZ2VvbWV0cmljUHJlY2lzaW9uJyUzRSAlM0NwYXRoIGQ9J001LjIsMTAuNUw5LDYuOGwzLjgsMy44SDUuMnonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPlxcblxcdDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCIgc2hhcGUtcmVuZGVyaW5nPVxcXCJnZW9tZXRyaWNQcmVjaXNpb25cXFwiPlxcblxcdFxcdDxwYXRoIGQ9XFxcIk01LjIsMTAuNUw5LDYuOGwzLjgsMy44SDUuMnpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IEJ1dHRvbiwgY2lyY2xlRW1wdHlJY29uLCBjaXJjbGVJY29uLCBjbGFzc2VzLCBMYWJJY29uLCByZWZyZXNoSWNvbiwgc3RvcEljb24gfSBmcm9tICdAanVweXRlcmxhYi91aS1jb21wb25lbnRzJztcbmltcG9ydCB7IGZpbmQsIG1hcCwgc29tZSB9IGZyb20gJ0BsdW1pbm8vYWxnb3JpdGhtJztcbmltcG9ydCB7IE1lc3NhZ2VMb29wIH0gZnJvbSAnQGx1bWluby9tZXNzYWdpbmcnO1xuaW1wb3J0IHsgQXR0YWNoZWRQcm9wZXJ0eSB9IGZyb20gJ0BsdW1pbm8vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBQYW5lbExheW91dCwgV2lkZ2V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHNlc3Npb25Db250ZXh0RGlhbG9ncyB9IGZyb20gJy4vc2Vzc2lvbmNvbnRleHQnO1xuaW1wb3J0IHsgVXNlU2lnbmFsLCBSZWFjdFdpZGdldCB9IGZyb20gJy4vdmRvbSc7XG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIHRvIHRvb2xiYXJzLlxuICovXG5jb25zdCBUT09MQkFSX0NMQVNTID0gJ2pwLVRvb2xiYXInO1xuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB0byB0b29sYmFyIGl0ZW1zLlxuICovXG5jb25zdCBUT09MQkFSX0lURU1fQ0xBU1MgPSAnanAtVG9vbGJhci1pdGVtJztcbi8qKlxuICogVGhlIGNsYXNzIG5hbWUgYWRkZWQgdG8gdG9vbGJhciBrZXJuZWwgbmFtZSB0ZXh0LlxuICovXG5jb25zdCBUT09MQkFSX0tFUk5FTF9OQU1FX0NMQVNTID0gJ2pwLVRvb2xiYXIta2VybmVsTmFtZSc7XG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIHRvIHRvb2xiYXIgc3BhY2VyLlxuICovXG5jb25zdCBUT09MQkFSX1NQQUNFUl9DTEFTUyA9ICdqcC1Ub29sYmFyLXNwYWNlcic7XG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIHRvIHRvb2xiYXIga2VybmVsIHN0YXR1cyBpY29uLlxuICovXG5jb25zdCBUT09MQkFSX0tFUk5FTF9TVEFUVVNfQ0xBU1MgPSAnanAtVG9vbGJhci1rZXJuZWxTdGF0dXMnO1xuLyoqXG4gKiBBIGxheW91dCBmb3IgdG9vbGJhcnMuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogVGhpcyBsYXlvdXQgYXV0b21hdGljYWxseSBjb2xsYXBzZXMgaXRzIGhlaWdodCBpZiB0aGVyZSBhcmUgbm8gdmlzaWJsZVxuICogdG9vbGJhciB3aWRnZXRzLCBhbmQgZXhwYW5kcyB0byB0aGUgc3RhbmRhcmQgdG9vbGJhciBoZWlnaHQgaWYgdGhlcmUgYXJlXG4gKiB2aXNpYmxlIHRvb2xiYXIgd2lkZ2V0cy5cbiAqL1xuY2xhc3MgVG9vbGJhckxheW91dCBleHRlbmRzIFBhbmVsTGF5b3V0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtZXNzYWdlIGhhbmRsZXIgaW52b2tlZCBvbiBhIGAnZml0LXJlcXVlc3QnYCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogSWYgYW55IGNoaWxkIHdpZGdldCBpcyB2aXNpYmxlLCBleHBhbmQgdGhlIHRvb2xiYXIgaGVpZ2h0IHRvIHRoZSBub3JtYWxcbiAgICAgKiB0b29sYmFyIGhlaWdodC5cbiAgICAgKi9cbiAgICBvbkZpdFJlcXVlc3QobXNnKSB7XG4gICAgICAgIHN1cGVyLm9uRml0UmVxdWVzdChtc2cpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNBdHRhY2hlZCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSB3aWRnZXRzIG5vdCBleHBsaWNpdGx5IGhpZGRlbiwgZXhwYW5kIHRoZSB0b29sYmFyIHRvXG4gICAgICAgICAgICAvLyBhY2NvbW1vZGF0ZSB0aGVtLlxuICAgICAgICAgICAgaWYgKHNvbWUodGhpcy53aWRnZXRzLCB3ID0+ICF3LmlzSGlkZGVuKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm5vZGUuc3R5bGUubWluSGVpZ2h0ID0gJ3ZhcigtLWpwLXByaXZhdGUtdG9vbGJhci1oZWlnaHQpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm5vZGUuc3R5bGUubWluSGVpZ2h0ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHRoZSBkaXJ0eSBmbGFnIHRvIGVuc3VyZSBvbmx5IGEgc2luZ2xlIHVwZGF0ZSBvY2N1cnMuXG4gICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBhbmNlc3RvciB0aGF0IGl0IHNob3VsZCBmaXQgaW1tZWRpYXRlbHkuIFRoaXMgbWF5XG4gICAgICAgIC8vIGNhdXNlIGEgcmVzaXplIG9mIHRoZSBwYXJlbnQsIGZ1bGZpbGxpbmcgdGhlIHJlcXVpcmVkIHVwZGF0ZS5cbiAgICAgICAgaWYgKHRoaXMucGFyZW50LnBhcmVudCkge1xuICAgICAgICAgICAgTWVzc2FnZUxvb3Auc2VuZE1lc3NhZ2UodGhpcy5wYXJlbnQucGFyZW50LCBXaWRnZXQuTXNnLkZpdFJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBkaXJ0eSBmbGFnIGlzIHN0aWxsIHNldCwgdGhlIHBhcmVudCB3YXMgbm90IHJlc2l6ZWQuXG4gICAgICAgIC8vIFRyaWdnZXIgdGhlIHJlcXVpcmVkIHVwZGF0ZSBvbiB0aGUgcGFyZW50IHdpZGdldCBpbW1lZGlhdGVseS5cbiAgICAgICAgaWYgKHRoaXMuX2RpcnR5KSB7XG4gICAgICAgICAgICBNZXNzYWdlTG9vcC5zZW5kTWVzc2FnZSh0aGlzLnBhcmVudCwgV2lkZ2V0Lk1zZy5VcGRhdGVSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1lc3NhZ2UgaGFuZGxlciBpbnZva2VkIG9uIGFuIGAndXBkYXRlLXJlcXVlc3QnYCBtZXNzYWdlLlxuICAgICAqL1xuICAgIG9uVXBkYXRlUmVxdWVzdChtc2cpIHtcbiAgICAgICAgc3VwZXIub25VcGRhdGVSZXF1ZXN0KG1zZyk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudC5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtZXNzYWdlIGhhbmRsZXIgaW52b2tlZCBvbiBhIGAnY2hpbGQtc2hvd24nYCBtZXNzYWdlLlxuICAgICAqL1xuICAgIG9uQ2hpbGRTaG93bihtc2cpIHtcbiAgICAgICAgc3VwZXIub25DaGlsZFNob3duKG1zZyk7XG4gICAgICAgIC8vIFBvc3QgYSBmaXQgcmVxdWVzdCBmb3IgdGhlIHBhcmVudCB3aWRnZXQuXG4gICAgICAgIHRoaXMucGFyZW50LmZpdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1lc3NhZ2UgaGFuZGxlciBpbnZva2VkIG9uIGEgYCdjaGlsZC1oaWRkZW4nYCBtZXNzYWdlLlxuICAgICAqL1xuICAgIG9uQ2hpbGRIaWRkZW4obXNnKSB7XG4gICAgICAgIHN1cGVyLm9uQ2hpbGRIaWRkZW4obXNnKTtcbiAgICAgICAgLy8gUG9zdCBhIGZpdCByZXF1ZXN0IGZvciB0aGUgcGFyZW50IHdpZGdldC5cbiAgICAgICAgdGhpcy5wYXJlbnQuZml0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWVzc2FnZSBoYW5kbGVyIGludm9rZWQgb24gYSBgJ2JlZm9yZS1hdHRhY2gnYCBtZXNzYWdlLlxuICAgICAqL1xuICAgIG9uQmVmb3JlQXR0YWNoKG1zZykge1xuICAgICAgICBzdXBlci5vbkJlZm9yZUF0dGFjaChtc2cpO1xuICAgICAgICAvLyBQb3N0IGEgZml0IHJlcXVlc3QgZm9yIHRoZSBwYXJlbnQgd2lkZ2V0LlxuICAgICAgICB0aGlzLnBhcmVudC5maXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIGEgd2lkZ2V0IHRvIHRoZSBwYXJlbnQncyBET00gbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCAtIFRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSB3aWRnZXQgaW4gdGhlIGxheW91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgd2lkZ2V0IHRvIGF0dGFjaCB0byB0aGUgcGFyZW50LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgaXMgYSByZWltcGxlbWVudGF0aW9uIG9mIHRoZSBzdXBlcmNsYXNzIG1ldGhvZC5cbiAgICAgKi9cbiAgICBhdHRhY2hXaWRnZXQoaW5kZXgsIHdpZGdldCkge1xuICAgICAgICBzdXBlci5hdHRhY2hXaWRnZXQoaW5kZXgsIHdpZGdldCk7XG4gICAgICAgIC8vIFBvc3QgYSBmaXQgcmVxdWVzdCBmb3IgdGhlIHBhcmVudCB3aWRnZXQuXG4gICAgICAgIHRoaXMucGFyZW50LmZpdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRhY2ggYSB3aWRnZXQgZnJvbSB0aGUgcGFyZW50J3MgRE9NIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgcHJldmlvdXMgaW5kZXggb2YgdGhlIHdpZGdldCBpbiB0aGUgbGF5b3V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldCAtIFRoZSB3aWRnZXQgdG8gZGV0YWNoIGZyb20gdGhlIHBhcmVudC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGEgcmVpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc3VwZXJjbGFzcyBtZXRob2QuXG4gICAgICovXG4gICAgZGV0YWNoV2lkZ2V0KGluZGV4LCB3aWRnZXQpIHtcbiAgICAgICAgc3VwZXIuZGV0YWNoV2lkZ2V0KGluZGV4LCB3aWRnZXQpO1xuICAgICAgICAvLyBQb3N0IGEgZml0IHJlcXVlc3QgZm9yIHRoZSBwYXJlbnQgd2lkZ2V0LlxuICAgICAgICB0aGlzLnBhcmVudC5maXQoKTtcbiAgICB9XG59XG4vKipcbiAqIEEgY2xhc3Mgd2hpY2ggcHJvdmlkZXMgYSB0b29sYmFyIHdpZGdldC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRvb2xiYXIgZXh0ZW5kcyBXaWRnZXQge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyB0b29sYmFyIHdpZGdldC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcyhUT09MQkFSX0NMQVNTKTtcbiAgICAgICAgdGhpcy5sYXlvdXQgPSBuZXcgVG9vbGJhckxheW91dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gaXRlcmF0b3Igb3ZlciB0aGUgb3JkZXJlZCB0b29sYmFyIGl0ZW0gbmFtZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBbiBpdGVyYXRvciBvdmVyIHRoZSB0b29sYmFyIGl0ZW0gbmFtZXMuXG4gICAgICovXG4gICAgbmFtZXMoKSB7XG4gICAgICAgIGxldCBsYXlvdXQgPSB0aGlzLmxheW91dDtcbiAgICAgICAgcmV0dXJuIG1hcChsYXlvdXQud2lkZ2V0cywgd2lkZ2V0ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBQcml2YXRlLm5hbWVQcm9wZXJ0eS5nZXQod2lkZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBpdGVtIHRvIHRoZSBlbmQgb2YgdGhlIHRvb2xiYXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB3aWRnZXQgdG8gYWRkIHRvIHRoZSB0b29sYmFyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldCAtIFRoZSB3aWRnZXQgdG8gYWRkIHRvIHRoZSB0b29sYmFyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIG9wdGlvbmFsIG5hbWUgb2YgdGhlIGl0ZW0gdG8gaW5zZXJ0IGFmdGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGUgaXRlbSB3YXMgYWRkZWQgdG8gdG9vbGJhci4gIFJldHVybnMgZmFsc2UgaWZcbiAgICAgKiAgIGFuIGl0ZW0gb2YgdGhlIHNhbWUgbmFtZSBpcyBhbHJlYWR5IGluIHRoZSB0b29sYmFyLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBpdGVtIGNhbiBiZSByZW1vdmVkIGZyb20gdGhlIHRvb2xiYXIgYnkgc2V0dGluZyBpdHMgcGFyZW50IHRvIGBudWxsYC5cbiAgICAgKi9cbiAgICBhZGRJdGVtKG5hbWUsIHdpZGdldCkge1xuICAgICAgICBsZXQgbGF5b3V0ID0gdGhpcy5sYXlvdXQ7XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydEl0ZW0obGF5b3V0LndpZGdldHMubGVuZ3RoLCBuYW1lLCB3aWRnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYW4gaXRlbSBpbnRvIHRoZSB0b29sYmFyIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgaW5kZXggYXQgd2hpY2ggdG8gaW5zZXJ0IHRoZSBpdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgaXRlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgd2lkZ2V0IHRvIGFkZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGl0ZW0gd2FzIGFkZGVkIHRvIHRoZSB0b29sYmFyLiBSZXR1cm5zIGZhbHNlIGlmXG4gICAgICogICBhbiBpdGVtIG9mIHRoZSBzYW1lIG5hbWUgaXMgYWxyZWFkeSBpbiB0aGUgdG9vbGJhci5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGUgaW5kZXggd2lsbCBiZSBjbGFtcGVkIHRvIHRoZSBib3VuZHMgb2YgdGhlIGl0ZW1zLlxuICAgICAqIFRoZSBpdGVtIGNhbiBiZSByZW1vdmVkIGZyb20gdGhlIHRvb2xiYXIgYnkgc2V0dGluZyBpdHMgcGFyZW50IHRvIGBudWxsYC5cbiAgICAgKi9cbiAgICBpbnNlcnRJdGVtKGluZGV4LCBuYW1lLCB3aWRnZXQpIHtcbiAgICAgICAgbGV0IGV4aXN0aW5nID0gZmluZCh0aGlzLm5hbWVzKCksIHZhbHVlID0+IHZhbHVlID09PSBuYW1lKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgd2lkZ2V0LmFkZENsYXNzKFRPT0xCQVJfSVRFTV9DTEFTUyk7XG4gICAgICAgIGxldCBsYXlvdXQgPSB0aGlzLmxheW91dDtcbiAgICAgICAgbGF5b3V0Lmluc2VydFdpZGdldChpbmRleCwgd2lkZ2V0KTtcbiAgICAgICAgUHJpdmF0ZS5uYW1lUHJvcGVydHkuc2V0KHdpZGdldCwgbmFtZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYW4gaXRlbSBpbnRvIHRoZSB0b29sYmFyIGF0IHRoZSBhZnRlciBhIHRhcmdldCBpdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF0IC0gVGhlIHRhcmdldCBpdGVtIHRvIGluc2VydCBhZnRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGl0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2lkZ2V0IC0gVGhlIHdpZGdldCB0byBhZGQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBpdGVtIHdhcyBhZGRlZCB0byB0aGUgdG9vbGJhci4gUmV0dXJucyBmYWxzZSBpZlxuICAgICAqICAgYW4gaXRlbSBvZiB0aGUgc2FtZSBuYW1lIGlzIGFscmVhZHkgaW4gdGhlIHRvb2xiYXIuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhlIGluZGV4IHdpbGwgYmUgY2xhbXBlZCB0byB0aGUgYm91bmRzIG9mIHRoZSBpdGVtcy5cbiAgICAgKiBUaGUgaXRlbSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSB0b29sYmFyIGJ5IHNldHRpbmcgaXRzIHBhcmVudCB0byBgbnVsbGAuXG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXIoYXQsIG5hbWUsIHdpZGdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5zZXJ0UmVsYXRpdmUoYXQsIDEsIG5hbWUsIHdpZGdldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydCBhbiBpdGVtIGludG8gdGhlIHRvb2xiYXIgYXQgdGhlIGJlZm9yZSBhIHRhcmdldCBpdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF0IC0gVGhlIHRhcmdldCBpdGVtIHRvIGluc2VydCBiZWZvcmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBpdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldCAtIFRoZSB3aWRnZXQgdG8gYWRkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGUgaXRlbSB3YXMgYWRkZWQgdG8gdGhlIHRvb2xiYXIuIFJldHVybnMgZmFsc2UgaWZcbiAgICAgKiAgIGFuIGl0ZW0gb2YgdGhlIHNhbWUgbmFtZSBpcyBhbHJlYWR5IGluIHRoZSB0b29sYmFyLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBpbmRleCB3aWxsIGJlIGNsYW1wZWQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgaXRlbXMuXG4gICAgICogVGhlIGl0ZW0gY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGUgdG9vbGJhciBieSBzZXR0aW5nIGl0cyBwYXJlbnQgdG8gYG51bGxgLlxuICAgICAqL1xuICAgIGluc2VydEJlZm9yZShhdCwgbmFtZSwgd2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnNlcnRSZWxhdGl2ZShhdCwgMCwgbmFtZSwgd2lkZ2V0KTtcbiAgICB9XG4gICAgX2luc2VydFJlbGF0aXZlKGF0LCBvZmZzZXQsIG5hbWUsIHdpZGdldCkge1xuICAgICAgICBsZXQgbmFtZVdpdGhJbmRleCA9IG1hcCh0aGlzLm5hbWVzKCksIChuYW1lLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBuYW1lOiBuYW1lLCBpbmRleDogaSB9O1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHRhcmdldCA9IGZpbmQobmFtZVdpdGhJbmRleCwgeCA9PiB4Lm5hbWUgPT09IGF0KTtcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0SXRlbSh0YXJnZXQuaW5kZXggKyBvZmZzZXQsIG5hbWUsIHdpZGdldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIERPTSBldmVudHMgZm9yIHRoZSB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IHNlbnQgdG8gdGhlIHdpZGdldC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIG1ldGhvZCBpbXBsZW1lbnRzIHRoZSBET00gYEV2ZW50TGlzdGVuZXJgIGludGVyZmFjZSBhbmQgaXNcbiAgICAgKiBjYWxsZWQgaW4gcmVzcG9uc2UgdG8gZXZlbnRzIG9uIHRoZSBkb2NrIHBhbmVsJ3Mgbm9kZS4gSXQgc2hvdWxkXG4gICAgICogbm90IGJlIGNhbGxlZCBkaXJlY3RseSBieSB1c2VyIGNvZGUuXG4gICAgICovXG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdjbGljayc6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDbGljayhldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIERPTSBjbGljayBldmVudC5cbiAgICAgKi9cbiAgICBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgICAvLyBDbGlja2luZyBhIGxhYmVsIGZvY3VzZXMgdGhlIGNvcnJlc3BvbmRpbmcgY29udHJvbFxuICAgICAgICAvLyB0aGF0IGlzIGxpbmtlZCB3aXRoIGBmb3JgIGF0dHJpYnV0ZSwgc28gbGV0IGl0IGJlLlxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTExhYmVsRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgZm9ySWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdmb3InKTtcbiAgICAgICAgICAgIGlmIChmb3JJZCAmJiB0aGlzLm5vZGUucXVlcnlTZWxlY3RvcihgIyR7Zm9ySWR9YCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhpcyBjbGljayBhbHJlYWR5IGZvY3VzZWQgYSBjb250cm9sLCBsZXQgaXQgYmUuXG4gICAgICAgIGlmICh0aGlzLm5vZGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIGFjdGl2YXRlIHRoZSBwYXJlbnQgd2lkZ2V0LCB3aGljaCBtYXkgdGFrZSBmb2N1cyBpZiBkZXNpcmVkLlxuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmFjdGl2YXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGBhZnRlci1hdHRhY2hgIG1lc3NhZ2VzIGZvciB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIG9uQWZ0ZXJBdHRhY2gobXNnKSB7XG4gICAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYGJlZm9yZS1kZXRhY2hgIG1lc3NhZ2VzIGZvciB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIG9uQmVmb3JlRGV0YWNoKG1zZykge1xuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzKTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIFRvb2xiYXIgY2xhc3Mgc3RhdGljcy5cbiAqL1xuKGZ1bmN0aW9uIChUb29sYmFyKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGludGVycnVwdCB0b29sYmFyIGl0ZW0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW50ZXJydXB0QnV0dG9uKHNlc3Npb25Db250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVG9vbGJhckJ1dHRvbih7XG4gICAgICAgICAgICBpY29uOiBzdG9wSWNvbixcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIHZvaWQgKChfYiA9IChfYSA9IHNlc3Npb25Db250ZXh0LnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5rZXJuZWwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbnRlcnJ1cHQoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbHRpcDogJ0ludGVycnVwdCB0aGUga2VybmVsJ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgVG9vbGJhci5jcmVhdGVJbnRlcnJ1cHRCdXR0b24gPSBjcmVhdGVJbnRlcnJ1cHRCdXR0b247XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgcmVzdGFydCB0b29sYmFyIGl0ZW0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVzdGFydEJ1dHRvbihzZXNzaW9uQ29udGV4dCwgZGlhbG9ncykge1xuICAgICAgICByZXR1cm4gbmV3IFRvb2xiYXJCdXR0b24oe1xuICAgICAgICAgICAgaWNvbjogcmVmcmVzaEljb24sXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdm9pZCAoKGRpYWxvZ3MgIT09IG51bGwgJiYgZGlhbG9ncyAhPT0gdm9pZCAwID8gZGlhbG9ncyA6IHNlc3Npb25Db250ZXh0RGlhbG9ncykpLnJlc3RhcnQoc2Vzc2lvbkNvbnRleHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvb2x0aXA6ICdSZXN0YXJ0IHRoZSBrZXJuZWwnXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBUb29sYmFyLmNyZWF0ZVJlc3RhcnRCdXR0b24gPSBjcmVhdGVSZXN0YXJ0QnV0dG9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRvb2xiYXIgc3BhY2VyIGl0ZW0uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSXQgaXMgYSBmbGV4IHNwYWNlciB0aGF0IHNlcGFyYXRlcyB0aGUgbGVmdCB0b29sYmFyIGl0ZW1zXG4gICAgICogZnJvbSB0aGUgcmlnaHQgdG9vbGJhciBpdGVtcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVTcGFjZXJJdGVtKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByaXZhdGUuU3BhY2VyKCk7XG4gICAgfVxuICAgIFRvb2xiYXIuY3JlYXRlU3BhY2VySXRlbSA9IGNyZWF0ZVNwYWNlckl0ZW07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEga2VybmVsIG5hbWUgaW5kaWNhdG9yIGl0ZW0uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSXQgd2lsbCBkaXNwbGF5IHRoZSBgJ2Rpc3BsYXlfbmFtZWAnIG9mIHRoZSBzZXNzaW9uIGNvbnRleHQuIEl0IGNhblxuICAgICAqIGhhbmRsZSBhIGNoYW5nZSBpbiBjb250ZXh0IG9yIGtlcm5lbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVLZXJuZWxOYW1lSXRlbShzZXNzaW9uQ29udGV4dCwgZGlhbG9ncykge1xuICAgICAgICBjb25zdCBlbCA9IFJlYWN0V2lkZ2V0LmNyZWF0ZShSZWFjdC5jcmVhdGVFbGVtZW50KFByaXZhdGUuS2VybmVsTmFtZUNvbXBvbmVudCwgeyBzZXNzaW9uQ29udGV4dDogc2Vzc2lvbkNvbnRleHQsIGRpYWxvZ3M6IChkaWFsb2dzICE9PSBudWxsICYmIGRpYWxvZ3MgIT09IHZvaWQgMCA/IGRpYWxvZ3MgOiBzZXNzaW9uQ29udGV4dERpYWxvZ3MpIH0pKTtcbiAgICAgICAgZWwuYWRkQ2xhc3MoJ2pwLUtlcm5lbE5hbWUnKTtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICBUb29sYmFyLmNyZWF0ZUtlcm5lbE5hbWVJdGVtID0gY3JlYXRlS2VybmVsTmFtZUl0ZW07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEga2VybmVsIHN0YXR1cyBpbmRpY2F0b3IgaXRlbS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBJdCB3aWxsIHNob3cgYSBidXN5IHN0YXR1cyBpZiB0aGUga2VybmVsIHN0YXR1cyBpcyBidXN5LlxuICAgICAqIEl0IHdpbGwgc2hvdyB0aGUgY3VycmVudCBzdGF0dXMgaW4gdGhlIG5vZGUgdGl0bGUuXG4gICAgICogSXQgY2FuIGhhbmRsZSBhIGNoYW5nZSB0byB0aGUgY29udGV4dCBvciB0aGUga2VybmVsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUtlcm5lbFN0YXR1c0l0ZW0oc2Vzc2lvbkNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcml2YXRlLktlcm5lbFN0YXR1cyhzZXNzaW9uQ29udGV4dCk7XG4gICAgfVxuICAgIFRvb2xiYXIuY3JlYXRlS2VybmVsU3RhdHVzSXRlbSA9IGNyZWF0ZUtlcm5lbFN0YXR1c0l0ZW07XG59KShUb29sYmFyIHx8IChUb29sYmFyID0ge30pKTtcbi8qKlxuICogUmVhY3QgY29tcG9uZW50IGZvciBhIHRvb2xiYXIgYnV0dG9uLlxuICpcbiAqIEBwYXJhbSBwcm9wcyAtIFRoZSBwcm9wcyBmb3IgVG9vbGJhckJ1dHRvbkNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFRvb2xiYXJCdXR0b25Db21wb25lbnQocHJvcHMpIHtcbiAgICAvLyBJbiBzb21lIGJyb3dzZXJzLCBhIGJ1dHRvbiBjbGljayBldmVudCBtb3ZlcyB0aGUgZm9jdXMgZnJvbSB0aGUgbWFpblxuICAgIC8vIGNvbnRlbnQgdG8gdGhlIGJ1dHRvbiAoc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9idXR0b24jQ2xpY2tpbmdfYW5kX2ZvY3VzKS5cbiAgICAvLyBXZSBhdm9pZCBhIGNsaWNrIGV2ZW50IGJ5IGNhbGxpbmcgcHJldmVudERlZmF1bHQgaW4gbW91c2Vkb3duLCBhbmRcbiAgICAvLyB3ZSBiaW5kIHRoZSBidXR0b24gYWN0aW9uIHRvIGBtb3VzZWRvd25gLlxuICAgIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAvLyBGaXJlIGFjdGlvbiBvbmx5IHdoZW4gbGVmdCBidXR0b24gaXMgcHJlc3NlZC5cbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIChfYiA9IChfYSA9IHByb3BzKS5vbkNsaWNrKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgeyBrZXkgfSA9IGV2ZW50O1xuICAgICAgICBpZiAoa2V5ID09PSAnRW50ZXInIHx8IGtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSBwcm9wcykub25DbGljaykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IGNsYXNzTmFtZTogcHJvcHMuY2xhc3NOYW1lXG4gICAgICAgICAgICA/IHByb3BzLmNsYXNzTmFtZSArICcganAtVG9vbGJhckJ1dHRvbkNvbXBvbmVudCdcbiAgICAgICAgICAgIDogJ2pwLVRvb2xiYXJCdXR0b25Db21wb25lbnQnLCBkaXNhYmxlZDogcHJvcHMuZW5hYmxlZCA9PT0gZmFsc2UsIG9uTW91c2VEb3duOiBoYW5kbGVNb3VzZURvd24sIG9uS2V5RG93bjogaGFuZGxlS2V5RG93biwgdGl0bGU6IHByb3BzLnRvb2x0aXAgfHwgcHJvcHMuaWNvbkxhYmVsLCBtaW5pbWFsOiB0cnVlIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiSWNvbi5yZXNvbHZlUmVhY3QsIHsgaWNvbjogcHJvcHMuaWNvbiwgaWNvbkNsYXNzOiBcbiAgICAgICAgICAgIC8vIGFkZCBzb21lIGV4dHJhIGNsYXNzZXMgZm9yIHByb3BlciBzdXBwb3J0IG9mIGljb25zLWFzLWNzcy1iYWNrZ29ydW5kXG4gICAgICAgICAgICBjbGFzc2VzKHByb3BzLmljb25DbGFzcywgJ2pwLUljb24nLCAnanAtSWNvbi0xNicpLCBjbGFzc05hbWU6IFwianAtVG9vbGJhckJ1dHRvbkNvbXBvbmVudC1pY29uXCIsIHRhZzogXCJzcGFuXCIsIGp1c3RpZnk6IFwiY2VudGVyXCIsIGtpbmQ6IFwidG9vbGJhckJ1dHRvblwiIH0pLFxuICAgICAgICBwcm9wcy5sYWJlbCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwianAtVG9vbGJhckJ1dHRvbkNvbXBvbmVudC1sYWJlbFwiIH0sIHByb3BzLmxhYmVsKSkpKTtcbn1cbi8qKlxuICogQWRkcyB0aGUgdG9vbGJhciBidXR0b24gY2xhc3MgdG8gdGhlIHRvb2xiYXIgd2lkZ2V0LlxuICogQHBhcmFtIHcgVG9vbGJhciBidXR0b24gd2lkZ2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9vbGJhckJ1dHRvbkNsYXNzKHcpIHtcbiAgICB3LmFkZENsYXNzKCdqcC1Ub29sYmFyQnV0dG9uJyk7XG4gICAgcmV0dXJuIHc7XG59XG4vKipcbiAqIFBob3NwaG9yIFdpZGdldCB2ZXJzaW9uIG9mIHN0YXRpYyBUb29sYmFyQnV0dG9uQ29tcG9uZW50LlxuICovXG5leHBvcnQgY2xhc3MgVG9vbGJhckJ1dHRvbiBleHRlbmRzIFJlYWN0V2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdG9vbGJhciBidXR0b25cbiAgICAgKiBAcGFyYW0gcHJvcHMgcHJvcHMgZm9yIHVuZGVybHlpbmcgYFRvb2xiYXJCdXR0b25gIGNvbXBvbmVuZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIGFkZFRvb2xiYXJCdXR0b25DbGFzcyh0aGlzKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUb29sYmFyQnV0dG9uQ29tcG9uZW50LCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZWFjdCBjb21wb25lbnQgZm9yIGEgdG9vbGJhciBidXR0b24gdGhhdCB3cmFwcyBhIGNvbW1hbmQuXG4gKlxuICogVGhpcyB3cmFwcyB0aGUgVG9vbGJhckJ1dHRvbkNvbXBvbmVudCBhbmQgd2F0Y2hlcyB0aGUgY29tbWFuZCByZWdpc3RyeVxuICogZm9yIGNoYW5nZXMgdG8gdGhlIGNvbW1hbmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb21tYW5kVG9vbGJhckJ1dHRvbkNvbXBvbmVudChwcm9wcykge1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChVc2VTaWduYWwsIHsgc2lnbmFsOiBwcm9wcy5jb21tYW5kcy5jb21tYW5kQ2hhbmdlZCwgc2hvdWxkVXBkYXRlOiAoc2VuZGVyLCBhcmdzKSA9PiAoYXJncy5pZCA9PT0gcHJvcHMuaWQgJiYgYXJncy50eXBlID09PSAnY2hhbmdlZCcpIHx8XG4gICAgICAgICAgICBhcmdzLnR5cGUgPT09ICdtYW55LWNoYW5nZWQnIH0sICgpID0+IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbkNvbXBvbmVudCwgT2JqZWN0LmFzc2lnbih7fSwgUHJpdmF0ZS5wcm9wc0Zyb21Db21tYW5kKHByb3BzKSkpKSk7XG59XG4vKlxuICogQWRkcyB0aGUgY29tbWFuZCB0b29sYmFyIGJ1dHRvbiBjbGFzcyB0byB0aGUgY29tbWFuZCB0b29sYmFyIHdpZGdldC5cbiAqIEBwYXJhbSB3IENvbW1hbmQgdG9vbGJhciBidXR0b24gd2lkZ2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29tbWFuZFRvb2xiYXJCdXR0b25DbGFzcyh3KSB7XG4gICAgdy5hZGRDbGFzcygnanAtQ29tbWFuZFRvb2xiYXJCdXR0b24nKTtcbiAgICByZXR1cm4gdztcbn1cbi8qKlxuICogUGhvc3Bob3IgV2lkZ2V0IHZlcnNpb24gb2YgQ29tbWFuZFRvb2xiYXJCdXR0b25Db21wb25lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21tYW5kVG9vbGJhckJ1dHRvbiBleHRlbmRzIFJlYWN0V2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tbWFuZCB0b29sYmFyIGJ1dHRvblxuICAgICAqIEBwYXJhbSBwcm9wcyBwcm9wcyBmb3IgdW5kZXJseWluZyBgQ29tbWFuZFRvb2xiYXJCdXR0b25Db21wb25lbnRgIGNvbXBvbmVuZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgICBhZGRDb21tYW5kVG9vbGJhckJ1dHRvbkNsYXNzKHRoaXMpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbW1hbmRUb29sYmFyQnV0dG9uQ29tcG9uZW50LCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIGZ1bmN0aW9uIHByb3BzRnJvbUNvbW1hbmQob3B0aW9ucykge1xuICAgICAgICBsZXQgeyBjb21tYW5kcywgaWQsIGFyZ3MgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGljb25DbGFzcyA9IGNvbW1hbmRzLmljb25DbGFzcyhpZCwgYXJncyk7XG4gICAgICAgIGNvbnN0IGljb25MYWJlbCA9IGNvbW1hbmRzLmljb25MYWJlbChpZCwgYXJncyk7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY29tbWFuZHMubGFiZWwoaWQsIGFyZ3MpO1xuICAgICAgICBsZXQgY2xhc3NOYW1lID0gY29tbWFuZHMuY2xhc3NOYW1lKGlkLCBhcmdzKTtcbiAgICAgICAgLy8gQWRkIHRoZSBib29sZWFuIHN0YXRlIGNsYXNzZXMuXG4gICAgICAgIGlmIChjb21tYW5kcy5pc1RvZ2dsZWQoaWQsIGFyZ3MpKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgKz0gJyBsbS1tb2QtdG9nZ2xlZCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21tYW5kcy5pc1Zpc2libGUoaWQsIGFyZ3MpKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgKz0gJyBsbS1tb2QtaGlkZGVuJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b29sdGlwID0gY29tbWFuZHMuY2FwdGlvbihpZCwgYXJncykgfHwgbGFiZWwgfHwgaWNvbkxhYmVsO1xuICAgICAgICBjb25zdCBvbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdm9pZCBjb21tYW5kcy5leGVjdXRlKGlkLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZW5hYmxlZCA9IGNvbW1hbmRzLmlzRW5hYmxlZChpZCwgYXJncyk7XG4gICAgICAgIHJldHVybiB7IGNsYXNzTmFtZSwgaWNvbkNsYXNzLCB0b29sdGlwLCBvbkNsaWNrLCBlbmFibGVkLCBsYWJlbCB9O1xuICAgIH1cbiAgICBQcml2YXRlLnByb3BzRnJvbUNvbW1hbmQgPSBwcm9wc0Zyb21Db21tYW5kO1xuICAgIC8qKlxuICAgICAqIEFuIGF0dGFjaGVkIHByb3BlcnR5IGZvciB0aGUgbmFtZSBvZiBhIHRvb2xiYXIgaXRlbS5cbiAgICAgKi9cbiAgICBQcml2YXRlLm5hbWVQcm9wZXJ0eSA9IG5ldyBBdHRhY2hlZFByb3BlcnR5KHtcbiAgICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgICBjcmVhdGU6ICgpID0+ICcnXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSBuby1vcCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub09wKCkge1xuICAgICAgICAvKiBuby1vcCAqL1xuICAgIH1cbiAgICBQcml2YXRlLm5vT3AgPSBub09wO1xuICAgIC8qKlxuICAgICAqIEEgc3BhY2VyIHdpZGdldC5cbiAgICAgKi9cbiAgICBjbGFzcyBTcGFjZXIgZXh0ZW5kcyBXaWRnZXQge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0IGEgbmV3IHNwYWNlciB3aWRnZXQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKFRPT0xCQVJfU1BBQ0VSX0NMQVNTKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcml2YXRlLlNwYWNlciA9IFNwYWNlcjtcbiAgICAvKipcbiAgICAgKiBSZWFjdCBjb21wb25lbnQgZm9yIGEga2VybmVsIG5hbWUgYnV0dG9uLlxuICAgICAqXG4gICAgICogVGhpcyB3cmFwcyB0aGUgVG9vbGJhckJ1dHRvbkNvbXBvbmVudCBhbmQgd2F0Y2hlcyB0aGUga2VybmVsXG4gICAgICogc2Vzc2lvbiBmb3IgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBLZXJuZWxOYW1lQ29tcG9uZW50KHByb3BzKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdm9pZCBwcm9wcy5kaWFsb2dzLnNlbGVjdEtlcm5lbChwcm9wcy5zZXNzaW9uQ29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChVc2VTaWduYWwsIHsgc2lnbmFsOiBwcm9wcy5zZXNzaW9uQ29udGV4dC5rZXJuZWxDaGFuZ2VkLCBpbml0aWFsU2VuZGVyOiBwcm9wcy5zZXNzaW9uQ29udGV4dCB9LCBzZXNzaW9uQ29udGV4dCA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhckJ1dHRvbkNvbXBvbmVudCwgeyBjbGFzc05hbWU6IFRPT0xCQVJfS0VSTkVMX05BTUVfQ0xBU1MsIG9uQ2xpY2s6IGNhbGxiYWNrLCB0b29sdGlwOiAnU3dpdGNoIGtlcm5lbCcsIGxhYmVsOiAoX2EgPSBzZXNzaW9uQ29udGV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmtlcm5lbERpc3BsYXlOYW1lIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBQcml2YXRlLktlcm5lbE5hbWVDb21wb25lbnQgPSBLZXJuZWxOYW1lQ29tcG9uZW50O1xuICAgIC8qKlxuICAgICAqIEEgdG9vbGJhciBpdGVtIHRoYXQgZGlzcGxheXMga2VybmVsIHN0YXR1cy5cbiAgICAgKi9cbiAgICBjbGFzcyBLZXJuZWxTdGF0dXMgZXh0ZW5kcyBXaWRnZXQge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0IGEgbmV3IGtlcm5lbCBzdGF0dXMgd2lkZ2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3Ioc2Vzc2lvbkNvbnRleHQpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKFRPT0xCQVJfS0VSTkVMX1NUQVRVU19DTEFTUyk7XG4gICAgICAgICAgICB0aGlzLl9vblN0YXR1c0NoYW5nZWQoc2Vzc2lvbkNvbnRleHQpO1xuICAgICAgICAgICAgc2Vzc2lvbkNvbnRleHQuc3RhdHVzQ2hhbmdlZC5jb25uZWN0KHRoaXMuX29uU3RhdHVzQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBhIHN0YXR1cyBvbiBhIGtlcm5lbC5cbiAgICAgICAgICovXG4gICAgICAgIF9vblN0YXR1c0NoYW5nZWQoc2Vzc2lvbkNvbnRleHQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3RhdHVzID0gc2Vzc2lvbkNvbnRleHQua2VybmVsRGlzcGxheVN0YXR1cztcbiAgICAgICAgICAgIC8vIHNldCB0aGUgaWNvblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzQnVzeShzdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgY2lyY2xlSWNvbi5lbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLm5vZGUsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgS2VybmVsICR7VGV4dC50aXRsZUNhc2Uoc3RhdHVzKX1gLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5OiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAga2luZDogJ3Rvb2xiYXJCdXR0b24nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaXJjbGVFbXB0eUljb24uZWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5ub2RlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYEtlcm5lbCAke1RleHQudGl0bGVDYXNlKHN0YXR1cyl9YCxcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeTogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICd0b29sYmFyQnV0dG9uJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBpZiBzdGF0dXMgc2hvdWxkIGJlIHNob3duIGFzIGJ1c3kuXG4gICAgICAgICAqL1xuICAgICAgICBfaXNCdXN5KHN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIChzdGF0dXMgPT09ICdidXN5JyB8fCBzdGF0dXMgPT09ICdzdGFydGluZycgfHwgc3RhdHVzID09PSAncmVzdGFydGluZycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUuS2VybmVsU3RhdHVzID0gS2VybmVsU3RhdHVzO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29sYmFyLmpzLm1hcCIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnQgKiBmcm9tICcuL2F0dGFjaG1lbnRtb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2ZhY3Rvcmllcyc7XG5leHBvcnQgKiBmcm9tICcuL2xhdGV4JztcbmV4cG9ydCAqIGZyb20gJy4vbWltZW1vZGVsJztcbmV4cG9ydCAqIGZyb20gJy4vb3V0cHV0bW9kZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9yZWdpc3RyeSc7XG5leHBvcnQgKiBmcm9tICcuL3JlbmRlcmVycyc7XG5leHBvcnQgKiBmcm9tICcuL3Rva2Vucyc7XG5leHBvcnQgKiBmcm9tICcuL3dpZGdldHMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgSG92ZXJCb3ggfSBmcm9tICdAanVweXRlcmxhYi9hcHB1dGlscyc7XG5pbXBvcnQgeyBXaWRnZXQsIFBhbmVsTGF5b3V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAndHlwZXN0eWxlL2xpYic7XG5pbXBvcnQgeyBjbGlja2VkSXRlbSwgaW50ZXJhY3RpdmVJdGVtIH0gZnJvbSAnLi4vc3R5bGUvc3RhdHVzYmFyJztcbmNvbnN0IGhvdmVySXRlbSA9IHN0eWxlKHtcbiAgICBib3hTaGFkb3c6ICcwcHggNHB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMjUpJ1xufSk7XG4vKipcbiAqIENyZWF0ZSBhbmQgc2hvdyBhIHBvcHVwIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIG9wdGlvbnMgZm9yIHRoZSBwb3B1cFxuICpcbiAqIEByZXR1cm5zIHRoZSBwb3B1cCB0aGF0IHdhcyBjcmVhdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvd1BvcHVwKG9wdGlvbnMpIHtcbiAgICBsZXQgZGlhbG9nID0gbmV3IFBvcHVwKG9wdGlvbnMpO1xuICAgIGRpYWxvZy5sYXVuY2goKTtcbiAgICByZXR1cm4gZGlhbG9nO1xufVxuLyoqXG4gKiBBIGNsYXNzIGZvciBhIFBvcHVwIHdpZGdldC5cbiAqL1xuZXhwb3J0IGNsYXNzIFBvcHVwIGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgUG9wdXAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9ib2R5ID0gb3B0aW9ucy5ib2R5O1xuICAgICAgICB0aGlzLl9ib2R5LmFkZENsYXNzKGhvdmVySXRlbSk7XG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG9wdGlvbnMuYW5jaG9yO1xuICAgICAgICB0aGlzLl9hbGlnbiA9IG9wdGlvbnMuYWxpZ247XG4gICAgICAgIGxldCBsYXlvdXQgPSAodGhpcy5sYXlvdXQgPSBuZXcgUGFuZWxMYXlvdXQoKSk7XG4gICAgICAgIGxheW91dC5hZGRXaWRnZXQob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgdGhpcy5fYm9keS5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIHBvcHVwIHdpZGdldCB0byB0aGUgcGFnZS5cbiAgICAgKi9cbiAgICBsYXVuY2goKSB7XG4gICAgICAgIHRoaXMuX3NldEdlb21ldHJ5KCk7XG4gICAgICAgIFdpZGdldC5hdHRhY2godGhpcywgZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuX2FuY2hvci5hZGRDbGFzcyhjbGlja2VkSXRlbSk7XG4gICAgICAgIHRoaXMuX2FuY2hvci5yZW1vdmVDbGFzcyhpbnRlcmFjdGl2ZUl0ZW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYCd1cGRhdGUnYCBtZXNzYWdlcyBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBvblVwZGF0ZVJlcXVlc3QobXNnKSB7XG4gICAgICAgIHRoaXMuX3NldEdlb21ldHJ5KCk7XG4gICAgICAgIHN1cGVyLm9uVXBkYXRlUmVxdWVzdChtc2cpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYCdhZnRlci1hdHRhY2gnYCBtZXNzYWdlcyBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBvbkFmdGVyQXR0YWNoKG1zZykge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLCBmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBgJ2FmdGVyLWRldGFjaCdgIG1lc3NhZ2VzIGZvciB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIG9uQWZ0ZXJEZXRhY2gobXNnKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcywgZmFsc2UpO1xuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMsIGZhbHNlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGAncmVzaXplJ2AgbWVzc2FnZXMgZm9yIHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgb25SZXNpemUoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2FuY2hvci5yZW1vdmVDbGFzcyhjbGlja2VkSXRlbSk7XG4gICAgICAgIHRoaXMuX2FuY2hvci5hZGRDbGFzcyhpbnRlcmFjdGl2ZUl0ZW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgRE9NIGV2ZW50cyBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2tleWRvd24nOlxuICAgICAgICAgICAgICAgIHRoaXMuX2V2dEtleWRvd24oZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2xpY2snOlxuICAgICAgICAgICAgICAgIHRoaXMuX2V2dENsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2l6ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZXZ0Q2xpY2soZXZlbnQpIHtcbiAgICAgICAgaWYgKCEhZXZlbnQudGFyZ2V0ICYmXG4gICAgICAgICAgICAhKHRoaXMuX2JvZHkubm9kZS5jb250YWlucyhldmVudC50YXJnZXQpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLm5vZGUuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9ldnRLZXlkb3duKGV2ZW50KSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBlc2NhcGUga2V5XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICAgICAgY2FzZSAyNzogLy8gRXNjYXBlLlxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zZXRHZW9tZXRyeSgpIHtcbiAgICAgICAgbGV0IGFsaWduZWQgPSAwO1xuICAgICAgICBjb25zdCBhbmNob3JSZWN0ID0gdGhpcy5fYW5jaG9yLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGJvZHlSZWN0ID0gdGhpcy5fYm9keS5ub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGFsaWduZWQgPSAtKGJvZHlSZWN0LndpZHRoIC0gYW5jaG9yUmVjdC53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9ib2R5Lm5vZGUpO1xuICAgICAgICBIb3ZlckJveC5zZXRHZW9tZXRyeSh7XG4gICAgICAgICAgICBhbmNob3I6IGFuY2hvclJlY3QsXG4gICAgICAgICAgICBob3N0OiBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiA1MDAsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDIwLFxuICAgICAgICAgICAgbm9kZTogdGhpcy5fYm9keS5ub2RlLFxuICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogYWxpZ25lZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByaXZpbGVnZTogJ2ZvcmNlQWJvdmUnLFxuICAgICAgICAgICAgc3R5bGVcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG92ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb3JldXRpbHNfMSA9IHJlcXVpcmUoXCJAanVweXRlcmxhYi9jb3JldXRpbHNcIik7XG5jb25zdCBfXzEgPSByZXF1aXJlKFwiLi5cIik7XG4vKipcbiAqIFRoZSB1cmwgZm9yIHRoZSBjb25maWcgc2VydmljZS5cbiAqL1xubGV0IFNFUlZJQ0VfQ09ORklHX1VSTCA9ICdhcGkvY29uZmlnJztcbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgQ29uZmlnU2VjdGlvbiBzdGF0aWNzLlxuICovXG52YXIgQ29uZmlnU2VjdGlvbjtcbihmdW5jdGlvbiAoQ29uZmlnU2VjdGlvbikge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNvbmZpZyBzZWN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdGhlIGNvbmZpZyBzZWN0aW9uIGlzIGxvYWRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUob3B0aW9ucykge1xuICAgICAgICBsZXQgc2VjdGlvbiA9IG5ldyBEZWZhdWx0Q29uZmlnU2VjdGlvbihvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHNlY3Rpb24ubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBDb25maWdTZWN0aW9uLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKENvbmZpZ1NlY3Rpb24gPSBleHBvcnRzLkNvbmZpZ1NlY3Rpb24gfHwgKGV4cG9ydHMuQ29uZmlnU2VjdGlvbiA9IHt9KSk7XG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIHRoZSBDb25maWd1cmFibGUgZGF0YSBzZWN0aW9uLlxuICovXG5jbGFzcyBEZWZhdWx0Q29uZmlnU2VjdGlvbiB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IGNvbmZpZyBzZWN0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLl91cmwgPSAndW5rbm93bic7XG4gICAgICAgIGxldCBzZXR0aW5ncyA9ICh0aGlzLnNlcnZlclNldHRpbmdzID0gKF9hID0gb3B0aW9ucy5zZXJ2ZXJTZXR0aW5ncywgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSkpO1xuICAgICAgICB0aGlzLl91cmwgPSBjb3JldXRpbHNfMS5VUkxFeHQuam9pbihzZXR0aW5ncy5iYXNlVXJsLCBTRVJWSUNFX0NPTkZJR19VUkwsIGVuY29kZVVSSUNvbXBvbmVudChvcHRpb25zLm5hbWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkYXRhIGZvciB0aGlzIHNlY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBpbml0aWFsIGRhdGEgZm9yIHRoaXMgc2VjdGlvbi5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBVc2VzIHRoZSBbSnVweXRlciBOb3RlYm9vayBBUEldKGh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLmlvLz91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2p1cHl0ZXIvbm90ZWJvb2svbWFzdGVyL25vdGVib29rL3NlcnZpY2VzL2FwaS9hcGkueWFtbCMhL2NvbmZpZykuXG4gICAgICpcbiAgICAgKiBUaGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgb24gYSB2YWxpZCByZXNwb25zZSBhbmQgcmVqZWN0ZWQgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGxvYWQoKSB7XG4gICAgICAgIHJldHVybiBfXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh0aGlzLl91cmwsIHt9LCB0aGlzLnNlcnZlclNldHRpbmdzKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZnkgdGhlIHN0b3JlZCBjb25maWcgdmFsdWVzLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFVzZXMgdGhlIFtKdXB5dGVyIE5vdGVib29rIEFQSV0oaHR0cDovL3BldHN0b3JlLnN3YWdnZXIuaW8vP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vanVweXRlci9ub3RlYm9vay9tYXN0ZXIvbm90ZWJvb2svc2VydmljZXMvYXBpL2FwaS55YW1sIyEvY29uZmlnKS5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBvbiBhIHZhbGlkIHJlc3BvbnNlIGFuZCByZWplY3RlZCBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBkYXRhIGltbWVkaWF0ZWx5LCBzZW5kcyB0aGUgY2hhbmdlIHRvIHRoZSBzZXJ2ZXIsXG4gICAgICogYW5kIHVwZGF0ZXMgdGhlIGxvY2FsIGRhdGEgd2l0aCB0aGUgcmVzcG9uc2UsIGFuZCBmdWxmaWxzIHRoZSBwcm9taXNlXG4gICAgICogd2l0aCB0aGF0IGRhdGEuXG4gICAgICovXG4gICAgdXBkYXRlKG5ld2RhdGEpIHtcbiAgICAgICAgdGhpcy5fZGF0YSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fZGF0YSksIG5ld2RhdGEpO1xuICAgICAgICBsZXQgaW5pdCA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5ld2RhdGEpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh0aGlzLl91cmwsIGluaXQsIHRoaXMuc2VydmVyU2V0dGluZ3MpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgX18xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIENvbmZpZ3VyYWJsZSBvYmplY3Qgd2l0aCBkZWZhdWx0cy5cbiAqL1xuY2xhc3MgQ29uZmlnV2l0aERlZmF1bHRzIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgY29uZmlnIHdpdGggZGVmYXVsdHMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLl9jbGFzc05hbWUgPSAnJztcbiAgICAgICAgdGhpcy5fc2VjdGlvbiA9IG9wdGlvbnMuc2VjdGlvbjtcbiAgICAgICAgdGhpcy5fZGVmYXVsdHMgPSAoX2EgPSBvcHRpb25zLmRlZmF1bHRzLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30pKTtcbiAgICAgICAgdGhpcy5fY2xhc3NOYW1lID0gKF9iID0gb3B0aW9ucy5jbGFzc05hbWUsIChfYiAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgZGF0YSBmcm9tIHRoZSBjb25maWcgc2VjdGlvbiBvciBmYWxsIGJhY2sgdG8gZGVmYXVsdHMuXG4gICAgICovXG4gICAgZ2V0KGtleSkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuX2NsYXNzRGF0YSgpO1xuICAgICAgICByZXR1cm4ga2V5IGluIGRhdGEgPyBkYXRhW2tleV0gOiB0aGlzLl9kZWZhdWx0c1trZXldO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBjb25maWcgdmFsdWUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9jb25maWcpLlxuICAgICAqXG4gICAgICogVGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIG9uIGEgdmFsaWQgcmVzcG9uc2UgYW5kIHJlamVjdGVkIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIFNlbmRzIHRoZSB1cGRhdGUgdG8gdGhlIHNlcnZlciwgYW5kIGNoYW5nZXMgb3VyIGxvY2FsIGNvcHkgb2YgdGhlIGRhdGFcbiAgICAgKiBpbW1lZGlhdGVseS5cbiAgICAgKi9cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBsZXQgZCA9IHt9O1xuICAgICAgICBkW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2NsYXNzTmFtZSkge1xuICAgICAgICAgICAgbGV0IGQyID0ge307XG4gICAgICAgICAgICBkMlt0aGlzLl9jbGFzc05hbWVdID0gZDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWN0aW9uLnVwZGF0ZShkMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VjdGlvbi51cGRhdGUoZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGRhdGEgZnJvbSB0aGUgU2VjdGlvbiB3aXRoIG91ciBjbGFzc25hbWUsIGlmIGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBJZiB3ZSBoYXZlIG5vIGNsYXNzbmFtZSwgZ2V0IGFsbCBvZiB0aGUgZGF0YSBpbiB0aGUgU2VjdGlvblxuICAgICAqL1xuICAgIF9jbGFzc0RhdGEoKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fc2VjdGlvbi5kYXRhO1xuICAgICAgICBpZiAodGhpcy5fY2xhc3NOYW1lICYmIHRoaXMuX2NsYXNzTmFtZSBpbiBkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVt0aGlzLl9jbGFzc05hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29uZmlnV2l0aERlZmF1bHRzID0gQ29uZmlnV2l0aERlZmF1bHRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbi8qKlxuICogVGhlIGNsYXNzIG5hbWUgYWRkZWQgdG8gYW4gZWRpdG9yIHdpZGdldCB0aGF0IGhhcyBhIHByaW1hcnkgc2VsZWN0aW9uLlxuICovXG5jb25zdCBIQVNfU0VMRUNUSU9OX0NMQVNTID0gJ2pwLW1vZC1oYXMtcHJpbWFyeS1zZWxlY3Rpb24nO1xuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB0byBhbiBlZGl0b3Igd2lkZ2V0IHRoYXQgaGFzIGEgY3Vyc29yL3NlbGVjdGlvblxuICogd2l0aGluIHRoZSB3aGl0ZXNwYWNlIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBsaW5lXG4gKi9cbmNvbnN0IEhBU19JTl9MRUFESU5HX1dISVRFU1BBQ0VfQ0xBU1MgPSAnanAtbW9kLWluLWxlYWRpbmctd2hpdGVzcGFjZSc7XG4vKipcbiAqIEEgY2xhc3MgdXNlZCB0byBpbmRpY2F0ZSBhIGRyb3AgdGFyZ2V0LlxuICovXG5jb25zdCBEUk9QX1RBUkdFVF9DTEFTUyA9ICdqcC1tb2QtZHJvcFRhcmdldCc7XG4vKipcbiAqIFJlZ0V4cCB0byB0ZXN0IGZvciBsZWFkaW5nIHdoaXRlc3BhY2VcbiAqL1xuY29uc3QgbGVhZGluZ1doaXRlc3BhY2VSZSA9IC9eXFxzKyQvO1xuLyoqXG4gKiBBIHdpZGdldCB3aGljaCBob3N0cyBhIGNvZGUgZWRpdG9yLlxuICovXG5leHBvcnQgY2xhc3MgQ29kZUVkaXRvcldyYXBwZXIgZXh0ZW5kcyBXaWRnZXQge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBjb2RlIGVkaXRvciB3aWRnZXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9oYXNSZWZyZXNoZWRTaW5jZUF0dGFjaCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBlZGl0b3IgPSAodGhpcy5lZGl0b3IgPSBvcHRpb25zLmZhY3Rvcnkoe1xuICAgICAgICAgICAgaG9zdDogdGhpcy5ub2RlLFxuICAgICAgICAgICAgbW9kZWw6IG9wdGlvbnMubW9kZWwsXG4gICAgICAgICAgICB1dWlkOiBvcHRpb25zLnV1aWQsXG4gICAgICAgICAgICBjb25maWc6IG9wdGlvbnMuY29uZmlnLFxuICAgICAgICAgICAgc2VsZWN0aW9uU3R5bGU6IG9wdGlvbnMuc2VsZWN0aW9uU3R5bGVcbiAgICAgICAgfSkpO1xuICAgICAgICBlZGl0b3IubW9kZWwuc2VsZWN0aW9ucy5jaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25TZWxlY3Rpb25zQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU9uU2hvdyA9IG9wdGlvbnMudXBkYXRlT25TaG93ICE9PSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb2RlbCB1c2VkIGJ5IHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgZ2V0IG1vZGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0b3IubW9kZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIERPTSBldmVudHMgZm9yIHRoZSB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IHNlbnQgdG8gdGhlIHdpZGdldC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIG1ldGhvZCBpbXBsZW1lbnRzIHRoZSBET00gYEV2ZW50TGlzdGVuZXJgIGludGVyZmFjZSBhbmQgaXNcbiAgICAgKiBjYWxsZWQgaW4gcmVzcG9uc2UgdG8gZXZlbnRzIG9uIHRoZSBub3RlYm9vayBwYW5lbCdzIG5vZGUuIEl0IHNob3VsZFxuICAgICAqIG5vdCBiZSBjYWxsZWQgZGlyZWN0bHkgYnkgdXNlciBjb2RlLlxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnbG0tZHJhZ2VudGVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9ldnREcmFnRW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbG0tZHJhZ2xlYXZlJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9ldnREcmFnTGVhdmUoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbG0tZHJhZ292ZXInOlxuICAgICAgICAgICAgICAgIHRoaXMuX2V2dERyYWdPdmVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xtLWRyb3AnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2V2dERyb3AoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYCdhY3RpdmF0ZS1yZXF1ZXN0J2AgbWVzc2FnZXMuXG4gICAgICovXG4gICAgb25BY3RpdmF0ZVJlcXVlc3QobXNnKSB7XG4gICAgICAgIHRoaXMuZWRpdG9yLmZvY3VzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWVzc2FnZSBoYW5kbGVyIGludm9rZWQgb24gYW4gYCdhZnRlci1hdHRhY2gnYCBtZXNzYWdlLlxuICAgICAqL1xuICAgIG9uQWZ0ZXJBdHRhY2gobXNnKSB7XG4gICAgICAgIHN1cGVyLm9uQWZ0ZXJBdHRhY2gobXNnKTtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGU7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbG0tZHJhZ2VudGVyJywgdGhpcyk7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbG0tZHJhZ2xlYXZlJywgdGhpcyk7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbG0tZHJhZ292ZXInLCB0aGlzKTtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdsbS1kcm9wJywgdGhpcyk7XG4gICAgICAgIC8vIFdlIGhhdmUgdG8gcmVmcmVzaCBhdCBsZWFzdCBvbmNlIGFmdGVyIGF0dGFjaGluZyxcbiAgICAgICAgLy8gd2hpbGUgdmlzaWJsZS5cbiAgICAgICAgdGhpcy5faGFzUmVmcmVzaGVkU2luY2VBdHRhY2ggPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBgYmVmb3JlLWRldGFjaGAgbWVzc2FnZXMgZm9yIHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgb25CZWZvcmVEZXRhY2gobXNnKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5ub2RlO1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xtLWRyYWdlbnRlcicsIHRoaXMpO1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xtLWRyYWdsZWF2ZScsIHRoaXMpO1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xtLWRyYWdvdmVyJywgdGhpcyk7XG4gICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG0tZHJvcCcsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1lc3NhZ2UgaGFuZGxlciBpbnZva2VkIG9uIGFuIGAnYWZ0ZXItc2hvdydgIG1lc3NhZ2UuXG4gICAgICovXG4gICAgb25BZnRlclNob3cobXNnKSB7XG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVPblNob3cgfHwgIXRoaXMuX2hhc1JlZnJlc2hlZFNpbmNlQXR0YWNoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWVzc2FnZSBoYW5kbGVyIGludm9rZWQgb24gYSBgJ3Jlc2l6ZSdgIG1lc3NhZ2UuXG4gICAgICovXG4gICAgb25SZXNpemUobXNnKSB7XG4gICAgICAgIGlmIChtc2cud2lkdGggPj0gMCAmJiBtc2cuaGVpZ2h0ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNldFNpemUobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3IucmVzaXplVG9GaXQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1lc3NhZ2UgaGFuZGxlciBpbnZva2VkIG9uIGFuIGAndXBkYXRlLXJlcXVlc3QnYCBtZXNzYWdlLlxuICAgICAqL1xuICAgIG9uVXBkYXRlUmVxdWVzdChtc2cpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYXNSZWZyZXNoZWRTaW5jZUF0dGFjaCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgY2hhbmdlIGluIG1vZGVsIHNlbGVjdGlvbnMuXG4gICAgICovXG4gICAgX29uU2VsZWN0aW9uc0NoYW5nZWQoKSB7XG4gICAgICAgIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGlmIChzdGFydC5jb2x1bW4gIT09IGVuZC5jb2x1bW4gfHwgc3RhcnQubGluZSAhPT0gZW5kLmxpbmUpIHtcbiAgICAgICAgICAgIC8vIGEgc2VsZWN0aW9uIHdhcyBtYWRlXG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKEhBU19TRUxFQ1RJT05fQ0xBU1MpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyhIQVNfSU5fTEVBRElOR19XSElURVNQQUNFX0NMQVNTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoZSBjdXJzb3Igd2FzIHBsYWNlZFxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyhIQVNfU0VMRUNUSU9OX0NMQVNTKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVkaXRvclxuICAgICAgICAgICAgICAgIC5nZXRMaW5lKGVuZC5saW5lKVxuICAgICAgICAgICAgICAgIC5zbGljZSgwLCBlbmQuY29sdW1uKVxuICAgICAgICAgICAgICAgIC5tYXRjaChsZWFkaW5nV2hpdGVzcGFjZVJlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoSEFTX0lOX0xFQURJTkdfV0hJVEVTUEFDRV9DTEFTUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKEhBU19JTl9MRUFESU5HX1dISVRFU1BBQ0VfQ0xBU1MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgYCdsbS1kcmFnZW50ZXInYCBldmVudCBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBfZXZ0RHJhZ0VudGVyKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRvci5nZXRPcHRpb24oJ3JlYWRPbmx5JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gUHJpdmF0ZS5maW5kVGV4dERhdGEoZXZlbnQubWltZURhdGEpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2pwLW1vZC1kcm9wVGFyZ2V0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgYCdsbS1kcmFnbGVhdmUnYCBldmVudCBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBfZXZ0RHJhZ0xlYXZlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoRFJPUF9UQVJHRVRfQ0xBU1MpO1xuICAgICAgICBpZiAodGhpcy5lZGl0b3IuZ2V0T3B0aW9uKCdyZWFkT25seScpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IFByaXZhdGUuZmluZFRleHREYXRhKGV2ZW50Lm1pbWVEYXRhKTtcbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGAnbG0tZHJhZ292ZXInYCBldmVudCBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBfZXZ0RHJhZ092ZXIoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyhEUk9QX1RBUkdFVF9DTEFTUyk7XG4gICAgICAgIGlmICh0aGlzLmVkaXRvci5nZXRPcHRpb24oJ3JlYWRPbmx5JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gUHJpdmF0ZS5maW5kVGV4dERhdGEoZXZlbnQubWltZURhdGEpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGV2ZW50LmRyb3BBY3Rpb24gPSAnY29weSc7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoRFJPUF9UQVJHRVRfQ0xBU1MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGAnbG0tZHJvcCdgIGV2ZW50IGZvciB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIF9ldnREcm9wKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmVkaXRvci5nZXRPcHRpb24oJ3JlYWRPbmx5JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gUHJpdmF0ZS5maW5kVGV4dERhdGEoZXZlbnQubWltZURhdGEpO1xuICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IHtcbiAgICAgICAgICAgIHRvcDogZXZlbnQueSxcbiAgICAgICAgICAgIGJvdHRvbTogZXZlbnQueSxcbiAgICAgICAgICAgIGxlZnQ6IGV2ZW50LngsXG4gICAgICAgICAgICByaWdodDogZXZlbnQueCxcbiAgICAgICAgICAgIHg6IGV2ZW50LngsXG4gICAgICAgICAgICB5OiBldmVudC55LFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVkaXRvci5nZXRQb3NpdGlvbkZvckNvb3JkaW5hdGUoY29vcmRpbmF0ZSk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoRFJPUF9UQVJHRVRfQ0xBU1MpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKGV2ZW50LnByb3Bvc2VkQWN0aW9uID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGV2ZW50LmRyb3BBY3Rpb24gPSAnbm9uZSc7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5lZGl0b3IuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xuICAgICAgICB0aGlzLm1vZGVsLnZhbHVlLmluc2VydChvZmZzZXQsIGRhdGEpO1xuICAgIH1cbn1cbi8qKlxuICogQSBuYW1lc3BhY2UgZm9yIHByaXZhdGUgZnVuY3Rpb25hbGl0eS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIE1pbWVEYXRhIGluc3RhbmNlLCBleHRyYWN0IHRoZSBmaXJzdCB0ZXh0IGRhdGEsIGlmIGFueS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kVGV4dERhdGEobWltZSkge1xuICAgICAgICBjb25zdCB0eXBlcyA9IG1pbWUudHlwZXMoKTtcbiAgICAgICAgY29uc3QgdGV4dFR5cGUgPSB0eXBlcy5maW5kKHQgPT4gdC5pbmRleE9mKCd0ZXh0JykgPT09IDApO1xuICAgICAgICBpZiAodGV4dFR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWltZS5nZXREYXRhKHRleHRUeXBlKTtcbiAgICB9XG4gICAgUHJpdmF0ZS5maW5kVGV4dERhdGEgPSBmaW5kVGV4dERhdGE7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpZGdldC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XG4gICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBsdW1pbm8vY29yZXV0aWxzXCIpO1xuY29uc3QgcG9sbGluZ18xID0gcmVxdWlyZShcIkBsdW1pbm8vcG9sbGluZ1wiKTtcbmNvbnN0IHNpZ25hbGluZ18xID0gcmVxdWlyZShcIkBsdW1pbm8vc2lnbmFsaW5nXCIpO1xuY29uc3QgcmVzdGFwaSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9yZXN0YXBpXCIpKTtcbmNvbnN0IGJhc2VtYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi4vYmFzZW1hbmFnZXJcIik7XG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIGEga2VybmVsIHNwZWMgbWFuYWdlci5cbiAqL1xuY2xhc3MgS2VybmVsU3BlY01hbmFnZXIgZXh0ZW5kcyBiYXNlbWFuYWdlcl8xLkJhc2VNYW5hZ2VyIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcga2VybmVsIHNwZWMgbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGRlZmF1bHQgb3B0aW9ucyBmb3Iga2VybmVsLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9pc1JlYWR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25GYWlsdXJlID0gbmV3IHNpZ25hbGluZ18xLlNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fc3BlY3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9zcGVjc0NoYW5nZWQgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICAvLyBJbml0aWFsaXplIGludGVybmFsIGRhdGEuXG4gICAgICAgIHRoaXMuX3JlYWR5ID0gUHJvbWlzZS5hbGwoW3RoaXMucmVxdWVzdFNwZWNzKCldKVxuICAgICAgICAgICAgLnRoZW4oXyA9PiB1bmRlZmluZWQpXG4gICAgICAgICAgICAuY2F0Y2goXyA9PiB1bmRlZmluZWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faXNSZWFkeSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9wb2xsU3BlY3MgPSBuZXcgcG9sbGluZ18xLlBvbGwoe1xuICAgICAgICAgICAgYXV0bzogZmFsc2UsXG4gICAgICAgICAgICBmYWN0b3J5OiAoKSA9PiB0aGlzLnJlcXVlc3RTcGVjcygpLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6IDYxICogMTAwMCxcbiAgICAgICAgICAgICAgICBiYWNrb2ZmOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heDogMzAwICogMTAwMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWU6IGBAanVweXRlcmxhYi9zZXJ2aWNlczpLZXJuZWxTcGVjTWFuYWdlciNzcGVjc2AsXG4gICAgICAgICAgICBzdGFuZGJ5OiAoX2EgPSBvcHRpb25zLnN0YW5kYnksIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnd2hlbi1oaWRkZW4nKSlcbiAgICAgICAgfSk7XG4gICAgICAgIHZvaWQgdGhpcy5yZWFkeS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5fcG9sbFNwZWNzLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdGhlIG1hbmFnZXIgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZ2V0IGlzUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1JlYWR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aGVuIHRoZSBtYW5hZ2VyIGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGdldCByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1vc3QgcmVjZW50bHkgZmV0Y2hlZCBrZXJuZWwgc3BlY3MuXG4gICAgICovXG4gICAgZ2V0IHNwZWNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgc3BlY3MgY2hhbmdlLlxuICAgICAqL1xuICAgIGdldCBzcGVjc0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGVjc0NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGVyZSBpcyBhIGNvbm5lY3Rpb24gZmFpbHVyZS5cbiAgICAgKi9cbiAgICBnZXQgY29ubmVjdGlvbkZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uRmFpbHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIHVzZWQgYnkgdGhlIG1hbmFnZXIuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5fcG9sbFNwZWNzLmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3JjZSBhIHJlZnJlc2ggb2YgdGhlIHNwZWNzIGZyb20gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNwZWNzIGFyZSBmZXRjaGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmUgY2FsbGVkIG9ubHkgaW4gcmVzcG9uc2UgdG8gYSB1c2VyIGFjdGlvbixcbiAgICAgKiBzaW5jZSB0aGUgbWFuYWdlciBtYWludGFpbnMgaXRzIGludGVybmFsIHN0YXRlLlxuICAgICAqL1xuICAgIGFzeW5jIHJlZnJlc2hTcGVjcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcG9sbFNwZWNzLnJlZnJlc2goKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fcG9sbFNwZWNzLnRpY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGUgYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdG8gcG9sbCBzcGVjcyBhbmQgdXBkYXRlIHN0YXRlLlxuICAgICAqL1xuICAgIGFzeW5jIHJlcXVlc3RTcGVjcygpIHtcbiAgICAgICAgY29uc3Qgc3BlY3MgPSBhd2FpdCByZXN0YXBpLmdldFNwZWNzKHRoaXMuc2VydmVyU2V0dGluZ3MpO1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb3JldXRpbHNfMS5KU09ORXh0LmRlZXBFcXVhbChzcGVjcywgdGhpcy5fc3BlY3MpKSB7XG4gICAgICAgICAgICB0aGlzLl9zcGVjcyA9IHNwZWNzO1xuICAgICAgICAgICAgdGhpcy5fc3BlY3NDaGFuZ2VkLmVtaXQoc3BlY3MpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5LZXJuZWxTcGVjTWFuYWdlciA9IEtlcm5lbFNwZWNNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuYWdlci5qcy5tYXAiLCIvKiAoaWdub3JlZCkgKi8iLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBzdHlsZSB9IGZyb20gJ3R5cGVzdHlsZS9saWInO1xuZXhwb3J0IGNvbnN0IHByb2dyZXNzQmFySXRlbSA9IHN0eWxlKHtcbiAgICBiYWNrZ3JvdW5kOiAnYmxhY2snLFxuICAgIGhlaWdodDogJzEwcHgnLFxuICAgIHdpZHRoOiAnMTAwcHgnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCBibGFjaycsXG4gICAgYm9yZGVyUmFkaXVzOiAnM3B4JyxcbiAgICBtYXJnaW5MZWZ0OiAnNHB4JyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbidcbn0pO1xuZXhwb3J0IGNvbnN0IGZpbGxlckl0ZW0gPSBzdHlsZSh7XG4gICAgYmFja2dyb3VuZDogJ3ZhcigtLWpwLWJyYW5kLWNvbG9yMiknLFxuICAgIGhlaWdodDogJzEwcHgnXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2dyZXNzQmFyLmpzLm1hcCIsIi8qIChpZ25vcmVkKSAqLyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDIwIDIwJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbiclM0UgJTNDcG9seWdvbiBjbGFzcz0nc3QxJyBwb2ludHM9JzkuOSwxMy42IDMuNiw3LjQgNC40LDYuNiA5LjksMTIuMiAxNS40LDYuNyAxNi4xLDcuNCAnLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjAgMjBcXFwiPlxcblxcdDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCIgc2hhcGUtcmVuZGVyaW5nPVxcXCJnZW9tZXRyaWNQcmVjaXNpb25cXFwiPlxcblxcdFxcdDxwb2x5Z29uIGNsYXNzPVxcXCJzdDFcXFwiIHBvaW50cz1cXFwiOS45LDEzLjYgMy42LDcuNCA0LjQsNi42IDkuOSwxMi4yIDE1LjQsNi43IDE2LjEsNy40IFxcXCIvPlxcblxcdDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHNpZ25hbGluZ18xID0gcmVxdWlyZShcIkBsdW1pbm8vc2lnbmFsaW5nXCIpO1xuY29uc3Qgc2VydmVyY29ubmVjdGlvbl8xID0gcmVxdWlyZShcIi4vc2VydmVyY29ubmVjdGlvblwiKTtcbmNsYXNzIEJhc2VNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuc2VydmVyU2V0dGluZ3MgPSAoX2EgPSBvcHRpb25zLnNlcnZlclNldHRpbmdzLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBkZWxlZ2F0ZSBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgZGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBkZWxlZ2F0ZSBoYXMgYmVlbiBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIGRlbGVnYXRlIGFuZCBpbnZva2UgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXNwb3NlZC5lbWl0KHVuZGVmaW5lZCk7XG4gICAgICAgIHNpZ25hbGluZ18xLlNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5CYXNlTWFuYWdlciA9IEJhc2VNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZW1hbmFnZXIuanMubWFwIiwiLyogKGlnbm9yZWQpICovIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MSclM0UgJTNDcGF0aCBkPSdNMjAuNSAxMUgxOVY3YzAtMS4xLS45LTItMi0yaC00VjMuNUMxMyAyLjEyIDExLjg4IDEgMTAuNSAxUzggMi4xMiA4IDMuNVY1SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJ2My44SDMuNWMxLjQ5IDAgMi43IDEuMjEgMi43IDIuN3MtMS4yMSAyLjctMi43IDIuN0gyVjIwYzAgMS4xLjkgMiAyIDJoMy44di0xLjVjMC0xLjQ5IDEuMjEtMi43IDIuNy0yLjcgMS40OSAwIDIuNyAxLjIxIDIuNyAyLjdWMjJIMTdjMS4xIDAgMi0uOSAyLTJ2LTRoMS41YzEuMzggMCAyLjUtMS4xMiAyLjUtMi41UzIxLjg4IDExIDIwLjUgMTF6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTIwLjUgMTFIMTlWN2MwLTEuMS0uOS0yLTItMmgtNFYzLjVDMTMgMi4xMiAxMS44OCAxIDEwLjUgMVM4IDIuMTIgOCAzLjVWNUg0Yy0xLjEgMC0xLjk5LjktMS45OSAydjMuOEgzLjVjMS40OSAwIDIuNyAxLjIxIDIuNyAyLjdzLTEuMjEgMi43LTIuNyAyLjdIMlYyMGMwIDEuMS45IDIgMiAyaDMuOHYtMS41YzAtMS40OSAxLjIxLTIuNyAyLjctMi43IDEuNDkgMCAyLjcgMS4yMSAyLjcgMi43VjIySDE3YzEuMSAwIDItLjkgMi0ydi00aDEuNWMxLjM4IDAgMi41LTEuMTIgMi41LTIuNVMyMS44OCAxMSAyMC41IDExelxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFNlcnZlckNvbm5lY3Rpb24gfSBmcm9tICdAanVweXRlcmxhYi9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBQcm9taXNlRGVsZWdhdGUgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlRGVsZWdhdGUgfSBmcm9tICdAbHVtaW5vL2Rpc3Bvc2FibGUnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbmltcG9ydCB7IHNob3dEaWFsb2csIFNlc3Npb25Db250ZXh0LCBEaWFsb2csIHNob3dFcnJvck1lc3NhZ2UsIHNlc3Npb25Db250ZXh0RGlhbG9ncyB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbmltcG9ydCB7IFBhdGhFeHQgfSBmcm9tICdAanVweXRlcmxhYi9jb3JldXRpbHMnO1xuaW1wb3J0IHsgUmVuZGVyTWltZVJlZ2lzdHJ5IH0gZnJvbSAnQGp1cHl0ZXJsYWIvcmVuZGVybWltZSc7XG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIGEgZG9jdW1lbnQgY29udGV4dC5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIHR5cGljYWxseSBpbnN0YW50aWF0ZWQgYnkgdGhlIGRvY3VtZW50IG1hbmFnZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgZG9jdW1lbnQgY29udGV4dC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3BhdGggPSAnJztcbiAgICAgICAgdGhpcy5fdXNlQ1JMRiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jb250ZW50c01vZGVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcG9wdWxhdGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlRGVsZWdhdGUoKTtcbiAgICAgICAgdGhpcy5faXNQb3B1bGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNSZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhdGhDaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fZmlsZUNoYW5nZWQgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9zYXZlU3RhdGUgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIGxldCBtYW5hZ2VyID0gKHRoaXMuX21hbmFnZXIgPSBvcHRpb25zLm1hbmFnZXIpO1xuICAgICAgICB0aGlzLl9mYWN0b3J5ID0gb3B0aW9ucy5mYWN0b3J5O1xuICAgICAgICB0aGlzLl9kaWFsb2dzID0gb3B0aW9ucy5zZXNzaW9uRGlhbG9ncyB8fCBzZXNzaW9uQ29udGV4dERpYWxvZ3M7XG4gICAgICAgIHRoaXMuX29wZW5lciA9IG9wdGlvbnMub3BlbmVyIHx8IFByaXZhdGUubm9PcDtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHRoaXMuX21hbmFnZXIuY29udGVudHMubm9ybWFsaXplKG9wdGlvbnMucGF0aCk7XG4gICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IHRoaXMuX21hbmFnZXIuY29udGVudHMubG9jYWxQYXRoKHRoaXMuX3BhdGgpO1xuICAgICAgICBsZXQgbGFuZyA9IHRoaXMuX2ZhY3RvcnkucHJlZmVycmVkTGFuZ3VhZ2UoUGF0aEV4dC5iYXNlbmFtZShsb2NhbFBhdGgpKTtcbiAgICAgICAgbGV0IGRiRmFjdG9yeSA9IG9wdGlvbnMubW9kZWxEQkZhY3Rvcnk7XG4gICAgICAgIGlmIChkYkZhY3RvcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IG1hbmFnZXIuY29udGVudHMubG9jYWxQYXRoKHRoaXMuX3BhdGgpO1xuICAgICAgICAgICAgdGhpcy5fbW9kZWxEQiA9IGRiRmFjdG9yeS5jcmVhdGVOZXcobG9jYWxQYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX21vZGVsID0gdGhpcy5fZmFjdG9yeS5jcmVhdGVOZXcobGFuZywgdGhpcy5fbW9kZWxEQik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tb2RlbCA9IHRoaXMuX2ZhY3RvcnkuY3JlYXRlTmV3KGxhbmcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlYWR5UHJvbWlzZSA9IG1hbmFnZXIucmVhZHkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9wdWxhdGVkUHJvbWlzZS5wcm9taXNlO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGV4dCA9IFBhdGhFeHQuZXh0bmFtZSh0aGlzLl9wYXRoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uQ29udGV4dCA9IG5ldyBTZXNzaW9uQ29udGV4dCh7XG4gICAgICAgICAgICBzZXNzaW9uTWFuYWdlcjogbWFuYWdlci5zZXNzaW9ucyxcbiAgICAgICAgICAgIHNwZWNzTWFuYWdlcjogbWFuYWdlci5rZXJuZWxzcGVjcyxcbiAgICAgICAgICAgIHBhdGg6IHRoaXMuX3BhdGgsXG4gICAgICAgICAgICB0eXBlOiBleHQgPT09ICcuaXB5bmInID8gJ25vdGVib29rJyA6ICdmaWxlJyxcbiAgICAgICAgICAgIG5hbWU6IFBhdGhFeHQuYmFzZW5hbWUobG9jYWxQYXRoKSxcbiAgICAgICAgICAgIGtlcm5lbFByZWZlcmVuY2U6IG9wdGlvbnMua2VybmVsUHJlZmVyZW5jZSB8fCB7IHNob3VsZFN0YXJ0OiBmYWxzZSB9LFxuICAgICAgICAgICAgc2V0QnVzeTogb3B0aW9ucy5zZXRCdXN5XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlc3Npb25Db250ZXh0LnByb3BlcnR5Q2hhbmdlZC5jb25uZWN0KHRoaXMuX29uU2Vzc2lvbkNoYW5nZWQsIHRoaXMpO1xuICAgICAgICBtYW5hZ2VyLmNvbnRlbnRzLmZpbGVDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25GaWxlQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMudXJsUmVzb2x2ZXIgPSBuZXcgUmVuZGVyTWltZVJlZ2lzdHJ5LlVybFJlc29sdmVyKHtcbiAgICAgICAgICAgIHNlc3Npb246IHRoaXMuc2Vzc2lvbkNvbnRleHQsXG4gICAgICAgICAgICBjb250ZW50czogbWFuYWdlci5jb250ZW50c1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBwYXRoIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IHBhdGhDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aENoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgbW9kZWwgaXMgc2F2ZWQgb3IgcmV2ZXJ0ZWQuXG4gICAgICovXG4gICAgZ2V0IGZpbGVDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsZUNoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgb24gdGhlIHN0YXJ0IGFuZCBlbmQgb2YgYSBzYXZpbmcgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGdldCBzYXZlU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYXZlU3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgY29udGV4dCBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgZGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb2RlbCBhc3NvY2lhdGVkIHdpdGggdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGdldCBtb2RlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBwYXRoIGFzc29jaWF0ZWQgd2l0aCB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBsb2NhbCBwYXRoIGFzc29jaWF0ZWQgd2l0aCB0aGUgZG9jdW1lbnQuXG4gICAgICogSWYgdGhlIGRvY3VtZW50IGlzIGluIHRoZSBkZWZhdWx0IG5vdGVib29rIGZpbGUgYnJvd3NlcixcbiAgICAgKiB0aGlzIGlzIHRoZSBzYW1lIGFzIHRoZSBwYXRoLlxuICAgICAqL1xuICAgIGdldCBsb2NhbFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYW5hZ2VyLmNvbnRlbnRzLmxvY2FsUGF0aCh0aGlzLl9wYXRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY29udGVudHMgbW9kZWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGUgY29udGVudHMgbW9kZWwgd2lsbCBiZSBudWxsIHVudGlsIHRoZSBjb250ZXh0IGlzIHBvcHVsYXRlZC5cbiAgICAgKiBJdCB3aWxsIGhhdmUgYW4gIGVtcHR5IGBjb250ZW50c2AgZmllbGQuXG4gICAgICovXG4gICAgZ2V0IGNvbnRlbnRzTW9kZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50c01vZGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1vZGVsIGZhY3RvcnkgbmFtZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBgSUNvbnRleHRgIEFQSS5cbiAgICAgKi9cbiAgICBnZXQgZmFjdG9yeU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGlzcG9zZWQgPyAnJyA6IHRoaXMuX2ZhY3RvcnkubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBjb250ZXh0IGlzIGRpc3Bvc2VkLlxuICAgICAqL1xuICAgIGdldCBpc0Rpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIGNvbnRleHQuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlc3Npb25Db250ZXh0LmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMuX21vZGVsREIpIHtcbiAgICAgICAgICAgIHRoaXMuX21vZGVsREIuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZGVsLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fZGlzcG9zZWQuZW1pdCh2b2lkIDApO1xuICAgICAgICBTaWduYWwuY2xlYXJEYXRhKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250ZXh0IGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGdldCBpc1JlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhlIGNvbnRleHQgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZ2V0IHJlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHlQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlzTmV3IC0gV2hldGhlciBpdCBpcyBhIG5ldyBmaWxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdXBvbiBpbml0aWFsaXphdGlvbi5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKGlzTmV3KSB7XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgICAgdGhpcy5fbW9kZWwuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW9kZWxEQikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsREIuY29ubmVjdGVkLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tb2RlbERCLmlzUHJlcG9wdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21vZGVsLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLl9zYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmV2ZXJ0KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JldmVydCh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXZlIHRoZSBkb2N1bWVudCBjb250ZW50cyB0byBkaXNrLlxuICAgICAqL1xuICAgIHNhdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIGRvY3VtZW50IHRvIGEgZGlmZmVyZW50IHBhdGggY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICAgICAqL1xuICAgIHNhdmVBcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZHlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBQcml2YXRlLmdldFNhdmVQYXRoKHRoaXMuX3BhdGgpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4obmV3UGF0aCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkIHx8ICFuZXdQYXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1BhdGggPT09IHRoaXMuX3BhdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHBhdGggZG9lcyBub3QgZXhpc3QuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlci5yZWFkeVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlci5jb250ZW50cy5nZXQobmV3UGF0aCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF5YmVPdmVyV3JpdGUobmV3UGF0aCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyLnJlc3BvbnNlIHx8IGVyci5yZXNwb25zZS5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9maW5pc2hTYXZlQXMobmV3UGF0aCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvd25sb2FkIGEgZmlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIGZpbGUgdG8gYmUgZG93bmxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBmaWxlIGhhcyBiZWd1blxuICAgICAqICAgZG93bmxvYWRpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZG93bmxvYWQoKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGF3YWl0IHRoaXMuX21hbmFnZXIuY29udGVudHMuZ2V0RG93bmxvYWRVcmwodGhpcy5fcGF0aCk7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBlbGVtZW50LmhyZWYgPSB1cmw7XG4gICAgICAgIGVsZW1lbnQuZG93bmxvYWQgPSAnJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudC5jbGljaygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXZlcnQgdGhlIGRvY3VtZW50IGNvbnRlbnRzIHRvIGRpc2sgY29udGVudHMuXG4gICAgICovXG4gICAgcmV2ZXJ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkeS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXZlcnQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNoZWNrcG9pbnQgZm9yIHRoZSBmaWxlLlxuICAgICAqL1xuICAgIGNyZWF0ZUNoZWNrcG9pbnQoKSB7XG4gICAgICAgIGxldCBjb250ZW50cyA9IHRoaXMuX21hbmFnZXIuY29udGVudHM7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYW5hZ2VyLnJlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzLmNyZWF0ZUNoZWNrcG9pbnQodGhpcy5fcGF0aCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBjaGVja3BvaW50IGZvciB0aGUgZmlsZS5cbiAgICAgKi9cbiAgICBkZWxldGVDaGVja3BvaW50KGNoZWNrcG9pbnRJZCkge1xuICAgICAgICBsZXQgY29udGVudHMgPSB0aGlzLl9tYW5hZ2VyLmNvbnRlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlci5yZWFkeS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50cy5kZWxldGVDaGVja3BvaW50KHRoaXMuX3BhdGgsIGNoZWNrcG9pbnRJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlIHRoZSBmaWxlIHRvIGEga25vd24gY2hlY2twb2ludCBzdGF0ZS5cbiAgICAgKi9cbiAgICByZXN0b3JlQ2hlY2twb2ludChjaGVja3BvaW50SWQpIHtcbiAgICAgICAgbGV0IGNvbnRlbnRzID0gdGhpcy5fbWFuYWdlci5jb250ZW50cztcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLl9wYXRoO1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlci5yZWFkeS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGVja3BvaW50SWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHMucmVzdG9yZUNoZWNrcG9pbnQocGF0aCwgY2hlY2twb2ludElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RDaGVja3BvaW50cygpLnRoZW4oY2hlY2twb2ludHMgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQgfHwgIWNoZWNrcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoZWNrcG9pbnRJZCA9IGNoZWNrcG9pbnRzW2NoZWNrcG9pbnRzLmxlbmd0aCAtIDFdLmlkO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50cy5yZXN0b3JlQ2hlY2twb2ludChwYXRoLCBjaGVja3BvaW50SWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IGF2YWlsYWJsZSBjaGVja3BvaW50cyBmb3IgYSBmaWxlLlxuICAgICAqL1xuICAgIGxpc3RDaGVja3BvaW50cygpIHtcbiAgICAgICAgbGV0IGNvbnRlbnRzID0gdGhpcy5fbWFuYWdlci5jb250ZW50cztcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hbmFnZXIucmVhZHkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY29udGVudHMubGlzdENoZWNrcG9pbnRzKHRoaXMuX3BhdGgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgc2libGluZyB3aWRnZXQgdG8gdGhlIGRvY3VtZW50IG1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2lkZ2V0IC0gVGhlIHdpZGdldCB0byBhZGQgdG8gdGhlIGRvY3VtZW50IG1hbmFnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBkZXNpcmVkIG9wdGlvbnMgZm9yIGFkZGluZyB0aGUgc2libGluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgZGlzcG9zYWJsZSB1c2VkIHRvIHJlbW92ZSB0aGUgc2libGluZyBpZiBkZXNpcmVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgd2lkZ2V0IGhhcyB0aGUgc2FtZSBtb2RlbCBhbmQgY29udGV4dFxuICAgICAqIGFzIHRoZSBvcmlnaW5hbCB3aWRnZXQuXG4gICAgICovXG4gICAgYWRkU2libGluZyh3aWRnZXQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBsZXQgb3BlbmVyID0gdGhpcy5fb3BlbmVyO1xuICAgICAgICBpZiAob3BlbmVyKSB7XG4gICAgICAgICAgICBvcGVuZXIod2lkZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZSgoKSA9PiB7XG4gICAgICAgICAgICB3aWRnZXQuY2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGNoYW5nZSBvbiB0aGUgY29udGVudHMgbWFuYWdlci5cbiAgICAgKi9cbiAgICBfb25GaWxlQ2hhbmdlZChzZW5kZXIsIGNoYW5nZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKGNoYW5nZS50eXBlICE9PSAncmVuYW1lJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbGRQYXRoID0gY2hhbmdlLm9sZFZhbHVlICYmIGNoYW5nZS5vbGRWYWx1ZS5wYXRoO1xuICAgICAgICBsZXQgbmV3UGF0aCA9IGNoYW5nZS5uZXdWYWx1ZSAmJiBjaGFuZ2UubmV3VmFsdWUucGF0aDtcbiAgICAgICAgaWYgKG5ld1BhdGggJiYgdGhpcy5fcGF0aC5pbmRleE9mKG9sZFBhdGggfHwgJycpID09PSAwKSB7XG4gICAgICAgICAgICBsZXQgY2hhbmdlTW9kZWwgPSBjaGFuZ2UubmV3VmFsdWU7XG4gICAgICAgICAgICAvLyBXaGVuIGZvbGRlciBuYW1lIGNoYW5nZWQsIGBvbGRQYXRoYCBpcyBgZm9vYCwgYG5ld1BhdGhgIGlzIGBiYXJgIGFuZCBgdGhpcy5fcGF0aGAgaXMgYGZvby90ZXN0YCxcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZCB1cGRhdGUgYGZvby90ZXN0YCB0byBgYmFyL3Rlc3RgIGFzIHdlbGxcbiAgICAgICAgICAgIGlmIChvbGRQYXRoICE9PSB0aGlzLl9wYXRoKSB7XG4gICAgICAgICAgICAgICAgbmV3UGF0aCA9IHRoaXMuX3BhdGgucmVwbGFjZShuZXcgUmVnRXhwKGBeJHtvbGRQYXRofS9gKSwgYCR7bmV3UGF0aH0vYCk7XG4gICAgICAgICAgICAgICAgb2xkUGF0aCA9IHRoaXMuX3BhdGg7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGNsaWVudCBmaWxlIG1vZGVsIGZyb20gZm9sZGVyIGNoYW5nZVxuICAgICAgICAgICAgICAgIGNoYW5nZU1vZGVsID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXN0X21vZGlmaWVkOiAoX2EgPSBjaGFuZ2UubmV3VmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jcmVhdGVkLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBuZXdQYXRoXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3BhdGggPSBuZXdQYXRoO1xuICAgICAgICAgICAgdm9pZCAoKF9iID0gdGhpcy5zZXNzaW9uQ29udGV4dC5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2V0UGF0aChuZXdQYXRoKSk7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVNb2RlbCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fY29udGVudHNNb2RlbCksIGNoYW5nZU1vZGVsKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IHRoaXMuX21hbmFnZXIuY29udGVudHMubG9jYWxQYXRoKG5ld1BhdGgpO1xuICAgICAgICAgICAgdm9pZCAoKF9jID0gdGhpcy5zZXNzaW9uQ29udGV4dC5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2V0TmFtZShQYXRoRXh0LmJhc2VuYW1lKGxvY2FsUGF0aCkpKTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbnRlbnRzTW9kZWwodXBkYXRlTW9kZWwpO1xuICAgICAgICAgICAgdGhpcy5fcGF0aENoYW5nZWQuZW1pdCh0aGlzLl9wYXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBjaGFuZ2UgdG8gYSBzZXNzaW9uIHByb3BlcnR5LlxuICAgICAqL1xuICAgIF9vblNlc3Npb25DaGFuZ2VkKHNlbmRlciwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSAhPT0gJ3BhdGgnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLnNlc3Npb25Db250ZXh0LnNlc3Npb24ucGF0aDtcbiAgICAgICAgaWYgKHBhdGggIT09IHRoaXMuX3BhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhdGggPSBwYXRoO1xuICAgICAgICAgICAgdGhpcy5fcGF0aENoYW5nZWQuZW1pdChwYXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgb3VyIGNvbnRlbnRzIG1vZGVsLCB3aXRob3V0IHRoZSBjb250ZW50LlxuICAgICAqL1xuICAgIF91cGRhdGVDb250ZW50c01vZGVsKG1vZGVsKSB7XG4gICAgICAgIGxldCBuZXdNb2RlbCA9IHtcbiAgICAgICAgICAgIHBhdGg6IG1vZGVsLnBhdGgsXG4gICAgICAgICAgICBuYW1lOiBtb2RlbC5uYW1lLFxuICAgICAgICAgICAgdHlwZTogbW9kZWwudHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBtb2RlbC53cml0YWJsZSxcbiAgICAgICAgICAgIGNyZWF0ZWQ6IG1vZGVsLmNyZWF0ZWQsXG4gICAgICAgICAgICBsYXN0X21vZGlmaWVkOiBtb2RlbC5sYXN0X21vZGlmaWVkLFxuICAgICAgICAgICAgbWltZXR5cGU6IG1vZGVsLm1pbWV0eXBlLFxuICAgICAgICAgICAgZm9ybWF0OiBtb2RlbC5mb3JtYXRcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG1vZCA9IHRoaXMuX2NvbnRlbnRzTW9kZWwgPyB0aGlzLl9jb250ZW50c01vZGVsLmxhc3RfbW9kaWZpZWQgOiBudWxsO1xuICAgICAgICB0aGlzLl9jb250ZW50c01vZGVsID0gbmV3TW9kZWw7XG4gICAgICAgIGlmICghbW9kIHx8IG5ld01vZGVsLmxhc3RfbW9kaWZpZWQgIT09IG1vZCkge1xuICAgICAgICAgICAgdGhpcy5fZmlsZUNoYW5nZWQuZW1pdChuZXdNb2RlbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFuIGluaXRpYWwgcG9wdWxhdGlvbi5cbiAgICAgKi9cbiAgICBfcG9wdWxhdGUoKSB7XG4gICAgICAgIHRoaXMuX2lzUG9wdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNSZWFkeSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BvcHVsYXRlZFByb21pc2UucmVzb2x2ZSh2b2lkIDApO1xuICAgICAgICAvLyBBZGQgYSBjaGVja3BvaW50IGlmIG5vbmUgZXhpc3RzIGFuZCB0aGUgZmlsZSBpcyB3cml0YWJsZS5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21heWJlQ2hlY2twb2ludChmYWxzZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBrZXJuZWwgcHJlZmVyZW5jZS5cbiAgICAgICAgICAgIGxldCBuYW1lID0gdGhpcy5fbW9kZWwuZGVmYXVsdEtlcm5lbE5hbWUgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25Db250ZXh0Lmtlcm5lbFByZWZlcmVuY2UubmFtZTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNvbnRleHQua2VybmVsUHJlZmVyZW5jZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zZXNzaW9uQ29udGV4dC5rZXJuZWxQcmVmZXJlbmNlKSwgeyBuYW1lLCBsYW5ndWFnZTogdGhpcy5fbW9kZWwuZGVmYXVsdEtlcm5lbExhbmd1YWdlIH0pO1xuICAgICAgICAgICAgLy8gTm90ZTogd2UgZG9uJ3Qgd2FpdCBvbiB0aGUgc2Vzc2lvbiB0byBpbml0aWFsaXplXG4gICAgICAgICAgICAvLyBzbyB0aGF0IHRoZSB1c2VyIGNhbiBiZSBzaG93biB0aGUgY29udGVudCBiZWZvcmVcbiAgICAgICAgICAgIC8vIGFueSBrZXJuZWwgaGFzIHN0YXJ0ZWQuXG4gICAgICAgICAgICB2b2lkIHRoaXMuc2Vzc2lvbkNvbnRleHQuaW5pdGlhbGl6ZSgpLnRoZW4oc2hvdWxkU2VsZWN0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5fZGlhbG9ncy5zZWxlY3RLZXJuZWwodGhpcy5zZXNzaW9uQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXZlIHRoZSBkb2N1bWVudCBjb250ZW50cyB0byBkaXNrLlxuICAgICAqL1xuICAgIF9zYXZlKCkge1xuICAgICAgICB0aGlzLl9zYXZlU3RhdGUuZW1pdCgnc3RhcnRlZCcpO1xuICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLl9tb2RlbDtcbiAgICAgICAgbGV0IGNvbnRlbnQ7XG4gICAgICAgIGlmICh0aGlzLl9mYWN0b3J5LmZpbGVGb3JtYXQgPT09ICdqc29uJykge1xuICAgICAgICAgICAgY29udGVudCA9IG1vZGVsLnRvSlNPTigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGVudCA9IG1vZGVsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fdXNlQ1JMRikge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xcbi9nLCAnXFxyXFxuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLl9mYWN0b3J5LmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgZm9ybWF0OiB0aGlzLl9mYWN0b3J5LmZpbGVGb3JtYXQsXG4gICAgICAgICAgICBjb250ZW50XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9tYW5hZ2VyLnJlYWR5XG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW1vZGVsLm1vZGVsREIuaXNDb2xsYWJvcmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heWJlU2F2ZShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYW5hZ2VyLmNvbnRlbnRzLnNhdmUodGhpcy5fcGF0aCwgb3B0aW9ucyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kZWwuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbnRlbnRzTW9kZWwodmFsdWUpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1BvcHVsYXRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3B1bGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgc2F2ZSBoYXMgYmVlbiBjYW5jZWxlZCBieSB0aGUgdXNlcixcbiAgICAgICAgICAgIC8vIHRocm93IHRoZSBlcnJvciBzbyB0aGF0IHdob2V2ZXIgY2FsbGVkIHNhdmUoKVxuICAgICAgICAgICAgLy8gY2FuIGRlY2lkZSB3aGF0IHRvIGRvLlxuICAgICAgICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnQ2FuY2VsJykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSBzaG93IGFuIGVycm9yIG1lc3NhZ2UgYW5kIHRocm93IHRoZSBlcnJvci5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IHRoaXMuX21hbmFnZXIuY29udGVudHMubG9jYWxQYXRoKHRoaXMuX3BhdGgpO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IFBhdGhFeHQuYmFzZW5hbWUobG9jYWxQYXRoKTtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5faGFuZGxlRXJyb3IoZXJyLCBgRmlsZSBTYXZlIEVycm9yIGZvciAke25hbWV9YCk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICAvLyBDYXB0dXJlIGFsbCBzdWNjZXNzIHBhdGhzIGFuZCBlbWl0IGNvbXBsZXRpb24uXG4gICAgICAgICAgICB0aGlzLl9zYXZlU3RhdGUuZW1pdCgnY29tcGxldGVkJyk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAvLyBDYXB0dXJlIGFsbCBlcnJvciBwYXRocyBhbmQgZW1pdCBmYWlsdXJlLlxuICAgICAgICAgICAgdGhpcy5fc2F2ZVN0YXRlLmVtaXQoJ2ZhaWxlZCcpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXZlcnQgdGhlIGRvY3VtZW50IGNvbnRlbnRzIHRvIGRpc2sgY29udGVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5pdGlhbGl6ZU1vZGVsIC0gY2FsbCB0aGUgbW9kZWwncyBpbml0aWFsaXphdGlvbiBmdW5jdGlvbiBhZnRlclxuICAgICAqIGRlc2VyaWFsaXppbmcgdGhlIGNvbnRlbnQuXG4gICAgICovXG4gICAgX3JldmVydChpbml0aWFsaXplTW9kZWwgPSBmYWxzZSkge1xuICAgICAgICBsZXQgb3B0cyA9IHtcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5fZmFjdG9yeS5maWxlRm9ybWF0LFxuICAgICAgICAgICAgdHlwZTogdGhpcy5fZmFjdG9yeS5jb250ZW50VHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLl9wYXRoO1xuICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLl9tb2RlbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hbmFnZXIucmVhZHlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYW5hZ2VyLmNvbnRlbnRzLmdldChwYXRoLCBvcHRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGNvbnRlbnRzID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjb250ZW50cy5mb3JtYXQgPT09ICdqc29uJykge1xuICAgICAgICAgICAgICAgIG1vZGVsLmZyb21KU09OKGNvbnRlbnRzLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsaXplTW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gY29udGVudHMuY29udGVudDtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGxpbmUgZW5kaW5ncyBpZiBuZWNlc3NhcnksIG1hcmtpbmcgdGhlIGZpbGVcbiAgICAgICAgICAgICAgICAvLyBhcyBkaXJ0eS5cbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5pbmRleE9mKCdcXHInKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXNlQ1JMRiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xcclxcbi9nLCAnXFxuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91c2VDUkxGID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1vZGVsLmZyb21TdHJpbmcoY29udGVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxpemVNb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29udGVudHNNb2RlbChjb250ZW50cyk7XG4gICAgICAgICAgICBtb2RlbC5kaXJ0eSA9IGRpcnR5O1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1BvcHVsYXRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3B1bGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGFzeW5jIChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsUGF0aCA9IHRoaXMuX21hbmFnZXIuY29udGVudHMubG9jYWxQYXRoKHRoaXMuX3BhdGgpO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IFBhdGhFeHQuYmFzZW5hbWUobG9jYWxQYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZXJyLnJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gJ0ludmFsaWQgcmVzcG9uc2U6IDQwMCBiYWQgZm9ybWF0Jykge1xuICAgICAgICAgICAgICAgIGVyciA9IG5ldyBFcnJvcihyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZvaWQgdGhpcy5faGFuZGxlRXJyb3IoZXJyLCBgRmlsZSBMb2FkIEVycm9yIGZvciAke25hbWV9YCk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXZlIGEgZmlsZSwgZGVhbGluZyB3aXRoIGNvbmZsaWN0cy5cbiAgICAgKi9cbiAgICBfbWF5YmVTYXZlKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLl9wYXRoO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGZpbGUgaGFzIG5vdCBjaGFuZ2VkIG9uIGRpc2suXG4gICAgICAgIGxldCBwcm9taXNlID0gdGhpcy5fbWFuYWdlci5jb250ZW50cy5nZXQocGF0aCwgeyBjb250ZW50OiBmYWxzZSB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihtb2RlbCA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignRGlzcG9zZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSB3YW50IHRvIGNoZWNrIGxhc3RfbW9kaWZpZWQgKGRpc2spID4gbGFzdF9tb2RpZmllZCAoY2xpZW50KVxuICAgICAgICAgICAgLy8gKG91ciBsYXN0IHNhdmUpXG4gICAgICAgICAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSBmaWxlc3lzdGVtIHJlcG9ydHMgYW4gaW5jb25zaXN0ZW50IHRpbWUsXG4gICAgICAgICAgICAvLyBzbyB3ZSBhbGxvdyAwLjUgc2Vjb25kcyBkaWZmZXJlbmNlIGJlZm9yZSBjb21wbGFpbmluZy5cbiAgICAgICAgICAgIGxldCBtb2RpZmllZCA9IChfYSA9IHRoaXMuY29udGVudHNNb2RlbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhc3RfbW9kaWZpZWQ7XG4gICAgICAgICAgICBsZXQgdENsaWVudCA9IG1vZGlmaWVkID8gbmV3IERhdGUobW9kaWZpZWQpIDogbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGxldCB0RGlzayA9IG5ldyBEYXRlKG1vZGVsLmxhc3RfbW9kaWZpZWQpO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVkICYmIHREaXNrLmdldFRpbWUoKSAtIHRDbGllbnQuZ2V0VGltZSgpID4gNTAwKSB7XG4gICAgICAgICAgICAgICAgLy8gNTAwIG1zXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVDb25mbGljdCh0Q2xpZW50LCBtb2RlbCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlci5jb250ZW50cy5zYXZlKHBhdGgsIG9wdGlvbnMpO1xuICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgaWYgKGVyci5yZXNwb25zZSAmJiBlcnIucmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlci5jb250ZW50cy5zYXZlKHBhdGgsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgc2F2ZS9sb2FkIGVycm9yIHdpdGggYSBkaWFsb2cuXG4gICAgICovXG4gICAgYXN5bmMgX2hhbmRsZUVycm9yKGVyciwgdGl0bGUpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGEgbW9yZSBzcGVjaWZpYyBlcnJvciBtZXNzYWdlLlxuICAgICAgICBsZXQgZXJyb3IgPSB7IG1lc3NhZ2U6ICcnIH07XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBTZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCBlcnIucmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgbGV0IGJvZHkgPSAnJztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UodGV4dCkubWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlcnJvci5tZXNzYWdlID0gYm9keSB8fCBlcnIubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBzaG93RXJyb3JNZXNzYWdlKHRpdGxlLCBlcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgY2hlY2twb2ludCB0aGUgZmlsZSBpcyB3cml0YWJsZS5cbiAgICAgKi9cbiAgICBfbWF5YmVDaGVja3BvaW50KGZvcmNlKSB7XG4gICAgICAgIGxldCB3cml0YWJsZSA9IHRoaXMuX2NvbnRlbnRzTW9kZWwgJiYgdGhpcy5fY29udGVudHNNb2RlbC53cml0YWJsZTtcbiAgICAgICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodm9pZCAwKTtcbiAgICAgICAgaWYgKCF3cml0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcmNlKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gdGhpcy5jcmVhdGVDaGVja3BvaW50KCkudGhlbiggLyogbm8tb3AgKi8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvbWlzZSA9IHRoaXMubGlzdENoZWNrcG9pbnRzKCkudGhlbihjaGVja3BvaW50cyA9PiB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGUgPSB0aGlzLl9jb250ZW50c01vZGVsICYmIHRoaXMuX2NvbnRlbnRzTW9kZWwud3JpdGFibGU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQgJiYgIWNoZWNrcG9pbnRzLmxlbmd0aCAmJiB3cml0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDaGVja3BvaW50KCkudGhlbiggLyogbm8tb3AgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgYSByZWFkLW9ubHkgZm9sZGVyLlxuICAgICAgICAgICAgaWYgKCFlcnIucmVzcG9uc2UgfHwgZXJyLnJlc3BvbnNlLnN0YXR1cyAhPT0gNDAzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgdGltZSBjb25mbGljdC5cbiAgICAgKi9cbiAgICBfdGltZUNvbmZsaWN0KHRDbGllbnQsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCB0RGlzayA9IG5ldyBEYXRlKG1vZGVsLmxhc3RfbW9kaWZpZWQpO1xuICAgICAgICBjb25zb2xlLndhcm4oYExhc3Qgc2F2aW5nIHBlcmZvcm1lZCAke3RDbGllbnR9IGAgK1xuICAgICAgICAgICAgYHdoaWxlIHRoZSBjdXJyZW50IGZpbGUgc2VlbXMgdG8gaGF2ZSBiZWVuIHNhdmVkIGAgK1xuICAgICAgICAgICAgYCR7dERpc2t9YCk7XG4gICAgICAgIGxldCBib2R5ID0gYFwiJHt0aGlzLnBhdGh9XCIgaGFzIGNoYW5nZWQgb24gZGlzayBzaW5jZSB0aGUgbGFzdCB0aW1lIGl0IGAgK1xuICAgICAgICAgICAgYHdhcyBvcGVuZWQgb3Igc2F2ZWQuIGAgK1xuICAgICAgICAgICAgYERvIHlvdSB3YW50IHRvIG92ZXJ3cml0ZSB0aGUgZmlsZSBvbiBkaXNrIHdpdGggdGhlIHZlcnNpb24gYCArXG4gICAgICAgICAgICBgIG9wZW4gaGVyZSwgb3IgbG9hZCB0aGUgdmVyc2lvbiBvbiBkaXNrIChyZXZlcnQpP2A7XG4gICAgICAgIGxldCByZXZlcnRCdG4gPSBEaWFsb2cub2tCdXR0b24oeyBsYWJlbDogJ1JldmVydCcgfSk7XG4gICAgICAgIGxldCBvdmVyd3JpdGVCdG4gPSBEaWFsb2cud2FybkJ1dHRvbih7IGxhYmVsOiAnT3ZlcndyaXRlJyB9KTtcbiAgICAgICAgcmV0dXJuIHNob3dEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6ICdGaWxlIENoYW5nZWQnLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtEaWFsb2cuY2FuY2VsQnV0dG9uKCksIHJldmVydEJ0biwgb3ZlcndyaXRlQnRuXVxuICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignRGlzcG9zZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmJ1dHRvbi5sYWJlbCA9PT0gJ092ZXJ3cml0ZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlci5jb250ZW50cy5zYXZlKHRoaXMuX3BhdGgsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5idXR0b24ubGFiZWwgPT09ICdSZXZlcnQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJ0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0NhbmNlbCcpKTsgLy8gT3RoZXJ3aXNlIGNhbmNlbCB0aGUgc2F2ZS5cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIHRpbWUgY29uZmxpY3QuXG4gICAgICovXG4gICAgX21heWJlT3ZlcldyaXRlKHBhdGgpIHtcbiAgICAgICAgbGV0IGJvZHkgPSBgXCIke3BhdGh9XCIgYWxyZWFkeSBleGlzdHMuIERvIHlvdSB3YW50IHRvIHJlcGxhY2UgaXQ/YDtcbiAgICAgICAgbGV0IG92ZXJ3cml0ZUJ0biA9IERpYWxvZy53YXJuQnV0dG9uKHsgbGFiZWw6ICdPdmVyd3JpdGUnIH0pO1xuICAgICAgICByZXR1cm4gc2hvd0RpYWxvZyh7XG4gICAgICAgICAgICB0aXRsZTogJ0ZpbGUgT3ZlcndyaXRlPycsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgYnV0dG9uczogW0RpYWxvZy5jYW5jZWxCdXR0b24oKSwgb3ZlcndyaXRlQnRuXVxuICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignRGlzcG9zZWQnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmJ1dHRvbi5sYWJlbCA9PT0gJ092ZXJ3cml0ZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlci5jb250ZW50cy5kZWxldGUocGF0aCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9maW5pc2hTYXZlQXMocGF0aCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5pc2ggYSBzYXZlQXMgb3BlcmF0aW9uIGdpdmVuIGEgbmV3IHBhdGguXG4gICAgICovXG4gICAgYXN5bmMgX2ZpbmlzaFNhdmVBcyhuZXdQYXRoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IG5ld1BhdGg7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnNlc3Npb25Db250ZXh0LnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRQYXRoKG5ld1BhdGgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdm9pZCAoKF9hID0gdGhpcy5zZXNzaW9uQ29udGV4dC5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TmFtZShuZXdQYXRoLnNwbGl0KCcvJykucG9wKCkpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNhdmUoKTtcbiAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wYXRoQ2hhbmdlZC5lbWl0KHRoaXMuX3BhdGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heWJlQ2hlY2twb2ludCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBmaWxlIHBhdGggZnJvbSB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRTYXZlUGF0aChwYXRoKSB7XG4gICAgICAgIGxldCBzYXZlQnRuID0gRGlhbG9nLm9rQnV0dG9uKHsgbGFiZWw6ICdTYXZlJyB9KTtcbiAgICAgICAgcmV0dXJuIHNob3dEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6ICdTYXZlIEZpbGUgQXMuLicsXG4gICAgICAgICAgICBib2R5OiBuZXcgU2F2ZVdpZGdldChwYXRoKSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtEaWFsb2cuY2FuY2VsQnV0dG9uKCksIHNhdmVCdG5dXG4gICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuYnV0dG9uLmxhYmVsID09PSAnU2F2ZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2EgPSByZXN1bHQudmFsdWUsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgUHJpdmF0ZS5nZXRTYXZlUGF0aCA9IGdldFNhdmVQYXRoO1xuICAgIC8qKlxuICAgICAqIEEgbm8tb3AgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9PcCgpIHtcbiAgICAgICAgLyogbm8tb3AgKi9cbiAgICB9XG4gICAgUHJpdmF0ZS5ub09wID0gbm9PcDtcbiAgICAvKlxuICAgICAqIEEgd2lkZ2V0IHRoYXQgZ2V0cyBhIGZpbGUgcGF0aCBmcm9tIGEgdXNlci5cbiAgICAgKi9cbiAgICBjbGFzcyBTYXZlV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0cnVjdCBhIG5ldyBzYXZlIHdpZGdldC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKHBhdGgpIHtcbiAgICAgICAgICAgIHN1cGVyKHsgbm9kZTogY3JlYXRlU2F2ZU5vZGUocGF0aCkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgdmFsdWUgZm9yIHRoZSB3aWRnZXQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGUudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBub2RlIGZvciBhIHNhdmUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVNhdmVOb2RlKHBhdGgpIHtcbiAgICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQudmFsdWUgPSBwYXRoO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XG4gICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIE5hbWVzcGFjZSBzb21lIG9mIG91ciBtb2R1bGVzIGZvciBjb252ZW5pZW5jZSBhbmQgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG5jb25zdCBLZXJuZWwgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4va2VybmVsXCIpKTtcbmV4cG9ydHMuS2VybmVsID0gS2VybmVsO1xuY29uc3QgS2VybmVsTWVzc2FnZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9tZXNzYWdlc1wiKSk7XG5leHBvcnRzLktlcm5lbE1lc3NhZ2UgPSBLZXJuZWxNZXNzYWdlO1xuY29uc3QgS2VybmVsQVBJID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3Jlc3RhcGlcIikpO1xuZXhwb3J0cy5LZXJuZWxBUEkgPSBLZXJuZWxBUEk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9tYW5hZ2VyXCIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMjIgMjInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyOycgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyBjbGFzcz0nanAtaWNvbi1icmFuZDAganAtaWNvbi1zZWxlY3RhYmxlJyBmaWxsPSclMjMwRDQ3QTEnICUzRSAlM0NwYXRoIGQ9J00xMS4xLDYuOWMwLTAuMiwwLTEuMSwwLTEuMWMtMS40LDAtMy41LDAtNC4yLDBjMC0wLjUsMC0xLjMsMC4yLTEuNmMwLjQtMC43LDAuOC0xLjEsMS43LTEuNCBjMS43LTAuMywyLjUtMC4zLDMuOS0wLjFjMSwwLjEsMS45LDAuOSwxLjksMS45YzAsMS4xLDAsMywwLDQuMmMwLDAuNS0wLjksMS42LTIsMS42cy0yLjUsMC0zLjgsMGMtMS41LDAtMi40LDEuNC0yLjQsMi44IGMwLDAuNCwwLDIuMiwwLDIuMmMtMC41LDAtMS4yLDAtMS43LDBDMy41LDE1LjEsMywxNCwzLDEzLjFjMC0xLjMsMC0yLjcsMC00LjFDMi45LDgsMy42LDcsNC44LDdDNi4zLDYuOSwxMS4xLDYuOSwxMS4xLDYuOXonLyUzRSAlM0NwYXRoIGQ9J00xMC45LDE1LjFjMCwwLjIsMCwxLjEsMCwxLjFjMS40LDAsMy41LDAsNC4yLDBjMCwwLjUsMCwxLjMtMC4yLDEuNmMtMC40LDAuNy0wLjgsMS4xLTEuNywxLjQgYy0xLjcsMC4zLTIuNSwwLjMtMy45LDAuMWMtMS0wLjEtMS45LTAuOS0xLjktMS45YzAtMS4xLDAtMywwLTQuMmMwLTAuNSwwLjktMS42LDItMS42czIuNSwwLDMuOCwwYzEuNSwwLDIuNC0xLjQsMi40LTIuOCBjMC0wLjQsMC0yLjIsMC0yLjJjMC41LDAsMS4yLDAsMS43LDBDMTguNSw2LjksMTksOCwxOSw4LjljMCwxLjMsMCwyLjcsMCw0LjFjMCwxLTAuNywyLjEtMS45LDIuMSBDMTUuNywxNS4xLDEwLjksMTUuMSwxMC45LDE1LjF6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHZlcnNpb249XFxcIjEuMVxcXCIgaWQ9XFxcIkxheWVyXzFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHg9XFxcIjBweFxcXCIgeT1cXFwiMHB4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjIgMjJcXFwiIHN0eWxlPVxcXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyO1xcXCIgeG1sOnNwYWNlPVxcXCJwcmVzZXJ2ZVxcXCI+XFxuXFx0PGdcXG5cXHRcXHRjbGFzcz1cXFwianAtaWNvbi1icmFuZDAganAtaWNvbi1zZWxlY3RhYmxlXFxcIlxcblxcdFxcdGZpbGw9XFxcIiMwRDQ3QTFcXFwiXFxuXFx0PlxcblxcdFxcdDxwYXRoIGQ9XFxcIk0xMS4xLDYuOWMwLTAuMiwwLTEuMSwwLTEuMWMtMS40LDAtMy41LDAtNC4yLDBjMC0wLjUsMC0xLjMsMC4yLTEuNmMwLjQtMC43LDAuOC0xLjEsMS43LTEuNCBjMS43LTAuMywyLjUtMC4zLDMuOS0wLjFjMSwwLjEsMS45LDAuOSwxLjksMS45YzAsMS4xLDAsMywwLDQuMmMwLDAuNS0wLjksMS42LTIsMS42cy0yLjUsMC0zLjgsMGMtMS41LDAtMi40LDEuNC0yLjQsMi44IGMwLDAuNCwwLDIuMiwwLDIuMmMtMC41LDAtMS4yLDAtMS43LDBDMy41LDE1LjEsMywxNCwzLDEzLjFjMC0xLjMsMC0yLjcsMC00LjFDMi45LDgsMy42LDcsNC44LDdDNi4zLDYuOSwxMS4xLDYuOSwxMS4xLDYuOXpcXFwiLz5cXG5cXHRcXHQ8cGF0aCBkPVxcXCJNMTAuOSwxNS4xYzAsMC4yLDAsMS4xLDAsMS4xYzEuNCwwLDMuNSwwLDQuMiwwYzAsMC41LDAsMS4zLTAuMiwxLjZjLTAuNCwwLjctMC44LDEuMS0xLjcsMS40IGMtMS43LDAuMy0yLjUsMC4zLTMuOSwwLjFjLTEtMC4xLTEuOS0wLjktMS45LTEuOWMwLTEuMSwwLTMsMC00LjJjMC0wLjUsMC45LTEuNiwyLTEuNnMyLjUsMCwzLjgsMGMxLjUsMCwyLjQtMS40LDIuNC0yLjggYzAtMC40LDAtMi4yLDAtMi4yYzAuNSwwLDEuMiwwLDEuNywwQzE4LjUsNi45LDE5LDgsMTksOC45YzAsMS4zLDAsMi43LDAsNC4xYzAsMS0wLjcsMi4xLTEuOSwyLjEgQzE1LjcsMTUuMSwxMC45LDE1LjEsMTAuOSwxNS4xelxcXCIvPlxcblxcdDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2ZXJzaW9uPScxLjEnIGlkPSdMYXllcl8xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMCAwIDIyIDIyJyBzdHlsZT0nZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMiAyMjsnIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ3JlY3QgY2xhc3M9J2pwLWljb24tYnJhbmQ0IGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlJyBmaWxsPSclMjNGRkZGRkYnIHg9JzIuMicgeT0nMi4yJyB3aWR0aD0nMTcuNScgaGVpZ2h0PScxNy41JyAvJTNFICUzQ3BhdGggY2xhc3M9J2pwLWljb24tYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZScgZmlsbD0nJTIzM0Y1MUI1JyBkPSdNMi4yLDIuMnYxNy41aDE3LjVsMC4xLTE3LjVDMTkuOCwyLjIsMi4yLDIuMiwyLjIsMi4yeiBNMTQuMyw0LjRjMS4yLDAsMi4yLDEsMi4yLDIuMnMtMSwyLjItMi4yLDIuMiBzLTIuMi0xLTIuMi0yLjJTMTMuMSw0LjQsMTQuMyw0LjR6IE00LjQsMTcuNmwzLjMtOC44bDMuMyw2LjZsMi4yLTMuMmw0LjQsNS40SDQuNHonIC8lM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHZlcnNpb249XFxcIjEuMVxcXCIgaWQ9XFxcIkxheWVyXzFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHg9XFxcIjBweFxcXCIgeT1cXFwiMHB4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjIgMjJcXFwiIHN0eWxlPVxcXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyO1xcXCIgeG1sOnNwYWNlPVxcXCJwcmVzZXJ2ZVxcXCI+XFxuXFx0PHJlY3RcXG5cXHRcXHRjbGFzcz1cXFwianAtaWNvbi1icmFuZDQganAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2VcXFwiXFxuXFx0XFx0ZmlsbD1cXFwiI0ZGRkZGRlxcXCJcXG5cXHRcXHR4PVxcXCIyLjJcXFwiIHk9XFxcIjIuMlxcXCIgd2lkdGg9XFxcIjE3LjVcXFwiIGhlaWdodD1cXFwiMTcuNVxcXCJcXG5cXHQvPlxcblxcdDxwYXRoXFxuXFx0XFx0Y2xhc3M9XFxcImpwLWljb24tYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZVxcXCJcXG5cXHRcXHRmaWxsPVxcXCIjM0Y1MUI1XFxcIlxcblxcdFxcdGQ9XFxcIk0yLjIsMi4ydjE3LjVoMTcuNWwwLjEtMTcuNUMxOS44LDIuMiwyLjIsMi4yLDIuMiwyLjJ6IE0xNC4zLDQuNGMxLjIsMCwyLjIsMSwyLjIsMi4ycy0xLDIuMi0yLjIsMi4yIHMtMi4yLTEtMi4yLTIuMlMxMy4xLDQuNCwxNC4zLDQuNHogTTQuNCwxNy42bDMuMy04LjhsMy4zLDYuNmwyLjItMy4ybDQuNCw1LjRINC40elxcXCJcXG5cXHQvPlxcbjwvc3ZnPlxcblwiOyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IGNhcmV0RG93bkVtcHR5SWNvbiB9IGZyb20gJ0BqdXB5dGVybGFiL3VpLWNvbXBvbmVudHMnO1xuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3Igbm9kZSBzdHlsaW5nLlxuICovXG5leHBvcnQgdmFyIFN0eWxpbmc7XG4oZnVuY3Rpb24gKFN0eWxpbmcpIHtcbiAgICAvKipcbiAgICAgKiBTdHlsZSBhIG5vZGUgYW5kIGl0cyBjaGlsZCBlbGVtZW50cyB3aXRoIHRoZSBkZWZhdWx0IHRhZyBuYW1lcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIC0gVGhlIGJhc2Ugbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjbGFzc05hbWUgLSBUaGUgb3B0aW9uYWwgQ1NTIGNsYXNzIHRvIGFkZCB0byBzdHlsZWQgbm9kZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R5bGVOb2RlKG5vZGUsIGNsYXNzTmFtZSA9ICcnKSB7XG4gICAgICAgIHN0eWxlTm9kZUJ5VGFnKG5vZGUsICdzZWxlY3QnLCBjbGFzc05hbWUpO1xuICAgICAgICBzdHlsZU5vZGVCeVRhZyhub2RlLCAndGV4dGFyZWEnLCBjbGFzc05hbWUpO1xuICAgICAgICBzdHlsZU5vZGVCeVRhZyhub2RlLCAnaW5wdXQnLCBjbGFzc05hbWUpO1xuICAgICAgICBzdHlsZU5vZGVCeVRhZyhub2RlLCAnYnV0dG9uJywgY2xhc3NOYW1lKTtcbiAgICB9XG4gICAgU3R5bGluZy5zdHlsZU5vZGUgPSBzdHlsZU5vZGU7XG4gICAgLyoqXG4gICAgICogU3R5bGUgYSBub2RlIGFuZCBpdHMgZWxlbWVudHMgdGhhdCBoYXZlIGEgZ2l2ZW4gdGFnIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZSAtIFRoZSBiYXNlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFnTmFtZSAtIFRoZSBodG1sIHRhZyBuYW1lIHRvIHN0eWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZSAtIFRoZSBvcHRpb25hbCBDU1MgY2xhc3MgdG8gYWRkIHRvIHN0eWxlZCBub2Rlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHlsZU5vZGVCeVRhZyhub2RlLCB0YWdOYW1lLCBjbGFzc05hbWUgPSAnJykge1xuICAgICAgICBpZiAobm9kZS5sb2NhbE5hbWUgPT09IHRhZ05hbWUpIHtcbiAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnanAtbW9kLXN0eWxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICAgIHdyYXBTZWxlY3Qobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5vZGVzID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gbm9kZXNbaV07XG4gICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCdqcC1tb2Qtc3R5bGVkJyk7XG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgICAgICAgICAgd3JhcFNlbGVjdChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3R5bGluZy5zdHlsZU5vZGVCeVRhZyA9IHN0eWxlTm9kZUJ5VGFnO1xuICAgIC8qKlxuICAgICAqIFdyYXAgYSBzZWxlY3Qgbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwU2VsZWN0KG5vZGUpIHtcbiAgICAgICAgbGV0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdqcC1zZWxlY3Qtd3JhcHBlcicpO1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgUHJpdmF0ZS5vbkZvY3VzKTtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgUHJpdmF0ZS5vbkZvY3VzKTtcbiAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdqcC1tb2Qtc3R5bGVkJyk7XG4gICAgICAgIGlmIChub2RlLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIG5vZGUucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQod3JhcHBlciwgbm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgLy8gYWRkIHRoZSBpY29uIG5vZGVcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChjYXJldERvd25FbXB0eUljb24uZWxlbWVudCh7XG4gICAgICAgICAgICB0YWc6ICdzcGFuJyxcbiAgICAgICAgICAgIGtpbmQ6ICdzZWxlY3QnLFxuICAgICAgICAgICAgcmlnaHQ6ICcxNXB4JyxcbiAgICAgICAgICAgIHRvcDogJzIzcHgnLFxuICAgICAgICAgICAgd2lkdGg6ICcxOHB4J1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cbiAgICBTdHlsaW5nLndyYXBTZWxlY3QgPSB3cmFwU2VsZWN0O1xufSkoU3R5bGluZyB8fCAoU3R5bGluZyA9IHt9KSk7XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIG1vZHVsZSBwcml2YXRlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgZm9jdXMgZXZlbnQgb24gYSBzdHlsZWQgc2VsZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgbGV0IHBhcmVudCA9IHRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnZm9jdXMnKSB7XG4gICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnanAtbW9kLWZvY3VzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCdqcC1tb2QtZm9jdXNlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUub25Gb2N1cyA9IG9uRm9jdXM7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxpbmcuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBub2RlLWZldGNoOyIsIi8qIChpZ25vcmVkKSAqLyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFBhZ2VDb25maWcgfSBmcm9tICdAanVweXRlcmxhYi9jb3JldXRpbHMnO1xuaW1wb3J0IHsgQmFzZTY0TW9kZWxGYWN0b3J5IH0gZnJvbSAnQGp1cHl0ZXJsYWIvZG9jcmVnaXN0cnknO1xuaW1wb3J0IHsgVG9rZW4gfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBKdXB5dGVyRnJvbnRFbmQgfSBmcm9tICcuL2Zyb250ZW5kJztcbmltcG9ydCB7IGNyZWF0ZVJlbmRlcm1pbWVQbHVnaW5zIH0gZnJvbSAnLi9taW1lcmVuZGVyZXJzJztcbmltcG9ydCB7IExhYlNoZWxsIH0gZnJvbSAnLi9zaGVsbCc7XG5pbXBvcnQgeyBMYWJTdGF0dXMgfSBmcm9tICcuL3N0YXR1cyc7XG4vKipcbiAqIEp1cHl0ZXJMYWIgaXMgdGhlIG1haW4gYXBwbGljYXRpb24gY2xhc3MuIEl0IGlzIGluc3RhbnRpYXRlZCBvbmNlIGFuZCBzaGFyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBKdXB5dGVyTGFiIGV4dGVuZHMgSnVweXRlckZyb250RW5kIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgSnVweXRlckxhYiBvYmplY3QuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHsgc2hlbGw6IG5ldyBMYWJTaGVsbCgpIH0pIHtcbiAgICAgICAgc3VwZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBzaGVsbDogb3B0aW9ucy5zaGVsbCB8fCBuZXcgTGFiU2hlbGwoKSB9KSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgSnVweXRlckxhYiBhcHBsaWNhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IFBhZ2VDb25maWcuZ2V0T3B0aW9uKCdhcHBOYW1lJykgfHwgJ0p1cHl0ZXJMYWInO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBuYW1lc3BhY2UvcHJlZml4IHBsdWdpbnMgbWF5IHVzZSB0byBkZW5vdGUgdGhlaXIgcHJvdmVuYW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2FwcE5hbWVzcGFjZScpIHx8IHRoaXMubmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBhbGwgZXJyb3JzIGVuY291bnRlcmVkIHdoZW4gcmVnaXN0ZXJpbmcgcGx1Z2lucy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVnaXN0ZXJQbHVnaW5FcnJvcnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcHBsaWNhdGlvbiBidXN5IGFuZCBkaXJ0eSBzdGF0dXMgc2lnbmFscyBhbmQgZmxhZ3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXR1cyA9IG5ldyBMYWJTdGF0dXModGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmVyc2lvbiBvZiB0aGUgSnVweXRlckxhYiBhcHBsaWNhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IFBhZ2VDb25maWcuZ2V0T3B0aW9uKCdhcHBWZXJzaW9uJykgfHwgJ3Vua25vd24nO1xuICAgICAgICB0aGlzLnJlc3RvcmVkID0gdGhpcy5zaGVsbC5yZXN0b3JlZFxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdW5kZWZpbmVkKVxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgICAgIC8vIENyZWF0ZSBhbiBJSW5mbyBkaWN0aW9uYXJ5IGZyb20gdGhlIG9wdGlvbnMgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAgICBjb25zdCBpbmZvID0gT2JqZWN0LmtleXMoSnVweXRlckxhYi5kZWZhdWx0SW5mbykucmVkdWNlKChhY2MsIHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbCBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgYWNjW3ZhbF0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9wdGlvbnNbdmFsXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICAvLyBQb3B1bGF0ZSBhcHBsaWNhdGlvbiBpbmZvLlxuICAgICAgICB0aGlzLl9pbmZvID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBKdXB5dGVyTGFiLmRlZmF1bHRJbmZvKSwgaW5mbyk7XG4gICAgICAgIC8vIFBvcHVsYXRlIGFwcGxpY2F0aW9uIHBhdGhzIG92ZXJyaWRlIHRoZSBkZWZhdWx0cyBpZiBuZWNlc3NhcnkuXG4gICAgICAgIGNvbnN0IGRlZmF1bHRVUkxzID0gSnVweXRlckxhYi5kZWZhdWx0UGF0aHMudXJscztcbiAgICAgICAgY29uc3QgZGVmYXVsdERpcnMgPSBKdXB5dGVyTGFiLmRlZmF1bHRQYXRocy5kaXJlY3RvcmllcztcbiAgICAgICAgY29uc3Qgb3B0aW9uVVJMcyA9IChvcHRpb25zLnBhdGhzICYmIG9wdGlvbnMucGF0aHMudXJscykgfHwge307XG4gICAgICAgIGNvbnN0IG9wdGlvbkRpcnMgPSAob3B0aW9ucy5wYXRocyAmJiBvcHRpb25zLnBhdGhzLmRpcmVjdG9yaWVzKSB8fCB7fTtcbiAgICAgICAgdGhpcy5fcGF0aHMgPSB7XG4gICAgICAgICAgICB1cmxzOiBPYmplY3Qua2V5cyhkZWZhdWx0VVJMcykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gb3B0aW9uVVJMcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvblVSTHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY1trZXldID0gZGVmYXVsdFVSTHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgIGRpcmVjdG9yaWVzOiBPYmplY3Qua2V5cyhKdXB5dGVyTGFiLmRlZmF1bHRQYXRocy5kaXJlY3RvcmllcykucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gb3B0aW9uRGlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbkRpcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY1trZXldID0gZGVmYXVsdERpcnNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5faW5mby5kZXZNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnNoZWxsLmFkZENsYXNzKCdqcC1tb2QtZGV2TW9kZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBpbml0aWFsIG1vZGVsIGZhY3RvcnkuXG4gICAgICAgIHRoaXMuZG9jUmVnaXN0cnkuYWRkTW9kZWxGYWN0b3J5KG5ldyBCYXNlNjRNb2RlbEZhY3RvcnkoKSk7XG4gICAgICAgIGlmIChvcHRpb25zLm1pbWVFeHRlbnNpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgY3JlYXRlUmVuZGVybWltZVBsdWdpbnMob3B0aW9ucy5taW1lRXh0ZW5zaW9ucykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyUGx1Z2luKHBsdWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIEp1cHl0ZXJMYWIgYXBwbGljYXRpb24gaW5mb3JtYXRpb24gZGljdGlvbmFyeS5cbiAgICAgKi9cbiAgICBnZXQgaW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZm87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBKdXB5dGVyTGFiIGFwcGxpY2F0aW9uIHBhdGhzIGRpY3Rpb25hcnkuXG4gICAgICovXG4gICAgZ2V0IHBhdGhzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHBsdWdpbnMgZnJvbSBhIHBsdWdpbiBtb2R1bGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbW9kIC0gVGhlIHBsdWdpbiBtb2R1bGUgdG8gcmVnaXN0ZXIuXG4gICAgICovXG4gICAgcmVnaXN0ZXJQbHVnaW5Nb2R1bGUobW9kKSB7XG4gICAgICAgIGxldCBkYXRhID0gbW9kLmRlZmF1bHQ7XG4gICAgICAgIC8vIEhhbmRsZSBjb21tb25qcyBleHBvcnRzLlxuICAgICAgICBpZiAoIW1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICAgICAgICBkYXRhID0gbW9kO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IFtkYXRhXTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJQbHVnaW4oaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyUGx1Z2luRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgdGhlIHBsdWdpbnMgZnJvbSBtdWx0aXBsZSBwbHVnaW4gbW9kdWxlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtb2RzIC0gVGhlIHBsdWdpbiBtb2R1bGVzIHRvIHJlZ2lzdGVyLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyUGx1Z2luTW9kdWxlcyhtb2RzKSB7XG4gICAgICAgIG1vZHMuZm9yRWFjaChtb2QgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclBsdWdpbk1vZHVsZShtb2QpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIGBKdXB5dGVyTGFiYCBjbGFzcyBzdGF0aWNzLlxuICovXG4oZnVuY3Rpb24gKEp1cHl0ZXJMYWIpIHtcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuICAgIC8qKlxuICAgICAqIFRoZSBsYXlvdXQgcmVzdG9yZXIgdG9rZW4uXG4gICAgICovXG4gICAgSnVweXRlckxhYi5JSW5mbyA9IG5ldyBUb2tlbignQGp1cHl0ZXJsYWIvYXBwbGljYXRpb246SUluZm8nKTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBKdXB5dGVyTGFiIGFwcGxpY2F0aW9uIGluZm8uXG4gICAgICovXG4gICAgSnVweXRlckxhYi5kZWZhdWx0SW5mbyA9IHtcbiAgICAgICAgZGV2TW9kZTogUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2Rldk1vZGUnKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScsXG4gICAgICAgIGRlZmVycmVkOiB7IHBhdHRlcm5zOiBbXSwgbWF0Y2hlczogW10gfSxcbiAgICAgICAgZGlzYWJsZWQ6IHsgcGF0dGVybnM6IFtdLCBtYXRjaGVzOiBbXSB9LFxuICAgICAgICBtaW1lRXh0ZW5zaW9uczogW10sXG4gICAgICAgIGZpbGVzQ2FjaGVkOiBQYWdlQ29uZmlnLmdldE9wdGlvbignY2FjaGVGaWxlcycpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJ1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgSnVweXRlckxhYiBhcHBsaWNhdGlvbiBwYXRocy5cbiAgICAgKi9cbiAgICBKdXB5dGVyTGFiLmRlZmF1bHRQYXRocyA9IHtcbiAgICAgICAgdXJsczoge1xuICAgICAgICAgICAgYmFzZTogUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2Jhc2VVcmwnKSxcbiAgICAgICAgICAgIG5vdEZvdW5kOiBQYWdlQ29uZmlnLmdldE9wdGlvbignbm90Rm91bmRVcmwnKSxcbiAgICAgICAgICAgIGFwcDogUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2FwcFVybCcpLFxuICAgICAgICAgICAgc3RhdGljOiBQYWdlQ29uZmlnLmdldE9wdGlvbignc3RhdGljVXJsJyksXG4gICAgICAgICAgICBzZXR0aW5nczogUGFnZUNvbmZpZy5nZXRPcHRpb24oJ3NldHRpbmdzVXJsJyksXG4gICAgICAgICAgICB0aGVtZXM6IFBhZ2VDb25maWcuZ2V0T3B0aW9uKCd0aGVtZXNVcmwnKSxcbiAgICAgICAgICAgIHRyZWU6IFBhZ2VDb25maWcuZ2V0T3B0aW9uKCd0cmVlVXJsJyksXG4gICAgICAgICAgICB3b3Jrc3BhY2VzOiBQYWdlQ29uZmlnLmdldE9wdGlvbignd29ya3NwYWNlc1VybCcpLFxuICAgICAgICAgICAgaHViSG9zdDogUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2h1Ykhvc3QnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICBodWJQcmVmaXg6IFBhZ2VDb25maWcuZ2V0T3B0aW9uKCdodWJQcmVmaXgnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICBodWJVc2VyOiBQYWdlQ29uZmlnLmdldE9wdGlvbignaHViVXNlcicpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGh1YlNlcnZlck5hbWU6IFBhZ2VDb25maWcuZ2V0T3B0aW9uKCdodWJTZXJ2ZXJOYW1lJykgfHwgdW5kZWZpbmVkXG4gICAgICAgIH0sXG4gICAgICAgIGRpcmVjdG9yaWVzOiB7XG4gICAgICAgICAgICBhcHBTZXR0aW5nczogUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2FwcFNldHRpbmdzRGlyJyksXG4gICAgICAgICAgICBzY2hlbWFzOiBQYWdlQ29uZmlnLmdldE9wdGlvbignc2NoZW1hc0RpcicpLFxuICAgICAgICAgICAgc3RhdGljOiBQYWdlQ29uZmlnLmdldE9wdGlvbignc3RhdGljRGlyJyksXG4gICAgICAgICAgICB0ZW1wbGF0ZXM6IFBhZ2VDb25maWcuZ2V0T3B0aW9uKCd0ZW1wbGF0ZXNEaXInKSxcbiAgICAgICAgICAgIHRoZW1lczogUGFnZUNvbmZpZy5nZXRPcHRpb24oJ3RoZW1lc0RpcicpLFxuICAgICAgICAgICAgdXNlclNldHRpbmdzOiBQYWdlQ29uZmlnLmdldE9wdGlvbigndXNlclNldHRpbmdzRGlyJyksXG4gICAgICAgICAgICBzZXJ2ZXJSb290OiBQYWdlQ29uZmlnLmdldE9wdGlvbignc2VydmVyUm9vdCcpLFxuICAgICAgICAgICAgd29ya3NwYWNlczogUGFnZUNvbmZpZy5nZXRPcHRpb24oJ3dvcmtzcGFjZXNEaXInKVxuICAgICAgICB9XG4gICAgfTtcbn0pKEp1cHl0ZXJMYWIgfHwgKEp1cHl0ZXJMYWIgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFiLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAndHlwZXN0eWxlL2xpYic7XG4vKipcbiAqIGljb24ga2luZCBzcGVjaWZpYyBzdHlsZXNcbiAqL1xuY29uc3QgaWNvbkNTU0JyZWFkQ3J1bWIgPSB7XG4gICAgYm9yZGVyUmFkaXVzOiAndmFyKC0tanAtYm9yZGVyLXJhZGl1cyknLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIG1hcmdpbjogJzBweCAycHgnLFxuICAgIHBhZGRpbmc6ICcwcHggMnB4JyxcbiAgICBoZWlnaHQ6ICcxNnB4JyxcbiAgICB3aWR0aDogJzE2cHgnLFxuICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnXG59O1xuY29uc3QgaWNvbkNTU0xhdW5jaGVyQ2FyZCA9IHtcbiAgICBoZWlnaHQ6ICc1MnB4JyxcbiAgICB3aWR0aDogJzUycHgnXG59O1xuY29uc3QgaWNvbkNTU0xhdW5jaGVyU2VjdGlvbiA9IHtcbiAgICBoZWlnaHQ6ICczMnB4JyxcbiAgICB3aWR0aDogJzMycHgnXG59O1xuY29uc3QgaWNvbkNTU0xpc3RpbmcgPSB7XG4gICAgaGVpZ2h0OiAnMTZweCcsXG4gICAgd2lkdGg6ICcxNnB4J1xufTtcbmNvbnN0IGljb25DU1NsaXN0aW5nSGVhZGVySXRlbSA9IHtcbiAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICBtYXJnaW46ICctMnB4IDAgMCAwJyxcbiAgICB3aWR0aDogJzIwcHgnXG59O1xuY29uc3QgaWNvbkNTU01haW5BcmVhVGFiID0ge1xuICAgICRuZXN0OiB7XG4gICAgICAgICcubG0tRG9ja1BhbmVsLXRhYkJhciAmJzoge1xuICAgICAgICAgICAgaGVpZ2h0OiAnMTRweCcsXG4gICAgICAgICAgICB3aWR0aDogJzE0cHgnXG4gICAgICAgIH0sXG4gICAgICAgICcjdGFiLW1hbmFnZXIgJic6IHtcbiAgICAgICAgICAgIGhlaWdodDogJzE2cHgnLFxuICAgICAgICAgICAgd2lkdGg6ICcxNnB4J1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGljb25DU1NSdW5uaW5nSXRlbSA9IHtcbiAgICBoZWlnaHQ6ICcxNnB4JyxcbiAgICB3aWR0aDogJzE2cHgnXG59O1xuY29uc3QgaWNvbkNTU1NlbGVjdCA9IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICB3aWR0aDogJzE2cHgnXG59O1xuY29uc3QgaWNvbkNTU1NldHRpbmdzRWRpdG9yID0ge1xuICAgIGhlaWdodDogJzE2cHgnLFxuICAgIHdpZHRoOiAnMTZweCdcbn07XG5jb25zdCBpY29uQ1NTU2lkZUJhciA9IHtcbiAgICB3aWR0aDogJzIwcHgnXG59O1xuY29uc3QgaWNvbkNTU1NwbGFzaCA9IHtcbiAgICB3aWR0aDogJzEwMHB4J1xufTtcbmNvbnN0IGljb25DU1NTdGF0dXNCYXIgPSB7XG4gICAgbGVmdDogJzBweCcsXG4gICAgdG9wOiAnMHB4JyxcbiAgICBoZWlnaHQ6ICcxOHB4JyxcbiAgICB3aWR0aDogJzIwcHgnLFxuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG59O1xuY29uc3QgaWNvbkNTU1Rvb2xiYXJCdXR0b24gPSB7XG4gICAgaGVpZ2h0OiAnMTZweCcsXG4gICAgd2lkdGg6ICcxNnB4J1xufTtcbmNvbnN0IGljb25DU1NLaW5kID0ge1xuICAgIGJyZWFkQ3J1bWI6IGljb25DU1NCcmVhZENydW1iLFxuICAgIGxhdW5jaGVyQ2FyZDogaWNvbkNTU0xhdW5jaGVyQ2FyZCxcbiAgICBsYXVuY2hlclNlY3Rpb246IGljb25DU1NMYXVuY2hlclNlY3Rpb24sXG4gICAgbGlzdGluZzogaWNvbkNTU0xpc3RpbmcsXG4gICAgbGlzdGluZ0hlYWRlckl0ZW06IGljb25DU1NsaXN0aW5nSGVhZGVySXRlbSxcbiAgICBtYWluQXJlYVRhYjogaWNvbkNTU01haW5BcmVhVGFiLFxuICAgIHJ1bm5pbmdJdGVtOiBpY29uQ1NTUnVubmluZ0l0ZW0sXG4gICAgc2VsZWN0OiBpY29uQ1NTU2VsZWN0LFxuICAgIHNldHRpbmdzRWRpdG9yOiBpY29uQ1NTU2V0dGluZ3NFZGl0b3IsXG4gICAgc2lkZUJhcjogaWNvbkNTU1NpZGVCYXIsXG4gICAgc3BsYXNoOiBpY29uQ1NTU3BsYXNoLFxuICAgIHN0YXR1c0JhcjogaWNvbkNTU1N0YXR1c0JhcixcbiAgICB0b29sYmFyQnV0dG9uOiBpY29uQ1NTVG9vbGJhckJ1dHRvblxufTtcbmNvbnN0IGNvbnRhaW5lckNTU0JyZWFkQ3J1bWIgPSB7XG4gICAgLy8gYCZgIHdpbGwgYmUgc3Vic3RpdHV0ZWQgZm9yIHRoZSBnZW5lcmF0ZWQgY2xhc3NuYW1lIChpbnRlcnBvbGF0aW9uKVxuICAgICRuZXN0OiB7XG4gICAgICAgICcmOmZpcnN0LWNoaWxkIHN2Zyc6IHtcbiAgICAgICAgICAgIGJvdHRvbTogJzFweCcsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiAnMHB4JyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICAgIH0sXG4gICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndmFyKC0tanAtbGF5b3V0LWNvbG9yMiknXG4gICAgICAgIH0sXG4gICAgICAgIFsnLmpwLW1vZC1kcm9wVGFyZ2V0JiddOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1qcC1icmFuZC1jb2xvcjIpJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuN1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGNvbnRhaW5lckNTU0xhdW5jaGVyQ2FyZCA9IHtcbiAgICBoZWlnaHQ6ICc2OHB4J1xufTtcbmNvbnN0IGNvbnRhaW5lckNTU0xhdW5jaGVyU2VjdGlvbiA9IHtcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBtYXJnaW5SaWdodDogJzEycHgnXG59O1xuY29uc3QgY29udGFpbmVyQ1NTTGlzdGluZyA9IHtcbiAgICBmbGV4OiAnMCAwIDIwcHgnLFxuICAgIG1hcmdpblJpZ2h0OiAnNHB4JyxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xufTtcbmNvbnN0IGNvbnRhaW5lckNTU0xpc3RpbmdIZWFkZXJJdGVtID0ge1xuICAgIGRpc3BsYXk6ICdpbmxpbmUnLFxuICAgIGhlaWdodDogJzE2cHgnLFxuICAgIHdpZHRoOiAnMTZweCdcbn07XG4vKipcbiAqIGNvbnRhaW5lciBraW5kIHNwZWNpZmljIHN0eWxlc1xuICovXG5jb25zdCBjb250YWluZXJDU1NNYWluQXJlYVRhYiA9IHtcbiAgICAkbmVzdDoge1xuICAgICAgICAnLmxtLURvY2tQYW5lbC10YWJCYXIgJic6IHtcbiAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAnNHB4J1xuICAgICAgICB9LFxuICAgICAgICAnI3RhYi1tYW5hZ2VyICYnOiB7XG4gICAgICAgICAgICBtYXJnaW5SaWdodDogJzJweCcsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGNvbnRhaW5lckNTU1J1bm5pbmdJdGVtID0ge1xuICAgIG1hcmdpbjogJzBweCA0cHggMHB4IDEycHgnXG59O1xuY29uc3QgY29udGFpbmVyQ1NTU2VsZWN0ID0ge1xuICAgIHBvaW50ZXJFdmVudHM6ICdub25lJ1xufTtcbmNvbnN0IGNvbnRhaW5lckNTU1NldHRpbmdzRWRpdG9yID0ge1xuICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIGZsZXg6ICcwIDAgMjBweCcsXG4gICAgbWFyZ2luTGVmdDogJzJweCcsXG4gICAgbWFyZ2luUmlnaHQ6ICcxcHgnLFxuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIGhlaWdodDogJzIwcHgnLFxuICAgIHdpZHRoOiAnMjBweCdcbn07XG5jb25zdCBjb250YWluZXJDU1NTaWRlQmFyID0ge1xuICAgIC8vIGAmYCB3aWxsIGJlIHN1YnN0aXR1dGVkIGZvciB0aGUgZ2VuZXJhdGVkIGNsYXNzbmFtZSAoaW50ZXJwb2xhdGlvbilcbiAgICAkbmVzdDoge1xuICAgICAgICAvLyBsZWZ0IHNpZGViYXIgdGFiIGRpdnNcbiAgICAgICAgJy5qcC1TaWRlQmFyLmpwLW1vZC1sZWZ0IC5sbS1UYWJCYXItdGFiICYnOiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoOTBkZWcpJ1xuICAgICAgICB9LFxuICAgICAgICAvLyBsZWZ0IHNpZGViYXIgY3VycmVudGx5IHNlbGVjdGVkIHRhYiBkaXZcbiAgICAgICAgJy5qcC1TaWRlQmFyLmpwLW1vZC1sZWZ0IC5sbS1UYWJCYXItdGFiLmxtLW1vZC1jdXJyZW50ICYnOiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoOTBkZWcpXFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICB0cmFuc2xhdGUoXFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgIGNhbGMoLTAuNSAqIHZhcigtLWpwLWJvcmRlci13aWR0aCkpLFxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICBjYWxjKC0wLjUgKiB2YXIoLS1qcC1ib3JkZXItd2lkdGgpKVxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgKSdcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcmlnaHQgc2lkZWJhciB0YWIgZGl2c1xuICAgICAgICAnLmpwLVNpZGVCYXIuanAtbW9kLXJpZ2h0IC5sbS1UYWJCYXItdGFiICYnOiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoLTkwZGVnKSdcbiAgICAgICAgfSxcbiAgICAgICAgLy8gcmlnaHQgc2lkZWJhciBjdXJyZW50bHkgc2VsZWN0ZWQgdGFiIGRpdlxuICAgICAgICAnLmpwLVNpZGVCYXIuanAtbW9kLXJpZ2h0IC5sbS1UYWJCYXItdGFiLmxtLW1vZC1jdXJyZW50ICYnOiB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoLTkwZGVnKVxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgdHJhbnNsYXRlKFxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICBjYWxjKDAuNSAqIHZhcigtLWpwLWJvcmRlci13aWR0aCkpLFxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICBjYWxjKC0wLjUgKiB2YXIoLS1qcC1ib3JkZXItd2lkdGgpKVxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgKSdcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBjb250YWluZXJDU1NTcGxhc2ggPSB7XG4gICAgYW5pbWF0aW9uOiAnMC4zcyBmYWRlLWluIGxpbmVhciBmb3J3YXJkcycsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICB6SW5kZXg6IDFcbn07XG5jb25zdCBjb250YWluZXJDU1NUb29sYmFyQnV0dG9uID0ge1xuICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgIG1hcmdpbjogJ2F1dG8nLFxuICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnXG59O1xuY29uc3QgY29udGFpbmVyQ1NTS2luZCA9IHtcbiAgICBicmVhZENydW1iOiBjb250YWluZXJDU1NCcmVhZENydW1iLFxuICAgIGxhdW5jaGVyQ2FyZDogY29udGFpbmVyQ1NTTGF1bmNoZXJDYXJkLFxuICAgIGxhdW5jaGVyU2VjdGlvbjogY29udGFpbmVyQ1NTTGF1bmNoZXJTZWN0aW9uLFxuICAgIGxpc3Rpbmc6IGNvbnRhaW5lckNTU0xpc3RpbmcsXG4gICAgbGlzdGluZ0hlYWRlckl0ZW06IGNvbnRhaW5lckNTU0xpc3RpbmdIZWFkZXJJdGVtLFxuICAgIG1haW5BcmVhVGFiOiBjb250YWluZXJDU1NNYWluQXJlYVRhYixcbiAgICBydW5uaW5nSXRlbTogY29udGFpbmVyQ1NTUnVubmluZ0l0ZW0sXG4gICAgc2VsZWN0OiBjb250YWluZXJDU1NTZWxlY3QsXG4gICAgc2V0dGluZ3NFZGl0b3I6IGNvbnRhaW5lckNTU1NldHRpbmdzRWRpdG9yLFxuICAgIHNpZGVCYXI6IGNvbnRhaW5lckNTU1NpZGVCYXIsXG4gICAgc3BsYXNoOiBjb250YWluZXJDU1NTcGxhc2gsXG4gICAgc3RhdHVzQmFyOiB7fSxcbiAgICB0b29sYmFyQnV0dG9uOiBjb250YWluZXJDU1NUb29sYmFyQnV0dG9uXG59O1xuLyoqXG4gKiBzdHlsZXMgZm9yIGp1c3RpZnlpbmcgYSBub2RlIGluc2lkZSBvZiBhIGNvbnRhaW5lclxuICovXG5jb25zdCBpY29uQ1NTQ2VudGVyID0ge1xuICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgbWFyZ2luOiAnMCBhdXRvJyxcbiAgICB3aWR0aDogJzEwMCUnXG59O1xuY29uc3QgaWNvbkNTU0xlZnQgPSB7XG4gICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICBtYXJnaW46ICcwIGF1dG8gMCAwJ1xufTtcbmNvbnN0IGljb25DU1NSaWdodCA9IHtcbiAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgIG1hcmdpbjogJzAgMCAwIGF1dG8nXG59O1xuY29uc3QgaWNvbkNTU0p1c3RpZnkgPSB7XG4gICAgY2VudGVyOiBpY29uQ1NTQ2VudGVyLFxuICAgIGxlZnQ6IGljb25DU1NMZWZ0LFxuICAgIHJpZ2h0OiBpY29uQ1NTUmlnaHRcbn07XG5jb25zdCBjb250YWluZXJDU1NDZW50ZXIgPSB7XG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZGlzcGxheTogJ2ZsZXgnXG59O1xuY29uc3QgY29udGFpbmVyQ1NTTGVmdCA9IHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBkaXNwbGF5OiAnZmxleCdcbn07XG5jb25zdCBjb250YWluZXJDU1NSaWdodCA9IHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBkaXNwbGF5OiAnZmxleCdcbn07XG5jb25zdCBjb250YWluZXJDU1NKdXN0aWZ5ID0ge1xuICAgIGNlbnRlcjogY29udGFpbmVyQ1NTQ2VudGVyLFxuICAgIGxlZnQ6IGNvbnRhaW5lckNTU0xlZnQsXG4gICAgcmlnaHQ6IGNvbnRhaW5lckNTU1JpZ2h0XG59O1xuLyoqXG4gKiBmb3IgcHV0dGluZyB0b2dldGhlciB0aGUgaWNvbiBraW5kIHN0eWxlIHdpdGggYW55IHVzZXIgaW5wdXQgc3R5bGluZyxcbiAqIGFzIHdlbGwgYXMgc3R5bGluZyBmcm9tIG9wdGlvbmFsIGZsYWdzIGxpa2UgYGNlbnRlcmBcbiAqL1xuZnVuY3Rpb24gaWNvbkNTUyhwcm9wcykge1xuICAgIGNvbnN0IHsga2luZCwganVzdGlmeSB9ID0gcHJvcHMsIHByb3BzQ1NTID0gX19yZXN0KHByb3BzLCBbXCJraW5kXCIsIFwianVzdGlmeVwiXSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoanVzdGlmeSA/IGljb25DU1NKdXN0aWZ5W2p1c3RpZnldIDoge30pKSwgKGtpbmQgPyBpY29uQ1NTS2luZFtraW5kXSA6IHt9KSksIHByb3BzQ1NTKTtcbn1cbi8qKlxuICogZm9yIHB1dHRpbmcgdG9nZXRoZXIgdGhlIGNvbnRhaW5lciBraW5kIHN0eWxlIHdpdGggYW55XG4gKiBzdHlsaW5nIGZyb20gb3B0aW9uYWwgZmxhZ3MgbGlrZSBgY2VudGVyYFxuICovXG5mdW5jdGlvbiBjb250YWluZXJDU1MocHJvcHMpIHtcbiAgICBjb25zdCB7IGtpbmQsIGp1c3RpZnkgfSA9IHByb3BzO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChqdXN0aWZ5ID8gY29udGFpbmVyQ1NTSnVzdGlmeVtqdXN0aWZ5XSA6IHt9KSksIChraW5kID8gY29udGFpbmVyQ1NTS2luZFtraW5kXSA6IHt9KSk7XG59XG4vKipcbiAqIGZvciBzZXR0aW5nIHRoZSBzdHlsZSBvbiB0aGUgY29udGFpbmVyIG9mIGFuIHN2ZyBub2RlIHJlcHJlc2VudGluZyBhbiBpY29uXG4gKi9cbmV4cG9ydCBjb25zdCBpY29uU3R5bGUgPSAocHJvcHMpID0+IHtcbiAgICBpZiAoIXByb3BzIHx8IE9iamVjdC5rZXlzKHByb3BzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gcHJvcHMgaXMgZW1wdHlcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBjb25DU1MgPSBjb250YWluZXJDU1MocHJvcHMpO1xuICAgIHJldHVybiBzdHlsZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbkNTUyksIHsgJG5lc3Q6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29uQ1NTLiRuZXN0KSwgeyBbJ3N2ZyddOiBpY29uQ1NTKHByb3BzKSB9KSB9KSk7XG59O1xuLyoqXG4gKiBmb3Igc2V0dGluZyB0aGUgc3R5bGUgZGlyZWN0bHkgb24gdGhlIHN2ZyBub2RlIHJlcHJlc2VudGluZyBhbiBpY29uXG4gKi9cbmV4cG9ydCBjb25zdCBpY29uU3R5bGVGbGF0ID0gKHByb3BzKSA9PiB7XG4gICAgaWYgKCFwcm9wcyB8fCBPYmplY3Qua2V5cyhwcm9wcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlKGljb25DU1MocHJvcHMpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pY29uLmpzLm1hcCIsIi8qKlxuICogQW55IG9iamVjdCBpcyBcInByaW50YWJsZVwiIGlmIGl0IGltcGxlbWVudHMgdGhlIGBJUHJpbnRhYmxlYCBpbnRlcmZhY2UuXG4gKlxuICogVG8gZG8gdGhpcyBpdCwgaXQgbXVzdCBoYXZlIGEgbWV0aG9kIGNhbGxlZCBgUHJpbnRpbmcuc3ltYm9sYCB3aGljaCByZXR1cm5zIGVpdGhlciBhIGZ1bmN0aW9uXG4gKiB0byBwcmludCB0aGUgb2JqZWN0IG9yIG51bGwgaWYgaXQgY2Fubm90IGJlIHByaW50ZWQuXG4gKlxuICogT25lIHdheSBvZiBwcmludGluZyBpcyB0byB1c2UgdGhlIGBwcmludFdpZGdldGAgZnVuY3Rpb24sIHdoaWNoIGNyZWF0ZXMgYSBoaWRkZW4gaWZyYW1lXG4gKiBhbmQgY29waWVzIHRoZSBET00gbm9kZXMgZnJvbSB5b3VyIHdpZGdldCB0byB0aGF0IGlmcmFtZSBhbmQgcHJpbnRpbmcganVzdCB0aGF0IGlmcmFtZS5cbiAqXG4gKiBBbm90aGVyIHdheSB0byBwcmludCBpcyB0byB1c2UgdGhlIGBwcmludFVSTGAgZnVuY3Rpb24sIHdoaWNoIHRha2VzIGEgVVJMIGFuZCBwcmludHMgdGhhdCBwYWdlLlxuICovXG5pbXBvcnQgeyBTZXJ2ZXJDb25uZWN0aW9uIH0gZnJvbSAnQGp1cHl0ZXJsYWIvc2VydmljZXMnO1xuZXhwb3J0IHZhciBQcmludGluZztcbihmdW5jdGlvbiAoUHJpbnRpbmcpIHtcbiAgICAvKipcbiAgICAgKiBTeW1ib2wgdG8gdXNlIGZvciBhIG1ldGhvZCB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0byBwcmludCBhbiBvYmplY3QuXG4gICAgICovXG4gICAgUHJpbnRpbmcuc3ltYm9sID0gU3ltYm9sKCdwcmludGFibGUnKTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGltcGxlbWVudHMgYSBwcmludCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcmludGFibGUoYSkge1xuICAgICAgICBpZiAodHlwZW9mIGEgIT09ICdvYmplY3QnIHx8ICFhKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByaW50aW5nLnN5bWJvbCBpbiBhO1xuICAgIH1cbiAgICBQcmludGluZy5pc1ByaW50YWJsZSA9IGlzUHJpbnRhYmxlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByaW50IGZ1bmN0aW9uIGZvciBhbiBvYmplY3QsIG9yIG51bGwgaWYgaXQgZG9lcyBub3QgcHJvdmlkZSBhIGhhbmRsZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UHJpbnRGdW5jdGlvbih2YWwpIHtcbiAgICAgICAgaWYgKGlzUHJpbnRhYmxlKHZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxbUHJpbnRpbmcuc3ltYm9sXSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBQcmludGluZy5nZXRQcmludEZ1bmN0aW9uID0gZ2V0UHJpbnRGdW5jdGlvbjtcbiAgICAvKipcbiAgICAgKiBQcmludHMgYSB3aWRnZXQgYnkgY29weWluZyBpdCdzIERPTSBub2RlXG4gICAgICogdG8gYSBoaWRkZW4gaWZyYW1lIGFuZCBwcmludGluZyB0aGF0IGlmcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcmludFdpZGdldCh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIHByaW50Q29udGVudCh3aWRnZXQubm9kZSk7XG4gICAgfVxuICAgIFByaW50aW5nLnByaW50V2lkZ2V0ID0gcHJpbnRXaWRnZXQ7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBTZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpO1xuICAgIC8qKlxuICAgICAqIFByaW50cyBhIFVSTCBieSBsb2FkaW5nIGl0IGludG8gYW4gaWZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVybCBVUkwgdG8gbG9hZCBpbnRvIGFuIGlmcmFtZS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBwcmludFVSTCh1cmwpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IChhd2FpdCBTZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwge30sIHNldHRpbmdzKSkudGV4dCgpO1xuICAgICAgICByZXR1cm4gcHJpbnRDb250ZW50KHRleHQpO1xuICAgIH1cbiAgICBQcmludGluZy5wcmludFVSTCA9IHByaW50VVJMO1xuICAgIC8qKlxuICAgICAqIFByaW50cyBhIFVSTCBvciBhbiBlbGVtZW50IGluIGFuIGlmcmFtZSBhbmQgdGhlbiByZW1vdmVzIHRoZSBpZnJhbWUgYWZ0ZXIgcHJpbnRpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcHJpbnRDb250ZW50KHRleHRPckVsKSB7XG4gICAgICAgIGNvbnN0IGlzVGV4dCA9IHR5cGVvZiB0ZXh0T3JFbCA9PT0gJ3N0cmluZyc7XG4gICAgICAgIGNvbnN0IGlmcmFtZSA9IGNyZWF0ZUlGcmFtZSgpO1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB3aW5kb3cuZG9jdW1lbnQuYm9keTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICAgIGlmIChpc1RleHQpIHtcbiAgICAgICAgICAgIGlmcmFtZS5zcmNkb2MgPSB0ZXh0T3JFbDtcbiAgICAgICAgICAgIGF3YWl0IHJlc29sdmVXaGVuTG9hZGVkKGlmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJztcbiAgICAgICAgICAgIGF3YWl0IHJlc29sdmVXaGVuTG9hZGVkKGlmcmFtZSk7XG4gICAgICAgICAgICBzZXRJRnJhbWVOb2RlKGlmcmFtZSwgdGV4dE9yRWwpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByaW50ZWQgPSByZXNvbHZlQWZ0ZXJFdmVudCgpO1xuICAgICAgICBsYXVuY2hQcmludChpZnJhbWUuY29udGVudFdpbmRvdyk7XG4gICAgICAgIC8vIE9uY2UgdGhlIHByaW50IGRpYWxvZyBoYXMgYmVlbiBkaXNtaXNzZWQsIHdlIHJlZ2FpbiBldmVudCBoYW5kbGluZyxcbiAgICAgICAgLy8gYW5kIGl0IHNob3VsZCBiZSBzYWZlIHRvIGRpc2NhcmQgdGhlIGhpZGRlbiBpZnJhbWUuXG4gICAgICAgIGF3YWl0IHByaW50ZWQ7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGhpZGRlbiBpZnJhbWUgYW5kIGFwcGVuZHMgaXQgdG8gdGhlIGRvY3VtZW50XG4gICAgICpcbiAgICAgKiBNb2RpZmllZCBmcm9tXG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2pvc2VsdWlzcS9wcmludGQvYmxvYi9lYjc5NDhkNjAyNTgzYzA1NWFiNmRlZTNlZTI5NGI2YTQyMWRhNGI2L3NyYy9pbmRleC50cyNMMjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJRnJhbWUoKSB7XG4gICAgICAgIGNvbnN0IGVsID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICAvLyBXZSBuZWVkIGJvdGggYWxsb3ctbW9kYWxzIGFuZCBhbGxvdy1zYW1lLW9yaWdpbiB0byBiZSBhYmxlIHRvXG4gICAgICAgIC8vIGNhbGwgcHJpbnQgaW4gdGhlIGlmcmFtZS5cbiAgICAgICAgLy8gV2UgaW50ZW50aW9uYWxseSBkbyBub3QgYWxsb3cgc2NyaXB0czpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2p1cHl0ZXJsYWIvanVweXRlcmxhYi9wdWxsLzU4NTAjcHVsbHJlcXVlc3RyZXZpZXctMjMwODk5NzkwXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnc2FuZGJveCcsICdhbGxvdy1tb2RhbHMgYWxsb3ctc2FtZS1vcmlnaW4nKTtcbiAgICAgICAgY29uc3QgY3NzID0gJ3Zpc2liaWxpdHk6aGlkZGVuO3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDotOTk5OTtib3R0b206MDsnO1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY3NzKTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsICcwJyk7XG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgJzAnKTtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYSBub2RlIGZyb20gdGhlIGJhc2UgZG9jdW1lbnQgdG8gdGhlIGlmcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRJRnJhbWVOb2RlKGlmcmFtZSwgbm9kZSkge1xuICAgICAgICBpZnJhbWUuY29udGVudERvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9kZS5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICBpZnJhbWUuY29udGVudERvY3VtZW50LmNsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCByZXNvdXJjZXMgYXJlIGxvYWRlZCBpbiB0aGUgd2luZG93LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVXaGVuTG9hZGVkKGlmcmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIG5leHQgbW91c2Vkb3duLCBtb3VzZW1vdmUsIG9yXG4gICAgICoga2V5ZG93biBldmVudC4gV2UgdXNlIHRoaXMgYXMgYSBwcm94eSBmb3IgZGV0ZXJtaW5pbmcgd2hlbiB0aGVcbiAgICAgKiBtYWluIHdpbmRvdyBoYXMgcmVnYWluZWQgY29udHJvbCBhZnRlciB0aGUgcHJpbnQgZGlhbG9nIGlzIHJlbW92ZWQuXG4gICAgICpcbiAgICAgKiBXZSBjYW4ndCB1c2UgdGhlIHVzdWFsIHdpbmRvdy5vbmFmdGVycHJpbnQgaGFuZGxlciBiZWNhdXNlIHdlXG4gICAgICogZGlzYWxsb3cgSmF2YXNjcmlwdCBleGVjdXRpb24gaW4gdGhlIHByaW50IGlmcmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlQWZ0ZXJFdmVudCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb25FdmVudCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbkV2ZW50LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkV2ZW50LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25FdmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uRXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25FdmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25FdmVudCwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmludHMgYSBjb250ZW50IHdpbmRvdy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXVuY2hQcmludChjb250ZW50V2luZG93KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ3ByaW50JywgZmFsc2UpO1xuICAgICAgICAvLyBleGVjQ29tbWFuZCB3b24ndCB3b3JrIGluIGZpcmVmb3ggc28gd2UgY2FsbCB0aGUgYHByaW50YCBtZXRob2QgaW5zdGVhZCBpZiBpdCBmYWlsc1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vam9zZWx1aXNxL3ByaW50ZC9ibG9iL2ViNzk0OGQ2MDI1ODNjMDU1YWI2ZGVlM2VlMjk0YjZhNDIxZGE0YjYvc3JjL2luZGV4LnRzI0wxNDhcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIGNvbnRlbnRXaW5kb3cucHJpbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKFByaW50aW5nIHx8IChQcmludGluZyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmludGluZy5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J00yNTYgOEMxMTkgOCA4IDExOSA4IDI1NnMxMTEgMjQ4IDI0OCAyNDggMjQ4LTExMSAyNDgtMjQ4UzM5MyA4IDI1NiA4em05NiAzMjhjMCA4LjgtNy4yIDE2LTE2IDE2SDE3NmMtOC44IDAtMTYtNy4yLTE2LTE2VjE3NmMwLTguOCA3LjItMTYgMTYtMTZoMTYwYzguOCAwIDE2IDcuMiAxNiAxNnYxNjB6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDUxMiA1MTJcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTI1NiA4QzExOSA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OCAyNDgtMTExIDI0OC0yNDhTMzkzIDggMjU2IDh6bTk2IDMyOGMwIDguOC03LjIgMTYtMTYgMTZIMTc2Yy04LjggMC0xNi03LjItMTYtMTZWMTc2YzAtOC44IDcuMi0xNiAxNi0xNmgxNjBjOC44IDAgMTYgNy4yIDE2IDE2djE2MHpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyBoZWlnaHQ9JzE4JyB2aWV3Qm94PScwIDAgMjQgMjQnIHdpZHRoPScxOCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J004IDV2MTRsMTEtN3onLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgaGVpZ2h0PVxcXCIxOFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB3aWR0aD1cXFwiMThcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICAgIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNOCA1djE0bDExLTd6XFxcIi8+XFxuICAgIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2ZXJzaW9uPScxLjEnIGlkPSdMYXllcl8yXzFfJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMTUwIDE1MCA1NDEuOSAyOTUuMycgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgODQxLjkgNTk1LjMnIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24tYnJhbmQyIGpwLWljb24tc2VsZWN0YWJsZScgZmlsbD0nJTIzNjFEQUZCJyAlM0UgJTNDcGF0aCBkPSdNNjY2LjMsMjk2LjVjMC0zMi41LTQwLjctNjMuMy0xMDMuMS04Mi40YzE0LjQtNjMuNiw4LTExNC4yLTIwLjItMTMwLjRjLTYuNS0zLjgtMTQuMS01LjYtMjIuNC01LjZ2MjIuMyBjNC42LDAsOC4zLDAuOSwxMS40LDIuNmMxMy42LDcuOCwxOS41LDM3LjUsMTQuOSw3NS43Yy0xLjEsOS40LTIuOSwxOS4zLTUuMSwyOS40Yy0xOS42LTQuOC00MS04LjUtNjMuNS0xMC45IGMtMTMuNS0xOC41LTI3LjUtMzUuMy00MS42LTUwYzMyLjYtMzAuMyw2My4yLTQ2LjksODQtNDYuOWwwLTIyLjNjMCwwLDAsMCwwLDBjLTI3LjUsMC02My41LDE5LjYtOTkuOSw1My42IGMtMzYuNC0zMy44LTcyLjQtNTMuMi05OS45LTUzLjJ2MjIuM2MyMC43LDAsNTEuNCwxNi41LDg0LDQ2LjZjLTE0LDE0LjctMjgsMzEuNC00MS4zLDQ5LjljLTIyLjYsMi40LTQ0LDYuMS02My42LDExIGMtMi4zLTEwLTQtMTkuNy01LjItMjljLTQuNy0zOC4yLDEuMS02Ny45LDE0LjYtNzUuOGMzLTEuOCw2LjktMi42LDExLjUtMi42bDAtMjIuM2MwLDAsMCwwLDAsMGMtOC40LDAtMTYsMS44LTIyLjYsNS42IGMtMjguMSwxNi4yLTM0LjQsNjYuNy0xOS45LDEzMC4xYy02Mi4yLDE5LjItMTAyLjcsNDkuOS0xMDIuNyw4Mi4zYzAsMzIuNSw0MC43LDYzLjMsMTAzLjEsODIuNGMtMTQuNCw2My42LTgsMTE0LjIsMjAuMiwxMzAuNCBjNi41LDMuOCwxNC4xLDUuNiwyMi41LDUuNmMyNy41LDAsNjMuNS0xOS42LDk5LjktNTMuNmMzNi40LDMzLjgsNzIuNCw1My4yLDk5LjksNTMuMmM4LjQsMCwxNi0xLjgsMjIuNi01LjYgYzI4LjEtMTYuMiwzNC40LTY2LjcsMTkuOS0xMzAuMUM2MjUuOCwzNTkuNyw2NjYuMywzMjguOSw2NjYuMywyOTYuNXogTTUzNi4xLDIyOS44Yy0zLjcsMTIuOS04LjMsMjYuMi0xMy41LDM5LjUgYy00LjEtOC04LjQtMTYtMTMuMS0yNGMtNC42LTgtOS41LTE1LjgtMTQuNC0yMy40QzUwOS4zLDIyNCw1MjMsMjI2LjYsNTM2LjEsMjI5Ljh6IE00OTAuMywzMzYuM2MtNy44LDEzLjUtMTUuOCwyNi4zLTI0LjEsMzguMiBjLTE0LjksMS4zLTMwLDItNDUuMiwyYy0xNS4xLDAtMzAuMi0wLjctNDUtMS45Yy04LjMtMTEuOS0xNi40LTI0LjYtMjQuMi0zOGMtNy42LTEzLjEtMTQuNS0yNi40LTIwLjgtMzkuOCBjNi4yLTEzLjQsMTMuMi0yNi44LDIwLjctMzkuOWM3LjgtMTMuNSwxNS44LTI2LjMsMjQuMS0zOC4yYzE0LjktMS4zLDMwLTIsNDUuMi0yYzE1LjEsMCwzMC4yLDAuNyw0NSwxLjkgYzguMywxMS45LDE2LjQsMjQuNiwyNC4yLDM4YzcuNiwxMy4xLDE0LjUsMjYuNCwyMC44LDM5LjhDNTA0LjcsMzA5LjgsNDk3LjgsMzIzLjIsNDkwLjMsMzM2LjN6IE01MjIuNiwzMjMuMyBjNS40LDEzLjQsMTAsMjYuOCwxMy44LDM5LjhjLTEzLjEsMy4yLTI2LjksNS45LTQxLjIsOGM0LjktNy43LDkuOC0xNS42LDE0LjQtMjMuN0M1MTQuMiwzMzkuNCw1MTguNSwzMzEuMyw1MjIuNiwzMjMuM3ogTTQyMS4yLDQzMGMtOS4zLTkuNi0xOC42LTIwLjMtMjcuOC0zMmM5LDAuNCwxOC4yLDAuNywyNy41LDAuN2M5LjQsMCwxOC43LTAuMiwyNy44LTAuN0M0MzkuNyw0MDkuNyw0MzAuNCw0MjAuNCw0MjEuMiw0MzB6IE0zNDYuOCwzNzEuMWMtMTQuMi0yLjEtMjcuOS00LjctNDEtNy45YzMuNy0xMi45LDguMy0yNi4yLDEzLjUtMzkuNWM0LjEsOCw4LjQsMTYsMTMuMSwyNEMzMzcuMSwzNTUuNywzNDEuOSwzNjMuNSwzNDYuOCwzNzEuMXogTTQyMC43LDE2M2M5LjMsOS42LDE4LjYsMjAuMywyNy44LDMyYy05LTAuNC0xOC4yLTAuNy0yNy41LTAuN2MtOS40LDAtMTguNywwLjItMjcuOCwwLjdDNDAyLjIsMTgzLjMsNDExLjUsMTcyLjYsNDIwLjcsMTYzeiBNMzQ2LjcsMjIxLjljLTQuOSw3LjctOS44LDE1LjYtMTQuNCwyMy43Yy00LjYsOC04LjksMTYtMTMsMjRjLTUuNC0xMy40LTEwLTI2LjgtMTMuOC0zOS44QzMxOC42LDIyNi43LDMzMi40LDIyNCwzNDYuNywyMjEuOXogTTI1Ni4yLDM0Ny4xYy0zNS40LTE1LjEtNTguMy0zNC45LTU4LjMtNTAuNmMwLTE1LjcsMjIuOS0zNS42LDU4LjMtNTAuNmM4LjYtMy43LDE4LTcsMjcuNy0xMC4xYzUuNywxOS42LDEzLjIsNDAsMjIuNSw2MC45IGMtOS4yLDIwLjgtMTYuNiw0MS4xLTIyLjIsNjAuNkMyNzQuMywzNTQuMiwyNjQuOSwzNTAuOCwyNTYuMiwzNDcuMXogTTMxMCw0OTBjLTEzLjYtNy44LTE5LjUtMzcuNS0xNC45LTc1LjcgYzEuMS05LjQsMi45LTE5LjMsNS4xLTI5LjRjMTkuNiw0LjgsNDEsOC41LDYzLjUsMTAuOWMxMy41LDE4LjUsMjcuNSwzNS4zLDQxLjYsNTBjLTMyLjYsMzAuMy02My4yLDQ2LjktODQsNDYuOSBDMzE2LjgsNDkyLjYsMzEzLDQ5MS43LDMxMCw0OTB6IE01NDcuMiw0MTMuOGM0LjcsMzguMi0xLjEsNjcuOS0xNC42LDc1LjhjLTMsMS44LTYuOSwyLjYtMTEuNSwyLjZjLTIwLjcsMC01MS40LTE2LjUtODQtNDYuNiBjMTQtMTQuNywyOC0zMS40LDQxLjMtNDkuOWMyMi42LTIuNCw0NC02LjEsNjMuNi0xMUM1NDQuMywzOTQuOCw1NDYuMSw0MDQuNSw1NDcuMiw0MTMuOHogTTU4NS43LDM0Ny4xYy04LjYsMy43LTE4LDctMjcuNywxMC4xIGMtNS43LTE5LjYtMTMuMi00MC0yMi41LTYwLjljOS4yLTIwLjgsMTYuNi00MS4xLDIyLjItNjAuNmM5LjksMy4xLDE5LjMsNi41LDI4LjEsMTAuMmMzNS40LDE1LjEsNTguMywzNC45LDU4LjMsNTAuNiBDNjQ0LDMxMi4yLDYyMS4xLDMzMi4xLDU4NS43LDM0Ny4xeicvJTNFICUzQ3BvbHlnb24gcG9pbnRzPSczMjAuOCw3OC40IDMyMC44LDc4LjQgMzIwLjgsNzguNCcvJTNFICUzQ2NpcmNsZSBjeD0nNDIwLjknIGN5PScyOTYuNScgcj0nNDUuNycvJTNFICUzQ3BvbHlnb24gcG9pbnRzPSc1MjAuNSw3OC4xIDUyMC41LDc4LjEgNTIwLjUsNzguMScvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB2ZXJzaW9uPVxcXCIxLjFcXFwiIGlkPVxcXCJMYXllcl8yXzFfXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHhtbG5zOnhsaW5rPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIiB4PVxcXCIwcHhcXFwiIHk9XFxcIjBweFxcXCIgdmlld0JveD1cXFwiMTUwIDE1MCA1NDEuOSAyOTUuM1xcXCIgZW5hYmxlLWJhY2tncm91bmQ9XFxcIm5ldyAwIDAgODQxLjkgNTk1LjNcXFwiIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiPlxcclxcblxcdDxnXFxyXFxuXFx0XFx0Y2xhc3M9XFxcImpwLWljb24tYnJhbmQyIGpwLWljb24tc2VsZWN0YWJsZVxcXCJcXHJcXG5cXHRcXHRmaWxsPVxcXCIjNjFEQUZCXFxcIlxcclxcblxcdD5cXHJcXG5cXHRcXHQ8cGF0aCBkPVxcXCJNNjY2LjMsMjk2LjVjMC0zMi41LTQwLjctNjMuMy0xMDMuMS04Mi40YzE0LjQtNjMuNiw4LTExNC4yLTIwLjItMTMwLjRjLTYuNS0zLjgtMTQuMS01LjYtMjIuNC01LjZ2MjIuMyBjNC42LDAsOC4zLDAuOSwxMS40LDIuNmMxMy42LDcuOCwxOS41LDM3LjUsMTQuOSw3NS43Yy0xLjEsOS40LTIuOSwxOS4zLTUuMSwyOS40Yy0xOS42LTQuOC00MS04LjUtNjMuNS0xMC45IGMtMTMuNS0xOC41LTI3LjUtMzUuMy00MS42LTUwYzMyLjYtMzAuMyw2My4yLTQ2LjksODQtNDYuOWwwLTIyLjNjMCwwLDAsMCwwLDBjLTI3LjUsMC02My41LDE5LjYtOTkuOSw1My42IGMtMzYuNC0zMy44LTcyLjQtNTMuMi05OS45LTUzLjJ2MjIuM2MyMC43LDAsNTEuNCwxNi41LDg0LDQ2LjZjLTE0LDE0LjctMjgsMzEuNC00MS4zLDQ5LjljLTIyLjYsMi40LTQ0LDYuMS02My42LDExIGMtMi4zLTEwLTQtMTkuNy01LjItMjljLTQuNy0zOC4yLDEuMS02Ny45LDE0LjYtNzUuOGMzLTEuOCw2LjktMi42LDExLjUtMi42bDAtMjIuM2MwLDAsMCwwLDAsMGMtOC40LDAtMTYsMS44LTIyLjYsNS42IGMtMjguMSwxNi4yLTM0LjQsNjYuNy0xOS45LDEzMC4xYy02Mi4yLDE5LjItMTAyLjcsNDkuOS0xMDIuNyw4Mi4zYzAsMzIuNSw0MC43LDYzLjMsMTAzLjEsODIuNGMtMTQuNCw2My42LTgsMTE0LjIsMjAuMiwxMzAuNCBjNi41LDMuOCwxNC4xLDUuNiwyMi41LDUuNmMyNy41LDAsNjMuNS0xOS42LDk5LjktNTMuNmMzNi40LDMzLjgsNzIuNCw1My4yLDk5LjksNTMuMmM4LjQsMCwxNi0xLjgsMjIuNi01LjYgYzI4LjEtMTYuMiwzNC40LTY2LjcsMTkuOS0xMzAuMUM2MjUuOCwzNTkuNyw2NjYuMywzMjguOSw2NjYuMywyOTYuNXogTTUzNi4xLDIyOS44Yy0zLjcsMTIuOS04LjMsMjYuMi0xMy41LDM5LjUgYy00LjEtOC04LjQtMTYtMTMuMS0yNGMtNC42LTgtOS41LTE1LjgtMTQuNC0yMy40QzUwOS4zLDIyNCw1MjMsMjI2LjYsNTM2LjEsMjI5Ljh6IE00OTAuMywzMzYuM2MtNy44LDEzLjUtMTUuOCwyNi4zLTI0LjEsMzguMiBjLTE0LjksMS4zLTMwLDItNDUuMiwyYy0xNS4xLDAtMzAuMi0wLjctNDUtMS45Yy04LjMtMTEuOS0xNi40LTI0LjYtMjQuMi0zOGMtNy42LTEzLjEtMTQuNS0yNi40LTIwLjgtMzkuOCBjNi4yLTEzLjQsMTMuMi0yNi44LDIwLjctMzkuOWM3LjgtMTMuNSwxNS44LTI2LjMsMjQuMS0zOC4yYzE0LjktMS4zLDMwLTIsNDUuMi0yYzE1LjEsMCwzMC4yLDAuNyw0NSwxLjkgYzguMywxMS45LDE2LjQsMjQuNiwyNC4yLDM4YzcuNiwxMy4xLDE0LjUsMjYuNCwyMC44LDM5LjhDNTA0LjcsMzA5LjgsNDk3LjgsMzIzLjIsNDkwLjMsMzM2LjN6IE01MjIuNiwzMjMuMyBjNS40LDEzLjQsMTAsMjYuOCwxMy44LDM5LjhjLTEzLjEsMy4yLTI2LjksNS45LTQxLjIsOGM0LjktNy43LDkuOC0xNS42LDE0LjQtMjMuN0M1MTQuMiwzMzkuNCw1MTguNSwzMzEuMyw1MjIuNiwzMjMuM3ogIE00MjEuMiw0MzBjLTkuMy05LjYtMTguNi0yMC4zLTI3LjgtMzJjOSwwLjQsMTguMiwwLjcsMjcuNSwwLjdjOS40LDAsMTguNy0wLjIsMjcuOC0wLjdDNDM5LjcsNDA5LjcsNDMwLjQsNDIwLjQsNDIxLjIsNDMweiAgTTM0Ni44LDM3MS4xYy0xNC4yLTIuMS0yNy45LTQuNy00MS03LjljMy43LTEyLjksOC4zLTI2LjIsMTMuNS0zOS41YzQuMSw4LDguNCwxNiwxMy4xLDI0QzMzNy4xLDM1NS43LDM0MS45LDM2My41LDM0Ni44LDM3MS4xeiAgTTQyMC43LDE2M2M5LjMsOS42LDE4LjYsMjAuMywyNy44LDMyYy05LTAuNC0xOC4yLTAuNy0yNy41LTAuN2MtOS40LDAtMTguNywwLjItMjcuOCwwLjdDNDAyLjIsMTgzLjMsNDExLjUsMTcyLjYsNDIwLjcsMTYzeiAgTTM0Ni43LDIyMS45Yy00LjksNy43LTkuOCwxNS42LTE0LjQsMjMuN2MtNC42LDgtOC45LDE2LTEzLDI0Yy01LjQtMTMuNC0xMC0yNi44LTEzLjgtMzkuOEMzMTguNiwyMjYuNywzMzIuNCwyMjQsMzQ2LjcsMjIxLjl6ICBNMjU2LjIsMzQ3LjFjLTM1LjQtMTUuMS01OC4zLTM0LjktNTguMy01MC42YzAtMTUuNywyMi45LTM1LjYsNTguMy01MC42YzguNi0zLjcsMTgtNywyNy43LTEwLjFjNS43LDE5LjYsMTMuMiw0MCwyMi41LDYwLjkgYy05LjIsMjAuOC0xNi42LDQxLjEtMjIuMiw2MC42QzI3NC4zLDM1NC4yLDI2NC45LDM1MC44LDI1Ni4yLDM0Ny4xeiBNMzEwLDQ5MGMtMTMuNi03LjgtMTkuNS0zNy41LTE0LjktNzUuNyBjMS4xLTkuNCwyLjktMTkuMyw1LjEtMjkuNGMxOS42LDQuOCw0MSw4LjUsNjMuNSwxMC45YzEzLjUsMTguNSwyNy41LDM1LjMsNDEuNiw1MGMtMzIuNiwzMC4zLTYzLjIsNDYuOS04NCw0Ni45IEMzMTYuOCw0OTIuNiwzMTMsNDkxLjcsMzEwLDQ5MHogTTU0Ny4yLDQxMy44YzQuNywzOC4yLTEuMSw2Ny45LTE0LjYsNzUuOGMtMywxLjgtNi45LDIuNi0xMS41LDIuNmMtMjAuNywwLTUxLjQtMTYuNS04NC00Ni42IGMxNC0xNC43LDI4LTMxLjQsNDEuMy00OS45YzIyLjYtMi40LDQ0LTYuMSw2My42LTExQzU0NC4zLDM5NC44LDU0Ni4xLDQwNC41LDU0Ny4yLDQxMy44eiBNNTg1LjcsMzQ3LjFjLTguNiwzLjctMTgsNy0yNy43LDEwLjEgYy01LjctMTkuNi0xMy4yLTQwLTIyLjUtNjAuOWM5LjItMjAuOCwxNi42LTQxLjEsMjIuMi02MC42YzkuOSwzLjEsMTkuMyw2LjUsMjguMSwxMC4yYzM1LjQsMTUuMSw1OC4zLDM0LjksNTguMyw1MC42IEM2NDQsMzEyLjIsNjIxLjEsMzMyLjEsNTg1LjcsMzQ3LjF6XFxcIi8+XFxyXFxuXFx0XFx0PHBvbHlnb24gcG9pbnRzPVxcXCIzMjAuOCw3OC40IDMyMC44LDc4LjQgMzIwLjgsNzguNFxcXCIvPlxcclxcblxcdFxcdDxjaXJjbGUgY3g9XFxcIjQyMC45XFxcIiBjeT1cXFwiMjk2LjVcXFwiIHI9XFxcIjQ1LjdcXFwiLz5cXHJcXG5cXHRcXHQ8cG9seWdvbiBwb2ludHM9XFxcIjUyMC41LDc4LjEgNTIwLjUsNzguMSA1MjAuNSw3OC4xXFxcIi8+XFxyXFxuXFx0PC9nPlxcclxcbjwvc3ZnPlxcclxcblwiOyIsIi8qIChpZ25vcmVkKSAqLyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IEFycmF5RXh0IH0gZnJvbSAnQGx1bWluby9hbGdvcml0aG0nO1xuaW1wb3J0IHsgSUVkaXRvck1pbWVUeXBlU2VydmljZSB9IGZyb20gJ0BqdXB5dGVybGFiL2NvZGVlZGl0b3InO1xuaW1wb3J0IENvZGVNaXJyb3IgZnJvbSAnY29kZW1pcnJvcic7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9tZXRhJztcbmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9ydW5tb2RlL3J1bm1vZGUnO1xuaW1wb3J0ICcuL2NvZGVtaXJyb3ItaXB5dGhvbic7XG5pbXBvcnQgJy4vY29kZW1pcnJvci1pcHl0aG9uZ2ZtJztcbi8vIEJ1bmRsZSBvdGhlciBjb21tb24gbW9kZXNcbmltcG9ydCAnY29kZW1pcnJvci9tb2RlL2phdmFzY3JpcHQvamF2YXNjcmlwdCc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9jc3MvY3NzJztcbmltcG9ydCAnY29kZW1pcnJvci9tb2RlL2p1bGlhL2p1bGlhJztcbmltcG9ydCAnY29kZW1pcnJvci9tb2RlL3Ivcic7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9tYXJrZG93bi9tYXJrZG93bic7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9jbGlrZS9jbGlrZSc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9zaGVsbC9zaGVsbCc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9zcWwvc3FsJztcbmltcG9ydCB7IFBhdGhFeHQgfSBmcm9tICdAanVweXRlcmxhYi9jb3JldXRpbHMnO1xuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBDb2RlTWlycm9yIE1vZGUgZnVuY3Rpb25hbGl0eS5cbiAqL1xuZXhwb3J0IHZhciBNb2RlO1xuKGZ1bmN0aW9uIChNb2RlKSB7XG4gICAgbGV0IHNwZWNMb2FkZXJzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTaW1wbGVzdCwgY2hlYXBlc3QgY2hlY2sgYnkgbW9kZSBuYW1lLlxuICAgICAgICAgICAgbG9hZGVyOiBhc3luYyAoc3BlYykgPT4gQ29kZU1pcnJvci5tb2Rlcy5oYXNPd25Qcm9wZXJ0eShzcGVjLm1vZGUpLFxuICAgICAgICAgICAgcmFuazogMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBGZXRjaCB0aGUgbW9kZSBhc3luY2hyb25vdXNseS5cbiAgICAgICAgICAgIGxvYWRlcjogZnVuY3Rpb24gKHNwZWMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbiBhcnJvdyBmdW5jdGlvbiBiZWxvdyBzZWVtcyB0byBtaXNjb21waWxlIGluIG91ciBjdXJyZW50IHdlYnBhY2sgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gaW52YWxpZCBqcy5cbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZShbYGNvZGVtaXJyb3IvbW9kZS8ke3NwZWMubW9kZX0vJHtzcGVjLm1vZGV9LmpzYF0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJhbms6IDk5XG4gICAgICAgIH1cbiAgICBdO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmF3IGxpc3Qgb2YgYXZhaWxhYmxlIG1vZGVzIHNwZWNzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1vZGVJbmZvKCkge1xuICAgICAgICByZXR1cm4gQ29kZU1pcnJvci5tb2RlSW5mbztcbiAgICB9XG4gICAgTW9kZS5nZXRNb2RlSW5mbyA9IGdldE1vZGVJbmZvO1xuICAgIC8qKlxuICAgICAqIFJ1bm5pbmcgYSBDb2RlTWlycm9yIG1vZGUgb3V0c2lkZSBvZiBhbiBlZGl0b3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcnVuKGNvZGUsIG1vZGUsIGVsKSB7XG4gICAgICAgIENvZGVNaXJyb3IucnVuTW9kZShjb2RlLCBtb2RlLCBlbCk7XG4gICAgfVxuICAgIE1vZGUucnVuID0gcnVuO1xuICAgIC8qKlxuICAgICAqIEVuc3VyZSBhIGNvZGVtaXJyb3IgbW9kZSBpcyBhdmFpbGFibGUgYnkgbmFtZSBvciBDb2RlbWlycm9yIHNwZWMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbW9kZSAtIFRoZSBtb2RlIHRvIGVuc3VyZS4gIElmIGl0IGlzIGEgc3RyaW5nLCB1c2VzIFtmaW5kQmVzdF1cbiAgICAgKiAgIHRvIGdldCB0aGUgYXBwcm9wcmlhdGUgc3BlYy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1vZGUgaXMgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGVuc3VyZShtb2RlKSB7XG4gICAgICAgIGxldCBzcGVjID0gZmluZEJlc3QobW9kZSk7XG4gICAgICAgIGZvciAobGV0IHNwZWNMb2FkZXIgb2Ygc3BlY0xvYWRlcnMpIHtcbiAgICAgICAgICAgIGlmIChhd2FpdCBzcGVjTG9hZGVyLmxvYWRlcihzcGVjKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcGVjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBNb2RlLmVuc3VyZSA9IGVuc3VyZTtcbiAgICBmdW5jdGlvbiBhZGRTcGVjTG9hZGVyKGxvYWRlciwgcmFuaykge1xuICAgICAgICBsZXQgaXRlbSA9IHsgbG9hZGVyLCByYW5rIH07XG4gICAgICAgIGxldCBpbmRleCA9IEFycmF5RXh0LnVwcGVyQm91bmQoc3BlY0xvYWRlcnMsIGl0ZW0sIFByaXZhdGUuaXRlbUNtcCk7XG4gICAgICAgIEFycmF5RXh0Lmluc2VydChzcGVjTG9hZGVycywgaW5kZXgsIGl0ZW0pO1xuICAgIH1cbiAgICBNb2RlLmFkZFNwZWNMb2FkZXIgPSBhZGRTcGVjTG9hZGVyO1xuICAgIC8qKlxuICAgICAqIEZpbmQgYSBjb2RlbWlycm9yIG1vZGUgYnkgbmFtZSBvciBDb2RlTWlycm9yIHNwZWMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEJlc3QobW9kZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBtb2RlbmFtZSA9IHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyA/IG1vZGUgOiBtb2RlLm1vZGUgfHwgbW9kZS5uYW1lO1xuICAgICAgICBsZXQgbWltZXR5cGUgPSB0eXBlb2YgbW9kZSAhPT0gJ3N0cmluZycgPyBtb2RlLm1pbWUgOiBtb2RlbmFtZTtcbiAgICAgICAgbGV0IGV4dCA9IHR5cGVvZiBtb2RlICE9PSAnc3RyaW5nJyA/IChfYSA9IG1vZGUuZXh0LCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pKSA6IFtdO1xuICAgICAgICByZXR1cm4gKENvZGVNaXJyb3IuZmluZE1vZGVCeU5hbWUobW9kZW5hbWUgfHwgJycpIHx8XG4gICAgICAgICAgICBDb2RlTWlycm9yLmZpbmRNb2RlQnlNSU1FKG1pbWV0eXBlIHx8ICcnKSB8fFxuICAgICAgICAgICAgZmluZEJ5RXh0ZW5zaW9uKGV4dCkgfHxcbiAgICAgICAgICAgIENvZGVNaXJyb3IuZmluZE1vZGVCeU1JTUUoSUVkaXRvck1pbWVUeXBlU2VydmljZS5kZWZhdWx0TWltZVR5cGUpIHx8XG4gICAgICAgICAgICBDb2RlTWlycm9yLmZpbmRNb2RlQnlNSU1FKCd0ZXh0L3BsYWluJykpO1xuICAgIH1cbiAgICBNb2RlLmZpbmRCZXN0ID0gZmluZEJlc3Q7XG4gICAgLyoqXG4gICAgICogRmluZCBhIGNvZGVtaXJyb3IgbW9kZSBieSBNSU1FLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRCeU1JTUUobWltZSkge1xuICAgICAgICByZXR1cm4gQ29kZU1pcnJvci5maW5kTW9kZUJ5TUlNRShtaW1lKTtcbiAgICB9XG4gICAgTW9kZS5maW5kQnlNSU1FID0gZmluZEJ5TUlNRTtcbiAgICAvKipcbiAgICAgKiBGaW5kIGEgY29kZW1pcnJvciBtb2RlIGJ5IG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEJ5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBDb2RlTWlycm9yLmZpbmRNb2RlQnlOYW1lKG5hbWUpO1xuICAgIH1cbiAgICBNb2RlLmZpbmRCeU5hbWUgPSBmaW5kQnlOYW1lO1xuICAgIC8qKlxuICAgICAqIEZpbmQgYSBjb2RlbWlycm9yIG1vZGUgYnkgZmlsZW5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEJ5RmlsZU5hbWUobmFtZSkge1xuICAgICAgICBsZXQgYmFzZW5hbWUgPSBQYXRoRXh0LmJhc2VuYW1lKG5hbWUpO1xuICAgICAgICByZXR1cm4gQ29kZU1pcnJvci5maW5kTW9kZUJ5RmlsZU5hbWUoYmFzZW5hbWUpO1xuICAgIH1cbiAgICBNb2RlLmZpbmRCeUZpbGVOYW1lID0gZmluZEJ5RmlsZU5hbWU7XG4gICAgLyoqXG4gICAgICogRmluZCBhIGNvZGVtaXJyb3IgbW9kZSBieSBleHRlbnNpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEJ5RXh0ZW5zaW9uKGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIGV4dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBDb2RlTWlycm9yLmZpbmRNb2RlQnlFeHRlbnNpb24obmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBtb2RlID0gQ29kZU1pcnJvci5maW5kTW9kZUJ5RXh0ZW5zaW9uKGV4dFtpXSk7XG4gICAgICAgICAgICBpZiAobW9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBNb2RlLmZpbmRCeUV4dGVuc2lvbiA9IGZpbmRCeUV4dGVuc2lvbjtcbn0pKE1vZGUgfHwgKE1vZGUgPSB7fSkpO1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBBIGxlc3MtdGhhbiBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciB0aGUgbG9hZGVyIHJhbmtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpdGVtQ21wKGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgICAgcmV0dXJuIGZpcnN0LnJhbmsgLSBzZWNvbmQucmFuaztcbiAgICB9XG4gICAgUHJpdmF0ZS5pdGVtQ21wID0gaXRlbUNtcDtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kZS5qcy5tYXAiLCIvKiAoaWdub3JlZCkgKi8iLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBNZXNzYWdlTG9vcCB9IGZyb20gJ0BsdW1pbm8vbWVzc2FnaW5nJztcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0BsdW1pbm8vc2lnbmFsaW5nJztcbmltcG9ydCB7IFdpZGdldCB9IGZyb20gJ0BsdW1pbm8vd2lkZ2V0cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuLyoqXG4gKiBBbiBhYnN0cmFjdCBjbGFzcyBmb3IgYSBQaG9zcGhvciB3aWRnZXQgd2hpY2ggcmVuZGVycyBhIFJlYWN0IGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWN0V2lkZ2V0IGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGBSZWFjdFdpZGdldGAgdGhhdCByZW5kZXJzIGEgY29uc3RhbnQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gZWxlbWVudCBSZWFjdCBlbGVtZW50IHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyAoY2xhc3MgZXh0ZW5kcyBSZWFjdFdpZGdldCB7XG4gICAgICAgICAgICByZW5kZXIoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB0byB1cGRhdGUgdGhlIHN0YXRlIG9mIHRoZSB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIG1ldGhvZCB0cmlnZ2Vyc1xuICAgICAqIFZET00gYmFzZWQgcmVuZGVyaW5nIGJ5IGNhbGxpbmcgdGhlIGByZW5kZXJET01gIG1ldGhvZC5cbiAgICAgKi9cbiAgICBvblVwZGF0ZVJlcXVlc3QobXNnKSB7XG4gICAgICAgIHRoaXMucmVuZGVyUHJvbWlzZSA9IHRoaXMucmVuZGVyRE9NKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciB0aGUgd2lkZ2V0IGlzIGF0dGFjaGVkIHRvIHRoZSBET01cbiAgICAgKi9cbiAgICBvbkFmdGVyQXR0YWNoKG1zZykge1xuICAgICAgICAvLyBNYWtlICpzdXJlKiB0aGUgd2lkZ2V0IGlzIHJlbmRlcmVkLlxuICAgICAgICBNZXNzYWdlTG9vcC5zZW5kTWVzc2FnZSh0aGlzLCBXaWRnZXQuTXNnLlVwZGF0ZVJlcXVlc3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYmVmb3JlIHRoZSB3aWRnZXQgaXMgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIG9uQmVmb3JlRGV0YWNoKG1zZykge1xuICAgICAgICAvLyBVbm1vdW50IHRoZSBjb21wb25lbnQgc28gaXQgY2FuIHRlYXIgZG93bi5cbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLm5vZGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIFJlYWN0IG5vZGVzIHRvIHRoZSBET00uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSByZW5kZXJpbmcgaXMgZG9uZS5cbiAgICAgKi9cbiAgICByZW5kZXJET00oKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGxldCB2bm9kZSA9IHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICAvLyBTcGxpdCB1cCB0aGUgYXJyYXkvZWxlbWVudCBjYXNlcyBzbyB0eXBlIGluZmVyZW5jZSBjaG9vc2VzIHRoZSByaWdodFxuICAgICAgICAgICAgLy8gc2lnbmF0dXJlLlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodm5vZGUpKSB7XG4gICAgICAgICAgICAgICAgUmVhY3RET00ucmVuZGVyKHZub2RlLCB0aGlzLm5vZGUsIHJlc29sdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodm5vZGUpIHtcbiAgICAgICAgICAgICAgICBSZWFjdERPTS5yZW5kZXIodm5vZGUsIHRoaXMubm9kZSwgcmVzb2x2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogQW4gYWJzdHJhY3QgUmVhY3RXaWRnZXQgd2l0aCBhIG1vZGVsLlxuICovXG5leHBvcnQgY2xhc3MgVkRvbVJlbmRlcmVyIGV4dGVuZHMgUmVhY3RXaWRnZXQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBWRG9tUmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9tb2RlbENoYW5nZWQgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsID0gKChtb2RlbCAhPT0gbnVsbCAmJiBtb2RlbCAhPT0gdm9pZCAwID8gbW9kZWwgOiBudWxsKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgbW9kZWwgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgbW9kZWxDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWxDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG1vZGVsIGFuZCBmaXJlIGNoYW5nZWQgc2lnbmFscy5cbiAgICAgKi9cbiAgICBzZXQgbW9kZWwobmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vZGVsID09PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tb2RlbCkge1xuICAgICAgICAgICAgdGhpcy5fbW9kZWwuc3RhdGVDaGFuZ2VkLmRpc2Nvbm5lY3QodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZGVsID0gbmV3VmFsdWU7XG4gICAgICAgIGlmIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgbmV3VmFsdWUuc3RhdGVDaGFuZ2VkLmNvbm5lY3QodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuX21vZGVsQ2hhbmdlZC5lbWl0KHZvaWQgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBtb2RlbC5cbiAgICAgKi9cbiAgICBnZXQgbW9kZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSB0aGlzIHdpZGdldC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kZWwgPSBudWxsO1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBVc2VTaWduYWwgcHJvdmlkZXMgYSB3YXkgdG8gaG9vayB1cCBhIFBob3NwaG9yIHNpZ25hbCB0byBhIFJlYWN0IGVsZW1lbnQsXG4gKiBzbyB0aGF0IHRoZSBlbGVtZW50IGlzIHJlLXJlbmRlcmVkIGV2ZXJ5IHRpbWUgdGhlIHNpZ25hbCBmaXJlcy5cbiAqXG4gKiBJdCBpcyBpbXBsZW1lbnRlZCB0aHJvdWdoIHRoZSBcInJlbmRlciBwcm9wc1wiIHRlY2huaXF1ZSwgdXNpbmcgdGhlIGBjaGlsZHJlbmBcbiAqIHByb3AgYXMgYSBmdW5jdGlvbiB0byByZW5kZXIsIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgZWl0aGVyIGFzIGEgcHJvcCBvciBhcyBhIGNoaWxkXG4gKiBvZiB0aGlzIGVsZW1lbnRcbiAqIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZW5kZXItcHJvcHMuaHRtbFxuICpcbiAqXG4gKiBFeGFtcGxlIGFzIGNoaWxkOlxuICpcbiAqIGBgYFxuICogZnVuY3Rpb24gTGl2ZUJ1dHRvbihpc0FjdGl2ZVNpZ25hbDogSVNpZ25hbDxhbnksIGJvb2xlYW4+KSB7XG4gKiAgcmV0dXJuIChcbiAqICAgIDxVc2VTaWduYWwgc2lnbmFsPXtpc0FjdGl2ZVNpZ25hbH0gaW5pdGlhbEFyZ3M9e1RydWV9PlxuICogICAgIHsoXywgaXNBY3RpdmUpID0+IDxCdXR0b24gaXNBY3RpdmU9e2lzQWN0aXZlfT59XG4gKiAgICA8L1VzZVNpZ25hbD5cbiAqICApXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBFeGFtcGxlIGFzIHByb3A6XG4gKlxuICogYGBgXG4gKiBmdW5jdGlvbiBMaXZlQnV0dG9uKGlzQWN0aXZlU2lnbmFsOiBJU2lnbmFsPGFueSwgYm9vbGVhbj4pIHtcbiAqICByZXR1cm4gKFxuICogICAgPFVzZVNpZ25hbFxuICogICAgICBzaWduYWw9e2lzQWN0aXZlU2lnbmFsfVxuICogICAgICBpbml0aWFsQXJncz17VHJ1ZX1cbiAqICAgICAgY2hpbGRyZW49eyhfLCBpc0FjdGl2ZSkgPT4gPEJ1dHRvbiBpc0FjdGl2ZT17aXNBY3RpdmV9Pn1cbiAqICAgIC8+XG4gKiAgKVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBVc2VTaWduYWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zbG90ID0gKHNlbmRlciwgYXJncykgPT4ge1xuICAgICAgICAgICAgLy8gc2tpcCBzZXR0aW5nIG5ldyBzdGF0ZSBpZiB3ZSBoYXZlIGEgc2hvdWxkVXBkYXRlIGZ1bmN0aW9uIGFuZCBpdCByZXR1cm5zIGZhbHNlXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG91bGRVcGRhdGUgJiYgIXRoaXMucHJvcHMuc2hvdWxkVXBkYXRlKHNlbmRlciwgYXJncykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IFtzZW5kZXIsIGFyZ3NdIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXRlID0geyB2YWx1ZTogW3RoaXMucHJvcHMuaW5pdGlhbFNlbmRlciwgdGhpcy5wcm9wcy5pbml0aWFsQXJnc10gfTtcbiAgICB9XG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2lnbmFsLmNvbm5lY3QodGhpcy5zbG90KTtcbiAgICB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2lnbmFsLmRpc2Nvbm5lY3QodGhpcy5zbG90KTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbiguLi50aGlzLnN0YXRlLnZhbHVlKTtcbiAgICB9XG59XG4vKipcbiAqIENvbmNyZXRlIGltcGxlbWVudGF0aW9uIG9mIFZEb21SZW5kZXJlciBtb2RlbC5cbiAqL1xuZXhwb3J0IGNsYXNzIFZEb21Nb2RlbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gYW55IG1vZGVsIHN0YXRlIGNoYW5nZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBtb2RlbCBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2UgdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZG9tLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBEZXNlcmlhbGl6ZSBhbmQgcmV0dXJuIHRoZSB1bnBhY2tlZCBtZXNzYWdlLlxuICpcbiAqICMjIyMgTm90ZXNcbiAqIEhhbmRsZXMgSlNPTiBibG9iIHN0cmluZ3MgYW5kIGJpbmFyeSBtZXNzYWdlcy5cbiAqL1xuZnVuY3Rpb24gZGVzZXJpYWxpemUoZGF0YSkge1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGVzZXJpYWxpemVCaW5hcnkoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydHMuZGVzZXJpYWxpemUgPSBkZXNlcmlhbGl6ZTtcbi8qKlxuICogU2VyaWFsaXplIGEga2VybmVsIG1lc3NhZ2UgZm9yIHRyYW5zcG9ydC5cbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiBJZiB0aGVyZSBpcyBiaW5hcnkgY29udGVudCwgYW4gYEFycmF5QnVmZmVyYCBpcyByZXR1cm5lZCxcbiAqIG90aGVyd2lzZSB0aGUgbWVzc2FnZSBpcyBjb252ZXJ0ZWQgdG8gYSBKU09OIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplKG1zZykge1xuICAgIHZhciBfYTtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKChfYSA9IG1zZy5idWZmZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB7XG4gICAgICAgIHZhbHVlID0gc2VyaWFsaXplQmluYXJ5KG1zZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KG1zZyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuLyoqXG4gKiBEZXNlcmlhbGl6ZSBhIGJpbmFyeSBtZXNzYWdlIHRvIGEgS2VybmVsIE1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGRlc2VyaWFsaXplQmluYXJ5KGJ1Zikge1xuICAgIGxldCBkYXRhID0gbmV3IERhdGFWaWV3KGJ1Zik7XG4gICAgLy8gcmVhZCB0aGUgaGVhZGVyOiAxICsgbmJ1ZnMgMzJiIGludGVnZXJzXG4gICAgbGV0IG5idWZzID0gZGF0YS5nZXRVaW50MzIoMCk7XG4gICAgbGV0IG9mZnNldHMgPSBbXTtcbiAgICBpZiAobmJ1ZnMgPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbmNvbWluZyBLZXJuZWwgTWVzc2FnZScpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBuYnVmczsgaSsrKSB7XG4gICAgICAgIG9mZnNldHMucHVzaChkYXRhLmdldFVpbnQzMihpICogNCkpO1xuICAgIH1cbiAgICBsZXQganNvbkJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmLnNsaWNlKG9mZnNldHNbMF0sIG9mZnNldHNbMV0pKTtcbiAgICBsZXQgbXNnID0gSlNPTi5wYXJzZShuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKS5kZWNvZGUoanNvbkJ5dGVzKSk7XG4gICAgLy8gdGhlIHJlbWFpbmluZyBjaHVua3MgYXJlIHN0b3JlZCBhcyBEYXRhVmlld3MgaW4gbXNnLmJ1ZmZlcnNcbiAgICBtc2cuYnVmZmVycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbmJ1ZnM7IGkrKykge1xuICAgICAgICBsZXQgc3RhcnQgPSBvZmZzZXRzW2ldO1xuICAgICAgICBsZXQgc3RvcCA9IG9mZnNldHNbaSArIDFdIHx8IGJ1Zi5ieXRlTGVuZ3RoO1xuICAgICAgICBtc2cuYnVmZmVycy5wdXNoKG5ldyBEYXRhVmlldyhidWYuc2xpY2Uoc3RhcnQsIHN0b3ApKSk7XG4gICAgfVxuICAgIHJldHVybiBtc2c7XG59XG4vKipcbiAqIEltcGxlbWVudCB0aGUgYmluYXJ5IHNlcmlhbGl6YXRpb24gcHJvdG9jb2wuXG4gKlxuICogU2VyaWFsaXplIEtlcm5lbCBtZXNzYWdlIHRvIEFycmF5QnVmZmVyLlxuICovXG5mdW5jdGlvbiBzZXJpYWxpemVCaW5hcnkobXNnKSB7XG4gICAgbGV0IG9mZnNldHMgPSBbXTtcbiAgICBsZXQgYnVmZmVycyA9IFtdO1xuICAgIGxldCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgbGV0IG9yaWdCdWZmZXJzID0gW107XG4gICAgaWYgKG1zZy5idWZmZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3JpZ0J1ZmZlcnMgPSBtc2cuYnVmZmVycztcbiAgICAgICAgZGVsZXRlIG1zZ1snYnVmZmVycyddO1xuICAgIH1cbiAgICBsZXQganNvblV0ZjggPSBlbmNvZGVyLmVuY29kZShKU09OLnN0cmluZ2lmeShtc2cpKTtcbiAgICBidWZmZXJzLnB1c2goanNvblV0ZjguYnVmZmVyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9yaWdCdWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIG1zZy5idWZmZXJzIGVsZW1lbnRzIGNvdWxkIGJlIGVpdGhlciB2aWV3cyBvciBBcnJheUJ1ZmZlcnNcbiAgICAgICAgLy8gYnVmZmVycyBlbGVtZW50cyBhcmUgQXJyYXlCdWZmZXJzXG4gICAgICAgIGxldCBiID0gb3JpZ0J1ZmZlcnNbaV07XG4gICAgICAgIGJ1ZmZlcnMucHVzaChiIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBiIDogYi5idWZmZXIpO1xuICAgIH1cbiAgICBsZXQgbmJ1ZnMgPSBidWZmZXJzLmxlbmd0aDtcbiAgICBvZmZzZXRzLnB1c2goNCAqIChuYnVmcyArIDEpKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSArIDEgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG9mZnNldHMucHVzaChvZmZzZXRzW29mZnNldHMubGVuZ3RoIC0gMV0gKyBidWZmZXJzW2ldLmJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICBsZXQgbXNnQnVmID0gbmV3IFVpbnQ4QXJyYXkob2Zmc2V0c1tvZmZzZXRzLmxlbmd0aCAtIDFdICsgYnVmZmVyc1tidWZmZXJzLmxlbmd0aCAtIDFdLmJ5dGVMZW5ndGgpO1xuICAgIC8vIHVzZSBEYXRhVmlldy5zZXRVaW50MzIgZm9yIG5ldHdvcmsgYnl0ZS1vcmRlclxuICAgIGxldCB2aWV3ID0gbmV3IERhdGFWaWV3KG1zZ0J1Zi5idWZmZXIpO1xuICAgIC8vIHdyaXRlIG5idWZzIHRvIGZpcnN0IDQgYnl0ZXNcbiAgICB2aWV3LnNldFVpbnQzMigwLCBuYnVmcyk7XG4gICAgLy8gd3JpdGUgb2Zmc2V0cyB0byBuZXh0IDQgKiBuYnVmcyBieXRlc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2Zmc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2aWV3LnNldFVpbnQzMig0ICogKGkgKyAxKSwgb2Zmc2V0c1tpXSk7XG4gICAgfVxuICAgIC8vIHdyaXRlIGFsbCB0aGUgYnVmZmVycyBhdCB0aGVpciByZXNwZWN0aXZlIG9mZnNldHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbXNnQnVmLnNldChuZXcgVWludDhBcnJheShidWZmZXJzW2ldKSwgb2Zmc2V0c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBtc2dCdWYuYnVmZmVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXplLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IEp1cHl0ZXJMYWJNZW51IH0gZnJvbSAnLi9sYWJtZW51Jztcbi8qKlxuICogQW4gZXh0ZW5zaWJsZSBFZGl0IG1lbnUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEVkaXRNZW51IGV4dGVuZHMgSnVweXRlckxhYk1lbnUge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCB0aGUgZWRpdCBtZW51LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWVudS50aXRsZS5sYWJlbCA9ICdFZGl0JztcbiAgICAgICAgdGhpcy51bmRvZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmNsZWFyZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmdvVG9MaW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBlZGl0IG1lbnUuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy51bmRvZXJzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuY2xlYXJlcnMuY2xlYXIoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVkaXQuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTg2MC44IDQ3NSclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjInIGZpbGw9JyUyMzRFNEU0RScgdHJhbnNmb3JtPSd0cmFuc2xhdGUoNDgwLjEzNjQwMSwgNjQuMjcxNDkzKSclM0UgJTNDZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAwMDAwMCwgNTguODc1NTY2KSclM0UgJTNDZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjA4NzYwMywgMC4xNDAyOTQpJyUzRSAlM0NwYXRoIGQ9J00tNDI2LjksMTY5LjhjMCw0OC43LTMuNyw2NC43LTEzLjYsNzYuNGMtMTAuOCwxMC0yNSwxNS41LTM5LjcsMTUuNWwzLjcsMjkgYzIyLjgsMC4zLDQ0LjgtNy45LDYxLjktMjMuMWMxNy44LTE4LjUsMjQtNDQuMSwyNC04My4zVjBILTQyN3YxNzAuMUwtNDI2LjksMTY5LjhMLTQyNi45LDE2OS44eicvJTNFICUzQy9nJTNFICUzQy9nJTNFICUzQ2cgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTU1LjA0NTI5NiwgNTYuODM3MTA0KSclM0UgJTNDZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjU2MjQ1MywgMS43OTk4NDIpJyUzRSAlM0NwYXRoIGQ9J00tMzEyLDE0OGMwLDIxLDAsMzkuNSwxLjcsNTUuNGgtMzEuOGwtMi4xLTMzLjNoLTAuOGMtNi43LDExLjYtMTYuNCwyMS4zLTI4LDI3LjkgYy0xMS42LDYuNi0yNC44LDEwLTM4LjIsOS44Yy0zMS40LDAtNjktMTcuNy02OS04OVYwaDM2LjR2MTEyLjdjMCwzOC43LDExLjYsNjQuNyw0NC42LDY0LjdjMTAuMy0wLjIsMjAuNC0zLjUsMjguOS05LjQgYzguNS01LjksMTUuMS0xNC4zLDE4LjktMjMuOWMyLjItNi4xLDMuMy0xMi41LDMuMy0xOC45VjAuMmgzNi40VjE0OEgtMzEyTC0zMTIsMTQ4eicvJTNFICUzQy9nJTNFICUzQy9nJTNFICUzQ2cgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMzkwLjAxMzMyMiwgNTMuNDc5NjM4KSclM0UgJTNDZyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgxLjcwNjQ1OCwgMC4yMzE0MjUpJyUzRSAlM0NwYXRoIGQ9J00tNDc4LjYsNzEuNGMwLTI2LTAuOC00Ny0xLjctNjYuN2gzMi43bDEuNywzNC44aDAuOGM3LjEtMTIuNSwxNy41LTIyLjgsMzAuMS0yOS43IGMxMi41LTcsMjYuNy0xMC4zLDQxLTkuOGM0OC4zLDAsODQuNyw0MS43LDg0LjcsMTAzLjNjMCw3My4xLTQzLjcsMTA5LjItOTEsMTA5LjJjLTEyLjEsMC41LTI0LjItMi4yLTM1LTcuOCBjLTEwLjgtNS42LTE5LjktMTMuOS0yNi42LTI0LjJoLTAuOFYyOTFoLTM2di0yMjBMLTQ3OC42LDcxLjRMLTQ3OC42LDcxLjR6IE0tNDQyLjYsMTI1LjZjMC4xLDUuMSwwLjYsMTAuMSwxLjcsMTUuMSBjMywxMi4zLDkuOSwyMy4zLDE5LjgsMzEuMWM5LjksNy44LDIyLjEsMTIuMSwzNC43LDEyLjFjMzguNSwwLDYwLjctMzEuOSw2MC43LTc4LjVjMC00MC43LTIxLjEtNzUuNi01OS41LTc1LjYgYy0xMi45LDAuNC0yNS4zLDUuMS0zNS4zLDEzLjRjLTkuOSw4LjMtMTYuOSwxOS43LTE5LjYsMzIuNGMtMS41LDQuOS0yLjMsMTAtMi41LDE1LjFWMTI1LjZMLTQ0Mi42LDEyNS42TC00NDIuNiwxMjUuNnonLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0NnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDYwNi43NDA3MjYsIDU2LjgzNzEwNCknJTNFICUzQ2cgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC43NTEyMjYsIDEuOTg5Mjk5KSclM0UgJTNDcGF0aCBkPSdNLTQ0MC44LDBsNDMuNywxMjAuMWM0LjUsMTMuNCw5LjUsMjkuNCwxMi44LDQxLjdoMC44YzMuNy0xMi4yLDcuOS0yNy43LDEyLjgtNDIuNCBsMzkuNy0xMTkuMmgzOC41TC0zNDYuOSwxNDVjLTI2LDY5LjctNDMuNywxMDUuNC02OC42LDEyNy4yYy0xMi41LDExLjctMjcuOSwyMC00NC42LDIzLjlsLTkuMS0zMS4xIGMxMS43LTMuOSwyMi41LTEwLjEsMzEuOC0xOC4xYzEzLjItMTEuMSwyMy43LTI1LjIsMzAuNi00MS4yYzEuNS0yLjgsMi41LTUuNywyLjktOC44Yy0wLjMtMy4zLTEuMi02LjYtMi41LTkuN0wtNDgwLjIsMC4xIGgzOS43TC00NDAuOCwwTC00NDAuOCwweicvJTNFICUzQy9nJTNFICUzQy9nJTNFICUzQ2cgdHJhbnNmb3JtPSd0cmFuc2xhdGUoODIyLjc0ODEwNCwgMC4wMDAwMDApJyUzRSAlM0NnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuNDY0MDUwLCAwLjM3ODkxNCknJTNFICUzQ3BhdGggZD0nTS00MTMuNywwdjU4LjNoNTJ2MjguMmgtNTJWMTk2YzAsMjUsNywzOS41LDI3LjMsMzkuNWM3LjEsMC4xLDE0LjItMC43LDIxLjEtMi41IGwxLjcsMjcuN2MtMTAuMywzLjctMjEuMyw1LjQtMzIuMiw1Yy03LjMsMC40LTE0LjYtMC43LTIxLjMtMy40Yy02LjgtMi43LTEyLjktNi44LTE3LjktMTIuMWMtMTAuMy0xMC45LTE0LjEtMjktMTQuMS01Mi45IFY4Ni41aC0zMVY1OC4zaDMxVjkuNkwtNDEzLjcsMEwtNDEzLjcsMHonLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0NnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDk3NC40MzMyODYsIDUzLjQ3OTYzOCknJTNFICUzQ2cgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMC45OTAwMzQsIDAuNjEwMzM5KSclM0UgJTNDcGF0aCBkPSdNLTQ0NS44LDExM2MwLjgsNTAsMzIuMiw3MC42LDY4LjYsNzAuNmMxOSwwLjYsMzcuOS0zLDU1LjMtMTAuNWw2LjIsMjYuNCBjLTIwLjksOC45LTQzLjUsMTMuMS02Ni4yLDEyLjZjLTYxLjUsMC05OC4zLTQxLjItOTguMy0xMDIuNUMtNDgwLjIsNDguMi00NDQuNywwLTM4Ni41LDBjNjUuMiwwLDgyLjcsNTguMyw4Mi43LDk1LjcgYy0wLjEsNS44LTAuNSwxMS41LTEuMiwxNy4yaC0xNDAuNkgtNDQ1LjhMLTQ0NS44LDExM3ogTS0zMzkuMiw4Ni42YzAuNC0yMy41LTkuNS02MC4xLTUwLjQtNjAuMSBjLTM2LjgsMC01Mi44LDM0LjQtNTUuNyw2MC4xSC0zMzkuMkwtMzM5LjIsODYuNkwtMzM5LjIsODYuNnonLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0NnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEyMDEuOTYxMDU4LCA1My40Nzk2MzgpJyUzRSAlM0NnIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDEuMTc5NjQwLCAwLjcwNTA2OCknJTNFICUzQ3BhdGggZD0nTS00NzguNiw2OGMwLTIzLjktMC40LTQ0LjUtMS43LTYzLjRoMzEuOGwxLjIsMzkuOWgxLjdjOS4xLTI3LjMsMzEtNDQuNSw1NS4zLTQ0LjUgYzMuNS0wLjEsNywwLjQsMTAuMywxLjJ2MzQuOGMtNC4xLTAuOS04LjItMS4zLTEyLjQtMS4yYy0yNS42LDAtNDMuNywxOS43LTQ4LjcsNDcuNGMtMSw1LjctMS42LDExLjUtMS43LDE3LjJ2MTA4LjNoLTM2VjY4IEwtNDc4LjYsNjh6Jy8lM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDZyBjbGFzcz0nanAtaWNvbi13YXJuMCcgZmlsbD0nJTIzRjM3NzI2JyUzRSAlM0NwYXRoIGQ9J00xMzUyLjMsMzI2LjJoMzdWMjhoLTM3VjMyNi4yeiBNMTYwNC44LDMyNi4yYy0yLjUtMTMuOS0zLjQtMzEuMS0zLjQtNDguN3YtNzYgYzAtNDAuNy0xNS4xLTgzLjEtNzcuMy04My4xYy0yNS42LDAtNTAsNy4xLTY2LjgsMTguMWw4LjQsMjQuNGMxNC4zLTkuMiwzNC0xNS4xLDUzLTE1LjFjNDEuNiwwLDQ2LjIsMzAuMiw0Ni4yLDQ3djQuMiBjLTc4LjYtMC40LTEyMi4zLDI2LjUtMTIyLjMsNzUuNmMwLDI5LjQsMjEsNTguNCw2Mi4yLDU4LjRjMjksMCw1MC45LTE0LjMsNjIuMi0zMC4yaDEuM2wyLjksMjUuNkgxNjA0Ljh6IE0xNTY1LjcsMjU3LjcgYzAsMy44LTAuOCw4LTIuMSwxMS44Yy01LjksMTcuMi0yMi43LDM0LTQ5LjIsMzRjLTE4LjksMC0zNC45LTExLjMtMzQuOS0zNS4zYzAtMzkuNSw0NS44LTQ2LjYsODYuMi00NS44VjI1Ny43eiBNMTY5OC41LDMyNi4yIGwxLjctMzMuNmgxLjNjMTUuMSwyNi45LDM4LjcsMzguMiw2OC4xLDM4LjJjNDUuNCwwLDkxLjItMzYuMSw5MS4yLTEwOC44YzAuNC02MS43LTM1LjMtMTAzLjctODUuNy0xMDMuNyBjLTMyLjgsMC01Ni4zLDE0LjctNjkuMywzNy40aC0wLjhWMjhoLTM2LjZ2MjQ1LjdjMCwxOC4xLTAuOCwzOC42LTEuNyw1Mi41SDE2OTguNXogTTE3MDQuOCwyMDguMmMwLTUuOSwxLjMtMTAuOSwyLjEtMTUuMSBjNy42LTI4LjEsMzEuMS00NS40LDU2LjMtNDUuNGMzOS41LDAsNjAuNSwzNC45LDYwLjUsNzUuNmMwLDQ2LjYtMjMuMSw3OC4xLTYxLjgsNzguMWMtMjYuOSwwLTQ4LjMtMTcuNi01NS41LTQzLjMgYy0wLjgtNC4yLTEuNy04LjgtMS43LTEzLjRWMjA4LjJ6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE4NjAuOCA0NzVcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24yXFxcIiBmaWxsPVxcXCIjNEU0RTRFXFxcIiB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSg0ODAuMTM2NDAxLCA2NC4yNzE0OTMpXFxcIj5cXG4gICAgPGcgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMC4wMDAwMDAsIDU4Ljg3NTU2NilcXFwiPlxcbiAgICAgIDxnIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDAuMDg3NjAzLCAwLjE0MDI5NClcXFwiPlxcbiAgICAgICAgPHBhdGggZD1cXFwiTS00MjYuOSwxNjkuOGMwLDQ4LjctMy43LDY0LjctMTMuNiw3Ni40Yy0xMC44LDEwLTI1LDE1LjUtMzkuNywxNS41bDMuNywyOSBjMjIuOCwwLjMsNDQuOC03LjksNjEuOS0yMy4xYzE3LjgtMTguNSwyNC00NC4xLDI0LTgzLjNWMEgtNDI3djE3MC4xTC00MjYuOSwxNjkuOEwtNDI2LjksMTY5Ljh6XFxcIi8+XFxuICAgICAgPC9nPlxcbiAgICA8L2c+XFxuICAgIDxnIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDE1NS4wNDUyOTYsIDU2LjgzNzEwNClcXFwiPlxcbiAgICAgIDxnIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDEuNTYyNDUzLCAxLjc5OTg0MilcXFwiPlxcbiAgICAgICAgPHBhdGggZD1cXFwiTS0zMTIsMTQ4YzAsMjEsMCwzOS41LDEuNyw1NS40aC0zMS44bC0yLjEtMzMuM2gtMC44Yy02LjcsMTEuNi0xNi40LDIxLjMtMjgsMjcuOSBjLTExLjYsNi42LTI0LjgsMTAtMzguMiw5LjhjLTMxLjQsMC02OS0xNy43LTY5LTg5VjBoMzYuNHYxMTIuN2MwLDM4LjcsMTEuNiw2NC43LDQ0LjYsNjQuN2MxMC4zLTAuMiwyMC40LTMuNSwyOC45LTkuNCBjOC41LTUuOSwxNS4xLTE0LjMsMTguOS0yMy45YzIuMi02LjEsMy4zLTEyLjUsMy4zLTE4LjlWMC4yaDM2LjRWMTQ4SC0zMTJMLTMxMiwxNDh6XFxcIi8+XFxuICAgICAgPC9nPlxcbiAgICA8L2c+XFxuICAgIDxnIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDM5MC4wMTMzMjIsIDUzLjQ3OTYzOClcXFwiPlxcbiAgICAgIDxnIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDEuNzA2NDU4LCAwLjIzMTQyNSlcXFwiPlxcbiAgICAgICAgPHBhdGggZD1cXFwiTS00NzguNiw3MS40YzAtMjYtMC44LTQ3LTEuNy02Ni43aDMyLjdsMS43LDM0LjhoMC44YzcuMS0xMi41LDE3LjUtMjIuOCwzMC4xLTI5LjcgYzEyLjUtNywyNi43LTEwLjMsNDEtOS44YzQ4LjMsMCw4NC43LDQxLjcsODQuNywxMDMuM2MwLDczLjEtNDMuNywxMDkuMi05MSwxMDkuMmMtMTIuMSwwLjUtMjQuMi0yLjItMzUtNy44IGMtMTAuOC01LjYtMTkuOS0xMy45LTI2LjYtMjQuMmgtMC44VjI5MWgtMzZ2LTIyMEwtNDc4LjYsNzEuNEwtNDc4LjYsNzEuNHogTS00NDIuNiwxMjUuNmMwLjEsNS4xLDAuNiwxMC4xLDEuNywxNS4xIGMzLDEyLjMsOS45LDIzLjMsMTkuOCwzMS4xYzkuOSw3LjgsMjIuMSwxMi4xLDM0LjcsMTIuMWMzOC41LDAsNjAuNy0zMS45LDYwLjctNzguNWMwLTQwLjctMjEuMS03NS42LTU5LjUtNzUuNiBjLTEyLjksMC40LTI1LjMsNS4xLTM1LjMsMTMuNGMtOS45LDguMy0xNi45LDE5LjctMTkuNiwzMi40Yy0xLjUsNC45LTIuMywxMC0yLjUsMTUuMVYxMjUuNkwtNDQyLjYsMTI1LjZMLTQ0Mi42LDEyNS42elxcXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgPC9nPlxcbiAgICA8ZyB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSg2MDYuNzQwNzI2LCA1Ni44MzcxMDQpXFxcIj5cXG4gICAgICA8ZyB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSgwLjc1MTIyNiwgMS45ODkyOTkpXFxcIj5cXG4gICAgICAgIDxwYXRoIGQ9XFxcIk0tNDQwLjgsMGw0My43LDEyMC4xYzQuNSwxMy40LDkuNSwyOS40LDEyLjgsNDEuN2gwLjhjMy43LTEyLjIsNy45LTI3LjcsMTIuOC00Mi40IGwzOS43LTExOS4yaDM4LjVMLTM0Ni45LDE0NWMtMjYsNjkuNy00My43LDEwNS40LTY4LjYsMTI3LjJjLTEyLjUsMTEuNy0yNy45LDIwLTQ0LjYsMjMuOWwtOS4xLTMxLjEgYzExLjctMy45LDIyLjUtMTAuMSwzMS44LTE4LjFjMTMuMi0xMS4xLDIzLjctMjUuMiwzMC42LTQxLjJjMS41LTIuOCwyLjUtNS43LDIuOS04LjhjLTAuMy0zLjMtMS4yLTYuNi0yLjUtOS43TC00ODAuMiwwLjEgaDM5LjdMLTQ0MC44LDBMLTQ0MC44LDB6XFxcIi8+XFxuICAgICAgPC9nPlxcbiAgICA8L2c+XFxuICAgIDxnIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDgyMi43NDgxMDQsIDAuMDAwMDAwKVxcXCI+XFxuICAgICAgPGcgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMS40NjQwNTAsIDAuMzc4OTE0KVxcXCI+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNLTQxMy43LDB2NTguM2g1MnYyOC4yaC01MlYxOTZjMCwyNSw3LDM5LjUsMjcuMywzOS41YzcuMSwwLjEsMTQuMi0wLjcsMjEuMS0yLjUgbDEuNywyNy43Yy0xMC4zLDMuNy0yMS4zLDUuNC0zMi4yLDVjLTcuMywwLjQtMTQuNi0wLjctMjEuMy0zLjRjLTYuOC0yLjctMTIuOS02LjgtMTcuOS0xMi4xYy0xMC4zLTEwLjktMTQuMS0yOS0xNC4xLTUyLjkgVjg2LjVoLTMxVjU4LjNoMzFWOS42TC00MTMuNywwTC00MTMuNywwelxcXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgPC9nPlxcbiAgICA8ZyB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSg5NzQuNDMzMjg2LCA1My40Nzk2MzgpXFxcIj5cXG4gICAgICA8ZyB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSgwLjk5MDAzNCwgMC42MTAzMzkpXFxcIj5cXG4gICAgICAgIDxwYXRoIGQ9XFxcIk0tNDQ1LjgsMTEzYzAuOCw1MCwzMi4yLDcwLjYsNjguNiw3MC42YzE5LDAuNiwzNy45LTMsNTUuMy0xMC41bDYuMiwyNi40IGMtMjAuOSw4LjktNDMuNSwxMy4xLTY2LjIsMTIuNmMtNjEuNSwwLTk4LjMtNDEuMi05OC4zLTEwMi41Qy00ODAuMiw0OC4yLTQ0NC43LDAtMzg2LjUsMGM2NS4yLDAsODIuNyw1OC4zLDgyLjcsOTUuNyBjLTAuMSw1LjgtMC41LDExLjUtMS4yLDE3LjJoLTE0MC42SC00NDUuOEwtNDQ1LjgsMTEzeiBNLTMzOS4yLDg2LjZjMC40LTIzLjUtOS41LTYwLjEtNTAuNC02MC4xIGMtMzYuOCwwLTUyLjgsMzQuNC01NS43LDYwLjFILTMzOS4yTC0zMzkuMiw4Ni42TC0zMzkuMiw4Ni42elxcXCIvPlxcbiAgICAgIDwvZz5cXG4gICAgPC9nPlxcbiAgICA8ZyB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSgxMjAxLjk2MTA1OCwgNTMuNDc5NjM4KVxcXCI+XFxuICAgICAgPGcgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMS4xNzk2NDAsIDAuNzA1MDY4KVxcXCI+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNLTQ3OC42LDY4YzAtMjMuOS0wLjQtNDQuNS0xLjctNjMuNGgzMS44bDEuMiwzOS45aDEuN2M5LjEtMjcuMywzMS00NC41LDU1LjMtNDQuNSBjMy41LTAuMSw3LDAuNCwxMC4zLDEuMnYzNC44Yy00LjEtMC45LTguMi0xLjMtMTIuNC0xLjJjLTI1LjYsMC00My43LDE5LjctNDguNyw0Ny40Yy0xLDUuNy0xLjYsMTEuNS0xLjcsMTcuMnYxMDguM2gtMzZWNjggTC00NzguNiw2OHpcXFwiLz5cXG4gICAgICA8L2c+XFxuICAgIDwvZz5cXG4gIDwvZz5cXG5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uLXdhcm4wXFxcIiBmaWxsPVxcXCIjRjM3NzI2XFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTEzNTIuMywzMjYuMmgzN1YyOGgtMzdWMzI2LjJ6IE0xNjA0LjgsMzI2LjJjLTIuNS0xMy45LTMuNC0zMS4xLTMuNC00OC43di03NiBjMC00MC43LTE1LjEtODMuMS03Ny4zLTgzLjFjLTI1LjYsMC01MCw3LjEtNjYuOCwxOC4xbDguNCwyNC40YzE0LjMtOS4yLDM0LTE1LjEsNTMtMTUuMWM0MS42LDAsNDYuMiwzMC4yLDQ2LjIsNDd2NC4yIGMtNzguNi0wLjQtMTIyLjMsMjYuNS0xMjIuMyw3NS42YzAsMjkuNCwyMSw1OC40LDYyLjIsNTguNGMyOSwwLDUwLjktMTQuMyw2Mi4yLTMwLjJoMS4zbDIuOSwyNS42SDE2MDQuOHogTTE1NjUuNywyNTcuNyBjMCwzLjgtMC44LDgtMi4xLDExLjhjLTUuOSwxNy4yLTIyLjcsMzQtNDkuMiwzNGMtMTguOSwwLTM0LjktMTEuMy0zNC45LTM1LjNjMC0zOS41LDQ1LjgtNDYuNiw4Ni4yLTQ1LjhWMjU3Ljd6IE0xNjk4LjUsMzI2LjIgbDEuNy0zMy42aDEuM2MxNS4xLDI2LjksMzguNywzOC4yLDY4LjEsMzguMmM0NS40LDAsOTEuMi0zNi4xLDkxLjItMTA4LjhjMC40LTYxLjctMzUuMy0xMDMuNy04NS43LTEwMy43IGMtMzIuOCwwLTU2LjMsMTQuNy02OS4zLDM3LjRoLTAuOFYyOGgtMzYuNnYyNDUuN2MwLDE4LjEtMC44LDM4LjYtMS43LDUyLjVIMTY5OC41eiBNMTcwNC44LDIwOC4yYzAtNS45LDEuMy0xMC45LDIuMS0xNS4xIGM3LjYtMjguMSwzMS4xLTQ1LjQsNTYuMy00NS40YzM5LjUsMCw2MC41LDM0LjksNjAuNSw3NS42YzAsNDYuNi0yMy4xLDc4LjEtNjEuOCw3OC4xYy0yNi45LDAtNDguMy0xNy42LTU1LjUtNDMuMyBjLTAuOC00LjItMS43LTguOC0xLjctMTMuNFYyMDguMnpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxOCAxOCclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MScgc2hhcGUtcmVuZGVyaW5nPSdnZW9tZXRyaWNQcmVjaXNpb24nJTNFICUzQ3BhdGggZD0nTTcuMiw1LjJMMTAuOSw5bC0zLjgsMy44VjUuMkg3LjJ6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCIgc2hhcGUtcmVuZGVyaW5nPVxcXCJnZW9tZXRyaWNQcmVjaXNpb25cXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNNy4yLDUuMkwxMC45LDlsLTMuOCwzLjhWNS4ySDcuMnpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XG4gICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBqdXB5dGVybGFiL2NvcmV1dGlsc1wiKTtcbmNvbnN0IGFsZ29yaXRobV8xID0gcmVxdWlyZShcIkBsdW1pbm8vYWxnb3JpdGhtXCIpO1xuY29uc3Qgc2lnbmFsaW5nXzEgPSByZXF1aXJlKFwiQGx1bWluby9zaWduYWxpbmdcIik7XG5jb25zdCBfXzEgPSByZXF1aXJlKFwiLi5cIik7XG5jb25zdCB2YWxpZGF0ZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi92YWxpZGF0ZVwiKSk7XG4vKipcbiAqIFRoZSB1cmwgZm9yIHRoZSBkZWZhdWx0IGRyaXZlIHNlcnZpY2UuXG4gKi9cbmNvbnN0IFNFUlZJQ0VfRFJJVkVfVVJMID0gJ2FwaS9jb250ZW50cyc7XG4vKipcbiAqIFRoZSB1cmwgZm9yIHRoZSBmaWxlIGFjY2Vzcy5cbiAqL1xuY29uc3QgRklMRVNfVVJMID0gJ2ZpbGVzJztcbi8qKlxuICogVGhlIG9iamVjdCB0byByZWZlcmVuY2UgbGlzdENoZWNrcG9pbnRzIHByb21pc2VzXG4gKiB1c2VkIGFzIGEgZmxhZyB0byBjaGVjayBhbmQgcmV0dXJuIHRoZSBleGlzdGluZyBwcm9taXNlIGlmIGl0J3MgcGVuZGluZ1xuICovXG5sZXQgY2hlY2twb2ludFByb21pc2VRdWV1ZSA9IHt9O1xuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgY29udGVudHMgaW50ZXJmYWNlcy5cbiAqL1xudmFyIENvbnRlbnRzO1xuKGZ1bmN0aW9uIChDb250ZW50cykge1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyBhbiBJTW9kZWwsIHRob3dpbmcgYW4gZXJyb3IgaWYgaXQgZG9lcyBub3QgcGFzcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUNvbnRlbnRzTW9kZWwoY29udGVudHMpIHtcbiAgICAgICAgdmFsaWRhdGUudmFsaWRhdGVDb250ZW50c01vZGVsKGNvbnRlbnRzKTtcbiAgICB9XG4gICAgQ29udGVudHMudmFsaWRhdGVDb250ZW50c01vZGVsID0gdmFsaWRhdGVDb250ZW50c01vZGVsO1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyBhbiBJQ2hlY2twb2ludE1vZGVsLCB0aG93aW5nIGFuIGVycm9yIGlmIGl0IGRvZXMgbm90IHBhc3MuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGVja3BvaW50TW9kZWwoY2hlY2twb2ludCkge1xuICAgICAgICB2YWxpZGF0ZS52YWxpZGF0ZUNoZWNrcG9pbnRNb2RlbChjaGVja3BvaW50KTtcbiAgICB9XG4gICAgQ29udGVudHMudmFsaWRhdGVDaGVja3BvaW50TW9kZWwgPSB2YWxpZGF0ZUNoZWNrcG9pbnRNb2RlbDtcbn0pKENvbnRlbnRzID0gZXhwb3J0cy5Db250ZW50cyB8fCAoZXhwb3J0cy5Db250ZW50cyA9IHt9KSk7XG4vKipcbiAqIEEgY29udGVudHMgbWFuYWdlciB0aGF0IHBhc3NlcyBmaWxlIG9wZXJhdGlvbnMgdG8gdGhlIHNlcnZlci5cbiAqIE11bHRpcGxlIHNlcnZlcnMgaW1wbGVtZW50aW5nIHRoZSBgSURyaXZlYCBpbnRlcmZhY2UgY2FuIGJlXG4gKiBhdHRhY2hlZCB0byB0aGUgY29udGVudHMgbWFuYWdlciwgc28gdGhhdCB0aGUgc2FtZSBzZXNzaW9uIGNhblxuICogcGVyZm9ybSBmaWxlIG9wZXJhdGlvbnMgb24gbXVsdGlwbGUgYmFja2VuZHMuXG4gKlxuICogVGhpcyBpbmNsdWRlcyBjaGVja3BvaW50aW5nIHdpdGggdGhlIG5vcm1hbCBmaWxlIG9wZXJhdGlvbnMuXG4gKi9cbmNsYXNzIENvbnRlbnRzTWFuYWdlciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IGNvbnRlbnRzIG1hbmFnZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbmFsRHJpdmVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9maWxlQ2hhbmdlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIGxldCBzZXJ2ZXJTZXR0aW5ncyA9ICh0aGlzLnNlcnZlclNldHRpbmdzID0gKF9hID0gb3B0aW9ucy5zZXJ2ZXJTZXR0aW5ncywgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSkpO1xuICAgICAgICB0aGlzLl9kZWZhdWx0RHJpdmUgPSAoX2IgPSBvcHRpb25zLmRlZmF1bHREcml2ZSwgKF9iICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG5ldyBEcml2ZSh7IHNlcnZlclNldHRpbmdzIH0pKSk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHREcml2ZS5maWxlQ2hhbmdlZC5jb25uZWN0KHRoaXMuX29uRmlsZUNoYW5nZWQsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gYSBmaWxlIG9wZXJhdGlvbiB0YWtlcyBwbGFjZS5cbiAgICAgKi9cbiAgICBnZXQgZmlsZUNoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maWxlQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBtYW5hZ2VyIGhhcyBiZWVuIGRpc3Bvc2VkLlxuICAgICAqL1xuICAgIGdldCBpc0Rpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIG1hbmFnZXIuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICBzaWduYWxpbmdfMS5TaWduYWwuY2xlYXJEYXRhKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYElEcml2ZWAgdG8gdGhlIG1hbmFnZXIuXG4gICAgICovXG4gICAgYWRkRHJpdmUoZHJpdmUpIHtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25hbERyaXZlcy5zZXQoZHJpdmUubmFtZSwgZHJpdmUpO1xuICAgICAgICBkcml2ZS5maWxlQ2hhbmdlZC5jb25uZWN0KHRoaXMuX29uRmlsZUNoYW5nZWQsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBhdGgsIGdldCBhIE1vZGVsREIuSUZhY3RvcnkgZnJvbSB0aGVcbiAgICAgKiByZWxldmFudCBiYWNrZW5kLiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmIHRoZSBiYWNrZW5kXG4gICAgICogZG9lcyBub3QgcHJvdmlkZSBvbmUuXG4gICAgICovXG4gICAgZ2V0TW9kZWxEQkZhY3RvcnkocGF0aCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgW2RyaXZlXSA9IHRoaXMuX2RyaXZlRm9yUGF0aChwYXRoKTtcbiAgICAgICAgcmV0dXJuIF9iID0gKF9hID0gZHJpdmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tb2RlbERCRmFjdG9yeSwgKF9iICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBhdGggb2YgdGhlIGZvcm0gYGRyaXZlOmxvY2FsL3BvcnRpb24vb2YvaXQudHh0YFxuICAgICAqIGdldCB0aGUgbG9jYWwgcGFydCBvZiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoOiB0aGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBsb2NhbCBwYXJ0IG9mIHRoZSBwYXRoLlxuICAgICAqL1xuICAgIGxvY2FsUGF0aChwYXRoKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICBjb25zdCBmaXJzdFBhcnRzID0gcGFydHNbMF0uc3BsaXQoJzonKTtcbiAgICAgICAgaWYgKGZpcnN0UGFydHMubGVuZ3RoID09PSAxIHx8ICF0aGlzLl9hZGRpdGlvbmFsRHJpdmVzLmhhcyhmaXJzdFBhcnRzWzBdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvcmV1dGlsc18xLlBhdGhFeHQucmVtb3ZlU2xhc2gocGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvcmV1dGlsc18xLlBhdGhFeHQuam9pbihmaXJzdFBhcnRzLnNsaWNlKDEpLmpvaW4oJzonKSwgLi4ucGFydHMuc2xpY2UoMSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgYSBnbG9iYWwgcGF0aC4gUmVkdWNlcyAnLi4nIGFuZCAnLicgcGFydHMsIGFuZCByZW1vdmVzXG4gICAgICogbGVhZGluZyBzbGFzaGVzIGZyb20gdGhlIGxvY2FsIHBhcnQgb2YgdGhlIHBhdGgsIHdoaWxlIHJldGFpbmluZ1xuICAgICAqIHRoZSBkcml2ZSBuYW1lIGlmIGl0IGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoOiB0aGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBub3JtYWxpemVkIHBhdGguXG4gICAgICovXG4gICAgbm9ybWFsaXplKHBhdGgpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCc6Jyk7XG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjb3JldXRpbHNfMS5QYXRoRXh0Lm5vcm1hbGl6ZShwYXRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7cGFydHNbMF19OiR7Y29yZXV0aWxzXzEuUGF0aEV4dC5ub3JtYWxpemUocGFydHMuc2xpY2UoMSkuam9pbignOicpKX1gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBhdGggb2YgdGhlIGZvcm0gYGRyaXZlOmxvY2FsL3BvcnRpb24vb2YvaXQudHh0YFxuICAgICAqIGdldCB0aGUgbmFtZSBvZiB0aGUgZHJpdmUuIElmIHRoZSBwYXRoIGlzIG1pc3NpbmdcbiAgICAgKiBhIGRyaXZlIHBvcnRpb24sIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGg6IHRoZSBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGRyaXZlIG5hbWUgZm9yIHRoZSBwYXRoLCBvciB0aGUgZW1wdHkgc3RyaW5nLlxuICAgICAqL1xuICAgIGRyaXZlTmFtZShwYXRoKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICBjb25zdCBmaXJzdFBhcnRzID0gcGFydHNbMF0uc3BsaXQoJzonKTtcbiAgICAgICAgaWYgKGZpcnN0UGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uYWxEcml2ZXMuaGFzKGZpcnN0UGFydHNbMF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RQYXJ0c1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGZpbGUgb3IgZGlyZWN0b3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGg6IFRoZSBwYXRoIHRvIHRoZSBmaWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnM6IFRoZSBvcHRpb25zIHVzZWQgdG8gZmV0Y2ggdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgZmlsZSBjb250ZW50LlxuICAgICAqL1xuICAgIGdldChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBbZHJpdmUsIGxvY2FsUGF0aF0gPSB0aGlzLl9kcml2ZUZvclBhdGgocGF0aCk7XG4gICAgICAgIHJldHVybiBkcml2ZS5nZXQobG9jYWxQYXRoLCBvcHRpb25zKS50aGVuKGNvbnRlbnRzTW9kZWwgPT4ge1xuICAgICAgICAgICAgbGV0IGxpc3RpbmcgPSBbXTtcbiAgICAgICAgICAgIGlmIChjb250ZW50c01vZGVsLnR5cGUgPT09ICdkaXJlY3RvcnknICYmIGNvbnRlbnRzTW9kZWwuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGFsZ29yaXRobV8xLmVhY2goY29udGVudHNNb2RlbC5jb250ZW50LCAoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsaXN0aW5nLnB1c2goT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBpdGVtKSwgeyBwYXRoOiB0aGlzLl90b0dsb2JhbFBhdGgoZHJpdmUsIGl0ZW0ucGF0aCkgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnRlbnRzTW9kZWwpLCB7IHBhdGg6IHRoaXMuX3RvR2xvYmFsUGF0aChkcml2ZSwgbG9jYWxQYXRoKSwgY29udGVudDogbGlzdGluZyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnRlbnRzTW9kZWwpLCB7IHBhdGg6IHRoaXMuX3RvR2xvYmFsUGF0aChkcml2ZSwgbG9jYWxQYXRoKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbiBlbmNvZGVkIGRvd25sb2FkIHVybCBnaXZlbiBhIGZpbGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gQW4gYWJzb2x1dGUgUE9TSVggZmlsZSBwYXRoIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGUgcGF0aCBjb250YWlucyBubyByZWxhdGl2ZSBwYXRocy5cbiAgICAgKlxuICAgICAqIFRoZSByZXR1cm5lZCBVUkwgbWF5IGluY2x1ZGUgYSBxdWVyeSBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgZ2V0RG93bmxvYWRVcmwocGF0aCkge1xuICAgICAgICBsZXQgW2RyaXZlLCBsb2NhbFBhdGhdID0gdGhpcy5fZHJpdmVGb3JQYXRoKHBhdGgpO1xuICAgICAgICByZXR1cm4gZHJpdmUuZ2V0RG93bmxvYWRVcmwobG9jYWxQYXRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHVudGl0bGVkIGZpbGUgb3IgZGlyZWN0b3J5IGluIHRoZSBzcGVjaWZpZWQgZGlyZWN0b3J5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9uczogVGhlIG9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgY3JlYXRlZCBmaWxlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICAgKiAgICBmaWxlIGlzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgbmV3VW50aXRsZWQob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmIChvcHRpb25zLnBhdGgpIHtcbiAgICAgICAgICAgIGxldCBnbG9iYWxQYXRoID0gdGhpcy5ub3JtYWxpemUob3B0aW9ucy5wYXRoKTtcbiAgICAgICAgICAgIGxldCBbZHJpdmUsIGxvY2FsUGF0aF0gPSB0aGlzLl9kcml2ZUZvclBhdGgoZ2xvYmFsUGF0aCk7XG4gICAgICAgICAgICByZXR1cm4gZHJpdmVcbiAgICAgICAgICAgICAgICAubmV3VW50aXRsZWQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBwYXRoOiBsb2NhbFBhdGggfSkpXG4gICAgICAgICAgICAgICAgLnRoZW4oY29udGVudHNNb2RlbCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29udGVudHNNb2RlbCksIHsgcGF0aDogY29yZXV0aWxzXzEuUGF0aEV4dC5qb2luKGdsb2JhbFBhdGgsIGNvbnRlbnRzTW9kZWwubmFtZSkgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0RHJpdmUubmV3VW50aXRsZWQob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgZmlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiB0aGUgZmlsZSBpcyBkZWxldGVkLlxuICAgICAqL1xuICAgIGRlbGV0ZShwYXRoKSB7XG4gICAgICAgIGxldCBbZHJpdmUsIGxvY2FsUGF0aF0gPSB0aGlzLl9kcml2ZUZvclBhdGgocGF0aCk7XG4gICAgICAgIHJldHVybiBkcml2ZS5kZWxldGUobG9jYWxQYXRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuYW1lIGEgZmlsZSBvciBkaXJlY3RvcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBvcmlnaW5hbCBmaWxlIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmV3UGF0aCAtIFRoZSBuZXcgZmlsZSBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIG5ldyBmaWxlIGNvbnRlbnRzIG1vZGVsIHdoZW5cbiAgICAgKiAgIHRoZSBmaWxlIGlzIHJlbmFtZWQuXG4gICAgICovXG4gICAgcmVuYW1lKHBhdGgsIG5ld1BhdGgpIHtcbiAgICAgICAgbGV0IFtkcml2ZTEsIHBhdGgxXSA9IHRoaXMuX2RyaXZlRm9yUGF0aChwYXRoKTtcbiAgICAgICAgbGV0IFtkcml2ZTIsIHBhdGgyXSA9IHRoaXMuX2RyaXZlRm9yUGF0aChuZXdQYXRoKTtcbiAgICAgICAgaWYgKGRyaXZlMSAhPT0gZHJpdmUyKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQ29udGVudHNNYW5hZ2VyOiByZW5hbWluZyBmaWxlcyBtdXN0IG9jY3VyIHdpdGhpbiBhIERyaXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRyaXZlMS5yZW5hbWUocGF0aDEsIHBhdGgyKS50aGVuKGNvbnRlbnRzTW9kZWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29udGVudHNNb2RlbCksIHsgcGF0aDogdGhpcy5fdG9HbG9iYWxQYXRoKGRyaXZlMSwgcGF0aDIpIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2F2ZSBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBkZXNpcmVkIGZpbGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgb3ZlcnJpZGVzIHRvIHRoZSBtb2RlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBmaWxlIGNvbnRlbnQgbW9kZWwgd2hlbiB0aGVcbiAgICAgKiAgIGZpbGUgaXMgc2F2ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogRW5zdXJlIHRoYXQgYG1vZGVsLmNvbnRlbnRgIGlzIHBvcHVsYXRlZCBmb3IgdGhlIGZpbGUuXG4gICAgICovXG4gICAgc2F2ZShwYXRoLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgZ2xvYmFsUGF0aCA9IHRoaXMubm9ybWFsaXplKHBhdGgpO1xuICAgICAgICBjb25zdCBbZHJpdmUsIGxvY2FsUGF0aF0gPSB0aGlzLl9kcml2ZUZvclBhdGgocGF0aCk7XG4gICAgICAgIHJldHVybiBkcml2ZVxuICAgICAgICAgICAgLnNhdmUobG9jYWxQYXRoLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHBhdGg6IGxvY2FsUGF0aCB9KSlcbiAgICAgICAgICAgIC50aGVuKGNvbnRlbnRzTW9kZWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29udGVudHNNb2RlbCksIHsgcGF0aDogZ2xvYmFsUGF0aCB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvcHkgYSBmaWxlIGludG8gYSBnaXZlbiBkaXJlY3RvcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBvcmlnaW5hbCBmaWxlIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9EaXIgLSBUaGUgZGVzdGluYXRpb24gZGlyZWN0b3J5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgbmV3IGNvbnRlbnRzIG1vZGVsIHdoZW4gdGhlXG4gICAgICogIGZpbGUgaXMgY29waWVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBzZXJ2ZXIgd2lsbCBzZWxlY3QgdGhlIG5hbWUgb2YgdGhlIGNvcGllZCBmaWxlLlxuICAgICAqL1xuICAgIGNvcHkoZnJvbUZpbGUsIHRvRGlyKSB7XG4gICAgICAgIGxldCBbZHJpdmUxLCBwYXRoMV0gPSB0aGlzLl9kcml2ZUZvclBhdGgoZnJvbUZpbGUpO1xuICAgICAgICBsZXQgW2RyaXZlMiwgcGF0aDJdID0gdGhpcy5fZHJpdmVGb3JQYXRoKHRvRGlyKTtcbiAgICAgICAgaWYgKGRyaXZlMSA9PT0gZHJpdmUyKSB7XG4gICAgICAgICAgICByZXR1cm4gZHJpdmUxLmNvcHkocGF0aDEsIHBhdGgyKS50aGVuKGNvbnRlbnRzTW9kZWwgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnRlbnRzTW9kZWwpLCB7IHBhdGg6IHRoaXMuX3RvR2xvYmFsUGF0aChkcml2ZTEsIGNvbnRlbnRzTW9kZWwucGF0aCkgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdDb3B5aW5nIGZpbGVzIGJldHdlZW4gZHJpdmVzIGlzIG5vdCBjdXJyZW50bHkgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjaGVja3BvaW50IGZvciBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBmaWxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIG5ldyBjaGVja3BvaW50IG1vZGVsIHdoZW4gdGhlXG4gICAgICogICBjaGVja3BvaW50IGlzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY3JlYXRlQ2hlY2twb2ludChwYXRoKSB7XG4gICAgICAgIGxldCBbZHJpdmUsIGxvY2FsUGF0aF0gPSB0aGlzLl9kcml2ZUZvclBhdGgocGF0aCk7XG4gICAgICAgIHJldHVybiBkcml2ZS5jcmVhdGVDaGVja3BvaW50KGxvY2FsUGF0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3QgYXZhaWxhYmxlIGNoZWNrcG9pbnRzIGZvciBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBmaWxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYSBsaXN0IG9mIGNoZWNrcG9pbnQgbW9kZWxzIGZvclxuICAgICAqICAgIHRoZSBmaWxlLlxuICAgICAqL1xuICAgIGxpc3RDaGVja3BvaW50cyhwYXRoKSB7XG4gICAgICAgIGxldCBbZHJpdmUsIGxvY2FsUGF0aF0gPSB0aGlzLl9kcml2ZUZvclBhdGgocGF0aCk7XG4gICAgICAgIHJldHVybiBkcml2ZS5saXN0Q2hlY2twb2ludHMobG9jYWxQYXRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzdG9yZSBhIGZpbGUgdG8gYSBrbm93biBjaGVja3BvaW50IHN0YXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgcGF0aCBvZiB0aGUgZmlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGVja3BvaW50SUQgLSBUaGUgaWQgb2YgdGhlIGNoZWNrcG9pbnQgdG8gcmVzdG9yZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBjaGVja3BvaW50IGlzIHJlc3RvcmVkLlxuICAgICAqL1xuICAgIHJlc3RvcmVDaGVja3BvaW50KHBhdGgsIGNoZWNrcG9pbnRJRCkge1xuICAgICAgICBsZXQgW2RyaXZlLCBsb2NhbFBhdGhdID0gdGhpcy5fZHJpdmVGb3JQYXRoKHBhdGgpO1xuICAgICAgICByZXR1cm4gZHJpdmUucmVzdG9yZUNoZWNrcG9pbnQobG9jYWxQYXRoLCBjaGVja3BvaW50SUQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBjaGVja3BvaW50IGZvciBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBmaWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNoZWNrcG9pbnRJRCAtIFRoZSBpZCBvZiB0aGUgY2hlY2twb2ludCB0byBkZWxldGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiB0aGUgY2hlY2twb2ludCBpcyBkZWxldGVkLlxuICAgICAqL1xuICAgIGRlbGV0ZUNoZWNrcG9pbnQocGF0aCwgY2hlY2twb2ludElEKSB7XG4gICAgICAgIGxldCBbZHJpdmUsIGxvY2FsUGF0aF0gPSB0aGlzLl9kcml2ZUZvclBhdGgocGF0aCk7XG4gICAgICAgIHJldHVybiBkcml2ZS5kZWxldGVDaGVja3BvaW50KGxvY2FsUGF0aCwgY2hlY2twb2ludElEKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBkcml2ZSBhbmQgYSBsb2NhbCBwYXRoLCBjb25zdHJ1Y3QgYSBmdWxseSBxdWFsaWZpZWRcbiAgICAgKiBwYXRoLiBUaGUgaW52ZXJzZSBvZiBgX2RyaXZlRm9yUGF0aGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZHJpdmU6IGFuIGBJRHJpdmVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxvY2FsUGF0aDogdGhlIGxvY2FsIHBhdGggb24gdGhlIGRyaXZlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIGZ1bGx5IHF1YWxpZmllZCBwYXRoLlxuICAgICAqL1xuICAgIF90b0dsb2JhbFBhdGgoZHJpdmUsIGxvY2FsUGF0aCkge1xuICAgICAgICBpZiAoZHJpdmUgPT09IHRoaXMuX2RlZmF1bHREcml2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvcmV1dGlsc18xLlBhdGhFeHQucmVtb3ZlU2xhc2gobG9jYWxQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtkcml2ZS5uYW1lfToke2NvcmV1dGlsc18xLlBhdGhFeHQucmVtb3ZlU2xhc2gobG9jYWxQYXRoKX1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcGF0aCwgZ2V0IHRoZSBgSURyaXZlIHRvIHdoaWNoIGl0IHJlZmVycyxcbiAgICAgKiB3aGVyZSB0aGUgcGF0aCBzYXRpc2ZpZXMgdGhlIHBhdHRlcm5cbiAgICAgKiBgJ2RyaXZlTmFtZTpwYXRoL3RvL2ZpbGUnYC4gSWYgdGhlcmUgaXMgbm8gYGRyaXZlTmFtZWBcbiAgICAgKiBwcmVwZW5kZWQgdG8gdGhlIHBhdGgsIGl0IHJldHVybnMgdGhlIGRlZmF1bHQgZHJpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aDogYSBwYXRoIHRvIGEgZmlsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgdHVwbGUgY29udGFpbmluZyBhbiBgSURyaXZlYCBvYmplY3QgZm9yIHRoZSBwYXRoLFxuICAgICAqIGFuZCBhIGxvY2FsIHBhdGggZm9yIHRoYXQgZHJpdmUuXG4gICAgICovXG4gICAgX2RyaXZlRm9yUGF0aChwYXRoKSB7XG4gICAgICAgIGNvbnN0IGRyaXZlTmFtZSA9IHRoaXMuZHJpdmVOYW1lKHBhdGgpO1xuICAgICAgICBjb25zdCBsb2NhbFBhdGggPSB0aGlzLmxvY2FsUGF0aChwYXRoKTtcbiAgICAgICAgaWYgKGRyaXZlTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLl9hZGRpdGlvbmFsRHJpdmVzLmdldChkcml2ZU5hbWUpLCBsb2NhbFBhdGhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLl9kZWZhdWx0RHJpdmUsIGxvY2FsUGF0aF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzcG9uZCB0byBmaWxlQ2hhbmdlZCBzaWduYWxzIGZyb20gdGhlIGRyaXZlcyBhdHRhY2hlZCB0b1xuICAgICAqIHRoZSBtYW5hZ2VyLiBUaGlzIHByZXBlbmRzIHRoZSBkcml2ZSBuYW1lIHRvIHRoZSBwYXRoIGlmIG5lY2Vzc2FyeSxcbiAgICAgKiBhbmQgdGhlbiBmb3J3YXJkcyB0aGUgc2lnbmFsLlxuICAgICAqL1xuICAgIF9vbkZpbGVDaGFuZ2VkKHNlbmRlciwgYXJncykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoc2VuZGVyID09PSB0aGlzLl9kZWZhdWx0RHJpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGVDaGFuZ2VkLmVtaXQoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IG9sZFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICgoX2EgPSBhcmdzLm5ld1ZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF0aCkge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhcmdzLm5ld1ZhbHVlKSwgeyBwYXRoOiB0aGlzLl90b0dsb2JhbFBhdGgoc2VuZGVyLCBhcmdzLm5ld1ZhbHVlLnBhdGgpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChfYiA9IGFyZ3Mub2xkVmFsdWUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5wYXRoKSB7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFyZ3Mub2xkVmFsdWUpLCB7IHBhdGg6IHRoaXMuX3RvR2xvYmFsUGF0aChzZW5kZXIsIGFyZ3Mub2xkVmFsdWUucGF0aCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9maWxlQ2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBhcmdzLnR5cGUsXG4gICAgICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Db250ZW50c01hbmFnZXIgPSBDb250ZW50c01hbmFnZXI7XG4vKipcbiAqIEEgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgYW4gYElEcml2ZWAsIHRhbGtpbmcgdG8gdGhlXG4gKiBzZXJ2ZXIgdXNpbmcgdGhlIEp1cHl0ZXIgUkVTVCBBUEkuXG4gKi9cbmNsYXNzIERyaXZlIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgY29udGVudHMgbWFuYWdlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9maWxlQ2hhbmdlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9IChfYSA9IG9wdGlvbnMubmFtZSwgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdEZWZhdWx0JykpO1xuICAgICAgICB0aGlzLl9hcGlFbmRwb2ludCA9IChfYiA9IG9wdGlvbnMuYXBpRW5kcG9pbnQsIChfYiAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBTRVJWSUNFX0RSSVZFX1VSTCkpO1xuICAgICAgICB0aGlzLnNlcnZlclNldHRpbmdzID0gKF9jID0gb3B0aW9ucy5zZXJ2ZXJTZXR0aW5ncywgKF9jICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiBhIGZpbGUgb3BlcmF0aW9uIHRha2VzIHBsYWNlLlxuICAgICAqL1xuICAgIGdldCBmaWxlQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGVDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdGhlIG1hbmFnZXIgaGFzIGJlZW4gZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgbWFuYWdlci5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHNpZ25hbGluZ18xLlNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGZpbGUgb3IgZGlyZWN0b3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxvY2FsUGF0aDogVGhlIHBhdGggdG8gdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9uczogVGhlIG9wdGlvbnMgdXNlZCB0byBmZXRjaCB0aGUgZmlsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBmaWxlIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBVc2VzIHRoZSBbSnVweXRlciBOb3RlYm9vayBBUEldKGh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLmlvLz91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2p1cHl0ZXIvbm90ZWJvb2svbWFzdGVyL25vdGVib29rL3NlcnZpY2VzL2FwaS9hcGkueWFtbCMhL2NvbnRlbnRzKSBhbmQgdmFsaWRhdGVzIHRoZSByZXNwb25zZSBtb2RlbC5cbiAgICAgKi9cbiAgICBnZXQobG9jYWxQYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9nZXRVcmwobG9jYWxQYXRoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIFRoZSBub3RlYm9vayB0eXBlIGNhbm5vdCB0YWtlIGFuIGZvcm1hdCBvcHRpb24uXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSAnbm90ZWJvb2snKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbJ2Zvcm1hdCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBvcHRpb25zLmNvbnRlbnQgPyAnMScgOiAnMCc7XG4gICAgICAgICAgICBsZXQgcGFyYW1zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBjb250ZW50IH0pO1xuICAgICAgICAgICAgdXJsICs9IGNvcmV1dGlsc18xLlVSTEV4dC5vYmplY3RUb1F1ZXJ5U3RyaW5nKHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgcmV0dXJuIF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwge30sIHNldHRpbmdzKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgdmFsaWRhdGUudmFsaWRhdGVDb250ZW50c01vZGVsKGRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gZW5jb2RlZCBkb3dubG9hZCB1cmwgZ2l2ZW4gYSBmaWxlIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9jYWxQYXRoIC0gQW4gYWJzb2x1dGUgUE9TSVggZmlsZSBwYXRoIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGUgcGF0aCBjb250YWlucyBubyByZWxhdGl2ZSBwYXRocy5cbiAgICAgKlxuICAgICAqIFRoZSByZXR1cm5lZCBVUkwgbWF5IGluY2x1ZGUgYSBxdWVyeSBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgZ2V0RG93bmxvYWRVcmwobG9jYWxQYXRoKSB7XG4gICAgICAgIGxldCBiYXNlVXJsID0gdGhpcy5zZXJ2ZXJTZXR0aW5ncy5iYXNlVXJsO1xuICAgICAgICBsZXQgdXJsID0gY29yZXV0aWxzXzEuVVJMRXh0LmpvaW4oYmFzZVVybCwgRklMRVNfVVJMLCBjb3JldXRpbHNfMS5VUkxFeHQuZW5jb2RlUGFydHMobG9jYWxQYXRoKSk7XG4gICAgICAgIGNvbnN0IHhzcmZUb2tlbk1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKCdcXFxcYl94c3JmPShbXjtdKilcXFxcYicpO1xuICAgICAgICBpZiAoeHNyZlRva2VuTWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGx1cmwgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgICAgICBmdWxsdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ194c3JmJywgeHNyZlRva2VuTWF0Y2hbMV0pO1xuICAgICAgICAgICAgdXJsID0gZnVsbHVybC50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXJsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHVudGl0bGVkIGZpbGUgb3IgZGlyZWN0b3J5IGluIHRoZSBzcGVjaWZpZWQgZGlyZWN0b3J5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9uczogVGhlIG9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgY3JlYXRlZCBmaWxlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICAgKiAgICBmaWxlIGlzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9jb250ZW50cykgYW5kIHZhbGlkYXRlcyB0aGUgcmVzcG9uc2UgbW9kZWwuXG4gICAgICovXG4gICAgbmV3VW50aXRsZWQob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGJvZHkgPSAne30nO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXh0KSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5leHQgPSBQcml2YXRlLm5vcm1hbGl6ZUV4dGVuc2lvbihvcHRpb25zLmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuX2dldFVybCgoX2EgPSBvcHRpb25zLnBhdGgsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJykpKTtcbiAgICAgICAgbGV0IGluaXQgPSB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwgaW5pdCwgc2V0dGluZ3MpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgX18xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICB2YWxpZGF0ZS52YWxpZGF0ZUNvbnRlbnRzTW9kZWwoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9maWxlQ2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbmV3JyxcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogZGF0YVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9jYWxQYXRoIC0gVGhlIHBhdGggdG8gdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiB0aGUgZmlsZSBpcyBkZWxldGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFVzZXMgdGhlIFtKdXB5dGVyIE5vdGVib29rIEFQSV0oaHR0cDovL3BldHN0b3JlLnN3YWdnZXIuaW8vP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vanVweXRlci9ub3RlYm9vay9tYXN0ZXIvbm90ZWJvb2svc2VydmljZXMvYXBpL2FwaS55YW1sIyEvY29udGVudHMpLlxuICAgICAqL1xuICAgIGRlbGV0ZShsb2NhbFBhdGgpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuX2dldFVybChsb2NhbFBhdGgpO1xuICAgICAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNlcnZlclNldHRpbmdzO1xuICAgICAgICBsZXQgaW5pdCA9IHsgbWV0aG9kOiAnREVMRVRFJyB9O1xuICAgICAgICByZXR1cm4gX18xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCBpbml0LCBzZXR0aW5ncykudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAvLyBUcmFuc2xhdGUgY2VydGFpbiBlcnJvcnMgdG8gbW9yZSBzcGVjaWZpYyBvbmVzLlxuICAgICAgICAgICAgLy8gVE9ETzogdXBkYXRlIElQRVAyNyB0byBzcGVjaWZ5IGVycm9ycyBtb3JlIHByZWNpc2VseSwgc29cbiAgICAgICAgICAgIC8vIHRoYXQgZXJyb3IgdHlwZXMgY2FuIGJlIGRldGVjdGVkIGhlcmUgd2l0aCBjZXJ0YWludHkuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBfXzEuU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yKHJlc3BvbnNlLCBkYXRhWydtZXNzYWdlJ10pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fZmlsZUNoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2RlbGV0ZScsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IHsgcGF0aDogbG9jYWxQYXRoIH0sXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IG51bGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuYW1lIGEgZmlsZSBvciBkaXJlY3RvcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2xkTG9jYWxQYXRoIC0gVGhlIG9yaWdpbmFsIGZpbGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdMb2NhbFBhdGggLSBUaGUgbmV3IGZpbGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBuZXcgZmlsZSBjb250ZW50cyBtb2RlbCB3aGVuXG4gICAgICogICB0aGUgZmlsZSBpcyByZW5hbWVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFVzZXMgdGhlIFtKdXB5dGVyIE5vdGVib29rIEFQSV0oaHR0cDovL3BldHN0b3JlLnN3YWdnZXIuaW8vP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vanVweXRlci9ub3RlYm9vay9tYXN0ZXIvbm90ZWJvb2svc2VydmljZXMvYXBpL2FwaS55YW1sIyEvY29udGVudHMpIGFuZCB2YWxpZGF0ZXMgdGhlIHJlc3BvbnNlIG1vZGVsLlxuICAgICAqL1xuICAgIHJlbmFtZShvbGRMb2NhbFBhdGgsIG5ld0xvY2FsUGF0aCkge1xuICAgICAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNlcnZlclNldHRpbmdzO1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5fZ2V0VXJsKG9sZExvY2FsUGF0aCk7XG4gICAgICAgIGxldCBpbml0ID0ge1xuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwYXRoOiBuZXdMb2NhbFBhdGggfSlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwgaW5pdCwgc2V0dGluZ3MpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgX18xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICB2YWxpZGF0ZS52YWxpZGF0ZUNvbnRlbnRzTW9kZWwoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLl9maWxlQ2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVuYW1lJyxcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZTogeyBwYXRoOiBvbGRMb2NhbFBhdGggfSxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogZGF0YVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhdmUgYSBmaWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxvY2FsUGF0aCAtIFRoZSBkZXNpcmVkIGZpbGUgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgb3ZlcnJpZGVzIHRvIHRoZSBtb2RlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBmaWxlIGNvbnRlbnQgbW9kZWwgd2hlbiB0aGVcbiAgICAgKiAgIGZpbGUgaXMgc2F2ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogRW5zdXJlIHRoYXQgYG1vZGVsLmNvbnRlbnRgIGlzIHBvcHVsYXRlZCBmb3IgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBVc2VzIHRoZSBbSnVweXRlciBOb3RlYm9vayBBUEldKGh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLmlvLz91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2p1cHl0ZXIvbm90ZWJvb2svbWFzdGVyL25vdGVib29rL3NlcnZpY2VzL2FwaS9hcGkueWFtbCMhL2NvbnRlbnRzKSBhbmQgdmFsaWRhdGVzIHRoZSByZXNwb25zZSBtb2RlbC5cbiAgICAgKi9cbiAgICBzYXZlKGxvY2FsUGF0aCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2VydmVyU2V0dGluZ3M7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9nZXRVcmwobG9jYWxQYXRoKTtcbiAgICAgICAgbGV0IGluaXQgPSB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3B0aW9ucylcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwgaW5pdCwgc2V0dGluZ3MpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAvLyB3aWxsIHJldHVybiAyMDAgZm9yIGFuIGV4aXN0aW5nIGZpbGUgYW5kIDIwMSBmb3IgYSBuZXcgZmlsZVxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgdmFsaWRhdGUudmFsaWRhdGVDb250ZW50c01vZGVsKGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5fZmlsZUNoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3NhdmUnLFxuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBkYXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSBhIGZpbGUgaW50byBhIGdpdmVuIGRpcmVjdG9yeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsb2NhbFBhdGggLSBUaGUgb3JpZ2luYWwgZmlsZSBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRvRGlyIC0gVGhlIGRlc3RpbmF0aW9uIGRpcmVjdG9yeSBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIG5ldyBjb250ZW50cyBtb2RlbCB3aGVuIHRoZVxuICAgICAqICBmaWxlIGlzIGNvcGllZC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGUgc2VydmVyIHdpbGwgc2VsZWN0IHRoZSBuYW1lIG9mIHRoZSBjb3BpZWQgZmlsZS5cbiAgICAgKlxuICAgICAqIFVzZXMgdGhlIFtKdXB5dGVyIE5vdGVib29rIEFQSV0oaHR0cDovL3BldHN0b3JlLnN3YWdnZXIuaW8vP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vanVweXRlci9ub3RlYm9vay9tYXN0ZXIvbm90ZWJvb2svc2VydmljZXMvYXBpL2FwaS55YW1sIyEvY29udGVudHMpIGFuZCB2YWxpZGF0ZXMgdGhlIHJlc3BvbnNlIG1vZGVsLlxuICAgICAqL1xuICAgIGNvcHkoZnJvbUZpbGUsIHRvRGlyKSB7XG4gICAgICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2VydmVyU2V0dGluZ3M7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9nZXRVcmwodG9EaXIpO1xuICAgICAgICBsZXQgaW5pdCA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjb3B5X2Zyb206IGZyb21GaWxlIH0pXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIGluaXQsIHNldHRpbmdzKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgdmFsaWRhdGUudmFsaWRhdGVDb250ZW50c01vZGVsKGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5fZmlsZUNoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ25ldycsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IGRhdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjaGVja3BvaW50IGZvciBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9jYWxQYXRoIC0gVGhlIHBhdGggb2YgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgbmV3IGNoZWNrcG9pbnQgbW9kZWwgd2hlbiB0aGVcbiAgICAgKiAgIGNoZWNrcG9pbnQgaXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBVc2VzIHRoZSBbSnVweXRlciBOb3RlYm9vayBBUEldKGh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLmlvLz91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2p1cHl0ZXIvbm90ZWJvb2svbWFzdGVyL25vdGVib29rL3NlcnZpY2VzL2FwaS9hcGkueWFtbCMhL2NvbnRlbnRzKSBhbmQgdmFsaWRhdGVzIHRoZSByZXNwb25zZSBtb2RlbC5cbiAgICAgKi9cbiAgICBjcmVhdGVDaGVja3BvaW50KGxvY2FsUGF0aCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5fZ2V0VXJsKGxvY2FsUGF0aCwgJ2NoZWNrcG9pbnRzJyk7XG4gICAgICAgIGxldCBpbml0ID0geyBtZXRob2Q6ICdQT1NUJyB9O1xuICAgICAgICByZXR1cm4gX18xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCBpbml0LCB0aGlzLnNlcnZlclNldHRpbmdzKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgdmFsaWRhdGUudmFsaWRhdGVDaGVja3BvaW50TW9kZWwoZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3QgYXZhaWxhYmxlIGNoZWNrcG9pbnRzIGZvciBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9jYWxQYXRoIC0gVGhlIHBhdGggb2YgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCBhIGxpc3Qgb2YgY2hlY2twb2ludCBtb2RlbHMgZm9yXG4gICAgICogICAgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9jb250ZW50cykgYW5kIHZhbGlkYXRlcyB0aGUgcmVzcG9uc2UgbW9kZWwuXG4gICAgICovXG4gICAgbGlzdENoZWNrcG9pbnRzKGxvY2FsUGF0aCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5fZ2V0VXJsKGxvY2FsUGF0aCwgJ2NoZWNrcG9pbnRzJyk7XG4gICAgICAgIGlmICghY2hlY2twb2ludFByb21pc2VRdWV1ZVtsb2NhbFBhdGhdKSB7XG4gICAgICAgICAgICBjaGVja3BvaW50UHJvbWlzZVF1ZXVlW2xvY2FsUGF0aF0gPSBfXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIHt9LCB0aGlzLnNlcnZlclNldHRpbmdzKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IF9fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIENoZWNrcG9pbnQgbGlzdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGUudmFsaWRhdGVDaGVja3BvaW50TW9kZWwoZGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNoZWNrcG9pbnRQcm9taXNlUXVldWVbbG9jYWxQYXRoXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja3BvaW50UHJvbWlzZVF1ZXVlW2xvY2FsUGF0aF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc3RvcmUgYSBmaWxlIHRvIGEga25vd24gY2hlY2twb2ludCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsb2NhbFBhdGggLSBUaGUgcGF0aCBvZiB0aGUgZmlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGVja3BvaW50SUQgLSBUaGUgaWQgb2YgdGhlIGNoZWNrcG9pbnQgdG8gcmVzdG9yZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBjaGVja3BvaW50IGlzIHJlc3RvcmVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFVzZXMgdGhlIFtKdXB5dGVyIE5vdGVib29rIEFQSV0oaHR0cDovL3BldHN0b3JlLnN3YWdnZXIuaW8vP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vanVweXRlci9ub3RlYm9vay9tYXN0ZXIvbm90ZWJvb2svc2VydmljZXMvYXBpL2FwaS55YW1sIyEvY29udGVudHMpLlxuICAgICAqL1xuICAgIHJlc3RvcmVDaGVja3BvaW50KGxvY2FsUGF0aCwgY2hlY2twb2ludElEKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9nZXRVcmwobG9jYWxQYXRoLCAnY2hlY2twb2ludHMnLCBjaGVja3BvaW50SUQpO1xuICAgICAgICBsZXQgaW5pdCA9IHsgbWV0aG9kOiAnUE9TVCcgfTtcbiAgICAgICAgcmV0dXJuIF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwgaW5pdCwgdGhpcy5zZXJ2ZXJTZXR0aW5ncykudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgX18xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBjaGVja3BvaW50IGZvciBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9jYWxQYXRoIC0gVGhlIHBhdGggb2YgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hlY2twb2ludElEIC0gVGhlIGlkIG9mIHRoZSBjaGVja3BvaW50IHRvIGRlbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBjaGVja3BvaW50IGlzIGRlbGV0ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9jb250ZW50cykuXG4gICAgICovXG4gICAgZGVsZXRlQ2hlY2twb2ludChsb2NhbFBhdGgsIGNoZWNrcG9pbnRJRCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5fZ2V0VXJsKGxvY2FsUGF0aCwgJ2NoZWNrcG9pbnRzJywgY2hlY2twb2ludElEKTtcbiAgICAgICAgbGV0IGluaXQgPSB7IG1ldGhvZDogJ0RFTEVURScgfTtcbiAgICAgICAgcmV0dXJuIF9fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwgaW5pdCwgdGhpcy5zZXJ2ZXJTZXR0aW5ncykudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgX18xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBSRVNUIHVybCBmb3IgYSBmaWxlIGdpdmVuIGEgcGF0aC5cbiAgICAgKi9cbiAgICBfZ2V0VXJsKC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IHBhcnRzID0gYXJncy5tYXAocGF0aCA9PiBjb3JldXRpbHNfMS5VUkxFeHQuZW5jb2RlUGFydHMocGF0aCkpO1xuICAgICAgICBsZXQgYmFzZVVybCA9IHRoaXMuc2VydmVyU2V0dGluZ3MuYmFzZVVybDtcbiAgICAgICAgcmV0dXJuIGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKGJhc2VVcmwsIHRoaXMuX2FwaUVuZHBvaW50LCAuLi5wYXJ0cyk7XG4gICAgfVxufVxuZXhwb3J0cy5Ecml2ZSA9IERyaXZlO1xuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgbW9kdWxlIHByaXZhdGUgZGF0YS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgYSBmaWxlIGV4dGVuc2lvbiB0byBiZSBvZiB0aGUgdHlwZSBgJy5mb28nYC5cbiAgICAgKlxuICAgICAqIEFkZHMgYSBsZWFkaW5nIGRvdCBpZiBub3QgcHJlc2VudCBhbmQgY29udmVydHMgdG8gbG93ZXIgY2FzZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVFeHRlbnNpb24oZXh0ZW5zaW9uKSB7XG4gICAgICAgIGlmIChleHRlbnNpb24ubGVuZ3RoID4gMCAmJiBleHRlbnNpb24uaW5kZXhPZignLicpICE9PSAwKSB7XG4gICAgICAgICAgICBleHRlbnNpb24gPSBgLiR7ZXh0ZW5zaW9ufWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbjtcbiAgICB9XG4gICAgUHJpdmF0ZS5ub3JtYWxpemVFeHRlbnNpb24gPSBub3JtYWxpemVFeHRlbnNpb247XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qIChpZ25vcmVkKSAqLyIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9kZWZhdWx0cyc7XG5leHBvcnQgKiBmcm9tICcuL3N0eWxlL3N0YXR1c2Jhcic7XG5leHBvcnQgKiBmcm9tICcuL3N0YXR1c2Jhcic7XG5leHBvcnQgKiBmcm9tICcuL3Rva2Vucyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKipcbiAqIFRoZSBkb2N1bWVudCByZWdpc3RyeSB0b2tlbi5cbiAqL1xuZXhwb3J0IGNvbnN0IElEb2N1bWVudE1hbmFnZXIgPSBuZXcgVG9rZW4oJ0BqdXB5dGVybGFiL2RvY21hbmFnZXI6SURvY3VtZW50TWFuYWdlcicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9rZW5zLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTEyIDJDNi40NyAyIDIgNi40NyAyIDEyczQuNDcgMTAgMTAgMTAgMTAtNC40NyAxMC0xMFMxNy41MyAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4eicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk0xMiAyQzYuNDcgMiAyIDYuNDcgMiAxMnM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTBTMTcuNTMgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBEaXNwb3NhYmxlU2V0IH0gZnJvbSAnQGx1bWluby9kaXNwb3NhYmxlJztcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0BsdW1pbm8vc2lnbmFsaW5nJztcbmltcG9ydCB7IEpTT05FeHQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlTWFwIH0gZnJvbSAnLi9vYnNlcnZhYmxlbWFwJztcbmltcG9ydCB7IE9ic2VydmFibGVKU09OIH0gZnJvbSAnLi9vYnNlcnZhYmxlanNvbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlU3RyaW5nIH0gZnJvbSAnLi9vYnNlcnZhYmxlc3RyaW5nJztcbmltcG9ydCB7IE9ic2VydmFibGVVbmRvYWJsZUxpc3QgfSBmcm9tICcuL3VuZG9hYmxlbGlzdCc7XG4vKipcbiAqIEEgY29uY3JldGUgaW1wbGVtZW50YXRpb24gb2YgYW4gYElPYnNlcnZhYmxlVmFsdWVgLlxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZVZhbHVlIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgdGhlIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGluaXRpYWxWYWx1ZTogdGhlIHN0YXJ0aW5nIHZhbHVlIGZvciB0aGUgYE9ic2VydmFibGVWYWx1ZWAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW5pdGlhbFZhbHVlID0gbnVsbCkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgb2JzZXJ2YWJsZSB0eXBlLlxuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gJ1ZhbHVlJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdmFsdWUgaGFzIGJlZW4gZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY2hhbmdlZCBzaWduYWwuXG4gICAgICovXG4gICAgZ2V0IGNoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgdmFsdWUsIG9yIGB1bmRlZmluZWRgIGlmIGl0IGhhcyBub3QgYmVlbiBzZXQuXG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gdGhpcy5fdmFsdWU7XG4gICAgICAgIGlmIChKU09ORXh0LmRlZXBFcXVhbChvbGRWYWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRWYWx1ZSxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIHZhbHVlLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIFNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIHRoZSBgT2JzZXJ2YWJsZVZhbHVlYCBjbGFzcyBzdGF0aWNzLlxuICovXG4oZnVuY3Rpb24gKE9ic2VydmFibGVWYWx1ZSkge1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGFuZ2VkIGFyZ3Mgb2JqZWN0IGVtaXR0ZWQgYnkgdGhlIGBJT2JzZXJ2YWJsZVZhbHVlYC5cbiAgICAgKi9cbiAgICBjbGFzcyBJQ2hhbmdlZEFyZ3Mge1xuICAgIH1cbiAgICBPYnNlcnZhYmxlVmFsdWUuSUNoYW5nZWRBcmdzID0gSUNoYW5nZWRBcmdzO1xufSkoT2JzZXJ2YWJsZVZhbHVlIHx8IChPYnNlcnZhYmxlVmFsdWUgPSB7fSkpO1xuLyoqXG4gKiBBIGNvbmNyZXRlIGltcGxlbWVudGF0aW9uIG9mIGFuIGBJTW9kZWxEQmAuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbERCIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgdGhlIGBNb2RlbERCYC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIG1vZGVsIGhhcyBiZWVuIHBvcHVsYXRlZCB3aXRoXG4gICAgICAgICAqIGFueSBtb2RlbCB2YWx1ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUHJlcG9wdWxhdGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBtb2RlbCBpcyBjb2xsYWJvcmF0aXZlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0NvbGxhYm9yYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHRoZSBtb2RlbCBpcyBjb25uZWN0ZWRcbiAgICAgICAgICogdG8gaXRzIGJhY2tlbmQuIEZvciB0aGUgaW4tbWVtb3J5IE1vZGVsREIgaXRcbiAgICAgICAgICogaXMgaW1tZWRpYXRlbHkgcmVzb2x2ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IFByb21pc2UucmVzb2x2ZSh2b2lkIDApO1xuICAgICAgICB0aGlzLl90b0Rpc3Bvc2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcyA9IG5ldyBEaXNwb3NhYmxlU2V0KCk7XG4gICAgICAgIHRoaXMuX2Jhc2VQYXRoID0gb3B0aW9ucy5iYXNlUGF0aCB8fCAnJztcbiAgICAgICAgaWYgKG9wdGlvbnMuYmFzZURCKSB7XG4gICAgICAgICAgICB0aGlzLl9kYiA9IG9wdGlvbnMuYmFzZURCO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGIgPSBuZXcgT2JzZXJ2YWJsZU1hcCgpO1xuICAgICAgICAgICAgdGhpcy5fdG9EaXNwb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBwYXRoIGZvciB0aGUgYE1vZGVsREJgLiBUaGlzIGlzIHByZXBlbmRlZFxuICAgICAqIHRvIGFsbCB0aGUgcGF0aHMgdGhhdCBhcmUgcGFzc2VkIGluIHRvIHRoZSBtZW1iZXJcbiAgICAgKiBmdW5jdGlvbnMgb2YgdGhlIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXQgYmFzZVBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYXNlUGF0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgZGF0YWJhc2UgaXMgZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSB2YWx1ZSBmb3IgYSBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGg6IHRoZSBwYXRoIGZvciB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gYElPYnNlcnZhYmxlYC5cbiAgICAgKi9cbiAgICBnZXQocGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGIuZ2V0KHRoaXMuX3Jlc29sdmVQYXRoKHBhdGgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgYElNb2RlbERCYCBoYXMgYW4gb2JqZWN0IGF0IHRoaXMgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoOiB0aGUgcGF0aCBmb3IgdGhlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgYm9vbGVhbiBmb3Igd2hldGhlciBhbiBvYmplY3QgaXMgYXQgYHBhdGhgLlxuICAgICAqL1xuICAgIGhhcyhwYXRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYi5oYXModGhpcy5fcmVzb2x2ZVBhdGgocGF0aCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzdHJpbmcgYW5kIGluc2VydCBpdCBpbiB0aGUgZGF0YWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aDogdGhlIHBhdGggZm9yIHRoZSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgc3RyaW5nIHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY3JlYXRlU3RyaW5nKHBhdGgpIHtcbiAgICAgICAgbGV0IHN0ciA9IG5ldyBPYnNlcnZhYmxlU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmFkZChzdHIpO1xuICAgICAgICB0aGlzLnNldChwYXRoLCBzdHIpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gdW5kb2FibGUgbGlzdCBhbmQgaW5zZXJ0IGl0IGluIHRoZSBkYXRhYmFzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoOiB0aGUgcGF0aCBmb3IgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgbGlzdCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBsaXN0IGNhbiBvbmx5IHN0b3JlIG9iamVjdHMgdGhhdCBhcmUgc2ltcGxlXG4gICAgICogSlNPTiBPYmplY3RzIGFuZCBwcmltaXRpdmVzLlxuICAgICAqL1xuICAgIGNyZWF0ZUxpc3QocGF0aCkge1xuICAgICAgICBsZXQgdmVjID0gbmV3IE9ic2VydmFibGVVbmRvYWJsZUxpc3QobmV3IE9ic2VydmFibGVVbmRvYWJsZUxpc3QuSWRlbnRpdHlTZXJpYWxpemVyKCkpO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5hZGQodmVjKTtcbiAgICAgICAgdGhpcy5zZXQocGF0aCwgdmVjKTtcbiAgICAgICAgcmV0dXJuIHZlYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbWFwIGFuZCBpbnNlcnQgaXQgaW4gdGhlIGRhdGFiYXNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGg6IHRoZSBwYXRoIGZvciB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIG1hcCB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBtYXAgY2FuIG9ubHkgc3RvcmUgb2JqZWN0cyB0aGF0IGFyZSBzaW1wbGVcbiAgICAgKiBKU09OIE9iamVjdHMgYW5kIHByaW1pdGl2ZXMuXG4gICAgICovXG4gICAgY3JlYXRlTWFwKHBhdGgpIHtcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBPYnNlcnZhYmxlSlNPTigpO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5hZGQobWFwKTtcbiAgICAgICAgdGhpcy5zZXQocGF0aCwgbWFwKTtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIG9wYXF1ZSB2YWx1ZSBhbmQgaW5zZXJ0IGl0IGluIHRoZSBkYXRhYmFzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoOiB0aGUgcGF0aCBmb3IgdGhlIHZhbHVlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIHZhbHVlIHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY3JlYXRlVmFsdWUocGF0aCkge1xuICAgICAgICBsZXQgdmFsID0gbmV3IE9ic2VydmFibGVWYWx1ZSgpO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5hZGQodmFsKTtcbiAgICAgICAgdGhpcy5zZXQocGF0aCwgdmFsKTtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgdmFsdWUgYXQgYSBwYXRoLCBvciBgdW5kZWZpbmVkIGlmIGl0IGhhcyBub3QgYmVlbiBzZXRcbiAgICAgKiBUaGF0IHZhbHVlIG11c3QgYWxyZWFkeSBoYXZlIGJlZW4gY3JlYXRlZCB1c2luZyBgY3JlYXRlVmFsdWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGg6IHRoZSBwYXRoIGZvciB0aGUgdmFsdWUuXG4gICAgICovXG4gICAgZ2V0VmFsdWUocGF0aCkge1xuICAgICAgICBsZXQgdmFsID0gdGhpcy5nZXQocGF0aCk7XG4gICAgICAgIGlmICghdmFsIHx8IHZhbC50eXBlICE9PSAnVmFsdWUnKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQ2FuIG9ubHkgY2FsbCBnZXRWYWx1ZSBmb3IgYW4gT2JzZXJ2YWJsZVZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbC5nZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGEgdmFsdWUgYXQgYSBwYXRoLiBUaGF0IHZhbHVlIG11c3QgYWxyZWFkeSBoYXZlXG4gICAgICogYmVlbiBjcmVhdGVkIHVzaW5nIGBjcmVhdGVWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aDogdGhlIHBhdGggZm9yIHRoZSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZTogdGhlIG5ldyB2YWx1ZS5cbiAgICAgKi9cbiAgICBzZXRWYWx1ZShwYXRoLCB2YWx1ZSkge1xuICAgICAgICBsZXQgdmFsID0gdGhpcy5nZXQocGF0aCk7XG4gICAgICAgIGlmICghdmFsIHx8IHZhbC50eXBlICE9PSAnVmFsdWUnKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQ2FuIG9ubHkgY2FsbCBzZXRWYWx1ZSBvbiBhbiBPYnNlcnZhYmxlVmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YWwuc2V0KHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdmlldyBvbnRvIGEgc3VidHJlZSBvZiB0aGUgbW9kZWwgZGF0YWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmFzZVBhdGg6IHRoZSBwYXRoIGZvciB0aGUgcm9vdCBvZiB0aGUgc3VidHJlZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIGBJTW9kZWxEQmAgd2l0aCBhIHZpZXcgb250byB0aGUgb3JpZ2luYWxcbiAgICAgKiAgIGBJTW9kZWxEQmAsIHdpdGggYGJhc2VQYXRoYCBwcmVwZW5kZWQgdG8gYWxsIHBhdGhzLlxuICAgICAqL1xuICAgIHZpZXcoYmFzZVBhdGgpIHtcbiAgICAgICAgbGV0IHZpZXcgPSBuZXcgTW9kZWxEQih7IGJhc2VQYXRoLCBiYXNlREI6IHRoaXMgfSk7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmFkZCh2aWV3KTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhIHZhbHVlIGF0IGEgcGF0aC4gTm90IGludGVuZGVkIHRvXG4gICAgICogYmUgY2FsbGVkIGJ5IHVzZXIgY29kZSwgaW5zdGVhZCB1c2UgdGhlXG4gICAgICogYGNyZWF0ZSpgIGZhY3RvcnkgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoOiB0aGUgcGF0aCB0byBzZXQgdGhlIHZhbHVlIGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlOiB0aGUgdmFsdWUgdG8gc2V0IGF0IHRoZSBwYXRoLlxuICAgICAqL1xuICAgIHNldChwYXRoLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9kYi5zZXQodGhpcy5fcmVzb2x2ZVBhdGgocGF0aCksIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIGRhdGFiYXNlLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3RvRGlzcG9zZSkge1xuICAgICAgICAgICAgdGhpcy5fZGIuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgZnVsbHkgcmVzb2x2ZWQgcGF0aCBmb3IgYSBwYXRoIGFyZ3VtZW50LlxuICAgICAqL1xuICAgIF9yZXNvbHZlUGF0aChwYXRoKSB7XG4gICAgICAgIGlmICh0aGlzLl9iYXNlUGF0aCkge1xuICAgICAgICAgICAgcGF0aCA9IHRoaXMuX2Jhc2VQYXRoICsgJy4nICsgcGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlbGRiLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDIwIDIwJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbiclM0UgJTNDcG9seWdvbiBjbGFzcz0nc3QxJyBwb2ludHM9JzE1LjQsMTMuMyA5LjksNy43IDQuNCwxMy4yIDMuNiwxMi41IDkuOSw2LjMgMTYuMSwxMi42ICcvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMCAyMFxcXCI+XFxuXFx0PGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIiBzaGFwZS1yZW5kZXJpbmc9XFxcImdlb21ldHJpY1ByZWNpc2lvblxcXCI+XFxuXFx0XFx0PHBvbHlnb24gY2xhc3M9XFxcInN0MVxcXCIgcG9pbnRzPVxcXCIxNS40LDEzLjMgOS45LDcuNyA0LjQsMTMuMiAzLjYsMTIuNSA5LjksNi4zIDE2LjEsMTIuNiBcXFwiLz5cXG5cXHQ8L2c+XFxuPC9zdmc+XFxuXCI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB2YWxpZGF0ZV8xID0gcmVxdWlyZShcIi4uL3ZhbGlkYXRlXCIpO1xuLyoqXG4gKiBSZXF1aXJlZCBmaWVsZHMgZm9yIGBJS2VybmVsSGVhZGVyYC5cbiAqL1xuY29uc3QgSEVBREVSX0ZJRUxEUyA9IFsndXNlcm5hbWUnLCAndmVyc2lvbicsICdzZXNzaW9uJywgJ21zZ19pZCcsICdtc2dfdHlwZSddO1xuLyoqXG4gKiBSZXF1aXJlZCBmaWVsZHMgYW5kIHR5cGVzIGZvciBjb250ZW50cyBvZiB2YXJpb3VzIHR5cGVzIG9mIGBrZXJuZWwuSU1lc3NhZ2VgXG4gKiBtZXNzYWdlcyBvbiB0aGUgaW9wdWIgY2hhbm5lbC5cbiAqL1xuY29uc3QgSU9QVUJfQ09OVEVOVF9GSUVMRFMgPSB7XG4gICAgc3RyZWFtOiB7IG5hbWU6ICdzdHJpbmcnLCB0ZXh0OiAnc3RyaW5nJyB9LFxuICAgIGRpc3BsYXlfZGF0YTogeyBkYXRhOiAnb2JqZWN0JywgbWV0YWRhdGE6ICdvYmplY3QnIH0sXG4gICAgZXhlY3V0ZV9pbnB1dDogeyBjb2RlOiAnc3RyaW5nJywgZXhlY3V0aW9uX2NvdW50OiAnbnVtYmVyJyB9LFxuICAgIGV4ZWN1dGVfcmVzdWx0OiB7XG4gICAgICAgIGV4ZWN1dGlvbl9jb3VudDogJ251bWJlcicsXG4gICAgICAgIGRhdGE6ICdvYmplY3QnLFxuICAgICAgICBtZXRhZGF0YTogJ29iamVjdCdcbiAgICB9LFxuICAgIGVycm9yOiB7IGVuYW1lOiAnc3RyaW5nJywgZXZhbHVlOiAnc3RyaW5nJywgdHJhY2ViYWNrOiAnb2JqZWN0JyB9LFxuICAgIHN0YXR1czoge1xuICAgICAgICBleGVjdXRpb25fc3RhdGU6IFtcbiAgICAgICAgICAgICdzdHJpbmcnLFxuICAgICAgICAgICAgWydzdGFydGluZycsICdpZGxlJywgJ2J1c3knLCAncmVzdGFydGluZycsICdkZWFkJ11cbiAgICAgICAgXVxuICAgIH0sXG4gICAgY2xlYXJfb3V0cHV0OiB7IHdhaXQ6ICdib29sZWFuJyB9LFxuICAgIGNvbW1fb3BlbjogeyBjb21tX2lkOiAnc3RyaW5nJywgdGFyZ2V0X25hbWU6ICdzdHJpbmcnLCBkYXRhOiAnb2JqZWN0JyB9LFxuICAgIGNvbW1fbXNnOiB7IGNvbW1faWQ6ICdzdHJpbmcnLCBkYXRhOiAnb2JqZWN0JyB9LFxuICAgIGNvbW1fY2xvc2U6IHsgY29tbV9pZDogJ3N0cmluZycgfSxcbiAgICBzaHV0ZG93bl9yZXBseTogeyByZXN0YXJ0OiAnYm9vbGVhbicgfSAvLyBFbWl0dGVkIGJ5IHRoZSBJUHl0aG9uIGtlcm5lbC5cbn07XG4vKipcbiAqIFZhbGlkYXRlIHRoZSBoZWFkZXIgb2YgYSBrZXJuZWwgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVIZWFkZXIoaGVhZGVyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBIRUFERVJfRklFTERTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShoZWFkZXIsIEhFQURFUl9GSUVMRFNbaV0sICdzdHJpbmcnKTtcbiAgICB9XG59XG4vKipcbiAqIFZhbGlkYXRlIGEga2VybmVsIG1lc3NhZ2Ugb2JqZWN0LlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZU1lc3NhZ2UobXNnKSB7XG4gICAgdmFsaWRhdGVfMS52YWxpZGF0ZVByb3BlcnR5KG1zZywgJ21ldGFkYXRhJywgJ29iamVjdCcpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShtc2csICdjb250ZW50JywgJ29iamVjdCcpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShtc2csICdjaGFubmVsJywgJ3N0cmluZycpO1xuICAgIHZhbGlkYXRlSGVhZGVyKG1zZy5oZWFkZXIpO1xuICAgIGlmIChtc2cuY2hhbm5lbCA9PT0gJ2lvcHViJykge1xuICAgICAgICB2YWxpZGF0ZUlPUHViQ29udGVudChtc2cpO1xuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVNZXNzYWdlID0gdmFsaWRhdGVNZXNzYWdlO1xuLyoqXG4gKiBWYWxpZGF0ZSBjb250ZW50IGFuIGtlcm5lbCBtZXNzYWdlIG9uIHRoZSBpb3B1YiBjaGFubmVsLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUlPUHViQ29udGVudChtc2cpIHtcbiAgICBpZiAobXNnLmNoYW5uZWwgPT09ICdpb3B1YicpIHtcbiAgICAgICAgbGV0IGZpZWxkcyA9IElPUFVCX0NPTlRFTlRfRklFTERTW21zZy5oZWFkZXIubXNnX3R5cGVdO1xuICAgICAgICAvLyBDaGVjayBmb3IgdW5rbm93biBtZXNzYWdlIHR5cGUuXG4gICAgICAgIGlmIChmaWVsZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuYW1lcyA9IE9iamVjdC5rZXlzKGZpZWxkcyk7XG4gICAgICAgIGxldCBjb250ZW50ID0gbXNnLmNvbnRlbnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhcmdzID0gZmllbGRzW25hbWVzW2ldXTtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSkge1xuICAgICAgICAgICAgICAgIGFyZ3MgPSBbYXJnc107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlUHJvcGVydHkoY29udGVudCwgbmFtZXNbaV0sIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBWYWxpZGF0ZSBhIGBLZXJuZWwuSU1vZGVsYCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlTW9kZWwobW9kZWwpIHtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlUHJvcGVydHkobW9kZWwsICduYW1lJywgJ3N0cmluZycpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShtb2RlbCwgJ2lkJywgJ3N0cmluZycpO1xufVxuZXhwb3J0cy52YWxpZGF0ZU1vZGVsID0gdmFsaWRhdGVNb2RlbDtcbi8qKlxuICogVmFsaWRhdGUgYW4gYXJyYXkgb2YgYElNb2RlbGAgb2JqZWN0cy5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVNb2RlbHMobW9kZWxzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1vZGVscykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGtlcm5lbCBsaXN0Jyk7XG4gICAgfVxuICAgIG1vZGVscy5mb3JFYWNoKGQgPT4gdmFsaWRhdGVNb2RlbChkKSk7XG59XG5leHBvcnRzLnZhbGlkYXRlTW9kZWxzID0gdmFsaWRhdGVNb2RlbHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZS5qcy5tYXAiLCIvKiAoaWdub3JlZCkgKi8iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG58IENvcHlyaWdodCAoYykgMjAxNywgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxcbnxcXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi5qcC1TcGlubmVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB6LWluZGV4OiAxMDtcXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWpwLWxheW91dC1jb2xvcjApO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLmpwLVNwaW5uZXJDb250ZW50IHtcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIG1hcmdpbjogNTBweCBhdXRvO1xcbiAgdGV4dC1pbmRlbnQ6IC05OTk5ZW07XFxuICB3aWR0aDogM2VtO1xcbiAgaGVpZ2h0OiAzZW07XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1qcC1icmFuZC1jb2xvcjMpO1xcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KFxcbiAgICB0byByaWdodCxcXG4gICAgI2YzNzYyNiAxMCUsXFxuICAgIHJnYmEoMjU1LCAyNTUsIDI1NSwgMCkgNDIlXFxuICApO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYW5pbWF0aW9uOiBsb2FkMyAxcyBpbmZpbml0ZSBsaW5lYXIsIGZhZGVJbiAxcztcXG59XFxuXFxuLmpwLVNwaW5uZXJDb250ZW50OmJlZm9yZSB7XFxuICB3aWR0aDogNTAlO1xcbiAgaGVpZ2h0OiA1MCU7XFxuICBiYWNrZ3JvdW5kOiAjZjM3NjI2O1xcbiAgYm9yZGVyLXJhZGl1czogMTAwJSAwIDAgMDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICBjb250ZW50OiAnJztcXG59XFxuXFxuLmpwLVNwaW5uZXJDb250ZW50OmFmdGVyIHtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWpwLWxheW91dC1jb2xvcjApO1xcbiAgd2lkdGg6IDc1JTtcXG4gIGhlaWdodDogNzUlO1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgY29udGVudDogJyc7XFxuICBtYXJnaW46IGF1dG87XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgcmlnaHQ6IDA7XFxufVxcblxcbkBrZXlmcmFtZXMgZmFkZUluIHtcXG4gIDAlIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICBvcGFjaXR5OiAxO1xcbiAgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIGxvYWQzIHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICB9XFxuICAxMDAlIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcXG4gIH1cXG59XFxuXCIsIFwiXCJdKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZpZXdCb3g9JzAgMCAxOCAxOCcgaGVpZ2h0PScxOCcgd2lkdGg9JzE4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTExLjksMUgzLjJDMi40LDEsMS43LDEuNywxLjcsMi41djEwLjJoMS41VjIuNWg4LjdWMXogTTE0LjEsMy45aC04Yy0wLjgsMC0xLjUsMC43LTEuNSwxLjV2MTAuMmMwLDAuOCwwLjcsMS41LDEuNSwxLjVoOCBjMC44LDAsMS41LTAuNywxLjUtMS41VjUuNEMxNS41LDQuNiwxNC45LDMuOSwxNC4xLDMuOXogTTE0LjEsMTUuNWgtOFY1LjRoOFYxNS41eicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiIGhlaWdodD1cXFwiMThcXFwiIHdpZHRoPVxcXCIxOFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk0xMS45LDFIMy4yQzIuNCwxLDEuNywxLjcsMS43LDIuNXYxMC4yaDEuNVYyLjVoOC43VjF6IE0xNC4xLDMuOWgtOGMtMC44LDAtMS41LDAuNy0xLjUsMS41djEwLjJjMCwwLjgsMC43LDEuNSwxLjUsMS41aDggYzAuOCwwLDEuNS0wLjcsMS41LTEuNVY1LjRDMTUuNSw0LjYsMTQuOSwzLjksMTQuMSwzLjl6IE0xNC4xLDE1LjVoLThWNS40aDhWMTUuNXpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XG4gICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBsdW1pbm8vY29yZXV0aWxzXCIpO1xuY29uc3QgZGlzcG9zYWJsZV8xID0gcmVxdWlyZShcIkBsdW1pbm8vZGlzcG9zYWJsZVwiKTtcbmNvbnN0IEtlcm5lbE1lc3NhZ2UgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbWVzc2FnZXNcIikpO1xuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBhIGtlcm5lbCBmdXR1cmUuXG4gKlxuICogSWYgYSByZXBseSBpcyBleHBlY3RlZCwgdGhlIEZ1dHVyZSBpcyBjb25zaWRlcmVkIGRvbmUgd2hlbiBib3RoIGEgYHJlcGx5YFxuICogbWVzc2FnZSBhbmQgYW4gYGlkbGVgIGlvcHViIHN0YXR1cyBtZXNzYWdlIGhhdmUgYmVlbiByZWNlaXZlZC4gIE90aGVyd2lzZSwgaXRcbiAqIGlzIGNvbnNpZGVyZWQgZG9uZSB3aGVuIHRoZSBgaWRsZWAgc3RhdHVzIGlzIHJlY2VpdmVkLlxuICpcbiAqL1xuY2xhc3MgS2VybmVsRnV0dXJlSGFuZGxlciBleHRlbmRzIGRpc3Bvc2FibGVfMS5EaXNwb3NhYmxlRGVsZWdhdGUge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBLZXJuZWxGdXR1cmVIYW5kbGVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNiLCBtc2csIGV4cGVjdFJlcGx5LCBkaXNwb3NlT25Eb25lLCBrZXJuZWwpIHtcbiAgICAgICAgc3VwZXIoY2IpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSAwO1xuICAgICAgICB0aGlzLl9zdGRpbiA9IFByaXZhdGUubm9PcDtcbiAgICAgICAgdGhpcy5faW9wdWIgPSBQcml2YXRlLm5vT3A7XG4gICAgICAgIHRoaXMuX3JlcGx5ID0gUHJpdmF0ZS5ub09wO1xuICAgICAgICB0aGlzLl9kb25lID0gbmV3IGNvcmV1dGlsc18xLlByb21pc2VEZWxlZ2F0ZSgpO1xuICAgICAgICB0aGlzLl9ob29rcyA9IG5ldyBQcml2YXRlLkhvb2tMaXN0KCk7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VPbkRvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9tc2cgPSBtc2c7XG4gICAgICAgIGlmICghZXhwZWN0UmVwbHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEZsYWcoUHJpdmF0ZS5LZXJuZWxGdXR1cmVGbGFnLkdvdFJlcGx5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXNwb3NlT25Eb25lID0gZGlzcG9zZU9uRG9uZTtcbiAgICAgICAgdGhpcy5fa2VybmVsID0ga2VybmVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9yaWdpbmFsIG91dGdvaW5nIG1lc3NhZ2UuXG4gICAgICovXG4gICAgZ2V0IG1zZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21zZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZnV0dXJlIGlzIGRvbmUuXG4gICAgICovXG4gICAgZ2V0IGRvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kb25lLnByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVwbHkgaGFuZGxlci5cbiAgICAgKi9cbiAgICBnZXQgb25SZXBseSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcGx5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlcGx5IGhhbmRsZXIuXG4gICAgICovXG4gICAgc2V0IG9uUmVwbHkoY2IpIHtcbiAgICAgICAgdGhpcy5fcmVwbHkgPSBjYjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpb3B1YiBoYW5kbGVyLlxuICAgICAqL1xuICAgIGdldCBvbklPUHViKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW9wdWI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaW9wdWIgaGFuZGxlci5cbiAgICAgKi9cbiAgICBzZXQgb25JT1B1YihjYikge1xuICAgICAgICB0aGlzLl9pb3B1YiA9IGNiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0ZGluIGhhbmRsZXIuXG4gICAgICovXG4gICAgZ2V0IG9uU3RkaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGRpbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdGRpbiBoYW5kbGVyLlxuICAgICAqL1xuICAgIHNldCBvblN0ZGluKGNiKSB7XG4gICAgICAgIHRoaXMuX3N0ZGluID0gY2I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGhvb2sgZm9yIElPUHViIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvb2sgLSBUaGUgY2FsbGJhY2sgaW52b2tlZCBmb3IgYW4gSU9QdWIgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGUgSU9QdWIgaG9vayBzeXN0ZW0gYWxsb3dzIHlvdSB0byBwcmVlbXB0IHRoZSBoYW5kbGVycyBmb3IgSU9QdWJcbiAgICAgKiBtZXNzYWdlcyBoYW5kbGVkIGJ5IHRoZSBmdXR1cmUuXG4gICAgICpcbiAgICAgKiBUaGUgbW9zdCByZWNlbnRseSByZWdpc3RlcmVkIGhvb2sgaXMgcnVuIGZpcnN0LiBBIGhvb2sgY2FuIHJldHVybiBhXG4gICAgICogYm9vbGVhbiBvciBhIHByb21pc2UgdG8gYSBib29sZWFuLCBpbiB3aGljaCBjYXNlIGFsbCBrZXJuZWwgbWVzc2FnZVxuICAgICAqIHByb2Nlc3NpbmcgcGF1c2VzIHVudGlsIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZC4gSWYgYSBob29rIHJldHVybiB2YWx1ZVxuICAgICAqIHJlc29sdmVzIHRvIGZhbHNlLCBhbnkgbGF0ZXIgaG9va3Mgd2lsbCBub3QgcnVuIGFuZCB0aGUgZnVuY3Rpb24gd2lsbFxuICAgICAqIHJldHVybiBhIHByb21pc2UgcmVzb2x2aW5nIHRvIGZhbHNlLiBJZiBhIGhvb2sgdGhyb3dzIGFuIGVycm9yLCB0aGUgZXJyb3JcbiAgICAgKiBpcyBsb2dnZWQgdG8gdGhlIGNvbnNvbGUgYW5kIHRoZSBuZXh0IGhvb2sgaXMgcnVuLiBJZiBhIGhvb2sgaXNcbiAgICAgKiByZWdpc3RlcmVkIGR1cmluZyB0aGUgaG9vayBwcm9jZXNzaW5nLCBpdCB3aWxsIG5vdCBydW4gdW50aWwgdGhlIG5leHRcbiAgICAgKiBtZXNzYWdlLiBJZiBhIGhvb2sgaXMgcmVtb3ZlZCBkdXJpbmcgdGhlIGhvb2sgcHJvY2Vzc2luZywgaXQgd2lsbCBiZVxuICAgICAqIGRlYWN0aXZhdGVkIGltbWVkaWF0ZWx5LlxuICAgICAqL1xuICAgIHJlZ2lzdGVyTWVzc2FnZUhvb2soaG9vaykge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0tlcm5lbCBmdXR1cmUgaXMgZGlzcG9zZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ob29rcy5hZGQoaG9vayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGhvb2sgZm9yIElPUHViIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvb2sgLSBUaGUgaG9vayB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSWYgYSBob29rIGlzIHJlbW92ZWQgZHVyaW5nIHRoZSBob29rIHByb2Nlc3NpbmcsIGl0IHdpbGwgYmUgZGVhY3RpdmF0ZWQgaW1tZWRpYXRlbHkuXG4gICAgICovXG4gICAgcmVtb3ZlTWVzc2FnZUhvb2soaG9vaykge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faG9va3MucmVtb3ZlKGhvb2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGFuIGBpbnB1dF9yZXBseWAgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBzZW5kSW5wdXRSZXBseShjb250ZW50KSB7XG4gICAgICAgIHRoaXMuX2tlcm5lbC5zZW5kSW5wdXRSZXBseShjb250ZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBhbmQgdW5yZWdpc3RlciB0aGUgZnV0dXJlLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX3N0ZGluID0gUHJpdmF0ZS5ub09wO1xuICAgICAgICB0aGlzLl9pb3B1YiA9IFByaXZhdGUubm9PcDtcbiAgICAgICAgdGhpcy5fcmVwbHkgPSBQcml2YXRlLm5vT3A7XG4gICAgICAgIHRoaXMuX2hvb2tzID0gbnVsbDtcbiAgICAgICAgaWYgKCF0aGlzLl90ZXN0RmxhZyhQcml2YXRlLktlcm5lbEZ1dHVyZUZsYWcuSXNEb25lKSkge1xuICAgICAgICAgICAgLy8gVE9ETzogVW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbG9nZ2luZyBjb2RlLCBhbmQgY2hlY2sgZm9yIGFueSB0ZXN0cyB0aGF0IHRyaWdnZXIgaXQuXG4gICAgICAgICAgICAvLyBsZXQgc3RhdHVzID0gW107XG4gICAgICAgICAgICAvLyBpZiAoIXRoaXMuX3Rlc3RGbGFnKFByaXZhdGUuS2VybmVsRnV0dXJlRmxhZy5Hb3RJZGxlKSkge1xuICAgICAgICAgICAgLy8gICBzdGF0dXMucHVzaCgnaWRsZScpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gaWYgKCF0aGlzLl90ZXN0RmxhZyhQcml2YXRlLktlcm5lbEZ1dHVyZUZsYWcuR290UmVwbHkpKSB7XG4gICAgICAgICAgICAvLyAgIHN0YXR1cy5wdXNoKCdyZXBseScpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFxuICAgICAgICAgICAgLy8gICBgKioqKioqKioqKioqKioqIERJU1BPU0VEIEJFRk9SRSBET05FOiBLJHt0aGlzLl9rZXJuZWwuaWQuc2xpY2UoXG4gICAgICAgICAgICAvLyAgICAgMCxcbiAgICAgICAgICAgIC8vICAgICA2XG4gICAgICAgICAgICAvLyAgICl9IE0ke3RoaXMuX21zZy5oZWFkZXIubXNnX2lkLnNsaWNlKDAsIDYpfSBtaXNzaW5nICR7c3RhdHVzLmpvaW4oJyAnKX1gXG4gICAgICAgICAgICAvLyApO1xuICAgICAgICAgICAgLy8gUmVqZWN0IHRoZSBgZG9uZWAgcHJvbWlzZSwgYnV0IGNhdGNoIGl0cyBlcnJvciBoZXJlIGluIGNhc2Ugbm8gb25lIGVsc2VcbiAgICAgICAgICAgIC8vIGlzIHdhaXRpbmcgZm9yIHRoZSBwcm9taXNlIHRvIHJlc29sdmUuIFRoaXMgcHJldmVudHMgdGhlIGVycm9yIGZyb21cbiAgICAgICAgICAgIC8vIGJlaW5nIGRpc3BsYXllZCBpbiB0aGUgY29uc29sZSwgYnV0IGRvZXMgbm90IHByZXZlbnQgaXQgZnJvbSBiZWluZ1xuICAgICAgICAgICAgLy8gY2F1Z2h0IGJ5IGEgY2xpZW50IHdobyBpcyB3YWl0aW5nIGZvciBpdC5cbiAgICAgICAgICAgIHRoaXMuX2RvbmUucHJvbWlzZS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fZG9uZS5yZWplY3QobmV3IEVycm9yKGBDYW5jZWxlZCBmdXR1cmUgZm9yICR7dGhpcy5tc2cuaGVhZGVyLm1zZ190eXBlfSBtZXNzYWdlIGJlZm9yZSByZXBsaWVzIHdlcmUgZG9uZWApKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbiBpbmNvbWluZyBrZXJuZWwgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBoYW5kbGVNc2cobXNnKSB7XG4gICAgICAgIHN3aXRjaCAobXNnLmNoYW5uZWwpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRyb2wnOlxuICAgICAgICAgICAgY2FzZSAnc2hlbGwnOlxuICAgICAgICAgICAgICAgIGlmIChtc2cuY2hhbm5lbCA9PT0gdGhpcy5tc2cuY2hhbm5lbCAmJlxuICAgICAgICAgICAgICAgICAgICBtc2cucGFyZW50X2hlYWRlci5tc2dfaWQgPT09IHRoaXMubXNnLmhlYWRlci5tc2dfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlUmVwbHkobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdGRpbic6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlU3RkaW4obXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2lvcHViJzpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9oYW5kbGVJT1B1Yihtc2cpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfaGFuZGxlUmVwbHkobXNnKSB7XG4gICAgICAgIGxldCByZXBseSA9IHRoaXMuX3JlcGx5O1xuICAgICAgICBpZiAocmVwbHkpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTphd2FpdC1wcm9taXNlXG4gICAgICAgICAgICBhd2FpdCByZXBseShtc2cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlcGx5TXNnID0gbXNnO1xuICAgICAgICB0aGlzLl9zZXRGbGFnKFByaXZhdGUuS2VybmVsRnV0dXJlRmxhZy5Hb3RSZXBseSk7XG4gICAgICAgIGlmICh0aGlzLl90ZXN0RmxhZyhQcml2YXRlLktlcm5lbEZ1dHVyZUZsYWcuR290SWRsZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZURvbmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfaGFuZGxlU3RkaW4obXNnKSB7XG4gICAgICAgIGxldCBzdGRpbiA9IHRoaXMuX3N0ZGluO1xuICAgICAgICBpZiAoc3RkaW4pIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTphd2FpdC1wcm9taXNlXG4gICAgICAgICAgICBhd2FpdCBzdGRpbihtc2cpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9oYW5kbGVJT1B1Yihtc2cpIHtcbiAgICAgICAgbGV0IHByb2Nlc3MgPSBhd2FpdCB0aGlzLl9ob29rcy5wcm9jZXNzKG1zZyk7XG4gICAgICAgIGxldCBpb3B1YiA9IHRoaXMuX2lvcHViO1xuICAgICAgICBpZiAocHJvY2VzcyAmJiBpb3B1Yikge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmF3YWl0LXByb21pc2VcbiAgICAgICAgICAgIGF3YWl0IGlvcHViKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEtlcm5lbE1lc3NhZ2UuaXNTdGF0dXNNc2cobXNnKSAmJlxuICAgICAgICAgICAgbXNnLmNvbnRlbnQuZXhlY3V0aW9uX3N0YXRlID09PSAnaWRsZScpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEZsYWcoUHJpdmF0ZS5LZXJuZWxGdXR1cmVGbGFnLkdvdElkbGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Rlc3RGbGFnKFByaXZhdGUuS2VybmVsRnV0dXJlRmxhZy5Hb3RSZXBseSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVEb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2hhbmRsZURvbmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXN0RmxhZyhQcml2YXRlLktlcm5lbEZ1dHVyZUZsYWcuSXNEb25lKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldEZsYWcoUHJpdmF0ZS5LZXJuZWxGdXR1cmVGbGFnLklzRG9uZSk7XG4gICAgICAgIHRoaXMuX2RvbmUucmVzb2x2ZSh0aGlzLl9yZXBseU1zZyk7XG4gICAgICAgIGlmICh0aGlzLl9kaXNwb3NlT25Eb25lKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdGhlIGdpdmVuIGZ1dHVyZSBmbGFnIGlzIHNldC5cbiAgICAgKi9cbiAgICBfdGVzdEZsYWcoZmxhZykge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgcmV0dXJuICh0aGlzLl9zdGF0dXMgJiBmbGFnKSAhPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBnaXZlbiBmdXR1cmUgZmxhZy5cbiAgICAgKi9cbiAgICBfc2V0RmxhZyhmbGFnKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgICAgICB0aGlzLl9zdGF0dXMgfD0gZmxhZztcbiAgICB9XG59XG5leHBvcnRzLktlcm5lbEZ1dHVyZUhhbmRsZXIgPSBLZXJuZWxGdXR1cmVIYW5kbGVyO1xuY2xhc3MgS2VybmVsQ29udHJvbEZ1dHVyZUhhbmRsZXIgZXh0ZW5kcyBLZXJuZWxGdXR1cmVIYW5kbGVyIHtcbn1cbmV4cG9ydHMuS2VybmVsQ29udHJvbEZ1dHVyZUhhbmRsZXIgPSBLZXJuZWxDb250cm9sRnV0dXJlSGFuZGxlcjtcbmNsYXNzIEtlcm5lbFNoZWxsRnV0dXJlSGFuZGxlciBleHRlbmRzIEtlcm5lbEZ1dHVyZUhhbmRsZXIge1xufVxuZXhwb3J0cy5LZXJuZWxTaGVsbEZ1dHVyZUhhbmRsZXIgPSBLZXJuZWxTaGVsbEZ1dHVyZUhhbmRsZXI7XG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEEgbm8tb3AgZnVuY3Rpb24uXG4gICAgICovXG4gICAgUHJpdmF0ZS5ub09wID0gKCkgPT4ge1xuICAgICAgICAvKiBuby1vcCAqL1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVmZXIgYSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqICMjIyMgTk9URVNcbiAgICAgKiBXZSBjYW4ndCBqdXN0IHVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgc2luY2UgaXQgaXMgbm90IGF2YWlsYWJsZSBpbiBub2RlLlxuICAgICAqIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgZnJvbSBQaG9zcGhvcjpcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vcGhvc3Bob3Jqcy9waG9zcGhvci9ibG9iL2U4OGU0MzIxMjg5YmIxMTk4ZjMwOThlN2JkYTQwNzM2NTAxZjJlZDgvdGVzdHMvdGVzdC1tZXNzYWdpbmcvc3JjL2luZGV4LnNwZWMudHMjTDYzXG4gICAgICovXG4gICAgY29uc3QgZGVmZXIgPSAoKCkgPT4ge1xuICAgICAgICBsZXQgb2sgPSB0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID09PSAnZnVuY3Rpb24nO1xuICAgICAgICByZXR1cm4gb2sgPyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgOiBzZXRJbW1lZGlhdGU7XG4gICAgfSkoKTtcbiAgICBjbGFzcyBIb29rTGlzdCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5faG9va3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgYSBob29rLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaG9vayAtIFRoZSBjYWxsYmFjayB0byByZWdpc3Rlci5cbiAgICAgICAgICovXG4gICAgICAgIGFkZChob29rKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShob29rKTtcbiAgICAgICAgICAgIHRoaXMuX2hvb2tzLnB1c2goaG9vayk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBhIGhvb2ssIGlmIGl0IGV4aXN0cyBpbiB0aGUgaG9vayBsaXN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gaG9vayAtIFRoZSBjYWxsYmFjayB0byByZW1vdmUuXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmUoaG9vaykge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5faG9va3MuaW5kZXhPZihob29rKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faG9va3NbaW5kZXhdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZUNvbXBhY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvY2VzcyBhIG1lc3NhZ2UgdGhyb3VnaCB0aGUgaG9va3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSByZXNvbHZpbmcgdG8gZmFsc2UgaWYgYW55IGhvb2sgcmVzb2x2ZWQgYXMgZmFsc2UsXG4gICAgICAgICAqIG90aGVyd2lzZSB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgTm90ZXNcbiAgICAgICAgICogVGhlIG1vc3QgcmVjZW50bHkgcmVnaXN0ZXJlZCBob29rIGlzIHJ1biBmaXJzdC4gQSBob29rIGNhbiByZXR1cm4gYVxuICAgICAgICAgKiBib29sZWFuIG9yIGEgcHJvbWlzZSB0byBhIGJvb2xlYW4sIGluIHdoaWNoIGNhc2UgcHJvY2Vzc2luZyBwYXVzZXMgdW50aWxcbiAgICAgICAgICogdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkLiBJZiBhIGhvb2sgcmV0dXJuIHZhbHVlIHJlc29sdmVzIHRvIGZhbHNlLCBhbnlcbiAgICAgICAgICogbGF0ZXIgaG9va3Mgd2lsbCBub3QgcnVuIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBwcm9taXNlIHJlc29sdmluZ1xuICAgICAgICAgKiB0byBmYWxzZS4gSWYgYSBob29rIHRocm93cyBhbiBlcnJvciwgdGhlIGVycm9yIGlzIGxvZ2dlZCB0byB0aGUgY29uc29sZVxuICAgICAgICAgKiBhbmQgdGhlIG5leHQgaG9vayBpcyBydW4uIElmIGEgaG9vayBpcyByZWdpc3RlcmVkIGR1cmluZyB0aGUgaG9va1xuICAgICAgICAgKiBwcm9jZXNzaW5nLCBpdCB3aWxsIG5vdCBydW4gdW50aWwgdGhlIG5leHQgbWVzc2FnZS4gSWYgYSBob29rIGlzIHJlbW92ZWRcbiAgICAgICAgICogZHVyaW5nIHRoZSBob29rIHByb2Nlc3NpbmcsIGl0IHdpbGwgYmUgZGVhY3RpdmF0ZWQgaW1tZWRpYXRlbHkuXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBwcm9jZXNzKG1zZykge1xuICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCB3ZSBjYW4gc3RhcnQgYSBuZXcgcHJvY2VzcyBydW4uXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9wcm9jZXNzaW5nO1xuICAgICAgICAgICAgLy8gU3RhcnQgdGhlIG5leHQgcHJvY2VzcyBydW4uXG4gICAgICAgICAgICBsZXQgcHJvY2Vzc2luZyA9IG5ldyBjb3JldXRpbHNfMS5Qcm9taXNlRGVsZWdhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBwcm9jZXNzaW5nLnByb21pc2U7XG4gICAgICAgICAgICBsZXQgY29udGludWVIYW5kbGluZztcbiAgICAgICAgICAgIC8vIENhbGwgdGhlIGVuZCBob29rIChtb3N0IHJlY2VudGx5LWFkZGVkKSBmaXJzdC4gU3RhcnRpbmcgYXQgdGhlIGVuZCBhbHNvXG4gICAgICAgICAgICAvLyBndWFyYW50ZWVzIHRoYXQgaG9va3MgYWRkZWQgZHVyaW5nIHRoZSBwcm9jZXNzaW5nIHdpbGwgbm90IGJlIHJ1biBpblxuICAgICAgICAgICAgLy8gdGhpcyBwcm9jZXNzIHJ1bi5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9ob29rcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGxldCBob29rID0gdGhpcy5faG9va3NbaV07XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGhvb2sgaGFzIGJlZW4gcmVtb3ZlZCwgY29udGludWUgdG8gdGhlIG5leHQgb25lLlxuICAgICAgICAgICAgICAgIGlmIChob29rID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBob29rIGFuZCBsb2cgYW55IGVycm9ycy5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6YXdhaXQtcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZUhhbmRsaW5nID0gYXdhaXQgaG9vayhtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlSGFuZGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBob29rIHJlc29sdmVkIHRvIGZhbHNlLCBzdG9wIHByb2Nlc3NpbmcgYW5kIHJldHVybi5cbiAgICAgICAgICAgICAgICBpZiAoY29udGludWVIYW5kbGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZy5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBbGwgaG9va3MgcmV0dXJuZWQgdHJ1ZSAob3IgZXJyb3JlZCBvdXQpLCBzbyByZXR1cm4gdHJ1ZS5cbiAgICAgICAgICAgIHByb2Nlc3NpbmcucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjaGVkdWxlIGEgY2xlYW51cCBvZiB0aGUgbGlzdCwgcmVtb3ZpbmcgYW55IGhvb2tzIHRoYXQgaGF2ZSBiZWVuIG51bGxlZCBvdXQuXG4gICAgICAgICAqL1xuICAgICAgICBfc2NoZWR1bGVDb21wYWN0KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb21wYWN0U2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGFjdFNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgYSBjb21wYWN0aW9uIGluIGJldHdlZW4gcHJvY2Vzc2luZyBydW5zLiBXZSBkbyB0aGVcbiAgICAgICAgICAgICAgICAvLyBzY2hlZHVsaW5nIGluIGFuIGFuaW1hdGlvbiBmcmFtZSB0byByYXRlLWxpbWl0IG91ciBjb21wYWN0aW9ucy4gSWYgd2VcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNvbXBhY3QgbW9yZSBmcmVxdWVudGx5LCB3ZSBjYW4gY2hhbmdlIHRoaXMgdG8gZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAvLyBzY2hlZHVsZSB0aGUgY29tcGFjdGlvbi5cbiAgICAgICAgICAgICAgICBkZWZlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSB0aGlzLl9wcm9jZXNzaW5nLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29tcGFjdFNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29tcGFjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGFjdCB0aGUgbGlzdCwgcmVtb3ZpbmcgYW55IG51bGxzLlxuICAgICAgICAgKi9cbiAgICAgICAgX2NvbXBhY3QoKSB7XG4gICAgICAgICAgICBsZXQgbnVtTnVsbHMgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuX2hvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhvb2sgPSB0aGlzLl9ob29rc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faG9va3NbaV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtTnVsbHMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvb2tzW2kgLSBudW1OdWxsc10gPSBob29rO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hvb2tzLmxlbmd0aCAtPSBudW1OdWxscztcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcml2YXRlLkhvb2tMaXN0ID0gSG9va0xpc3Q7XG4gICAgLyoqXG4gICAgICogQml0IGZsYWdzIGZvciB0aGUga2VybmVsIGZ1dHVyZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBsZXQgS2VybmVsRnV0dXJlRmxhZztcbiAgICAoZnVuY3Rpb24gKEtlcm5lbEZ1dHVyZUZsYWcpIHtcbiAgICAgICAgS2VybmVsRnV0dXJlRmxhZ1tLZXJuZWxGdXR1cmVGbGFnW1wiR290UmVwbHlcIl0gPSAxXSA9IFwiR290UmVwbHlcIjtcbiAgICAgICAgS2VybmVsRnV0dXJlRmxhZ1tLZXJuZWxGdXR1cmVGbGFnW1wiR290SWRsZVwiXSA9IDJdID0gXCJHb3RJZGxlXCI7XG4gICAgICAgIEtlcm5lbEZ1dHVyZUZsYWdbS2VybmVsRnV0dXJlRmxhZ1tcIklzRG9uZVwiXSA9IDRdID0gXCJJc0RvbmVcIjtcbiAgICAgICAgS2VybmVsRnV0dXJlRmxhZ1tLZXJuZWxGdXR1cmVGbGFnW1wiRGlzcG9zZU9uRG9uZVwiXSA9IDhdID0gXCJEaXNwb3NlT25Eb25lXCI7XG4gICAgfSkoS2VybmVsRnV0dXJlRmxhZyA9IFByaXZhdGUuS2VybmVsRnV0dXJlRmxhZyB8fCAoUHJpdmF0ZS5LZXJuZWxGdXR1cmVGbGFnID0ge30pKTtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnV0dXJlLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMjIgMjInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyOycgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyBjbGFzcz0nanAtaWNvbi13YXJuMCBqcC1pY29uLXNlbGVjdGFibGUnIGZpbGw9JyUyM0VGNkMwMCcgJTNFICUzQ3BhdGggZD0nTTE4LjcsMy4zdjE1LjRIMy4zVjMuM0gxOC43IE0yMC4yLDEuOEgxLjh2MTguM2gxOC4zbDAsMEwyMC4yLDEuOEwyMC4yLDEuOHonLyUzRSAlM0Nwb2x5Z29uIHBvaW50cz0nMTYuNSwxNi41IDExLjEsMTIuMiA1LjUsMTYuNSA1LjUsNS41IDE2LjUsNS41ICcvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB2ZXJzaW9uPVxcXCIxLjFcXFwiIGlkPVxcXCJMYXllcl8xXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHhtbG5zOnhsaW5rPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIiB4PVxcXCIwcHhcXFwiIHk9XFxcIjBweFxcXCIgdmlld0JveD1cXFwiMCAwIDIyIDIyXFxcIiBzdHlsZT1cXFwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMiAyMjtcXFwiIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiPlxcblxcdDxnXFxuXFx0XFx0Y2xhc3M9XFxcImpwLWljb24td2FybjAganAtaWNvbi1zZWxlY3RhYmxlXFxcIlxcblxcdFxcdGZpbGw9XFxcIiNFRjZDMDBcXFwiXFxuXFx0PlxcblxcdFxcdDxwYXRoIGQ9XFxcIk0xOC43LDMuM3YxNS40SDMuM1YzLjNIMTguNyBNMjAuMiwxLjhIMS44djE4LjNoMTguM2wwLDBMMjAuMiwxLjhMMjAuMiwxLjh6XFxcIi8+XFxuXFx0XFx0PHBvbHlnb24gcG9pbnRzPVxcXCIxNi41LDE2LjUgMTEuMSwxMi4yIDUuNSwxNi41IDUuNSw1LjUgMTYuNSw1LjUgXFx0XFxcIi8+XFxuXFx0PC9nPlxcbjwvc3ZnPlxcblwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZpZXdCb3g9JzAgMCAyNCAyNCcgaGVpZ2h0PScxOCcgd2lkdGg9JzE4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTIwIDhoLTIuODFjLS40NS0uNzgtMS4wNy0xLjQ1LTEuODItMS45NkwxNyA0LjQxIDE1LjU5IDNsLTIuMTcgMi4xN0MxMi45NiA1LjA2IDEyLjQ5IDUgMTIgNWMtLjQ5IDAtLjk2LjA2LTEuNDEuMTdMOC40MSAzIDcgNC40MWwxLjYyIDEuNjNDNy44OCA2LjU1IDcuMjYgNy4yMiA2LjgxIDhINHYyaDIuMDljLS4wNS4zMy0uMDkuNjYtLjA5IDF2MUg0djJoMnYxYzAgLjM0LjA0LjY3LjA5IDFINHYyaDIuODFjMS4wNCAxLjc5IDIuOTcgMyA1LjE5IDNzNC4xNS0xLjIxIDUuMTktM0gyMHYtMmgtMi4wOWMuMDUtLjMzLjA5LS42Ni4wOS0xdi0xaDJ2LTJoLTJ2LTFjMC0uMzQtLjA0LS42Ny0uMDktMUgyMFY4em0tNiA4aC00di0yaDR2MnptMC00aC00di0yaDR2MnonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiB3aWR0aD1cXFwiMThcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMjAgOGgtMi44MWMtLjQ1LS43OC0xLjA3LTEuNDUtMS44Mi0xLjk2TDE3IDQuNDEgMTUuNTkgM2wtMi4xNyAyLjE3QzEyLjk2IDUuMDYgMTIuNDkgNSAxMiA1Yy0uNDkgMC0uOTYuMDYtMS40MS4xN0w4LjQxIDMgNyA0LjQxbDEuNjIgMS42M0M3Ljg4IDYuNTUgNy4yNiA3LjIyIDYuODEgOEg0djJoMi4wOWMtLjA1LjMzLS4wOS42Ni0uMDkgMXYxSDR2MmgydjFjMCAuMzQuMDQuNjcuMDkgMUg0djJoMi44MWMxLjA0IDEuNzkgMi45NyAzIDUuMTkgM3M0LjE1LTEuMjEgNS4xOS0zSDIwdi0yaC0yLjA5Yy4wNS0uMzMuMDktLjY2LjA5LTF2LTFoMnYtMmgtMnYtMWMwLS4zNC0uMDQtLjY3LS4wOS0xSDIwVjh6bS02IDhoLTR2LTJoNHYyem0wLTRoLTR2LTJoNHYyelxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsInZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbXBvcnRzLmNzc1wiKTtcbmNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG5pZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbn1cblxudmFyIG9wdGlvbnMgPSB7fVxuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZiAoY29udGVudC5sb2NhbHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbn1cbiIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuLyoqXG4gKiBUaGUgSUxhYkljb25NYW5hZ2VyIHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgSUxhYkljb25NYW5hZ2VyID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi91aS1jb21wb25lbnRzOklMYWJJY29uTWFuYWdlcicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9rZW5zLmpzLm1hcCIsIi8vIFRoaXMgZmlsZSBpcyBhdXRvLWdlbmVyYXRlZCBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIGZpbGUgaW4gL2Rldl9tb2RlXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5yZXF1aXJlKCdlczYtcHJvbWlzZS9hdXRvJyk7ICAvLyBwb2x5ZmlsbCBQcm9taXNlIG9uIElFXG5cbmltcG9ydCB7XG4gIFBhZ2VDb25maWdcbn0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5fX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IFBhZ2VDb25maWcuZ2V0T3B0aW9uKCdmdWxsU3RhdGljVXJsJykgKyAnLyc7XG5cbi8vIFRoaXMgbXVzdCBiZSBhZnRlciB0aGUgcHVibGljIHBhdGggaXMgc2V0LlxuLy8gVGhpcyBjYW5ub3QgYmUgZXh0cmFjdGVkIGJlY2F1c2UgdGhlIHB1YmxpYyBwYXRoIGlzIGR5bmFtaWMuXG5yZXF1aXJlKCcuL2ltcG9ydHMuY3NzJyk7XG5cbi8qKlxuICogVGhlIG1haW4gZW50cnkgcG9pbnQgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWFpbigpIHtcbiAgdmFyIEp1cHl0ZXJMYWIgPSByZXF1aXJlKCdAanVweXRlcmxhYi9hcHBsaWNhdGlvbicpLkp1cHl0ZXJMYWI7XG4gIHZhciBkaXNhYmxlZCA9IFtdO1xuICB2YXIgZGVmZXJyZWQgPSBbXTtcbiAgdmFyIGlnbm9yZVBsdWdpbnMgPSBbXTtcbiAgdmFyIHJlZ2lzdGVyID0gW107XG5cbiAgLy8gSGFuZGxlIHRoZSByZWdpc3RlcmVkIG1pbWUgZXh0ZW5zaW9ucy5cbiAgdmFyIG1pbWVFeHRlbnNpb25zID0gW107XG4gIHZhciBleHRlbnNpb247XG4gIHZhciBleHRNb2Q7XG4gIHZhciBwbHVnaW5zID0gW107XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvamF2YXNjcmlwdC1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBtaW1lRXh0ZW5zaW9ucy5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvanNvbi1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBtaW1lRXh0ZW5zaW9ucy5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvcGRmLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG1pbWVFeHRlbnNpb25zLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi92ZWdhNS1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBtaW1lRXh0ZW5zaW9ucy5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG5cbiAgLy8gSGFuZGxlZCB0aGUgcmVnaXN0ZXJlZCBzdGFuZGFyZCBleHRlbnNpb25zLlxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2FwcGxpY2F0aW9uLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi9hcHB1dGlscy1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvY2VsbHRhZ3MtZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2NvZGVtaXJyb3ItZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2NvbXBsZXRlci1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvY29uc29sZS1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvY3N2dmlld2VyLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi9kb2NtYW5hZ2VyLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi9kb2N1bWVudHNlYXJjaC1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvZXh0ZW5zaW9ubWFuYWdlci1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvZmlsZWJyb3dzZXItZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2ZpbGVlZGl0b3ItZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2hlbHAtZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2h0bWx2aWV3ZXItZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2h1Yi1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvaW1hZ2V2aWV3ZXItZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2luc3BlY3Rvci1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvbGF1bmNoZXItZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL2xvZ2NvbnNvbGUtZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL21haW5tZW51LWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi9tYXJrZG93bnZpZXdlci1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvbWF0aGpheDItZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL25vdGVib29rLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi9yZW5kZXJtaW1lLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi9ydW5uaW5nLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi9zZXR0aW5nZWRpdG9yLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi9zaG9ydGN1dHMtZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL3N0YXR1c2Jhci1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvdGFibWFuYWdlci1leHRlbnNpb24vJyk7XG4gICAgZXh0ZW5zaW9uID0gZXh0TW9kLmRlZmF1bHQ7XG5cbiAgICAvLyBIYW5kbGUgQ29tbW9uSlMgZXhwb3J0cy5cbiAgICBpZiAoIWV4dE1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICBleHRlbnNpb24gPSBleHRNb2Q7XG4gICAgfVxuXG4gICAgcGx1Z2lucyA9IEFycmF5LmlzQXJyYXkoZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbiA6IFtleHRlbnNpb25dO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0RlZmVycmVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGVmZXJyZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICBpZ25vcmVQbHVnaW5zLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmIChQYWdlQ29uZmlnLkV4dGVuc2lvbi5pc0Rpc2FibGVkKHBsdWdpbi5pZCkpIHtcbiAgICAgICAgZGlzYWJsZWQucHVzaChwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZWdpc3Rlci5wdXNoKHBsdWdpbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICB9XG4gIHRyeSB7XG4gICAgZXh0TW9kID0gcmVxdWlyZSgnQGp1cHl0ZXJsYWIvdGVybWluYWwtZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL3RoZW1lLWRhcmstZXh0ZW5zaW9uLycpO1xuICAgIGV4dGVuc2lvbiA9IGV4dE1vZC5kZWZhdWx0O1xuXG4gICAgLy8gSGFuZGxlIENvbW1vbkpTIGV4cG9ydHMuXG4gICAgaWYgKCFleHRNb2QuaGFzT3duUHJvcGVydHkoJ19fZXNNb2R1bGUnKSkge1xuICAgICAgZXh0ZW5zaW9uID0gZXh0TW9kO1xuICAgIH1cblxuICAgIHBsdWdpbnMgPSBBcnJheS5pc0FycmF5KGV4dGVuc2lvbikgPyBleHRlbnNpb24gOiBbZXh0ZW5zaW9uXTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEZWZlcnJlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRlZmVycmVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgaWdub3JlUGx1Z2lucy5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICB9XG4gICAgICBpZiAoUGFnZUNvbmZpZy5FeHRlbnNpb24uaXNEaXNhYmxlZChwbHVnaW4uaWQpKSB7XG4gICAgICAgIGRpc2FibGVkLnB1c2gocGx1Z2luLmlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXIucHVzaChwbHVnaW4pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlKTtcbiAgfVxuICB0cnkge1xuICAgIGV4dE1vZCA9IHJlcXVpcmUoJ0BqdXB5dGVybGFiL3RoZW1lLWxpZ2h0LWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi90b29sdGlwLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi91aS1jb21wb25lbnRzLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBleHRNb2QgPSByZXF1aXJlKCdAanVweXRlcmxhYi92ZG9tLWV4dGVuc2lvbi8nKTtcbiAgICBleHRlbnNpb24gPSBleHRNb2QuZGVmYXVsdDtcblxuICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgIGlmICghZXh0TW9kLmhhc093blByb3BlcnR5KCdfX2VzTW9kdWxlJykpIHtcbiAgICAgIGV4dGVuc2lvbiA9IGV4dE1vZDtcbiAgICB9XG5cbiAgICBwbHVnaW5zID0gQXJyYXkuaXNBcnJheShleHRlbnNpb24pID8gZXh0ZW5zaW9uIDogW2V4dGVuc2lvbl07XG4gICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGVmZXJyZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkZWZlcnJlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIGlnbm9yZVBsdWdpbnMucHVzaChwbHVnaW4uaWQpO1xuICAgICAgfVxuICAgICAgaWYgKFBhZ2VDb25maWcuRXh0ZW5zaW9uLmlzRGlzYWJsZWQocGx1Z2luLmlkKSkge1xuICAgICAgICBkaXNhYmxlZC5wdXNoKHBsdWdpbi5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyLnB1c2gocGx1Z2luKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gIH1cbiAgdmFyIGxhYiA9IG5ldyBKdXB5dGVyTGFiKHtcbiAgICBtaW1lRXh0ZW5zaW9uczogbWltZUV4dGVuc2lvbnMsXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIG1hdGNoZXM6IGRpc2FibGVkLFxuICAgICAgcGF0dGVybnM6IFBhZ2VDb25maWcuRXh0ZW5zaW9uLmRpc2FibGVkXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gdmFsLnJhdzsgfSlcbiAgICB9LFxuICAgIGRlZmVycmVkOiB7XG4gICAgICBtYXRjaGVzOiBkZWZlcnJlZCxcbiAgICAgIHBhdHRlcm5zOiBQYWdlQ29uZmlnLkV4dGVuc2lvbi5kZWZlcnJlZFxuICAgICAgICAubWFwKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHZhbC5yYXc7IH0pXG4gICAgfSxcbiAgfSk7XG4gIHJlZ2lzdGVyLmZvckVhY2goZnVuY3Rpb24oaXRlbSkgeyBsYWIucmVnaXN0ZXJQbHVnaW5Nb2R1bGUoaXRlbSk7IH0pO1xuICBsYWIuc3RhcnQoeyBpZ25vcmVQbHVnaW5zOiBpZ25vcmVQbHVnaW5zIH0pO1xuXG4gIC8vIEV4cG9zZSBnbG9iYWwgbGFiIGluc3RhbmNlIHdoZW4gaW4gZGV2IG1vZGUuXG4gIGlmICgoUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2Rldk1vZGUnKSB8fCAnJykudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnKSB7XG4gICAgd2luZG93LmxhYiA9IGxhYjtcbiAgfVxuXG4gIC8vIEhhbmRsZSBhIGJyb3dzZXIgdGVzdC5cbiAgdmFyIGJyb3dzZXJUZXN0ID0gUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2Jyb3dzZXJUZXN0Jyk7XG4gIGlmIChicm93c2VyVGVzdC50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbC5pZCA9ICdicm93c2VyVGVzdCc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gICAgZWwudGV4dENvbnRlbnQgPSAnW10nO1xuICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdmFyIGVycm9ycyA9IFtdO1xuICAgIHZhciByZXBvcnRlZCA9IGZhbHNlO1xuICAgIHZhciB0aW1lb3V0ID0gMjUwMDA7XG5cbiAgICB2YXIgcmVwb3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocmVwb3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVwb3J0ZWQgPSB0cnVlO1xuICAgICAgZWwuY2xhc3NOYW1lID0gJ2NvbXBsZXRlZCc7XG4gICAgfVxuXG4gICAgd2luZG93Lm9uZXJyb3IgPSBmdW5jdGlvbihtc2csIHVybCwgbGluZSwgY29sLCBlcnJvcikge1xuICAgICAgZXJyb3JzLnB1c2goU3RyaW5nKGVycm9yKSk7XG4gICAgICBlbC50ZXh0Q29udGVudCA9IEpTT04uc3RyaW5naWZ5KGVycm9ycylcbiAgICB9O1xuICAgIGNvbnNvbGUuZXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICBlcnJvcnMucHVzaChTdHJpbmcobWVzc2FnZSkpO1xuICAgICAgZWwudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShlcnJvcnMpXG4gICAgfTtcblxuICAgIGxhYi5yZXN0b3JlZFxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7IHJlcG9ydChlcnJvcnMpOyB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbikgeyByZXBvcnQoW2BSZXN0b3JlRXJyb3I6ICR7cmVhc29uLm1lc3NhZ2V9YF0pOyB9KTtcblxuICAgIC8vIEhhbmRsZSBmYWlsdXJlcyB0byByZXN0b3JlIGFmdGVyIHRoZSB0aW1lb3V0IGhhcyBlbGFwc2VkLlxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyByZXBvcnQoZXJyb3JzKTsgfSwgdGltZW91dCk7XG4gIH1cblxufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG1haW4pO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZXhwb3J0ICogZnJvbSAnLi9tYWlubWVudSc7XG5leHBvcnQgKiBmcm9tICcuL2xhYm1lbnUnO1xuZXhwb3J0ICogZnJvbSAnLi9lZGl0JztcbmV4cG9ydCAqIGZyb20gJy4vZmlsZSc7XG5leHBvcnQgKiBmcm9tICcuL2hlbHAnO1xuZXhwb3J0ICogZnJvbSAnLi9rZXJuZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9ydW4nO1xuZXhwb3J0ICogZnJvbSAnLi9zZXR0aW5ncyc7XG5leHBvcnQgKiBmcm9tICcuL3ZpZXcnO1xuZXhwb3J0ICogZnJvbSAnLi90YWJzJztcbmV4cG9ydCAqIGZyb20gJy4vdG9rZW5zJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IENvZGVNaXJyb3JFZGl0b3JGYWN0b3J5IH0gZnJvbSAnLi9mYWN0b3J5JztcbmltcG9ydCB7IENvZGVNaXJyb3JNaW1lVHlwZVNlcnZpY2UgfSBmcm9tICcuL21pbWV0eXBlJztcbmV4cG9ydCAqIGZyb20gJy4vbW9kZSc7XG5leHBvcnQgKiBmcm9tICcuL2VkaXRvcic7XG5leHBvcnQgKiBmcm9tICcuL2ZhY3RvcnknO1xuZXhwb3J0ICogZnJvbSAnLi9taW1ldHlwZSc7XG5leHBvcnQgKiBmcm9tICcuL3N5bnRheHN0YXR1cyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGVkaXRvciBzZXJ2aWNlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRvclNlcnZpY2VzID0ge1xuICAgIGZhY3RvcnlTZXJ2aWNlOiBuZXcgQ29kZU1pcnJvckVkaXRvckZhY3RvcnkoKSxcbiAgICBtaW1lVHlwZVNlcnZpY2U6IG5ldyBDb2RlTWlycm9yTWltZVR5cGVTZXJ2aWNlKClcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBQcm9taXNlRGVsZWdhdGUsIFRva2VuIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qKlxuICogVGhlIGRlZmF1bHQgd2luZG93IHJlc29sdmVyIHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgSVdpbmRvd1Jlc29sdmVyID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9hcHB1dGlsczpJV2luZG93UmVzb2x2ZXInKTtcbi8qKlxuICogQSBjb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBhIHdpbmRvdyBuYW1lIHJlc29sdmVyLlxuICovXG5leHBvcnQgY2xhc3MgV2luZG93UmVzb2x2ZXIge1xuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHZlZCB3aW5kb3cgbmFtZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBJZiB0aGUgYHJlc29sdmVgIHByb21pc2UgaGFzIG5vdCByZXNvbHZlZCwgdGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYSB3aW5kb3cgbmFtZSB0byB1c2UgYXMgYSBoYW5kbGUgYW1vbmcgc2hhcmVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYW5kaWRhdGUgLSBUaGUgcG90ZW50aWFsIHdpbmRvdyBuYW1lIGJlaW5nIHJlc29sdmVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFR5cGljYWxseSwgdGhlIG5hbWUgY2FuZGlkYXRlIHNob3VsZCBiZSBhIEp1cHl0ZXJMYWIgd29ya3NwYWNlIG5hbWUgb3JcbiAgICAgKiBhbiBlbXB0eSBzdHJpbmcgaWYgdGhlcmUgaXMgbm8gd29ya3NwYWNlLlxuICAgICAqXG4gICAgICogSWYgdGhlIHJldHVybmVkIHByb21pc2UgcmVqZWN0cywgYSB3aW5kb3cgbmFtZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aG91dFxuICAgICAqIHVzZXIgaW50ZXJ2ZW50aW9uLCB3aGljaCB0eXBpY2FsbHkgbWVhbnMgbmF2aWdhdGlvbiB0byBhIG5ldyBVUkwuXG4gICAgICovXG4gICAgcmVzb2x2ZShjYW5kaWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIFByaXZhdGUucmVzb2x2ZShjYW5kaWRhdGUpLnRoZW4obmFtZSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLypcbiAqIEEgbmFtZXNwYWNlIGZvciBwcml2YXRlIG1vZHVsZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIFRoZSBpbnRlcm5hbCBwcmVmaXggZm9yIHByaXZhdGUgbG9jYWwgc3RvcmFnZSBrZXlzLlxuICAgICAqL1xuICAgIGNvbnN0IFBSRUZJWCA9ICdAanVweXRlcmxhYi9zdGF0ZWRiOlN0YXRlREInO1xuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbCBzdG9yYWdlIGJlYWNvbiBrZXkuXG4gICAgICovXG4gICAgY29uc3QgQkVBQ09OID0gYCR7UFJFRklYfTpiZWFjb25gO1xuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lb3V0IChpbiBtcykgdG8gd2FpdCBmb3IgYmVhY29uIHJlc3BvbmRlcnMuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyB2YWx1ZSBpcyBhIHdob2xlIG51bWJlciBiZXR3ZWVuIDIwMCBhbmQgNTAwIGluIG9yZGVyIHRvIHByZXZlbnRcbiAgICAgKiBwZXJmZWN0IHRpbWVvdXQgY29sbGlzaW9ucyBiZXR3ZWVuIG11bHRpcGxlIHNpbXVsdGFuZW91c2x5IG9wZW5pbmcgd2luZG93c1xuICAgICAqIHRoYXQgaGF2ZSB0aGUgc2FtZSBVUkwuIFRoaXMgaXMgYW4gZWRnZSBjYXNlIGJlY2F1c2UgbXVsdGlwbGUgd2luZG93c1xuICAgICAqIHNob3VsZCBub3Qgb3JkaW5hcmlseSBzaGFyZSB0aGUgc2FtZSBVUkwsIGJ1dCBpdCBjYW4gYmUgY29udHJpdmVkLlxuICAgICAqL1xuICAgIGNvbnN0IFRJTUVPVVQgPSBNYXRoLmZsb29yKDIwMCArIE1hdGgucmFuZG9tKCkgKiAzMDApO1xuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbCBzdG9yYWdlIHdpbmRvdyBrZXkuXG4gICAgICovXG4gICAgY29uc3QgV0lORE9XID0gYCR7UFJFRklYfTp3aW5kb3dgO1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgYmVhY29uIHJlcXVlc3RcbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBXZSBrZWVwIHRyYWNrIG9mIHRoZSBjdXJyZW50IHJlcXVlc3Qgc28gdGhhdCB3ZSBjYW4gaWdub3JlIG91ciBvd24gYmVhY29uXG4gICAgICogcmVxdWVzdHMuIFRoaXMgaXMgdG8gd29yayBhcm91bmQgYSBidWcgaW4gU2FmYXJpLCB3aGVyZSBTYWZhcmkgc29tZXRpbWVzXG4gICAgICogdHJpZ2dlcnMgbG9jYWwgc3RvcmFnZSBldmVudHMgZm9yIGNoYW5nZXMgbWFkZSBieSB0aGUgY3VycmVudCB0YWIuIFNlZVxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qdXB5dGVybGFiL2p1cHl0ZXJsYWIvaXNzdWVzLzY5MjEjaXNzdWVjb21tZW50LTU0MDgxNzI4M1xuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICovXG4gICAgbGV0IGN1cnJlbnRCZWFjb25SZXF1ZXN0ID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBBIHBvdGVudGlhbCBwcmVmZXJyZWQgZGVmYXVsdCB3aW5kb3cgbmFtZS5cbiAgICAgKi9cbiAgICBsZXQgY2FuZGlkYXRlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgd2luZG93IG5hbWUgcHJvbWlzZS5cbiAgICAgKi9cbiAgICBsZXQgZGVsZWdhdGUgPSBuZXcgUHJvbWlzZURlbGVnYXRlKCk7XG4gICAgLyoqXG4gICAgICogVGhlIGtub3duIHdpbmRvdyBuYW1lcy5cbiAgICAgKi9cbiAgICBsZXQga25vd24gPSB7fTtcbiAgICAvKipcbiAgICAgKiBUaGUgd2luZG93IG5hbWUuXG4gICAgICovXG4gICAgbGV0IG5hbWUgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIG5hbWUgcmVzb2x1dGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGxldCByZXNvbHZlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBzdG9yYWdlIGV2ZW50IGhhbmRsZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgLy8gTGlzdGVuIHRvIGFsbCBzdG9yYWdlIGV2ZW50cyBmb3IgYmVhY29ucyBhbmQgd2luZG93IG5hbWVzLlxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIG5ld1ZhbHVlIH0gPSBldmVudDtcbiAgICAgICAgICAgIC8vIEFsbCB0aGUga2V5cyB3ZSBjYXJlIGFib3V0IGhhdmUgdmFsdWVzLlxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIGJlYWNvbiB3YXMgZmlyZWQsIHJlc3BvbmQgd2l0aCBhIHBpbmcuXG4gICAgICAgICAgICBpZiAoa2V5ID09PSBCRUFDT04gJiZcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSAhPT0gY3VycmVudEJlYWNvblJlcXVlc3QgJiZcbiAgICAgICAgICAgICAgICBjYW5kaWRhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwaW5nKHJlc29sdmVkID8gbmFtZSA6IGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIHdpbmRvdyBuYW1lIGlzIHJlc29sdmVkLCBiYWlsLlxuICAgICAgICAgICAgaWYgKHJlc29sdmVkIHx8IGtleSAhPT0gV0lORE9XKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVwb3J0ZWQgPSBuZXdWYWx1ZS5yZXBsYWNlKC9cXC1cXGQrJC8sICcnKTtcbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSByZXBvcnRlZCB3aW5kb3cgbmFtZS5cbiAgICAgICAgICAgIGtub3duW3JlcG9ydGVkXSA9IG51bGw7XG4gICAgICAgICAgICAvLyBJZiBhIHJlcG9ydGVkIHdpbmRvdyBuYW1lIGFuZCBjYW5kaWRhdGUgY29sbGlkZSwgcmVqZWN0IHRoZSBjYW5kaWRhdGUuXG4gICAgICAgICAgICBpZiAoIWNhbmRpZGF0ZSB8fCBjYW5kaWRhdGUgaW4ga25vd24pIHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBpbmcgcGVlcnMgd2l0aCBwYXlsb2FkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpbmcocGF5bG9hZCkge1xuICAgICAgICBpZiAocGF5bG9hZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbG9jYWxTdG9yYWdlIH0gPSB3aW5kb3c7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFdJTkRPVywgYCR7cGF5bG9hZH0tJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVqZWN0IHRoZSBjYW5kaWRhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgIGN1cnJlbnRCZWFjb25SZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgZGVsZWdhdGUucmVqZWN0KGBXaW5kb3cgbmFtZSBjYW5kaWRhdGUgXCIke2NhbmRpZGF0ZX1cIiBhbHJlYWR5IGV4aXN0c2ApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHdpbmRvdyBuYW1lIHVzZWQgZm9yIHJlc3RvcmF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmUocG90ZW50aWFsKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHRoZSBsb2NhbCBjYW5kaWRhdGUuXG4gICAgICAgIGNhbmRpZGF0ZSA9IHBvdGVudGlhbDtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZSBpbiBrbm93bikge1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUucHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGxvY2FsU3RvcmFnZSwgc2V0VGltZW91dCB9ID0gd2luZG93O1xuICAgICAgICAvLyBXYWl0IHVudGlsIG90aGVyIHdpbmRvd3MgaGF2ZSByZXBvcnRlZCBiZWZvcmUgY2xhaW1pbmcgdGhlIGNhbmRpZGF0ZS5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgd2luZG93IG5hbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVzb2x2ZWQsIGNoZWNrIG9uZSBsYXN0IHRpbWVcbiAgICAgICAgICAgIC8vIHRvIGNvbmZpcm0gaXQgaXMgbm90IGEgZHVwbGljYXRlIGJlZm9yZSByZXNvbHZpbmcuXG4gICAgICAgICAgICBpZiAoIWNhbmRpZGF0ZSB8fCBjYW5kaWRhdGUgaW4ga25vd24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICBjdXJyZW50QmVhY29uUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5yZXNvbHZlKChuYW1lID0gY2FuZGlkYXRlKSk7XG4gICAgICAgICAgICBwaW5nKG5hbWUpO1xuICAgICAgICB9LCBUSU1FT1VUKTtcbiAgICAgICAgLy8gRmlyZSB0aGUgYmVhY29uIHRvIGNvbGxlY3Qgb3RoZXIgd2luZG93cycgbmFtZXMuXG4gICAgICAgIGN1cnJlbnRCZWFjb25SZXF1ZXN0ID0gYCR7TWF0aC5yYW5kb20oKX0tJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX1gO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShCRUFDT04sIGN1cnJlbnRCZWFjb25SZXF1ZXN0KTtcbiAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnByb21pc2U7XG4gICAgfVxuICAgIFByaXZhdGUucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgc3RvcmFnZSBsaXN0ZW5lciBhdCBydW50aW1lLlxuICAgICgoKSA9PiB7XG4gICAgICAgIGluaXRpYWxpemUoKTtcbiAgICB9KSgpO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aW5kb3dyZXNvbHZlci5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBKdXB5dGVyTGFiTWVudSB9IGZyb20gJy4vbGFibWVudSc7XG4vKipcbiAqIEFuIGV4dGVuc2libGUgSGVscCBtZW51IGZvciB0aGUgYXBwbGljYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBIZWxwTWVudSBleHRlbmRzIEp1cHl0ZXJMYWJNZW51IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgdGhlIGhlbHAgbWVudS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm1lbnUudGl0bGUubGFiZWwgPSAnSGVscCc7XG4gICAgICAgIHRoaXMua2VybmVsVXNlcnMgPSBuZXcgU2V0KCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyBmaWxsPSclMjM2MTYxNjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZScgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J00xOS40MyAxMi45OGMuMDQtLjMyLjA3LS42NC4wNy0uOThzLS4wMy0uNjYtLjA3LS45OGwyLjExLTEuNjVjLjE5LS4xNS4yNC0uNDIuMTItLjY0bC0yLTMuNDZjLS4xMi0uMjItLjM5LS4zLS42MS0uMjJsLTIuNDkgMWMtLjUyLS40LTEuMDgtLjczLTEuNjktLjk4bC0uMzgtMi42NUMxNC40NiAyLjE4IDE0LjI1IDIgMTQgMmgtNGMtLjI1IDAtLjQ2LjE4LS40OS40MmwtLjM4IDIuNjVjLS42MS4yNS0xLjE3LjU5LTEuNjkuOThsLTIuNDktMWMtLjIzLS4wOS0uNDkgMC0uNjEuMjJsLTIgMy40NmMtLjEzLjIyLS4wNy40OS4xMi42NGwyLjExIDEuNjVjLS4wNC4zMi0uMDcuNjUtLjA3Ljk4cy4wMy42Ni4wNy45OGwtMi4xMSAxLjY1Yy0uMTkuMTUtLjI0LjQyLS4xMi42NGwyIDMuNDZjLjEyLjIyLjM5LjMuNjEuMjJsMi40OS0xYy41Mi40IDEuMDguNzMgMS42OS45OGwuMzggMi42NWMuMDMuMjQuMjQuNDIuNDkuNDJoNGMuMjUgMCAuNDYtLjE4LjQ5LS40MmwuMzgtMi42NWMuNjEtLjI1IDEuMTctLjU5IDEuNjktLjk4bDIuNDkgMWMuMjMuMDkuNDkgMCAuNjEtLjIybDItMy40NmMuMTItLjIyLjA3LS40OS0uMTItLjY0bC0yLjExLTEuNjV6TTEyIDE1LjVjLTEuOTMgMC0zLjUtMS41Ny0zLjUtMy41czEuNTctMy41IDMuNS0zLjUgMy41IDEuNTcgMy41IDMuNS0xLjU3IDMuNS0zLjUgMy41eicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyBmaWxsPVxcXCIjNjE2MTYxXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGVcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBEaWFsb2csIHNob3dEaWFsb2csIHNob3dFcnJvck1lc3NhZ2UgfSBmcm9tICdAanVweXRlcmxhYi9hcHB1dGlscyc7XG5pbXBvcnQgeyBQYXRoRXh0IH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IFdpZGdldCB9IGZyb20gJ0BsdW1pbm8vd2lkZ2V0cyc7XG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIHRvIGZpbGUgZGlhbG9ncy5cbiAqL1xuY29uc3QgRklMRV9ESUFMT0dfQ0xBU1MgPSAnanAtRmlsZURpYWxvZyc7XG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIGZvciB0aGUgbmV3IG5hbWUgbGFiZWwgaW4gdGhlIHJlbmFtZSBkaWFsb2dcbiAqL1xuY29uc3QgUkVOQU1FX05FV05BTUVfVElUTEVfQ0xBU1MgPSAnanAtbmV3LW5hbWUtdGl0bGUnO1xuLyoqXG4gKiBSZW5hbWUgYSBmaWxlIHdpdGggYSBkaWFsb2cuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5hbWVEaWFsb2cobWFuYWdlciwgb2xkUGF0aCkge1xuICAgIHJldHVybiBzaG93RGlhbG9nKHtcbiAgICAgICAgdGl0bGU6ICdSZW5hbWUgRmlsZScsXG4gICAgICAgIGJvZHk6IG5ldyBSZW5hbWVIYW5kbGVyKG9sZFBhdGgpLFxuICAgICAgICBmb2N1c05vZGVTZWxlY3RvcjogJ2lucHV0JyxcbiAgICAgICAgYnV0dG9uczogW0RpYWxvZy5jYW5jZWxCdXR0b24oKSwgRGlhbG9nLm9rQnV0dG9uKHsgbGFiZWw6ICdSZW5hbWUnIH0pXVxuICAgIH0pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgaWYgKCFyZXN1bHQudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNWYWxpZEZpbGVOYW1lKHJlc3VsdC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZvaWQgc2hvd0Vycm9yTWVzc2FnZSgnUmVuYW1lIEVycm9yJywgRXJyb3IoYFwiJHtyZXN1bHQudmFsdWV9XCIgaXMgbm90IGEgdmFsaWQgbmFtZSBmb3IgYSBmaWxlLiBgICtcbiAgICAgICAgICAgICAgICBgTmFtZXMgbXVzdCBoYXZlIG5vbnplcm8gbGVuZ3RoLCBgICtcbiAgICAgICAgICAgICAgICBgYW5kIGNhbm5vdCBpbmNsdWRlIFwiL1wiLCBcIlxcXFxcIiwgb3IgXCI6XCJgKSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYmFzZVBhdGggPSBQYXRoRXh0LmRpcm5hbWUob2xkUGF0aCk7XG4gICAgICAgIGxldCBuZXdQYXRoID0gUGF0aEV4dC5qb2luKGJhc2VQYXRoLCByZXN1bHQudmFsdWUpO1xuICAgICAgICByZXR1cm4gcmVuYW1lRmlsZShtYW5hZ2VyLCBvbGRQYXRoLCBuZXdQYXRoKTtcbiAgICB9KTtcbn1cbi8qKlxuICogUmVuYW1lIGEgZmlsZSwgYXNraW5nIGZvciBjb25maXJtYXRpb24gaWYgaXQgaXMgb3ZlcndyaXRpbmcgYW5vdGhlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmFtZUZpbGUobWFuYWdlciwgb2xkUGF0aCwgbmV3UGF0aCkge1xuICAgIHJldHVybiBtYW5hZ2VyLnJlbmFtZShvbGRQYXRoLCBuZXdQYXRoKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluZGV4T2YoJzQwOScpID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZE92ZXJ3cml0ZShuZXdQYXRoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYW5hZ2VyLm92ZXJ3cml0ZShvbGRQYXRoLCBuZXdQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnRmlsZSBub3QgcmVuYW1lZCcpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8qKlxuICogQXNrIHRoZSB1c2VyIHdoZXRoZXIgdG8gb3ZlcndyaXRlIGEgZmlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZE92ZXJ3cml0ZShwYXRoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgICAgIHRpdGxlOiAnT3ZlcndyaXRlIGZpbGU/JyxcbiAgICAgICAgYm9keTogYFwiJHtwYXRofVwiIGFscmVhZHkgZXhpc3RzLCBvdmVyd3JpdGU/YCxcbiAgICAgICAgYnV0dG9uczogW0RpYWxvZy5jYW5jZWxCdXR0b24oKSwgRGlhbG9nLndhcm5CdXR0b24oeyBsYWJlbDogJ092ZXJ3cml0ZScgfSldXG4gICAgfTtcbiAgICByZXR1cm4gc2hvd0RpYWxvZyhvcHRpb25zKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0LmJ1dHRvbi5hY2NlcHQpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBuYW1lIGlzIGEgdmFsaWQgZmlsZSBuYW1lXG4gKlxuICogRGlzYWxsb3dzIFwiL1wiLCBcIlxcXCIsIGFuZCBcIjpcIiBpbiBmaWxlIG5hbWVzLCBhcyB3ZWxsIGFzIG5hbWVzIHdpdGggemVybyBsZW5ndGguXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRmlsZU5hbWUobmFtZSkge1xuICAgIGNvbnN0IHZhbGlkTmFtZUV4cCA9IC9bXFwvXFxcXDpdLztcbiAgICByZXR1cm4gbmFtZS5sZW5ndGggPiAwICYmICF2YWxpZE5hbWVFeHAudGVzdChuYW1lKTtcbn1cbi8qKlxuICogQSB3aWRnZXQgdXNlZCB0byByZW5hbWUgYSBmaWxlLlxuICovXG5jbGFzcyBSZW5hbWVIYW5kbGVyIGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgXCJyZW5hbWVcIiBkaWFsb2cuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob2xkUGF0aCkge1xuICAgICAgICBzdXBlcih7IG5vZGU6IFByaXZhdGUuY3JlYXRlUmVuYW1lTm9kZShvbGRQYXRoKSB9KTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcyhGSUxFX0RJQUxPR19DTEFTUyk7XG4gICAgICAgIGxldCBleHQgPSBQYXRoRXh0LmV4dG5hbWUob2xkUGF0aCk7XG4gICAgICAgIGxldCB2YWx1ZSA9ICh0aGlzLmlucHV0Tm9kZS52YWx1ZSA9IFBhdGhFeHQuYmFzZW5hbWUob2xkUGF0aCkpO1xuICAgICAgICB0aGlzLmlucHV0Tm9kZS5zZXRTZWxlY3Rpb25SYW5nZSgwLCB2YWx1ZS5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnB1dCB0ZXh0IG5vZGUuXG4gICAgICovXG4gICAgZ2V0IGlucHV0Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dE5vZGUudmFsdWU7XG4gICAgfVxufVxuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgbm9kZSBmb3IgYSByZW5hbWUgaGFuZGxlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZW5hbWVOb2RlKG9sZFBhdGgpIHtcbiAgICAgICAgbGV0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbGV0IGV4aXN0aW5nTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBleGlzdGluZ0xhYmVsLnRleHRDb250ZW50ID0gJ0ZpbGUgUGF0aCc7XG4gICAgICAgIGxldCBleGlzdGluZ1BhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGV4aXN0aW5nUGF0aC50ZXh0Q29udGVudCA9IG9sZFBhdGg7XG4gICAgICAgIGxldCBuYW1lVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBuYW1lVGl0bGUudGV4dENvbnRlbnQgPSAnTmV3IE5hbWUnO1xuICAgICAgICBuYW1lVGl0bGUuY2xhc3NOYW1lID0gUkVOQU1FX05FV05BTUVfVElUTEVfQ0xBU1M7XG4gICAgICAgIGxldCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChleGlzdGluZ0xhYmVsKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChleGlzdGluZ1BhdGgpO1xuICAgICAgICBib2R5LmFwcGVuZENoaWxkKG5hbWVUaXRsZSk7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobmFtZSk7XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH1cbiAgICBQcml2YXRlLmNyZWF0ZVJlbmFtZU5vZGUgPSBjcmVhdGVSZW5hbWVOb2RlO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWFsb2dzLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IHNlc3Npb25Db250ZXh0RGlhbG9ncyB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbmltcG9ydCB7IFBhdGhFeHQgfSBmcm9tICdAanVweXRlcmxhYi9jb3JldXRpbHMnO1xuaW1wb3J0IHsgVVVJRCB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tICdAanVweXRlcmxhYi9kb2NyZWdpc3RyeSc7XG5pbXBvcnQgeyBBcnJheUV4dCwgZmluZCB9IGZyb20gJ0BsdW1pbm8vYWxnb3JpdGhtJztcbmltcG9ydCB7IEF0dGFjaGVkUHJvcGVydHkgfSBmcm9tICdAbHVtaW5vL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuaW1wb3J0IHsgU2F2ZUhhbmRsZXIgfSBmcm9tICcuL3NhdmVoYW5kbGVyJztcbmltcG9ydCB7IERvY3VtZW50V2lkZ2V0TWFuYWdlciB9IGZyb20gJy4vd2lkZ2V0bWFuYWdlcic7XG4vKipcbiAqIFRoZSBkb2N1bWVudCBtYW5hZ2VyLlxuICpcbiAqICMjIyMgTm90ZXNcbiAqIFRoZSBkb2N1bWVudCBtYW5hZ2VyIGlzIHVzZWQgdG8gcmVnaXN0ZXIgbW9kZWwgYW5kIHdpZGdldCBjcmVhdG9ycyxcbiAqIGFuZCB0aGUgZmlsZSBicm93c2VyIHVzZXMgdGhlIGRvY3VtZW50IG1hbmFnZXIgdG8gY3JlYXRlIHdpZGdldHMuIFRoZVxuICogZG9jdW1lbnQgbWFuYWdlciBtYWludGFpbnMgYSBjb250ZXh0IGZvciBlYWNoIHBhdGggYW5kIG1vZGVsIHR5cGUgdGhhdCBpc1xuICogb3BlbiwgYW5kIGEgbGlzdCBvZiB3aWRnZXRzIGZvciBlYWNoIGNvbnRleHQuIFRoZSBkb2N1bWVudCBtYW5hZ2VyIGlzIGluXG4gKiBjb250cm9sIG9mIHRoZSBwcm9wZXIgY2xvc2luZyBhbmQgZGlzcG9zYWwgb2YgdGhlIHdpZGdldHMgYW5kIGNvbnRleHRzLlxuICovXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRNYW5hZ2VyIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgZG9jdW1lbnQgbWFuYWdlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlUmVxdWVzdGVkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udGV4dHMgPSBbXTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdXRvc2F2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2F1dG9zYXZlSW50ZXJ2YWwgPSAxMjA7XG4gICAgICAgIHRoaXMucmVnaXN0cnkgPSBvcHRpb25zLnJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLnNlcnZpY2VzID0gb3B0aW9ucy5tYW5hZ2VyO1xuICAgICAgICB0aGlzLl9kaWFsb2dzID0gb3B0aW9ucy5zZXNzaW9uRGlhbG9ncyB8fCBzZXNzaW9uQ29udGV4dERpYWxvZ3M7XG4gICAgICAgIHRoaXMuX29wZW5lciA9IG9wdGlvbnMub3BlbmVyO1xuICAgICAgICB0aGlzLl93aGVuID0gb3B0aW9ucy53aGVuIHx8IG9wdGlvbnMubWFuYWdlci5yZWFkeTtcbiAgICAgICAgbGV0IHdpZGdldE1hbmFnZXIgPSBuZXcgRG9jdW1lbnRXaWRnZXRNYW5hZ2VyKHsgcmVnaXN0cnk6IHRoaXMucmVnaXN0cnkgfSk7XG4gICAgICAgIHdpZGdldE1hbmFnZXIuYWN0aXZhdGVSZXF1ZXN0ZWQuY29ubmVjdCh0aGlzLl9vbkFjdGl2YXRlUmVxdWVzdGVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fd2lkZ2V0TWFuYWdlciA9IHdpZGdldE1hbmFnZXI7XG4gICAgICAgIHRoaXMuX3NldEJ1c3kgPSBvcHRpb25zLnNldEJ1c3k7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiBvbmUgb2YgdGhlIGRvY3VtZW50cyBpcyBhY3RpdmF0ZWQuXG4gICAgICovXG4gICAgZ2V0IGFjdGl2YXRlUmVxdWVzdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZhdGVSZXF1ZXN0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gYXV0b3NhdmUgZG9jdW1lbnRzLlxuICAgICAqL1xuICAgIGdldCBhdXRvc2F2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9zYXZlO1xuICAgIH1cbiAgICBzZXQgYXV0b3NhdmUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXV0b3NhdmUgPSB2YWx1ZTtcbiAgICAgICAgLy8gRm9yIGVhY2ggZXhpc3RpbmcgY29udGV4dCwgc3RhcnQvc3RvcCB0aGUgYXV0b3NhdmUgaGFuZGxlciBhcyBuZWVkZWQuXG4gICAgICAgIHRoaXMuX2NvbnRleHRzLmZvckVhY2goY29udGV4dCA9PiB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gUHJpdmF0ZS5zYXZlSGFuZGxlclByb3BlcnR5LmdldChjb250ZXh0KTtcbiAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSAmJiAhaGFuZGxlci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSAmJiBoYW5kbGVyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSB0aW1lIGludGVydmFsIGZvciBhdXRvc2F2ZSBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIGdldCBhdXRvc2F2ZUludGVydmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXV0b3NhdmVJbnRlcnZhbDtcbiAgICB9XG4gICAgc2V0IGF1dG9zYXZlSW50ZXJ2YWwodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXV0b3NhdmVJbnRlcnZhbCA9IHZhbHVlO1xuICAgICAgICAvLyBGb3IgZWFjaCBleGlzdGluZyBjb250ZXh0LCBzZXQgdGhlIHNhdmUgaW50ZXJ2YWwgYXMgbmVlZGVkLlxuICAgICAgICB0aGlzLl9jb250ZXh0cy5mb3JFYWNoKGNvbnRleHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IFByaXZhdGUuc2F2ZUhhbmRsZXJQcm9wZXJ0eS5nZXQoY29udGV4dCk7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYW5kbGVyLnNhdmVJbnRlcnZhbCA9IHZhbHVlIHx8IDEyMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB3aGV0aGVyIHRoZSBkb2N1bWVudCBtYW5hZ2VyIGhhcyBiZWVuIGRpc3Bvc2VkLlxuICAgICAqL1xuICAgIGdldCBpc0Rpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIGRvY3VtZW50IG1hbmFnZXIuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICAvLyBDbGVhciBhbnkgbGlzdGVuZXJzIGZvciBvdXIgc2lnbmFscy5cbiAgICAgICAgU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICAgICAgLy8gQ2xvc2UgYWxsIHRoZSB3aWRnZXRzIGZvciBvdXIgY29udGV4dHMgYW5kIGRpc3Bvc2UgdGhlIHdpZGdldCBtYW5hZ2VyLlxuICAgICAgICB0aGlzLl9jb250ZXh0cy5mb3JFYWNoKGNvbnRleHQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZGdldE1hbmFnZXIuY2xvc2VXaWRnZXRzKGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fd2lkZ2V0TWFuYWdlci5kaXNwb3NlKCk7XG4gICAgICAgIC8vIENsZWFyIHRoZSBjb250ZXh0IGxpc3QuXG4gICAgICAgIHRoaXMuX2NvbnRleHRzLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lIGEgd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldCAtIFRoZSBzb3VyY2Ugd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBuZXcgd2lkZ2V0IG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqICBVc2VzIHRoZSBzYW1lIHdpZGdldCBmYWN0b3J5IGFuZCBjb250ZXh0IGFzIHRoZSBzb3VyY2UsIG9yIHJldHVybnNcbiAgICAgKiAgYHVuZGVmaW5lZGAgaWYgdGhlIHNvdXJjZSB3aWRnZXQgaXMgbm90IG1hbmFnZWQgYnkgdGhpcyBtYW5hZ2VyLlxuICAgICAqL1xuICAgIGNsb25lV2lkZ2V0KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkZ2V0TWFuYWdlci5jbG9uZVdpZGdldCh3aWRnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSBhbGwgb2YgdGhlIG9wZW4gZG9jdW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB3aGVuIHRoZSB3aWRnZXRzIGFyZSBjbG9zZWQuXG4gICAgICovXG4gICAgY2xvc2VBbGwoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLl9jb250ZXh0cy5tYXAoY29udGV4dCA9PiB0aGlzLl93aWRnZXRNYW5hZ2VyLmNsb3NlV2lkZ2V0cyhjb250ZXh0KSkpLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIHdpZGdldHMgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHRhcmdldCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlc29sdmluZyB3aGVuIHRoZSB3aWRnZXRzIGFyZSBjbG9zZWQuXG4gICAgICovXG4gICAgY2xvc2VGaWxlKHBhdGgpIHtcbiAgICAgICAgY29uc3QgY2xvc2UgPSB0aGlzLl9jb250ZXh0c0ZvclBhdGgocGF0aCkubWFwKGMgPT4gdGhpcy5fd2lkZ2V0TWFuYWdlci5jbG9zZVdpZGdldHMoYykpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoY2xvc2UpLnRoZW4oeCA9PiB1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRvY3VtZW50IGNvbnRleHQgZm9yIGEgd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldCAtIFRoZSB3aWRnZXQgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY29udGV4dCBhc3NvY2lhdGVkIHdpdGggdGhlIHdpZGdldCwgb3IgYHVuZGVmaW5lZGAgaWYgbm8gc3VjaFxuICAgICAqIGNvbnRleHQgZXhpc3RzLlxuICAgICAqL1xuICAgIGNvbnRleHRGb3JXaWRnZXQod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWRnZXRNYW5hZ2VyLmNvbnRleHRGb3JXaWRnZXQod2lkZ2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbUZpbGUgLSBUaGUgZnVsbCBwYXRoIG9mIHRoZSBvcmlnaW5hbCBmaWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRvRGlyIC0gVGhlIGZ1bGwgcGF0aCB0byB0aGUgdGFyZ2V0IGRpcmVjdG9yeS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byB0aGUgY29udGVudHMgb2YgdGhlIGZpbGUuXG4gICAgICovXG4gICAgY29weShmcm9tRmlsZSwgdG9EaXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZXMuY29udGVudHMuY29weShmcm9tRmlsZSwgdG9EaXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZmlsZSBhbmQgcmV0dXJuIHRoZSB3aWRnZXQgdXNlZCB0byB2aWV3IGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgZmlsZSBwYXRoIHRvIGNyZWF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHdpZGdldCBmYWN0b3J5IHRvIHVzZS4gJ2RlZmF1bHQnIHdpbGwgdXNlIHRoZSBkZWZhdWx0IHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXJuZWwgLSBBbiBvcHRpb25hbCBrZXJuZWwgbmFtZS9pZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHdpZGdldCwgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBgdW5kZWZpbmVkYCBpZiBhIHZhbGlkIHdpZGdldCBmYWN0b3J5XG4gICAgICogY2Fubm90IGJlIGZvdW5kLlxuICAgICAqL1xuICAgIGNyZWF0ZU5ldyhwYXRoLCB3aWRnZXROYW1lID0gJ2RlZmF1bHQnLCBrZXJuZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZU9yT3BlbkRvY3VtZW50KCdjcmVhdGUnLCBwYXRoLCB3aWRnZXROYW1lLCBrZXJuZWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBmaWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgZnVsbCBwYXRoIHRvIHRoZSBmaWxlIHRvIGJlIGRlbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiB0aGUgZmlsZSBpcyBkZWxldGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIElmIHRoZXJlIGlzIGEgcnVubmluZyBzZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgZmlsZSBhbmQgbm8gb3RoZXJcbiAgICAgKiBzZXNzaW9ucyBhcmUgdXNpbmcgdGhlIGtlcm5lbCwgdGhlIHNlc3Npb24gd2lsbCBiZSBzaHV0IGRvd24uXG4gICAgICovXG4gICAgZGVsZXRlRmlsZShwYXRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VzLnNlc3Npb25zXG4gICAgICAgICAgICAuc3RvcElmTmVlZGVkKHBhdGgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlcy5jb250ZW50cy5kZWxldGUocGF0aCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0c0ZvclBhdGgocGF0aCkuZm9yRWFjaChjb250ZXh0ID0+IHRoaXMuX3dpZGdldE1hbmFnZXIuZGVsZXRlV2lkZ2V0cyhjb250ZXh0KSk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWUgaWYgYSB3aWRnZXQgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBnaXZlbiBwYXRoIGFuZCB3aWRnZXQgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIGZpbGUgcGF0aCB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2lkZ2V0TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB3aWRnZXQgZmFjdG9yeSB0byB1c2UuICdkZWZhdWx0JyB3aWxsIHVzZSB0aGUgZGVmYXVsdCB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZm91bmQgd2lkZ2V0LCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGZpbmQgYW4gZXhpc3Rpbmcgd2lkZ2V0IGluc3RlYWQgb2Ygb3BlbmluZ1xuICAgICAqIGEgbmV3IHdpZGdldC5cbiAgICAgKi9cbiAgICBmaW5kV2lkZ2V0KHBhdGgsIHdpZGdldE5hbWUgPSAnZGVmYXVsdCcpIHtcbiAgICAgICAgbGV0IG5ld1BhdGggPSBQYXRoRXh0Lm5vcm1hbGl6ZShwYXRoKTtcbiAgICAgICAgbGV0IHdpZGdldE5hbWVzID0gW3dpZGdldE5hbWVdO1xuICAgICAgICBpZiAod2lkZ2V0TmFtZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICBsZXQgZmFjdG9yeSA9IHRoaXMucmVnaXN0cnkuZGVmYXVsdFdpZGdldEZhY3RvcnkobmV3UGF0aCk7XG4gICAgICAgICAgICBpZiAoIWZhY3RvcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2lkZ2V0TmFtZXMgPSBbZmFjdG9yeS5uYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aWRnZXROYW1lID09PSBudWxsKSB7XG4gICAgICAgICAgICB3aWRnZXROYW1lcyA9IHRoaXMucmVnaXN0cnlcbiAgICAgICAgICAgICAgICAucHJlZmVycmVkV2lkZ2V0RmFjdG9yaWVzKG5ld1BhdGgpXG4gICAgICAgICAgICAgICAgLm1hcChmID0+IGYubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY29udGV4dCBvZiB0aGlzLl9jb250ZXh0c0ZvclBhdGgobmV3UGF0aCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgd2lkZ2V0TmFtZSBvZiB3aWRnZXROYW1lcykge1xuICAgICAgICAgICAgICAgIGlmICh3aWRnZXROYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB3aWRnZXQgPSB0aGlzLl93aWRnZXRNYW5hZ2VyLmZpbmRXaWRnZXQoY29udGV4dCwgd2lkZ2V0TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWRnZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHVudGl0bGVkIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBmaWxlIGNvbnRlbnQgY3JlYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBuZXdVbnRpdGxlZChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICAgICAgb3B0aW9ucy5leHQgPSBvcHRpb25zLmV4dCB8fCAnLnR4dCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZXMuY29udGVudHMubmV3VW50aXRsZWQob3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW4gYSBmaWxlIGFuZCByZXR1cm4gdGhlIHdpZGdldCB1c2VkIHRvIHZpZXcgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBmaWxlIHBhdGggdG8gb3Blbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHdpZGdldCBmYWN0b3J5IHRvIHVzZS4gJ2RlZmF1bHQnIHdpbGwgdXNlIHRoZSBkZWZhdWx0IHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXJuZWwgLSBBbiBvcHRpb25hbCBrZXJuZWwgbmFtZS9pZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHdpZGdldCwgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBgdW5kZWZpbmVkYCBpZiBhIHZhbGlkIHdpZGdldCBmYWN0b3J5XG4gICAgICogY2Fubm90IGJlIGZvdW5kLlxuICAgICAqL1xuICAgIG9wZW4ocGF0aCwgd2lkZ2V0TmFtZSA9ICdkZWZhdWx0Jywga2VybmVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVPck9wZW5Eb2N1bWVudCgnb3BlbicsIHBhdGgsIHdpZGdldE5hbWUsIGtlcm5lbCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW4gYSBmaWxlIGFuZCByZXR1cm4gdGhlIHdpZGdldCB1c2VkIHRvIHZpZXcgaXQuXG4gICAgICogUmV2ZWFscyBhbiBhbHJlYWR5IGV4aXN0aW5nIGVkaXRvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIGZpbGUgcGF0aCB0byBvcGVuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgd2lkZ2V0IGZhY3RvcnkgdG8gdXNlLiAnZGVmYXVsdCcgd2lsbCB1c2UgdGhlIGRlZmF1bHQgd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGtlcm5lbCAtIEFuIG9wdGlvbmFsIGtlcm5lbCBuYW1lL2lkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgd2lkZ2V0LCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIGlmIGEgdmFsaWQgd2lkZ2V0IGZhY3RvcnlcbiAgICAgKiBjYW5ub3QgYmUgZm91bmQuXG4gICAgICovXG4gICAgb3Blbk9yUmV2ZWFsKHBhdGgsIHdpZGdldE5hbWUgPSAnZGVmYXVsdCcsIGtlcm5lbCwgb3B0aW9ucykge1xuICAgICAgICBsZXQgd2lkZ2V0ID0gdGhpcy5maW5kV2lkZ2V0KHBhdGgsIHdpZGdldE5hbWUpO1xuICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLl9vcGVuZXIub3Blbih3aWRnZXQsIG9wdGlvbnMgfHwge30pO1xuICAgICAgICAgICAgcmV0dXJuIHdpZGdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKHBhdGgsIHdpZGdldE5hbWUsIGtlcm5lbCwgb3B0aW9ucyB8fCB7fSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJ3cml0ZSBhIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2xkUGF0aCAtIFRoZSBmdWxsIHBhdGggdG8gdGhlIG9yaWdpbmFsIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmV3UGF0aCAtIFRoZSBmdWxsIHBhdGggdG8gdGhlIG5ldyBmaWxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIG5ldyBmaWxlIGNvbnRlbnRzIG1vZGVsLlxuICAgICAqL1xuICAgIG92ZXJ3cml0ZShvbGRQYXRoLCBuZXdQYXRoKSB7XG4gICAgICAgIC8vIENsZWFubHkgb3ZlcndyaXRlIHRoZSBmaWxlIGJ5IG1vdmluZyBpdCwgbWFraW5nIHN1cmUgdGhlIG9yaWdpbmFsIGRvZXNcbiAgICAgICAgLy8gbm90IGV4aXN0LCBhbmQgdGhlbiByZW5hbWluZyB0byB0aGUgbmV3IHBhdGguXG4gICAgICAgIGNvbnN0IHRlbXBQYXRoID0gYCR7bmV3UGF0aH0uJHtVVUlELnV1aWQ0KCl9YDtcbiAgICAgICAgY29uc3QgY2IgPSAoKSA9PiB0aGlzLnJlbmFtZSh0ZW1wUGF0aCwgbmV3UGF0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmFtZShvbGRQYXRoLCB0ZW1wUGF0aClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZUZpbGUobmV3UGF0aCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihjYiwgY2IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5hbWUgYSBmaWxlIG9yIGRpcmVjdG9yeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvbGRQYXRoIC0gVGhlIGZ1bGwgcGF0aCB0byB0aGUgb3JpZ2luYWwgZmlsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdQYXRoIC0gVGhlIGZ1bGwgcGF0aCB0byB0aGUgbmV3IGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgY29udGFpbmluZyB0aGUgbmV3IGZpbGUgY29udGVudHMgbW9kZWwuICBUaGUgcHJvbWlzZVxuICAgICAqIHdpbGwgcmVqZWN0IGlmIHRoZSBuZXdQYXRoIGFscmVhZHkgZXhpc3RzLiAgVXNlIFtbb3ZlcndyaXRlXV0gdG8gb3ZlcndyaXRlXG4gICAgICogYSBmaWxlLlxuICAgICAqL1xuICAgIHJlbmFtZShvbGRQYXRoLCBuZXdQYXRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VzLmNvbnRlbnRzLnJlbmFtZShvbGRQYXRoLCBuZXdQYXRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBhIGNvbnRleHQgZm9yIGEgZ2l2ZW4gcGF0aCBhbmQgZmFjdG9yeSBuYW1lLlxuICAgICAqL1xuICAgIF9maW5kQ29udGV4dChwYXRoLCBmYWN0b3J5TmFtZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkUGF0aCA9IHRoaXMuc2VydmljZXMuY29udGVudHMubm9ybWFsaXplKHBhdGgpO1xuICAgICAgICByZXR1cm4gZmluZCh0aGlzLl9jb250ZXh0cywgY29udGV4dCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGNvbnRleHQucGF0aCA9PT0gbm9ybWFsaXplZFBhdGggJiYgY29udGV4dC5mYWN0b3J5TmFtZSA9PT0gZmFjdG9yeU5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb250ZXh0cyBmb3IgYSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZXJlIG1heSBiZSBtb3JlIHRoYW4gb25lIGNvbnRleHQgZm9yIGEgZ2l2ZW4gcGF0aCBpZiB0aGUgcGF0aCBpcyBvcGVuXG4gICAgICogd2l0aCBtdWx0aXBsZSBtb2RlbCBmYWN0b3JpZXMgKGZvciBleGFtcGxlLCBhIG5vdGVib29rIGNhbiBiZSBvcGVuIHdpdGggYVxuICAgICAqIG5vdGVib29rIG1vZGVsIGZhY3RvcnkgYW5kIGEgdGV4dCBtb2RlbCBmYWN0b3J5KS5cbiAgICAgKi9cbiAgICBfY29udGV4dHNGb3JQYXRoKHBhdGgpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSB0aGlzLnNlcnZpY2VzLmNvbnRlbnRzLm5vcm1hbGl6ZShwYXRoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHRzLmZpbHRlcihjb250ZXh0ID0+IGNvbnRleHQucGF0aCA9PT0gbm9ybWFsaXplZFBhdGgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjb250ZXh0IGZyb20gYSBwYXRoIGFuZCBhIG1vZGVsIGZhY3RvcnkuXG4gICAgICovXG4gICAgX2NyZWF0ZUNvbnRleHQocGF0aCwgZmFjdG9yeSwga2VybmVsUHJlZmVyZW5jZSkge1xuICAgICAgICAvLyBUT0RPOiBNYWtlIGl0IGltcG9zc2libGUgdG8gb3BlbiB0d28gZGlmZmVyZW50IGNvbnRleHRzIGZvciB0aGUgc2FtZVxuICAgICAgICAvLyBwYXRoLiBPciBhdCBsZWFzdCBwcm9tcHQgdGhlIGNsb3Npbmcgb2YgYWxsIHdpZGdldHMgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgICAgICAvLyBvbGQgY29udGV4dCBiZWZvcmUgb3BlbmluZyB0aGUgbmV3IGNvbnRleHQuIFRoaXMgd2lsbCBtYWtlIHRoaW5ncyBtdWNoXG4gICAgICAgIC8vIG1vcmUgY29uc2lzdGVudCBmb3IgdGhlIHVzZXJzLCBhdCB0aGUgY29zdCBvZiBzb21lIGNvbmZ1c2lvbiBhYm91dCB3aGF0XG4gICAgICAgIC8vIG1vZGVscyBhcmUgYW5kIHdoeSBzb21ldGltZXMgdGhleSBjYW5ub3Qgb3BlbiB0aGUgc2FtZSBmaWxlIGluIGRpZmZlcmVudFxuICAgICAgICAvLyB3aWRnZXRzIHRoYXQgaGF2ZSBkaWZmZXJlbnQgbW9kZWxzLlxuICAgICAgICAvLyBBbGxvdyBvcHRpb25zIHRvIGJlIHBhc3NlZCB3aGVuIGFkZGluZyBhIHNpYmxpbmcuXG4gICAgICAgIGxldCBhZG9wdGVyID0gKHdpZGdldCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fd2lkZ2V0TWFuYWdlci5hZG9wdFdpZGdldChjb250ZXh0LCB3aWRnZXQpO1xuICAgICAgICAgICAgdGhpcy5fb3BlbmVyLm9wZW4od2lkZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG1vZGVsREJGYWN0b3J5ID0gdGhpcy5zZXJ2aWNlcy5jb250ZW50cy5nZXRNb2RlbERCRmFjdG9yeShwYXRoKSB8fCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBjb250ZXh0ID0gbmV3IENvbnRleHQoe1xuICAgICAgICAgICAgb3BlbmVyOiBhZG9wdGVyLFxuICAgICAgICAgICAgbWFuYWdlcjogdGhpcy5zZXJ2aWNlcyxcbiAgICAgICAgICAgIGZhY3RvcnksXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAga2VybmVsUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIG1vZGVsREJGYWN0b3J5LFxuICAgICAgICAgICAgc2V0QnVzeTogdGhpcy5fc2V0QnVzeSxcbiAgICAgICAgICAgIHNlc3Npb25EaWFsb2dzOiB0aGlzLl9kaWFsb2dzXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgaGFuZGxlciA9IG5ldyBTYXZlSGFuZGxlcih7XG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgc2F2ZUludGVydmFsOiB0aGlzLmF1dG9zYXZlSW50ZXJ2YWxcbiAgICAgICAgfSk7XG4gICAgICAgIFByaXZhdGUuc2F2ZUhhbmRsZXJQcm9wZXJ0eS5zZXQoY29udGV4dCwgaGFuZGxlcik7XG4gICAgICAgIHZvaWQgY29udGV4dC5yZWFkeS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9zYXZlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5kaXNwb3NlZC5jb25uZWN0KHRoaXMuX29uQ29udGV4dERpc3Bvc2VkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udGV4dHMucHVzaChjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGNvbnRleHQgZGlzcG9zYWwuXG4gICAgICovXG4gICAgX29uQ29udGV4dERpc3Bvc2VkKGNvbnRleHQpIHtcbiAgICAgICAgQXJyYXlFeHQucmVtb3ZlRmlyc3RPZih0aGlzLl9jb250ZXh0cywgY29udGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd2lkZ2V0IGZhY3RvcnkgZm9yIGEgZ2l2ZW4gd2lkZ2V0IG5hbWUuXG4gICAgICovXG4gICAgX3dpZGdldEZhY3RvcnlGb3IocGF0aCwgd2lkZ2V0TmFtZSkge1xuICAgICAgICBsZXQgeyByZWdpc3RyeSB9ID0gdGhpcztcbiAgICAgICAgaWYgKHdpZGdldE5hbWUgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgbGV0IGZhY3RvcnkgPSByZWdpc3RyeS5kZWZhdWx0V2lkZ2V0RmFjdG9yeShwYXRoKTtcbiAgICAgICAgICAgIGlmICghZmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aWRnZXROYW1lID0gZmFjdG9yeS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWdpc3RyeS5nZXRXaWRnZXRGYWN0b3J5KHdpZGdldE5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGRvY3VtZW50LCBvciBsb2FkcyBvbmUgZnJvbSBkaXNrLCBkZXBlbmRpbmcgb24gdGhlIGB3aGljaGAgYXJndW1lbnQuXG4gICAgICogSWYgYHdoaWNoPT09J2NyZWF0ZSdgLCB0aGVuIGl0IGNyZWF0ZXMgYSBuZXcgZG9jdW1lbnQuIElmIGB3aGljaD09PSdvcGVuJ2AsXG4gICAgICogdGhlbiBpdCBsb2FkcyB0aGUgZG9jdW1lbnQgZnJvbSBkaXNrLlxuICAgICAqXG4gICAgICogVGhlIHR3byBjYXNlcyBkaWZmZXIgaW4gaG93IHRoZSBkb2N1bWVudCBjb250ZXh0IGlzIGhhbmRsZWQsIGJ1dCB0aGUgY3JlYXRpb25cbiAgICAgKiBvZiB0aGUgd2lkZ2V0IGFuZCBsYXVuY2hpbmcgb2YgdGhlIGtlcm5lbCBhcmUgaWRlbnRpY2FsLlxuICAgICAqL1xuICAgIF9jcmVhdGVPck9wZW5Eb2N1bWVudCh3aGljaCwgcGF0aCwgd2lkZ2V0TmFtZSA9ICdkZWZhdWx0Jywga2VybmVsLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCB3aWRnZXRGYWN0b3J5ID0gdGhpcy5fd2lkZ2V0RmFjdG9yeUZvcihwYXRoLCB3aWRnZXROYW1lKTtcbiAgICAgICAgaWYgKCF3aWRnZXRGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtb2RlbE5hbWUgPSB3aWRnZXRGYWN0b3J5Lm1vZGVsTmFtZSB8fCAndGV4dCc7XG4gICAgICAgIGxldCBmYWN0b3J5ID0gdGhpcy5yZWdpc3RyeS5nZXRNb2RlbEZhY3RvcnkobW9kZWxOYW1lKTtcbiAgICAgICAgaWYgKCFmYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSB0aGUga2VybmVsIHBlcmVmZXJlbmNlLlxuICAgICAgICBsZXQgcHJlZmVyZW5jZSA9IHRoaXMucmVnaXN0cnkuZ2V0S2VybmVsUHJlZmVyZW5jZShwYXRoLCB3aWRnZXRGYWN0b3J5Lm5hbWUsIGtlcm5lbCk7XG4gICAgICAgIGxldCBjb250ZXh0O1xuICAgICAgICBsZXQgcmVhZHkgPSBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgLy8gSGFuZGxlIHRoZSBsb2FkLWZyb20tZGlzayBjYXNlXG4gICAgICAgIGlmICh3aGljaCA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAvLyBVc2UgYW4gZXhpc3RpbmcgY29udGV4dCBpZiBhdmFpbGFibGUuXG4gICAgICAgICAgICBjb250ZXh0ID0gdGhpcy5fZmluZENvbnRleHQocGF0aCwgZmFjdG9yeS5uYW1lKSB8fCBudWxsO1xuICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IHRoaXMuX2NyZWF0ZUNvbnRleHQocGF0aCwgZmFjdG9yeSwgcHJlZmVyZW5jZSk7XG4gICAgICAgICAgICAgICAgLy8gUG9wdWxhdGUgdGhlIG1vZGVsLCBlaXRoZXIgZnJvbSBkaXNrIG9yIGFcbiAgICAgICAgICAgICAgICAvLyBtb2RlbCBiYWNrZW5kLlxuICAgICAgICAgICAgICAgIHJlYWR5ID0gdGhpcy5fd2hlbi50aGVuKCgpID0+IGNvbnRleHQuaW5pdGlhbGl6ZShmYWxzZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdoaWNoID09PSAnY3JlYXRlJykge1xuICAgICAgICAgICAgY29udGV4dCA9IHRoaXMuX2NyZWF0ZUNvbnRleHQocGF0aCwgZmFjdG9yeSwgcHJlZmVyZW5jZSk7XG4gICAgICAgICAgICAvLyBJbW1lZGlhdGVseSBzYXZlIHRoZSBjb250ZW50cyB0byBkaXNrLlxuICAgICAgICAgICAgcmVhZHkgPSB0aGlzLl93aGVuLnRoZW4oKCkgPT4gY29udGV4dC5pbml0aWFsaXplKHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhcmd1bWVudCAnd2hpY2gnOiAke3doaWNofWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3aWRnZXQgPSB0aGlzLl93aWRnZXRNYW5hZ2VyLmNyZWF0ZVdpZGdldCh3aWRnZXRGYWN0b3J5LCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy5fb3BlbmVyLm9wZW4od2lkZ2V0LCBvcHRpb25zIHx8IHt9KTtcbiAgICAgICAgLy8gSWYgdGhlIGluaXRpYWwgb3BlbmluZyBvZiB0aGUgY29udGV4dCBmYWlscywgZGlzcG9zZSBvZiB0aGUgd2lkZ2V0LlxuICAgICAgICByZWFkeS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgd2lkZ2V0LmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd2lkZ2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYW4gYWN0aXZhdGVSZXF1ZXN0ZWQgc2lnbmFsIGZyb20gdGhlIHdpZGdldCBtYW5hZ2VyLlxuICAgICAqL1xuICAgIF9vbkFjdGl2YXRlUmVxdWVzdGVkKHNlbmRlciwgYXJncykge1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZVJlcXVlc3RlZC5lbWl0KGFyZ3MpO1xuICAgIH1cbn1cbi8qKlxuICogQSBuYW1lc3BhY2UgZm9yIHByaXZhdGUgZGF0YS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBBbiBhdHRhY2hlZCBwcm9wZXJ0eSBmb3IgYSBjb250ZXh0IHNhdmUgaGFuZGxlci5cbiAgICAgKi9cbiAgICBQcml2YXRlLnNhdmVIYW5kbGVyUHJvcGVydHkgPSBuZXcgQXR0YWNoZWRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICdzYXZlSGFuZGxlcicsXG4gICAgICAgIGNyZWF0ZTogKCkgPT4gdW5kZWZpbmVkXG4gICAgfSk7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbmFnZXIuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZEb21Nb2RlbCwgVkRvbVJlbmRlcmVyIH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwdXRpbHMnO1xuaW1wb3J0IHsgVGV4dEl0ZW0gfSBmcm9tICdAanVweXRlcmxhYi9zdGF0dXNiYXInO1xuLyoqXG4gKiBBIHB1cmUgZnVuY3Rpb25hbCBjb21wb25lbnQgZm9yIGEgU2F2aW5nIHN0YXR1cyBpdGVtLlxuICpcbiAqIEBwYXJhbSBwcm9wcyAtIHRoZSBwcm9wcyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBAcmV0dXJucyBhIHRzeCBjb21wb25lbnQgZm9yIHJlbmRlcmluZyB0aGUgc2F2aW5nIHN0YXRlLlxuICovXG5mdW5jdGlvbiBTYXZpbmdTdGF0dXNDb21wb25lbnQocHJvcHMpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SXRlbSwgeyBzb3VyY2U6IGBTYXZpbmcgJHtwcm9wcy5maWxlU3RhdHVzfWAgfSk7XG59XG4vKipcbiAqIFRoZSBhbW91bnQgb2YgdGltZSAoaW4gbXMpIHRvIHJldGFpbiB0aGUgc2F2aW5nIGNvbXBsZXRlZCBtZXNzYWdlXG4gKiBiZWZvcmUgaGlkaW5nIHRoZSBzdGF0dXMgaXRlbS5cbiAqL1xuY29uc3QgU0FWSU5HX0NPTVBMRVRFX01FU1NBR0VfTUlMTElTID0gMjAwMDtcbi8qKlxuICogQSBWRG9tUmVuZGVyZXIgZm9yIGEgc2F2aW5nIHN0YXR1cyBpdGVtLlxuICovXG5leHBvcnQgY2xhc3MgU2F2aW5nU3RhdHVzIGV4dGVuZHMgVkRvbVJlbmRlcmVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgU2F2aW5nU3RhdHVzIGl0ZW0uXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcihuZXcgU2F2aW5nU3RhdHVzLk1vZGVsKG9wdHMuZG9jTWFuYWdlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIFNhdmluZ1N0YXR1cyBpdGVtLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwgPT09IG51bGwgfHwgdGhpcy5tb2RlbC5zdGF0dXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2F2aW5nU3RhdHVzQ29tcG9uZW50LCB7IGZpbGVTdGF0dXM6IHRoaXMubW9kZWwuc3RhdHVzIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgU2F2aW5nU3RhdHVzIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoU2F2aW5nU3RhdHVzKSB7XG4gICAgLyoqXG4gICAgICogQSBWRG9tTW9kZWwgZm9yIHRoZSBTYXZpbmdTdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICBjbGFzcyBNb2RlbCBleHRlbmRzIFZEb21Nb2RlbCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgU2F2aW5nU3RhdHVzIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoZG9jTWFuYWdlcikge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVhY3QgdG8gYSBzYXZpbmcgc3RhdHVzIGNoYW5nZSBmcm9tIHRoZSBjdXJyZW50IGRvY3VtZW50IHdpZGdldC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fb25TdGF0dXNDaGFuZ2UgPSAoX2RvY3VtZW50TW9kZWwsIG5ld1N0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IG5ld1N0YXR1cztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhdHVzID09PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5lbWl0KHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIFNBVklOR19DT01QTEVURV9NRVNTQUdFX01JTExJUyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkLmVtaXQodm9pZCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkLmVtaXQodm9pZCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3dpZGdldCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy53aWRnZXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fZG9jTWFuYWdlciA9IGRvY01hbmFnZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgd2lkZ2V0IGZvciB0aGUgbW9kZWwuIEFueSB3aWRnZXQgY2FuIGJlIGFzc2lnbmVkLFxuICAgICAgICAgKiBidXQgaXQgb25seSBoYXMgYW55IGVmZmVjdCBpZiB0aGUgd2lkZ2V0IGlzIGFuIElEb2N1bWVudCB3aWRnZXRcbiAgICAgICAgICoga25vd24gdG8gdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50IG1hbmFnZXIuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgd2lkZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZGdldDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgd2lkZ2V0KHdpZGdldCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkV2lkZ2V0ID0gdGhpcy5fd2lkZ2V0O1xuICAgICAgICAgICAgaWYgKG9sZFdpZGdldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZENvbnRleHQgPSB0aGlzLl9kb2NNYW5hZ2VyLmNvbnRleHRGb3JXaWRnZXQob2xkV2lkZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAob2xkQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBvbGRDb250ZXh0LnNhdmVTdGF0ZS5kaXNjb25uZWN0KHRoaXMuX29uU3RhdHVzQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl93aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2lkZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpZGdldENvbnRleHQgPSB0aGlzLl9kb2NNYW5hZ2VyLmNvbnRleHRGb3JXaWRnZXQodGhpcy5fd2lkZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAod2lkZ2V0Q29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXRDb250ZXh0LnNhdmVTdGF0ZS5jb25uZWN0KHRoaXMuX29uU3RhdHVzQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgU2F2aW5nU3RhdHVzLk1vZGVsID0gTW9kZWw7XG59KShTYXZpbmdTdGF0dXMgfHwgKFNhdmluZ1N0YXR1cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYXZpbmdzdGF0dXMuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MSclM0UgJTNDcGF0aCBkPSdNMTQuOSAxNy40NUMxNi4yNSAxNy40NSAxNy4zNSAxNi4zNSAxNy4zNSAxNUMxNy4zNSAxMy42NSAxNi4yNSAxMi41NSAxNC45IDEyLjU1QzEzLjU0IDEyLjU1IDEyLjQ1IDEzLjY1IDEyLjQ1IDE1QzEyLjQ1IDE2LjM1IDEzLjU0IDE3LjQ1IDE0LjkgMTcuNDVaTTIwLjEgMTUuNjhMMjEuNTggMTYuODRDMjEuNzEgMTYuOTUgMjEuNzUgMTcuMTMgMjEuNjYgMTcuMjlMMjAuMjYgMTkuNzFDMjAuMTcgMTkuODYgMjAgMTkuOTIgMTkuODMgMTkuODZMMTguMDkgMTkuMTZDMTcuNzMgMTkuNDQgMTcuMzMgMTkuNjcgMTYuOTEgMTkuODVMMTYuNjQgMjEuN0MxNi42MiAyMS44NyAxNi40NyAyMiAxNi4zIDIySDEzLjVDMTMuMzIgMjIgMTMuMTggMjEuODcgMTMuMTUgMjEuN0wxMi44OSAxOS44NUMxMi40NiAxOS42NyAxMi4wNyAxOS40NCAxMS43MSAxOS4xNkw5Ljk2MDAyIDE5Ljg2QzkuODEwMDIgMTkuOTIgOS42MjAwMiAxOS44NiA5LjU0MDAyIDE5LjcxTDguMTQwMDIgMTcuMjlDOC4wNTAwMiAxNy4xMyA4LjA5MDAyIDE2Ljk1IDguMjIwMDIgMTYuODRMOS43MDAwMiAxNS42OEw5LjY1MDAxIDE1TDkuNzAwMDIgMTQuMzFMOC4yMjAwMiAxMy4xNkM4LjA5MDAyIDEzLjA1IDguMDUwMDIgMTIuODYgOC4xNDAwMiAxMi43MUw5LjU0MDAyIDEwLjI5QzkuNjIwMDIgMTAuMTMgOS44MTAwMiAxMC4wNyA5Ljk2MDAyIDEwLjEzTDExLjcxIDEwLjg0QzEyLjA3IDEwLjU2IDEyLjQ2IDEwLjMyIDEyLjg5IDEwLjE1TDEzLjE1IDguMjg5OThDMTMuMTggOC4xMjk5OCAxMy4zMiA3Ljk5OTk4IDEzLjUgNy45OTk5OEgxNi4zQzE2LjQ3IDcuOTk5OTggMTYuNjIgOC4xMjk5OCAxNi42NCA4LjI4OTk4TDE2LjkxIDEwLjE1QzE3LjMzIDEwLjMyIDE3LjczIDEwLjU2IDE4LjA5IDEwLjg0TDE5LjgzIDEwLjEzQzIwIDEwLjA3IDIwLjE3IDEwLjEzIDIwLjI2IDEwLjI5TDIxLjY2IDEyLjcxQzIxLjc1IDEyLjg2IDIxLjcxIDEzLjA1IDIxLjU4IDEzLjE2TDIwLjEgMTQuMzFMMjAuMTUgMTVMMjAuMSAxNS42OFonLyUzRSAlM0NwYXRoIGQ9J003LjMyOTY2IDcuNDQ0NTRDOC4wODMxIDcuMDA5NTQgOC4zMzkzMiA2LjA1MzMyIDcuOTA0MzIgNS4yOTk4OEM3LjQ2OTMyIDQuNTQ2NDMgNi41MDgxIDQuMjgxNTYgNS43NTQ2NiA0LjcxNjU2QzUuMzkxNzYgNC45MjYwOCA1LjEyNjk1IDUuMjcxMTggNS4wMTg0OSA1LjY3NTk0QzQuOTEwMDQgNi4wODA3MSA0Ljk2NjgyIDYuNTExOTggNS4xNzYzNCA2Ljg3NDg4QzUuNjExMzQgNy42MjgzMiA2LjU3NjIyIDcuODc5NTQgNy4zMjk2NiA3LjQ0NDU0Wk05LjY1NzE4IDQuNzk1OTNMMTAuODY3MiA0Ljk1MTc5QzEwLjk2MjggNC45Nzc0MSAxMS4wNDAyIDUuMDcxMzMgMTEuMDM4MiA1LjE4NzkzTDExLjAzODggNi45ODg5M0MxMS4wNDU1IDcuMTAwNTQgMTAuOTYxNiA3LjE5NTE4IDEwLjg1NSA3LjIxMDU0TDkuNjYwMDEgNy4zODA4M0w5LjIzOTE1IDguMTMxODhMOS42Njk2MSA5LjI1NzQ1QzkuNzA3MjkgOS4zNjI3MSA5LjY2OTM0IDkuNDc2OTkgOS41NzQwOCA5LjUzMTk5TDguMDE1MjMgMTAuNDMyQzcuOTExMzEgMTAuNDkyIDcuNzkzMzcgMTAuNDY3NyA3LjcyMTA1IDEwLjM4MjRMNi45ODc0OCA5LjQzMTg4TDYuMTA5MzEgOS40MzA4M0w1LjM0NzA0IDEwLjM5MDVDNS4yODkwOSAxMC40NzAyIDUuMTczODMgMTAuNDkwNSA1LjA3MTg3IDEwLjQzMzlMMy41MTI0NSA5LjUzMjkzQzMuNDEwNDkgOS40NzYzMyAzLjM3NjQ3IDkuMzU3NDEgMy40MTA3NSA5LjI1Njc5TDMuODYzNDcgOC4xNDA5M0wzLjYxNzQ5IDcuNzc0ODhMMy40MjM0NyA3LjM3ODgzTDIuMjMwNzUgNy4yMTI5N0MyLjEyNjQ3IDcuMTkyMzUgMi4wNDA0OSA3LjEwMzQyIDIuMDQyNDUgNi45ODY4MkwyLjA0MTg3IDUuMTg1ODJDMi4wNDM4MyA1LjA2OTIyIDIuMTE5MDkgNC45Nzk1OCAyLjIxNzA0IDQuOTY5MjJMMy40MjA2NSA0Ljc5MzkzTDMuODY3NDkgNC4wMjc4OEwzLjQxMTA1IDIuOTE3MzFDMy4zNzMzNyAyLjgxMjA0IDMuNDExMzEgMi42OTc3NiAzLjUxNTIzIDIuNjM3NzZMNS4wNzQwOCAxLjczNzc2QzUuMTY5MzQgMS42ODI3NiA1LjI4NzI5IDEuNzA3MDQgNS4zNTk2MSAxLjc5MjMxTDYuMTE5MTUgMi43Mjc4OEw2Ljk4MDAxIDIuNzM4OTNMNy43MjQ5NiAxLjc4OTIyQzcuNzkxNTYgMS43MDQ1OCA3LjkxNTQ4IDEuNjc5MjIgOC4wMDg3OSAxLjc0MDgyTDkuNTY4MjEgMi42NDE4MkM5LjY3MDE3IDIuNjk4NDIgOS43MTI4NSAyLjgxMjM0IDkuNjg3MjMgMi45MDc5N0w5LjIxNzE4IDQuMDMzODNMOS40NjMxNiA0LjM5OTg4TDkuNjU3MTggNC43OTU5M1onLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMTQuOSAxNy40NUMxNi4yNSAxNy40NSAxNy4zNSAxNi4zNSAxNy4zNSAxNUMxNy4zNSAxMy42NSAxNi4yNSAxMi41NSAxNC45IDEyLjU1QzEzLjU0IDEyLjU1IDEyLjQ1IDEzLjY1IDEyLjQ1IDE1QzEyLjQ1IDE2LjM1IDEzLjU0IDE3LjQ1IDE0LjkgMTcuNDVaTTIwLjEgMTUuNjhMMjEuNTggMTYuODRDMjEuNzEgMTYuOTUgMjEuNzUgMTcuMTMgMjEuNjYgMTcuMjlMMjAuMjYgMTkuNzFDMjAuMTcgMTkuODYgMjAgMTkuOTIgMTkuODMgMTkuODZMMTguMDkgMTkuMTZDMTcuNzMgMTkuNDQgMTcuMzMgMTkuNjcgMTYuOTEgMTkuODVMMTYuNjQgMjEuN0MxNi42MiAyMS44NyAxNi40NyAyMiAxNi4zIDIySDEzLjVDMTMuMzIgMjIgMTMuMTggMjEuODcgMTMuMTUgMjEuN0wxMi44OSAxOS44NUMxMi40NiAxOS42NyAxMi4wNyAxOS40NCAxMS43MSAxOS4xNkw5Ljk2MDAyIDE5Ljg2QzkuODEwMDIgMTkuOTIgOS42MjAwMiAxOS44NiA5LjU0MDAyIDE5LjcxTDguMTQwMDIgMTcuMjlDOC4wNTAwMiAxNy4xMyA4LjA5MDAyIDE2Ljk1IDguMjIwMDIgMTYuODRMOS43MDAwMiAxNS42OEw5LjY1MDAxIDE1TDkuNzAwMDIgMTQuMzFMOC4yMjAwMiAxMy4xNkM4LjA5MDAyIDEzLjA1IDguMDUwMDIgMTIuODYgOC4xNDAwMiAxMi43MUw5LjU0MDAyIDEwLjI5QzkuNjIwMDIgMTAuMTMgOS44MTAwMiAxMC4wNyA5Ljk2MDAyIDEwLjEzTDExLjcxIDEwLjg0QzEyLjA3IDEwLjU2IDEyLjQ2IDEwLjMyIDEyLjg5IDEwLjE1TDEzLjE1IDguMjg5OThDMTMuMTggOC4xMjk5OCAxMy4zMiA3Ljk5OTk4IDEzLjUgNy45OTk5OEgxNi4zQzE2LjQ3IDcuOTk5OTggMTYuNjIgOC4xMjk5OCAxNi42NCA4LjI4OTk4TDE2LjkxIDEwLjE1QzE3LjMzIDEwLjMyIDE3LjczIDEwLjU2IDE4LjA5IDEwLjg0TDE5LjgzIDEwLjEzQzIwIDEwLjA3IDIwLjE3IDEwLjEzIDIwLjI2IDEwLjI5TDIxLjY2IDEyLjcxQzIxLjc1IDEyLjg2IDIxLjcxIDEzLjA1IDIxLjU4IDEzLjE2TDIwLjEgMTQuMzFMMjAuMTUgMTVMMjAuMSAxNS42OFpcXFwiLz5cXG4gICAgPHBhdGggZD1cXFwiTTcuMzI5NjYgNy40NDQ1NEM4LjA4MzEgNy4wMDk1NCA4LjMzOTMyIDYuMDUzMzIgNy45MDQzMiA1LjI5OTg4QzcuNDY5MzIgNC41NDY0MyA2LjUwODEgNC4yODE1NiA1Ljc1NDY2IDQuNzE2NTZDNS4zOTE3NiA0LjkyNjA4IDUuMTI2OTUgNS4yNzExOCA1LjAxODQ5IDUuNjc1OTRDNC45MTAwNCA2LjA4MDcxIDQuOTY2ODIgNi41MTE5OCA1LjE3NjM0IDYuODc0ODhDNS42MTEzNCA3LjYyODMyIDYuNTc2MjIgNy44Nzk1NCA3LjMyOTY2IDcuNDQ0NTRaTTkuNjU3MTggNC43OTU5M0wxMC44NjcyIDQuOTUxNzlDMTAuOTYyOCA0Ljk3NzQxIDExLjA0MDIgNS4wNzEzMyAxMS4wMzgyIDUuMTg3OTNMMTEuMDM4OCA2Ljk4ODkzQzExLjA0NTUgNy4xMDA1NCAxMC45NjE2IDcuMTk1MTggMTAuODU1IDcuMjEwNTRMOS42NjAwMSA3LjM4MDgzTDkuMjM5MTUgOC4xMzE4OEw5LjY2OTYxIDkuMjU3NDVDOS43MDcyOSA5LjM2MjcxIDkuNjY5MzQgOS40NzY5OSA5LjU3NDA4IDkuNTMxOTlMOC4wMTUyMyAxMC40MzJDNy45MTEzMSAxMC40OTIgNy43OTMzNyAxMC40Njc3IDcuNzIxMDUgMTAuMzgyNEw2Ljk4NzQ4IDkuNDMxODhMNi4xMDkzMSA5LjQzMDgzTDUuMzQ3MDQgMTAuMzkwNUM1LjI4OTA5IDEwLjQ3MDIgNS4xNzM4MyAxMC40OTA1IDUuMDcxODcgMTAuNDMzOUwzLjUxMjQ1IDkuNTMyOTNDMy40MTA0OSA5LjQ3NjMzIDMuMzc2NDcgOS4zNTc0MSAzLjQxMDc1IDkuMjU2NzlMMy44NjM0NyA4LjE0MDkzTDMuNjE3NDkgNy43NzQ4OEwzLjQyMzQ3IDcuMzc4ODNMMi4yMzA3NSA3LjIxMjk3QzIuMTI2NDcgNy4xOTIzNSAyLjA0MDQ5IDcuMTAzNDIgMi4wNDI0NSA2Ljk4NjgyTDIuMDQxODcgNS4xODU4MkMyLjA0MzgzIDUuMDY5MjIgMi4xMTkwOSA0Ljk3OTU4IDIuMjE3MDQgNC45NjkyMkwzLjQyMDY1IDQuNzkzOTNMMy44Njc0OSA0LjAyNzg4TDMuNDExMDUgMi45MTczMUMzLjM3MzM3IDIuODEyMDQgMy40MTEzMSAyLjY5Nzc2IDMuNTE1MjMgMi42Mzc3Nkw1LjA3NDA4IDEuNzM3NzZDNS4xNjkzNCAxLjY4Mjc2IDUuMjg3MjkgMS43MDcwNCA1LjM1OTYxIDEuNzkyMzFMNi4xMTkxNSAyLjcyNzg4TDYuOTgwMDEgMi43Mzg5M0w3LjcyNDk2IDEuNzg5MjJDNy43OTE1NiAxLjcwNDU4IDcuOTE1NDggMS42NzkyMiA4LjAwODc5IDEuNzQwODJMOS41NjgyMSAyLjY0MTgyQzkuNjcwMTcgMi42OTg0MiA5LjcxMjg1IDIuODEyMzQgOS42ODcyMyAyLjkwNzk3TDkuMjE3MTggNC4wMzM4M0w5LjQ2MzE2IDQuMzk5ODhMOS42NTcxOCA0Ljc5NTkzWlxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHdpZHRoPSczOScgaGVpZ2h0PSc1MScgdmlld0JveD0nMCAwIDM5IDUxJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgdHJhbnNmb3JtPSd0cmFuc2xhdGUoLTE2MzggLTIyODEpJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uLXdhcm4wJyBmaWxsPSclMjNGMzc3MjYnJTNFICUzQ3BhdGggdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTYzOS43NCAyMzExLjk4KScgZD0nTSAxOC4yNjQ2IDcuMTM0MTFDIDEwLjQxNDUgNy4xMzQxMSAzLjU1ODcyIDQuMjU3NiAwIDBDIDEuMzI1MzkgMy44MjA0IDMuNzk1NTYgNy4xMzA4MSA3LjA2ODYgOS40NzMwM0MgMTAuMzQxNyAxMS44MTUyIDE0LjI1NTcgMTMuMDczNCAxOC4yNjkgMTMuMDczNEMgMjIuMjgyMyAxMy4wNzM0IDI2LjE5NjMgMTEuODE1MiAyOS40Njk0IDkuNDczMDNDIDMyLjc0MjQgNy4xMzA4MSAzNS4yMTI2IDMuODIwNCAzNi41MzggMEMgMzIuOTcwNSA0LjI1NzYgMjYuMTE0OCA3LjEzNDExIDE4LjI2NDYgNy4xMzQxMVonLyUzRSAlM0NwYXRoIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDE2MzkuNzMgMjI4NS40OCknIGQ9J00gMTguMjczMyA1LjkzOTMxQyAyNi4xMjM1IDUuOTM5MzEgMzIuOTc5MyA4LjgxNTgzIDM2LjUzOCAxMy4wNzM0QyAzNS4yMTI2IDkuMjUzMDMgMzIuNzQyNCA1Ljk0MjYyIDI5LjQ2OTQgMy42MDA0QyAyNi4xOTYzIDEuMjU4MTggMjIuMjgyMyAwIDE4LjI2OSAwQyAxNC4yNTU3IDAgMTAuMzQxNyAxLjI1ODE4IDcuMDY4NiAzLjYwMDRDIDMuNzk1NTYgNS45NDI2MiAxLjMyNTM5IDkuMjUzMDMgMCAxMy4wNzM0QyAzLjU2NzQ1IDguODI0NjMgMTAuNDIzMiA1LjkzOTMxIDE4LjI3MzMgNS45MzkzMVonLyUzRSAlM0MvZyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDE2NjkuMyAyMjgxLjMxKScgZD0nTSA1Ljg5MzUzIDIuODQ0QyA1LjkxODg5IDMuNDMxNjUgNS43NzA4NSA0LjAxMzY3IDUuNDY4MTUgNC41MTY0NUMgNS4xNjU0NSA1LjAxOTIyIDQuNzIxNjggNS40MjAxNSA0LjE5Mjk5IDUuNjY4NTFDIDMuNjY0MyA1LjkxNjg4IDMuMDc0NDQgNi4wMDE1MSAyLjQ5ODA1IDUuOTExNzFDIDEuOTIxNjYgNS44MjE5IDEuMzg0NjMgNS41NjE3IDAuOTU0ODk4IDUuMTY0MDFDIDAuNTI1MTcgNC43NjYzMyAwLjIyMjA1NiA0LjI0OTAzIDAuMDgzOTAzNyAzLjY3NzU3QyAtMC4wNTQyNDgzIDMuMTA2MTEgLTAuMDIxMjMgMi41MDYxNyAwLjE3ODc4MSAxLjk1MzY0QyAwLjM3ODc5MyAxLjQwMTEgMC43MzY4MDkgMC45MjA4MTcgMS4yMDc1NCAwLjU3MzUzOEMgMS42NzgyNiAwLjIyNjI1OSAyLjI0MDU1IDAuMDI3NTkxOSAyLjgyMzI2IDAuMDAyNjcyMjlDIDMuNjAzODkgLTAuMDMwNzExNSA0LjM2NTczIDAuMjQ5Nzg5IDQuOTQxNDIgMC43ODI1NTFDIDUuNTE3MTEgMS4zMTUzMSA1Ljg1OTU2IDIuMDU2NzYgNS44OTM1MyAyLjg0NFonLyUzRSAlM0NwYXRoIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDE2MzkuOCAyMzIzLjgxKScgZD0nTSA3LjQyNzg5IDMuNTgzMzhDIDcuNDYwMDggNC4zMjQzIDcuMjczNTUgNS4wNTgxOSA2Ljg5MTkzIDUuNjkyMTNDIDYuNTEwMzEgNi4zMjYwNyA1Ljk1MDc1IDYuODMxNTYgNS4yODQxMSA3LjE0NDZDIDQuNjE3NDcgNy40NTc2MyAzLjg3MzcxIDcuNTY0MTQgMy4xNDcwMiA3LjQ1MDYzQyAyLjQyMDMyIDcuMzM3MTIgMS43NDMzNiA3LjAwODcgMS4yMDE4NCA2LjUwNjk1QyAwLjY2MDMyOCA2LjAwNTIgMC4yNzg2MSA1LjM1MjY4IDAuMTA1MDE3IDQuNjMyMDJDIC0wLjA2ODU3NTcgMy45MTEzNSAtMC4wMjYyMzYxIDMuMTU0OTQgMC4yMjY2NzUgMi40NTg1NkMgMC40Nzk1ODcgMS43NjIxNyAwLjkzMTY5NyAxLjE1NzEzIDEuNTI1NzYgMC43MjAwMzNDIDIuMTE5ODMgMC4yODI5MzUgMi44MjkxNCAwLjAzMzQzOTUgMy41NjM4OSAwLjAwMzEzMzQ0QyA0LjU0NjY3IC0wLjAzNzQwMzMgNS41MDUyOSAwLjMxNjcwNiA2LjIyOTYxIDAuOTg3ODM1QyA2Ljk1MzkzIDEuNjU4OTYgNy4zODQ4NCAyLjU5MjM1IDcuNDI3ODkgMy41ODMzOEwgNy40Mjc4OSAzLjU4MzM4WicvJTNFICUzQ3BhdGggdHJhbnNmb3JtPSd0cmFuc2xhdGUoMTYzOC4zNiAyMjg2LjA2KScgZD0nTSAyLjI3NDcxIDQuMzk2MjlDIDEuODQzNjMgNC40MTUwOCAxLjQxNjcxIDQuMzA0NDUgMS4wNDc5OSA0LjA3ODQzQyAwLjY3OTI2OCAzLjg1MjQgMC4zODUzMjggMy41MjExNCAwLjIwMzM3MSAzLjEyNjU2QyAwLjAyMTQxMzYgMi43MzE5OCAtMC4wNDAzNzk4IDIuMjkxODMgMC4wMjU4MTE2IDEuODYxODFDIDAuMDkyMDAzMSAxLjQzMTggMC4yODMyMDQgMS4wMzEyNiAwLjU3NTIxMyAwLjcxMDg4M0MgMC44NjcyMjIgMC4zOTA1MSAxLjI0NjkxIDAuMTY0NzA4IDEuNjY2MjIgMC4wNjIwNTkyQyAyLjA4NTUzIC0wLjA0MDU4OTcgMi41MjU2MSAtMC4wMTU0NzE0IDIuOTMwNzYgMC4xMzQyMzVDIDMuMzM1OTEgMC4yODM5NDEgMy42ODc5MiAwLjU1MTUwNSAzLjk0MjIyIDAuOTAzMDZDIDQuMTk2NTIgMS4yNTQ2MiA0LjM0MTY5IDEuNjc0MzYgNC4zNTkzNSAyLjEwOTE2QyA0LjM4Mjk5IDIuNjkxMDcgNC4xNzY3OCAzLjI1ODY5IDMuNzg1OTcgMy42ODc0NkMgMy4zOTUxNiA0LjExNjI0IDIuODUxNjYgNC4zNzExNiAyLjI3NDcxIDQuMzk2MjlMIDIuMjc0NzEgNC4zOTYyOVonLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgd2lkdGg9XFxcIjM5XFxcIiBoZWlnaHQ9XFxcIjUxXFxcIiB2aWV3Qm94PVxcXCIwIDAgMzkgNTFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICA8ZyB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSgtMTYzOCAtMjI4MSlcXFwiPlxcbiAgICA8ZyBjbGFzcz1cXFwianAtaWNvbi13YXJuMFxcXCIgZmlsbD1cXFwiI0YzNzcyNlxcXCI+XFxuICAgICAgPHBhdGggdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMTYzOS43NCAyMzExLjk4KVxcXCIgZD1cXFwiTSAxOC4yNjQ2IDcuMTM0MTFDIDEwLjQxNDUgNy4xMzQxMSAzLjU1ODcyIDQuMjU3NiAwIDBDIDEuMzI1MzkgMy44MjA0IDMuNzk1NTYgNy4xMzA4MSA3LjA2ODYgOS40NzMwM0MgMTAuMzQxNyAxMS44MTUyIDE0LjI1NTcgMTMuMDczNCAxOC4yNjkgMTMuMDczNEMgMjIuMjgyMyAxMy4wNzM0IDI2LjE5NjMgMTEuODE1MiAyOS40Njk0IDkuNDczMDNDIDMyLjc0MjQgNy4xMzA4MSAzNS4yMTI2IDMuODIwNCAzNi41MzggMEMgMzIuOTcwNSA0LjI1NzYgMjYuMTE0OCA3LjEzNDExIDE4LjI2NDYgNy4xMzQxMVpcXFwiLz5cXG4gICAgICA8cGF0aCB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSgxNjM5LjczIDIyODUuNDgpXFxcIiBkPVxcXCJNIDE4LjI3MzMgNS45MzkzMUMgMjYuMTIzNSA1LjkzOTMxIDMyLjk3OTMgOC44MTU4MyAzNi41MzggMTMuMDczNEMgMzUuMjEyNiA5LjI1MzAzIDMyLjc0MjQgNS45NDI2MiAyOS40Njk0IDMuNjAwNEMgMjYuMTk2MyAxLjI1ODE4IDIyLjI4MjMgMCAxOC4yNjkgMEMgMTQuMjU1NyAwIDEwLjM0MTcgMS4yNTgxOCA3LjA2ODYgMy42MDA0QyAzLjc5NTU2IDUuOTQyNjIgMS4zMjUzOSA5LjI1MzAzIDAgMTMuMDczNEMgMy41Njc0NSA4LjgyNDYzIDEwLjQyMzIgNS45MzkzMSAxOC4yNzMzIDUuOTM5MzFaXFxcIi8+XFxuICAgIDwvZz5cXG4gICAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgICA8cGF0aCB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSgxNjY5LjMgMjI4MS4zMSlcXFwiIGQ9XFxcIk0gNS44OTM1MyAyLjg0NEMgNS45MTg4OSAzLjQzMTY1IDUuNzcwODUgNC4wMTM2NyA1LjQ2ODE1IDQuNTE2NDVDIDUuMTY1NDUgNS4wMTkyMiA0LjcyMTY4IDUuNDIwMTUgNC4xOTI5OSA1LjY2ODUxQyAzLjY2NDMgNS45MTY4OCAzLjA3NDQ0IDYuMDAxNTEgMi40OTgwNSA1LjkxMTcxQyAxLjkyMTY2IDUuODIxOSAxLjM4NDYzIDUuNTYxNyAwLjk1NDg5OCA1LjE2NDAxQyAwLjUyNTE3IDQuNzY2MzMgMC4yMjIwNTYgNC4yNDkwMyAwLjA4MzkwMzcgMy42Nzc1N0MgLTAuMDU0MjQ4MyAzLjEwNjExIC0wLjAyMTIzIDIuNTA2MTcgMC4xNzg3ODEgMS45NTM2NEMgMC4zNzg3OTMgMS40MDExIDAuNzM2ODA5IDAuOTIwODE3IDEuMjA3NTQgMC41NzM1MzhDIDEuNjc4MjYgMC4yMjYyNTkgMi4yNDA1NSAwLjAyNzU5MTkgMi44MjMyNiAwLjAwMjY3MjI5QyAzLjYwMzg5IC0wLjAzMDcxMTUgNC4zNjU3MyAwLjI0OTc4OSA0Ljk0MTQyIDAuNzgyNTUxQyA1LjUxNzExIDEuMzE1MzEgNS44NTk1NiAyLjA1Njc2IDUuODkzNTMgMi44NDRaXFxcIi8+XFxuICAgICAgPHBhdGggdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMTYzOS44IDIzMjMuODEpXFxcIiBkPVxcXCJNIDcuNDI3ODkgMy41ODMzOEMgNy40NjAwOCA0LjMyNDMgNy4yNzM1NSA1LjA1ODE5IDYuODkxOTMgNS42OTIxM0MgNi41MTAzMSA2LjMyNjA3IDUuOTUwNzUgNi44MzE1NiA1LjI4NDExIDcuMTQ0NkMgNC42MTc0NyA3LjQ1NzYzIDMuODczNzEgNy41NjQxNCAzLjE0NzAyIDcuNDUwNjNDIDIuNDIwMzIgNy4zMzcxMiAxLjc0MzM2IDcuMDA4NyAxLjIwMTg0IDYuNTA2OTVDIDAuNjYwMzI4IDYuMDA1MiAwLjI3ODYxIDUuMzUyNjggMC4xMDUwMTcgNC42MzIwMkMgLTAuMDY4NTc1NyAzLjkxMTM1IC0wLjAyNjIzNjEgMy4xNTQ5NCAwLjIyNjY3NSAyLjQ1ODU2QyAwLjQ3OTU4NyAxLjc2MjE3IDAuOTMxNjk3IDEuMTU3MTMgMS41MjU3NiAwLjcyMDAzM0MgMi4xMTk4MyAwLjI4MjkzNSAyLjgyOTE0IDAuMDMzNDM5NSAzLjU2Mzg5IDAuMDAzMTMzNDRDIDQuNTQ2NjcgLTAuMDM3NDAzMyA1LjUwNTI5IDAuMzE2NzA2IDYuMjI5NjEgMC45ODc4MzVDIDYuOTUzOTMgMS42NTg5NiA3LjM4NDg0IDIuNTkyMzUgNy40Mjc4OSAzLjU4MzM4TCA3LjQyNzg5IDMuNTgzMzhaXFxcIi8+XFxuICAgICAgPHBhdGggdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMTYzOC4zNiAyMjg2LjA2KVxcXCIgZD1cXFwiTSAyLjI3NDcxIDQuMzk2MjlDIDEuODQzNjMgNC40MTUwOCAxLjQxNjcxIDQuMzA0NDUgMS4wNDc5OSA0LjA3ODQzQyAwLjY3OTI2OCAzLjg1MjQgMC4zODUzMjggMy41MjExNCAwLjIwMzM3MSAzLjEyNjU2QyAwLjAyMTQxMzYgMi43MzE5OCAtMC4wNDAzNzk4IDIuMjkxODMgMC4wMjU4MTE2IDEuODYxODFDIDAuMDkyMDAzMSAxLjQzMTggMC4yODMyMDQgMS4wMzEyNiAwLjU3NTIxMyAwLjcxMDg4M0MgMC44NjcyMjIgMC4zOTA1MSAxLjI0NjkxIDAuMTY0NzA4IDEuNjY2MjIgMC4wNjIwNTkyQyAyLjA4NTUzIC0wLjA0MDU4OTcgMi41MjU2MSAtMC4wMTU0NzE0IDIuOTMwNzYgMC4xMzQyMzVDIDMuMzM1OTEgMC4yODM5NDEgMy42ODc5MiAwLjU1MTUwNSAzLjk0MjIyIDAuOTAzMDZDIDQuMTk2NTIgMS4yNTQ2MiA0LjM0MTY5IDEuNjc0MzYgNC4zNTkzNSAyLjEwOTE2QyA0LjM4Mjk5IDIuNjkxMDcgNC4xNzY3OCAzLjI1ODY5IDMuNzg1OTcgMy42ODc0NkMgMy4zOTUxNiA0LjExNjI0IDIuODUxNjYgNC4zNzExNiAyLjI3NDcxIDQuMzk2MjlMIDIuMjc0NzEgNC4zOTYyOVpcXFwiLz5cXG4gICAgPC9nPlxcbiAgPC9nPj5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBBcnJheUV4dCwgZWFjaCwgbWFwLCBmaW5kLCBmaWx0ZXIsIHRvQXJyYXkgfSBmcm9tICdAbHVtaW5vL2FsZ29yaXRobSc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlU2V0IH0gZnJvbSAnQGx1bWluby9kaXNwb3NhYmxlJztcbmltcG9ydCB7IE1lc3NhZ2VMb29wIH0gZnJvbSAnQGx1bWluby9tZXNzYWdpbmcnO1xuaW1wb3J0IHsgQXR0YWNoZWRQcm9wZXJ0eSB9IGZyb20gJ0BsdW1pbm8vcHJvcGVydGllcyc7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tICdAbHVtaW5vL3NpZ25hbGluZyc7XG5pbXBvcnQgeyBUaW1lIH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IHNob3dEaWFsb2csIERpYWxvZyB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbi8qKlxuICogVGhlIGNsYXNzIG5hbWUgYWRkZWQgdG8gZG9jdW1lbnQgd2lkZ2V0cy5cbiAqL1xuY29uc3QgRE9DVU1FTlRfQ0xBU1MgPSAnanAtRG9jdW1lbnQnO1xuLyoqXG4gKiBBIGNsYXNzIHRoYXQgbWFpbnRhaW5zIHRoZSBsaWZlY3ljbGUgb2YgZmlsZS1iYWNrZWQgd2lkZ2V0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIERvY3VtZW50V2lkZ2V0TWFuYWdlciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IGRvY3VtZW50IHdpZGdldCBtYW5hZ2VyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVSZXF1ZXN0ZWQgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJ5ID0gb3B0aW9ucy5yZWdpc3RyeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIG9uZSBvZiB0aGUgZG9jdW1lbnRzIGlzIGFjdGl2YXRlZC5cbiAgICAgKi9cbiAgICBnZXQgYWN0aXZhdGVSZXF1ZXN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmF0ZVJlcXVlc3RlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBkb2N1bWVudCB3aWRnZXQgbWFuYWdlciBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyB1c2VkIGJ5IHRoZSB3aWRnZXQgbWFuYWdlci5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIFNpZ25hbC5kaXNjb25uZWN0UmVjZWl2ZXIodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHdpZGdldCBmb3IgYSBkb2N1bWVudCBhbmQgaGFuZGxlIGl0cyBsaWZlY3ljbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmFjdG9yeSAtIFRoZSB3aWRnZXQgZmFjdG9yeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGRvY3VtZW50IGNvbnRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSB3aWRnZXQgY3JlYXRlZCBieSB0aGUgZmFjdG9yeS5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgSWYgdGhlIGZhY3RvcnkgaXMgbm90IHJlZ2lzdGVyZWQuXG4gICAgICovXG4gICAgY3JlYXRlV2lkZ2V0KGZhY3RvcnksIGNvbnRleHQpIHtcbiAgICAgICAgbGV0IHdpZGdldCA9IGZhY3RvcnkuY3JlYXRlTmV3KGNvbnRleHQpO1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplV2lkZ2V0KHdpZGdldCwgZmFjdG9yeSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB3aWRnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gYSBuZXcgd2lkZ2V0IGlzIGNyZWF0ZWQsIHdlIG5lZWQgdG8gaG9vayBpdCB1cFxuICAgICAqIHdpdGggc29tZSBzaWduYWxzLCB1cGRhdGUgdGhlIHdpZGdldCBleHRlbnNpb25zIChmb3JcbiAgICAgKiB0aGlzIGtpbmQgb2Ygd2lkZ2V0KSBpbiB0aGUgZG9jcmVnaXN0cnksIGFtb25nXG4gICAgICogb3RoZXIgdGhpbmdzLlxuICAgICAqL1xuICAgIF9pbml0aWFsaXplV2lkZ2V0KHdpZGdldCwgZmFjdG9yeSwgY29udGV4dCkge1xuICAgICAgICBQcml2YXRlLmZhY3RvcnlQcm9wZXJ0eS5zZXQod2lkZ2V0LCBmYWN0b3J5KTtcbiAgICAgICAgLy8gSGFuZGxlIHdpZGdldCBleHRlbnNpb25zLlxuICAgICAgICBsZXQgZGlzcG9zYWJsZXMgPSBuZXcgRGlzcG9zYWJsZVNldCgpO1xuICAgICAgICBlYWNoKHRoaXMuX3JlZ2lzdHJ5LndpZGdldEV4dGVuc2lvbnMoZmFjdG9yeS5uYW1lKSwgZXh0ZW5kZXIgPT4ge1xuICAgICAgICAgICAgZGlzcG9zYWJsZXMuYWRkKGV4dGVuZGVyLmNyZWF0ZU5ldyh3aWRnZXQsIGNvbnRleHQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFByaXZhdGUuZGlzcG9zYWJsZXNQcm9wZXJ0eS5zZXQod2lkZ2V0LCBkaXNwb3NhYmxlcyk7XG4gICAgICAgIHdpZGdldC5kaXNwb3NlZC5jb25uZWN0KHRoaXMuX29uV2lkZ2V0RGlzcG9zZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLmFkb3B0V2lkZ2V0KGNvbnRleHQsIHdpZGdldCk7XG4gICAgICAgIGNvbnRleHQuZmlsZUNoYW5nZWQuY29ubmVjdCh0aGlzLl9vbkZpbGVDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgY29udGV4dC5wYXRoQ2hhbmdlZC5jb25uZWN0KHRoaXMuX29uUGF0aENoYW5nZWQsIHRoaXMpO1xuICAgICAgICB2b2lkIGNvbnRleHQucmVhZHkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB2b2lkIHRoaXMuc2V0Q2FwdGlvbih3aWRnZXQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zdGFsbCB0aGUgbWVzc2FnZSBob29rIGZvciB0aGUgd2lkZ2V0IGFuZCBhZGQgdG8gbGlzdFxuICAgICAqIG9mIGtub3duIHdpZGdldHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBkb2N1bWVudCBjb250ZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgd2lkZ2V0IHRvIGFkb3B0LlxuICAgICAqL1xuICAgIGFkb3B0V2lkZ2V0KGNvbnRleHQsIHdpZGdldCkge1xuICAgICAgICBsZXQgd2lkZ2V0cyA9IFByaXZhdGUud2lkZ2V0c1Byb3BlcnR5LmdldChjb250ZXh0KTtcbiAgICAgICAgd2lkZ2V0cy5wdXNoKHdpZGdldCk7XG4gICAgICAgIE1lc3NhZ2VMb29wLmluc3RhbGxNZXNzYWdlSG9vayh3aWRnZXQsIHRoaXMpO1xuICAgICAgICB3aWRnZXQuYWRkQ2xhc3MoRE9DVU1FTlRfQ0xBU1MpO1xuICAgICAgICB3aWRnZXQudGl0bGUuY2xvc2FibGUgPSB0cnVlO1xuICAgICAgICB3aWRnZXQuZGlzcG9zZWQuY29ubmVjdCh0aGlzLl93aWRnZXREaXNwb3NlZCwgdGhpcyk7XG4gICAgICAgIFByaXZhdGUuY29udGV4dFByb3BlcnR5LnNldCh3aWRnZXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWUgaWYgYSB3aWRnZXQgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBnaXZlbiBjb250ZXh0IGFuZCB3aWRnZXQgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGRvY3VtZW50IGNvbnRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGZvdW5kIHdpZGdldCwgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byB1c2UgYW4gZXhpc3Rpbmcgd2lkZ2V0IGluc3RlYWQgb2Ygb3BlbmluZ1xuICAgICAqIGEgbmV3IHdpZGdldC5cbiAgICAgKi9cbiAgICBmaW5kV2lkZ2V0KGNvbnRleHQsIHdpZGdldE5hbWUpIHtcbiAgICAgICAgbGV0IHdpZGdldHMgPSBQcml2YXRlLndpZGdldHNQcm9wZXJ0eS5nZXQoY29udGV4dCk7XG4gICAgICAgIGlmICghd2lkZ2V0cykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluZCh3aWRnZXRzLCB3aWRnZXQgPT4ge1xuICAgICAgICAgICAgbGV0IGZhY3RvcnkgPSBQcml2YXRlLmZhY3RvcnlQcm9wZXJ0eS5nZXQod2lkZ2V0KTtcbiAgICAgICAgICAgIGlmICghZmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5Lm5hbWUgPT09IHdpZGdldE5hbWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRvY3VtZW50IGNvbnRleHQgZm9yIGEgd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldCAtIFRoZSB3aWRnZXQgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY29udGV4dCBhc3NvY2lhdGVkIHdpdGggdGhlIHdpZGdldCwgb3IgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgY29udGV4dEZvcldpZGdldCh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIFByaXZhdGUuY29udGV4dFByb3BlcnR5LmdldCh3aWRnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZSBhIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgc291cmNlIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IHdpZGdldCBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiAgVXNlcyB0aGUgc2FtZSB3aWRnZXQgZmFjdG9yeSBhbmQgY29udGV4dCBhcyB0aGUgc291cmNlLCBvciB0aHJvd3NcbiAgICAgKiAgaWYgdGhlIHNvdXJjZSB3aWRnZXQgaXMgbm90IG1hbmFnZWQgYnkgdGhpcyBtYW5hZ2VyLlxuICAgICAqL1xuICAgIGNsb25lV2lkZ2V0KHdpZGdldCkge1xuICAgICAgICBsZXQgY29udGV4dCA9IFByaXZhdGUuY29udGV4dFByb3BlcnR5LmdldCh3aWRnZXQpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZhY3RvcnkgPSBQcml2YXRlLmZhY3RvcnlQcm9wZXJ0eS5nZXQod2lkZ2V0KTtcbiAgICAgICAgaWYgKCFmYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdXaWRnZXQgPSBmYWN0b3J5LmNyZWF0ZU5ldyhjb250ZXh0LCB3aWRnZXQpO1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplV2lkZ2V0KG5ld1dpZGdldCwgZmFjdG9yeSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBuZXdXaWRnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSB3aWRnZXRzIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBkb2N1bWVudCBjb250ZXh0IG9iamVjdC5cbiAgICAgKi9cbiAgICBjbG9zZVdpZGdldHMoY29udGV4dCkge1xuICAgICAgICBsZXQgd2lkZ2V0cyA9IFByaXZhdGUud2lkZ2V0c1Byb3BlcnR5LmdldChjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRvQXJyYXkobWFwKHdpZGdldHMsIHdpZGdldCA9PiB0aGlzLm9uQ2xvc2Uod2lkZ2V0KSkpKS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHdpZGdldHMgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gY29udGV4dFxuICAgICAqIHJlZ2FyZGxlc3Mgb2YgdGhlIHdpZGdldCdzIGRpcnR5IHN0YXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSBUaGUgZG9jdW1lbnQgY29udGV4dCBvYmplY3QuXG4gICAgICovXG4gICAgZGVsZXRlV2lkZ2V0cyhjb250ZXh0KSB7XG4gICAgICAgIGxldCB3aWRnZXRzID0gUHJpdmF0ZS53aWRnZXRzUHJvcGVydHkuZ2V0KGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodG9BcnJheShtYXAod2lkZ2V0cywgd2lkZ2V0ID0+IHRoaXMub25EZWxldGUod2lkZ2V0KSkpKS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbHRlciBhIG1lc3NhZ2Ugc2VudCB0byBhIG1lc3NhZ2UgaGFuZGxlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYW5kbGVyIC0gVGhlIHRhcmdldCBoYW5kbGVyIG9mIHRoZSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1zZyAtIFRoZSBtZXNzYWdlIGRpc3BhdGNoZWQgdG8gdGhlIGhhbmRsZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBgZmFsc2VgIGlmIHRoZSBtZXNzYWdlIHNob3VsZCBiZSBmaWx0ZXJlZCwgb2YgYHRydWVgXG4gICAgICogICBpZiB0aGUgbWVzc2FnZSBzaG91bGQgYmUgZGlzcGF0Y2hlZCB0byB0aGUgaGFuZGxlciBhcyBub3JtYWwuXG4gICAgICovXG4gICAgbWVzc2FnZUhvb2soaGFuZGxlciwgbXNnKSB7XG4gICAgICAgIHN3aXRjaCAobXNnLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlLXJlcXVlc3QnOlxuICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5vbkNsb3NlKGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgJ2FjdGl2YXRlLXJlcXVlc3QnOlxuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5jb250ZXh0Rm9yV2lkZ2V0KGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlUmVxdWVzdGVkLmVtaXQoY29udGV4dC5wYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNhcHRpb24gZm9yIHdpZGdldCB0aXRsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgdGFyZ2V0IHdpZGdldC5cbiAgICAgKi9cbiAgICBhc3luYyBzZXRDYXB0aW9uKHdpZGdldCkge1xuICAgICAgICBsZXQgY29udGV4dCA9IFByaXZhdGUuY29udGV4dFByb3BlcnR5LmdldCh3aWRnZXQpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9kZWwgPSBjb250ZXh0LmNvbnRlbnRzTW9kZWw7XG4gICAgICAgIGlmICghbW9kZWwpIHtcbiAgICAgICAgICAgIHdpZGdldC50aXRsZS5jYXB0aW9uID0gJyc7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHRcbiAgICAgICAgICAgIC5saXN0Q2hlY2twb2ludHMoKVxuICAgICAgICAgICAgLnRoZW4oKGNoZWNrcG9pbnRzKSA9PiB7XG4gICAgICAgICAgICBpZiAod2lkZ2V0LmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbGFzdCA9IGNoZWNrcG9pbnRzW2NoZWNrcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IGNoZWNrcG9pbnQgPSBsYXN0ID8gVGltZS5mb3JtYXQobGFzdC5sYXN0X21vZGlmaWVkKSA6ICdOb25lJztcbiAgICAgICAgICAgIGxldCBjYXB0aW9uID0gYE5hbWU6ICR7bW9kZWwubmFtZX1cXG5QYXRoOiAke21vZGVsLnBhdGh9XFxuYDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0Lm1vZGVsLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgY2FwdGlvbiArPSAnUmVhZC1vbmx5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhcHRpb24gKz1cbiAgICAgICAgICAgICAgICAgICAgYExhc3QgU2F2ZWQ6ICR7VGltZS5mb3JtYXQobW9kZWwubGFzdF9tb2RpZmllZCl9XFxuYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgTGFzdCBDaGVja3BvaW50OiAke2NoZWNrcG9pbnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpZGdldC50aXRsZS5jYXB0aW9uID0gY2FwdGlvbjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBgJ2Nsb3NlLXJlcXVlc3QnYCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgdGFyZ2V0IHdpZGdldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggd2hldGhlciB0aGUgd2lkZ2V0IHdhcyBjbG9zZWQuXG4gICAgICovXG4gICAgb25DbG9zZSh3aWRnZXQpIHtcbiAgICAgICAgLy8gSGFuZGxlIGRpcnR5IHN0YXRlLlxuICAgICAgICByZXR1cm4gdGhpcy5fbWF5YmVDbG9zZSh3aWRnZXQpXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKHdpZGdldC5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgd2lkZ2V0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB3aWRnZXQgcmVnYXJkbGVzcyBvZiB3aWRnZXQncyBkaXJ0eSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aWRnZXQgLSBUaGUgdGFyZ2V0IHdpZGdldC5cbiAgICAgKi9cbiAgICBvbkRlbGV0ZSh3aWRnZXQpIHtcbiAgICAgICAgd2lkZ2V0LmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2b2lkIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBc2sgdGhlIHVzZXIgd2hldGhlciB0byBjbG9zZSBhbiB1bnNhdmVkIGZpbGUuXG4gICAgICovXG4gICAgX21heWJlQ2xvc2Uod2lkZ2V0KSB7XG4gICAgICAgIC8vIEJhaWwgaWYgdGhlIG1vZGVsIGlzIG5vdCBkaXJ0eSBvciBvdGhlciB3aWRnZXRzIGFyZSB1c2luZyB0aGUgbW9kZWwuKVxuICAgICAgICBsZXQgY29udGV4dCA9IFByaXZhdGUuY29udGV4dFByb3BlcnR5LmdldCh3aWRnZXQpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHdpZGdldHMgPSBQcml2YXRlLndpZGdldHNQcm9wZXJ0eS5nZXQoY29udGV4dCk7XG4gICAgICAgIGlmICghd2lkZ2V0cykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaWx0ZXIgYnkgd2hldGhlciB0aGUgZmFjdG9yaWVzIGFyZSByZWFkIG9ubHkuXG4gICAgICAgIHdpZGdldHMgPSB0b0FycmF5KGZpbHRlcih3aWRnZXRzLCB3aWRnZXQgPT4ge1xuICAgICAgICAgICAgbGV0IGZhY3RvcnkgPSBQcml2YXRlLmZhY3RvcnlQcm9wZXJ0eS5nZXQod2lkZ2V0KTtcbiAgICAgICAgICAgIGlmICghZmFjdG9yeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5LnJlYWRPbmx5ID09PSBmYWxzZTtcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgZmFjdG9yeSA9IFByaXZhdGUuZmFjdG9yeVByb3BlcnR5LmdldCh3aWRnZXQpO1xuICAgICAgICBpZiAoIWZhY3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vZGVsID0gY29udGV4dC5tb2RlbDtcbiAgICAgICAgaWYgKCFtb2RlbC5kaXJ0eSB8fCB3aWRnZXRzLmxlbmd0aCA+IDEgfHwgZmFjdG9yeS5yZWFkT25seSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmlsZU5hbWUgPSB3aWRnZXQudGl0bGUubGFiZWw7XG4gICAgICAgIHJldHVybiBzaG93RGlhbG9nKHtcbiAgICAgICAgICAgIHRpdGxlOiAnQ2xvc2Ugd2l0aG91dCBzYXZpbmc/JyxcbiAgICAgICAgICAgIGJvZHk6IGBGaWxlIFwiJHtmaWxlTmFtZX1cIiBoYXMgdW5zYXZlZCBjaGFuZ2VzLCBjbG9zZSB3aXRob3V0IHNhdmluZz9gLFxuICAgICAgICAgICAgYnV0dG9uczogW0RpYWxvZy5jYW5jZWxCdXR0b24oKSwgRGlhbG9nLndhcm5CdXR0b24oKV1cbiAgICAgICAgfSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5idXR0b24uYWNjZXB0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBkaXNwb3NhbCBvZiBhIHdpZGdldC5cbiAgICAgKi9cbiAgICBfd2lkZ2V0RGlzcG9zZWQod2lkZ2V0KSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gUHJpdmF0ZS5jb250ZXh0UHJvcGVydHkuZ2V0KHdpZGdldCk7XG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3aWRnZXRzID0gUHJpdmF0ZS53aWRnZXRzUHJvcGVydHkuZ2V0KGNvbnRleHQpO1xuICAgICAgICBpZiAoIXdpZGdldHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgdGhlIHdpZGdldC5cbiAgICAgICAgQXJyYXlFeHQucmVtb3ZlRmlyc3RPZih3aWRnZXRzLCB3aWRnZXQpO1xuICAgICAgICAvLyBEaXNwb3NlIG9mIHRoZSBjb250ZXh0IGlmIHRoaXMgaXMgdGhlIGxhc3Qgd2lkZ2V0IHVzaW5nIGl0LlxuICAgICAgICBpZiAoIXdpZGdldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb250ZXh0LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGRpc3Bvc2FsIG9mIGEgd2lkZ2V0LlxuICAgICAqL1xuICAgIF9vbldpZGdldERpc3Bvc2VkKHdpZGdldCkge1xuICAgICAgICBsZXQgZGlzcG9zYWJsZXMgPSBQcml2YXRlLmRpc3Bvc2FibGVzUHJvcGVydHkuZ2V0KHdpZGdldCk7XG4gICAgICAgIGRpc3Bvc2FibGVzLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgZmlsZSBjaGFuZ2VkIHNpZ25hbCBmb3IgYSBjb250ZXh0LlxuICAgICAqL1xuICAgIF9vbkZpbGVDaGFuZ2VkKGNvbnRleHQpIHtcbiAgICAgICAgbGV0IHdpZGdldHMgPSBQcml2YXRlLndpZGdldHNQcm9wZXJ0eS5nZXQoY29udGV4dCk7XG4gICAgICAgIGVhY2god2lkZ2V0cywgd2lkZ2V0ID0+IHtcbiAgICAgICAgICAgIHZvaWQgdGhpcy5zZXRDYXB0aW9uKHdpZGdldCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBwYXRoIGNoYW5nZWQgc2lnbmFsIGZvciBhIGNvbnRleHQuXG4gICAgICovXG4gICAgX29uUGF0aENoYW5nZWQoY29udGV4dCkge1xuICAgICAgICBsZXQgd2lkZ2V0cyA9IFByaXZhdGUud2lkZ2V0c1Byb3BlcnR5LmdldChjb250ZXh0KTtcbiAgICAgICAgZWFjaCh3aWRnZXRzLCB3aWRnZXQgPT4ge1xuICAgICAgICAgICAgdm9pZCB0aGlzLnNldENhcHRpb24od2lkZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHByaXZhdGUgbmFtZXNwYWNlIGZvciBEb2N1bWVudE1hbmFnZXIgZGF0YS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgYXR0YWNoZWQgcHJvcGVydHkgZm9yIGEgd2lkZ2V0IGNvbnRleHQuXG4gICAgICovXG4gICAgUHJpdmF0ZS5jb250ZXh0UHJvcGVydHkgPSBuZXcgQXR0YWNoZWRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICdjb250ZXh0JyxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiB1bmRlZmluZWRcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgYXR0YWNoZWQgcHJvcGVydHkgZm9yIGEgd2lkZ2V0IGZhY3RvcnkuXG4gICAgICovXG4gICAgUHJpdmF0ZS5mYWN0b3J5UHJvcGVydHkgPSBuZXcgQXR0YWNoZWRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICdmYWN0b3J5JyxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiB1bmRlZmluZWRcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgYXR0YWNoZWQgcHJvcGVydHkgZm9yIHRoZSB3aWRnZXRzIGFzc29jaWF0ZWQgd2l0aCBhIGNvbnRleHQuXG4gICAgICovXG4gICAgUHJpdmF0ZS53aWRnZXRzUHJvcGVydHkgPSBuZXcgQXR0YWNoZWRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICd3aWRnZXRzJyxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiBbXVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEEgcHJpdmF0ZSBhdHRhY2hlZCBwcm9wZXJ0eSBmb3IgYSB3aWRnZXQncyBkaXNwb3NhYmxlcy5cbiAgICAgKi9cbiAgICBQcml2YXRlLmRpc3Bvc2FibGVzUHJvcGVydHkgPSBuZXcgQXR0YWNoZWRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICdkaXNwb3NhYmxlcycsXG4gICAgICAgIGNyZWF0ZTogKCkgPT4gbmV3IERpc3Bvc2FibGVTZXQoKVxuICAgIH0pO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aWRnZXRtYW5hZ2VyLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMjIgMjInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyOycgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyBjbGFzcz0nanAtaWNvbi1jb250cmFzdDIganAtaWNvbi1zZWxlY3RhYmxlJyBmaWxsPSclMjNEODFCNjAnICUzRSAlM0NwYXRoIGQ9J003LjIsMTguNnYtNS40TDMsNS42aDMuM2wxLjQsMy4xYzAuMywwLjksMC42LDEuNiwxLDIuNWwwLDBjMC4zLTAuOCwwLjYtMS42LDEtMi41bDEuNC0zLjFoMy40bC00LjQsNy42djUuNSBMNy4yLDE4LjZMNy4yLDE4LjZ6Jy8lM0UgJTNDY2lyY2xlIGNsYXNzPSdzdDAnIGN4PScxNy42JyBjeT0nMTYuNScgcj0nMi4xJy8lM0UgJTNDY2lyY2xlIGNsYXNzPSdzdDAnIGN4PScxNy42JyBjeT0nMTEnIHI9JzIuMScvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB2ZXJzaW9uPVxcXCIxLjFcXFwiIGlkPVxcXCJMYXllcl8xXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHhtbG5zOnhsaW5rPVxcXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXFxcIiB4PVxcXCIwcHhcXFwiIHk9XFxcIjBweFxcXCIgdmlld0JveD1cXFwiMCAwIDIyIDIyXFxcIiBzdHlsZT1cXFwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMiAyMjtcXFwiIHhtbDpzcGFjZT1cXFwicHJlc2VydmVcXFwiPlxcblxcdDxnXFxuXFx0XFx0Y2xhc3M9XFxcImpwLWljb24tY29udHJhc3QyIGpwLWljb24tc2VsZWN0YWJsZVxcXCJcXG5cXHRcXHRmaWxsPVxcXCIjRDgxQjYwXFxcIlxcblxcdD5cXG5cXHRcXHQ8cGF0aCBkPVxcXCJNNy4yLDE4LjZ2LTUuNEwzLDUuNmgzLjNsMS40LDMuMWMwLjMsMC45LDAuNiwxLjYsMSwyLjVsMCwwYzAuMy0wLjgsMC42LTEuNiwxLTIuNWwxLjQtMy4xaDMuNGwtNC40LDcuNnY1LjUgTDcuMiwxOC42TDcuMiwxOC42elxcXCIvPlxcblxcdFxcdDxjaXJjbGUgY2xhc3M9XFxcInN0MFxcXCIgY3g9XFxcIjE3LjZcXFwiIGN5PVxcXCIxNi41XFxcIiByPVxcXCIyLjFcXFwiLz5cXG5cXHRcXHQ8Y2lyY2xlIGNsYXNzPVxcXCJzdDBcXFwiIGN4PVxcXCIxNy42XFxcIiBjeT1cXFwiMTFcXFwiIHI9XFxcIjIuMVxcXCIvPlxcblxcdDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyBoZWlnaHQ9JzE4JyB2aWV3Qm94PScwIDAgMjQgMjQnIHdpZHRoPScxOCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J00xNyAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY3bC00LTR6bS01IDE2Yy0xLjY2IDAtMy0xLjM0LTMtM3MxLjM0LTMgMy0zIDMgMS4zNCAzIDMtMS4zNCAzLTMgM3ptMy0xMEg1VjVoMTB2NHonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgaGVpZ2h0PVxcXCIxOFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB3aWR0aD1cXFwiMThcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICAgIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNMTcgM0g1Yy0xLjExIDAtMiAuOS0yIDJ2MTRjMCAxLjEuODkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWN2wtNC00em0tNSAxNmMtMS42NiAwLTMtMS4zNC0zLTNzMS4zNC0zIDMtMyAzIDEuMzQgMyAzLTEuMzQgMy0zIDN6bTMtMTBINVY1aDEwdjR6XFxcIi8+XFxuICAgIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG58IENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxcbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLmpwLUNvbGxhcHNlIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tanAtYm9yZGVyLWNvbG9yMik7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tanAtYm9yZGVyLWNvbG9yMik7XFxufVxcblxcbi5qcC1Db2xsYXBzZS1oZWFkZXIge1xcbiAgcGFkZGluZzogMXB4IDEycHg7XFxuICBjb2xvcjogdmFyKC0tanAtdWktZm9udC1jb2xvcjEpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tanAtbGF5b3V0LWNvbG9yMSk7XFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTIpO1xcbn1cXG5cXG4uanAtQ29sbGFwc2UtaGVhZGVyOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWpwLWxheW91dC1jb2xvcjIpO1xcbn1cXG5cXG4uanAtQ29sbGFwc2UtY29udGVudHMge1xcbiAgcGFkZGluZzogMHB4IDEycHggMHB4IDEycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG4gIGNvbG9yOiB2YXIoLS1qcC11aS1mb250LWNvbG9yMSk7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBPYnNlcnZhYmxlSlNPTiB9IGZyb20gJ0BqdXB5dGVybGFiL29ic2VydmFibGVzJztcbmltcG9ydCB7IEpTT05FeHQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tICdAbHVtaW5vL3NpZ25hbGluZyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGEgbm90ZWJvb2sgYXR0YWNobWVudCBtb2RlbC5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnRNb2RlbCB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IGF0dGFjaG1lbnQgbW9kZWwuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICAvLyBBbGwgYXR0YWNobWVudHMgYXJlIHVudHJ1c3RlZFxuICAgICAgICB0aGlzLnRydXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX3JhdyA9IHt9O1xuICAgICAgICBsZXQgZGF0YSA9IFByaXZhdGUuZ2V0RGF0YShvcHRpb25zLnZhbHVlKTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBPYnNlcnZhYmxlSlNPTih7IHZhbHVlczogZGF0YSB9KTtcbiAgICAgICAgdGhpcy5fcmF3RGF0YSA9IGRhdGE7XG4gICAgICAgIC8vIE1ha2UgYSBjb3B5IG9mIHRoZSBkYXRhLlxuICAgICAgICBsZXQgdmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBkYXRhIGFuZCBtZXRhZGF0YSB0aGF0IHdlcmUgc3RyaXBwZWQuXG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yYXdba2V5XSA9IFByaXZhdGUuZXh0cmFjdCh2YWx1ZSwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gdGhlIGF0dGFjaG1lbnQgbW9kZWwgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgY2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyB1c2VkIGJ5IHRoZSBhdHRhY2htZW50IG1vZGVsLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX2RhdGEuZGlzcG9zZSgpO1xuICAgICAgICBTaWduYWwuY2xlYXJEYXRhKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3RGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgZ2V0IG1ldGFkYXRhKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIG1vZGVsLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIERlcGVuZGluZyBvbiB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIG1pbWUgbW9kZWwsXG4gICAgICogdGhpcyBjYWxsIG1heSBvciBtYXkgbm90IGhhdmUgZGVmZXJyZWQgZWZmZWN0cyxcbiAgICAgKi9cbiAgICBzZXREYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlT2JzZXJ2YWJsZSh0aGlzLl9kYXRhLCBvcHRpb25zLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5fcmF3RGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQodm9pZCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIHRoZSBtb2RlbCB0byBKU09OLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgbGV0IGF0dGFjaG1lbnQgPSB7fTtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX3Jhdykge1xuICAgICAgICAgICAgYXR0YWNobWVudFtrZXldID0gUHJpdmF0ZS5leHRyYWN0KHRoaXMuX3Jhdywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0YWNobWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGFuIG9ic2VydmFibGUgSlNPTiBvYmplY3QgdXNpbmcgYSByZWFkb25seSBKU09OIG9iamVjdC5cbiAgICAgKi9cbiAgICBfdXBkYXRlT2JzZXJ2YWJsZShvYnNlcnZhYmxlLCBkYXRhKSB7XG4gICAgICAgIGxldCBvbGRLZXlzID0gb2JzZXJ2YWJsZS5rZXlzKCk7XG4gICAgICAgIGxldCBuZXdLZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gICAgICAgIC8vIEhhbmRsZSByZW1vdmVkIGtleXMuXG4gICAgICAgIGZvciAobGV0IGtleSBvZiBvbGRLZXlzKSB7XG4gICAgICAgICAgICBpZiAobmV3S2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgY2hhbmdlZCBkYXRhLlxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgbmV3S2V5cykge1xuICAgICAgICAgICAgbGV0IG9sZFZhbHVlID0gb2JzZXJ2YWJsZS5nZXQoa2V5KTtcbiAgICAgICAgICAgIGxldCBuZXdWYWx1ZSA9IGRhdGFba2V5XTtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLnNldChrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgQXR0YWNobWVudE1vZGVsIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoQXR0YWNobWVudE1vZGVsKSB7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkYXRhIGZvciBhbiBhdHRhY2htZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtcyBidW5kbGUgLSBBIGtlcm5lbCBhdHRhY2htZW50IE1JTUUgYnVuZGxlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgLSBUaGUgZGF0YSBmb3IgdGhlIHBheWxvYWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RGF0YShidW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIFByaXZhdGUuZ2V0RGF0YShidW5kbGUpO1xuICAgIH1cbiAgICBBdHRhY2htZW50TW9kZWwuZ2V0RGF0YSA9IGdldERhdGE7XG59KShBdHRhY2htZW50TW9kZWwgfHwgKEF0dGFjaG1lbnRNb2RlbCA9IHt9KSk7XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIG1vZHVsZSBwcml2YXRlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkYXRhIGZyb20gYSBub3RlYm9vayBhdHRhY2htZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldERhdGEoYnVuZGxlKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0QnVuZGxlKGJ1bmRsZSk7XG4gICAgfVxuICAgIFByaXZhdGUuZ2V0RGF0YSA9IGdldERhdGE7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBidW5kbGUgb3B0aW9ucyBnaXZlbiBhdHRhY2htZW50IG1vZGVsIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QnVuZGxlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGxldCBkYXRhID0gZ2V0RGF0YShvcHRpb25zLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHsgZGF0YSB9O1xuICAgIH1cbiAgICBQcml2YXRlLmdldEJ1bmRsZU9wdGlvbnMgPSBnZXRCdW5kbGVPcHRpb25zO1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgYSB2YWx1ZSBmcm9tIGEgSlNPTk9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBleHRyYWN0KHZhbHVlLCBrZXkpIHtcbiAgICAgICAgbGV0IGl0ZW0gPSB2YWx1ZVtrZXldO1xuICAgICAgICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkIHx8IEpTT05FeHQuaXNQcmltaXRpdmUoaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09ORXh0LmRlZXBDb3B5KGl0ZW0pO1xuICAgIH1cbiAgICBQcml2YXRlLmV4dHJhY3QgPSBleHRyYWN0O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBtaW1lIGJ1bmRsZSB0byBtaW1lIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udmVydEJ1bmRsZShidW5kbGUpIHtcbiAgICAgICAgbGV0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGZvciAobGV0IG1pbWVUeXBlIGluIGJ1bmRsZSkge1xuICAgICAgICAgICAgbWFwW21pbWVUeXBlXSA9IGV4dHJhY3QoYnVuZGxlLCBtaW1lVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF0dGFjaG1lbnRtb2RlbC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J00xMCAxOGg0di0yaC00djJ6TTMgNnYyaDE4VjZIM3ptMyA3aDEydi0ySDZ2MnonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMTAgMThoNHYtMmgtNHYyek0zIDZ2MmgxOFY2SDN6bTMgN2gxMnYtMkg2djJ6XFxcIi8+XFxuICA8L2c+XFxuPC9zdmc+XFxuXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZXhwb3J0IGNvbnN0IGNlbnRlcmVkRmxleCA9IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbn07XG5leHBvcnQgY29uc3QgbGVmdFRvUmlnaHQgPSB7XG4gICAgZmxleERpcmVjdGlvbjogJ3Jvdydcbn07XG5leHBvcnQgY29uc3QgcmlnaHRUb0xlZnQgPSB7XG4gICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJ1xufTtcbmV4cG9ydCBjb25zdCBlcXVpRGlzdGFudCA9IHtcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGF5b3V0LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDE4IDE4JyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbiclM0UgJTNDcGF0aCBkPSdNMTAuOCwxMi44TDcuMSw5bDMuOC0zLjhsMCw3LjZIMTAuOHonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPlxcblxcdDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCIgc2hhcGUtcmVuZGVyaW5nPVxcXCJnZW9tZXRyaWNQcmVjaXNpb25cXFwiPlxcblxcdFxcdDxwYXRoIGQ9XFxcIk0xMC44LDEyLjhMNy4xLDlsMy44LTMuOGwwLDcuNkgxMC44elxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ3BhdGggY2xhc3M9J2pwLWljb24yJyBmaWxsPSclMjM2MTYxNjEnIGQ9J00xNSA5SDl2Nmg2Vjl6bS0yIDRoLTJ2LTJoMnYyem04LTJWOWgtMlY3YzAtMS4xLS45LTItMi0yaC0yVjNoLTJ2MmgtMlYzSDl2Mkg3Yy0xLjEgMC0yIC45LTIgMnYySDN2MmgydjJIM3YyaDJ2MmMwIDEuMS45IDIgMiAyaDJ2Mmgydi0yaDJ2Mmgydi0yaDJjMS4xIDAgMi0uOSAyLTJ2LTJoMnYtMmgtMnYtMmgyem0tNCA2SDdWN2gxMHYxMHonLyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICAgIDxwYXRoIGNsYXNzPVxcXCJqcC1pY29uMlxcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCIgZD1cXFwiTTE1IDlIOXY2aDZWOXptLTIgNGgtMnYtMmgydjJ6bTgtMlY5aC0yVjdjMC0xLjEtLjktMi0yLTJoLTJWM2gtMnYyaC0yVjNIOXYySDdjLTEuMSAwLTIgLjktMiAydjJIM3YyaDJ2MkgzdjJoMnYyYzAgMS4xLjkgMiAyIDJoMnYyaDJ2LTJoMnYyaDJ2LTJoMmMxLjEgMCAyLS45IDItMnYtMmgydi0yaC0ydi0yaDJ6bS00IDZIN1Y3aDEwdjEwelxcXCIvPlxcbjwvc3ZnPlxcblwiOyIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcbiAgICByZXN1bHRbXCJkZWZhdWx0XCJdID0gbW9kO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29yZXV0aWxzXzEgPSByZXF1aXJlKFwiQGp1cHl0ZXJsYWIvY29yZXV0aWxzXCIpO1xuY29uc3QgY29yZXV0aWxzXzIgPSByZXF1aXJlKFwiQGx1bWluby9jb3JldXRpbHNcIik7XG5jb25zdCBzaWduYWxpbmdfMSA9IHJlcXVpcmUoXCJAbHVtaW5vL3NpZ25hbGluZ1wiKTtcbmNvbnN0IF9fMSA9IHJlcXVpcmUoXCIuLlwiKTtcbmNvbnN0IGNvbW1fMSA9IHJlcXVpcmUoXCIuL2NvbW1cIik7XG5jb25zdCBLZXJuZWxNZXNzYWdlID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL21lc3NhZ2VzXCIpKTtcbmNvbnN0IGZ1dHVyZV8xID0gcmVxdWlyZShcIi4vZnV0dXJlXCIpO1xuY29uc3Qgc2VyaWFsaXplID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3NlcmlhbGl6ZVwiKSk7XG5jb25zdCB2YWxpZGF0ZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi92YWxpZGF0ZVwiKSk7XG5jb25zdCBrZXJuZWxzcGVjXzEgPSByZXF1aXJlKFwiLi4va2VybmVsc3BlY1wiKTtcbmNvbnN0IHJlc3RhcGkgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vcmVzdGFwaVwiKSk7XG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIHRoZSBLZXJuZWwgb2JqZWN0LlxuICpcbiAqICMjIyMgTm90ZXNcbiAqIE1lc3NhZ2VzIGZyb20gdGhlIHNlcnZlciBhcmUgaGFuZGxlZCBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHJlY2VpdmVkIGFuZFxuICogYXN5bmNocm9ub3VzbHkuIEFueSBtZXNzYWdlIGhhbmRsZXIgY2FuIHJldHVybiBhIHByb21pc2UsIGFuZCBtZXNzYWdlXG4gKiBoYW5kbGluZyB3aWxsIHBhdXNlIHVudGlsIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZC5cbiAqL1xuY2xhc3MgS2VybmVsQ29ubmVjdGlvbiB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEga2VybmVsIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSB0aGUga2VybmVsIHdlYnNvY2tldCBjb25uZWN0aW9uIGFuZCBhZGQgc29ja2V0IHN0YXR1cyBoYW5kbGVycy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NyZWF0ZVNvY2tldCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9ySWZEaXNwb3NlZCgpO1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb2NrZXQgaXMgY2xlYXJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyU29ja2V0KCk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbm5lY3Rpb24gc3RhdHVzIHRvIHJlZmxlY3Qgb3BlbmluZyBhIG5ldyBjb25uZWN0aW9uLlxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXR1cygnY29ubmVjdGluZycpO1xuICAgICAgICAgICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgICAgIGxldCBwYXJ0aWFsVXJsID0gY29yZXV0aWxzXzEuVVJMRXh0LmpvaW4oc2V0dGluZ3Mud3NVcmwsIHJlc3RhcGkuS0VSTkVMX1NFUlZJQ0VfVVJMLCBlbmNvZGVVUklDb21wb25lbnQodGhpcy5faWQpKTtcbiAgICAgICAgICAgIC8vIFN0cmlwIGFueSBhdXRoZW50aWNhdGlvbiBmcm9tIHRoZSBkaXNwbGF5IHN0cmluZy5cbiAgICAgICAgICAgIGxldCBkaXNwbGF5ID0gcGFydGlhbFVybC5yZXBsYWNlKC9eKCg/Olxcdys6KT9cXC9cXC8pKD86W15AXFwvXStAKS8sICckMScpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIFdlYlNvY2tldDogJHtkaXNwbGF5fWApO1xuICAgICAgICAgICAgbGV0IHVybCA9IGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKHBhcnRpYWxVcmwsICdjaGFubmVscz9zZXNzaW9uX2lkPScgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5fY2xpZW50SWQpKTtcbiAgICAgICAgICAgIC8vIElmIHRva2VuIGF1dGhlbnRpY2F0aW9uIGlzIGluIHVzZS5cbiAgICAgICAgICAgIGxldCB0b2tlbiA9IHNldHRpbmdzLnRva2VuO1xuICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHVybCA9IHVybCArIGAmdG9rZW49JHtlbmNvZGVVUklDb21wb25lbnQodG9rZW4pfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl93cyA9IG5ldyBzZXR0aW5ncy5XZWJTb2NrZXQodXJsKTtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBpbmNvbWluZyBiaW5hcnkgbWVzc2FnZXMgYXJlIG5vdCBCbG9ic1xuICAgICAgICAgICAgdGhpcy5fd3MuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgICAgICB0aGlzLl93cy5vbm1lc3NhZ2UgPSB0aGlzLl9vbldTTWVzc2FnZTtcbiAgICAgICAgICAgIHRoaXMuX3dzLm9ub3BlbiA9IHRoaXMuX29uV1NPcGVuO1xuICAgICAgICAgICAgdGhpcy5fd3Mub25jbG9zZSA9IHRoaXMuX29uV1NDbG9zZTtcbiAgICAgICAgICAgIHRoaXMuX3dzLm9uZXJyb3IgPSB0aGlzLl9vbldTQ2xvc2U7XG4gICAgICAgIH07XG4gICAgICAgIC8vIE1ha2Ugd2Vic29ja2V0IGNhbGxiYWNrcyBhcnJvdyBmdW5jdGlvbnMgc28gdGhleSBiaW5kIGB0aGlzYC5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBhIHdlYnNvY2tldCBvcGVuIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25XU09wZW4gPSAoZXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdHVzKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBhIHdlYnNvY2tldCBtZXNzYWdlLCB2YWxpZGF0aW5nIGFuZCByb3V0aW5nIGFwcHJvcHJpYXRlbHkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbldTTWVzc2FnZSA9IChldnQpID0+IHtcbiAgICAgICAgICAgIC8vIE5vdGlmeSBpbW1lZGlhdGVseSBpZiB0aGVyZSBpcyBhbiBlcnJvciB3aXRoIHRoZSBtZXNzYWdlLlxuICAgICAgICAgICAgbGV0IG1zZztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbXNnID0gc2VyaWFsaXplLmRlc2VyaWFsaXplKGV2dC5kYXRhKTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZS52YWxpZGF0ZU1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSBgS2VybmVsIG1lc3NhZ2UgdmFsaWRhdGlvbiBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgLy8gV2UgdGhyb3cgdGhlIGVycm9yIHNvIHRoYXQgaXQgYnViYmxlcyB1cCB0byB0aGUgdG9wLCBhbmQgZGlzcGxheXMgdGhlIHJpZ2h0IHN0YWNrLlxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBjdXJyZW50IGtlcm5lbCBzZXNzaW9uIGlkXG4gICAgICAgICAgICB0aGlzLl9rZXJuZWxTZXNzaW9uID0gbXNnLmhlYWRlci5zZXNzaW9uO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBtZXNzYWdlIGFzeW5jaHJvbm91c2x5LCBpbiB0aGUgb3JkZXIgcmVjZWl2ZWQuXG4gICAgICAgICAgICB0aGlzLl9tc2dDaGFpbiA9IHRoaXMuX21zZ0NoYWluXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBzbyB0aGF0IGFueSBwcm9taXNlcyBmcm9tIGhhbmRsaW5nIGEgbWVzc2FnZSBhcmUgZnVsZmlsbGVkXG4gICAgICAgICAgICAgICAgLy8gYmVmb3JlIHByb2NlZWRpbmcgdG8gdGhlIG5leHQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlTWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIC8vIExvZyBhbnkgZXJyb3JzIGluIGhhbmRsaW5nIHRoZSBtZXNzYWdlLCB0aHVzIHJlc2V0dGluZyB0aGUgX21zZ0NoYWluXG4gICAgICAgICAgICAgICAgLy8gcHJvbWlzZSBzbyB3ZSBjYW4gcHJvY2VzcyBtb3JlIG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBFbWl0IHRoZSBtZXNzYWdlIHJlY2VpdmUgc2lnbmFsXG4gICAgICAgICAgICB0aGlzLl9hbnlNZXNzYWdlLmVtaXQoeyBtc2csIGRpcmVjdGlvbjogJ3JlY3YnIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlIGEgd2Vic29ja2V0IGNsb3NlIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25XU0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faWQgPSAnJztcbiAgICAgICAgdGhpcy5fbmFtZSA9ICcnO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSAndW5rbm93bic7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0dXMgPSAnY29ubmVjdGluZyc7XG4gICAgICAgIHRoaXMuX2tlcm5lbFNlc3Npb24gPSAnJztcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2Vic29ja2V0IHRvIGNvbW11bmljYXRlIHdpdGgga2VybmVsLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd3MgPSBudWxsO1xuICAgICAgICB0aGlzLl91c2VybmFtZSA9ICcnO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RMaW1pdCA9IDc7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdEF0dGVtcHQgPSAwO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnV0dXJlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fY29tbXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3RhcmdldFJlZ2lzdHJ5ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5faW5mbyA9IG5ldyBjb3JldXRpbHNfMi5Qcm9taXNlRGVsZWdhdGUoKTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ01lc3NhZ2VzID0gW107XG4gICAgICAgIHRoaXMuX3N0YXR1c0NoYW5nZWQgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gbmV3IHNpZ25hbGluZ18xLlNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5faW9wdWJNZXNzYWdlID0gbmV3IHNpZ25hbGluZ18xLlNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYW55TWVzc2FnZSA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX3VuaGFuZGxlZE1lc3NhZ2UgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9kaXNwbGF5SWRUb1BhcmVudElkcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fbXNnSWRUb0Rpc3BsYXlJZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX21zZ0NoYWluID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHRoaXMuX25vT3AgPSAoKSA9PiB7XG4gICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9uYW1lID0gb3B0aW9ucy5tb2RlbC5uYW1lO1xuICAgICAgICB0aGlzLl9pZCA9IG9wdGlvbnMubW9kZWwuaWQ7XG4gICAgICAgIHRoaXMuc2VydmVyU2V0dGluZ3MgPSAoX2EgPSBvcHRpb25zLnNlcnZlclNldHRpbmdzLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogX18xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpKTtcbiAgICAgICAgdGhpcy5fY2xpZW50SWQgPSAoX2IgPSBvcHRpb25zLmNsaWVudElkLCAoX2IgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29yZXV0aWxzXzIuVVVJRC51dWlkNCgpKSk7XG4gICAgICAgIHRoaXMuX3VzZXJuYW1lID0gKF9jID0gb3B0aW9ucy51c2VybmFtZSwgKF9jICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnKSk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29tbXMgPSAoX2QgPSBvcHRpb25zLmhhbmRsZUNvbW1zLCAoX2QgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogdHJ1ZSkpO1xuICAgICAgICB0aGlzLl9jcmVhdGVTb2NrZXQoKTtcbiAgICAgICAgLy8gSW1tZWRpYXRlbHkgcXVldWUgdXAgYSByZXF1ZXN0IGZvciBpbml0aWFsIGtlcm5lbCBpbmZvLlxuICAgICAgICB2b2lkIHRoaXMucmVxdWVzdEtlcm5lbEluZm8oKTtcbiAgICB9XG4gICAgZ2V0IGRpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUga2VybmVsIHN0YXR1cyBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBzdGF0dXNDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBrZXJuZWwgc3RhdHVzIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXR1c0NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgZm9yIGlvcHViIGtlcm5lbCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIHNpZ25hbCBpcyBlbWl0dGVkIGFmdGVyIHRoZSBpb3B1YiBtZXNzYWdlIGlzIGhhbmRsZWQgYXN5bmNocm9ub3VzbHkuXG4gICAgICovXG4gICAgZ2V0IGlvcHViTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lvcHViTWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCBmb3IgdW5oYW5kbGVkIGtlcm5lbCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgc2lnbmFsIGlzIGVtaXR0ZWQgZm9yIGEgbWVzc2FnZSB0aGF0IHdhcyBub3QgaGFuZGxlZC4gSXQgaXMgZW1pdHRlZFxuICAgICAqIGR1cmluZyB0aGUgYXN5bmNocm9ub3VzIG1lc3NhZ2UgaGFuZGxpbmcgY29kZS5cbiAgICAgKi9cbiAgICBnZXQgdW5oYW5kbGVkTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VuaGFuZGxlZE1lc3NhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBrZXJuZWwgbW9kZWxcbiAgICAgKi9cbiAgICBnZXQgbW9kZWwoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIGZvciBhbnkga2VybmVsIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBzaWduYWwgaXMgZW1pdHRlZCB3aGVuIGEgbWVzc2FnZSBpcyByZWNlaXZlZCwgYmVmb3JlIGl0IGlzIGhhbmRsZWRcbiAgICAgKiBhc3luY2hyb25vdXNseS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWVzc2FnZSBpcyBlbWl0dGVkIHdoZW4gYSBtZXNzYWdlIGlzIHF1ZXVlZCBmb3Igc2VuZGluZyAoZWl0aGVyIGluXG4gICAgICogdGhlIHdlYnNvY2tldCBidWZmZXIsIG9yIG91ciBvd24gcGVuZGluZyBtZXNzYWdlIGJ1ZmZlcikuIFRoZSBtZXNzYWdlIG1heVxuICAgICAqIGFjdHVhbGx5IGJlIHNlbnQgYWNyb3NzIHRoZSB3aXJlIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgKlxuICAgICAqIFRoZSBtZXNzYWdlIGVtaXR0ZWQgaW4gdGhpcyBzaWduYWwgc2hvdWxkIG5vdCBiZSBtb2RpZmllZCBpbiBhbnkgd2F5LlxuICAgICAqL1xuICAgIGdldCBhbnlNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW55TWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBzZXJ2ZXItc2lkZSBrZXJuZWwuXG4gICAgICovXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBzZXJ2ZXItc2lkZSBrZXJuZWwuXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHVzZXJuYW1lLlxuICAgICAqL1xuICAgIGdldCB1c2VybmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJuYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY2xpZW50IHVuaXF1ZSBpZC5cbiAgICAgKi9cbiAgICBnZXQgY2xpZW50SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnRJZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBrZXJuZWwuXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY29ubmVjdGlvbiBzdGF0dXMgb2YgdGhlIGtlcm5lbCBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBjb25uZWN0aW9uU3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXR1cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBrZXJuZWwgaGFzIGJlZW4gZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY2FjaGVkIGtlcm5lbCBpbmZvLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGtlcm5lbCBpbmZvLlxuICAgICAqL1xuICAgIGdldCBpbmZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5mby5wcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUga2VybmVsIHNwZWMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUga2VybmVsIHNwZWMuXG4gICAgICovXG4gICAgZ2V0IHNwZWMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zcGVjUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWNQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NwZWNQcm9taXNlID0ga2VybmVsc3BlY18xLktlcm5lbFNwZWNBUEkuZ2V0U3BlY3ModGhpcy5zZXJ2ZXJTZXR0aW5ncykudGhlbihzcGVjcyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc3BlY3Mua2VybmVsc3BlY3NbdGhpcy5fbmFtZV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BlY1Byb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lIHRoZSBjdXJyZW50IGtlcm5lbCB3aXRoIGEgbmV3IGNsaWVudElkLlxuICAgICAqL1xuICAgIGNsb25lKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbmV3IEtlcm5lbENvbm5lY3Rpb24oT2JqZWN0LmFzc2lnbih7IG1vZGVsOiB0aGlzLm1vZGVsLCB1c2VybmFtZTogdGhpcy51c2VybmFtZSwgc2VydmVyU2V0dGluZ3M6IHRoaXMuc2VydmVyU2V0dGluZ3MsIFxuICAgICAgICAgICAgLy8gaGFuZGxlQ29tbXMgZGVmYXVsdHMgdG8gZmFsc2Ugc2luY2UgdGhhdCBpcyBzYWZlclxuICAgICAgICAgICAgaGFuZGxlQ29tbXM6IGZhbHNlIH0sIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIGtlcm5lbC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkLmVtaXQoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIHRoaXMuX2NsZWFyS2VybmVsU3RhdGUoKTtcbiAgICAgICAgdGhpcy5fY2xlYXJTb2NrZXQoKTtcbiAgICAgICAgLy8gQ2xlYXIgTHVtaW5vIHNpZ25hbHNcbiAgICAgICAgc2lnbmFsaW5nXzEuU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIHNoZWxsIG1lc3NhZ2UgdG8gdGhlIGtlcm5lbC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUga2VybmVsJ3Mgc2hlbGwgY2hhbm5lbCwgeWllbGRpbmcgYSBmdXR1cmUgb2JqZWN0XG4gICAgICogZm9yIGFjY2VwdGluZyByZXBsaWVzLlxuICAgICAqXG4gICAgICogSWYgYGV4cGVjdFJlcGx5YCBpcyBnaXZlbiBhbmQgYHRydWVgLCB0aGUgZnV0dXJlIGlzIGRpc3Bvc2VkIHdoZW4gYm90aCBhXG4gICAgICogc2hlbGwgcmVwbHkgYW5kIGFuIGlkbGUgc3RhdHVzIG1lc3NhZ2UgYXJlIHJlY2VpdmVkLiBJZiBgZXhwZWN0UmVwbHlgXG4gICAgICogaXMgbm90IGdpdmVuIG9yIGlzIGBmYWxzZWAsIHRoZSBmdXR1cmUgaXMgcmVzb2x2ZWQgd2hlbiBhbiBpZGxlIHN0YXR1c1xuICAgICAqIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuXG4gICAgICogSWYgYGRpc3Bvc2VPbkRvbmVgIGlzIG5vdCBnaXZlbiBvciBpcyBgdHJ1ZWAsIHRoZSBGdXR1cmUgaXMgZGlzcG9zZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKiBJZiBgZGlzcG9zZU9uRG9uZWAgaXMgZ2l2ZW4gYW5kIGBmYWxzZWAsIGl0IGlzIHVwIHRvIHRoZSBjYWxsZXIgdG8gZGlzcG9zZSBvZiB0aGUgRnV0dXJlLlxuICAgICAqXG4gICAgICogQWxsIHJlcGxpZXMgYXJlIHZhbGlkYXRlZCBhcyB2YWxpZCBrZXJuZWwgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBJZiB0aGUga2VybmVsIHN0YXR1cyBpcyBgZGVhZGAsIHRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBzZW5kU2hlbGxNZXNzYWdlKG1zZywgZXhwZWN0UmVwbHkgPSBmYWxzZSwgZGlzcG9zZU9uRG9uZSA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbmRLZXJuZWxTaGVsbENvbnRyb2woZnV0dXJlXzEuS2VybmVsU2hlbGxGdXR1cmVIYW5kbGVyLCBtc2csIGV4cGVjdFJlcGx5LCBkaXNwb3NlT25Eb25lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIGNvbnRyb2wgbWVzc2FnZSB0byB0aGUga2VybmVsLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBrZXJuZWwncyBjb250cm9sIGNoYW5uZWwsIHlpZWxkaW5nIGEgZnV0dXJlIG9iamVjdFxuICAgICAqIGZvciBhY2NlcHRpbmcgcmVwbGllcy5cbiAgICAgKlxuICAgICAqIElmIGBleHBlY3RSZXBseWAgaXMgZ2l2ZW4gYW5kIGB0cnVlYCwgdGhlIGZ1dHVyZSBpcyBkaXNwb3NlZCB3aGVuIGJvdGggYVxuICAgICAqIGNvbnRyb2wgcmVwbHkgYW5kIGFuIGlkbGUgc3RhdHVzIG1lc3NhZ2UgYXJlIHJlY2VpdmVkLiBJZiBgZXhwZWN0UmVwbHlgXG4gICAgICogaXMgbm90IGdpdmVuIG9yIGlzIGBmYWxzZWAsIHRoZSBmdXR1cmUgaXMgcmVzb2x2ZWQgd2hlbiBhbiBpZGxlIHN0YXR1c1xuICAgICAqIG1lc3NhZ2UgaXMgcmVjZWl2ZWQuXG4gICAgICogSWYgYGRpc3Bvc2VPbkRvbmVgIGlzIG5vdCBnaXZlbiBvciBpcyBgdHJ1ZWAsIHRoZSBGdXR1cmUgaXMgZGlzcG9zZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKiBJZiBgZGlzcG9zZU9uRG9uZWAgaXMgZ2l2ZW4gYW5kIGBmYWxzZWAsIGl0IGlzIHVwIHRvIHRoZSBjYWxsZXIgdG8gZGlzcG9zZSBvZiB0aGUgRnV0dXJlLlxuICAgICAqXG4gICAgICogQWxsIHJlcGxpZXMgYXJlIHZhbGlkYXRlZCBhcyB2YWxpZCBrZXJuZWwgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBJZiB0aGUga2VybmVsIHN0YXR1cyBpcyBgZGVhZGAsIHRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBzZW5kQ29udHJvbE1lc3NhZ2UobXNnLCBleHBlY3RSZXBseSA9IGZhbHNlLCBkaXNwb3NlT25Eb25lID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZEtlcm5lbFNoZWxsQ29udHJvbChmdXR1cmVfMS5LZXJuZWxDb250cm9sRnV0dXJlSGFuZGxlciwgbXNnLCBleHBlY3RSZXBseSwgZGlzcG9zZU9uRG9uZSk7XG4gICAgfVxuICAgIF9zZW5kS2VybmVsU2hlbGxDb250cm9sKGN0b3IsIG1zZywgZXhwZWN0UmVwbHkgPSBmYWxzZSwgZGlzcG9zZU9uRG9uZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fc2VuZE1lc3NhZ2UobXNnKTtcbiAgICAgICAgdGhpcy5fYW55TWVzc2FnZS5lbWl0KHsgbXNnLCBkaXJlY3Rpb246ICdzZW5kJyB9KTtcbiAgICAgICAgbGV0IGZ1dHVyZSA9IG5ldyBjdG9yKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBtc2dJZCA9IG1zZy5oZWFkZXIubXNnX2lkO1xuICAgICAgICAgICAgdGhpcy5fZnV0dXJlcy5kZWxldGUobXNnSWQpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHN0b3JlZCBkaXNwbGF5IGlkIGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgbGV0IGRpc3BsYXlJZHMgPSB0aGlzLl9tc2dJZFRvRGlzcGxheUlkcy5nZXQobXNnSWQpO1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5SWRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzcGxheUlkcy5mb3JFYWNoKGRpc3BsYXlJZCA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1zZ0lkcyA9IHRoaXMuX2Rpc3BsYXlJZFRvUGFyZW50SWRzLmdldChkaXNwbGF5SWQpO1xuICAgICAgICAgICAgICAgIGlmIChtc2dJZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkeCA9IG1zZ0lkcy5pbmRleE9mKG1zZ0lkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobXNnSWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzcGxheUlkVG9QYXJlbnRJZHMuZGVsZXRlKGRpc3BsYXlJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2dJZHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNwbGF5SWRUb1BhcmVudElkcy5zZXQoZGlzcGxheUlkLCBtc2dJZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9tc2dJZFRvRGlzcGxheUlkcy5kZWxldGUobXNnSWQpO1xuICAgICAgICB9LCBtc2csIGV4cGVjdFJlcGx5LCBkaXNwb3NlT25Eb25lLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fZnV0dXJlcy5zZXQobXNnLmhlYWRlci5tc2dfaWQsIGZ1dHVyZSk7XG4gICAgICAgIHJldHVybiBmdXR1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIG9uIHRoZSB3ZWJzb2NrZXQuXG4gICAgICpcbiAgICAgKiBJZiBxdWV1ZSBpcyB0cnVlLCBxdWV1ZSB0aGUgbWVzc2FnZSBmb3IgbGF0ZXIgc2VuZGluZyBpZiB3ZSBjYW5ub3Qgc2VuZFxuICAgICAqIG5vdy4gT3RoZXJ3aXNlIHRocm93IGFuIGVycm9yLlxuICAgICAqL1xuICAgIF9zZW5kTWVzc2FnZShtc2csIHF1ZXVlID0gdHJ1ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09ICdkZWFkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLZXJuZWwgaXMgZGVhZCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlbmQgaWYgdGhlIHdzIGFsbG93cyBpdCwgb3RoZXJ3aXNlIGJ1ZmZlciB0aGUgbWVzc2FnZS5cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuX3dzLnNlbmQoc2VyaWFsaXplLnNlcmlhbGl6ZShtc2cpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChxdWV1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ01lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHNlbmQgbWVzc2FnZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVycnVwdCBhIGtlcm5lbC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBVc2VzIHRoZSBbSnVweXRlciBOb3RlYm9vayBBUEldKGh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLmlvLz91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2p1cHl0ZXIvbm90ZWJvb2svbWFzdGVyL25vdGVib29rL3NlcnZpY2VzL2FwaS9hcGkueWFtbCMhL2tlcm5lbHMpLlxuICAgICAqXG4gICAgICogVGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIG9uIGEgdmFsaWQgcmVzcG9uc2UgYW5kIHJlamVjdGVkIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgQVBJIGNhbGwgZG9lcyBub3QgbXV0YXRlIHRoZSBrZXJuZWwgaWQgb3IgbmFtZS5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaWYgdGhlIGtlcm5lbCBzdGF0dXMgaXMgYERlYWRgIG9yIGlmIHRoZVxuICAgICAqIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHJlc3BvbnNlIGlzIGludmFsaWQuXG4gICAgICovXG4gICAgYXN5bmMgaW50ZXJydXB0KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09ICdkZWFkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLZXJuZWwgaXMgZGVhZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN0YXBpLmludGVycnVwdEtlcm5lbCh0aGlzLmlkLCB0aGlzLnNlcnZlclNldHRpbmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBhIGtlcm5lbCByZXN0YXJ0LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFVzZXMgdGhlIFtKdXB5dGVyIE5vdGVib29rIEFQSV0oaHR0cDovL3BldHN0b3JlLnN3YWdnZXIuaW8vP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vanVweXRlci9ub3RlYm9vay9tYXN0ZXIvbm90ZWJvb2svc2VydmljZXMvYXBpL2FwaS55YW1sIyEva2VybmVscylcbiAgICAgKiBhbmQgdmFsaWRhdGVzIHRoZSByZXNwb25zZSBtb2RlbC5cbiAgICAgKlxuICAgICAqIEFueSBleGlzdGluZyBGdXR1cmUgb3IgQ29tbSBvYmplY3RzIGFyZSBjbGVhcmVkIG9uY2UgdGhlIGtlcm5lbCBoYXNcbiAgICAgKiBhY3R1YWxseSBiZSByZXN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBUaGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgb24gYSB2YWxpZCBzZXJ2ZXIgcmVzcG9uc2UgKGFmdGVyIHRoZSBrZXJuZWwgcmVzdGFydHMpXG4gICAgICogYW5kIHJlamVjdGVkIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgQVBJIGNhbGwgZG9lcyBub3QgbXV0YXRlIHRoZSBrZXJuZWwgaWQgb3IgbmFtZS5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaWYgdGhlIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHJlc3BvbnNlIGlzXG4gICAgICogaW52YWxpZC5cbiAgICAgKi9cbiAgICBhc3luYyByZXN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09ICdkZWFkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLZXJuZWwgaXMgZGVhZCcpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJlc3RhcGkucmVzdGFydEtlcm5lbCh0aGlzLmlkLCB0aGlzLnNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlUmVzdGFydCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvbm5lY3QgdG8gYSBrZXJuZWwuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBtYXkgdHJ5IG11bHRpcGxlIHRpbWVzIHRvIHJlY29ubmVjdCB0byBhIGtlcm5lbCwgYW5kIHdpbGwgc2V2ZXIgYW55XG4gICAgICogZXhpc3RpbmcgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICByZWNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuX2Vycm9ySWZEaXNwb3NlZCgpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IGNvcmV1dGlsc18yLlByb21pc2VEZWxlZ2F0ZSgpO1xuICAgICAgICAvLyBTZXQgdXAgYSBsaXN0ZW5lciBmb3IgdGhlIGNvbm5lY3Rpb24gc3RhdHVzIGNoYW5naW5nLCB3aGljaCBhY2NlcHRzIG9yXG4gICAgICAgIC8vIHJlamVjdHMgYWZ0ZXIgdGhlIHJldHJpZXMgYXJlIGRvbmUuXG4gICAgICAgIGxldCBmdWxmaWxsID0gKHNlbmRlciwgc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZC5kaXNjb25uZWN0KGZ1bGZpbGwsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5yZWplY3QobmV3IEVycm9yKCdLZXJuZWwgY29ubmVjdGlvbiBkaXNjb25uZWN0ZWQnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZC5kaXNjb25uZWN0KGZ1bGZpbGwsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkLmNvbm5lY3QoZnVsZmlsbCwgdGhpcyk7XG4gICAgICAgIC8vIFJlc2V0IHRoZSByZWNvbm5lY3QgbGltaXQgc28gd2Ugc3RhcnQgdGhlIGNvbm5lY3Rpb24gYXR0ZW1wdHMgZnJlc2hcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0QXR0ZW1wdCA9IDA7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZWNvbm5lY3Rpb24gcHJvY2Vzcywgd2hpY2ggd2lsbCBhbHNvIGNsZWFyIGFueSBleGlzdGluZ1xuICAgICAgICAvLyBjb25uZWN0aW9uLlxuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBwcm9taXNlIHRoYXQgc2hvdWxkIHJlc29sdmUgb24gY29ubmVjdGlvbiBvciByZWplY3QgaWYgdGhlXG4gICAgICAgIC8vIHJldHJpZXMgZG9uJ3Qgd29yay5cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaHV0ZG93biBhIGtlcm5lbC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBVc2VzIHRoZSBbSnVweXRlciBOb3RlYm9vayBBUEldKGh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLmlvLz91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2p1cHl0ZXIvbm90ZWJvb2svbWFzdGVyL25vdGVib29rL3NlcnZpY2VzL2FwaS9hcGkueWFtbCMhL2tlcm5lbHMpLlxuICAgICAqXG4gICAgICogVGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIG9uIGEgdmFsaWQgcmVzcG9uc2UgYW5kIHJlamVjdGVkIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIE9uIGEgdmFsaWQgcmVzcG9uc2UsIGRpc3Bvc2VzIHRoaXMga2VybmVsIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBJZiB0aGUga2VybmVsIGlzIGFscmVhZHkgYGRlYWRgLCBkaXNwb3NlcyB0aGlzIGtlcm5lbCBjb25uZWN0aW9uIHdpdGhvdXRcbiAgICAgKiBhIHNlcnZlciByZXF1ZXN0LlxuICAgICAqL1xuICAgIGFzeW5jIHNodXRkb3duKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgIT09ICdkZWFkJykge1xuICAgICAgICAgICAgYXdhaXQgcmVzdGFwaS5zaHV0ZG93bktlcm5lbCh0aGlzLmlkLCB0aGlzLnNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZVNodXRkb3duKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBrZXJuZWwgc2h1dGRvd24uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBpZiB3ZSBrbm93IGZyb20gb3V0c2lkZSBpbmZvcm1hdGlvbiB0aGF0IGFcbiAgICAgKiBrZXJuZWwgaXMgZGVhZCAoZm9yIGV4YW1wbGUsIHdlIGNhbm5vdCBmaW5kIHRoZSBrZXJuZWwgbW9kZWwgb24gdGhlXG4gICAgICogc2VydmVyKS5cbiAgICAgKi9cbiAgICBoYW5kbGVTaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdHVzKCdkZWFkJyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgYGtlcm5lbF9pbmZvX3JlcXVlc3RgIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogU2VlIFtNZXNzYWdpbmcgaW4gSnVweXRlcl0oaHR0cHM6Ly9qdXB5dGVyLWNsaWVudC5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvbWVzc2FnaW5nLmh0bWwja2VybmVsLWluZm8pLlxuICAgICAqXG4gICAgICogRnVsZmlsbHMgd2l0aCB0aGUgYGtlcm5lbF9pbmZvX3Jlc3BvbnNlYCBjb250ZW50IHdoZW4gdGhlIHNoZWxsIHJlcGx5IGlzXG4gICAgICogcmVjZWl2ZWQgYW5kIHZhbGlkYXRlZC5cbiAgICAgKi9cbiAgICBhc3luYyByZXF1ZXN0S2VybmVsSW5mbygpIHtcbiAgICAgICAgbGV0IG1zZyA9IEtlcm5lbE1lc3NhZ2UuY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBtc2dUeXBlOiAna2VybmVsX2luZm9fcmVxdWVzdCcsXG4gICAgICAgICAgICBjaGFubmVsOiAnc2hlbGwnLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuX3VzZXJuYW1lLFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5fY2xpZW50SWQsXG4gICAgICAgICAgICBjb250ZW50OiB7fVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHJlcGx5O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVwbHkgPSAoYXdhaXQgUHJpdmF0ZS5oYW5kbGVTaGVsbE1lc3NhZ2UodGhpcywgbXNnKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIHJlamVjdGVkIGJlY2F1c2UgdGhlIGZ1dHVyZSB3YXMgZGlzcG9zZWQsIGlnbm9yZSBhbmQgcmV0dXJuLlxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZXJyb3JJZkRpc3Bvc2VkKCk7XG4gICAgICAgIGlmICghcmVwbHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBLZXJuZWxzIHNvbWV0aW1lcyBkbyBub3QgaW5jbHVkZSBhIHN0YXR1cyBmaWVsZCBvbiBrZXJuZWxfaW5mb19yZXBseVxuICAgICAgICAvLyBtZXNzYWdlcywgc28gc2V0IGEgZGVmYXVsdCBmb3Igbm93LlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2p1cHl0ZXJsYWIvanVweXRlcmxhYi9pc3N1ZXMvNjc2MFxuICAgICAgICBpZiAocmVwbHkuY29udGVudC5zdGF0dXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVwbHkuY29udGVudC5zdGF0dXMgPSAnb2snO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBseS5jb250ZW50LnN0YXR1cyAhPT0gJ29rJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLZXJuZWwgaW5mbyByZXBseSBlcnJvcmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5mby5yZXNvbHZlKHJlcGx5LmNvbnRlbnQpO1xuICAgICAgICByZXR1cm4gcmVwbHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBgY29tcGxldGVfcmVxdWVzdGAgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBTZWUgW01lc3NhZ2luZyBpbiBKdXB5dGVyXShodHRwczovL2p1cHl0ZXItY2xpZW50LnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC9tZXNzYWdpbmcuaHRtbCNjb21wbGV0aW9uKS5cbiAgICAgKlxuICAgICAqIEZ1bGZpbGxzIHdpdGggdGhlIGBjb21wbGV0ZV9yZXBseWAgY29udGVudCB3aGVuIHRoZSBzaGVsbCByZXBseSBpc1xuICAgICAqIHJlY2VpdmVkIGFuZCB2YWxpZGF0ZWQuXG4gICAgICovXG4gICAgcmVxdWVzdENvbXBsZXRlKGNvbnRlbnQpIHtcbiAgICAgICAgbGV0IG1zZyA9IEtlcm5lbE1lc3NhZ2UuY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBtc2dUeXBlOiAnY29tcGxldGVfcmVxdWVzdCcsXG4gICAgICAgICAgICBjaGFubmVsOiAnc2hlbGwnLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuX3VzZXJuYW1lLFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5fY2xpZW50SWQsXG4gICAgICAgICAgICBjb250ZW50XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJpdmF0ZS5oYW5kbGVTaGVsbE1lc3NhZ2UodGhpcywgbXNnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBgaW5zcGVjdF9yZXF1ZXN0YCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFNlZSBbTWVzc2FnaW5nIGluIEp1cHl0ZXJdKGh0dHBzOi8vanVweXRlci1jbGllbnQucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L21lc3NhZ2luZy5odG1sI2ludHJvc3BlY3Rpb24pLlxuICAgICAqXG4gICAgICogRnVsZmlsbHMgd2l0aCB0aGUgYGluc3BlY3RfcmVwbHlgIGNvbnRlbnQgd2hlbiB0aGUgc2hlbGwgcmVwbHkgaXNcbiAgICAgKiByZWNlaXZlZCBhbmQgdmFsaWRhdGVkLlxuICAgICAqL1xuICAgIHJlcXVlc3RJbnNwZWN0KGNvbnRlbnQpIHtcbiAgICAgICAgbGV0IG1zZyA9IEtlcm5lbE1lc3NhZ2UuY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBtc2dUeXBlOiAnaW5zcGVjdF9yZXF1ZXN0JyxcbiAgICAgICAgICAgIGNoYW5uZWw6ICdzaGVsbCcsXG4gICAgICAgICAgICB1c2VybmFtZTogdGhpcy5fdXNlcm5hbWUsXG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLl9jbGllbnRJZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcml2YXRlLmhhbmRsZVNoZWxsTWVzc2FnZSh0aGlzLCBtc2cpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgYGhpc3RvcnlfcmVxdWVzdGAgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBTZWUgW01lc3NhZ2luZyBpbiBKdXB5dGVyXShodHRwczovL2p1cHl0ZXItY2xpZW50LnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC9tZXNzYWdpbmcuaHRtbCNoaXN0b3J5KS5cbiAgICAgKlxuICAgICAqIEZ1bGZpbGxzIHdpdGggdGhlIGBoaXN0b3J5X3JlcGx5YCBjb250ZW50IHdoZW4gdGhlIHNoZWxsIHJlcGx5IGlzXG4gICAgICogcmVjZWl2ZWQgYW5kIHZhbGlkYXRlZC5cbiAgICAgKi9cbiAgICByZXF1ZXN0SGlzdG9yeShjb250ZW50KSB7XG4gICAgICAgIGxldCBtc2cgPSBLZXJuZWxNZXNzYWdlLmNyZWF0ZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgbXNnVHlwZTogJ2hpc3RvcnlfcmVxdWVzdCcsXG4gICAgICAgICAgICBjaGFubmVsOiAnc2hlbGwnLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuX3VzZXJuYW1lLFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5fY2xpZW50SWQsXG4gICAgICAgICAgICBjb250ZW50XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJpdmF0ZS5oYW5kbGVTaGVsbE1lc3NhZ2UodGhpcywgbXNnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBgZXhlY3V0ZV9yZXF1ZXN0YCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFNlZSBbTWVzc2FnaW5nIGluIEp1cHl0ZXJdKGh0dHBzOi8vanVweXRlci1jbGllbnQucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L21lc3NhZ2luZy5odG1sI2V4ZWN1dGUpLlxuICAgICAqXG4gICAgICogRnV0dXJlIGBvblJlcGx5YCBpcyBjYWxsZWQgd2l0aCB0aGUgYGV4ZWN1dGVfcmVwbHlgIGNvbnRlbnQgd2hlbiB0aGVcbiAgICAgKiBzaGVsbCByZXBseSBpcyByZWNlaXZlZCBhbmQgdmFsaWRhdGVkLiBUaGUgZnV0dXJlIHdpbGwgcmVzb2x2ZSB3aGVuXG4gICAgICogdGhpcyBtZXNzYWdlIGlzIHJlY2VpdmVkIGFuZCB0aGUgYGlkbGVgIGlvcHViIHN0YXR1cyBpcyByZWNlaXZlZC5cbiAgICAgKiBUaGUgZnV0dXJlIHdpbGwgYWxzbyBiZSBkaXNwb3NlZCBhdCB0aGlzIHBvaW50IHVubGVzcyBgZGlzcG9zZU9uRG9uZWBcbiAgICAgKiBpcyBzcGVjaWZpZWQgYW5kIGBmYWxzZWAsIGluIHdoaWNoIGNhc2UgaXQgaXMgdXAgdG8gdGhlIGNhbGxlciB0byBkaXNwb3NlXG4gICAgICogb2YgdGhlIGZ1dHVyZS5cbiAgICAgKlxuICAgICAqICoqU2VlIGFsc286KiogW1tJRXhlY3V0ZVJlcGx5XV1cbiAgICAgKi9cbiAgICByZXF1ZXN0RXhlY3V0ZShjb250ZW50LCBkaXNwb3NlT25Eb25lID0gdHJ1ZSwgbWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgc2lsZW50OiBmYWxzZSxcbiAgICAgICAgICAgIHN0b3JlX2hpc3Rvcnk6IHRydWUsXG4gICAgICAgICAgICB1c2VyX2V4cHJlc3Npb25zOiB7fSxcbiAgICAgICAgICAgIGFsbG93X3N0ZGluOiB0cnVlLFxuICAgICAgICAgICAgc3RvcF9vbl9lcnJvcjogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG1zZyA9IEtlcm5lbE1lc3NhZ2UuY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBtc2dUeXBlOiAnZXhlY3V0ZV9yZXF1ZXN0JyxcbiAgICAgICAgICAgIGNoYW5uZWw6ICdzaGVsbCcsXG4gICAgICAgICAgICB1c2VybmFtZTogdGhpcy5fdXNlcm5hbWUsXG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLl9jbGllbnRJZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMpLCBjb250ZW50KSxcbiAgICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kU2hlbGxNZXNzYWdlKG1zZywgdHJ1ZSwgZGlzcG9zZU9uRG9uZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gZXhwZXJpbWVudGFsIGBkZWJ1Z19yZXF1ZXN0YCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQGhpZGRlblxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIERlYnVnIG1lc3NhZ2VzIGFyZSBleHBlcmltZW50YWwgbWVzc2FnZXMgdGhhdCBhcmUgbm90IGluIHRoZSBvZmZpY2lhbFxuICAgICAqIGtlcm5lbCBtZXNzYWdlIHNwZWNpZmljYXRpb24uIEFzIHN1Y2gsIHRoaXMgZnVuY3Rpb24gaXMgKk5PVCogY29uc2lkZXJlZFxuICAgICAqIHBhcnQgb2YgdGhlIHB1YmxpYyBBUEksIGFuZCBtYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgICAqL1xuICAgIHJlcXVlc3REZWJ1Zyhjb250ZW50LCBkaXNwb3NlT25Eb25lID0gdHJ1ZSkge1xuICAgICAgICBsZXQgbXNnID0gS2VybmVsTWVzc2FnZS5jcmVhdGVNZXNzYWdlKHtcbiAgICAgICAgICAgIG1zZ1R5cGU6ICdkZWJ1Z19yZXF1ZXN0JyxcbiAgICAgICAgICAgIGNoYW5uZWw6ICdjb250cm9sJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLl91c2VybmFtZSxcbiAgICAgICAgICAgIHNlc3Npb246IHRoaXMuX2NsaWVudElkLFxuICAgICAgICAgICAgY29udGVudFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZENvbnRyb2xNZXNzYWdlKG1zZywgdHJ1ZSwgZGlzcG9zZU9uRG9uZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gYGlzX2NvbXBsZXRlX3JlcXVlc3RgIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogU2VlIFtNZXNzYWdpbmcgaW4gSnVweXRlcl0oaHR0cHM6Ly9qdXB5dGVyLWNsaWVudC5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvbWVzc2FnaW5nLmh0bWwjY29kZS1jb21wbGV0ZW5lc3MpLlxuICAgICAqXG4gICAgICogRnVsZmlsbHMgd2l0aCB0aGUgYGlzX2NvbXBsZXRlX3Jlc3BvbnNlYCBjb250ZW50IHdoZW4gdGhlIHNoZWxsIHJlcGx5IGlzXG4gICAgICogcmVjZWl2ZWQgYW5kIHZhbGlkYXRlZC5cbiAgICAgKi9cbiAgICByZXF1ZXN0SXNDb21wbGV0ZShjb250ZW50KSB7XG4gICAgICAgIGxldCBtc2cgPSBLZXJuZWxNZXNzYWdlLmNyZWF0ZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgbXNnVHlwZTogJ2lzX2NvbXBsZXRlX3JlcXVlc3QnLFxuICAgICAgICAgICAgY2hhbm5lbDogJ3NoZWxsJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLl91c2VybmFtZSxcbiAgICAgICAgICAgIHNlc3Npb246IHRoaXMuX2NsaWVudElkLFxuICAgICAgICAgICAgY29udGVudFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByaXZhdGUuaGFuZGxlU2hlbGxNZXNzYWdlKHRoaXMsIG1zZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBgY29tbV9pbmZvX3JlcXVlc3RgIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogRnVsZmlsbHMgd2l0aCB0aGUgYGNvbW1faW5mb19yZXBseWAgY29udGVudCB3aGVuIHRoZSBzaGVsbCByZXBseSBpc1xuICAgICAqIHJlY2VpdmVkIGFuZCB2YWxpZGF0ZWQuXG4gICAgICovXG4gICAgcmVxdWVzdENvbW1JbmZvKGNvbnRlbnQpIHtcbiAgICAgICAgbGV0IG1zZyA9IEtlcm5lbE1lc3NhZ2UuY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBtc2dUeXBlOiAnY29tbV9pbmZvX3JlcXVlc3QnLFxuICAgICAgICAgICAgY2hhbm5lbDogJ3NoZWxsJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLl91c2VybmFtZSxcbiAgICAgICAgICAgIHNlc3Npb246IHRoaXMuX2NsaWVudElkLFxuICAgICAgICAgICAgY29udGVudFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByaXZhdGUuaGFuZGxlU2hlbGxNZXNzYWdlKHRoaXMsIG1zZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gYGlucHV0X3JlcGx5YCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFNlZSBbTWVzc2FnaW5nIGluIEp1cHl0ZXJdKGh0dHBzOi8vanVweXRlci1jbGllbnQucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L21lc3NhZ2luZy5odG1sI21lc3NhZ2VzLW9uLXRoZS1zdGRpbi1yb3V0ZXItZGVhbGVyLXNvY2tldHMpLlxuICAgICAqL1xuICAgIHNlbmRJbnB1dFJlcGx5KGNvbnRlbnQpIHtcbiAgICAgICAgbGV0IG1zZyA9IEtlcm5lbE1lc3NhZ2UuY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBtc2dUeXBlOiAnaW5wdXRfcmVwbHknLFxuICAgICAgICAgICAgY2hhbm5lbDogJ3N0ZGluJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLl91c2VybmFtZSxcbiAgICAgICAgICAgIHNlc3Npb246IHRoaXMuX2NsaWVudElkLFxuICAgICAgICAgICAgY29udGVudFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2VuZE1lc3NhZ2UobXNnKTtcbiAgICAgICAgdGhpcy5fYW55TWVzc2FnZS5lbWl0KHsgbXNnLCBkaXJlY3Rpb246ICdzZW5kJyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbW0uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSWYgYSBjbGllbnQtc2lkZSBjb21tIGFscmVhZHkgZXhpc3RzIHdpdGggdGhlIGdpdmVuIGNvbW1JZCwgYW4gZXJyb3IgaXMgdGhyb3duLlxuICAgICAqIElmIHRoZSBrZXJuZWwgZG9lcyBub3QgaGFuZGxlIGNvbW1zLCBhbiBlcnJvciBpcyB0aHJvd24uXG4gICAgICovXG4gICAgY3JlYXRlQ29tbSh0YXJnZXROYW1lLCBjb21tSWQgPSBjb3JldXRpbHNfMi5VVUlELnV1aWQ0KCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhbmRsZUNvbW1zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbW1zIGFyZSBkaXNhYmxlZCBvbiB0aGlzIGtlcm5lbCBjb25uZWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2NvbW1zLmhhcyhjb21tSWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbW0gaXMgYWxyZWFkeSBjcmVhdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbW0gPSBuZXcgY29tbV8xLkNvbW1IYW5kbGVyKHRhcmdldE5hbWUsIGNvbW1JZCwgdGhpcywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdW5yZWdpc3RlckNvbW0oY29tbUlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NvbW1zLnNldChjb21tSWQsIGNvbW0pO1xuICAgICAgICByZXR1cm4gY29tbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBjb21tIGV4aXN0cy5cbiAgICAgKi9cbiAgICBoYXNDb21tKGNvbW1JZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tbXMuaGFzKGNvbW1JZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgY29tbSB0YXJnZXQgaGFuZGxlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YXJnZXROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNvbW0gdGFyZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGludm9rZWQgZm9yIGEgY29tbSBvcGVuIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgdXNlZCB0byB1bnJlZ2lzdGVyIHRoZSBjb21tIHRhcmdldC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBPbmx5IG9uZSBjb21tIHRhcmdldCBjYW4gYmUgcmVnaXN0ZXJlZCB0byBhIHRhcmdldCBuYW1lIGF0IGEgdGltZSwgYW5cbiAgICAgKiBleGlzdGluZyBjYWxsYmFjayBmb3IgdGhlIHNhbWUgdGFyZ2V0IG5hbWUgd2lsbCBiZSBvdmVycmlkZGVuLiAgQSByZWdpc3RlcmVkXG4gICAgICogY29tbSB0YXJnZXQgaGFuZGxlciB3aWxsIHRha2UgcHJlY2VkZW5jZSBvdmVyIGEgY29tbSB3aGljaCBzcGVjaWZpZXMgYVxuICAgICAqIGB0YXJnZXRfbW9kdWxlYC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGEgcHJvbWlzZSwga2VybmVsIG1lc3NhZ2UgcHJvY2Vzc2luZyB3aWxsIHBhdXNlXG4gICAgICogdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgZnVsZmlsbGVkLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyQ29tbVRhcmdldCh0YXJnZXROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuaGFuZGxlQ29tbXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90YXJnZXRSZWdpc3RyeVt0YXJnZXROYW1lXSA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjb21tIHRhcmdldCBoYW5kbGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRhcmdldE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY29tbSB0YXJnZXQgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGUgY29tbSB0YXJnZXQgaXMgb25seSByZW1vdmVkIGlmIHRoZSBjYWxsYmFjayBhcmd1bWVudCBtYXRjaGVzLlxuICAgICAqL1xuICAgIHJlbW92ZUNvbW1UYXJnZXQodGFyZ2V0TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhbmRsZUNvbW1zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQgJiYgdGhpcy5fdGFyZ2V0UmVnaXN0cnlbdGFyZ2V0TmFtZV0gPT09IGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdGFyZ2V0UmVnaXN0cnlbdGFyZ2V0TmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYW4gSU9QdWIgbWVzc2FnZSBob29rLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1zZ19pZCAtIFRoZSBwYXJlbnRfaGVhZGVyIG1lc3NhZ2UgaWQgdGhlIGhvb2sgd2lsbCBpbnRlcmNlcHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9vayAtIFRoZSBjYWxsYmFjayBpbnZva2VkIGZvciB0aGUgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGUgSU9QdWIgaG9vayBzeXN0ZW0gYWxsb3dzIHlvdSB0byBwcmVlbXB0IHRoZSBoYW5kbGVycyBmb3IgSU9QdWJcbiAgICAgKiBtZXNzYWdlcyB0aGF0IGFyZSByZXNwb25zZXMgdG8gYSBnaXZlbiBtZXNzYWdlIGlkLlxuICAgICAqXG4gICAgICogVGhlIG1vc3QgcmVjZW50bHkgcmVnaXN0ZXJlZCBob29rIGlzIHJ1biBmaXJzdC4gQSBob29rIGNhbiByZXR1cm4gYVxuICAgICAqIGJvb2xlYW4gb3IgYSBwcm9taXNlIHRvIGEgYm9vbGVhbiwgaW4gd2hpY2ggY2FzZSBhbGwga2VybmVsIG1lc3NhZ2VcbiAgICAgKiBwcm9jZXNzaW5nIHBhdXNlcyB1bnRpbCB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQuIElmIGEgaG9vayByZXR1cm4gdmFsdWVcbiAgICAgKiByZXNvbHZlcyB0byBmYWxzZSwgYW55IGxhdGVyIGhvb2tzIHdpbGwgbm90IHJ1biBhbmQgdGhlIGZ1bmN0aW9uIHdpbGxcbiAgICAgKiByZXR1cm4gYSBwcm9taXNlIHJlc29sdmluZyB0byBmYWxzZS4gSWYgYSBob29rIHRocm93cyBhbiBlcnJvciwgdGhlIGVycm9yXG4gICAgICogaXMgbG9nZ2VkIHRvIHRoZSBjb25zb2xlIGFuZCB0aGUgbmV4dCBob29rIGlzIHJ1bi4gSWYgYSBob29rIGlzXG4gICAgICogcmVnaXN0ZXJlZCBkdXJpbmcgdGhlIGhvb2sgcHJvY2Vzc2luZywgaXQgd2lsbCBub3QgcnVuIHVudGlsIHRoZSBuZXh0XG4gICAgICogbWVzc2FnZS4gSWYgYSBob29rIGlzIHJlbW92ZWQgZHVyaW5nIHRoZSBob29rIHByb2Nlc3NpbmcsIGl0IHdpbGwgYmVcbiAgICAgKiBkZWFjdGl2YXRlZCBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIFNlZSBhbHNvIFtbSUZ1dHVyZS5yZWdpc3Rlck1lc3NhZ2VIb29rXV0uXG4gICAgICovXG4gICAgcmVnaXN0ZXJNZXNzYWdlSG9vayhtc2dJZCwgaG9vaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBmdXR1cmUgPSAoX2EgPSB0aGlzLl9mdXR1cmVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0KG1zZ0lkKTtcbiAgICAgICAgaWYgKGZ1dHVyZSkge1xuICAgICAgICAgICAgZnV0dXJlLnJlZ2lzdGVyTWVzc2FnZUhvb2soaG9vayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIElPUHViIG1lc3NhZ2UgaG9vay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtc2dfaWQgLSBUaGUgcGFyZW50X2hlYWRlciBtZXNzYWdlIGlkIHRoZSBob29rIGludGVyY2VwdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvb2sgLSBUaGUgY2FsbGJhY2sgaW52b2tlZCBmb3IgdGhlIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKi9cbiAgICByZW1vdmVNZXNzYWdlSG9vayhtc2dJZCwgaG9vaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBmdXR1cmUgPSAoX2EgPSB0aGlzLl9mdXR1cmVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0KG1zZ0lkKTtcbiAgICAgICAgaWYgKGZ1dHVyZSkge1xuICAgICAgICAgICAgZnV0dXJlLnJlbW92ZU1lc3NhZ2VIb29rKGhvb2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIG1lc3NhZ2Ugd2l0aCBhIGRpc3BsYXkgaWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBtZXNzYWdlIHdhcyBoYW5kbGVkLlxuICAgICAqL1xuICAgIGFzeW5jIF9oYW5kbGVEaXNwbGF5SWQoZGlzcGxheUlkLCBtc2cpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgbGV0IG1zZ0lkID0gbXNnLnBhcmVudF9oZWFkZXIubXNnX2lkO1xuICAgICAgICBsZXQgcGFyZW50SWRzID0gdGhpcy5fZGlzcGxheUlkVG9QYXJlbnRJZHMuZ2V0KGRpc3BsYXlJZCk7XG4gICAgICAgIGlmIChwYXJlbnRJZHMpIHtcbiAgICAgICAgICAgIC8vIFdlJ3ZlIHNlZW4gaXQgYmVmb3JlLCB1cGRhdGUgZXhpc3Rpbmcgb3V0cHV0cyB3aXRoIHNhbWUgZGlzcGxheV9pZFxuICAgICAgICAgICAgLy8gYnkgaGFuZGxpbmcgZGlzcGxheV9kYXRhIGFzIHVwZGF0ZV9kaXNwbGF5X2RhdGEuXG4gICAgICAgICAgICBsZXQgdXBkYXRlTXNnID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcjogY29yZXV0aWxzXzIuSlNPTkV4dC5kZWVwQ29weShtc2cuaGVhZGVyKSxcbiAgICAgICAgICAgICAgICBwYXJlbnRfaGVhZGVyOiBjb3JldXRpbHNfMi5KU09ORXh0LmRlZXBDb3B5KG1zZy5wYXJlbnRfaGVhZGVyKSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogY29yZXV0aWxzXzIuSlNPTkV4dC5kZWVwQ29weShtc2cubWV0YWRhdGEpLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvcmV1dGlsc18yLkpTT05FeHQuZGVlcENvcHkobXNnLmNvbnRlbnQpLFxuICAgICAgICAgICAgICAgIGNoYW5uZWw6IG1zZy5jaGFubmVsLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcnM6IG1zZy5idWZmZXJzID8gbXNnLmJ1ZmZlcnMuc2xpY2UoKSA6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdXBkYXRlTXNnLmhlYWRlci5tc2dfdHlwZSA9ICd1cGRhdGVfZGlzcGxheV9kYXRhJztcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHBhcmVudElkcy5tYXAoYXN5bmMgKHBhcmVudElkKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGZ1dHVyZSA9IHRoaXMuX2Z1dHVyZXMgJiYgdGhpcy5fZnV0dXJlcy5nZXQocGFyZW50SWQpO1xuICAgICAgICAgICAgICAgIGlmIChmdXR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZnV0dXJlLmhhbmRsZU1zZyh1cGRhdGVNc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSdyZSBkb25lIGhlcmUgaWYgaXQncyB1cGRhdGVfZGlzcGxheS5cbiAgICAgICAgaWYgKG1zZy5oZWFkZXIubXNnX3R5cGUgPT09ICd1cGRhdGVfZGlzcGxheV9kYXRhJykge1xuICAgICAgICAgICAgLy8gSXQncyBhbiB1cGRhdGUsIGRvbid0IHByb2NlZWQgdG8gdGhlIG5vcm1hbCBkaXNwbGF5LlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVndWxhciBkaXNwbGF5X2RhdGEgd2l0aCBpZCwgcmVjb3JkIGl0IGZvciBmdXR1cmUgdXBkYXRpbmdcbiAgICAgICAgLy8gaW4gX2Rpc3BsYXlJZFRvUGFyZW50SWRzIGZvciBmdXR1cmUgbG9va3VwLlxuICAgICAgICBwYXJlbnRJZHMgPSAoX2EgPSB0aGlzLl9kaXNwbGF5SWRUb1BhcmVudElkcy5nZXQoZGlzcGxheUlkKSwgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKSk7XG4gICAgICAgIGlmIChwYXJlbnRJZHMuaW5kZXhPZihtc2dJZCkgPT09IC0xKSB7XG4gICAgICAgICAgICBwYXJlbnRJZHMucHVzaChtc2dJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGlzcGxheUlkVG9QYXJlbnRJZHMuc2V0KGRpc3BsYXlJZCwgcGFyZW50SWRzKTtcbiAgICAgICAgLy8gQWRkIHRvIG91ciBtYXAgb2YgZGlzcGxheSBpZHMgZm9yIHRoaXMgbWVzc2FnZS5cbiAgICAgICAgbGV0IGRpc3BsYXlJZHMgPSAoX2IgPSB0aGlzLl9tc2dJZFRvRGlzcGxheUlkcy5nZXQobXNnSWQpLCAoX2IgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10pKTtcbiAgICAgICAgaWYgKGRpc3BsYXlJZHMuaW5kZXhPZihtc2dJZCkgPT09IC0xKSB7XG4gICAgICAgICAgICBkaXNwbGF5SWRzLnB1c2gobXNnSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21zZ0lkVG9EaXNwbGF5SWRzLnNldChtc2dJZCwgZGlzcGxheUlkcyk7XG4gICAgICAgIC8vIExldCB0aGUgbWVzc2FnZSBwcm9wYWdhdGUgdG8gdGhlIGludGVuZGVkIHJlY2lwaWVudC5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSByZXN0YXJ0IG9uIHRoZSBrZXJuZWwuICBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBgSUtlcm5lbGBcbiAgICAgKiBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgYXN5bmMgX2hhbmRsZVJlc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyS2VybmVsU3RhdGUoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdHVzKCdyZXN0YXJ0aW5nJyk7XG4gICAgICAgIC8vIEtpY2sgb2ZmIGFuIGFzeW5jIGtlcm5lbCByZXF1ZXN0IHRvIGV2ZW50dWFsbHkgcmVzZXQgdGhlIGtlcm5lbCBzdGF0dXMuXG4gICAgICAgIC8vIFdlIGRvIHRoaXMgd2l0aCBhIHNldFRpbWVvdXQgc28gdGhhdCBpdCBjb21lcyBhZnRlciB0aGUgbWljcm90YXNrXG4gICAgICAgIC8vIGxvZ2ljIGluIF9oYW5kbGVNZXNzYWdlIGZvciByZXN0YXJ0aW5nL2F1dG9zdGFydGluZyBzdGF0dXMgdXBkYXRlcy5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB2b2lkIHRoaXMucmVxdWVzdEtlcm5lbEluZm8oKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcmNlZnVsbHkgY2xlYXIgdGhlIHNvY2tldCBzdGF0ZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIHdpbGwgY2xlYXIgYWxsIHNvY2tldCBzdGF0ZSB3aXRob3V0IGNhbGxpbmcgYW55IGhhbmRsZXJzIGFuZCB3aWxsXG4gICAgICogbm90IHVwZGF0ZSB0aGUgY29ubmVjdGlvbiBzdGF0dXMuIElmIHlvdSBjYWxsIHRoaXMgbWV0aG9kLCB5b3UgYXJlXG4gICAgICogcmVzcG9uc2libGUgZm9yIHVwZGF0aW5nIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBhcyBuZWVkZWQgYW5kIHJlY3JlYXRpbmdcbiAgICAgKiB0aGUgc29ja2V0IGlmIHlvdSBwbGFuIHRvIHJlY29ubmVjdC5cbiAgICAgKi9cbiAgICBfY2xlYXJTb2NrZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl93cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIHdlYnNvY2tldCBldmVudCBoYW5kbGVycyBhbmQgdGhlIHNvY2tldCBpdHNlbGYuXG4gICAgICAgICAgICB0aGlzLl93cy5vbm9wZW4gPSB0aGlzLl9ub09wO1xuICAgICAgICAgICAgdGhpcy5fd3Mub25jbG9zZSA9IHRoaXMuX25vT3A7XG4gICAgICAgICAgICB0aGlzLl93cy5vbmVycm9yID0gdGhpcy5fbm9PcDtcbiAgICAgICAgICAgIHRoaXMuX3dzLm9ubWVzc2FnZSA9IHRoaXMuX25vT3A7XG4gICAgICAgICAgICB0aGlzLl93cy5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fd3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBzdGF0dXMgaW9wdWIgbWVzc2FnZXMgZnJvbSB0aGUga2VybmVsLlxuICAgICAqL1xuICAgIF91cGRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgPT09IHN0YXR1cyB8fCB0aGlzLl9zdGF0dXMgPT09ICdkZWFkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgUHJpdmF0ZS5sb2dLZXJuZWxTdGF0dXModGhpcyk7XG4gICAgICAgIHRoaXMuX3N0YXR1c0NoYW5nZWQuZW1pdChzdGF0dXMpO1xuICAgICAgICBpZiAoc3RhdHVzID09PSAnZGVhZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgcGVuZGluZyBtZXNzYWdlcyB0byB0aGUga2VybmVsLlxuICAgICAqL1xuICAgIF9zZW5kUGVuZGluZygpIHtcbiAgICAgICAgLy8gV2UgY2hlY2sgdG8gbWFrZSBzdXJlIHdlIGFyZSBzdGlsbCBjb25uZWN0ZWQgZWFjaCB0aW1lLiBGb3JcbiAgICAgICAgLy8gZXhhbXBsZSwgaWYgYSB3ZWJzb2NrZXQgYnVmZmVyIG92ZXJmbG93cywgaXQgbWF5IGNsb3NlLCBzbyB3ZSBzaG91bGRcbiAgICAgICAgLy8gc3RvcCBzZW5kaW5nIG1lc3NhZ2VzLlxuICAgICAgICB3aGlsZSAodGhpcy5jb25uZWN0aW9uU3RhdHVzID09PSAnY29ubmVjdGVkJyAmJlxuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ01lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRNZXNzYWdlKHRoaXMuX3BlbmRpbmdNZXNzYWdlc1swXSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gV2Ugc2hpZnQgdGhlIG1lc3NhZ2Ugb2ZmIHRoZSBxdWV1ZSBhZnRlciB0aGUgbWVzc2FnZSBpcyBzZW50IHNvIHRoYXRcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFuIGV4Y2VwdGlvbiwgdGhlIG1lc3NhZ2UgaXMgc3RpbGwgcGVuZGluZy5cbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdNZXNzYWdlcy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBpbnRlcm5hbCBzdGF0ZS5cbiAgICAgKi9cbiAgICBfY2xlYXJLZXJuZWxTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZ01lc3NhZ2VzID0gW107XG4gICAgICAgIHRoaXMuX2Z1dHVyZXMuZm9yRWFjaChmdXR1cmUgPT4ge1xuICAgICAgICAgICAgZnV0dXJlLmRpc3Bvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NvbW1zLmZvckVhY2goY29tbSA9PiB7XG4gICAgICAgICAgICBjb21tLmRpc3Bvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX21zZ0NoYWluID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHRoaXMuX2tlcm5lbFNlc3Npb24gPSAnJztcbiAgICAgICAgdGhpcy5fZnV0dXJlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fY29tbXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlJZFRvUGFyZW50SWRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX21zZ0lkVG9EaXNwbGF5SWRzLmNsZWFyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIG1ha2Ugc3VyZSBpdCBpcyBva2F5IHRvIHByb2NlZWQgdG8gaGFuZGxlIGEgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBCZWNhdXNlIHdlIGhhbmRsZSBtZXNzYWdlcyBhc3luY2hyb25vdXNseSwgYmVmb3JlIGEgbWVzc2FnZSBpcyBoYW5kbGVkIHRoZVxuICAgICAqIGtlcm5lbCBtaWdodCBiZSBkaXNwb3NlZCBvciByZXN0YXJ0ZWQgKGFuZCBoYXZlIGEgZGlmZmVyZW50IHNlc3Npb24gaWQpLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdGhyb3dzIGFuIGVycm9yIGluIGVhY2ggb2YgdGhlc2UgY2FzZXMuIFRoaXMgaXMgbWVhbnQgdG8gYmVcbiAgICAgKiBjYWxsZWQgYXQgdGhlIHN0YXJ0IG9mIGFuIGFzeW5jaHJvbm91cyBtZXNzYWdlIGhhbmRsZXIgdG8gY2FuY2VsIG1lc3NhZ2VcbiAgICAgKiBwcm9jZXNzaW5nIGlmIHRoZSBtZXNzYWdlIG5vIGxvbmdlciBpcyB2YWxpZC5cbiAgICAgKi9cbiAgICBfYXNzZXJ0Q3VycmVudE1lc3NhZ2UobXNnKSB7XG4gICAgICAgIHRoaXMuX2Vycm9ySWZEaXNwb3NlZCgpO1xuICAgICAgICBpZiAobXNnLmhlYWRlci5zZXNzaW9uICE9PSB0aGlzLl9rZXJuZWxTZXNzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbmNlbGluZyBoYW5kbGluZyBvZiBvbGQgbWVzc2FnZTogJHttc2cuaGVhZGVyLm1zZ190eXBlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGBjb21tX29wZW5gIGtlcm5lbCBtZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIF9oYW5kbGVDb21tT3Blbihtc2cpIHtcbiAgICAgICAgdGhpcy5fYXNzZXJ0Q3VycmVudE1lc3NhZ2UobXNnKTtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBtc2cuY29udGVudDtcbiAgICAgICAgbGV0IGNvbW0gPSBuZXcgY29tbV8xLkNvbW1IYW5kbGVyKGNvbnRlbnQudGFyZ2V0X25hbWUsIGNvbnRlbnQuY29tbV9pZCwgdGhpcywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdW5yZWdpc3RlckNvbW0oY29udGVudC5jb21tX2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NvbW1zLnNldChjb250ZW50LmNvbW1faWQsIGNvbW0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IGF3YWl0IFByaXZhdGUubG9hZE9iamVjdChjb250ZW50LnRhcmdldF9uYW1lLCBjb250ZW50LnRhcmdldF9tb2R1bGUsIHRoaXMuX3RhcmdldFJlZ2lzdHJ5KTtcbiAgICAgICAgICAgIGF3YWl0IHRhcmdldChjb21tLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBDbG9zZSB0aGUgY29tbSBhc3luY2hyb25vdXNseS4gV2UgY2Fubm90IGJsb2NrIG1lc3NhZ2UgcHJvY2Vzc2luZyBvblxuICAgICAgICAgICAgLy8ga2VybmVsIG1lc3NhZ2VzIHRvIHdhaXQgZm9yIGFub3RoZXIga2VybmVsIG1lc3NhZ2UuXG4gICAgICAgICAgICBjb21tLmNsb3NlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFeGNlcHRpb24gb3BlbmluZyBuZXcgY29tbScpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgJ2NvbW1fY2xvc2UnIGtlcm5lbCBtZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIF9oYW5kbGVDb21tQ2xvc2UobXNnKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydEN1cnJlbnRNZXNzYWdlKG1zZyk7XG4gICAgICAgIGxldCBjb250ZW50ID0gbXNnLmNvbnRlbnQ7XG4gICAgICAgIGxldCBjb21tID0gdGhpcy5fY29tbXMuZ2V0KGNvbnRlbnQuY29tbV9pZCk7XG4gICAgICAgIGlmICghY29tbSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ29tbSBub3QgZm91bmQgZm9yIGNvbW0gaWQgJyArIGNvbnRlbnQuY29tbV9pZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdW5yZWdpc3RlckNvbW0oY29tbS5jb21tSWQpO1xuICAgICAgICBsZXQgb25DbG9zZSA9IGNvbW0ub25DbG9zZTtcbiAgICAgICAgaWYgKG9uQ2xvc2UpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTphd2FpdC1wcm9taXNlXG4gICAgICAgICAgICBhd2FpdCBvbkNsb3NlKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29tbS5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhICdjb21tX21zZycga2VybmVsIG1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgX2hhbmRsZUNvbW1Nc2cobXNnKSB7XG4gICAgICAgIHRoaXMuX2Fzc2VydEN1cnJlbnRNZXNzYWdlKG1zZyk7XG4gICAgICAgIGxldCBjb250ZW50ID0gbXNnLmNvbnRlbnQ7XG4gICAgICAgIGxldCBjb21tID0gdGhpcy5fY29tbXMuZ2V0KGNvbnRlbnQuY29tbV9pZCk7XG4gICAgICAgIGlmICghY29tbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbk1zZyA9IGNvbW0ub25Nc2c7XG4gICAgICAgIGlmIChvbk1zZykge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmF3YWl0LXByb21pc2VcbiAgICAgICAgICAgIGF3YWl0IG9uTXNnKG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlciBhIGNvbW0gaW5zdGFuY2UuXG4gICAgICovXG4gICAgX3VucmVnaXN0ZXJDb21tKGNvbW1JZCkge1xuICAgICAgICB0aGlzLl9jb21tcy5kZWxldGUoY29tbUlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGNvbm5lY3Rpb24gc3RhdHVzIGNoYW5nZXMuXG4gICAgICovXG4gICAgX3VwZGF0ZUNvbm5lY3Rpb25TdGF0dXMoY29ubmVjdGlvblN0YXR1cykge1xuICAgICAgICBpZiAodGhpcy5fY29ubmVjdGlvblN0YXR1cyA9PT0gY29ubmVjdGlvblN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0dXMgPSBjb25uZWN0aW9uU3RhdHVzO1xuICAgICAgICAvLyBJZiB3ZSBhcmUgbm90ICdjb25uZWN0aW5nJywgcmVzZXQgYW55IHJlY29ubmVjdGlvbiBhdHRlbXB0cy5cbiAgICAgICAgaWYgKGNvbm5lY3Rpb25TdGF0dXMgIT09ICdjb25uZWN0aW5nJykge1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0QXR0ZW1wdCA9IDA7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVjb25uZWN0VGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzICE9PSAnZGVhZCcpIHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uU3RhdHVzID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgIC8vIFNlbmQgcGVuZGluZyBtZXNzYWdlcywgYW5kIG1ha2Ugc3VyZSB3ZSBzZW5kIGF0IGxlYXN0IG9uZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgLy8gdG8gZ2V0IGtlcm5lbCBzdGF0dXMgYmFjay5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ01lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VuZFBlbmRpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5yZXF1ZXN0S2VybmVsSW5mbygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjb25uZWN0aW9uIGlzIGRvd24sIHRoZW4gd2UgZG8gbm90IGtub3cgd2hhdCBpcyBoYXBwZW5pbmdcbiAgICAgICAgICAgICAgICAvLyB3aXRoIHRoZSBrZXJuZWwsIHNvIHNldCB0aGUgc3RhdHVzIHRvIHVua25vd24uXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdHVzKCd1bmtub3duJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90aWZ5IG90aGVycyB0aGF0IHRoZSBjb25uZWN0aW9uIHN0YXR1cyBjaGFuZ2VkLlxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZC5lbWl0KGNvbm5lY3Rpb25TdGF0dXMpO1xuICAgIH1cbiAgICBhc3luYyBfaGFuZGxlTWVzc2FnZShtc2cpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSBkaXNwbGF5X2lkIHdlIG5lZWQgdG8gcmVyb3V0ZS5cbiAgICAgICAgaWYgKG1zZy5wYXJlbnRfaGVhZGVyICYmXG4gICAgICAgICAgICBtc2cuY2hhbm5lbCA9PT0gJ2lvcHViJyAmJlxuICAgICAgICAgICAgKEtlcm5lbE1lc3NhZ2UuaXNEaXNwbGF5RGF0YU1zZyhtc2cpIHx8XG4gICAgICAgICAgICAgICAgS2VybmVsTWVzc2FnZS5pc1VwZGF0ZURpc3BsYXlEYXRhTXNnKG1zZykgfHxcbiAgICAgICAgICAgICAgICBLZXJuZWxNZXNzYWdlLmlzRXhlY3V0ZVJlc3VsdE1zZyhtc2cpKSkge1xuICAgICAgICAgICAgLy8gZGlzcGxheV9kYXRhIG1lc3NhZ2VzIG1heSByZS1yb3V0ZSBiYXNlZCBvbiB0aGVpciBkaXNwbGF5X2lkLlxuICAgICAgICAgICAgbGV0IHRyYW5zaWVudCA9IChfYSA9IG1zZy5jb250ZW50LnRyYW5zaWVudCwgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9KSk7XG4gICAgICAgICAgICBsZXQgZGlzcGxheUlkID0gdHJhbnNpZW50WydkaXNwbGF5X2lkJ107XG4gICAgICAgICAgICBpZiAoZGlzcGxheUlkKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IGF3YWl0IHRoaXMuX2hhbmRsZURpc3BsYXlJZChkaXNwbGF5SWQsIG1zZyk7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGF3YWl0IGFib3ZlIG1heSBtYWtlIHRoaXMgbWVzc2FnZSBvdXQgb2YgZGF0ZSwgc28gY2hlY2sgYWdhaW4uXG4gICAgICAgICAgICAgICAgdGhpcy5fYXNzZXJ0Q3VycmVudE1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhbmRsZWQgJiYgbXNnLnBhcmVudF9oZWFkZXIpIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnRIZWFkZXIgPSBtc2cucGFyZW50X2hlYWRlcjtcbiAgICAgICAgICAgIGxldCBmdXR1cmUgPSAoX2IgPSB0aGlzLl9mdXR1cmVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0KHBhcmVudEhlYWRlci5tc2dfaWQpO1xuICAgICAgICAgICAgaWYgKGZ1dHVyZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGZ1dHVyZS5oYW5kbGVNc2cobXNnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hc3NlcnRDdXJyZW50TWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG1lc3NhZ2Ugd2FzIHNlbnQgYnkgdXMgYW5kIHdhcyBub3QgaW9wdWIsIGl0IGlzIG9ycGhhbmVkLlxuICAgICAgICAgICAgICAgIGxldCBvd25lZCA9IHBhcmVudEhlYWRlci5zZXNzaW9uID09PSB0aGlzLmNsaWVudElkO1xuICAgICAgICAgICAgICAgIGlmIChtc2cuY2hhbm5lbCAhPT0gJ2lvcHViJyAmJiBvd25lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bmhhbmRsZWRNZXNzYWdlLmVtaXQobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1zZy5jaGFubmVsID09PSAnaW9wdWInKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG1zZy5oZWFkZXIubXNnX3R5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdGF0dXMnOlxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGluZyB0aGUgc3RhdHVzIGlzIHN5bmNocm9ub3VzLCBhbmQgd2UgY2FsbCBubyBhc3luYyB1c2VyIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4ZWN1dGlvblN0YXRlID0gbXNnLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC5leGVjdXRpb25fc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGVjdXRpb25TdGF0ZSA9PT0gJ3Jlc3RhcnRpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUga2VybmVsIGhhcyBiZWVuIGF1dG8tcmVzdGFydGVkIGJ5IHRoZSBzZXJ2ZXIuIEFmdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzaW5nIGZvciB0aGlzIG1lc3NhZ2UgaXMgY29tcGxldGVseSBkb25lLCB3ZSB3YW50IHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhpcyByZXN0YXJ0LCBzbyB3ZSBkb24ndCBhd2FpdCwgYnV0IGluc3RlYWQgc2NoZWR1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSB3b3JrIGFzIGEgbWljcm90YXNrIChpLmUuLCBpbiBhIHByb21pc2UgcmVzb2x1dGlvbikuIFdlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2hlZHVsZSB0aGlzIGhlcmUgc28gdGhhdCBpdCBjb21lcyBiZWZvcmUgYW55IG1pY3JvdGFza3MgdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWlnaHQgYmUgc2NoZWR1bGVkIGluIHRoZSBzdGF0dXMgc2lnbmFsIGVtaXNzaW9uIGJlbG93LlxuICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGVSZXN0YXJ0IGNoYW5nZXMgdGhlIHN0YXR1cyB0byAncmVzdGFydGluZycsIHNvIHdlIGNhbGwgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCBzbyB0aGF0IHRoZSBzdGF0dXMgd29uJ3QgZmxpcCBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJ3Jlc3RhcnRpbmcnIGFuZCAnYXV0b3Jlc3RhcnRpbmcnLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2hhbmRsZVJlc3RhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0dXMoJ2F1dG9yZXN0YXJ0aW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0dXMoZXhlY3V0aW9uU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjb21tX29wZW4nOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVDb21tcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlQ29tbU9wZW4obXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjb21tX21zZyc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhbmRsZUNvbW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9oYW5kbGVDb21tTXNnKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY29tbV9jbG9zZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhbmRsZUNvbW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9oYW5kbGVDb21tQ2xvc2UobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBtZXNzYWdlIHdhcyBhIHN0YXR1cyBkZWFkIG1lc3NhZ2UsIHdlIG1pZ2h0IGhhdmUgZGlzcG9zZWQgb3Vyc2VsdmVzLlxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hc3NlcnRDdXJyZW50TWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgICAgIC8vIHRoZSBtZXNzYWdlIHdvdWxkbid0IGJlIGVtaXR0ZWQgaWYgd2Ugd2VyZSBkaXNwb3NlZCBhbnl3YXkuXG4gICAgICAgICAgICAgICAgdGhpcy5faW9wdWJNZXNzYWdlLmVtaXQobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IGEgY29ubmVjdGlvbiBpZiB3ZSBoYXZlIG5vdCBleGhhdXN0ZWQgY29ubmVjdGlvbiBhdHRlbXB0cy5cbiAgICAgKi9cbiAgICBfcmVjb25uZWN0KCkge1xuICAgICAgICB0aGlzLl9lcnJvcklmRGlzcG9zZWQoKTtcbiAgICAgICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHJlY29ubmVjdGlvbiBhdHRlbXB0XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZWNvbm5lY3RUaW1lb3V0KTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBhbmQgc2NoZWR1bGUgYSBwb3NzaWJsZSByZWNvbm5lY3Rpb24uXG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3RBdHRlbXB0IDwgdGhpcy5fcmVjb25uZWN0TGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0dXMoJ2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCByZWNvbm5lY3QgYXR0ZW1wdCBzaG91bGQgaGFwcGVuIGltbWVkaWF0ZWx5LCBhbmQgc3Vic2VxdWVudFxuICAgICAgICAgICAgLy8gYXR0ZW1wcyBzaG91bGQgcGljayBhIHJhbmRvbSBudW1iZXIgaW4gYSBncm93aW5nIHJhbmdlIHNvIHRoYXQgd2VcbiAgICAgICAgICAgIC8vIGRvbid0IG92ZXJsb2FkIHRoZSBzZXJ2ZXIgd2l0aCBzeW5jaHJvbml6ZWQgcmVjb25uZWN0aW9uIGF0dGVtcHRzXG4gICAgICAgICAgICAvLyBhY3Jvc3MgbXVsdGlwbGUga2VybmVscy5cbiAgICAgICAgICAgIGxldCB0aW1lb3V0ID0gUHJpdmF0ZS5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMCwgMWUzICogKE1hdGgucG93KDIsIHRoaXMuX3JlY29ubmVjdEF0dGVtcHQpIC0gMSkpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ29ubmVjdGlvbiBsb3N0LCByZWNvbm5lY3RpbmcgaW4gJHtNYXRoLmZsb29yKHRpbWVvdXQgLyAxMDAwKX0gc2Vjb25kcy5gKTtcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdFRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX2NyZWF0ZVNvY2tldCwgdGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3RBdHRlbXB0ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciB0aGUgd2Vic29ja2V0IGV2ZW50IGhhbmRsZXJzIGFuZCB0aGUgc29ja2V0IGl0c2VsZi5cbiAgICAgICAgdGhpcy5fY2xlYXJTb2NrZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiB0byB0aHJvdyBhbiBlcnJvciBpZiB0aGlzIGluc3RhbmNlIGlzIGRpc3Bvc2VkLlxuICAgICAqL1xuICAgIF9lcnJvcklmRGlzcG9zZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignS2VybmVsIGNvbm5lY3Rpb24gaXMgZGlzcG9zZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuS2VybmVsQ29ubmVjdGlvbiA9IEtlcm5lbENvbm5lY3Rpb247XG4vKipcbiAqIEEgcHJpdmF0ZSBuYW1lc3BhY2UgZm9yIHRoZSBLZXJuZWwuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogTG9nIHRoZSBjdXJyZW50IGtlcm5lbCBzdGF0dXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9nS2VybmVsU3RhdHVzKGtlcm5lbCkge1xuICAgICAgICBzd2l0Y2ggKGtlcm5lbC5zdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ2lkbGUnOlxuICAgICAgICAgICAgY2FzZSAnYnVzeSc6XG4gICAgICAgICAgICBjYXNlICd1bmtub3duJzpcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBLZXJuZWw6ICR7a2VybmVsLnN0YXR1c30gKCR7a2VybmVsLmlkfSlgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcml2YXRlLmxvZ0tlcm5lbFN0YXR1cyA9IGxvZ0tlcm5lbFN0YXR1cztcbiAgICAvKipcbiAgICAgKiBTZW5kIGEga2VybmVsIG1lc3NhZ2UgdG8gdGhlIGtlcm5lbCBhbmQgcmVzb2x2ZSB0aGUgcmVwbHkgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVTaGVsbE1lc3NhZ2Uoa2VybmVsLCBtc2cpIHtcbiAgICAgICAgbGV0IGZ1dHVyZSA9IGtlcm5lbC5zZW5kU2hlbGxNZXNzYWdlKG1zZywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBmdXR1cmUuZG9uZTtcbiAgICB9XG4gICAgUHJpdmF0ZS5oYW5kbGVTaGVsbE1lc3NhZ2UgPSBoYW5kbGVTaGVsbE1lc3NhZ2U7XG4gICAgLyoqXG4gICAgICogVHJ5IHRvIGxvYWQgYW4gb2JqZWN0IGZyb20gYSBtb2R1bGUgb3IgYSByZWdpc3RyeS5cbiAgICAgKlxuICAgICAqIFRyeSB0byBsb2FkIGFuIG9iamVjdCBmcm9tIGEgbW9kdWxlIGFzeW5jaHJvbm91c2x5IGlmIGEgbW9kdWxlXG4gICAgICogaXMgc3BlY2lmaWVkLCBvdGhlcndpc2UgdHJpZXMgdG8gbG9hZCBhbiBvYmplY3QgZnJvbSB0aGUgZ2xvYmFsXG4gICAgICogcmVnaXN0cnksIGlmIHRoZSBnbG9iYWwgcmVnaXN0cnkgaXMgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogTG9hZGluZyBhIG1vZHVsZSB1c2VzIHJlcXVpcmVqcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2FkT2JqZWN0KG5hbWUsIG1vZHVsZU5hbWUsIHJlZ2lzdHJ5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAvLyBUcnkgbG9hZGluZyB0aGUgbW9kdWxlIHVzaW5nIHJlcXVpcmUuanNcbiAgICAgICAgICAgIGlmIChtb2R1bGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXF1aXJlanMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVxdWlyZWpzIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXF1aXJlanMoW21vZHVsZU5hbWVdLCAobW9kKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RbbmFtZV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1zZyA9IGBPYmplY3QgJyR7bmFtZX0nIG5vdCBmb3VuZCBpbiBtb2R1bGUgJyR7bW9kdWxlTmFtZX0nYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IobXNnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1vZFtuYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKChfYSA9IHJlZ2lzdHJ5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZWdpc3RyeVtuYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBPYmplY3QgJyR7bmFtZX0nIG5vdCBmb3VuZCBpbiByZWdpc3RyeWApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBQcml2YXRlLmxvYWRPYmplY3QgPSBsb2FkT2JqZWN0O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXgsIGluY2x1c2l2ZSBvZiBib3RoLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIEZyb21cbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3JhbmRvbSNHZXR0aW5nX2FfcmFuZG9tX2ludGVnZXJfYmV0d2Vlbl90d29fdmFsdWVzX2luY2x1c2l2ZVxuICAgICAqXG4gICAgICogRnJvbSB0aGUgTUROIHBhZ2U6IEl0IG1pZ2h0IGJlIHRlbXB0aW5nIHRvIHVzZSBNYXRoLnJvdW5kKCkgdG8gYWNjb21wbGlzaFxuICAgICAqIHRoYXQsIGJ1dCBkb2luZyBzbyB3b3VsZCBjYXVzZSB5b3VyIHJhbmRvbSBudW1iZXJzIHRvIGZvbGxvdyBhIG5vbi11bmlmb3JtXG4gICAgICogZGlzdHJpYnV0aW9uLCB3aGljaCBtYXkgbm90IGJlIGFjY2VwdGFibGUgZm9yIHlvdXIgbmVlZHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmFuZG9tSW50SW5jbHVzaXZlKG1pbiwgbWF4KSB7XG4gICAgICAgIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgIH1cbiAgICBQcml2YXRlLmdldFJhbmRvbUludEluY2x1c2l2ZSA9IGdldFJhbmRvbUludEluY2x1c2l2ZTtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC5qcy5tYXAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBJbXBvcnRzXG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9jb2xsYXBzZS5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY29tbWFuZHBhbGV0dGUuY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2RpYWxvZy5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaG92ZXJib3guY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2lmcmFtZS5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbmFyZWF3aWRnZXQuY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21hdGVyaWFsY29sb3JzLmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zcGlubmVyLmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsaW5nLmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi90b29sYmFyLmNzc1wiKSwgXCJcIik7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG58IENvcHlyaWdodCAoYykgMjAxNC0yMDE3LCBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXFxufFxcbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXCIsIFwiXCJdKTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIEltcG9ydHNcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2RlcHJlY2F0ZWQuY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2RlcHJlY2F0ZWRFeHRyYS5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaWNvbnMuY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2ljb25zYWx0LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pY29uc2hvdmVyLmNzc1wiKSwgXCJcIik7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG58IENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxcbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLyogU2libGluZyBpbXBvcnRzICovXFxuXFxuLyogT3ZlcnJpZGUgQmx1ZXByaW50J3MgX3Jlc2V0LnNjc3Mgc3R5bGVzICovXFxuaHRtbCB7XFxuICBib3gtc2l6aW5nOiB1bnNldDtcXG59XFxuXFxuKixcXG4qOjpiZWZvcmUsXFxuKjo6YWZ0ZXIge1xcbiAgYm94LXNpemluZzogdW5zZXQ7XFxufVxcblxcbmJvZHkge1xcbiAgY29sb3I6IHVuc2V0O1xcbiAgZm9udC1mYW1pbHk6IHZhcigtLWpwLXVpLWZvbnQtZmFtaWx5KTtcXG59XFxuXFxucCB7XFxuICBtYXJnaW4tdG9wOiB1bnNldDtcXG4gIG1hcmdpbi1ib3R0b206IHVuc2V0O1xcbn1cXG5cXG5zbWFsbCB7XFxuICBmb250LXNpemU6IHVuc2V0O1xcbn1cXG5cXG5zdHJvbmcge1xcbiAgZm9udC13ZWlnaHQ6IHVuc2V0O1xcbn1cXG5cXG4vKiBPdmVycmlkZSBCbHVlcHJpbnQncyBfdHlwb2dyYXBoeS5zY3NzIHN0eWxlcyAqL1xcbmEge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bnNldDtcXG4gIGNvbG9yOiB1bnNldDtcXG59XFxuYTpob3ZlciB7XFxuICB0ZXh0LWRlY29yYXRpb246IHVuc2V0O1xcbiAgY29sb3I6IHVuc2V0O1xcbn1cXG5cXG4vKiBPdmVycmlkZSBCbHVlcHJpbnQncyBfYWNjZXNzaWJpbGl0eS5zY3NzIHN0eWxlcyAqL1xcbjpmb2N1cyB7XFxuICBvdXRsaW5lOiB1bnNldDtcXG4gIG91dGxpbmUtb2Zmc2V0OiB1bnNldDtcXG4gIC1tb3otb3V0bGluZS1yYWRpdXM6IHVuc2V0O1xcbn1cXG5cXG4vKiBTdHlsZXMgZm9yIHVpLWNvbXBvbmVudHMgKi9cXG4uanAtQnV0dG9uIHtcXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWpwLWJvcmRlci1yYWRpdXMpO1xcbiAgcGFkZGluZzogMHB4IDEycHg7XFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTEpO1xcbn1cXG5cXG4vKiBVc2Ugb3VyIG93biB0aGVtZSBmb3IgaG92ZXIgc3R5bGVzICovXFxuYnV0dG9uLmpwLUJ1dHRvbi5icDMtYnV0dG9uLmJwMy1taW5pbWFsOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWpwLWxheW91dC1jb2xvcjIpO1xcbn1cXG4uanAtQnV0dG9uLm1pbmltYWwge1xcbiAgY29sb3I6IHVuc2V0ICFpbXBvcnRhbnQ7XFxufVxcblxcbi5qcC1CdXR0b24uanAtVG9vbGJhckJ1dHRvbkNvbXBvbmVudCB7XFxuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcXG59XFxuXFxuLmpwLUlucHV0R3JvdXAgaW5wdXQge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGNvbG9yOiB2YXIoLS1qcC11aS1mb250LWNvbG9yMCk7XFxuICBib3gtc2hhZG93OiBpbnNldCAwIDAgMCB2YXIoLS1qcC1ib3JkZXItd2lkdGgpIHZhcigtLWpwLWlucHV0LWJvcmRlci1jb2xvcik7XFxufVxcblxcbi5qcC1JbnB1dEdyb3VwIGlucHV0OmZvY3VzIHtcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIHZhcigtLWpwLWJvcmRlci13aWR0aClcXG4gICAgICB2YXIoLS1qcC1pbnB1dC1hY3RpdmUtYm94LXNoYWRvdy1jb2xvciksXFxuICAgIGluc2V0IDAgMCAwIDNweCB2YXIoLS1qcC1pbnB1dC1hY3RpdmUtYm94LXNoYWRvdy1jb2xvcik7XFxufVxcblxcbi5qcC1JbnB1dEdyb3VwIGlucHV0OjpwbGFjZWhvbGRlcixcXG5pbnB1dDo6cGxhY2Vob2xkZXIge1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IzKTtcXG59XFxuXFxuLmpwLUljb24ge1xcbiAgY29sb3I6IHZhcigtLWpwLWxheW91dC1jb2xvcjQpO1xcbn1cXG5cXG4uanAtSW5wdXRHcm91cEFjdGlvbiB7XFxuICBwYWRkaW5nOiA2cHg7XFxufVxcblxcbi5qcC1IVE1MU2VsZWN0LmpwLURlZmF1bHRTdHlsZSBzZWxlY3Qge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogaW5pdGlhbDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJvcmRlci1yYWRpdXM6IDA7XFxuICBib3gtc2hhZG93OiBub25lO1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IwKTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZm9udC1zaXplOiB2YXIoLS1qcC11aS1mb250LXNpemUxKTtcXG4gIGhlaWdodDogMjRweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNHB4O1xcbiAgcGFkZGluZzogMCAyNXB4IDAgMTBweDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbn1cXG5cXG4vKiBVc2Ugb3VyIG93biB0aGVtZSBmb3IgaG92ZXIgYW5kIG9wdGlvbiBzdHlsZXMgKi9cXG4uanAtSFRNTFNlbGVjdC5qcC1EZWZhdWx0U3R5bGUgc2VsZWN0OmhvdmVyLFxcbi5qcC1IVE1MU2VsZWN0LmpwLURlZmF1bHRTdHlsZSBzZWxlY3QgPiBvcHRpb24ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tanAtbGF5b3V0LWNvbG9yMik7XFxuICBjb2xvcjogdmFyKC0tanAtdWktZm9udC1jb2xvcjApO1xcbn1cXG5zZWxlY3Qge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBKU09ORXh0IH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuaW1wb3J0ICogYXMgbmJmb3JtYXQgZnJvbSAnQGp1cHl0ZXJsYWIvbmJmb3JtYXQnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUpTT04gfSBmcm9tICdAanVweXRlcmxhYi9vYnNlcnZhYmxlcyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGEgbm90ZWJvb2sgb3V0cHV0IG1vZGVsLlxuICovXG5leHBvcnQgY2xhc3MgT3V0cHV0TW9kZWwge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBvdXRwdXQgbW9kZWwuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmF3ID0ge307XG4gICAgICAgIGxldCB7IGRhdGEsIG1ldGFkYXRhLCB0cnVzdGVkIH0gPSBQcml2YXRlLmdldEJ1bmRsZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBuZXcgT2JzZXJ2YWJsZUpTT04oeyB2YWx1ZXM6IGRhdGEgfSk7XG4gICAgICAgIHRoaXMuX3Jhd0RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IG5ldyBPYnNlcnZhYmxlSlNPTih7IHZhbHVlczogbWV0YWRhdGEgfSk7XG4gICAgICAgIHRoaXMuX3Jhd01ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMudHJ1c3RlZCA9IHRydXN0ZWQ7XG4gICAgICAgIC8vIE1ha2UgYSBjb3B5IG9mIHRoZSBkYXRhLlxuICAgICAgICBsZXQgdmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBkYXRhIGFuZCBtZXRhZGF0YSB0aGF0IHdlcmUgc3RyaXBwZWQuXG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ21ldGFkYXRhJzpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmF3W2tleV0gPSBQcml2YXRlLmV4dHJhY3QodmFsdWUsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50eXBlID0gdmFsdWUub3V0cHV0X3R5cGU7XG4gICAgICAgIGlmIChuYmZvcm1hdC5pc0V4ZWN1dGVSZXN1bHQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLmV4ZWN1dGlvbkNvdW50ID0gdmFsdWUuZXhlY3V0aW9uX2NvdW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5leGVjdXRpb25Db3VudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBvdXRwdXQgbW9kZWwgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgY2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyB1c2VkIGJ5IHRoZSBvdXRwdXQgbW9kZWwuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5fZGF0YS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX21ldGFkYXRhLmRpc3Bvc2UoKTtcbiAgICAgICAgU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd0RhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGdldCBtZXRhZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jhd01ldGFkYXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBtb2RlbC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBEZXBlbmRpbmcgb24gdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtaW1lIG1vZGVsLFxuICAgICAqIHRoaXMgY2FsbCBtYXkgb3IgbWF5IG5vdCBoYXZlIGRlZmVycmVkIGVmZmVjdHMsXG4gICAgICovXG4gICAgc2V0RGF0YShvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU9ic2VydmFibGUodGhpcy5fZGF0YSwgb3B0aW9ucy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX3Jhd0RhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU9ic2VydmFibGUodGhpcy5fbWV0YWRhdGEsIG9wdGlvbnMubWV0YWRhdGEpO1xuICAgICAgICAgICAgdGhpcy5fcmF3TWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh2b2lkIDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemUgdGhlIG1vZGVsIHRvIEpTT04uXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBsZXQgb3V0cHV0ID0ge307XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLl9yYXcpIHtcbiAgICAgICAgICAgIG91dHB1dFtrZXldID0gUHJpdmF0ZS5leHRyYWN0KHRoaXMuX3Jhdywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZGlzcGxheV9kYXRhJzpcbiAgICAgICAgICAgIGNhc2UgJ2V4ZWN1dGVfcmVzdWx0JzpcbiAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZV9kaXNwbGF5X2RhdGEnOlxuICAgICAgICAgICAgICAgIG91dHB1dFsnZGF0YSddID0gdGhpcy5kYXRhO1xuICAgICAgICAgICAgICAgIG91dHB1dFsnbWV0YWRhdGEnXSA9IHRoaXMubWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0cmFuc2llbnQgZGF0YS5cbiAgICAgICAgZGVsZXRlIG91dHB1dFsndHJhbnNpZW50J107XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhbiBvYnNlcnZhYmxlIEpTT04gb2JqZWN0IHVzaW5nIGEgcmVhZG9ubHkgSlNPTiBvYmplY3QuXG4gICAgICovXG4gICAgX3VwZGF0ZU9ic2VydmFibGUob2JzZXJ2YWJsZSwgZGF0YSkge1xuICAgICAgICBsZXQgb2xkS2V5cyA9IG9ic2VydmFibGUua2V5cygpO1xuICAgICAgICBsZXQgbmV3S2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgICAgICAvLyBIYW5kbGUgcmVtb3ZlZCBrZXlzLlxuICAgICAgICBmb3IgKGxldCBrZXkgb2Ygb2xkS2V5cykge1xuICAgICAgICAgICAgaWYgKG5ld0tleXMuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG9ic2VydmFibGUuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGNoYW5nZWQgZGF0YS5cbiAgICAgICAgZm9yIChsZXQga2V5IG9mIG5ld0tleXMpIHtcbiAgICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IG9ic2VydmFibGUuZ2V0KGtleSk7XG4gICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBkYXRhW2tleV07XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zZXQoa2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIE91dHB1dE1vZGVsIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoT3V0cHV0TW9kZWwpIHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRhdGEgZm9yIGFuIG91dHB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbXMgb3V0cHV0IC0gQSBrZXJuZWwgb3V0cHV0IG1lc3NhZ2UgcGF5bG9hZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gVGhlIGRhdGEgZm9yIHRoZSBwYXlsb2FkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldERhdGEob3V0cHV0KSB7XG4gICAgICAgIHJldHVybiBQcml2YXRlLmdldERhdGEob3V0cHV0KTtcbiAgICB9XG4gICAgT3V0cHV0TW9kZWwuZ2V0RGF0YSA9IGdldERhdGE7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtZXRhZGF0YSBmcm9tIGFuIG91dHB1dCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtcyBvdXRwdXQgLSBBIGtlcm5lbCBvdXRwdXQgbWVzc2FnZSBwYXlsb2FkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgLSBUaGUgbWV0YWRhdGEgZm9yIHRoZSBwYXlsb2FkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1ldGFkYXRhKG91dHB1dCkge1xuICAgICAgICByZXR1cm4gUHJpdmF0ZS5nZXRNZXRhZGF0YShvdXRwdXQpO1xuICAgIH1cbiAgICBPdXRwdXRNb2RlbC5nZXRNZXRhZGF0YSA9IGdldE1ldGFkYXRhO1xufSkoT3V0cHV0TW9kZWwgfHwgKE91dHB1dE1vZGVsID0ge30pKTtcbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgbW9kdWxlIHByaXZhdGUgZGF0YS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRhdGEgZnJvbSBhIG5vdGVib29rIG91dHB1dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXREYXRhKG91dHB1dCkge1xuICAgICAgICBsZXQgYnVuZGxlID0ge307XG4gICAgICAgIGlmIChuYmZvcm1hdC5pc0V4ZWN1dGVSZXN1bHQob3V0cHV0KSB8fFxuICAgICAgICAgICAgbmJmb3JtYXQuaXNEaXNwbGF5RGF0YShvdXRwdXQpIHx8XG4gICAgICAgICAgICBuYmZvcm1hdC5pc0Rpc3BsYXlVcGRhdGUob3V0cHV0KSkge1xuICAgICAgICAgICAgYnVuZGxlID0gb3V0cHV0LmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmJmb3JtYXQuaXNTdHJlYW0ob3V0cHV0KSkge1xuICAgICAgICAgICAgaWYgKG91dHB1dC5uYW1lID09PSAnc3RkZXJyJykge1xuICAgICAgICAgICAgICAgIGJ1bmRsZVsnYXBwbGljYXRpb24vdm5kLmp1cHl0ZXIuc3RkZXJyJ10gPSBvdXRwdXQudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1bmRsZVsnYXBwbGljYXRpb24vdm5kLmp1cHl0ZXIuc3Rkb3V0J10gPSBvdXRwdXQudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYmZvcm1hdC5pc0Vycm9yKG91dHB1dCkpIHtcbiAgICAgICAgICAgIGJ1bmRsZVsnYXBwbGljYXRpb24vdm5kLmp1cHl0ZXIuZXJyb3InXSA9IG91dHB1dDtcbiAgICAgICAgICAgIGxldCB0cmFjZWJhY2sgPSBvdXRwdXQudHJhY2ViYWNrLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgYnVuZGxlWydhcHBsaWNhdGlvbi92bmQuanVweXRlci5zdGRlcnInXSA9XG4gICAgICAgICAgICAgICAgdHJhY2ViYWNrIHx8IGAke291dHB1dC5lbmFtZX06ICR7b3V0cHV0LmV2YWx1ZX1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb252ZXJ0QnVuZGxlKGJ1bmRsZSk7XG4gICAgfVxuICAgIFByaXZhdGUuZ2V0RGF0YSA9IGdldERhdGE7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtZXRhZGF0YSBmcm9tIGFuIG91dHB1dCBtZXNzYWdlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1ldGFkYXRhKG91dHB1dCkge1xuICAgICAgICBsZXQgdmFsdWUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBpZiAobmJmb3JtYXQuaXNFeGVjdXRlUmVzdWx0KG91dHB1dCkgfHwgbmJmb3JtYXQuaXNEaXNwbGF5RGF0YShvdXRwdXQpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gb3V0cHV0Lm1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVba2V5XSA9IGV4dHJhY3Qob3V0cHV0Lm1ldGFkYXRhLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgUHJpdmF0ZS5nZXRNZXRhZGF0YSA9IGdldE1ldGFkYXRhO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYnVuZGxlIG9wdGlvbnMgZ2l2ZW4gb3V0cHV0IG1vZGVsIG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QnVuZGxlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGxldCBkYXRhID0gZ2V0RGF0YShvcHRpb25zLnZhbHVlKTtcbiAgICAgICAgbGV0IG1ldGFkYXRhID0gZ2V0TWV0YWRhdGEob3B0aW9ucy52YWx1ZSk7XG4gICAgICAgIGxldCB0cnVzdGVkID0gISFvcHRpb25zLnRydXN0ZWQ7XG4gICAgICAgIHJldHVybiB7IGRhdGEsIG1ldGFkYXRhLCB0cnVzdGVkIH07XG4gICAgfVxuICAgIFByaXZhdGUuZ2V0QnVuZGxlT3B0aW9ucyA9IGdldEJ1bmRsZU9wdGlvbnM7XG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBhIHZhbHVlIGZyb20gYSBKU09OT2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV4dHJhY3QodmFsdWUsIGtleSkge1xuICAgICAgICBsZXQgaXRlbSA9IHZhbHVlW2tleV07XG4gICAgICAgIGlmIChpdGVtID09PSB1bmRlZmluZWQgfHwgSlNPTkV4dC5pc1ByaW1pdGl2ZShpdGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaXRlbSkpO1xuICAgIH1cbiAgICBQcml2YXRlLmV4dHJhY3QgPSBleHRyYWN0O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBtaW1lIGJ1bmRsZSB0byBtaW1lIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udmVydEJ1bmRsZShidW5kbGUpIHtcbiAgICAgICAgbGV0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGZvciAobGV0IG1pbWVUeXBlIGluIGJ1bmRsZSkge1xuICAgICAgICAgICAgbWFwW21pbWVUeXBlXSA9IGV4dHJhY3QoYnVuZGxlLCBtaW1lVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW91dHB1dG1vZGVsLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZpZXdCb3g9JzAgMCAyNCAyNCcgZmlsbD0nbm9uZScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSAlM0NyZWN0IGNsYXNzPSdqcC1pY29uMiBqcC1pY29uLXNlbGVjdGFibGUnIHdpZHRoPScyMCcgaGVpZ2h0PScyMCcgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMiAyKScgZmlsbD0nJTIzMzMzMzMzJy8lM0UgJTNDcGF0aCBjbGFzcz0nanAtaWNvbi1hY2NlbnQyIGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlJyBkPSdNNS4wNTY2NCA4Ljc2MTcyQzUuMDU2NjQgOC41OTc2NiA1LjAzMTI1IDguNDUzMTIgNC45ODA0NyA4LjMyODEyQzQuOTMzNTkgOC4xOTkyMiA0Ljg1NTQ3IDguMDgyMDMgNC43NDYwOSA3Ljk3NjU2QzQuNjQwNjIgNy44NzEwOSA0LjUgNy43NzUzOSA0LjMyNDIyIDcuNjg5NDVDNC4xNTIzNCA3LjU5OTYxIDMuOTQzMzYgNy41MTE3MiAzLjY5NzI3IDcuNDI1NzhDMy4zMDI3MyA3LjI4NTE2IDIuOTQzMzYgNy4xMzY3MiAyLjYxOTE0IDYuOTgwNDdDMi4yOTQ5MiA2LjgyNDIyIDIuMDE3NTggNi42NDI1OCAxLjc4NzExIDYuNDM1NTVDMS41NjA1NSA2LjIyODUyIDEuMzg0NzcgNS45ODgyOCAxLjI1OTc3IDUuNzE0ODRDMS4xMzQ3NyA1LjQzNzUgMS4wNzIyNyA1LjEwOTM4IDEuMDcyMjcgNC43MzA0N0MxLjA3MjI3IDQuMzk4NDQgMS4xMjg5MSA0LjA5NTcgMS4yNDIxOSAzLjgyMjI3QzEuMzU1NDcgMy41NDQ5MiAxLjUxNTYyIDMuMzA0NjkgMS43MjI2NiAzLjEwMTU2QzEuOTI5NjkgMi44OTg0NCAyLjE3OTY5IDIuNzM0MzcgMi40NzI2NiAyLjYwOTM4QzIuNzY1NjIgMi40ODQzOCAzLjA5MTggMi40MDQzIDMuNDUxMTcgMi4zNjkxNFYxLjEwOTM4SDQuMzg4NjdWMi4zODA4NkM0Ljc0MDIzIDIuNDI3NzMgNS4wNTY2NCAyLjUyMzQ0IDUuMzM3ODkgMi42Njc5N0M1LjYxOTE0IDIuODEyNSA1Ljg1NzQyIDMuMDAxOTUgNi4wNTI3MyAzLjIzNjMzQzYuMjUxOTUgMy40NjY4IDYuNDA0MyAzLjc0MDIzIDYuNTA5NzcgNC4wNTY2NEM2LjYxOTE0IDQuMzY5MTQgNi42NzM4MyA0LjcyMDcgNi42NzM4MyA1LjExMTMzSDUuMDQ0OTJDNS4wNDQ5MiA0LjYzODY3IDQuOTM3NSA0LjI4MTI1IDQuNzIyNjYgNC4wMzkwNkM0LjUwNzgxIDMuNzkyOTcgNC4yMTY4IDMuNjY5OTIgMy44NDk2MSAzLjY2OTkyQzMuNjUwMzkgMy42Njk5MiAzLjQ3NjU2IDMuNjk3MjcgMy4zMjgxMiAzLjc1MTk1QzMuMTgzNTkgMy44MDI3MyAzLjA2NDQ1IDMuODc2OTUgMi45NzA3IDMuOTc0NjFDMi44NzY5NSA0LjA2ODM2IDIuODA2NjQgNC4xNzk2OSAyLjc1OTc3IDQuMzA4NTlDMi43MTY4IDQuNDM3NSAyLjY5NTMxIDQuNTc4MTIgMi42OTUzMSA0LjczMDQ3QzIuNjk1MzEgNC44ODI4MSAyLjcxNjggNS4wMTk1MyAyLjc1OTc3IDUuMTQwNjJDMi44MDY2NCA1LjI1NzgxIDIuODgyODEgNS4zNjcxOSAyLjk4ODI4IDUuNDY4NzVDMy4wOTc2NiA1LjU3MDMxIDMuMjQwMjMgNS42Njc5NyAzLjQxNjAyIDUuNzYxNzJDMy41OTE4IDUuODUxNTYgMy44MTA1NSA1Ljk0MzM2IDQuMDcyMjcgNi4wMzcxMUM0LjQ2NjggNi4xODU1NSA0LjgyNDIyIDYuMzM5ODQgNS4xNDQ1MyA2LjVDNS40NjQ4NCA2LjY1NjI1IDUuNzM4MjggNi44Mzk4NCA1Ljk2NDg0IDcuMDUwNzhDNi4xOTUzMSA3LjI1NzgxIDYuMzcxMDkgNy41IDYuNDkyMTkgNy43NzczNEM2LjYxNzE5IDguMDUwNzggNi42Nzk2OSA4LjM3NSA2LjY3OTY5IDguNzVDNi42Nzk2OSA5LjA5Mzc1IDYuNjIzMDUgOS40MDQzIDYuNTA5NzcgOS42ODE2NEM2LjM5NjQ4IDkuOTU1MDggNi4yMzQzOCAxMC4xOTE0IDYuMDIzNDQgMTAuMzkwNkM1LjgxMjUgMTAuNTg5OCA1LjU1ODU5IDEwLjc1IDUuMjYxNzIgMTAuODcxMUM0Ljk2NDg0IDEwLjk4ODMgNC42MzI4MSAxMS4wNjQ1IDQuMjY1NjIgMTEuMDk5NlYxMi4yNDhIMy4zMzM5OFYxMS4wOTk2QzMuMDAxOTUgMTEuMDY4NCAyLjY3OTY5IDEwLjk5NjEgMi4zNjcxOSAxMC44ODI4QzIuMDU0NjkgMTAuNzY1NiAxLjc3NzM0IDEwLjU5NzcgMS41MzUxNiAxMC4zNzg5QzEuMjk2ODggMTAuMTYwMiAxLjEwNTQ3IDkuODg0NzcgMC45NjA5MzggOS41NTI3M0MwLjgxNjQwNiA5LjIxNjggMC43NDQxNDEgOC44MTQ0NSAwLjc0NDE0MSA4LjM0NTdIMi4zNzg5MUMyLjM3ODkxIDguNjI2OTUgMi40MTk5MiA4Ljg2MzI4IDIuNTAxOTUgOS4wNTQ2OUMyLjU4Mzk4IDkuMjQyMTkgMi42ODk0NSA5LjM5MjU4IDIuODE4MzYgOS41MDU4NkMyLjk1MTE3IDkuNjE1MjMgMy4xMDE1NiA5LjY5MzM2IDMuMjY5NTMgOS43NDAyM0MzLjQzNzUgOS43ODcxMSAzLjYwOTM4IDkuODEwNTUgMy43ODUxNiA5LjgxMDU1QzQuMjAzMTIgOS44MTA1NSA0LjUxOTUzIDkuNzEyODkgNC43MzQzOCA5LjUxNzU4QzQuOTQ5MjIgOS4zMjIyNyA1LjA1NjY0IDkuMDcwMzEgNS4wNTY2NCA4Ljc2MTcyWk0xMy40MTggMTIuMjcxNUg4LjA3NDIyVjExSDEzLjQxOFYxMi4yNzE1WicgdHJhbnNmb3JtPSd0cmFuc2xhdGUoMy45NTI2NCA2KScgZmlsbD0nd2hpdGUnLyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlxcbiAgICA8cmVjdCBjbGFzcz1cXFwianAtaWNvbjIganAtaWNvbi1zZWxlY3RhYmxlXFxcIiB3aWR0aD1cXFwiMjBcXFwiIGhlaWdodD1cXFwiMjBcXFwiIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDIgMilcXFwiIGZpbGw9XFxcIiMzMzMzMzNcXFwiLz5cXG4gICAgPHBhdGggY2xhc3M9XFxcImpwLWljb24tYWNjZW50MiBqcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZVxcXCIgZD1cXFwiTTUuMDU2NjQgOC43NjE3MkM1LjA1NjY0IDguNTk3NjYgNS4wMzEyNSA4LjQ1MzEyIDQuOTgwNDcgOC4zMjgxMkM0LjkzMzU5IDguMTk5MjIgNC44NTU0NyA4LjA4MjAzIDQuNzQ2MDkgNy45NzY1NkM0LjY0MDYyIDcuODcxMDkgNC41IDcuNzc1MzkgNC4zMjQyMiA3LjY4OTQ1QzQuMTUyMzQgNy41OTk2MSAzLjk0MzM2IDcuNTExNzIgMy42OTcyNyA3LjQyNTc4QzMuMzAyNzMgNy4yODUxNiAyLjk0MzM2IDcuMTM2NzIgMi42MTkxNCA2Ljk4MDQ3QzIuMjk0OTIgNi44MjQyMiAyLjAxNzU4IDYuNjQyNTggMS43ODcxMSA2LjQzNTU1QzEuNTYwNTUgNi4yMjg1MiAxLjM4NDc3IDUuOTg4MjggMS4yNTk3NyA1LjcxNDg0QzEuMTM0NzcgNS40Mzc1IDEuMDcyMjcgNS4xMDkzOCAxLjA3MjI3IDQuNzMwNDdDMS4wNzIyNyA0LjM5ODQ0IDEuMTI4OTEgNC4wOTU3IDEuMjQyMTkgMy44MjIyN0MxLjM1NTQ3IDMuNTQ0OTIgMS41MTU2MiAzLjMwNDY5IDEuNzIyNjYgMy4xMDE1NkMxLjkyOTY5IDIuODk4NDQgMi4xNzk2OSAyLjczNDM3IDIuNDcyNjYgMi42MDkzOEMyLjc2NTYyIDIuNDg0MzggMy4wOTE4IDIuNDA0MyAzLjQ1MTE3IDIuMzY5MTRWMS4xMDkzOEg0LjM4ODY3VjIuMzgwODZDNC43NDAyMyAyLjQyNzczIDUuMDU2NjQgMi41MjM0NCA1LjMzNzg5IDIuNjY3OTdDNS42MTkxNCAyLjgxMjUgNS44NTc0MiAzLjAwMTk1IDYuMDUyNzMgMy4yMzYzM0M2LjI1MTk1IDMuNDY2OCA2LjQwNDMgMy43NDAyMyA2LjUwOTc3IDQuMDU2NjRDNi42MTkxNCA0LjM2OTE0IDYuNjczODMgNC43MjA3IDYuNjczODMgNS4xMTEzM0g1LjA0NDkyQzUuMDQ0OTIgNC42Mzg2NyA0LjkzNzUgNC4yODEyNSA0LjcyMjY2IDQuMDM5MDZDNC41MDc4MSAzLjc5Mjk3IDQuMjE2OCAzLjY2OTkyIDMuODQ5NjEgMy42Njk5MkMzLjY1MDM5IDMuNjY5OTIgMy40NzY1NiAzLjY5NzI3IDMuMzI4MTIgMy43NTE5NUMzLjE4MzU5IDMuODAyNzMgMy4wNjQ0NSAzLjg3Njk1IDIuOTcwNyAzLjk3NDYxQzIuODc2OTUgNC4wNjgzNiAyLjgwNjY0IDQuMTc5NjkgMi43NTk3NyA0LjMwODU5QzIuNzE2OCA0LjQzNzUgMi42OTUzMSA0LjU3ODEyIDIuNjk1MzEgNC43MzA0N0MyLjY5NTMxIDQuODgyODEgMi43MTY4IDUuMDE5NTMgMi43NTk3NyA1LjE0MDYyQzIuODA2NjQgNS4yNTc4MSAyLjg4MjgxIDUuMzY3MTkgMi45ODgyOCA1LjQ2ODc1QzMuMDk3NjYgNS41NzAzMSAzLjI0MDIzIDUuNjY3OTcgMy40MTYwMiA1Ljc2MTcyQzMuNTkxOCA1Ljg1MTU2IDMuODEwNTUgNS45NDMzNiA0LjA3MjI3IDYuMDM3MTFDNC40NjY4IDYuMTg1NTUgNC44MjQyMiA2LjMzOTg0IDUuMTQ0NTMgNi41QzUuNDY0ODQgNi42NTYyNSA1LjczODI4IDYuODM5ODQgNS45NjQ4NCA3LjA1MDc4QzYuMTk1MzEgNy4yNTc4MSA2LjM3MTA5IDcuNSA2LjQ5MjE5IDcuNzc3MzRDNi42MTcxOSA4LjA1MDc4IDYuNjc5NjkgOC4zNzUgNi42Nzk2OSA4Ljc1QzYuNjc5NjkgOS4wOTM3NSA2LjYyMzA1IDkuNDA0MyA2LjUwOTc3IDkuNjgxNjRDNi4zOTY0OCA5Ljk1NTA4IDYuMjM0MzggMTAuMTkxNCA2LjAyMzQ0IDEwLjM5MDZDNS44MTI1IDEwLjU4OTggNS41NTg1OSAxMC43NSA1LjI2MTcyIDEwLjg3MTFDNC45NjQ4NCAxMC45ODgzIDQuNjMyODEgMTEuMDY0NSA0LjI2NTYyIDExLjA5OTZWMTIuMjQ4SDMuMzMzOThWMTEuMDk5NkMzLjAwMTk1IDExLjA2ODQgMi42Nzk2OSAxMC45OTYxIDIuMzY3MTkgMTAuODgyOEMyLjA1NDY5IDEwLjc2NTYgMS43NzczNCAxMC41OTc3IDEuNTM1MTYgMTAuMzc4OUMxLjI5Njg4IDEwLjE2MDIgMS4xMDU0NyA5Ljg4NDc3IDAuOTYwOTM4IDkuNTUyNzNDMC44MTY0MDYgOS4yMTY4IDAuNzQ0MTQxIDguODE0NDUgMC43NDQxNDEgOC4zNDU3SDIuMzc4OTFDMi4zNzg5MSA4LjYyNjk1IDIuNDE5OTIgOC44NjMyOCAyLjUwMTk1IDkuMDU0NjlDMi41ODM5OCA5LjI0MjE5IDIuNjg5NDUgOS4zOTI1OCAyLjgxODM2IDkuNTA1ODZDMi45NTExNyA5LjYxNTIzIDMuMTAxNTYgOS42OTMzNiAzLjI2OTUzIDkuNzQwMjNDMy40Mzc1IDkuNzg3MTEgMy42MDkzOCA5LjgxMDU1IDMuNzg1MTYgOS44MTA1NUM0LjIwMzEyIDkuODEwNTUgNC41MTk1MyA5LjcxMjg5IDQuNzM0MzggOS41MTc1OEM0Ljk0OTIyIDkuMzIyMjcgNS4wNTY2NCA5LjA3MDMxIDUuMDU2NjQgOC43NjE3MlpNMTMuNDE4IDEyLjI3MTVIOC4wNzQyMlYxMUgxMy40MThWMTIuMjcxNVpcXFwiIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDMuOTUyNjQgNilcXFwiIGZpbGw9XFxcIndoaXRlXFxcIi8+XFxuPC9zdmc+XFxuXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgQXJyYXlFeHQsIGVhY2gsIG1hcCwgdG9BcnJheSB9IGZyb20gJ0BsdW1pbm8vYWxnb3JpdGhtJztcbmltcG9ydCB7IFByb21pc2VEZWxlZ2F0ZSB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbmltcG9ydCB7IE1lc3NhZ2VMb29wIH0gZnJvbSAnQGx1bWluby9tZXNzYWdpbmcnO1xuaW1wb3J0IHsgUGFuZWxMYXlvdXQsIFBhbmVsLCBXaWRnZXQgfSBmcm9tICdAbHVtaW5vL3dpZGdldHMnO1xuaW1wb3J0IHsgU3R5bGluZyB9IGZyb20gJy4vc3R5bGluZyc7XG5pbXBvcnQgeyBSZWFjdFdpZGdldCB9IGZyb20gJy4vdmRvbSc7XG5pbXBvcnQgeyBXaWRnZXRUcmFja2VyIH0gZnJvbSAnLi93aWRnZXR0cmFja2VyJztcbi8qKlxuICogQ3JlYXRlIGFuZCBzaG93IGEgZGlhbG9nLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGRpYWxvZyBzZXR1cCBvcHRpb25zLlxuICpcbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggd2hldGhlciB0aGUgZGlhbG9nIHdhcyBhY2NlcHRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dEaWFsb2cob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGRpYWxvZyA9IG5ldyBEaWFsb2cob3B0aW9ucyk7XG4gICAgcmV0dXJuIGRpYWxvZy5sYXVuY2goKTtcbn1cbi8qKlxuICogU2hvdyBhbiBlcnJvciBtZXNzYWdlIGRpYWxvZy5cbiAqXG4gKiBAcGFyYW0gdGl0bGUgLSBUaGUgdGl0bGUgb2YgdGhlIGRpYWxvZyBib3guXG4gKlxuICogQHBhcmFtIGVycm9yIC0gdGhlIGVycm9yIHRvIHNob3cgaW4gdGhlIGRpYWxvZyBib2R5IChlaXRoZXIgYSBzdHJpbmdcbiAqICAgb3IgYW4gb2JqZWN0IHdpdGggYSBzdHJpbmcgYG1lc3NhZ2VgIHByb3BlcnR5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dFcnJvck1lc3NhZ2UodGl0bGUsIGVycm9yLCBidXR0b25zID0gW1xuICAgIERpYWxvZy5va0J1dHRvbih7IGxhYmVsOiAnRGlzbWlzcycgfSlcbl0pIHtcbiAgICBjb25zb2xlLndhcm4oJ1Nob3dpbmcgZXJyb3I6JywgZXJyb3IpO1xuICAgIC8vIENhY2hlIHByb21pc2VzIHRvIHByZXZlbnQgbXVsdGlwbGUgY29waWVzIG9mIGlkZW50aWNhbCBkaWFsb2dzIHNob3dpbmdcbiAgICAvLyB0byB0aGUgdXNlci5cbiAgICBsZXQgYm9keSA9IHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycgPyBlcnJvciA6IGVycm9yLm1lc3NhZ2U7XG4gICAgbGV0IGtleSA9IHRpdGxlICsgJy0tLS0nICsgYm9keTtcbiAgICBsZXQgcHJvbWlzZSA9IFByaXZhdGUuZXJyb3JNZXNzYWdlUHJvbWlzZUNhY2hlLmdldChrZXkpO1xuICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IGRpYWxvZ1Byb21pc2UgPSBzaG93RGlhbG9nKHtcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICBidXR0b25zOiBidXR0b25zXG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgUHJpdmF0ZS5lcnJvck1lc3NhZ2VQcm9taXNlQ2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE86IFVzZSAuZmluYWxseSgpIGFib3ZlIHdoZW4gc3VwcG9ydGVkXG4gICAgICAgICAgICBQcml2YXRlLmVycm9yTWVzc2FnZVByb21pc2VDYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICAgICAgUHJpdmF0ZS5lcnJvck1lc3NhZ2VQcm9taXNlQ2FjaGUuc2V0KGtleSwgZGlhbG9nUHJvbWlzZSk7XG4gICAgICAgIHJldHVybiBkaWFsb2dQcm9taXNlO1xuICAgIH1cbn1cbi8qKlxuICogQSBtb2RhbCBkaWFsb2cgd2lkZ2V0LlxuICovXG5leHBvcnQgY2xhc3MgRGlhbG9nIGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBkaWFsb2cgcGFuZWwgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBkaWFsb2cgc2V0dXAgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZm9jdXNOb2RlU2VsZWN0b3IgPSAnJztcbiAgICAgICAgdGhpcy5hZGRDbGFzcygnanAtRGlhbG9nJyk7XG4gICAgICAgIGxldCBub3JtYWxpemVkID0gUHJpdmF0ZS5oYW5kbGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBsZXQgcmVuZGVyZXIgPSBub3JtYWxpemVkLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLl9ob3N0ID0gbm9ybWFsaXplZC5ob3N0O1xuICAgICAgICB0aGlzLl9kZWZhdWx0QnV0dG9uID0gbm9ybWFsaXplZC5kZWZhdWx0QnV0dG9uO1xuICAgICAgICB0aGlzLl9idXR0b25zID0gbm9ybWFsaXplZC5idXR0b25zO1xuICAgICAgICB0aGlzLl9idXR0b25Ob2RlcyA9IHRvQXJyYXkobWFwKHRoaXMuX2J1dHRvbnMsIGJ1dHRvbiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyZXIuY3JlYXRlQnV0dG9uTm9kZShidXR0b24pO1xuICAgICAgICB9KSk7XG4gICAgICAgIGxldCBsYXlvdXQgPSAodGhpcy5sYXlvdXQgPSBuZXcgUGFuZWxMYXlvdXQoKSk7XG4gICAgICAgIGxldCBjb250ZW50ID0gbmV3IFBhbmVsKCk7XG4gICAgICAgIGNvbnRlbnQuYWRkQ2xhc3MoJ2pwLURpYWxvZy1jb250ZW50Jyk7XG4gICAgICAgIGxheW91dC5hZGRXaWRnZXQoY29udGVudCk7XG4gICAgICAgIHRoaXMuX2JvZHkgPSBub3JtYWxpemVkLmJvZHk7XG4gICAgICAgIGxldCBoZWFkZXIgPSByZW5kZXJlci5jcmVhdGVIZWFkZXIobm9ybWFsaXplZC50aXRsZSk7XG4gICAgICAgIGxldCBib2R5ID0gcmVuZGVyZXIuY3JlYXRlQm9keShub3JtYWxpemVkLmJvZHkpO1xuICAgICAgICBsZXQgZm9vdGVyID0gcmVuZGVyZXIuY3JlYXRlRm9vdGVyKHRoaXMuX2J1dHRvbk5vZGVzKTtcbiAgICAgICAgY29udGVudC5hZGRXaWRnZXQoaGVhZGVyKTtcbiAgICAgICAgY29udGVudC5hZGRXaWRnZXQoYm9keSk7XG4gICAgICAgIGNvbnRlbnQuYWRkV2lkZ2V0KGZvb3Rlcik7XG4gICAgICAgIHRoaXMuX3ByaW1hcnkgPSB0aGlzLl9idXR0b25Ob2Rlc1t0aGlzLl9kZWZhdWx0QnV0dG9uXTtcbiAgICAgICAgdGhpcy5fZm9jdXNOb2RlU2VsZWN0b3IgPSBvcHRpb25zLmZvY3VzTm9kZVNlbGVjdG9yO1xuICAgICAgICAvLyBBZGQgbmV3IGRpYWxvZ3MgdG8gdGhlIHRyYWNrZXIuXG4gICAgICAgIHZvaWQgRGlhbG9nLnRyYWNrZXIuYWRkKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgdXNlZCBieSB0aGUgZGlhbG9nLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLl9wcm9taXNlO1xuICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICBwcm9taXNlLnJlamVjdCh2b2lkIDApO1xuICAgICAgICAgICAgQXJyYXlFeHQucmVtb3ZlRmlyc3RPZihQcml2YXRlLmxhdW5jaFF1ZXVlLCBwcm9taXNlLnByb21pc2UpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGF1bmNoIHRoZSBkaWFsb2cgYXMgYSBtb2RhbCB3aW5kb3cuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGRpYWxvZy5cbiAgICAgKi9cbiAgICBsYXVuY2goKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgZXhpc3RpbmcgZGlhbG9nIGlmIGFscmVhZHkgb3Blbi5cbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlLnByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzZSA9ICh0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2VEZWxlZ2F0ZSgpKTtcbiAgICAgICAgbGV0IHByb21pc2VzID0gUHJvbWlzZS5hbGwoUHJpdmF0ZS5sYXVuY2hRdWV1ZSk7XG4gICAgICAgIFByaXZhdGUubGF1bmNoUXVldWUucHVzaCh0aGlzLl9wcm9taXNlLnByb21pc2UpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZXMudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBXaWRnZXQuYXR0YWNoKHRoaXMsIHRoaXMuX2hvc3QpO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UucHJvbWlzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgdGhlIGN1cnJlbnQgZGlhbG9nLlxuICAgICAqXG4gICAgICogQHBhcmFtIGluZGV4IC0gQW4gb3B0aW9uYWwgaW5kZXggdG8gdGhlIGJ1dHRvbiB0byByZXNvbHZlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFdpbGwgZGVmYXVsdCB0byB0aGUgZGVmYXVsdEluZGV4LlxuICAgICAqIFdpbGwgcmVzb2x2ZSB0aGUgY3VycmVudCBgc2hvdygpYCB3aXRoIHRoZSBidXR0b24gdmFsdWUuXG4gICAgICogV2lsbCBiZSBhIG5vLW9wIGlmIHRoZSBkaWFsb2cgaXMgbm90IHNob3duLlxuICAgICAqL1xuICAgIHJlc29sdmUoaW5kZXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fZGVmYXVsdEJ1dHRvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuX2J1dHRvbnNbaW5kZXhdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVqZWN0IHRoZSBjdXJyZW50IGRpYWxvZyB3aXRoIGEgZGVmYXVsdCByZWplY3QgdmFsdWUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogV2lsbCBiZSBhIG5vLW9wIGlmIHRoZSBkaWFsb2cgaXMgbm90IHNob3duLlxuICAgICAqL1xuICAgIHJlamVjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzb2x2ZShEaWFsb2cuY2FuY2VsQnV0dG9uKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIERPTSBldmVudHMgZm9yIHRoZSBkaXJlY3RvcnkgbGlzdGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBET00gZXZlbnQgc2VudCB0byB0aGUgd2lkZ2V0LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgbWV0aG9kIGltcGxlbWVudHMgdGhlIERPTSBgRXZlbnRMaXN0ZW5lcmAgaW50ZXJmYWNlIGFuZCBpc1xuICAgICAqIGNhbGxlZCBpbiByZXNwb25zZSB0byBldmVudHMgb24gdGhlIHBhbmVsJ3MgRE9NIG5vZGUuIEl0IHNob3VsZFxuICAgICAqIG5vdCBiZSBjYWxsZWQgZGlyZWN0bHkgYnkgdXNlciBjb2RlLlxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAna2V5ZG93bic6XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZ0S2V5ZG93bihldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjbGljayc6XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZ0Q2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZm9jdXMnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2V2dEZvY3VzKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRleHRtZW51JzpcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiAgQSBtZXNzYWdlIGhhbmRsZXIgaW52b2tlZCBvbiBhbiBgJ2FmdGVyLWF0dGFjaCdgIG1lc3NhZ2UuXG4gICAgICovXG4gICAgb25BZnRlckF0dGFjaChtc2cpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZTtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcywgdHJ1ZSk7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMsIHRydWUpO1xuICAgICAgICB0aGlzLl9maXJzdCA9IFByaXZhdGUuZmluZEZpcnN0Rm9jdXNhYmxlKHRoaXMubm9kZSk7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMuX2ZvY3VzTm9kZVNlbGVjdG9yKSB7XG4gICAgICAgICAgICBsZXQgYm9keSA9IHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKCcuanAtRGlhbG9nLWJvZHknKTtcbiAgICAgICAgICAgIGxldCBlbCA9IChfYSA9IGJvZHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKHRoaXMuX2ZvY3VzTm9kZVNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByaW1hcnkgPSBlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcmltYXJ5LmZvY3VzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBBIG1lc3NhZ2UgaGFuZGxlciBpbnZva2VkIG9uIGFuIGAnYWZ0ZXItZGV0YWNoJ2AgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBvbkFmdGVyRGV0YWNoKG1zZykge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMubm9kZTtcbiAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcywgdHJ1ZSk7XG4gICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMsIHRydWUpO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbC5mb2N1cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1lc3NhZ2UgaGFuZGxlciBpbnZva2VkIG9uIGEgYCdjbG9zZS1yZXF1ZXN0J2AgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBvbkNsb3NlUmVxdWVzdChtc2cpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIub25DbG9zZVJlcXVlc3QobXNnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBgJ2NsaWNrJ2AgZXZlbnQgZm9yIGEgZGlhbG9nIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBET00gZXZlbnQgc2VudCB0byB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgX2V2dENsaWNrKGV2ZW50KSB7XG4gICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5ub2RlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2pwLURpYWxvZy1jb250ZW50JylbMF07XG4gICAgICAgIGlmICghY29udGVudC5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLnJlamVjdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGJ1dHRvbk5vZGUgb2YgdGhpcy5fYnV0dG9uTm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChidXR0b25Ob2RlLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9idXR0b25Ob2Rlcy5pbmRleE9mKGJ1dHRvbk5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZShpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBgJ2tleWRvd24nYCBldmVudCBmb3IgdGhlIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBET00gZXZlbnQgc2VudCB0byB0aGUgd2lkZ2V0XG4gICAgICovXG4gICAgX2V2dEtleWRvd24oZXZlbnQpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGVzY2FwZSBrZXlcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDI3OiAvLyBFc2NhcGUuXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA5OiAvLyBUYWIuXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGEgdGFiIG9uIHRoZSBsYXN0IGJ1dHRvbi5cbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX2J1dHRvbk5vZGVzW3RoaXMuX2J1dHRvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IG5vZGUgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9maXJzdC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTM6IC8vIEVudGVyLlxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgYCdmb2N1cydgIGV2ZW50IGZvciB0aGUgd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIERPTSBldmVudCBzZW50IHRvIHRoZSB3aWRnZXRcbiAgICAgKi9cbiAgICBfZXZ0Rm9jdXMoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKCF0aGlzLm5vZGUuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25Ob2Rlc1t0aGlzLl9kZWZhdWx0QnV0dG9uXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYSBidXR0b24gaXRlbS5cbiAgICAgKi9cbiAgICBfcmVzb2x2ZShidXR0b24pIHtcbiAgICAgICAgLy8gUHJldmVudCBsb29wYmFjay5cbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2U7XG4gICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG51bGw7XG4gICAgICAgIEFycmF5RXh0LnJlbW92ZUZpcnN0T2YoUHJpdmF0ZS5sYXVuY2hRdWV1ZSwgcHJvbWlzZS5wcm9taXNlKTtcbiAgICAgICAgbGV0IGJvZHkgPSB0aGlzLl9ib2R5O1xuICAgICAgICBsZXQgdmFsdWUgPSBudWxsO1xuICAgICAgICBpZiAoYnV0dG9uLmFjY2VwdCAmJlxuICAgICAgICAgICAgYm9keSBpbnN0YW5jZW9mIFdpZGdldCAmJlxuICAgICAgICAgICAgdHlwZW9mIGJvZHkuZ2V0VmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYm9keS5nZXRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICBwcm9taXNlLnJlc29sdmUoeyBidXR0b24sIHZhbHVlIH0pO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgRGlhbG9nIGNsYXNzIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoRGlhbG9nKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgYnV0dG9uIGl0ZW0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQnV0dG9uKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlLmFjY2VwdCA9IHZhbHVlLmFjY2VwdCAhPT0gZmFsc2U7XG4gICAgICAgIGxldCBkZWZhdWx0TGFiZWwgPSB2YWx1ZS5hY2NlcHQgPyAnT0snIDogJ0NhbmNlbCc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYWJlbDogdmFsdWUubGFiZWwgfHwgZGVmYXVsdExhYmVsLFxuICAgICAgICAgICAgaWNvbkNsYXNzOiB2YWx1ZS5pY29uQ2xhc3MgfHwgJycsXG4gICAgICAgICAgICBpY29uTGFiZWw6IHZhbHVlLmljb25MYWJlbCB8fCAnJyxcbiAgICAgICAgICAgIGNhcHRpb246IHZhbHVlLmNhcHRpb24gfHwgJycsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHZhbHVlLmNsYXNzTmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGFjY2VwdDogdmFsdWUuYWNjZXB0LFxuICAgICAgICAgICAgZGlzcGxheVR5cGU6IHZhbHVlLmRpc3BsYXlUeXBlIHx8ICdkZWZhdWx0J1xuICAgICAgICB9O1xuICAgIH1cbiAgICBEaWFsb2cuY3JlYXRlQnV0dG9uID0gY3JlYXRlQnV0dG9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHJlamVjdCBidXR0b24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FuY2VsQnV0dG9uKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBvcHRpb25zLmFjY2VwdCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gY3JlYXRlQnV0dG9uKG9wdGlvbnMpO1xuICAgIH1cbiAgICBEaWFsb2cuY2FuY2VsQnV0dG9uID0gY2FuY2VsQnV0dG9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBhY2NlcHQgYnV0dG9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9rQnV0dG9uKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBvcHRpb25zLmFjY2VwdCA9IHRydWU7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdXR0b24ob3B0aW9ucyk7XG4gICAgfVxuICAgIERpYWxvZy5va0J1dHRvbiA9IG9rQnV0dG9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHdhcm4gYnV0dG9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdhcm5CdXR0b24ob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIG9wdGlvbnMuZGlzcGxheVR5cGUgPSAnd2Fybic7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdXR0b24ob3B0aW9ucyk7XG4gICAgfVxuICAgIERpYWxvZy53YXJuQnV0dG9uID0gd2FybkJ1dHRvbjtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBhbGwgZGlhbG9nIGluc3RhbmNlcy5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gdGVzdHMgb3IgY2FzZXMgd2hlcmUgYXBwbGljYXRpb24gc3RhdGVcbiAgICAgKiBtYXkgYmUgZGlzY2FyZGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICBEaWFsb2cudHJhY2tlci5mb3JFYWNoKGRpYWxvZyA9PiB7XG4gICAgICAgICAgICBkaWFsb2cuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgRGlhbG9nLmZsdXNoID0gZmx1c2g7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYSBkaWFsb2cgcmVuZGVyZXIuXG4gICAgICovXG4gICAgY2xhc3MgUmVuZGVyZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIHRoZSBoZWFkZXIgb2YgdGhlIGRpYWxvZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHRpdGxlIC0gVGhlIHRpdGxlIG9mIHRoZSBkaWFsb2cuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIEEgd2lkZ2V0IGZvciB0aGUgZGlhbG9nIGhlYWRlci5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUhlYWRlcih0aXRsZSkge1xuICAgICAgICAgICAgbGV0IGhlYWRlcjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGl0bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gbmV3IFdpZGdldCh7IG5vZGU6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSB9KTtcbiAgICAgICAgICAgICAgICBoZWFkZXIubm9kZS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gUmVhY3RXaWRnZXQuY3JlYXRlKHRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlYWRlci5hZGRDbGFzcygnanAtRGlhbG9nLWhlYWRlcicpO1xuICAgICAgICAgICAgU3R5bGluZy5zdHlsZU5vZGUoaGVhZGVyLm5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlcjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIHRoZSBib2R5IG9mIHRoZSBkaWFsb2cuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBpbnB1dCB2YWx1ZSBmb3IgdGhlIGJvZHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIEEgd2lkZ2V0IGZvciB0aGUgYm9keS5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUJvZHkodmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBib2R5O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBib2R5ID0gbmV3IFdpZGdldCh7IG5vZGU6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSB9KTtcbiAgICAgICAgICAgICAgICBib2R5Lm5vZGUudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgV2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IFJlYWN0V2lkZ2V0LmNyZWF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gSW1tZWRpYXRlbHkgdXBkYXRlIHRoZSBib2R5IGV2ZW4gdGhvdWdoIGl0IGhhcyBub3QgeWV0IGF0dGFjaGVkIGluXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgdG8gdHJpZ2dlciBhIHJlbmRlciBvZiB0aGUgRE9NIG5vZGVzIGZyb20gdGhlIFJlYWN0IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgTWVzc2FnZUxvb3Auc2VuZE1lc3NhZ2UoYm9keSwgV2lkZ2V0Lk1zZy5VcGRhdGVSZXF1ZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHkuYWRkQ2xhc3MoJ2pwLURpYWxvZy1ib2R5Jyk7XG4gICAgICAgICAgICBTdHlsaW5nLnN0eWxlTm9kZShib2R5Lm5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSB0aGUgZm9vdGVyIG9mIHRoZSBkaWFsb2cuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBidXR0b25Ob2RlcyAtIFRoZSBidXR0b25zIG5vZGVzIHRvIGFkZCB0byB0aGUgZm9vdGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyBBIHdpZGdldCBmb3IgdGhlIGZvb3Rlci5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUZvb3RlcihidXR0b25zKSB7XG4gICAgICAgICAgICBsZXQgZm9vdGVyID0gbmV3IFdpZGdldCgpO1xuICAgICAgICAgICAgZm9vdGVyLmFkZENsYXNzKCdqcC1EaWFsb2ctZm9vdGVyJyk7XG4gICAgICAgICAgICBlYWNoKGJ1dHRvbnMsIGJ1dHRvbiA9PiB7XG4gICAgICAgICAgICAgICAgZm9vdGVyLm5vZGUuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgU3R5bGluZy5zdHlsZU5vZGUoZm9vdGVyLm5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIGZvb3RlcjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgYnV0dG9uIG5vZGUgZm9yIHRoZSBkaWFsb2cuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBidXR0b24gLSBUaGUgYnV0dG9uIGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIEEgbm9kZSBmb3IgdGhlIGJ1dHRvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUJ1dHRvbk5vZGUoYnV0dG9uKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBlLmNsYXNzTmFtZSA9IHRoaXMuY3JlYXRlSXRlbUNsYXNzKGJ1dHRvbik7XG4gICAgICAgICAgICBlLmFwcGVuZENoaWxkKHRoaXMucmVuZGVySWNvbihidXR0b24pKTtcbiAgICAgICAgICAgIGUuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJMYWJlbChidXR0b24pKTtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgdGhlIGNsYXNzIG5hbWUgZm9yIHRoZSBidXR0b24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBkYXRhIC0gVGhlIGRhdGEgdG8gdXNlIGZvciB0aGUgY2xhc3MgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMgVGhlIGZ1bGwgY2xhc3MgbmFtZSBmb3IgdGhlIGJ1dHRvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUl0ZW1DbGFzcyhkYXRhKSB7XG4gICAgICAgICAgICAvLyBTZXR1cCB0aGUgaW5pdGlhbCBjbGFzcyBuYW1lLlxuICAgICAgICAgICAgbGV0IG5hbWUgPSAnanAtRGlhbG9nLWJ1dHRvbic7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIG90aGVyIHN0YXRlIGNsYXNzZXMuXG4gICAgICAgICAgICBpZiAoZGF0YS5hY2NlcHQpIHtcbiAgICAgICAgICAgICAgICBuYW1lICs9ICcganAtbW9kLWFjY2VwdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuYW1lICs9ICcganAtbW9kLXJlamVjdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5kaXNwbGF5VHlwZSA9PT0gJ3dhcm4nKSB7XG4gICAgICAgICAgICAgICAgbmFtZSArPSAnIGpwLW1vZC13YXJuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFkZCB0aGUgZXh0cmEgY2xhc3MuXG4gICAgICAgICAgICBsZXQgZXh0cmEgPSBkYXRhLmNsYXNzTmFtZTtcbiAgICAgICAgICAgIGlmIChleHRyYSkge1xuICAgICAgICAgICAgICAgIG5hbWUgKz0gYCAke2V4dHJhfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIGNvbXBsZXRlIGNsYXNzIG5hbWUuXG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIGFuIGljb24gZWxlbWVudCBmb3IgYSBkaWFsb2cgaXRlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSB0byB1c2UgZm9yIHJlbmRlcmluZyB0aGUgaWNvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMgQW4gSFRNTCBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgaWNvbi5cbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlckljb24oZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZS5jbGFzc05hbWUgPSB0aGlzLmNyZWF0ZUljb25DbGFzcyhkYXRhKTtcbiAgICAgICAgICAgIGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YS5pY29uTGFiZWwpKTtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgdGhlIGNsYXNzIG5hbWUgZm9yIHRoZSBidXR0b24gaWNvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSB0byB1c2UgZm9yIHRoZSBjbGFzcyBuYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgZnVsbCBjbGFzcyBuYW1lIGZvciB0aGUgaXRlbSBpY29uLlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlSWNvbkNsYXNzKGRhdGEpIHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gJ2pwLURpYWxvZy1idXR0b25JY29uJztcbiAgICAgICAgICAgIGxldCBleHRyYSA9IGRhdGEuaWNvbkNsYXNzO1xuICAgICAgICAgICAgcmV0dXJuIGV4dHJhID8gYCR7bmFtZX0gJHtleHRyYX1gIDogbmFtZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyIHRoZSBsYWJlbCBlbGVtZW50IGZvciBhIGJ1dHRvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSB0byB1c2UgZm9yIHJlbmRlcmluZyB0aGUgbGFiZWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIEFuIEhUTUwgZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIGl0ZW0gbGFiZWwuXG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXJMYWJlbChkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBlLmNsYXNzTmFtZSA9ICdqcC1EaWFsb2ctYnV0dG9uTGFiZWwnO1xuICAgICAgICAgICAgZS50aXRsZSA9IGRhdGEuY2FwdGlvbjtcbiAgICAgICAgICAgIGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YS5sYWJlbCkpO1xuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgRGlhbG9nLlJlbmRlcmVyID0gUmVuZGVyZXI7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgcmVuZGVyZXIgaW5zdGFuY2UuXG4gICAgICovXG4gICAgRGlhbG9nLmRlZmF1bHRSZW5kZXJlciA9IG5ldyBSZW5kZXJlcigpO1xuICAgIC8qKlxuICAgICAqIFRoZSBkaWFsb2cgd2lkZ2V0IHRyYWNrZXIuXG4gICAgICovXG4gICAgRGlhbG9nLnRyYWNrZXIgPSBuZXcgV2lkZ2V0VHJhY2tlcih7XG4gICAgICAgIG5hbWVzcGFjZTogJ0BqdXB5dGVybGFiL2FwcHV0aWxzOkRpYWxvZydcbiAgICB9KTtcbn0pKERpYWxvZyB8fCAoRGlhbG9nID0ge30pKTtcbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgbW9kdWxlIHByaXZhdGUgZGF0YS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcXVldWUgZm9yIGxhdW5jaGluZyBkaWFsb2dzLlxuICAgICAqL1xuICAgIFByaXZhdGUubGF1bmNoUXVldWUgPSBbXTtcbiAgICBQcml2YXRlLmVycm9yTWVzc2FnZVByb21pc2VDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGlucHV0IG9wdGlvbnMgZm9yIGEgZGlhbG9nLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgaW5wdXQgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IG9wdGlvbnMgb2JqZWN0IHdpdGggZGVmYXVsdHMgYXBwbGllZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVPcHRpb25zKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBsZXQgYnV0dG9ucyA9IG9wdGlvbnMuYnV0dG9ucyB8fCBbRGlhbG9nLmNhbmNlbEJ1dHRvbigpLCBEaWFsb2cub2tCdXR0b24oKV07XG4gICAgICAgIGxldCBkZWZhdWx0QnV0dG9uID0gYnV0dG9ucy5sZW5ndGggLSAxO1xuICAgICAgICBpZiAob3B0aW9ucy5kZWZhdWx0QnV0dG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlZmF1bHRCdXR0b24gPSBvcHRpb25zLmRlZmF1bHRCdXR0b247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiBvcHRpb25zLnRpdGxlIHx8ICcnLFxuICAgICAgICAgICAgYm9keTogb3B0aW9ucy5ib2R5IHx8ICcnLFxuICAgICAgICAgICAgaG9zdDogb3B0aW9ucy5ob3N0IHx8IGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgICBidXR0b25zLFxuICAgICAgICAgICAgZGVmYXVsdEJ1dHRvbixcbiAgICAgICAgICAgIHJlbmRlcmVyOiBvcHRpb25zLnJlbmRlcmVyIHx8IERpYWxvZy5kZWZhdWx0UmVuZGVyZXIsXG4gICAgICAgICAgICBmb2N1c05vZGVTZWxlY3Rvcjogb3B0aW9ucy5mb2N1c05vZGVTZWxlY3RvciB8fCAnJ1xuICAgICAgICB9O1xuICAgIH1cbiAgICBQcml2YXRlLmhhbmRsZU9wdGlvbnMgPSBoYW5kbGVPcHRpb25zO1xuICAgIC8qKlxuICAgICAqICBGaW5kIHRoZSBmaXJzdCBmb2N1c2FibGUgaXRlbSBpbiB0aGUgZGlhbG9nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRGaXJzdEZvY3VzYWJsZShub2RlKSB7XG4gICAgICAgIGxldCBjYW5kaWRhdGVTZWxlY3RvcnMgPSBbXG4gICAgICAgICAgICAnaW5wdXQnLFxuICAgICAgICAgICAgJ3NlbGVjdCcsXG4gICAgICAgICAgICAnYVtocmVmXScsXG4gICAgICAgICAgICAndGV4dGFyZWEnLFxuICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAnW3RhYmluZGV4XSdcbiAgICAgICAgXS5qb2luKCcsJyk7XG4gICAgICAgIHJldHVybiBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoY2FuZGlkYXRlU2VsZWN0b3JzKVswXTtcbiAgICB9XG4gICAgUHJpdmF0ZS5maW5kRmlyc3RGb2N1c2FibGUgPSBmaW5kRmlyc3RGb2N1c2FibGU7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpYWxvZy5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIHRvIGFsbCBob3ZlciBib3hlcy5cbiAqL1xuY29uc3QgSE9WRVJCT1hfQ0xBU1MgPSAnanAtSG92ZXJCb3gnO1xuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB0byBhIGhvdmVyaW5nIG5vZGUgdGhhdCBpcyBzY3JvbGxlZCBvdXQgb2Ygdmlldy5cbiAqL1xuY29uc3QgT1VUT0ZWSUVXX0NMQVNTID0gJ2pwLW1vZC1vdXRvZnZpZXcnO1xuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgYEhvdmVyQm94YCBtZW1iZXJzLlxuICovXG5leHBvcnQgdmFyIEhvdmVyQm94O1xuKGZ1bmN0aW9uIChIb3ZlckJveCkge1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdmlzaWJsZSBkaW1lbnNpb25zIG9mIGEgaG92ZXJpbmcgYm94IGFuY2hvcmVkIHRvIGFuIGVkaXRvciBjdXJzb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBob3ZlciBib3ggZ2VvbWV0cnkgY2FsY3VsYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRHZW9tZXRyeShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgYW5jaG9yLCBob3N0LCBub2RlLCBwcml2aWxlZ2UgfSA9IG9wdGlvbnM7XG4gICAgICAgIC8vIEFkZCBob3ZlciBib3ggY2xhc3MgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChIT1ZFUkJPWF9DTEFTUyk7XG4gICAgICAgIC8vIEhpZGUgdGhlIGhvdmVyIGJveCBiZWZvcmUgcXVlcnlpbmcgdGhlIERPTSBmb3IgdGhlIGFuY2hvciBjb29yZGluYXRlcy5cbiAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKE9VVE9GVklFV19DTEFTUyk7XG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGNvb3JkaW5hdGVzIGFyZSBub3QgdmlzaWJsZSwgYmFpbC5cbiAgICAgICAgaWYgKCFob3N0LmNvbnRhaW5zKGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoYW5jaG9yLmxlZnQsIGFuY2hvci50b3ApKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIGFueSBwcmV2aW91c2x5IHNldCBtYXgtaGVpZ2h0LlxuICAgICAgICBub2RlLnN0eWxlLm1heEhlaWdodCA9ICcnO1xuICAgICAgICAvLyBDbGVhciBhbnkgcHJvZ3JhbW1hdGljYWxseSBzZXQgbWFyZ2luLXRvcC5cbiAgICAgICAgbm9kZS5zdHlsZS5tYXJnaW5Ub3AgPSAnJztcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBub2RlIGlzIHZpc2libGUgc28gdGhhdCBpdHMgZGltZW5zaW9ucyBjYW4gYmUgcXVlcmllZC5cbiAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKE9VVE9GVklFV19DTEFTUyk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gb3B0aW9ucy5zdHlsZSB8fCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgaW5uZXJIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHNwYWNlQWJvdmUgPSBhbmNob3IudG9wO1xuICAgICAgICBjb25zdCBzcGFjZUJlbG93ID0gaW5uZXJIZWlnaHQgLSBhbmNob3IuYm90dG9tO1xuICAgICAgICBjb25zdCBtYXJnaW5Ub3AgPSBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3AsIDEwKSB8fCAwO1xuICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSBwYXJzZUludChzdHlsZS5taW5IZWlnaHQsIDEwKSB8fCBvcHRpb25zLm1pbkhlaWdodDtcbiAgICAgICAgbGV0IG1heEhlaWdodCA9IHBhcnNlSW50KHN0eWxlLm1heEhlaWdodCwgMTApIHx8IG9wdGlvbnMubWF4SGVpZ2h0O1xuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciB0byByZW5kZXIgYWJvdmUgb3IgYmVsb3c7IGNoZWNrIHByaXZpbGVnZS5cbiAgICAgICAgY29uc3QgcmVuZGVyQmVsb3cgPSBwcml2aWxlZ2UgPT09ICdmb3JjZUFib3ZlJ1xuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiBwcml2aWxlZ2UgPT09ICdmb3JjZUJlbG93J1xuICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgIDogcHJpdmlsZWdlID09PSAnYWJvdmUnXG4gICAgICAgICAgICAgICAgICAgID8gc3BhY2VBYm92ZSA8IG1heEhlaWdodCAmJiBzcGFjZUFib3ZlIDwgc3BhY2VCZWxvd1xuICAgICAgICAgICAgICAgICAgICA6IHNwYWNlQmVsb3cgPj0gbWF4SGVpZ2h0IHx8IHNwYWNlQmVsb3cgPj0gc3BhY2VBYm92ZTtcbiAgICAgICAgaWYgKHJlbmRlckJlbG93KSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBNYXRoLm1pbihzcGFjZUJlbG93IC0gbWFyZ2luVG9wLCBtYXhIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gTWF0aC5taW4oc3BhY2VBYm92ZSwgbWF4SGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBib3ggcmVuZGVycyBhYm92ZSB0aGUgdGV4dCwgaXRzIHRvcCBtYXJnaW4gaXMgaXJyZWxldmFudC5cbiAgICAgICAgICAgIG5vZGUuc3R5bGUubWFyZ2luVG9wID0gJzBweCc7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5zdHlsZS5tYXhIZWlnaHQgPSBgJHttYXhIZWlnaHR9cHhgO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGJveCBvdWdodCB0byBiZSB2aXNpYmxlLlxuICAgICAgICBjb25zdCB3aXRoaW5Cb3VuZHMgPSBtYXhIZWlnaHQgPiBtaW5IZWlnaHQgJiZcbiAgICAgICAgICAgIChzcGFjZUJlbG93ID49IG1pbkhlaWdodCB8fCBzcGFjZUFib3ZlID49IG1pbkhlaWdodCk7XG4gICAgICAgIGlmICghd2l0aGluQm91bmRzKSB7XG4gICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoT1VUT0ZWSUVXX0NMQVNTKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBQb3NpdGlvbiB0aGUgYm94IHZlcnRpY2FsbHkuXG4gICAgICAgIGNvbnN0IG9mZnNldEFib3ZlID0gKG9wdGlvbnMub2Zmc2V0ICYmXG4gICAgICAgICAgICBvcHRpb25zLm9mZnNldC52ZXJ0aWNhbCAmJlxuICAgICAgICAgICAgb3B0aW9ucy5vZmZzZXQudmVydGljYWwuYWJvdmUpIHx8XG4gICAgICAgICAgICAwO1xuICAgICAgICBjb25zdCBvZmZzZXRCZWxvdyA9IChvcHRpb25zLm9mZnNldCAmJlxuICAgICAgICAgICAgb3B0aW9ucy5vZmZzZXQudmVydGljYWwgJiZcbiAgICAgICAgICAgIG9wdGlvbnMub2Zmc2V0LnZlcnRpY2FsLmJlbG93KSB8fFxuICAgICAgICAgICAgMDtcbiAgICAgICAgY29uc3QgdG9wID0gcmVuZGVyQmVsb3dcbiAgICAgICAgICAgID8gaW5uZXJIZWlnaHQgLSBzcGFjZUJlbG93ICsgb2Zmc2V0QmVsb3dcbiAgICAgICAgICAgIDogc3BhY2VBYm92ZSAtIG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0ICsgb2Zmc2V0QWJvdmU7XG4gICAgICAgIG5vZGUuc3R5bGUudG9wID0gYCR7TWF0aC5mbG9vcih0b3ApfXB4YDtcbiAgICAgICAgLy8gUG9zaXRpb24gdGhlIGJveCBob3Jpem9udGFsbHkuXG4gICAgICAgIGNvbnN0IG9mZnNldEhvcml6b250YWwgPSAob3B0aW9ucy5vZmZzZXQgJiYgb3B0aW9ucy5vZmZzZXQuaG9yaXpvbnRhbCkgfHwgMDtcbiAgICAgICAgbGV0IGxlZnQgPSBhbmNob3IubGVmdCArIG9mZnNldEhvcml6b250YWw7XG4gICAgICAgIG5vZGUuc3R5bGUubGVmdCA9IGAke01hdGguY2VpbChsZWZ0KX1weGA7XG4gICAgICAgIG5vZGUuc3R5bGUud2lkdGggPSAnYXV0byc7XG4gICAgICAgIC8vIEV4cGFuZCB0aGUgbWVudSB3aWR0aCBieSB0aGUgc2Nyb2xsYmFyIHNpemUsIGlmIHByZXNlbnQuXG4gICAgICAgIGlmIChub2RlLnNjcm9sbEhlaWdodCA+PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUud2lkdGggPSBgJHsyICogbm9kZS5vZmZzZXRXaWR0aCAtIG5vZGUuY2xpZW50V2lkdGh9YDtcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBNb3ZlIGxlZnQgdG8gZml0IGluIHRoZSB3aW5kb3cuXG4gICAgICAgIGxldCByaWdodCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XG4gICAgICAgIGlmIChyaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoKSB7XG4gICAgICAgICAgICBsZWZ0IC09IHJpZ2h0IC0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICBub2RlLnN0eWxlLmxlZnQgPSBgJHtNYXRoLmNlaWwobGVmdCl9cHhgO1xuICAgICAgICB9XG4gICAgfVxuICAgIEhvdmVyQm94LnNldEdlb21ldHJ5ID0gc2V0R2VvbWV0cnk7XG59KShIb3ZlckJveCB8fCAoSG92ZXJCb3ggPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG92ZXJib3guanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZXhwb3J0ICogZnJvbSAnLi9jb250ZXh0JztcbmV4cG9ydCAqIGZyb20gJy4vZGVmYXVsdCc7XG5leHBvcnQgKiBmcm9tICcuL21pbWVkb2N1bWVudCc7XG5leHBvcnQgKiBmcm9tICcuL3JlZ2lzdHJ5Jztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qKlxuICogVGhlIHNlc3Npb24gY29udGV4dCBkaWFsb2dzIHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgSVNlc3Npb25Db250ZXh0RGlhbG9ncyA9IG5ldyBUb2tlbignQGp1cHl0ZXJsYWIvYXBwdXRpbHM6SVNlc3Npb25Db250ZXh0RGlhbG9ncycpO1xuLyogdHNsaW50OmVuYWJsZSAqL1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qKlxuICogVGhlIHRoZW1lIG1hbmFnZXIgdG9rZW4uXG4gKi9cbmV4cG9ydCBjb25zdCBJVGhlbWVNYW5hZ2VyID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9hcHB1dGlsczpJVGhlbWVNYW5hZ2VyJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgdGV4dEl0ZW0gfSBmcm9tICcuL3RleHQnO1xuaW1wb3J0IHsgc3R5bGUgfSBmcm9tICd0eXBlc3R5bGUvbGliJztcbmltcG9ydCB2YXJzIGZyb20gJy4vdmFyaWFibGVzJztcbmltcG9ydCB7IHJpZ2h0VG9MZWZ0LCBsZWZ0VG9SaWdodCwgY2VudGVyZWRGbGV4IH0gZnJvbSAnLi9sYXlvdXQnO1xuY29uc3QgaXRlbVBhZGRpbmcgPSB7XG4gICAgcGFkZGluZ0xlZnQ6IHZhcnMuaXRlbVBhZGRpbmcsXG4gICAgcGFkZGluZ1JpZ2h0OiB2YXJzLml0ZW1QYWRkaW5nXG59O1xuY29uc3QgaW50ZXJhY3RpdmVIb3ZlciA9IHtcbiAgICAkbmVzdDoge1xuICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdmFycy5ob3ZlckNvbG9yXG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgY2xpY2tlZCA9IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHZhcnMuY2xpY2tDb2xvcixcbiAgICAkbmVzdDoge1xuICAgICAgICBbJy4nICsgdGV4dEl0ZW1dOiB7XG4gICAgICAgICAgICBjb2xvcjogdmFycy50ZXh0Q2xpY2tDb2xvclxuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBzdGF0dXNCYXIgPSBzdHlsZSh7XG4gICAgYmFja2dyb3VuZDogdmFycy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgbWluSGVpZ2h0OiB2YXJzLmhlaWdodCxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgIHBhZGRpbmdMZWZ0OiB2YXJzLnN0YXR1c0JhclBhZGRpbmcsXG4gICAgcGFkZGluZ1JpZ2h0OiB2YXJzLnN0YXR1c0JhclBhZGRpbmdcbn0sIGNlbnRlcmVkRmxleCk7XG5leHBvcnQgY29uc3Qgc2lkZSA9IHN0eWxlKGNlbnRlcmVkRmxleCk7XG5leHBvcnQgY29uc3QgbGVmdFNpZGUgPSBzdHlsZShsZWZ0VG9SaWdodCk7XG5leHBvcnQgY29uc3QgcmlnaHRTaWRlID0gc3R5bGUocmlnaHRUb0xlZnQpO1xuZXhwb3J0IGNvbnN0IGl0ZW0gPSBzdHlsZSh7XG4gICAgbWF4SGVpZ2h0OiB2YXJzLmhlaWdodCxcbiAgICBtYXJnaW5MZWZ0OiB2YXJzLml0ZW1NYXJnaW4sXG4gICAgbWFyZ2luUmlnaHQ6IHZhcnMuaXRlbU1hcmdpbixcbiAgICBoZWlnaHQ6IHZhcnMuaGVpZ2h0XG59LCBpdGVtUGFkZGluZyk7XG5leHBvcnQgY29uc3QgY2xpY2tlZEl0ZW0gPSBzdHlsZShjbGlja2VkKTtcbmV4cG9ydCBjb25zdCBpbnRlcmFjdGl2ZUl0ZW0gPSBzdHlsZShpbnRlcmFjdGl2ZUhvdmVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXR1c2Jhci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBqdXB5dGVybGFiL2NvcmV1dGlsc1wiKTtcbmNvbnN0IHNlcnZlcmNvbm5lY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9zZXJ2ZXJjb25uZWN0aW9uXCIpO1xuLyoqXG4gKiBUaGUgdXJsIGZvciB0aGUgbGFiIGJ1aWxkIHNlcnZpY2UuXG4gKi9cbmNvbnN0IEJVSUxEX1NFVFRJTkdTX1VSTCA9ICdhcGkvYnVpbGQnO1xuLyoqXG4gKiBUaGUgYnVpbGQgQVBJIHNlcnZpY2UgbWFuYWdlci5cbiAqL1xuY2xhc3MgQnVpbGRNYW5hZ2VyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgc2V0dGluZyBtYW5hZ2VyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX3VybCA9ICcnO1xuICAgICAgICB0aGlzLnNlcnZlclNldHRpbmdzID0gKF9hID0gb3B0aW9ucy5zZXJ2ZXJTZXR0aW5ncywgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSk7XG4gICAgICAgIGNvbnN0IHsgYmFzZVVybCwgYXBwVXJsIH0gPSB0aGlzLnNlcnZlclNldHRpbmdzO1xuICAgICAgICB0aGlzLl91cmwgPSBjb3JldXRpbHNfMS5VUkxFeHQuam9pbihiYXNlVXJsLCBhcHBVcmwsIEJVSUxEX1NFVFRJTkdTX1VSTCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0aGUgYnVpbGQgc2VydmljZSBpcyBhdmFpbGFibGUuXG4gICAgICovXG4gICAgZ2V0IGlzQXZhaWxhYmxlKCkge1xuICAgICAgICByZXR1cm4gY29yZXV0aWxzXzEuUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2J1aWxkQXZhaWxhYmxlJykudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdG8gY2hlY2sgYnVpbGQgc3RhdHVzIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgZ2V0IHNob3VsZENoZWNrKCkge1xuICAgICAgICByZXR1cm4gY29yZXV0aWxzXzEuUGFnZUNvbmZpZy5nZXRPcHRpb24oJ2J1aWxkQ2hlY2snKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB3aGV0aGVyIHRoZSBhcHBsaWNhdGlvbiBzaG91bGQgYmUgYnVpbHQuXG4gICAgICovXG4gICAgZ2V0U3RhdHVzKCkge1xuICAgICAgICBjb25zdCB7IF91cmwsIHNlcnZlclNldHRpbmdzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBwcm9taXNlID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QoX3VybCwge30sIHNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2VcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5zdGF0dXMgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5tZXNzYWdlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgKi9cbiAgICBidWlsZCgpIHtcbiAgICAgICAgY29uc3QgeyBfdXJsLCBzZXJ2ZXJTZXR0aW5ncyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaW5pdCA9IHsgbWV0aG9kOiAnUE9TVCcgfTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KF91cmwsIGluaXQsIHNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSwgJ0J1aWxkIGFib3J0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gYEJ1aWxkIGZhaWxlZCB3aXRoICR7cmVzcG9uc2Uuc3RhdHVzfSwgcGxlYXNlIHJ1biAnanVweXRlciBsYWIgYnVpbGQnIG9uIHRoZSBzZXJ2ZXIgZm9yIGZ1bGwgb3V0cHV0YDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYW4gYWN0aXZlIGJ1aWxkLlxuICAgICAqL1xuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgY29uc3QgeyBfdXJsLCBzZXJ2ZXJTZXR0aW5ncyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaW5pdCA9IHsgbWV0aG9kOiAnREVMRVRFJyB9O1xuICAgICAgICBjb25zdCBwcm9taXNlID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QoX3VybCwgaW5pdCwgc2VydmVyU2V0dGluZ3MpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwNCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5CdWlsZE1hbmFnZXIgPSBCdWlsZE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgSlNPTkV4dCB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbi8qKlxuICogVGhlIGNvbW1hbmQgZGF0YSBhdHRyaWJ1dGUgYWRkZWQgdG8gbm9kZXMgdGhhdCBhcmUgY29ubmVjdGVkLlxuICovXG5jb25zdCBDT01NQU5EX0FUVFIgPSAnY29tbWFuZGxpbmtlci1jb21tYW5kJztcbi8qKlxuICogVGhlIGFyZ3MgZGF0YSBhdHRyaWJ1dGUgYWRkZWQgdG8gbm9kZXMgdGhhdCBhcmUgY29ubmVjdGVkLlxuICovXG5jb25zdCBBUkdTX0FUVFIgPSAnY29tbWFuZGxpbmtlci1hcmdzJztcbi8qKlxuICogQSBzdGF0aWMgY2xhc3MgdGhhdCBwcm92aWRlcyBoZWxwZXIgbWV0aG9kcyB0byBnZW5lcmF0ZSBjbGlja2FibGUgbm9kZXMgdGhhdFxuICogZXhlY3V0ZSByZWdpc3RlcmVkIGNvbW1hbmRzIHdpdGggcHJlLXBvcHVsYXRlZCBhcmd1bWVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21tYW5kTGlua2VyIHtcbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIG5ldyBjb21tYW5kIGxpbmtlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29tbWFuZHMgPSBvcHRpb25zLmNvbW1hbmRzO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0aGUgbGlua2VyIGlzIGRpc3Bvc2VkLlxuICAgICAqL1xuICAgIGdldCBpc0Rpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIGxpbmtlci5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCBhIGNvbW1hbmQvYXJndW1lbnQgcGFpciB0byBhIGdpdmVuIG5vZGUgc28gdGhhdCB3aGVuIGl0IGlzIGNsaWNrZWQsXG4gICAgICogdGhlIGNvbW1hbmQgd2lsbCBleGVjdXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgbm9kZSBiZWluZyBjb25uZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tbWFuZCAtIFRoZSBjb21tYW5kIElEIHRvIGV4ZWN1dGUgdXBvbiBjbGljay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB3aXRoIHdoaWNoIHRvIGludm9rZSB0aGUgY29tbWFuZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBzYW1lIG5vZGUgdGhhdCB3YXMgcGFzc2VkIGluLCBhZnRlciBpdCBoYXMgYmVlbiBjb25uZWN0ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogT25seSBgY2xpY2tgIGV2ZW50cyB3aWxsIGV4ZWN1dGUgdGhlIGNvbW1hbmQgb24gYSBjb25uZWN0ZWQgbm9kZS4gU28sIHRoZXJlXG4gICAgICogYXJlIHR3byBjb25zaWRlcmF0aW9ucyB0aGF0IGFyZSByZWxldmFudDpcbiAgICAgKiAxLiBJZiBhIG5vZGUgaXMgY29ubmVjdGVkLCB0aGUgZGVmYXVsdCBjbGljayBhY3Rpb24gd2lsbCBiZSBwcmV2ZW50ZWQuXG4gICAgICogMi4gVGhlIGBIVE1MRWxlbWVudGAgcGFzc2VkIGluIHNob3VsZCBiZSBjbGlja2FibGUuXG4gICAgICovXG4gICAgY29ubmVjdE5vZGUobm9kZSwgY29tbWFuZCwgYXJncykge1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShgZGF0YS0ke0NPTU1BTkRfQVRUUn1gLCBjb21tYW5kKTtcbiAgICAgICAgaWYgKGFyZ3MgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYGRhdGEtJHtBUkdTX0FUVFJ9YCwgSlNPTi5zdHJpbmdpZnkoYXJncykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0IGEgbm9kZSB0aGF0IGhhcyBiZWVuIGNvbm5lY3RlZCB0byBleGVjdXRlIGEgY29tbWFuZCBvbiBjbGljay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIC0gVGhlIG5vZGUgYmVpbmcgZGlzY29ubmVjdGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHNhbWUgbm9kZSB0aGF0IHdhcyBwYXNzZWQgaW4sIGFmdGVyIGl0IGhhcyBiZWVuIGRpc2Nvbm5lY3RlZC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBzYWZlIHRvIGNhbGwgbXVsdGlwbGUgdGltZXMgYW5kIGlzIHNhZmUgdG8gY2FsbCBvbiBub2Rlc1xuICAgICAqIHRoYXQgd2VyZSBuZXZlciBjb25uZWN0ZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIG9uIHJlbmRlcmVkIHZpcnR1YWwgRE9NIG5vZGVzIHRoYXQgd2VyZSBwb3B1bGF0ZWRcbiAgICAgKiB1c2luZyB0aGUgYHBvcHVsYXRlVk5vZGVEYXRhc2V0YCBtZXRob2QgaW4gb3JkZXIgdG8gZGlzY29ubmVjdCB0aGVtIGZyb21cbiAgICAgKiBleGVjdXRpbmcgdGhlaXIgY29tbWFuZC9hcmd1bWVudCBwYWlyLlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3ROb2RlKG5vZGUpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYGRhdGEtJHtDT01NQU5EX0FUVFJ9YCk7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGBkYXRhLSR7QVJHU19BVFRSfWApO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBET00gZXZlbnRzIGZvciB0aGUgY29tbWFuZCBsaW5rZXIgaGVscGVyIGNsYXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIERPTSBldmVudCBzZW50IHRvIHRoZSBjbGFzcy5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIG1ldGhvZCBpbXBsZW1lbnRzIHRoZSBET00gYEV2ZW50TGlzdGVuZXJgIGludGVyZmFjZSBhbmQgaXNcbiAgICAgKiBjYWxsZWQgaW4gcmVzcG9uc2UgdG8gZXZlbnRzIG9uIHRoZSBwYW5lbCdzIERPTSBub2RlLiBJdCBzaG91bGRcbiAgICAgKiBub3QgYmUgY2FsbGVkIGRpcmVjdGx5IGJ5IHVzZXIgY29kZS5cbiAgICAgKi9cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9ldnRDbGljayhldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQb3B1bGF0ZSB0aGUgYGRhdGFzZXRgIGF0dHJpYnV0ZSB3aXRoaW4gdGhlIGNvbGxlY3Rpb24gb2YgYXR0cmlidXRlcyB1c2VkXG4gICAgICogdG8gaW5zdGFudGlhdGUgYSB2aXJ0dWFsIERPTSBub2RlIHdpdGggdGhlIHZhbHVlcyBuZWNlc3NhcnkgZm9yIGl0c1xuICAgICAqIHJlbmRlcmVkIERPTSBub2RlIHRvIHJlc3BvbmQgdG8gY2xpY2tzIGJ5IGV4ZWN1dGluZyBhIGNvbW1hbmQvYXJndW1lbnRcbiAgICAgKiBwYWlyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbW1hbmQgLSBUaGUgY29tbWFuZCBJRCB0byBleGVjdXRlIHVwb24gY2xpY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgd2l0aCB3aGljaCB0byBpbnZva2UgdGhlIGNvbW1hbmQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGBkYXRhc2V0YCBjb2xsZWN0aW9uIGZvciB1c2Ugd2l0aGluIHZpcnR1YWwgbm9kZSBhdHRyaWJ1dGVzLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSByZXR1cm4gdmFsdWUgY2FuIGJlIHVzZWQgb24gaXRzIG93biBhcyB0aGUgdmFsdWUgZm9yIHRoZSBgZGF0YXNldGBcbiAgICAgKiBhdHRyaWJ1dGUgb2YgYSB2aXJ0dWFsIGVsZW1lbnQsIG9yIGl0IGNhbiBiZSBhZGRlZCB0byBhbiBleGlzdGluZyBgZGF0YXNldGBcbiAgICAgKiBhcyBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBsZXQgY29tbWFuZCA9ICdzb21lOmNvbW1hbmQtaWQnO1xuICAgICAqIGxldCBhcmdzID0geyBhbHBoYTogJ2JldGEnIH07XG4gICAgICogbGV0IGFuY2hvciA9IGguYSh7XG4gICAgICogICBjbGFzc05hbWU6ICdzb21lLWNsYXNzJyxcbiAgICAgKiAgIGRhdGFzZXQ6IHtcbiAgICAgKiAgICAgZm9vOiAnMScsXG4gICAgICogICAgIGJhcjogJzInLFxuICAgICAqICAgICAuLi8uLi5saW5rZXIucG9wdWxhdGVWTm9kZURhdGFzZXQoY29tbWFuZCwgYXJncylcbiAgICAgKiAgIH1cbiAgICAgKiB9LCAnc29tZSB0ZXh0Jyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgcG9wdWxhdGVWTm9kZURhdGFzZXQoY29tbWFuZCwgYXJncykge1xuICAgICAgICBsZXQgZGF0YXNldDtcbiAgICAgICAgaWYgKGFyZ3MgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGF0YXNldCA9IHsgW0FSR1NfQVRUUl06IEpTT04uc3RyaW5naWZ5KGFyZ3MpLCBbQ09NTUFORF9BVFRSXTogY29tbWFuZCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGF0YXNldCA9IHsgW0NPTU1BTkRfQVRUUl06IGNvbW1hbmQgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YXNldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGdsb2JhbCBjbGljayBoYW5kbGVyIHRoYXQgZGVwbG95cyBjb21tYW5kcy9hcmd1bWVudCBwYWlycyB0aGF0IGFyZVxuICAgICAqIGF0dGFjaGVkIHRvIHRoZSBub2RlIGJlaW5nIGNsaWNrZWQuXG4gICAgICovXG4gICAgX2V2dENsaWNrKGV2ZW50KSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHdoaWxlICh0YXJnZXQgJiYgdGFyZ2V0LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKGBkYXRhLSR7Q09NTUFORF9BVFRSfWApKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBsZXQgY29tbWFuZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoYGRhdGEtJHtDT01NQU5EX0FUVFJ9YCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGFyZ3NWYWx1ZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoYGRhdGEtJHtBUkdTX0FUVFJ9YCk7XG4gICAgICAgICAgICAgICAgbGV0IGFyZ3MgPSBKU09ORXh0LmVtcHR5T2JqZWN0O1xuICAgICAgICAgICAgICAgIGlmIChhcmdzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IEpTT04ucGFyc2UoYXJnc1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdm9pZCB0aGlzLl9jb21tYW5kcy5leGVjdXRlKGNvbW1hbmQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbWFuZGxpbmtlci5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBwcm9ncmVzc0Jhckl0ZW0sIGZpbGxlckl0ZW0gfSBmcm9tICcuLi9zdHlsZS9wcm9ncmVzc0Jhcic7XG4vKipcbiAqIEEgZnVuY3Rpb25hbCB0c3ggY29tcG9uZW50IGZvciBhIHByb2dyZXNzIGJhci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFByb2dyZXNzQmFyKHByb3BzKSB7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBwcm9ncmVzc0Jhckl0ZW0gfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChGaWxsZXIsIHsgcGVyY2VudGFnZTogcHJvcHMucGVyY2VudGFnZSB9KSkpO1xufVxuLyoqXG4gKiBBIGZ1bmN0aW9uYWwgdHN4IGNvbXBvbmVudCBmb3IgYSBwYXJ0aWFsbHkgZmlsbGVkIGRpdi5cbiAqL1xuZnVuY3Rpb24gRmlsbGVyKHByb3BzKSB7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBmaWxsZXJJdGVtLCBzdHlsZToge1xuICAgICAgICAgICAgd2lkdGg6IGAke3Byb3BzLnBlcmNlbnRhZ2V9cHhgXG4gICAgICAgIH0gfSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvZ3Jlc3NCYXIuanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFVSTEV4dCB9IGZyb20gJ0BqdXB5dGVybGFiL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBQcm9taXNlRGVsZWdhdGUsIFRva2VuIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZURlbGVnYXRlIH0gZnJvbSAnQGx1bWluby9kaXNwb3NhYmxlJztcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0BsdW1pbm8vc2lnbmFsaW5nJztcbi8qKlxuICogQSBzdGF0aWMgY2xhc3MgdGhhdCByb3V0ZXMgVVJMcyB3aXRoaW4gdGhlIGFwcGxpY2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgUm91dGVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBVUkwgcm91dGVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGEgbWF0Y2hpbmcgcnVsZSdzIGNvbW1hbmQgcmVzb2x2ZXMgd2l0aCB0aGUgYHN0b3BgIHRva2VuIGR1cmluZyByb3V0aW5nLFxuICAgICAgICAgKiBubyBmdXJ0aGVyIG1hdGNoZXMgd2lsbCBleGVjdXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdG9wID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9hcHBsaWNhdGlvbjpSb3V0ZXIjc3RvcCcpO1xuICAgICAgICB0aGlzLl9yb3V0ZWQgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9ydWxlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5iYXNlID0gb3B0aW9ucy5iYXNlO1xuICAgICAgICB0aGlzLmNvbW1hbmRzID0gb3B0aW9ucy5jb21tYW5kcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGFyc2VkIGN1cnJlbnQgVVJMIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgeyBiYXNlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBVUkxFeHQucGFyc2Uod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICBjb25zdCB7IHNlYXJjaCwgaGFzaCB9ID0gcGFyc2VkO1xuICAgICAgICBjb25zdCBwYXRoID0gKF9iID0gKF9hID0gcGFyc2VkLnBhdGhuYW1lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGFjZShiYXNlLCAnLycpLCAoX2IgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycpKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHBhdGggKyBzZWFyY2ggKyBoYXNoO1xuICAgICAgICByZXR1cm4geyBoYXNoLCBwYXRoLCByZXF1ZXN0LCBzZWFyY2ggfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSByb3V0ZXIgcm91dGVzIGEgcm91dGUuXG4gICAgICovXG4gICAgZ2V0IHJvdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdXRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTmF2aWdhdGUgdG8gYSBuZXcgcGF0aCB3aXRoaW4gdGhlIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgbmV3IHBhdGggb3IgZW1wdHkgc3RyaW5nIGlmIHJlZGlyZWN0aW5nIHRvIHJvb3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBuYXZpZ2F0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgbmF2aWdhdGUocGF0aCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgYmFzZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBoaXN0b3J5IH0gPSB3aW5kb3c7XG4gICAgICAgIGNvbnN0IHsgaGFyZCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qgb2xkID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcbiAgICAgICAgY29uc3QgdXJsID0gcGF0aCAmJiBwYXRoLmluZGV4T2YoYmFzZSkgPT09IDAgPyBwYXRoIDogVVJMRXh0LmpvaW4oYmFzZSwgcGF0aCk7XG4gICAgICAgIGlmICh1cmwgPT09IG9sZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhcmQgPyB0aGlzLnJlbG9hZCgpIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsKTtcbiAgICAgICAgaWYgKGhhcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJlY2F1c2UgYSBgcm91dGUoKWAgY2FsbCBtYXkgc3RpbGwgYmUgaW4gdGhlIHN0YWNrIGFmdGVyIGhhdmluZyByZWNlaXZlZFxuICAgICAgICAvLyBhIGBzdG9wYCB0b2tlbiwgd2FpdCBmb3IgdGhlIG5leHQgc3RhY2sgZnJhbWUgYmVmb3JlIGNhbGxpbmcgYHJvdXRlKClgLlxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgdm9pZCB0aGlzLnJvdXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0byByb3V0ZSBhIHBhdGggcGF0dGVybiB0byBhIGNvbW1hbmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSByb3V0ZSByZWdpc3RyYXRpb24gb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgZGlzcG9zYWJsZSB0aGF0IHJlbW92ZXMgdGhlIHJlZ2lzdGVyZWQgcnVsZSBmcm9tIHRoZSByb3V0ZXIuXG4gICAgICovXG4gICAgcmVnaXN0ZXIob3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgY29tbWFuZCwgcGF0dGVybiB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgcmFuayA9IChfYSA9IG9wdGlvbnMucmFuaywgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEwMCkpO1xuICAgICAgICBjb25zdCBydWxlcyA9IHRoaXMuX3J1bGVzO1xuICAgICAgICBydWxlcy5zZXQocGF0dGVybiwgeyBjb21tYW5kLCByYW5rIH0pO1xuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZSgoKSA9PiB7XG4gICAgICAgICAgICBydWxlcy5kZWxldGUocGF0dGVybik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYXVzZSBhIGhhcmQgcmVsb2FkIG9mIHRoZSBkb2N1bWVudC5cbiAgICAgKi9cbiAgICByZWxvYWQoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUm91dGUgYSBzcGVjaWZpYyBwYXRoIHRvIGFuIGFjdGlvbi5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBJZiBhIHBhdHRlcm4gaXMgbWF0Y2hlZCwgaXRzIGNvbW1hbmQgd2lsbCBiZSBpbnZva2VkIHdpdGggYXJndW1lbnRzIHRoYXRcbiAgICAgKiBtYXRjaCB0aGUgYElSb3V0ZXIuSUxvY2F0aW9uYCBpbnRlcmZhY2UuXG4gICAgICovXG4gICAgcm91dGUoKSB7XG4gICAgICAgIGNvbnN0IHsgY29tbWFuZHMsIGN1cnJlbnQsIHN0b3AgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gY3VycmVudDtcbiAgICAgICAgY29uc3Qgcm91dGVkID0gdGhpcy5fcm91dGVkO1xuICAgICAgICBjb25zdCBydWxlcyA9IHRoaXMuX3J1bGVzO1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gW107XG4gICAgICAgIC8vIENvbGxlY3QgYWxsIHJ1bGVzIHRoYXQgbWF0Y2ggdGhlIFVSTC5cbiAgICAgICAgcnVsZXMuZm9yRWFjaCgocnVsZSwgcGF0dGVybikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKChfYSA9IHJlcXVlc3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXRjaChwYXR0ZXJuKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChydWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIE9yZGVyIHRoZSBtYXRjaGluZyBydWxlcyBieSByYW5rIGFuZCBlbnF1ZXVlIHRoZW0uXG4gICAgICAgIGNvbnN0IHF1ZXVlID0gbWF0Y2hlcy5zb3J0KChhLCBiKSA9PiBiLnJhbmsgLSBhLnJhbmspO1xuICAgICAgICBjb25zdCBkb25lID0gbmV3IFByb21pc2VEZWxlZ2F0ZSgpO1xuICAgICAgICAvLyBQcm9jZXNzIGVhY2ggZW5xdWV1ZWQgY29tbWFuZCBzZXF1ZW50aWFsbHkgYW5kIHNob3J0LWNpcmN1aXQgaWYgYSBwcm9taXNlXG4gICAgICAgIC8vIHJlc29sdmVzIHdpdGggdGhlIGBzdG9wYCB0b2tlbi5cbiAgICAgICAgY29uc3QgbmV4dCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghcXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcm91dGVkLmVtaXQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgZG9uZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBjb21tYW5kIH0gPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuY3VycmVudC5yZXF1ZXN0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbW1hbmRzLmV4ZWN1dGUoY29tbWFuZCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUm91dGluZyAke3JlcXVlc3R9IHdhcyBzaG9ydC1jaXJjdWl0ZWQgYnkgJHtjb21tYW5kfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJvdXRpbmcgJHtyZXF1ZXN0fSB0byAke2NvbW1hbmR9IGZhaWxlZGAsIHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2b2lkIG5leHQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdm9pZCBuZXh0KCk7XG4gICAgICAgIHJldHVybiBkb25lLnByb21pc2U7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGVyLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NUWUxFX0NMQVNTID0gJ2pwLURlZmF1bHRTdHlsZSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmZhY2UuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgSUxhYlNoZWxsLCBJTGFiU3RhdHVzIH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwbGljYXRpb24nO1xuaW1wb3J0IHsgc2hvd0RpYWxvZywgc2hvd0Vycm9yTWVzc2FnZSwgRGlhbG9nLCBJQ29tbWFuZFBhbGV0dGUsIElTZXNzaW9uQ29udGV4dERpYWxvZ3MgfSBmcm9tICdAanVweXRlcmxhYi9hcHB1dGlscyc7XG5pbXBvcnQgeyBUaW1lIH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IHJlbmFtZURpYWxvZywgRG9jdW1lbnRNYW5hZ2VyLCBJRG9jdW1lbnRNYW5hZ2VyLCBQYXRoU3RhdHVzLCBTYXZpbmdTdGF0dXMgfSBmcm9tICdAanVweXRlcmxhYi9kb2NtYW5hZ2VyJztcbmltcG9ydCB7IElNYWluTWVudSB9IGZyb20gJ0BqdXB5dGVybGFiL21haW5tZW51JztcbmltcG9ydCB7IElTZXR0aW5nUmVnaXN0cnkgfSBmcm9tICdAanVweXRlcmxhYi9zZXR0aW5ncmVnaXN0cnknO1xuaW1wb3J0IHsgSVN0YXR1c0JhciB9IGZyb20gJ0BqdXB5dGVybGFiL3N0YXR1c2Jhcic7XG5pbXBvcnQgeyBlYWNoLCBtYXAsIHNvbWUsIHRvQXJyYXkgfSBmcm9tICdAbHVtaW5vL2FsZ29yaXRobSc7XG5pbXBvcnQgeyBKU09ORXh0IH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJ0BsdW1pbm8vcG9sbGluZyc7XG4vKipcbiAqIFRoZSBjb21tYW5kIElEcyB1c2VkIGJ5IHRoZSBkb2N1bWVudCBtYW5hZ2VyIHBsdWdpbi5cbiAqL1xudmFyIENvbW1hbmRJRHM7XG4oZnVuY3Rpb24gKENvbW1hbmRJRHMpIHtcbiAgICBDb21tYW5kSURzLmNsb25lID0gJ2RvY21hbmFnZXI6Y2xvbmUnO1xuICAgIENvbW1hbmRJRHMuZGVsZXRlRmlsZSA9ICdkb2NtYW5hZ2VyOmRlbGV0ZS1maWxlJztcbiAgICBDb21tYW5kSURzLm5ld1VudGl0bGVkID0gJ2RvY21hbmFnZXI6bmV3LXVudGl0bGVkJztcbiAgICBDb21tYW5kSURzLm9wZW4gPSAnZG9jbWFuYWdlcjpvcGVuJztcbiAgICBDb21tYW5kSURzLm9wZW5Ccm93c2VyVGFiID0gJ2RvY21hbmFnZXI6b3Blbi1icm93c2VyLXRhYic7XG4gICAgQ29tbWFuZElEcy5yZWxvYWQgPSAnZG9jbWFuYWdlcjpyZWxvYWQnO1xuICAgIENvbW1hbmRJRHMucmVuYW1lID0gJ2RvY21hbmFnZXI6cmVuYW1lJztcbiAgICBDb21tYW5kSURzLnJlc3RvcmVDaGVja3BvaW50ID0gJ2RvY21hbmFnZXI6cmVzdG9yZS1jaGVja3BvaW50JztcbiAgICBDb21tYW5kSURzLnNhdmUgPSAnZG9jbWFuYWdlcjpzYXZlJztcbiAgICBDb21tYW5kSURzLnNhdmVBbGwgPSAnZG9jbWFuYWdlcjpzYXZlLWFsbCc7XG4gICAgQ29tbWFuZElEcy5zYXZlQXMgPSAnZG9jbWFuYWdlcjpzYXZlLWFzJztcbiAgICBDb21tYW5kSURzLmRvd25sb2FkID0gJ2RvY21hbmFnZXI6ZG93bmxvYWQnO1xuICAgIENvbW1hbmRJRHMudG9nZ2xlQXV0b3NhdmUgPSAnZG9jbWFuYWdlcjp0b2dnbGUtYXV0b3NhdmUnO1xuICAgIENvbW1hbmRJRHMuc2hvd0luRmlsZUJyb3dzZXIgPSAnZG9jbWFuYWdlcjpzaG93LWluLWZpbGUtYnJvd3Nlcic7XG59KShDb21tYW5kSURzIHx8IChDb21tYW5kSURzID0ge30pKTtcbmNvbnN0IHBsdWdpbklkID0gJ0BqdXB5dGVybGFiL2RvY21hbmFnZXItZXh0ZW5zaW9uOnBsdWdpbic7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGRvY3VtZW50IG1hbmFnZXIgcHJvdmlkZXIuXG4gKi9cbmNvbnN0IGRvY01hbmFnZXJQbHVnaW4gPSB7XG4gICAgaWQ6IHBsdWdpbklkLFxuICAgIHByb3ZpZGVzOiBJRG9jdW1lbnRNYW5hZ2VyLFxuICAgIHJlcXVpcmVzOiBbSVNldHRpbmdSZWdpc3RyeV0sXG4gICAgb3B0aW9uYWw6IFtcbiAgICAgICAgSUxhYlN0YXR1cyxcbiAgICAgICAgSUNvbW1hbmRQYWxldHRlLFxuICAgICAgICBJTGFiU2hlbGwsXG4gICAgICAgIElNYWluTWVudSxcbiAgICAgICAgSVNlc3Npb25Db250ZXh0RGlhbG9nc1xuICAgIF0sXG4gICAgYWN0aXZhdGU6IChhcHAsIHNldHRpbmdSZWdpc3RyeSwgc3RhdHVzLCBwYWxldHRlLCBsYWJTaGVsbCwgbWFpbk1lbnUsIHNlc3Npb25EaWFsb2dzKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBzaGVsbCB9ID0gYXBwO1xuICAgICAgICBjb25zdCBtYW5hZ2VyID0gYXBwLnNlcnZpY2VNYW5hZ2VyO1xuICAgICAgICBjb25zdCBjb250ZXh0cyA9IG5ldyBXZWFrU2V0KCk7XG4gICAgICAgIGNvbnN0IG9wZW5lciA9IHtcbiAgICAgICAgICAgIG9wZW46ICh3aWRnZXQsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXdpZGdldC5pZCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuaWQgPSBgZG9jdW1lbnQtbWFuYWdlci0keysrUHJpdmF0ZS5pZH1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aWRnZXQudGl0bGUuZGF0YXNldCA9IE9iamVjdC5hc3NpZ24oeyB0eXBlOiAnZG9jdW1lbnQtdGl0bGUnIH0sIHdpZGdldC50aXRsZS5kYXRhc2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIXdpZGdldC5pc0F0dGFjaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoZWxsLmFkZCh3aWRnZXQsICdtYWluJywgb3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNoZWxsLmFjdGl2YXRlQnlJZCh3aWRnZXQuaWQpO1xuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkaXJ0eSBzdGF0ZSBmb3Igb3BlbiBkb2N1bWVudHMuXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBkb2NNYW5hZ2VyLmNvbnRleHRGb3JXaWRnZXQod2lkZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCAmJiAhY29udGV4dHMuaGFzKGNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbnRleHQoc3RhdHVzLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0cy5hZGQoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZWdpc3RyeSA9IGFwcC5kb2NSZWdpc3RyeTtcbiAgICAgICAgY29uc3Qgd2hlbiA9IGFwcC5yZXN0b3JlZC50aGVuKCgpID0+IHZvaWQgMCk7XG4gICAgICAgIGNvbnN0IGRvY01hbmFnZXIgPSBuZXcgRG9jdW1lbnRNYW5hZ2VyKHtcbiAgICAgICAgICAgIHJlZ2lzdHJ5LFxuICAgICAgICAgICAgbWFuYWdlcixcbiAgICAgICAgICAgIG9wZW5lcixcbiAgICAgICAgICAgIHdoZW4sXG4gICAgICAgICAgICBzZXRCdXN5OiAoX2EgPSAoc3RhdHVzICYmICgoKSA9PiBzdGF0dXMuc2V0QnVzeSgpKSksIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQpKSxcbiAgICAgICAgICAgIHNlc3Npb25EaWFsb2dzOiBzZXNzaW9uRGlhbG9ncyB8fCB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBmaWxlIG9wZXJhdGlvbnMgY29tbWFuZHMuXG4gICAgICAgIGFkZENvbW1hbmRzKGFwcCwgZG9jTWFuYWdlciwgb3BlbmVyLCBzZXR0aW5nUmVnaXN0cnksIGxhYlNoZWxsLCBwYWxldHRlLCBtYWluTWVudSk7XG4gICAgICAgIC8vIEtlZXAgdXAgdG8gZGF0ZSB3aXRoIHRoZSBzZXR0aW5ncyByZWdpc3RyeS5cbiAgICAgICAgY29uc3Qgb25TZXR0aW5nc1VwZGF0ZWQgPSAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSB3aGV0aGVyIHRvIGF1dG9zYXZlXG4gICAgICAgICAgICBjb25zdCBhdXRvc2F2ZSA9IHNldHRpbmdzLmdldCgnYXV0b3NhdmUnKS5jb21wb3NpdGU7XG4gICAgICAgICAgICBkb2NNYW5hZ2VyLmF1dG9zYXZlID1cbiAgICAgICAgICAgICAgICBhdXRvc2F2ZSA9PT0gdHJ1ZSB8fCBhdXRvc2F2ZSA9PT0gZmFsc2UgPyBhdXRvc2F2ZSA6IHRydWU7XG4gICAgICAgICAgICBhcHAuY29tbWFuZHMubm90aWZ5Q29tbWFuZENoYW5nZWQoQ29tbWFuZElEcy50b2dnbGVBdXRvc2F2ZSk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgYXV0b3NhdmUgaW50ZXJ2YWxcbiAgICAgICAgICAgIGNvbnN0IGF1dG9zYXZlSW50ZXJ2YWwgPSBzZXR0aW5ncy5nZXQoJ2F1dG9zYXZlSW50ZXJ2YWwnKS5jb21wb3NpdGU7XG4gICAgICAgICAgICBkb2NNYW5hZ2VyLmF1dG9zYXZlSW50ZXJ2YWwgPSBhdXRvc2F2ZUludGVydmFsIHx8IDEyMDtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBkZWZhdWx0IHdpZGdldCBmYWN0b3J5IG92ZXJyaWRlcy5cbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWaWV3ZXJzID0gc2V0dGluZ3MuZ2V0KCdkZWZhdWx0Vmlld2VycycpLmNvbXBvc2l0ZTtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJyaWRlcyA9IHt9O1xuICAgICAgICAgICAgLy8gRmlsdGVyIHRoZSBkZWZhdWx0Vmlld2VycyBhbmQgZmlsZSB0eXBlcyBmb3IgZXhpc3Rpbmcgb25lcy5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGRlZmF1bHRWaWV3ZXJzKS5mb3JFYWNoKGZ0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2lzdHJ5LmdldEZpbGVUeXBlKGZ0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZpbGUgVHlwZSAke2Z0fSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2lzdHJ5LmdldFdpZGdldEZhY3RvcnkoZGVmYXVsdFZpZXdlcnNbZnRdKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYERvY3VtZW50IHZpZXdlciAke2RlZmF1bHRWaWV3ZXJzW2Z0XX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG92ZXJyaWRlc1tmdF0gPSBkZWZhdWx0Vmlld2Vyc1tmdF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFNldCB0aGUgZGVmYXVsdCBmYWN0b3J5IG92ZXJyaWRlcy4gSWYgbm90IHByb3ZpZGVkLCB0aGlzIGhhcyB0aGVcbiAgICAgICAgICAgIC8vIGVmZmVjdCBvZiB1bnNldHRpbmcgYW55IHByZXZpb3VzIG92ZXJyaWRlcy5cbiAgICAgICAgICAgIGVhY2gocmVnaXN0cnkuZmlsZVR5cGVzKCksIGZ0ID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RyeS5zZXREZWZhdWx0V2lkZ2V0RmFjdG9yeShmdC5uYW1lLCBvdmVycmlkZXNbZnQubmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gc2V0IGRlZmF1bHQgdmlld2VyICR7b3ZlcnJpZGVzW2Z0Lm5hbWVdfSBmb3IgZmlsZSB0eXBlICR7ZnQubmFtZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gRmV0Y2ggdGhlIGluaXRpYWwgc3RhdGUgb2YgdGhlIHNldHRpbmdzLlxuICAgICAgICBQcm9taXNlLmFsbChbc2V0dGluZ1JlZ2lzdHJ5LmxvYWQocGx1Z2luSWQpLCBhcHAucmVzdG9yZWRdKVxuICAgICAgICAgICAgLnRoZW4oKFtzZXR0aW5nc10pID0+IHtcbiAgICAgICAgICAgIHNldHRpbmdzLmNoYW5nZWQuY29ubmVjdChvblNldHRpbmdzVXBkYXRlZCk7XG4gICAgICAgICAgICBvblNldHRpbmdzVXBkYXRlZChzZXR0aW5ncyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZWFzb24ubWVzc2FnZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSZWdpc3RlciBhIGZldGNoIHRyYW5zZm9ybWVyIGZvciB0aGUgc2V0dGluZ3MgcmVnaXN0cnksXG4gICAgICAgIC8vIGFsbG93aW5nIHVzIHRvIGR5bmFtaWNhbGx5IHBvcHVsYXRlIGEgaGVscCBzdHJpbmcgd2l0aCB0aGVcbiAgICAgICAgLy8gYXZhaWxhYmxlIGRvY3VtZW50IHZpZXdlcnMgYW5kIGZpbGUgdHlwZXMgZm9yIHRoZSBkZWZhdWx0XG4gICAgICAgIC8vIHZpZXdlciBvdmVycmlkZXMuXG4gICAgICAgIHNldHRpbmdSZWdpc3RyeS50cmFuc2Zvcm0ocGx1Z2luSWQsIHtcbiAgICAgICAgICAgIGZldGNoOiBwbHVnaW4gPT4ge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgYXZhaWxhYmxlIGZpbGUgdHlwZXMuXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVR5cGVzID0gdG9BcnJheShyZWdpc3RyeS5maWxlVHlwZXMoKSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdCA9PiBmdC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAuam9pbignICAgIFxcbicpO1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgYXZhaWxhYmxlIHdpZGdldCBmYWN0b3JpZXMuXG4gICAgICAgICAgICAgICAgY29uc3QgZmFjdG9yaWVzID0gdG9BcnJheShyZWdpc3RyeS53aWRnZXRGYWN0b3JpZXMoKSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmID0+IGYubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAgICBcXG4nKTtcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgaGVscCBzdHJpbmcuXG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBgT3ZlcnJpZGVzIGZvciB0aGUgZGVmYXVsdCB2aWV3ZXJzIGZvciBmaWxlIHR5cGVzLlxuU3BlY2lmeSBhIG1hcHBpbmcgZnJvbSBmaWxlIHR5cGUgbmFtZSB0byBkb2N1bWVudCB2aWV3ZXIgbmFtZSwgZm9yIGV4YW1wbGU6XG5cbmRlZmF1bHRWaWV3ZXJzOiB7XG4gIG1hcmtkb3duOiBcIk1hcmtkb3duIFByZXZpZXdcIlxufVxuXG5JZiB5b3Ugc3BlY2lmeSBub24tZXhpc3RlbnQgZmlsZSB0eXBlcyBvciB2aWV3ZXJzLCBvciBpZiBhIHZpZXdlciBjYW5ub3Rcbm9wZW4gYSBnaXZlbiBmaWxlIHR5cGUsIHRoZSBvdmVycmlkZSB3aWxsIG5vdCBmdW5jdGlvbi5cblxuQXZhaWxhYmxlIHZpZXdlcnM6XG4ke2ZhY3Rvcmllc31cblxuQXZhaWxhYmxlIGZpbGUgdHlwZXM6XG4ke2ZpbGVUeXBlc31gO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IEpTT05FeHQuZGVlcENvcHkocGx1Z2luLnNjaGVtYSk7XG4gICAgICAgICAgICAgICAgc2NoZW1hLnByb3BlcnRpZXMuZGVmYXVsdFZpZXdlcnMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwbHVnaW4pLCB7IHNjaGVtYSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNhbGxiYWNrIHRvIHJlZ2lzdHJ5IGNoYW5nZSB0aGF0IGVuc3VyZXMgbm90IHRvIGludm9rZSByZWxvYWQgbWV0aG9kIHdoZW4gdGhlcmUgaXMgYWxyZWFkeSBhIHByb21pc2UgdGhhdCBpcyBwZW5kaW5nXG4gICAgICAgIGxldCByZWxvYWRTZXR0aW5nc1JlZ2lzdHJ5ID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlbG9hZERlYm91bmNlID0gbmV3IERlYm91bmNlcigoKSA9PiBzZXR0aW5nUmVnaXN0cnkucmVsb2FkKHBsdWdpbklkKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVsb2FkRGVib3VuY2UuaW52b2tlLmJpbmQocmVsb2FkRGVib3VuY2UpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBJZiB0aGUgZG9jdW1lbnQgcmVnaXN0cnkgZ2FpbnMgb3IgbG9zZXMgYSBmYWN0b3J5IG9yIGZpbGUgdHlwZSxcbiAgICAgICAgLy8gcmVnZW5lcmF0ZSB0aGUgc2V0dGluZ3MgZGVzY3JpcHRpb24gd2l0aCB0aGUgYXZhaWxhYmxlIG9wdGlvbnMuXG4gICAgICAgIHJlZ2lzdHJ5LmNoYW5nZWQuY29ubmVjdChyZWxvYWRTZXR0aW5nc1JlZ2lzdHJ5KCkpO1xuICAgICAgICByZXR1cm4gZG9jTWFuYWdlcjtcbiAgICB9XG59O1xuLyoqXG4gKiBBIHBsdWdpbiBmb3IgYWRkaW5nIGEgc2F2aW5nIHN0YXR1cyBpdGVtIHRvIHRoZSBzdGF0dXMgYmFyLlxuICovXG5leHBvcnQgY29uc3Qgc2F2aW5nU3RhdHVzUGx1Z2luID0ge1xuICAgIGlkOiAnQGp1cHl0ZXJsYWIvZG9jbWFuYWdlci1leHRlbnNpb246c2F2aW5nLXN0YXR1cycsXG4gICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgIHJlcXVpcmVzOiBbSURvY3VtZW50TWFuYWdlciwgSUxhYlNoZWxsXSxcbiAgICBvcHRpb25hbDogW0lTdGF0dXNCYXJdLFxuICAgIGFjdGl2YXRlOiAoXywgZG9jTWFuYWdlciwgbGFiU2hlbGwsIHN0YXR1c0JhcikgPT4ge1xuICAgICAgICBpZiAoIXN0YXR1c0Jhcikge1xuICAgICAgICAgICAgLy8gQXV0b21hdGljYWxseSBkaXNhYmxlIGlmIHN0YXR1c2JhciBtaXNzaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2aW5nID0gbmV3IFNhdmluZ1N0YXR1cyh7IGRvY01hbmFnZXIgfSk7XG4gICAgICAgIC8vIEtlZXAgdGhlIGN1cnJlbnRseSBhY3RpdmUgd2lkZ2V0IHN5bmNocm9uaXplZC5cbiAgICAgICAgc2F2aW5nLm1vZGVsLndpZGdldCA9IGxhYlNoZWxsLmN1cnJlbnRXaWRnZXQ7XG4gICAgICAgIGxhYlNoZWxsLmN1cnJlbnRDaGFuZ2VkLmNvbm5lY3QoKCkgPT4ge1xuICAgICAgICAgICAgc2F2aW5nLm1vZGVsLndpZGdldCA9IGxhYlNoZWxsLmN1cnJlbnRXaWRnZXQ7XG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0dXNCYXIucmVnaXN0ZXJTdGF0dXNJdGVtKHNhdmluZ1N0YXR1c1BsdWdpbi5pZCwge1xuICAgICAgICAgICAgaXRlbTogc2F2aW5nLFxuICAgICAgICAgICAgYWxpZ246ICdtaWRkbGUnLFxuICAgICAgICAgICAgaXNBY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICBhY3RpdmVTdGF0ZUNoYW5nZWQ6IHNhdmluZy5tb2RlbC5zdGF0ZUNoYW5nZWRcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbi8qKlxuICogQSBwbHVnaW4gcHJvdmlkaW5nIGEgZmlsZSBwYXRoIHdpZGdldCB0byB0aGUgc3RhdHVzIGJhci5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhdGhTdGF0dXNQbHVnaW4gPSB7XG4gICAgaWQ6ICdAanVweXRlcmxhYi9kb2NtYW5hZ2VyLWV4dGVuc2lvbjpwYXRoLXN0YXR1cycsXG4gICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgIHJlcXVpcmVzOiBbSURvY3VtZW50TWFuYWdlciwgSUxhYlNoZWxsXSxcbiAgICBvcHRpb25hbDogW0lTdGF0dXNCYXJdLFxuICAgIGFjdGl2YXRlOiAoXywgZG9jTWFuYWdlciwgbGFiU2hlbGwsIHN0YXR1c0JhcikgPT4ge1xuICAgICAgICBpZiAoIXN0YXR1c0Jhcikge1xuICAgICAgICAgICAgLy8gQXV0b21hdGljYWxseSBkaXNhYmxlIGlmIHN0YXR1c2JhciBtaXNzaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aCA9IG5ldyBQYXRoU3RhdHVzKHsgZG9jTWFuYWdlciB9KTtcbiAgICAgICAgLy8gS2VlcCB0aGUgZmlsZSBwYXRoIHdpZGdldCB1cC10by1kYXRlIHdpdGggdGhlIGFwcGxpY2F0aW9uIGFjdGl2ZSB3aWRnZXQuXG4gICAgICAgIHBhdGgubW9kZWwud2lkZ2V0ID0gbGFiU2hlbGwuY3VycmVudFdpZGdldDtcbiAgICAgICAgbGFiU2hlbGwuY3VycmVudENoYW5nZWQuY29ubmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBwYXRoLm1vZGVsLndpZGdldCA9IGxhYlNoZWxsLmN1cnJlbnRXaWRnZXQ7XG4gICAgICAgIH0pO1xuICAgICAgICBzdGF0dXNCYXIucmVnaXN0ZXJTdGF0dXNJdGVtKHBhdGhTdGF0dXNQbHVnaW4uaWQsIHtcbiAgICAgICAgICAgIGl0ZW06IHBhdGgsXG4gICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgIHJhbms6IDAsXG4gICAgICAgICAgICBpc0FjdGl2ZTogKCkgPT4gdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuLyoqXG4gKiBFeHBvcnQgdGhlIHBsdWdpbnMgYXMgZGVmYXVsdC5cbiAqL1xuY29uc3QgcGx1Z2lucyA9IFtcbiAgICBkb2NNYW5hZ2VyUGx1Z2luLFxuICAgIHBhdGhTdGF0dXNQbHVnaW4sXG4gICAgc2F2aW5nU3RhdHVzUGx1Z2luXG5dO1xuZXhwb3J0IGRlZmF1bHQgcGx1Z2lucztcbi8qIFdpZGdldCB0byBkaXNwbGF5IHRoZSByZXZlcnQgdG8gY2hlY2twb2ludCBjb25maXJtYXRpb24uICovXG5jbGFzcyBSZXZlcnRDb25maXJtV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgcmV2ZXJ0IGNvbmZpcm1hdGlvbiB3aWRnZXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2hlY2twb2ludCwgZmlsZVR5cGUgPSAnbm90ZWJvb2snKSB7XG4gICAgICAgIHN1cGVyKHsgbm9kZTogUHJpdmF0ZS5jcmVhdGVSZXZlcnRDb25maXJtTm9kZShjaGVja3BvaW50LCBmaWxlVHlwZSkgfSk7XG4gICAgfVxufVxuLy8gUmV0dXJucyB0aGUgZmlsZSB0eXBlIGZvciBhIHdpZGdldC5cbmZ1bmN0aW9uIGZpbGVUeXBlKHdpZGdldCwgZG9jTWFuYWdlcikge1xuICAgIGlmICghd2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiAnRmlsZSc7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSBkb2NNYW5hZ2VyLmNvbnRleHRGb3JXaWRnZXQod2lkZ2V0KTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBmdHMgPSBkb2NNYW5hZ2VyLnJlZ2lzdHJ5LmdldEZpbGVUeXBlc0ZvclBhdGgoY29udGV4dC5wYXRoKTtcbiAgICByZXR1cm4gZnRzLmxlbmd0aCAmJiBmdHNbMF0uZGlzcGxheU5hbWUgPyBmdHNbMF0uZGlzcGxheU5hbWUgOiAnRmlsZSc7XG59XG4vKipcbiAqIEFkZCB0aGUgZmlsZSBvcGVyYXRpb25zIGNvbW1hbmRzIHRvIHRoZSBhcHBsaWNhdGlvbidzIGNvbW1hbmQgcmVnaXN0cnkuXG4gKi9cbmZ1bmN0aW9uIGFkZENvbW1hbmRzKGFwcCwgZG9jTWFuYWdlciwgb3BlbmVyLCBzZXR0aW5nUmVnaXN0cnksIGxhYlNoZWxsLCBwYWxldHRlLCBtYWluTWVudSkge1xuICAgIGNvbnN0IHsgY29tbWFuZHMsIHNoZWxsIH0gPSBhcHA7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSAnRmlsZSBPcGVyYXRpb25zJztcbiAgICBjb25zdCBpc0VuYWJsZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFdpZGdldCB9ID0gc2hlbGw7XG4gICAgICAgIHJldHVybiAhIShjdXJyZW50V2lkZ2V0ICYmIGRvY01hbmFnZXIuY29udGV4dEZvcldpZGdldChjdXJyZW50V2lkZ2V0KSk7XG4gICAgfTtcbiAgICBjb25zdCBpc1dyaXRhYmxlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRXaWRnZXQgfSA9IHNoZWxsO1xuICAgICAgICBpZiAoIWN1cnJlbnRXaWRnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZXh0ID0gZG9jTWFuYWdlci5jb250ZXh0Rm9yV2lkZ2V0KGN1cnJlbnRXaWRnZXQpO1xuICAgICAgICByZXR1cm4gISEoY29udGV4dCAmJlxuICAgICAgICAgICAgY29udGV4dC5jb250ZW50c01vZGVsICYmXG4gICAgICAgICAgICBjb250ZXh0LmNvbnRlbnRzTW9kZWwud3JpdGFibGUpO1xuICAgIH07XG4gICAgLy8gSWYgaW5zaWRlIGEgcmljaCBhcHBsaWNhdGlvbiBsaWtlIEp1cHl0ZXJMYWIsIGFkZCBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpdHkuXG4gICAgaWYgKGxhYlNoZWxsKSB7XG4gICAgICAgIGFkZExhYkNvbW1hbmRzKGFwcCwgZG9jTWFuYWdlciwgbGFiU2hlbGwsIG9wZW5lciwgcGFsZXR0ZSk7XG4gICAgfVxuICAgIGNvbW1hbmRzLmFkZENvbW1hbmQoQ29tbWFuZElEcy5kZWxldGVGaWxlLCB7XG4gICAgICAgIGxhYmVsOiAoKSA9PiBgRGVsZXRlICR7ZmlsZVR5cGUoc2hlbGwuY3VycmVudFdpZGdldCwgZG9jTWFuYWdlcil9YCxcbiAgICAgICAgZXhlY3V0ZTogYXJncyA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gdHlwZW9mIGFyZ3NbJ3BhdGgnXSA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6IGFyZ3NbJ3BhdGgnXTtcbiAgICAgICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBDb21tYW5kSURzLmRlbGV0ZUZpbGU7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIG5vbi1lbXB0eSBwYXRoIGlzIHJlcXVpcmVkIGZvciAke2NvbW1hbmR9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRvY01hbmFnZXIuZGVsZXRlRmlsZShwYXRoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbW1hbmRzLmFkZENvbW1hbmQoQ29tbWFuZElEcy5uZXdVbnRpdGxlZCwge1xuICAgICAgICBleGVjdXRlOiBhcmdzID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yVGl0bGUgPSBhcmdzWydlcnJvciddIHx8ICdFcnJvcic7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gdHlwZW9mIGFyZ3NbJ3BhdGgnXSA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6IGFyZ3NbJ3BhdGgnXTtcbiAgICAgICAgICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IGFyZ3NbJ3R5cGUnXSxcbiAgICAgICAgICAgICAgICBwYXRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGFyZ3NbJ3R5cGUnXSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5leHQgPSBhcmdzWydleHQnXSB8fCAnLnR4dCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZG9jTWFuYWdlci5zZXJ2aWNlcy5jb250ZW50c1xuICAgICAgICAgICAgICAgIC5uZXdVbnRpdGxlZChvcHRpb25zKVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBzaG93RXJyb3JNZXNzYWdlKGVycm9yVGl0bGUsIGVycm9yKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGxhYmVsOiBhcmdzID0+IGFyZ3NbJ2xhYmVsJ10gfHwgYE5ldyAke2FyZ3NbJ3R5cGUnXX1gXG4gICAgfSk7XG4gICAgY29tbWFuZHMuYWRkQ29tbWFuZChDb21tYW5kSURzLm9wZW4sIHtcbiAgICAgICAgZXhlY3V0ZTogYXJncyA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gdHlwZW9mIGFyZ3NbJ3BhdGgnXSA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6IGFyZ3NbJ3BhdGgnXTtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSBhcmdzWydmYWN0b3J5J10gfHwgdm9pZCAwO1xuICAgICAgICAgICAgY29uc3Qga2VybmVsID0gKF9hID0gYXJncykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmtlcm5lbDtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhcmdzWydvcHRpb25zJ10gfHwgdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIGRvY01hbmFnZXIuc2VydmljZXMuY29udGVudHNcbiAgICAgICAgICAgICAgICAuZ2V0KHBhdGgsIHsgY29udGVudDogZmFsc2UgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBkb2NNYW5hZ2VyLm9wZW5PclJldmVhbChwYXRoLCBmYWN0b3J5LCBrZXJuZWwsIG9wdGlvbnMpKTtcbiAgICAgICAgfSxcbiAgICAgICAgaWNvbjogYXJncyA9PiBhcmdzWydpY29uJ10gfHwgJycsXG4gICAgICAgIGxhYmVsOiBhcmdzID0+IChhcmdzWydsYWJlbCddIHx8IGFyZ3NbJ2ZhY3RvcnknXSksXG4gICAgICAgIG1uZW1vbmljOiBhcmdzID0+IGFyZ3NbJ21uZW1vbmljJ10gfHwgLTFcbiAgICB9KTtcbiAgICBjb21tYW5kcy5hZGRDb21tYW5kKENvbW1hbmRJRHMub3BlbkJyb3dzZXJUYWIsIHtcbiAgICAgICAgZXhlY3V0ZTogYXJncyA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gdHlwZW9mIGFyZ3NbJ3BhdGgnXSA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6IGFyZ3NbJ3BhdGgnXTtcbiAgICAgICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkb2NNYW5hZ2VyLnNlcnZpY2VzLmNvbnRlbnRzLmdldERvd25sb2FkVXJsKHBhdGgpLnRoZW4odXJsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcGVuZWQgPSB3aW5kb3cub3BlbigpO1xuICAgICAgICAgICAgICAgIGlmIChvcGVuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3BlbmVkLm9wZW5lciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIG9wZW5lZC5sb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gb3BlbiBuZXcgYnJvd3NlciB0YWIuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGljb246IGFyZ3MgPT4gYXJnc1snaWNvbiddIHx8ICcnLFxuICAgICAgICBsYWJlbDogKCkgPT4gJ09wZW4gaW4gTmV3IEJyb3dzZXIgVGFiJ1xuICAgIH0pO1xuICAgIGNvbW1hbmRzLmFkZENvbW1hbmQoQ29tbWFuZElEcy5yZWxvYWQsIHtcbiAgICAgICAgbGFiZWw6ICgpID0+IGBSZWxvYWQgJHtmaWxlVHlwZShzaGVsbC5jdXJyZW50V2lkZ2V0LCBkb2NNYW5hZ2VyKX0gZnJvbSBEaXNrYCxcbiAgICAgICAgY2FwdGlvbjogJ1JlbG9hZCBjb250ZW50cyBmcm9tIGRpc2snLFxuICAgICAgICBpc0VuYWJsZWQsXG4gICAgICAgIGV4ZWN1dGU6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrcyB0aGF0IHNoZWxsLmN1cnJlbnRXaWRnZXQgaXMgdmFsaWQ6XG4gICAgICAgICAgICBpZiAoIWlzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGRvY01hbmFnZXIuY29udGV4dEZvcldpZGdldChzaGVsbC5jdXJyZW50V2lkZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBmaWxlVHlwZShzaGVsbC5jdXJyZW50V2lkZ2V0LCBkb2NNYW5hZ2VyKTtcbiAgICAgICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaG93RGlhbG9nKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDYW5ub3QgUmVsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogJ05vIGNvbnRleHQgZm91bmQgZm9yIGN1cnJlbnQgd2lkZ2V0IScsXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtEaWFsb2cub2tCdXR0b24oKV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb250ZXh0Lm1vZGVsLmRpcnR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNob3dEaWFsb2coe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYFJlbG9hZCAke3R5cGV9IGZyb20gRGlza2AsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVsb2FkXG4gICAgICAgICAgdGhlICR7dHlwZX0gZnJvbSB0aGUgZGlzaz9gLFxuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBEaWFsb2cuY2FuY2VsQnV0dG9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBEaWFsb2cud2FybkJ1dHRvbih7IGxhYmVsOiAnUmVsb2FkJyB9KVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmJ1dHRvbi5hY2NlcHQgJiYgIWNvbnRleHQuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQucmV2ZXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghY29udGV4dC5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LnJldmVydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbW1hbmRzLmFkZENvbW1hbmQoQ29tbWFuZElEcy5yZXN0b3JlQ2hlY2twb2ludCwge1xuICAgICAgICBsYWJlbDogKCkgPT4gYFJldmVydCAke2ZpbGVUeXBlKHNoZWxsLmN1cnJlbnRXaWRnZXQsIGRvY01hbmFnZXIpfSB0byBDaGVja3BvaW50YCxcbiAgICAgICAgY2FwdGlvbjogJ1JldmVydCBjb250ZW50cyB0byBwcmV2aW91cyBjaGVja3BvaW50JyxcbiAgICAgICAgaXNFbmFibGVkLFxuICAgICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBDaGVja3MgdGhhdCBzaGVsbC5jdXJyZW50V2lkZ2V0IGlzIHZhbGlkOlxuICAgICAgICAgICAgaWYgKCFpc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBkb2NNYW5hZ2VyLmNvbnRleHRGb3JXaWRnZXQoc2hlbGwuY3VycmVudFdpZGdldCk7XG4gICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hvd0RpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2Fubm90IFJldmVydCcsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6ICdObyBjb250ZXh0IGZvdW5kIGZvciBjdXJyZW50IHdpZGdldCEnLFxuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbRGlhbG9nLm9rQnV0dG9uKCldXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dC5saXN0Q2hlY2twb2ludHMoKS50aGVuKGNoZWNrcG9pbnRzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2twb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGVja3BvaW50ID0gY2hlY2twb2ludHNbY2hlY2twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0Q2hlY2twb2ludCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBmaWxlVHlwZShzaGVsbC5jdXJyZW50V2lkZ2V0LCBkb2NNYW5hZ2VyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2hvd0RpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgUmV2ZXJ0ICR7dHlwZX0gdG8gY2hlY2twb2ludGAsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IG5ldyBSZXZlcnRDb25maXJtV2lkZ2V0KGxhc3RDaGVja3BvaW50LCB0eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgRGlhbG9nLmNhbmNlbEJ1dHRvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgRGlhbG9nLndhcm5CdXR0b24oeyBsYWJlbDogJ1JldmVydCcgfSlcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYnV0dG9uLmFjY2VwdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQubW9kZWwucmVhZE9ubHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5yZXZlcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LnJlc3RvcmVDaGVja3BvaW50KCkudGhlbigoKSA9PiBjb250ZXh0LnJldmVydCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb21tYW5kcy5hZGRDb21tYW5kKENvbW1hbmRJRHMuc2F2ZSwge1xuICAgICAgICBsYWJlbDogKCkgPT4gYFNhdmUgJHtmaWxlVHlwZShzaGVsbC5jdXJyZW50V2lkZ2V0LCBkb2NNYW5hZ2VyKX1gLFxuICAgICAgICBjYXB0aW9uOiAnU2F2ZSBhbmQgY3JlYXRlIGNoZWNrcG9pbnQnLFxuICAgICAgICBpc0VuYWJsZWQ6IGlzV3JpdGFibGUsXG4gICAgICAgIGV4ZWN1dGU6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrcyB0aGF0IHNoZWxsLmN1cnJlbnRXaWRnZXQgaXMgdmFsaWQ6XG4gICAgICAgICAgICBpZiAoaXNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9IGRvY01hbmFnZXIuY29udGV4dEZvcldpZGdldChzaGVsbC5jdXJyZW50V2lkZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dEaWFsb2coe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDYW5ub3QgU2F2ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiAnTm8gY29udGV4dCBmb3VuZCBmb3IgY3VycmVudCB3aWRnZXQhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtEaWFsb2cub2tCdXR0b24oKV1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0Lm1vZGVsLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG93RGlhbG9nKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2Fubm90IFNhdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogJ0RvY3VtZW50IGlzIHJlYWQtb25seScsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbRGlhbG9nLm9rQnV0dG9uKCldXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2F2ZSgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGNvbnRleHQuY3JlYXRlQ2hlY2twb2ludCgpKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNhdmUgd2FzIGNhbmNlbGVkIGJ5IHVzZXItYWN0aW9uLCBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgPT09ICdDYW5jZWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29tbWFuZHMuYWRkQ29tbWFuZChDb21tYW5kSURzLnNhdmVBbGwsIHtcbiAgICAgICAgbGFiZWw6ICgpID0+ICdTYXZlIEFsbCcsXG4gICAgICAgIGNhcHRpb246ICdTYXZlIGFsbCBvcGVuIGRvY3VtZW50cycsXG4gICAgICAgIGlzRW5hYmxlZDogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNvbWUobWFwKHNoZWxsLndpZGdldHMoJ21haW4nKSwgdyA9PiBkb2NNYW5hZ2VyLmNvbnRleHRGb3JXaWRnZXQodykpLCBjID0+IHsgdmFyIF9hLCBfYiwgX2M7IHJldHVybiBfYyA9IChfYiA9IChfYSA9IGMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb250ZW50c01vZGVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iud3JpdGFibGUsIChfYyAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZSk7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcGF0aHMgPSBuZXcgU2V0KCk7IC8vIENhY2hlIHNvIHdlIGRvbid0IGRvdWJsZSBzYXZlIGZpbGVzLlxuICAgICAgICAgICAgZWFjaChzaGVsbC53aWRnZXRzKCdtYWluJyksIHdpZGdldCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGRvY01hbmFnZXIuY29udGV4dEZvcldpZGdldCh3aWRnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0ICYmICFjb250ZXh0Lm1vZGVsLnJlYWRPbmx5ICYmICFwYXRocy5oYXMoY29udGV4dC5wYXRoKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRocy5hZGQoY29udGV4dC5wYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChjb250ZXh0LnNhdmUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29tbWFuZHMuYWRkQ29tbWFuZChDb21tYW5kSURzLnNhdmVBcywge1xuICAgICAgICBsYWJlbDogKCkgPT4gYFNhdmUgJHtmaWxlVHlwZShzaGVsbC5jdXJyZW50V2lkZ2V0LCBkb2NNYW5hZ2VyKX0gQXPigKZgLFxuICAgICAgICBjYXB0aW9uOiAnU2F2ZSB3aXRoIG5ldyBwYXRoJyxcbiAgICAgICAgaXNFbmFibGVkLFxuICAgICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBDaGVja3MgdGhhdCBzaGVsbC5jdXJyZW50V2lkZ2V0IGlzIHZhbGlkOlxuICAgICAgICAgICAgaWYgKGlzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBkb2NNYW5hZ2VyLmNvbnRleHRGb3JXaWRnZXQoc2hlbGwuY3VycmVudFdpZGdldCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG93RGlhbG9nKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2Fubm90IFNhdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogJ05vIGNvbnRleHQgZm91bmQgZm9yIGN1cnJlbnQgd2lkZ2V0IScsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbRGlhbG9nLm9rQnV0dG9uKCldXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5zYXZlQXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbW1hbmRzLmFkZENvbW1hbmQoQ29tbWFuZElEcy5kb3dubG9hZCwge1xuICAgICAgICBsYWJlbDogJ0Rvd25sb2FkJyxcbiAgICAgICAgY2FwdGlvbjogJ0Rvd25sb2FkIHRoZSBmaWxlIHRvIHlvdXIgY29tcHV0ZXInLFxuICAgICAgICBpc0VuYWJsZWQsXG4gICAgICAgIGV4ZWN1dGU6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrcyB0aGF0IHNoZWxsLmN1cnJlbnRXaWRnZXQgaXMgdmFsaWQ6XG4gICAgICAgICAgICBpZiAoaXNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9IGRvY01hbmFnZXIuY29udGV4dEZvcldpZGdldChzaGVsbC5jdXJyZW50V2lkZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dEaWFsb2coe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDYW5ub3QgRG93bmxvYWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogJ05vIGNvbnRleHQgZm91bmQgZm9yIGN1cnJlbnQgd2lkZ2V0IScsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbRGlhbG9nLm9rQnV0dG9uKCldXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kb3dubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29tbWFuZHMuYWRkQ29tbWFuZChDb21tYW5kSURzLnRvZ2dsZUF1dG9zYXZlLCB7XG4gICAgICAgIGxhYmVsOiAnQXV0b3NhdmUgRG9jdW1lbnRzJyxcbiAgICAgICAgaXNUb2dnbGVkOiAoKSA9PiBkb2NNYW5hZ2VyLmF1dG9zYXZlLFxuICAgICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICFkb2NNYW5hZ2VyLmF1dG9zYXZlO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gJ2F1dG9zYXZlJztcbiAgICAgICAgICAgIHJldHVybiBzZXR0aW5nUmVnaXN0cnlcbiAgICAgICAgICAgICAgICAuc2V0KHBsdWdpbklkLCBrZXksIHZhbHVlKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHNldCAke3BsdWdpbklkfToke2tleX0gLSAke3JlYXNvbi5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyAuanAtbW9kLWN1cnJlbnQgYWRkZWQgc28gdGhhdCB0aGUgY29uc29sZS1jcmVhdGlvbiBjb21tYW5kIGlzIG9ubHkgc2hvd25cbiAgICAvLyBvbiB0aGUgY3VycmVudCBkb2N1bWVudC5cbiAgICAvLyBPdGhlcndpc2UgaXQgd2lsbCBkZWxlZ2F0ZSB0byB0aGUgd3Jvbmcgd2lkZ2V0LlxuICAgIGFwcC5jb250ZXh0TWVudS5hZGRJdGVtKHtcbiAgICAgICAgY29tbWFuZDogJ2ZpbGVtZW51OmNyZWF0ZS1jb25zb2xlJyxcbiAgICAgICAgc2VsZWN0b3I6ICdbZGF0YS10eXBlPVwiZG9jdW1lbnQtdGl0bGVcIl0uanAtbW9kLWN1cnJlbnQnLFxuICAgICAgICByYW5rOiA2XG4gICAgfSk7XG4gICAgaWYgKHBhbGV0dGUpIHtcbiAgICAgICAgW1xuICAgICAgICAgICAgQ29tbWFuZElEcy5yZWxvYWQsXG4gICAgICAgICAgICBDb21tYW5kSURzLnJlc3RvcmVDaGVja3BvaW50LFxuICAgICAgICAgICAgQ29tbWFuZElEcy5zYXZlLFxuICAgICAgICAgICAgQ29tbWFuZElEcy5zYXZlQXMsXG4gICAgICAgICAgICBDb21tYW5kSURzLmRvd25sb2FkLFxuICAgICAgICAgICAgQ29tbWFuZElEcy50b2dnbGVBdXRvc2F2ZVxuICAgICAgICBdLmZvckVhY2goY29tbWFuZCA9PiB7XG4gICAgICAgICAgICBwYWxldHRlLmFkZEl0ZW0oeyBjb21tYW5kLCBjYXRlZ29yeSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChtYWluTWVudSkge1xuICAgICAgICBtYWluTWVudS5zZXR0aW5nc01lbnUuYWRkR3JvdXAoW3sgY29tbWFuZDogQ29tbWFuZElEcy50b2dnbGVBdXRvc2F2ZSB9XSwgNSk7XG4gICAgICAgIG1haW5NZW51LmZpbGVNZW51LmFkZEdyb3VwKFt7IGNvbW1hbmQ6IENvbW1hbmRJRHMuZG93bmxvYWQgfV0sIDYpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZExhYkNvbW1hbmRzKGFwcCwgZG9jTWFuYWdlciwgbGFiU2hlbGwsIG9wZW5lciwgcGFsZXR0ZSkge1xuICAgIGNvbnN0IHsgY29tbWFuZHMgfSA9IGFwcDtcbiAgICAvLyBSZXR1cm5zIHRoZSBkb2Mgd2lkZ2V0IGFzc29jaWF0ZWQgd2l0aCB0aGUgbW9zdCByZWNlbnQgY29udGV4dG1lbnUgZXZlbnQuXG4gICAgY29uc3QgY29udGV4dE1lbnVXaWRnZXQgPSAoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHBhdGhSZSA9IC9bUHBdYXRoOlxccz8oLiopXFxuPy87XG4gICAgICAgIGNvbnN0IHRlc3QgPSAobm9kZSkgPT4geyB2YXIgX2E7IHJldHVybiAhISgoX2EgPSBub2RlWyd0aXRsZSddKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWF0Y2gocGF0aFJlKSk7IH07XG4gICAgICAgIGNvbnN0IG5vZGUgPSBhcHAuY29udGV4dE1lbnVIaXRUZXN0KHRlc3QpO1xuICAgICAgICBjb25zdCBwYXRoTWF0Y2ggPSAoX2EgPSBub2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbJ3RpdGxlJ10ubWF0Y2gocGF0aFJlKTtcbiAgICAgICAgcmV0dXJuIChfYiA9IChwYXRoTWF0Y2ggJiYgZG9jTWFuYWdlci5maW5kV2lkZ2V0KHBhdGhNYXRjaFsxXSwgbnVsbCkpLCAoX2IgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXG4gICAgICAgIC8vIEZhbGwgYmFjayB0byBhY3RpdmUgZG9jIHdpZGdldCBpZiBwYXRoIGNhbm5vdCBiZSBvYnRhaW5lZCBmcm9tIGV2ZW50LlxuICAgICAgICBsYWJTaGVsbC5jdXJyZW50V2lkZ2V0KSk7XG4gICAgfTtcbiAgICAvLyBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgY3VycmVudCB3aWRnZXQgaGFzIGEgZG9jdW1lbnQgY29udGV4dC5cbiAgICBjb25zdCBpc0VuYWJsZWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudFdpZGdldCB9ID0gbGFiU2hlbGw7XG4gICAgICAgIHJldHVybiAhIShjdXJyZW50V2lkZ2V0ICYmIGRvY01hbmFnZXIuY29udGV4dEZvcldpZGdldChjdXJyZW50V2lkZ2V0KSk7XG4gICAgfTtcbiAgICBjb21tYW5kcy5hZGRDb21tYW5kKENvbW1hbmRJRHMuY2xvbmUsIHtcbiAgICAgICAgbGFiZWw6ICgpID0+IGBOZXcgVmlldyBmb3IgJHtmaWxlVHlwZShjb250ZXh0TWVudVdpZGdldCgpLCBkb2NNYW5hZ2VyKX1gLFxuICAgICAgICBpc0VuYWJsZWQsXG4gICAgICAgIGV4ZWN1dGU6IGFyZ3MgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2lkZ2V0ID0gY29udGV4dE1lbnVXaWRnZXQoKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhcmdzWydvcHRpb25zJ10gfHwge1xuICAgICAgICAgICAgICAgIG1vZGU6ICdzcGxpdC1yaWdodCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXdpZGdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENsb25lIHRoZSB3aWRnZXQuXG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBkb2NNYW5hZ2VyLmNsb25lV2lkZ2V0KHdpZGdldCk7XG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBvcGVuZXIub3BlbihjaGlsZCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb21tYW5kcy5hZGRDb21tYW5kKENvbW1hbmRJRHMucmVuYW1lLCB7XG4gICAgICAgIGxhYmVsOiAoKSA9PiBgUmVuYW1lICR7ZmlsZVR5cGUoY29udGV4dE1lbnVXaWRnZXQoKSwgZG9jTWFuYWdlcil94oCmYCxcbiAgICAgICAgaXNFbmFibGVkLFxuICAgICAgICBleGVjdXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJbXBsaWVzIGNvbnRleHRNZW51V2lkZ2V0KCkgIT09IG51bGxcbiAgICAgICAgICAgIGlmIChpc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gZG9jTWFuYWdlci5jb250ZXh0Rm9yV2lkZ2V0KGNvbnRleHRNZW51V2lkZ2V0KCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZW5hbWVEaWFsb2coZG9jTWFuYWdlciwgY29udGV4dC5wYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbW1hbmRzLmFkZENvbW1hbmQoQ29tbWFuZElEcy5zaG93SW5GaWxlQnJvd3Nlciwge1xuICAgICAgICBsYWJlbDogKCkgPT4gYFNob3cgaW4gRmlsZSBCcm93c2VyYCxcbiAgICAgICAgaXNFbmFibGVkLFxuICAgICAgICBleGVjdXRlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgd2lkZ2V0ID0gY29udGV4dE1lbnVXaWRnZXQoKTtcbiAgICAgICAgICAgIGxldCBjb250ZXh0ID0gd2lkZ2V0ICYmIGRvY01hbmFnZXIuY29udGV4dEZvcldpZGdldCh3aWRnZXQpO1xuICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gJ2FjdGl2YXRlJyBpcyBuZWVkZWQgaWYgdGhpcyBjb21tYW5kIGlzIHNlbGVjdGVkIGluIHRoZSBcIm9wZW4gdGFic1wiIHNpZGViYXJcbiAgICAgICAgICAgIGF3YWl0IGNvbW1hbmRzLmV4ZWN1dGUoJ2ZpbGVicm93c2VyOmFjdGl2YXRlJywgeyBwYXRoOiBjb250ZXh0LnBhdGggfSk7XG4gICAgICAgICAgICBhd2FpdCBjb21tYW5kcy5leGVjdXRlKCdmaWxlYnJvd3Nlcjpnby10by1wYXRoJywgeyBwYXRoOiBjb250ZXh0LnBhdGggfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBhcHAuY29udGV4dE1lbnUuYWRkSXRlbSh7XG4gICAgICAgIGNvbW1hbmQ6IENvbW1hbmRJRHMucmVuYW1lLFxuICAgICAgICBzZWxlY3RvcjogJ1tkYXRhLXR5cGU9XCJkb2N1bWVudC10aXRsZVwiXScsXG4gICAgICAgIHJhbms6IDFcbiAgICB9KTtcbiAgICBhcHAuY29udGV4dE1lbnUuYWRkSXRlbSh7XG4gICAgICAgIGNvbW1hbmQ6IENvbW1hbmRJRHMuY2xvbmUsXG4gICAgICAgIHNlbGVjdG9yOiAnW2RhdGEtdHlwZT1cImRvY3VtZW50LXRpdGxlXCJdJyxcbiAgICAgICAgcmFuazogMlxuICAgIH0pO1xuICAgIGFwcC5jb250ZXh0TWVudS5hZGRJdGVtKHtcbiAgICAgICAgY29tbWFuZDogQ29tbWFuZElEcy5zaG93SW5GaWxlQnJvd3NlcixcbiAgICAgICAgc2VsZWN0b3I6ICdbZGF0YS10eXBlPVwiZG9jdW1lbnQtdGl0bGVcIl0nLFxuICAgICAgICByYW5rOiAzXG4gICAgfSk7XG59XG4vKipcbiAqIEhhbmRsZSBkaXJ0eSBzdGF0ZSBmb3IgYSBjb250ZXh0LlxuICovXG5mdW5jdGlvbiBoYW5kbGVDb250ZXh0KHN0YXR1cywgY29udGV4dCkge1xuICAgIGxldCBkaXNwb3NhYmxlID0gbnVsbDtcbiAgICBsZXQgb25TdGF0ZUNoYW5nZWQgPSAoc2VuZGVyLCBhcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzLm5hbWUgPT09ICdkaXJ0eScpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLm5ld1ZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2FibGUgPSBzdGF0dXMuc2V0RGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgZGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZvaWQgY29udGV4dC5yZWFkeS50aGVuKCgpID0+IHtcbiAgICAgICAgY29udGV4dC5tb2RlbC5zdGF0ZUNoYW5nZWQuY29ubmVjdChvblN0YXRlQ2hhbmdlZCk7XG4gICAgICAgIGlmIChjb250ZXh0Lm1vZGVsLmRpcnR5KSB7XG4gICAgICAgICAgICBkaXNwb3NhYmxlID0gc3RhdHVzLnNldERpcnR5KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb250ZXh0LmRpc3Bvc2VkLmNvbm5lY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzcG9zYWJsZSkge1xuICAgICAgICAgICAgZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogQSBuYW1lc3BhY2UgZm9yIHByaXZhdGUgbW9kdWxlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogQSBjb3VudGVyIGZvciB1bmlxdWUgSURzLlxuICAgICAqL1xuICAgIFByaXZhdGUuaWQgPSAwO1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJldmVydENvbmZpcm1Ob2RlKGNoZWNrcG9pbnQsIGZpbGVUeXBlKSB7XG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxldCBjb25maXJtTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgbGV0IGNvbmZpcm1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXZlcnRcbiAgICAgIHRoZSAke2ZpbGVUeXBlfSB0byB0aGUgbGF0ZXN0IGNoZWNrcG9pbnQ/IGApO1xuICAgICAgICBsZXQgY2Fubm90VW5kb1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHJvbmcnKTtcbiAgICAgICAgY2Fubm90VW5kb1RleHQudGV4dENvbnRlbnQgPSAnVGhpcyBjYW5ub3QgYmUgdW5kb25lLic7XG4gICAgICAgIGNvbmZpcm1NZXNzYWdlLmFwcGVuZENoaWxkKGNvbmZpcm1UZXh0KTtcbiAgICAgICAgY29uZmlybU1lc3NhZ2UuYXBwZW5kQ2hpbGQoY2Fubm90VW5kb1RleHQpO1xuICAgICAgICBsZXQgbGFzdENoZWNrcG9pbnRNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBsZXQgbGFzdENoZWNrcG9pbnRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1RoZSBjaGVja3BvaW50IHdhcyBsYXN0IHVwZGF0ZWQgYXQ6ICcpO1xuICAgICAgICBsZXQgbGFzdENoZWNrcG9pbnREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGNoZWNrcG9pbnQubGFzdF9tb2RpZmllZCk7XG4gICAgICAgIGxhc3RDaGVja3BvaW50RGF0ZS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgbGFzdENoZWNrcG9pbnREYXRlLnRleHRDb250ZW50ID1cbiAgICAgICAgICAgIFRpbWUuZm9ybWF0KGRhdGUsICdkZGRkLCBNTU1NIERvIFlZWVksIGg6bW06c3MgYScpICtcbiAgICAgICAgICAgICAgICAnICgnICtcbiAgICAgICAgICAgICAgICBUaW1lLmZvcm1hdEh1bWFuKGRhdGUpICtcbiAgICAgICAgICAgICAgICAnKSc7XG4gICAgICAgIGxhc3RDaGVja3BvaW50TWVzc2FnZS5hcHBlbmRDaGlsZChsYXN0Q2hlY2twb2ludFRleHQpO1xuICAgICAgICBsYXN0Q2hlY2twb2ludE1lc3NhZ2UuYXBwZW5kQ2hpbGQobGFzdENoZWNrcG9pbnREYXRlKTtcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChjb25maXJtTWVzc2FnZSk7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobGFzdENoZWNrcG9pbnRNZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuICAgIFByaXZhdGUuY3JlYXRlUmV2ZXJ0Q29uZmlybU5vZGUgPSBjcmVhdGVSZXZlcnRDb25maXJtTm9kZTtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qKlxuICogVGhlIHJlbmRlcm1pbWUgdG9rZW4uXG4gKi9cbmV4cG9ydCBjb25zdCBJUmVuZGVyTWltZVJlZ2lzdHJ5ID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9yZW5kZXJtaW1lOklSZW5kZXJNaW1lUmVnaXN0cnknKTtcbi8qIHRzbGludDplbmFibGUgKi9cbi8qIHRzbGludDpkaXNhYmxlICovXG4vKipcbiAqIFRoZSBsYXRleCB0eXBlc2V0dGVyIHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgSUxhdGV4VHlwZXNldHRlciA9IG5ldyBUb2tlbignQGp1cHl0ZXJsYWIvcmVuZGVybWltZTpJTGF0ZXhUeXBlc2V0dGVyJyk7XG4vKiB0c2xpbnQ6ZW5hYmxlICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZXhwb3J0ICogZnJvbSAnLi9lZGl0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9qc29uZWRpdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vd2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vbWltZXR5cGUnO1xuZXhwb3J0ICogZnJvbSAnLi90b2tlbnMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgVG9rZW4gfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuZXhwb3J0IGNvbnN0IElTdGF0dXNCYXIgPSBuZXcgVG9rZW4oJ0BqdXB5dGVybGFiL3N0YXR1c2JhcjpJU3RhdHVzQmFyJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnMuanMubWFwIiwiLyoqXG4gKiBUaGUgZGVmYXVsdCBtaW1lIG1vZGVsIGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgTWltZU1vZGVsIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgbWltZSBtb2RlbC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy50cnVzdGVkID0gISFvcHRpb25zLnRydXN0ZWQ7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBvcHRpb25zLmRhdGEgfHwge307XG4gICAgICAgIHRoaXMuX21ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrIHx8IFByaXZhdGUubm9PcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtZXRhZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGdldCBtZXRhZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGFkYXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBtb2RlbC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBEZXBlbmRpbmcgb24gdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBtaW1lIG1vZGVsLFxuICAgICAqIHRoaXMgY2FsbCBtYXkgb3IgbWF5IG5vdCBoYXZlIGRlZmVycmVkIGVmZmVjdHMsXG4gICAgICovXG4gICAgc2V0RGF0YShvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBvcHRpb25zLmRhdGEgfHwgdGhpcy5fZGF0YTtcbiAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHRoaXMuX21ldGFkYXRhO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayhvcHRpb25zKTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIG1vZHVsZSBwcml2YXRlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogQSBuby1vcCBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub09wKCkge1xuICAgICAgICAvKiBuby1vcCAqL1xuICAgIH1cbiAgICBQcml2YXRlLm5vT3AgPSBub09wO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taW1lbW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhbGdvcml0aG1fMSA9IHJlcXVpcmUoXCJAbHVtaW5vL2FsZ29yaXRobVwiKTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBsdW1pbm8vY29yZXV0aWxzXCIpO1xuY29uc3QgcG9sbGluZ18xID0gcmVxdWlyZShcIkBsdW1pbm8vcG9sbGluZ1wiKTtcbmNvbnN0IHNpZ25hbGluZ18xID0gcmVxdWlyZShcIkBsdW1pbm8vc2lnbmFsaW5nXCIpO1xuY29uc3QgX18xID0gcmVxdWlyZShcIi4uXCIpO1xuY29uc3QgYmFzZW1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuLi9iYXNlbWFuYWdlclwiKTtcbmNvbnN0IHJlc3RhcGlfMSA9IHJlcXVpcmUoXCIuL3Jlc3RhcGlcIik7XG5jb25zdCBkZWZhdWx0XzEgPSByZXF1aXJlKFwiLi9kZWZhdWx0XCIpO1xuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBhIGtlcm5lbCBtYW5hZ2VyLlxuICovXG5jbGFzcyBLZXJuZWxNYW5hZ2VyIGV4dGVuZHMgYmFzZW1hbmFnZXJfMS5CYXNlTWFuYWdlciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IGtlcm5lbCBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgZGVmYXVsdCBvcHRpb25zIGZvciBrZXJuZWwuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2lzUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fa2VybmVsQ29ubmVjdGlvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX21vZGVscyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcnVubmluZ0NoYW5nZWQgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uRmFpbHVyZSA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIC8vIFN0YXJ0IG1vZGVsIGFuZCBzcGVjcyBwb2xsaW5nIHdpdGggZXhwb25lbnRpYWwgYmFja29mZi5cbiAgICAgICAgdGhpcy5fcG9sbE1vZGVscyA9IG5ldyBwb2xsaW5nXzEuUG9sbCh7XG4gICAgICAgICAgICBhdXRvOiBmYWxzZSxcbiAgICAgICAgICAgIGZhY3Rvcnk6ICgpID0+IHRoaXMucmVxdWVzdFJ1bm5pbmcoKSxcbiAgICAgICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgICAgICAgIGludGVydmFsOiAxMCAqIDEwMDAsXG4gICAgICAgICAgICAgICAgYmFja29mZjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXg6IDMwMCAqIDEwMDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYW1lOiBgQGp1cHl0ZXJsYWIvc2VydmljZXM6S2VybmVsTWFuYWdlciNtb2RlbHNgLFxuICAgICAgICAgICAgc3RhbmRieTogKF9hID0gb3B0aW9ucy5zdGFuZGJ5LCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ3doZW4taGlkZGVuJykpXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJbml0aWFsaXplIGludGVybmFsIGRhdGEuXG4gICAgICAgIHRoaXMuX3JlYWR5ID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BvbGxNb2RlbHMuc3RhcnQoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BvbGxNb2RlbHMudGljaztcbiAgICAgICAgICAgIHRoaXMuX2lzUmVhZHkgPSB0cnVlO1xuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdGhlIG1hbmFnZXIgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZ2V0IGlzUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1JlYWR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aGVuIHRoZSBtYW5hZ2VyIGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGdldCByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gdGhlIHJ1bm5pbmcga2VybmVscyBjaGFuZ2UuXG4gICAgICovXG4gICAgZ2V0IHJ1bm5pbmdDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcnVubmluZ0NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGVyZSBpcyBhIGNvbm5lY3Rpb24gZmFpbHVyZS5cbiAgICAgKi9cbiAgICBnZXQgY29ubmVjdGlvbkZhaWx1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uRmFpbHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIHVzZWQgYnkgdGhlIG1hbmFnZXIuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZGVscy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9rZXJuZWxDb25uZWN0aW9ucy5mb3JFYWNoKHggPT4geC5kaXNwb3NlKCkpO1xuICAgICAgICB0aGlzLl9wb2xsTW9kZWxzLmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIGFuIGV4aXN0aW5nIGtlcm5lbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBuZXcga2VybmVsIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyB3aWxsIHVzZSB0aGUgbWFuYWdlcidzIHNlcnZlciBzZXR0aW5ncyBhbmQgaWdub3JlIGFueSBzZXJ2ZXJcbiAgICAgKiBzZXR0aW5ncyBwYXNzZWQgaW4gdGhlIG9wdGlvbnMuXG4gICAgICovXG4gICAgY29ubmVjdFRvKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB7IGlkIH0gPSBvcHRpb25zLm1vZGVsO1xuICAgICAgICBsZXQgaGFuZGxlQ29tbXMgPSAoX2EgPSBvcHRpb25zLmhhbmRsZUNvbW1zLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZSkpO1xuICAgICAgICAvLyBCeSBkZWZhdWx0LCBoYW5kbGUgY29tbXMgb25seSBpZiBubyBvdGhlciBrZXJuZWwgY29ubmVjdGlvbiBpcy5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFuZGxlQ29tbXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChsZXQga2Mgb2YgdGhpcy5fa2VybmVsQ29ubmVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2MuaWQgPT09IGlkICYmIGtjLmhhbmRsZUNvbW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbW1zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQga2VybmVsQ29ubmVjdGlvbiA9IG5ldyBkZWZhdWx0XzEuS2VybmVsQ29ubmVjdGlvbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBoYW5kbGVDb21tcyB9LCBvcHRpb25zKSwgeyBzZXJ2ZXJTZXR0aW5nczogdGhpcy5zZXJ2ZXJTZXR0aW5ncyB9KSk7XG4gICAgICAgIHRoaXMuX29uU3RhcnRlZChrZXJuZWxDb25uZWN0aW9uKTtcbiAgICAgICAgaWYgKCF0aGlzLl9tb2RlbHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgLy8gV2UgdHJ1c3QgdGhlIHVzZXIgdG8gY29ubmVjdCB0byBhbiBleGlzdGluZyBrZXJuZWwsIGJ1dCB3ZSB2ZXJpZnlcbiAgICAgICAgICAgIC8vIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICAgICAgdm9pZCB0aGlzLnJlZnJlc2hSdW5uaW5nKCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2VybmVsQ29ubmVjdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGl0ZXJhdG9yIG92ZXIgdGhlIG1vc3QgcmVjZW50IHJ1bm5pbmcga2VybmVscy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGl0ZXJhdG9yIG92ZXIgdGhlIHJ1bm5pbmcga2VybmVscy5cbiAgICAgKi9cbiAgICBydW5uaW5nKCkge1xuICAgICAgICByZXR1cm4gYWxnb3JpdGhtXzEuaXRlcihbLi4udGhpcy5fbW9kZWxzLnZhbHVlcygpXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcmNlIGEgcmVmcmVzaCBvZiB0aGUgcnVubmluZyBrZXJuZWxzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgcnVubmluZyBsaXN0IGhhcyBiZWVuIHJlZnJlc2hlZC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIG5vdCB0eXBpY2FsbHkgbWVhbnQgdG8gYmUgY2FsbGVkIGJ5IHRoZSB1c2VyLCBzaW5jZSB0aGVcbiAgICAgKiBtYW5hZ2VyIG1haW50YWlucyBpdHMgb3duIGludGVybmFsIHN0YXRlLlxuICAgICAqL1xuICAgIGFzeW5jIHJlZnJlc2hSdW5uaW5nKCkge1xuICAgICAgICBhd2FpdCB0aGlzLl9wb2xsTW9kZWxzLnJlZnJlc2goKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fcG9sbE1vZGVscy50aWNrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCBhIG5ldyBrZXJuZWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3JlYXRlT3B0aW9ucyAtIFRoZSBrZXJuZWwgY3JlYXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogQHBhcmFtIGNvbm5lY3RPcHRpb25zIC0gVGhlIGtlcm5lbCBjb25uZWN0aW9uIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGtlcm5lbCBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBtYW5hZ2VyIGBzZXJ2ZXJTZXR0aW5nc2Agd2lsbCBiZSBhbHdheXMgYmUgdXNlZC5cbiAgICAgKi9cbiAgICBhc3luYyBzdGFydE5ldyhjcmVhdGVPcHRpb25zID0ge30sIGNvbm5lY3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBhd2FpdCByZXN0YXBpXzEuc3RhcnROZXcoY3JlYXRlT3B0aW9ucywgdGhpcy5zZXJ2ZXJTZXR0aW5ncyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RUbyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbm5lY3RPcHRpb25zKSwgeyBtb2RlbCB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNodXQgZG93biBhIGtlcm5lbCBieSBpZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgdGFyZ2V0IGtlcm5lbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBzaHV0ZG93bihpZCkge1xuICAgICAgICBhd2FpdCByZXN0YXBpXzEuc2h1dGRvd25LZXJuZWwoaWQsIHRoaXMuc2VydmVyU2V0dGluZ3MpO1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hSdW5uaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNodXQgZG93biBhbGwga2VybmVscy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIG9mIHRoZSBrZXJuZWxzIGFyZSBzaHV0IGRvd24uXG4gICAgICovXG4gICAgYXN5bmMgc2h1dGRvd25BbGwoKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbGlzdCBvZiBtb2RlbHMgdG8gbWFrZSBzdXJlIG91ciBsaXN0IGlzIGN1cnJlbnQuXG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFJ1bm5pbmcoKTtcbiAgICAgICAgLy8gU2h1dCBkb3duIGFsbCBtb2RlbHMuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFsuLi50aGlzLl9tb2RlbHMua2V5cygpXS5tYXAoaWQgPT4gcmVzdGFwaV8xLnNodXRkb3duS2VybmVsKGlkLCB0aGlzLnNlcnZlclNldHRpbmdzKSkpO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGxpc3Qgb2YgbW9kZWxzIHRvIGNsZWFyIG91dCBvdXIgc3RhdGUuXG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFJ1bm5pbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBhIGtlcm5lbCBieSBpZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgdGFyZ2V0IGtlcm5lbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGtlcm5lbCdzIG1vZGVsLlxuICAgICAqL1xuICAgIGFzeW5jIGZpbmRCeUlkKGlkKSB7XG4gICAgICAgIGlmICh0aGlzLl9tb2RlbHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVscy5nZXQoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFJ1bm5pbmcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVscy5nZXQoaWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHRvIHBvbGwgcnVubmluZyBrZXJuZWxzIGFuZCB1cGRhdGUgc3RhdGUuXG4gICAgICovXG4gICAgYXN5bmMgcmVxdWVzdFJ1bm5pbmcoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IG1vZGVscztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1vZGVscyA9IGF3YWl0IHJlc3RhcGlfMS5saXN0UnVubmluZyh0aGlzLnNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgYSBuZXR3b3JrIGVycm9yLCBvciBhIDUwMyBlcnJvciwgd2hpY2ggaXMgcmV0dXJuZWRcbiAgICAgICAgICAgIC8vIGJ5IGEgSnVweXRlckh1YiB3aGVuIGEgc2VydmVyIGlzIHNodXQgZG93bi5cbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBfXzEuU2VydmVyQ29ubmVjdGlvbi5OZXR3b3JrRXJyb3IgfHxcbiAgICAgICAgICAgICAgICAoKF9hID0gZXJyLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhdHVzKSA9PT0gNTAzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvbkZhaWx1cmUuZW1pdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW9kZWxzLnNpemUgPT09IG1vZGVscy5sZW5ndGggJiZcbiAgICAgICAgICAgIGFsZ29yaXRobV8xLmV2ZXJ5KG1vZGVscywgeCA9PiBjb3JldXRpbHNfMS5KU09ORXh0LmRlZXBFcXVhbCh0aGlzLl9tb2RlbHMuZ2V0KHguaWQpLCB4KSkpIHtcbiAgICAgICAgICAgIC8vIElkZW50aWNhbCBtb2RlbHMgbGlzdCAocHJlc3VtaW5nIG1vZGVscyBkb2VzIG5vdCBjb250YWluIGR1cGxpY2F0ZVxuICAgICAgICAgICAgLy8gaWRzKSwgc28ganVzdCByZXR1cm5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tb2RlbHMgPSBuZXcgTWFwKG1vZGVscy5tYXAoeCA9PiBbeC5pZCwgeF0pKTtcbiAgICAgICAgLy8gRm9yIGFueSBrZXJuZWwgY29ubmVjdGlvbiB0byBhIGtlcm5lbCB0aGF0IGRvZXNuJ3QgZXhpc3QsIG5vdGlmeSBpdCBvZlxuICAgICAgICAvLyB0aGUgc2h1dGRvd24uXG4gICAgICAgIHRoaXMuX2tlcm5lbENvbm5lY3Rpb25zLmZvckVhY2goa2MgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9tb2RlbHMuaGFzKGtjLmlkKSkge1xuICAgICAgICAgICAgICAgIGtjLmhhbmRsZVNodXRkb3duKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9ydW5uaW5nQ2hhbmdlZC5lbWl0KG1vZGVscyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGtlcm5lbCBzdGFydGluZy5cbiAgICAgKi9cbiAgICBfb25TdGFydGVkKGtlcm5lbENvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fa2VybmVsQ29ubmVjdGlvbnMuYWRkKGtlcm5lbENvbm5lY3Rpb24pO1xuICAgICAgICBrZXJuZWxDb25uZWN0aW9uLnN0YXR1c0NoYW5nZWQuY29ubmVjdCh0aGlzLl9vblN0YXR1c0NoYW5nZWQsIHRoaXMpO1xuICAgICAgICBrZXJuZWxDb25uZWN0aW9uLmRpc3Bvc2VkLmNvbm5lY3QodGhpcy5fb25EaXNwb3NlZCwgdGhpcyk7XG4gICAgfVxuICAgIF9vbkRpc3Bvc2VkKGtlcm5lbENvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fa2VybmVsQ29ubmVjdGlvbnMuZGVsZXRlKGtlcm5lbENvbm5lY3Rpb24pO1xuICAgICAgICAvLyBBIGRpc3Bvc2UgZW1pc3Npb24gY291bGQgbWVhbiB0aGUgc2VydmVyIHNlc3Npb24gaXMgZGVsZXRlZCwgb3IgdGhhdFxuICAgICAgICAvLyB0aGUga2VybmVsIEpTIG9iamVjdCBpcyBkaXNwb3NlZCBhbmQgdGhlIGtlcm5lbCBzdGlsbCBleGlzdHMgb24gdGhlXG4gICAgICAgIC8vIHNlcnZlciwgc28gd2UgcmVmcmVzaCBmcm9tIHRoZSBzZXJ2ZXIgdG8gbWFrZSBzdXJlIHdlIHJlZmxlY3QgdGhlXG4gICAgICAgIC8vIHNlcnZlciBzdGF0ZS5cbiAgICAgICAgdm9pZCB0aGlzLnJlZnJlc2hSdW5uaW5nKCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9vblN0YXR1c0NoYW5nZWQoa2VybmVsQ29ubmVjdGlvbiwgc3RhdHVzKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09ICdkZWFkJykge1xuICAgICAgICAgICAgLy8gV2UgYXN5bmNocm9ub3VzbHkgdXBkYXRlIG91ciBsaXN0IG9mIGtlcm5lbHMsIHdoaWNoIGFzeW5jaHJvbm91c2x5XG4gICAgICAgICAgICAvLyB3aWxsIGRpc3Bvc2UgdGhlbS4gV2UgZG8gbm90IHdhbnQgdG8gaW1tZWRpYXRlbHkgZGlzcG9zZSB0aGVtIGJlY2F1c2VcbiAgICAgICAgICAgIC8vIHRoZXJlIG1heSBiZSBvdGhlciBzaWduYWwgaGFuZGxlcnMgdGhhdCB3YW50IHRvIGJlIGNhbGxlZC5cbiAgICAgICAgICAgIHZvaWQgdGhpcy5yZWZyZXNoUnVubmluZygpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLktlcm5lbE1hbmFnZXIgPSBLZXJuZWxNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuYWdlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHNlcnZlcmNvbm5lY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9zZXJ2ZXJjb25uZWN0aW9uXCIpO1xuY29uc3QgdmFsaWRhdGVfMSA9IHJlcXVpcmUoXCIuL3ZhbGlkYXRlXCIpO1xuY29uc3QgY29yZXV0aWxzXzEgPSByZXF1aXJlKFwiQGp1cHl0ZXJsYWIvY29yZXV0aWxzXCIpO1xuLyoqXG4gKiBUaGUgdXJsIGZvciB0aGUga2VybmVsc3BlYyBzZXJ2aWNlLlxuICovXG5jb25zdCBLRVJORUxTUEVDX1NFUlZJQ0VfVVJMID0gJ2FwaS9rZXJuZWxzcGVjcyc7XG4vKipcbiAqIEZldGNoIGFsbCBvZiB0aGUga2VybmVsIHNwZWNzLlxuICpcbiAqIEBwYXJhbSBzZXR0aW5ncyAtIFRoZSBvcHRpb25hbCBzZXJ2ZXIgc2V0dGluZ3MuXG4gKiBAcGFyYW0gdXNlQ2FjaGUgLSBXaGV0aGVyIHRvIHVzZSB0aGUgY2FjaGUuIElmIGZhbHNlLCBhbHdheXMgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBrZXJuZWwgc3BlY3MuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9rZXJuZWxzcGVjcykuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFNwZWNzKHNldHRpbmdzID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpIHtcbiAgICBsZXQgdXJsID0gY29yZXV0aWxzXzEuVVJMRXh0LmpvaW4oc2V0dGluZ3MuYmFzZVVybCwgS0VSTkVMU1BFQ19TRVJWSUNFX1VSTCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIHt9LCBzZXR0aW5ncyk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHRocm93IG5ldyBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gdmFsaWRhdGVfMS52YWxpZGF0ZVNwZWNNb2RlbHMoZGF0YSk7XG59XG5leHBvcnRzLmdldFNwZWNzID0gZ2V0U3BlY3M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN0YXBpLmpzLm1hcCIsImltcG9ydCAqIGFzIHdpZGdldHMgZnJvbSAnLi93aWRnZXRzJztcbi8qKlxuICogQSBtaW1lIHJlbmRlcmVyIGZhY3RvcnkgZm9yIHJhdyBodG1sLlxuICovXG5leHBvcnQgY29uc3QgaHRtbFJlbmRlcmVyRmFjdG9yeSA9IHtcbiAgICBzYWZlOiB0cnVlLFxuICAgIG1pbWVUeXBlczogWyd0ZXh0L2h0bWwnXSxcbiAgICBkZWZhdWx0UmFuazogNTAsXG4gICAgY3JlYXRlUmVuZGVyZXI6IG9wdGlvbnMgPT4gbmV3IHdpZGdldHMuUmVuZGVyZWRIVE1MKG9wdGlvbnMpXG59O1xuLyoqXG4gKiBBIG1pbWUgcmVuZGVyZXIgZmFjdG9yeSBmb3IgaW1hZ2VzLlxuICovXG5leHBvcnQgY29uc3QgaW1hZ2VSZW5kZXJlckZhY3RvcnkgPSB7XG4gICAgc2FmZTogdHJ1ZSxcbiAgICBtaW1lVHlwZXM6IFsnaW1hZ2UvYm1wJywgJ2ltYWdlL3BuZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2dpZiddLFxuICAgIGRlZmF1bHRSYW5rOiA5MCxcbiAgICBjcmVhdGVSZW5kZXJlcjogb3B0aW9ucyA9PiBuZXcgd2lkZ2V0cy5SZW5kZXJlZEltYWdlKG9wdGlvbnMpXG59O1xuLyoqXG4gKiBBIG1pbWUgcmVuZGVyZXIgZmFjdG9yeSBmb3IgTGFUZVguXG4gKi9cbmV4cG9ydCBjb25zdCBsYXRleFJlbmRlcmVyRmFjdG9yeSA9IHtcbiAgICBzYWZlOiB0cnVlLFxuICAgIG1pbWVUeXBlczogWyd0ZXh0L2xhdGV4J10sXG4gICAgZGVmYXVsdFJhbms6IDcwLFxuICAgIGNyZWF0ZVJlbmRlcmVyOiBvcHRpb25zID0+IG5ldyB3aWRnZXRzLlJlbmRlcmVkTGF0ZXgob3B0aW9ucylcbn07XG4vKipcbiAqIEEgbWltZSByZW5kZXJlciBmYWN0b3J5IGZvciBNYXJrZG93bi5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtkb3duUmVuZGVyZXJGYWN0b3J5ID0ge1xuICAgIHNhZmU6IHRydWUsXG4gICAgbWltZVR5cGVzOiBbJ3RleHQvbWFya2Rvd24nXSxcbiAgICBkZWZhdWx0UmFuazogNjAsXG4gICAgY3JlYXRlUmVuZGVyZXI6IG9wdGlvbnMgPT4gbmV3IHdpZGdldHMuUmVuZGVyZWRNYXJrZG93bihvcHRpb25zKVxufTtcbi8qKlxuICogQSBtaW1lIHJlbmRlcmVyIGZhY3RvcnkgZm9yIHN2Zy5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2Z1JlbmRlcmVyRmFjdG9yeSA9IHtcbiAgICBzYWZlOiBmYWxzZSxcbiAgICBtaW1lVHlwZXM6IFsnaW1hZ2Uvc3ZnK3htbCddLFxuICAgIGRlZmF1bHRSYW5rOiA4MCxcbiAgICBjcmVhdGVSZW5kZXJlcjogb3B0aW9ucyA9PiBuZXcgd2lkZ2V0cy5SZW5kZXJlZFNWRyhvcHRpb25zKVxufTtcbi8qKlxuICogQSBtaW1lIHJlbmRlcmVyIGZhY3RvcnkgZm9yIHBsYWluIGFuZCBqdXB5dGVyIGNvbnNvbGUgdGV4dCBkYXRhLlxuICovXG5leHBvcnQgY29uc3QgdGV4dFJlbmRlcmVyRmFjdG9yeSA9IHtcbiAgICBzYWZlOiB0cnVlLFxuICAgIG1pbWVUeXBlczogW1xuICAgICAgICAndGV4dC9wbGFpbicsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQuanVweXRlci5zdGRvdXQnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLmp1cHl0ZXIuc3RkZXJyJ1xuICAgIF0sXG4gICAgZGVmYXVsdFJhbms6IDEyMCxcbiAgICBjcmVhdGVSZW5kZXJlcjogb3B0aW9ucyA9PiBuZXcgd2lkZ2V0cy5SZW5kZXJlZFRleHQob3B0aW9ucylcbn07XG4vKipcbiAqIEEgcGxhY2Vob2xkZXIgZmFjdG9yeSBmb3IgcmVuZGVyZWQgSmF2YVNjcmlwdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGphdmFTY3JpcHRSZW5kZXJlckZhY3RvcnkgPSB7XG4gICAgc2FmZTogZmFsc2UsXG4gICAgbWltZVR5cGVzOiBbJ3RleHQvamF2YXNjcmlwdCcsICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J10sXG4gICAgZGVmYXVsdFJhbms6IDExMCxcbiAgICBjcmVhdGVSZW5kZXJlcjogb3B0aW9ucyA9PiBuZXcgd2lkZ2V0cy5SZW5kZXJlZEphdmFTY3JpcHQob3B0aW9ucylcbn07XG4vKipcbiAqIFRoZSBzdGFuZGFyZCBmYWN0b3JpZXMgcHJvdmlkZWQgYnkgdGhlIHJlbmRlcm1pbWUgcGFja2FnZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YW5kYXJkUmVuZGVyZXJGYWN0b3JpZXMgPSBbXG4gICAgaHRtbFJlbmRlcmVyRmFjdG9yeSxcbiAgICBtYXJrZG93blJlbmRlcmVyRmFjdG9yeSxcbiAgICBsYXRleFJlbmRlcmVyRmFjdG9yeSxcbiAgICBzdmdSZW5kZXJlckZhY3RvcnksXG4gICAgaW1hZ2VSZW5kZXJlckZhY3RvcnksXG4gICAgamF2YVNjcmlwdFJlbmRlcmVyRmFjdG9yeSxcbiAgICB0ZXh0UmVuZGVyZXJGYWN0b3J5XG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFjdG9yaWVzLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IEp1cHl0ZXJMYWJNZW51IH0gZnJvbSAnLi9sYWJtZW51Jztcbi8qKlxuICogQW4gZXh0ZW5zaWJsZSBWaWV3IG1lbnUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFZpZXdNZW51IGV4dGVuZHMgSnVweXRlckxhYk1lbnUge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCB0aGUgdmlldyBtZW51LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWVudS50aXRsZS5sYWJlbCA9ICdWaWV3JztcbiAgICAgICAgdGhpcy5lZGl0b3JWaWV3ZXJzID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgdmlldyBtZW51LlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZWRpdG9yVmlld2Vycy5jbGVhcigpO1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy5qcy5tYXAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG58IENvcHlyaWdodCAoYykgMjAxNC0yMDE2LCBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXFxufFxcbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLmpwLUhvdmVyQm94IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG59XFxuXFxuLmpwLUhvdmVyQm94LmpwLW1vZC1vdXRvZnZpZXcge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmV4cG9ydCAqIGZyb20gJy4vZGlhbG9ncyc7XG5leHBvcnQgKiBmcm9tICcuL3Rva2Vucyc7XG5leHBvcnQgKiBmcm9tICcuL21hbmFnZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zYXZlaGFuZGxlcic7XG5leHBvcnQgKiBmcm9tICcuL3NhdmluZ3N0YXR1cyc7XG5leHBvcnQgKiBmcm9tICcuL3BhdGhzdGF0dXMnO1xuZXhwb3J0ICogZnJvbSAnLi93aWRnZXRtYW5hZ2VyJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBjb2RlIGJsb2NrIGZ1bmN0aW9ucyB3aGljaCBoZWxwXG4gKiBpbiBleHRyYWN0IGNvZGUgZnJvbSBtYXJrZG93biB0ZXh0XG4gKi9cbnZhciBNYXJrZG93bkNvZGVCbG9ja3M7XG4oZnVuY3Rpb24gKE1hcmtkb3duQ29kZUJsb2Nrcykge1xuICAgIE1hcmtkb3duQ29kZUJsb2Nrcy5DT0RFX0JMT0NLX01BUktFUiA9ICdgYGAnO1xuICAgIGNvbnN0IG1hcmtkb3duRXh0ZW5zaW9ucyA9IFtcbiAgICAgICAgJy5tYXJrZG93bicsXG4gICAgICAgICcubWRvd24nLFxuICAgICAgICAnLm1rZG4nLFxuICAgICAgICAnLm1kJyxcbiAgICAgICAgJy5ta2QnLFxuICAgICAgICAnLm1kd24nLFxuICAgICAgICAnLm1kdHh0JyxcbiAgICAgICAgJy5tZHRleHQnLFxuICAgICAgICAnLnRleHQnLFxuICAgICAgICAnLnR4dCcsXG4gICAgICAgICcuUm1kJ1xuICAgIF07XG4gICAgY2xhc3MgTWFya2Rvd25Db2RlQmxvY2sge1xuICAgICAgICBjb25zdHJ1Y3RvcihzdGFydExpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRMaW5lID0gc3RhcnRMaW5lO1xuICAgICAgICAgICAgdGhpcy5jb2RlID0gJyc7XG4gICAgICAgICAgICB0aGlzLmVuZExpbmUgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNYXJrZG93bkNvZGVCbG9ja3MuTWFya2Rvd25Db2RlQmxvY2sgPSBNYXJrZG93bkNvZGVCbG9jaztcbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiBmaWxlIGV4dGVuc2lvbiBpcyBhIG1hcmtkb3duIGV4dGVuc2lvblxuICAgICAqIEBwYXJhbSBleHRlbnNpb24gLSBBIGZpbGUgZXh0ZW5zaW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cnVlL2ZhbHNlIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoaXMgaXMgYSBzdXBwb3J0ZWQgbWFya2Rvd24gZXh0ZW5zaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXJrZG93bihleHRlbnNpb24pIHtcbiAgICAgICAgcmV0dXJuIG1hcmtkb3duRXh0ZW5zaW9ucy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9XG4gICAgTWFya2Rvd25Db2RlQmxvY2tzLmlzTWFya2Rvd24gPSBpc01hcmtkb3duO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhbGwgY29kZSBzbmlwcGV0cyBmcm9tIGN1cnJlbnQgdGV4dFxuICAgICAqICh0aGlzIGNvdWxkIGJlIHBvdGVudGlhbGx5IG9wdGltaXplZCBpZiB3ZSBjYW4gY2FjaGUgYW5kIGRldGVjdCBkaWZmZXJlbmNlcylcbiAgICAgKiBAcGFyYW0gdGV4dCAtIEEgc3RyaW5nIHRvIHBhcnNlIGNvZGVibG9ja3MgZnJvbVxuICAgICAqXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgTWFya2Rvd25Db2RlQmxvY2tzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRNYXJrZG93bkNvZGVCbG9ja3ModGV4dCkge1xuICAgICAgICBpZiAoIXRleHQgfHwgdGV4dCA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICBjb25zdCBjb2RlQmxvY2tzID0gW107XG4gICAgICAgIGxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBsaW5lSW5kZXggPSAwOyBsaW5lSW5kZXggPCBsaW5lcy5sZW5ndGg7IGxpbmVJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gbGluZXNbbGluZUluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVDb250YWluc01hcmtlciA9IGxpbmUuaW5kZXhPZihNYXJrZG93bkNvZGVCbG9ja3MuQ09ERV9CTE9DS19NQVJLRVIpID09PSAwO1xuICAgICAgICAgICAgY29uc3QgY29uc3RydWN0aW5nQmxvY2sgPSBjdXJyZW50QmxvY2sgIT0gbnVsbDtcbiAgICAgICAgICAgIC8vIFNraXAgdGhpcyBsaW5lIGlmIGl0IGlzIG5vdCBwYXJ0IG9mIGFueSBjb2RlIGJsb2NrIGFuZCBkb2Vzbid0IGNvbnRhaW4gYSBtYXJrZXIuXG4gICAgICAgICAgICBpZiAoIWxpbmVDb250YWluc01hcmtlciAmJiAhY29uc3RydWN0aW5nQmxvY2spIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGFyZSBhbHJlYWR5IGNvbnN0cnVjdGluZyBhIGNvZGUgYmxvY2suXG4gICAgICAgICAgICBpZiAoIWNvbnN0cnVjdGluZ0Jsb2NrKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgY29uc3RydWN0aW5nIGEgbmV3IGNvZGUgYmxvY2suXG4gICAgICAgICAgICAgICAgY3VycmVudEJsb2NrID0gbmV3IE1hcmtkb3duQ29kZUJsb2NrKGxpbmVJbmRleCk7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGlzIGlzIGEgc2luZ2xlIGxpbmUgY29kZSBibG9jayBvZiB0aGUgZm9ybSBgYGBhID0gMTBgYGAuXG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RJbmRleCA9IGxpbmUuaW5kZXhPZihNYXJrZG93bkNvZGVCbG9ja3MuQ09ERV9CTE9DS19NQVJLRVIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IGxpbmUubGFzdEluZGV4T2YoTWFya2Rvd25Db2RlQmxvY2tzLkNPREVfQkxPQ0tfTUFSS0VSKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NpbmdsZUxpbmUgPSBmaXJzdEluZGV4ICE9PSBsYXN0SW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2luZ2xlTGluZSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2suY29kZSA9IGxpbmUuc3Vic3RyaW5nKGZpcnN0SW5kZXggKyBNYXJrZG93bkNvZGVCbG9ja3MuQ09ERV9CTE9DS19NQVJLRVIubGVuZ3RoLCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2suZW5kTGluZSA9IGxpbmVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgY29kZUJsb2Nrcy5wdXNoKGN1cnJlbnRCbG9jayk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9jayA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudEJsb2NrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVDb250YWluc01hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgb2YgYmxvY2ssIGZpbmlzaCBpdCB1cC5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEJsb2NrLmVuZExpbmUgPSBsaW5lSW5kZXggLSAxO1xuICAgICAgICAgICAgICAgICAgICBjb2RlQmxvY2tzLnB1c2goY3VycmVudEJsb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEJsb2NrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgY3VycmVudCBsaW5lLlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50QmxvY2suY29kZSArPSBsaW5lICsgJ1xcbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2RlQmxvY2tzO1xuICAgIH1cbiAgICBNYXJrZG93bkNvZGVCbG9ja3MuZmluZE1hcmtkb3duQ29kZUJsb2NrcyA9IGZpbmRNYXJrZG93bkNvZGVCbG9ja3M7XG59KShNYXJrZG93bkNvZGVCbG9ja3MgPSBleHBvcnRzLk1hcmtkb3duQ29kZUJsb2NrcyB8fCAoZXhwb3J0cy5NYXJrZG93bkNvZGVCbG9ja3MgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFya2Rvd25jb2RlYmxvY2tzLmpzLm1hcCIsImltcG9ydCB7IFdpZGdldCB9IGZyb20gJ0BsdW1pbm8vd2lkZ2V0cyc7XG5pbXBvcnQgKiBhcyByZW5kZXJlcnMgZnJvbSAnLi9yZW5kZXJlcnMnO1xuLyoqXG4gKiBBIGNvbW1vbiBiYXNlIGNsYXNzIGZvciBtaW1lIHJlbmRlcmVycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlcmVkQ29tbW9uIGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgcmVuZGVyZWQgY29tbW9uIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGluaXRpYWxpemluZyB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5taW1lVHlwZSA9IG9wdGlvbnMubWltZVR5cGU7XG4gICAgICAgIHRoaXMuc2FuaXRpemVyID0gb3B0aW9ucy5zYW5pdGl6ZXI7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSBvcHRpb25zLnJlc29sdmVyO1xuICAgICAgICB0aGlzLmxpbmtIYW5kbGVyID0gb3B0aW9ucy5saW5rSGFuZGxlcjtcbiAgICAgICAgdGhpcy5sYXRleFR5cGVzZXR0ZXIgPSBvcHRpb25zLmxhdGV4VHlwZXNldHRlcjtcbiAgICAgICAgdGhpcy5ub2RlLmRhdGFzZXRbJ21pbWVUeXBlJ10gPSB0aGlzLm1pbWVUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBtaW1lIG1vZGVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1vZGVsIC0gVGhlIG1pbWUgbW9kZWwgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIElmIHRoZSBET00gbm9kZSBmb3IgdGhpcyB3aWRnZXQgYWxyZWFkeSBoYXMgY29udGVudCwgaXQgaXMgZW1wdGllZFxuICAgICAqIGJlZm9yZSByZW5kZXJpbmcuIFN1YmNsYXNzZXMgdGhhdCBkbyBub3Qgd2FudCB0aGlzIGJlaGF2aW9yXG4gICAgICogKGlmLCBmb3IgaW5zdGFuY2UsIHRoZXkgYXJlIHVzaW5nIERPTSBkaWZmaW5nKSwgc2hvdWxkIG92ZXJyaWRlXG4gICAgICogdGhpcyBtZXRob2QgYW5kIG5vdCBjYWxsIGBzdXBlci5yZW5kZXJNb2RlbCgpYC5cbiAgICAgKi9cbiAgICBhc3luYyByZW5kZXJNb2RlbChtb2RlbCkge1xuICAgICAgICAvLyBUT0RPIGNvbXBhcmUgbW9kZWwgYWdhaW5zdCBvbGQgbW9kZWwgZm9yIGVhcmx5IGJhaWw/XG4gICAgICAgIC8vIEVtcHR5IGFueSBleGlzdGluZyBjb250ZW50IGluIHRoZSBub2RlIGZyb20gcHJldmlvdXMgcmVuZGVyc1xuICAgICAgICB3aGlsZSAodGhpcy5ub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMubm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVG9nZ2xlIHRoZSB0cnVzdGVkIGNsYXNzIG9uIHRoZSB3aWRnZXQuXG4gICAgICAgIHRoaXMudG9nZ2xlQ2xhc3MoJ2pwLW1vZC10cnVzdGVkJywgbW9kZWwudHJ1c3RlZCk7XG4gICAgICAgIC8vIFJlbmRlciB0aGUgYWN0dWFsIGNvbnRlbnQuXG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKG1vZGVsKTtcbiAgICAgICAgLy8gSGFuZGxlIHRoZSBmcmFnbWVudCBpZGVudGlmaWVyIGlmIGdpdmVuLlxuICAgICAgICBjb25zdCB7IGZyYWdtZW50IH0gPSBtb2RlbC5tZXRhZGF0YTtcbiAgICAgICAgaWYgKGZyYWdtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNldEZyYWdtZW50KGZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFVSSSBmcmFnbWVudCBpZGVudGlmaWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZyYWdtZW50IC0gVGhlIFVSSSBmcmFnbWVudCBpZGVudGlmaWVyLlxuICAgICAqL1xuICAgIHNldEZyYWdtZW50KGZyYWdtZW50KSB7XG4gICAgICAgIC8qIG5vLW9wICovXG4gICAgfVxufVxuLyoqXG4gKiBBIGNvbW1vbiBiYXNlIGNsYXNzIGZvciBIVE1MIG1pbWUgcmVuZGVyZXJzLlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyZWRIVE1MQ29tbW9uIGV4dGVuZHMgUmVuZGVyZWRDb21tb24ge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyByZW5kZXJlZCBIVE1MIGNvbW1vbiB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBpbml0aWFsaXppbmcgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFkZENsYXNzKCdqcC1SZW5kZXJlZEhUTUxDb21tb24nKTtcbiAgICB9XG4gICAgc2V0RnJhZ21lbnQoZnJhZ21lbnQpIHtcbiAgICAgICAgbGV0IGVsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZWwgPSB0aGlzLm5vZGUucXVlcnlTZWxlY3RvcihmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBzZXQgVVJJIGZyYWdtZW50IGlkZW50aWZpZXIuJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgZWwuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBtaW1lIHJlbmRlcmVyIGZvciBkaXNwbGF5aW5nIEhUTUwgYW5kIG1hdGguXG4gKi9cbmV4cG9ydCBjbGFzcyBSZW5kZXJlZEhUTUwgZXh0ZW5kcyBSZW5kZXJlZEhUTUxDb21tb24ge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyByZW5kZXJlZCBIVE1MIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGluaXRpYWxpemluZyB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2pwLVJlbmRlcmVkSFRNTCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBtaW1lIG1vZGVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1vZGVsIC0gVGhlIG1pbWUgbW9kZWwgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIHJlbmRlcihtb2RlbCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyZXJzLnJlbmRlckhUTUwoe1xuICAgICAgICAgICAgaG9zdDogdGhpcy5ub2RlLFxuICAgICAgICAgICAgc291cmNlOiBTdHJpbmcobW9kZWwuZGF0YVt0aGlzLm1pbWVUeXBlXSksXG4gICAgICAgICAgICB0cnVzdGVkOiBtb2RlbC50cnVzdGVkLFxuICAgICAgICAgICAgcmVzb2x2ZXI6IHRoaXMucmVzb2x2ZXIsXG4gICAgICAgICAgICBzYW5pdGl6ZXI6IHRoaXMuc2FuaXRpemVyLFxuICAgICAgICAgICAgbGlua0hhbmRsZXI6IHRoaXMubGlua0hhbmRsZXIsXG4gICAgICAgICAgICBzaG91bGRUeXBlc2V0OiB0aGlzLmlzQXR0YWNoZWQsXG4gICAgICAgICAgICBsYXRleFR5cGVzZXR0ZXI6IHRoaXMubGF0ZXhUeXBlc2V0dGVyXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1lc3NhZ2UgaGFuZGxlciBpbnZva2VkIG9uIGFuIGAnYWZ0ZXItYXR0YWNoJ2AgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBvbkFmdGVyQXR0YWNoKG1zZykge1xuICAgICAgICBpZiAodGhpcy5sYXRleFR5cGVzZXR0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMubGF0ZXhUeXBlc2V0dGVyLnR5cGVzZXQodGhpcy5ub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBtaW1lIHJlbmRlcmVyIGZvciBkaXNwbGF5aW5nIExhVGVYIG91dHB1dC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlcmVkTGF0ZXggZXh0ZW5kcyBSZW5kZXJlZENvbW1vbiB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IHJlbmRlcmVkIExhVGVYIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGluaXRpYWxpemluZyB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2pwLVJlbmRlcmVkTGF0ZXgnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgbWltZSBtb2RlbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtb2RlbCAtIFRoZSBtaW1lIG1vZGVsIHRvIHJlbmRlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHJlbmRlcmluZyBpcyBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICByZW5kZXIobW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVycy5yZW5kZXJMYXRleCh7XG4gICAgICAgICAgICBob3N0OiB0aGlzLm5vZGUsXG4gICAgICAgICAgICBzb3VyY2U6IFN0cmluZyhtb2RlbC5kYXRhW3RoaXMubWltZVR5cGVdKSxcbiAgICAgICAgICAgIHNob3VsZFR5cGVzZXQ6IHRoaXMuaXNBdHRhY2hlZCxcbiAgICAgICAgICAgIGxhdGV4VHlwZXNldHRlcjogdGhpcy5sYXRleFR5cGVzZXR0ZXJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWVzc2FnZSBoYW5kbGVyIGludm9rZWQgb24gYW4gYCdhZnRlci1hdHRhY2gnYCBtZXNzYWdlLlxuICAgICAqL1xuICAgIG9uQWZ0ZXJBdHRhY2gobXNnKSB7XG4gICAgICAgIGlmICh0aGlzLmxhdGV4VHlwZXNldHRlcikge1xuICAgICAgICAgICAgdGhpcy5sYXRleFR5cGVzZXR0ZXIudHlwZXNldCh0aGlzLm5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIG1pbWUgcmVuZGVyZXIgZm9yIGRpc3BsYXlpbmcgaW1hZ2VzLlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyZWRJbWFnZSBleHRlbmRzIFJlbmRlcmVkQ29tbW9uIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgcmVuZGVyZWQgaW1hZ2Ugd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgaW5pdGlhbGl6aW5nIHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygnanAtUmVuZGVyZWRJbWFnZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBtaW1lIG1vZGVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1vZGVsIC0gVGhlIG1pbWUgbW9kZWwgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIHJlbmRlcihtb2RlbCkge1xuICAgICAgICBsZXQgbWV0YWRhdGEgPSBtb2RlbC5tZXRhZGF0YVt0aGlzLm1pbWVUeXBlXTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVycy5yZW5kZXJJbWFnZSh7XG4gICAgICAgICAgICBob3N0OiB0aGlzLm5vZGUsXG4gICAgICAgICAgICBtaW1lVHlwZTogdGhpcy5taW1lVHlwZSxcbiAgICAgICAgICAgIHNvdXJjZTogU3RyaW5nKG1vZGVsLmRhdGFbdGhpcy5taW1lVHlwZV0pLFxuICAgICAgICAgICAgd2lkdGg6IG1ldGFkYXRhICYmIG1ldGFkYXRhLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBtZXRhZGF0YSAmJiBtZXRhZGF0YS5oZWlnaHQsXG4gICAgICAgICAgICBuZWVkc0JhY2tncm91bmQ6IG1vZGVsLm1ldGFkYXRhWyduZWVkc19iYWNrZ3JvdW5kJ10sXG4gICAgICAgICAgICB1bmNvbmZpbmVkOiBtZXRhZGF0YSAmJiBtZXRhZGF0YS51bmNvbmZpbmVkXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogQSBtaW1lIHJlbmRlcmVyIGZvciBkaXNwbGF5aW5nIE1hcmtkb3duIHdpdGggZW1iZWRkZWQgbGF0ZXguXG4gKi9cbmV4cG9ydCBjbGFzcyBSZW5kZXJlZE1hcmtkb3duIGV4dGVuZHMgUmVuZGVyZWRIVE1MQ29tbW9uIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgcmVuZGVyZWQgbWFya2Rvd24gd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgaW5pdGlhbGl6aW5nIHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygnanAtUmVuZGVyZWRNYXJrZG93bicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBtaW1lIG1vZGVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1vZGVsIC0gVGhlIG1pbWUgbW9kZWwgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIHJlbmRlcihtb2RlbCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyZXJzLnJlbmRlck1hcmtkb3duKHtcbiAgICAgICAgICAgIGhvc3Q6IHRoaXMubm9kZSxcbiAgICAgICAgICAgIHNvdXJjZTogU3RyaW5nKG1vZGVsLmRhdGFbdGhpcy5taW1lVHlwZV0pLFxuICAgICAgICAgICAgdHJ1c3RlZDogbW9kZWwudHJ1c3RlZCxcbiAgICAgICAgICAgIHJlc29sdmVyOiB0aGlzLnJlc29sdmVyLFxuICAgICAgICAgICAgc2FuaXRpemVyOiB0aGlzLnNhbml0aXplcixcbiAgICAgICAgICAgIGxpbmtIYW5kbGVyOiB0aGlzLmxpbmtIYW5kbGVyLFxuICAgICAgICAgICAgc2hvdWxkVHlwZXNldDogdGhpcy5pc0F0dGFjaGVkLFxuICAgICAgICAgICAgbGF0ZXhUeXBlc2V0dGVyOiB0aGlzLmxhdGV4VHlwZXNldHRlclxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtZXNzYWdlIGhhbmRsZXIgaW52b2tlZCBvbiBhbiBgJ2FmdGVyLWF0dGFjaCdgIG1lc3NhZ2UuXG4gICAgICovXG4gICAgb25BZnRlckF0dGFjaChtc2cpIHtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXhUeXBlc2V0dGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxhdGV4VHlwZXNldHRlci50eXBlc2V0KHRoaXMubm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgd2lkZ2V0IGZvciBkaXNwbGF5aW5nIFNWRyBjb250ZW50LlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyZWRTVkcgZXh0ZW5kcyBSZW5kZXJlZENvbW1vbiB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IHJlbmRlcmVkIFNWRyB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBpbml0aWFsaXppbmcgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFkZENsYXNzKCdqcC1SZW5kZXJlZFNWRycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBtaW1lIG1vZGVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1vZGVsIC0gVGhlIG1pbWUgbW9kZWwgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIHJlbmRlcihtb2RlbCkge1xuICAgICAgICBsZXQgbWV0YWRhdGEgPSBtb2RlbC5tZXRhZGF0YVt0aGlzLm1pbWVUeXBlXTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVycy5yZW5kZXJTVkcoe1xuICAgICAgICAgICAgaG9zdDogdGhpcy5ub2RlLFxuICAgICAgICAgICAgc291cmNlOiBTdHJpbmcobW9kZWwuZGF0YVt0aGlzLm1pbWVUeXBlXSksXG4gICAgICAgICAgICB0cnVzdGVkOiBtb2RlbC50cnVzdGVkLFxuICAgICAgICAgICAgdW5jb25maW5lZDogbWV0YWRhdGEgJiYgbWV0YWRhdGEudW5jb25maW5lZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBtZXNzYWdlIGhhbmRsZXIgaW52b2tlZCBvbiBhbiBgJ2FmdGVyLWF0dGFjaCdgIG1lc3NhZ2UuXG4gICAgICovXG4gICAgb25BZnRlckF0dGFjaChtc2cpIHtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXhUeXBlc2V0dGVyKSB7XG4gICAgICAgICAgICB0aGlzLmxhdGV4VHlwZXNldHRlci50eXBlc2V0KHRoaXMubm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgd2lkZ2V0IGZvciBkaXNwbGF5aW5nIHBsYWluIHRleHQgYW5kIGNvbnNvbGUgdGV4dC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlcmVkVGV4dCBleHRlbmRzIFJlbmRlcmVkQ29tbW9uIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgcmVuZGVyZWQgdGV4dCB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBpbml0aWFsaXppbmcgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFkZENsYXNzKCdqcC1SZW5kZXJlZFRleHQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgbWltZSBtb2RlbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtb2RlbCAtIFRoZSBtaW1lIG1vZGVsIHRvIHJlbmRlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHJlbmRlcmluZyBpcyBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICByZW5kZXIobW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmVycy5yZW5kZXJUZXh0KHtcbiAgICAgICAgICAgIGhvc3Q6IHRoaXMubm9kZSxcbiAgICAgICAgICAgIHNhbml0aXplcjogdGhpcy5zYW5pdGl6ZXIsXG4gICAgICAgICAgICBzb3VyY2U6IFN0cmluZyhtb2RlbC5kYXRhW3RoaXMubWltZVR5cGVdKVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIEEgd2lkZ2V0IGZvciBkaXNwbGF5aW5nIEphdmFTY3JpcHQgb3V0cHV0LlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyZWRKYXZhU2NyaXB0IGV4dGVuZHMgUmVuZGVyZWRDb21tb24ge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyByZW5kZXJlZCB0ZXh0IHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGluaXRpYWxpemluZyB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2pwLVJlbmRlcmVkSmF2YVNjcmlwdCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYSBtaW1lIG1vZGVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1vZGVsIC0gVGhlIG1pbWUgbW9kZWwgdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIHJlbmRlcihtb2RlbCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyZXJzLnJlbmRlclRleHQoe1xuICAgICAgICAgICAgaG9zdDogdGhpcy5ub2RlLFxuICAgICAgICAgICAgc2FuaXRpemVyOiB0aGlzLnNhbml0aXplcixcbiAgICAgICAgICAgIHNvdXJjZTogJ0phdmFTY3JpcHQgb3V0cHV0IGlzIGRpc2FibGVkIGluIEp1cHl0ZXJMYWInXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpZGdldHMuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzI0JyBoZWlnaHQ9JzI1JyB2aWV3Qm94PScwIDAgMjQgMjUnIGZpbGw9J25vbmUnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UgJTNDcGF0aCBjbGFzcz0nanAtaWNvbjInIGQ9J00xLjg2MDk0IDExLjQ0MDlDMC44MjY0NDggOC43NzAyNyAwLjg2Mzc3OSA2LjA1NzY0IDEuMjQ5MDcgNC4xOTkzMkMyLjQ4MjA2IDMuOTMzNDcgNC4wODA2OCAzLjQwMzQ3IDUuNjAxMDIgMi44NDQ5QzcuMjM1NDkgMi4yNDQ0IDguODU2NjYgMS41ODE1IDkuOTg3NiAxLjA5NTM5QzExLjA1OTcgMS41ODM0MSAxMi42MDk0IDIuMjQ0NCAxNC4yMTggMi44NDMzOUMxNS43NTAzIDMuNDEzOTQgMTcuMzk5NSAzLjk1MjU4IDE4Ljc1MzkgNC4yMTM4NUMxOS4xMzY0IDYuMDcxNzcgMTkuMTcwOSA4Ljc3NzIyIDE4LjEzOSAxMS40NDA5QzE3LjAzMDMgMTQuMzAzMiAxNC42NjY4IDE3LjE4NDQgOS45OTk5OSAxOC45MzU0QzUuMzMzMiAxNy4xODQ0IDIuOTY5NjggMTQuMzAzMiAxLjg2MDk0IDExLjQ0MDlaJyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgyIDMpJyBzdHJva2U9JyUyMzMzMzMzMycgc3Ryb2tlLXdpZHRoPScyJy8lM0UgJTNDcGF0aCBjbGFzcz0nanAtaWNvbjInIGQ9J00yLjg2MDE1IDQuODY1MzVMMC43MjY1NDkgMi45OTk1OUwwIDMuNjMwNDVMMi44NjAxNSA2LjEzMTU3TDggMC42MzA4NzJMNy4yNzg1NyAwTDIuODYwMTUgNC44NjUzNVonIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDggOS44NjcxOSknIGZpbGw9JyUyMzMzMzMzMycgc3Ryb2tlPSclMjMzMzMzMzMnLyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI1XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjVcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICAgIDxwYXRoIGNsYXNzPVxcXCJqcC1pY29uMlxcXCIgZD1cXFwiTTEuODYwOTQgMTEuNDQwOUMwLjgyNjQ0OCA4Ljc3MDI3IDAuODYzNzc5IDYuMDU3NjQgMS4yNDkwNyA0LjE5OTMyQzIuNDgyMDYgMy45MzM0NyA0LjA4MDY4IDMuNDAzNDcgNS42MDEwMiAyLjg0NDlDNy4yMzU0OSAyLjI0NDQgOC44NTY2NiAxLjU4MTUgOS45ODc2IDEuMDk1MzlDMTEuMDU5NyAxLjU4MzQxIDEyLjYwOTQgMi4yNDQ0IDE0LjIxOCAyLjg0MzM5QzE1Ljc1MDMgMy40MTM5NCAxNy4zOTk1IDMuOTUyNTggMTguNzUzOSA0LjIxMzg1QzE5LjEzNjQgNi4wNzE3NyAxOS4xNzA5IDguNzc3MjIgMTguMTM5IDExLjQ0MDlDMTcuMDMwMyAxNC4zMDMyIDE0LjY2NjggMTcuMTg0NCA5Ljk5OTk5IDE4LjkzNTRDNS4zMzMyIDE3LjE4NDQgMi45Njk2OCAxNC4zMDMyIDEuODYwOTQgMTEuNDQwOVpcXFwiIHRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDIgMylcXFwiIHN0cm9rZT1cXFwiIzMzMzMzM1xcXCIgc3Ryb2tlLXdpZHRoPVxcXCIyXFxcIi8+XFxuICAgIDxwYXRoIGNsYXNzPVxcXCJqcC1pY29uMlxcXCIgZD1cXFwiTTIuODYwMTUgNC44NjUzNUwwLjcyNjU0OSAyLjk5OTU5TDAgMy42MzA0NUwyLjg2MDE1IDYuMTMxNTdMOCAwLjYzMDg3Mkw3LjI3ODU3IDBMMi44NjAxNSA0Ljg2NTM1WlxcXCIgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoOCA5Ljg2NzE5KVxcXCIgZmlsbD1cXFwiIzMzMzMzM1xcXCIgc3Ryb2tlPVxcXCIjMzMzMzMzXFxcIi8+XFxuPC9zdmc+XFxuXCI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcbiAgICByZXN1bHRbXCJkZWZhdWx0XCJdID0gbW9kO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgU2Vzc2lvbiA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9zZXNzaW9uXCIpKTtcbmV4cG9ydHMuU2Vzc2lvbiA9IFNlc3Npb247XG5jb25zdCBTZXNzaW9uQVBJID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3Jlc3RhcGlcIikpO1xuZXhwb3J0cy5TZXNzaW9uQVBJID0gU2Vzc2lvbkFQSTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL21hbmFnZXJcIikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgdmlld0JveD0nMCAwIDI0IDI0JyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTgnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MSclM0UgJTNDcGF0aCBkPSdNMTIuNSA4Yy0yLjY1IDAtNS4wNS45OS02LjkgMi42TDIgN3Y5aDlsLTMuNjItMy42MmMxLjM5LTEuMTYgMy4xNi0xLjg4IDUuMTItMS44OCAzLjU0IDAgNi41NSAyLjMxIDcuNiA1LjVsMi4zNy0uNzhDMjEuMDggMTEuMDMgMTcuMTUgOCAxMi41IDh6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgd2lkdGg9XFxcIjE4XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTEyLjUgOGMtMi42NSAwLTUuMDUuOTktNi45IDIuNkwyIDd2OWg5bC0zLjYyLTMuNjJjMS4zOS0xLjE2IDMuMTYtMS44OCA1LjEyLTEuODggMy41NCAwIDYuNTUgMi4zMSA3LjYgNS41bDIuMzctLjc4QzIxLjA4IDExLjAzIDE3LjE1IDggMTIuNSA4elxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIGhlaWdodD0nMTgnIHZpZXdCb3g9JzAgMCAyNCAyNCcgd2lkdGg9JzE4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTAgMGgyNHYyNEgweicgZmlsbD0nbm9uZScvJTNFICUzQ3BhdGggZD0nTTYgNmgxMnYxMkg2eicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyBoZWlnaHQ9XFxcIjE4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHdpZHRoPVxcXCIxOFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG4gICAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgICAgIDxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiLz5cXG4gICAgICAgIDxwYXRoIGQ9XFxcIk02IDZoMTJ2MTJINnpcXFwiLz5cXG4gICAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XG4gICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IEtlcm5lbFNwZWMgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4va2VybmVsc3BlY1wiKSk7XG5leHBvcnRzLktlcm5lbFNwZWMgPSBLZXJuZWxTcGVjO1xuY29uc3QgS2VybmVsU3BlY0FQSSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9yZXN0YXBpXCIpKTtcbmV4cG9ydHMuS2VybmVsU3BlY0FQSSA9IEtlcm5lbFNwZWNBUEk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9tYW5hZ2VyXCIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZpZXdCb3g9JzAgMCAyNCAyNCcgaGVpZ2h0PScxOCcgd2lkdGg9JzE4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ2NpcmNsZSBjeD0nNScgY3k9JzEyJyByPScyJy8lM0UgJTNDY2lyY2xlIGN4PScxMicgY3k9JzEyJyByPScyJy8lM0UgJTNDY2lyY2xlIGN4PScxOScgY3k9JzEyJyByPScyJy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgd2lkdGg9XFxcIjE4XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgPGNpcmNsZSBjeD1cXFwiNVxcXCIgY3k9XFxcIjEyXFxcIiByPVxcXCIyXFxcIi8+XFxuICAgIDxjaXJjbGUgY3g9XFxcIjEyXFxcIiBjeT1cXFwiMTJcXFwiIHI9XFxcIjJcXFwiLz5cXG4gICAgPGNpcmNsZSBjeD1cXFwiMTlcXFwiIGN5PVxcXCIxMlxcXCIgcj1cXFwiMlxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXFxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKipcXG4gKiBTdXBwb3J0IGZvciBpY29ucyBhcyBpbmxpbmUgU1ZHIEhUTUxFbGVtZW50c1xcbiAqL1xcblxcbi8qIHJlY29sb3IgdGhlIHByaW1hcnkgZWxlbWVudHMgb2YgYW4gaWNvbiAqL1xcbi5qcC1pY29uMFtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjApO1xcbn1cXG4uanAtaWNvbjFbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IxKTtcXG59XFxuLmpwLWljb24yW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMik7XFxufVxcbi5qcC1pY29uM1tmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjMpO1xcbn1cXG4uanAtaWNvbjRbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3I0KTtcXG59XFxuXFxuLmpwLWljb24wW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjApO1xcbn1cXG4uanAtaWNvbjFbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMSk7XFxufVxcbi5qcC1pY29uMltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IyKTtcXG59XFxuLmpwLWljb24zW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjMpO1xcbn1cXG4uanAtaWNvbjRbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yNCk7XFxufVxcbi8qIHJlY29sb3IgdGhlIGFjY2VudCBlbGVtZW50cyBvZiBhbiBpY29uICovXFxuLmpwLWljb24tYWNjZW50MFtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IwKTtcXG59XFxuLmpwLWljb24tYWNjZW50MVtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG59XFxuLmpwLWljb24tYWNjZW50MltmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IyKTtcXG59XFxuLmpwLWljb24tYWNjZW50M1tmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IzKTtcXG59XFxuLmpwLWljb24tYWNjZW50NFtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1sYXlvdXQtY29sb3I0KTtcXG59XFxuXFxuLmpwLWljb24tYWNjZW50MFtzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtbGF5b3V0LWNvbG9yMCk7XFxufVxcbi5qcC1pY29uLWFjY2VudDFbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWxheW91dC1jb2xvcjEpO1xcbn1cXG4uanAtaWNvbi1hY2NlbnQyW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IyKTtcXG59XFxuLmpwLWljb24tYWNjZW50M1tzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtbGF5b3V0LWNvbG9yMyk7XFxufVxcbi5qcC1pY29uLWFjY2VudDRbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWxheW91dC1jb2xvcjQpO1xcbn1cXG4vKiBzZXQgdGhlIGNvbG9yIG9mIGFuIGljb24gdG8gdHJhbnNwYXJlbnQgKi9cXG4uanAtaWNvbi1ub25lW2ZpbGxdIHtcXG4gIGZpbGw6IG5vbmU7XFxufVxcblxcbi5qcC1pY29uLW5vbmVbc3Ryb2tlXSB7XFxuICBzdHJva2U6IG5vbmU7XFxufVxcbi8qIGJyYW5kIGljb24gY29sb3JzLiBTYW1lIGZvciBsaWdodCBhbmQgZGFyayAqL1xcbi5qcC1pY29uLWJyYW5kMFtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1icmFuZC1jb2xvcjApO1xcbn1cXG4uanAtaWNvbi1icmFuZDFbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtYnJhbmQtY29sb3IxKTtcXG59XFxuLmpwLWljb24tYnJhbmQyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWJyYW5kLWNvbG9yMik7XFxufVxcbi5qcC1pY29uLWJyYW5kM1tmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1icmFuZC1jb2xvcjMpO1xcbn1cXG4uanAtaWNvbi1icmFuZDRbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtYnJhbmQtY29sb3I0KTtcXG59XFxuXFxuLmpwLWljb24tYnJhbmQwW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1icmFuZC1jb2xvcjApO1xcbn1cXG4uanAtaWNvbi1icmFuZDFbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWJyYW5kLWNvbG9yMSk7XFxufVxcbi5qcC1pY29uLWJyYW5kMltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtYnJhbmQtY29sb3IyKTtcXG59XFxuLmpwLWljb24tYnJhbmQzW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1icmFuZC1jb2xvcjMpO1xcbn1cXG4uanAtaWNvbi1icmFuZDRbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWJyYW5kLWNvbG9yNCk7XFxufVxcbi8qIHdhcm4gaWNvbiBjb2xvcnMuIFNhbWUgZm9yIGxpZ2h0IGFuZCBkYXJrICovXFxuLmpwLWljb24td2FybjBbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtd2Fybi1jb2xvcjApO1xcbn1cXG4uanAtaWNvbi13YXJuMVtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC13YXJuLWNvbG9yMSk7XFxufVxcbi5qcC1pY29uLXdhcm4yW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLXdhcm4tY29sb3IyKTtcXG59XFxuLmpwLWljb24td2FybjNbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtd2Fybi1jb2xvcjMpO1xcbn1cXG5cXG4uanAtaWNvbi13YXJuMFtzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtd2Fybi1jb2xvcjApO1xcbn1cXG4uanAtaWNvbi13YXJuMVtzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtd2Fybi1jb2xvcjEpO1xcbn1cXG4uanAtaWNvbi13YXJuMltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtd2Fybi1jb2xvcjIpO1xcbn1cXG4uanAtaWNvbi13YXJuM1tzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtd2Fybi1jb2xvcjMpO1xcbn1cXG4vKiBpY29uIGNvbG9ycyB0aGF0IGNvbnRyYXN0IHdlbGwgd2l0aCBlYWNoIG90aGVyIGFuZCBtb3N0IGJhY2tncm91bmRzICovXFxuLmpwLWljb24tY29udHJhc3QwW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWljb24tY29udHJhc3QtY29sb3IwKTtcXG59XFxuLmpwLWljb24tY29udHJhc3QxW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWljb24tY29udHJhc3QtY29sb3IxKTtcXG59XFxuLmpwLWljb24tY29udHJhc3QyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWljb24tY29udHJhc3QtY29sb3IyKTtcXG59XFxuLmpwLWljb24tY29udHJhc3QzW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWljb24tY29udHJhc3QtY29sb3IzKTtcXG59XFxuXFxuLmpwLWljb24tY29udHJhc3QwW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1pY29uLWNvbnRyYXN0LWNvbG9yMCk7XFxufVxcbi5qcC1pY29uLWNvbnRyYXN0MVtzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaWNvbi1jb250cmFzdC1jb2xvcjEpO1xcbn1cXG4uanAtaWNvbi1jb250cmFzdDJbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWljb24tY29udHJhc3QtY29sb3IyKTtcXG59XFxuLmpwLWljb24tY29udHJhc3QzW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1pY29uLWNvbnRyYXN0LWNvbG9yMyk7XFxufVxcblxcbi8qIENTUyBmb3IgaWNvbnMgaW4gc2VsZWN0ZWQgaXRlbXMgaW4gdGhlIHNldHRpbmdzIGVkaXRvciAqL1xcbiNzZXR0aW5nLWVkaXRvciAuanAtUGx1Z2luTGlzdCAuanAtbW9kLXNlbGVjdGVkIC5qcC1pY29uLXNlbGVjdGFibGVbZmlsbF0ge1xcbiAgZmlsbDogI2ZmZjtcXG59XFxuI3NldHRpbmctZWRpdG9yXFxuICAuanAtUGx1Z2luTGlzdFxcbiAgLmpwLW1vZC1zZWxlY3RlZFxcbiAgLmpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWJyYW5kLWNvbG9yMSk7XFxufVxcblxcbi8qIENTUyBmb3IgaWNvbnMgaW4gc2VsZWN0ZWQgZmlsZWJyb3dzZXIgbGlzdGluZyBpdGVtcyAqL1xcbi5qcC1EaXJMaXN0aW5nLWl0ZW0uanAtbW9kLXNlbGVjdGVkIC5qcC1pY29uLXNlbGVjdGFibGVbZmlsbF0ge1xcbiAgZmlsbDogI2ZmZjtcXG59XFxuLmpwLURpckxpc3RpbmctaXRlbS5qcC1tb2Qtc2VsZWN0ZWQgLmpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWJyYW5kLWNvbG9yMSk7XFxufVxcblxcbi8qIENTUyBmb3IgaWNvbnMgaW4gc2VsZWN0ZWQgdGFicyBpbiB0aGUgc2lkZWJhciB0YWIgbWFuYWdlciAqL1xcbiN0YWItbWFuYWdlciAubG0tVGFiQmFyLXRhYi5qcC1tb2QtYWN0aXZlIC5qcC1pY29uLXNlbGVjdGFibGVbZmlsbF0ge1xcbiAgZmlsbDogI2ZmZjtcXG59XFxuXFxuI3RhYi1tYW5hZ2VyIC5sbS1UYWJCYXItdGFiLmpwLW1vZC1hY3RpdmUgLmpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWJyYW5kLWNvbG9yMSk7XFxufVxcbiN0YWItbWFuYWdlclxcbiAgLmxtLVRhYkJhci10YWIuanAtbW9kLWFjdGl2ZVxcbiAgLmpwLWljb24taG92ZXJcXG4gIDpob3ZlclxcbiAgLmpwLWljb24tc2VsZWN0YWJsZVtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1icmFuZC1jb2xvcjEpO1xcbn1cXG5cXG4jdGFiLW1hbmFnZXJcXG4gIC5sbS1UYWJCYXItdGFiLmpwLW1vZC1hY3RpdmVcXG4gIC5qcC1pY29uLWhvdmVyXFxuICA6aG92ZXJcXG4gIC5qcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZVtmaWxsXSB7XFxuICBmaWxsOiAjZmZmO1xcbn1cXG5cXG4vKipcXG4gKiBUT0RPOiBjb21lIHVwIHdpdGggbm9uIGNzcy1oYWNrIHNvbHV0aW9uIGZvciBzaG93aW5nIHRoZSBidXN5IGljb24gb24gdG9wXFxuICogIG9mIHRoZSBjbG9zZSBpY29uXFxuICogQ1NTIGZvciBjb21wbGV4IGJlaGF2aW9yIG9mIGNsb3NlIGljb24gb2YgdGFicyBpbiB0aGUgc2lkZWJhciB0YWIgbWFuYWdlclxcbiAqL1xcbiN0YWItbWFuYWdlclxcbiAgLmxtLVRhYkJhci10YWIuanAtbW9kLWRpcnR5XFxuICA+IC5sbS1UYWJCYXItdGFiQ2xvc2VJY29uXFxuICA+IDpub3QoOmhvdmVyKVxcbiAgPiAuanAtaWNvbjNbZmlsbF0ge1xcbiAgZmlsbDogbm9uZTtcXG59XFxuI3RhYi1tYW5hZ2VyXFxuICAubG0tVGFiQmFyLXRhYi5qcC1tb2QtZGlydHlcXG4gID4gLmxtLVRhYkJhci10YWJDbG9zZUljb25cXG4gID4gOm5vdCg6aG92ZXIpXFxuICA+IC5qcC1pY29uLWJ1c3lbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IzKTtcXG59XFxuXFxuI3RhYi1tYW5hZ2VyXFxuICAubG0tVGFiQmFyLXRhYi5qcC1tb2QtZGlydHkuanAtbW9kLWFjdGl2ZVxcbiAgPiAubG0tVGFiQmFyLXRhYkNsb3NlSWNvblxcbiAgPiA6bm90KDpob3ZlcilcXG4gID4gLmpwLWljb24tYnVzeVtmaWxsXSB7XFxuICBmaWxsOiAjZmZmO1xcbn1cXG5cXG4vKipcXG4qIFRPRE86IGNvbWUgdXAgd2l0aCBub24gY3NzLWhhY2sgc29sdXRpb24gZm9yIHNob3dpbmcgdGhlIGJ1c3kgaWNvbiBvbiB0b3BcXG4qICBvZiB0aGUgY2xvc2UgaWNvblxcbiogQ1NTIGZvciBjb21wbGV4IGJlaGF2aW9yIG9mIGNsb3NlIGljb24gb2YgdGFicyBpbiB0aGUgbWFpbiBhcmVhIHRhYmJhclxcbiovXFxuLmxtLURvY2tQYW5lbC10YWJCYXJcXG4gIC5sbS1UYWJCYXItdGFiLmxtLW1vZC1jbG9zYWJsZS5qcC1tb2QtZGlydHlcXG4gID4gLmxtLVRhYkJhci10YWJDbG9zZUljb25cXG4gID4gOm5vdCg6aG92ZXIpXFxuICA+IC5qcC1pY29uM1tmaWxsXSB7XFxuICBmaWxsOiBub25lO1xcbn1cXG4ubG0tRG9ja1BhbmVsLXRhYkJhclxcbiAgLmxtLVRhYkJhci10YWIubG0tbW9kLWNsb3NhYmxlLmpwLW1vZC1kaXJ0eVxcbiAgPiAubG0tVGFiQmFyLXRhYkNsb3NlSWNvblxcbiAgPiA6bm90KDpob3ZlcilcXG4gID4gLmpwLWljb24tYnVzeVtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjMpO1xcbn1cXG5cXG4vKiBDU1MgZm9yIGljb25zIGluIHN0YXR1cyBiYXIgKi9cXG4janAtbWFpbi1zdGF0dXNiYXIgLmpwLW1vZC1zZWxlY3RlZCAuanAtaWNvbi1zZWxlY3RhYmxlW2ZpbGxdIHtcXG4gIGZpbGw6ICNmZmY7XFxufVxcblxcbiNqcC1tYWluLXN0YXR1c2JhciAuanAtbW9kLXNlbGVjdGVkIC5qcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZVtmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1icmFuZC1jb2xvcjEpO1xcbn1cXG4vKiBzcGVjaWFsIGhhbmRsaW5nIGZvciBzcGxhc2ggaWNvbiBDU1MuIFdoaWxlIHRoZSB0aGVtZSBDU1MgcmVsb2FkcyBkdXJpbmdcXG4gICBzcGxhc2gsIHRoZSBzcGxhc2ggaWNvbiBjYW4gbG9vc2UgdGhlbWluZy4gVG8gcHJldmVudCB0aGF0LCB3ZSBzZXQgYVxcbiAgIGRlZmF1bHQgZm9yIGl0cyBjb2xvciB2YXJpYWJsZSAqL1xcbjpyb290IHtcXG4gIC0tanAtd2Fybi1jb2xvcjA6IHZhcigtLW1kLW9yYW5nZS03MDApO1xcbn1cXG5cXG4vKipcXG4gKiAoREVQUkVDQVRFRCkgU3VwcG9ydCBmb3IgaWNvbnMgYXMgQ1NTIGBiYWNrZ3JvdW5kLWltYWdlc2BcXG4gKi9cXG4uanAtTWF0ZXJpYWxJY29uIHtcXG4gIG1pbi13aWR0aDogMTZweDtcXG4gIG1pbi1oZWlnaHQ6IDE2cHg7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDE2cHg7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG59XFxuLmpwLUljb24ge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICBtYXJnaW46IGF1dG87XFxufVxcblxcbi5qcC1JY29uLTE2IHtcXG4gIG1pbi13aWR0aDogMTZweDtcXG4gIG1pbi1oZWlnaHQ6IDE2cHg7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDE2cHg7XFxufVxcblxcbi5qcC1JY29uLTE4IHtcXG4gIG1pbi13aWR0aDogMThweDtcXG4gIG1pbi1oZWlnaHQ6IDE4cHg7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDE4cHg7XFxufVxcblxcbi5qcC1JY29uLTIwIHtcXG4gIG1pbi13aWR0aDogMjBweDtcXG4gIG1pbi1oZWlnaHQ6IDIwcHg7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDIwcHg7XFxufVxcblxcbi5qcC1EcmFnSWNvbiB7XFxuICBtYXJnaW4tcmlnaHQ6IDRweDtcXG59XFxuXFxuLyogVGhlc2UgYXJlIGljb25zIHN0aWxsIGluIG5lZWQgb2Ygc29tZSBjbGVhbnVwICovXFxuXFxuLyouanAtQ2xvc2VJY29uIHsqL1xcbi8qICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNsb3NlKTsqL1xcbi8qfSovXFxuXFxuLyouanAtQ29uc29sZUljb24geyovXFxuLyogIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tY29uc29sZSk7Ki9cXG4vKn0qL1xcblxcbi8qLmpwLURvd25sb2FkSWNvbiB7Ki9cXG4vKiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1kb3dubG9hZCk7Ki9cXG4vKn0qL1xcblxcbi8qLmpwLUVkaXRJY29uIHsqL1xcbi8qICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWVkaXQpOyovXFxuLyp9Ki9cXG5cXG4vKi5qcC1MaW5rSWNvbiB7Ki9cXG4vKiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1saW5rKTsqL1xcbi8qfSovXFxuXFxuLyouanAtTmV3Rm9sZGVySWNvbiB7Ki9cXG4vKiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1uZXctZm9sZGVyKTsqL1xcbi8qfSovXFxuXFxuLyouanAtVW5kb0ljb24geyovXFxuLyogIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tdW5kbyk7Ki9cXG4vKn0qL1xcblwiLCBcIlwiXSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2aWV3Qm94PScwIDAgMTggMTgnIGhlaWdodD0nMTgnIHdpZHRoPScxOCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J00xMi4xLDEwLjloLTAuN2wtMC4yLTAuMmMwLjgtMC45LDEuMy0yLjIsMS4zLTMuNWMwLTMtMi40LTUuNC01LjQtNS40UzEuOCw0LjIsMS44LDcuMXMyLjQsNS40LDUuNCw1LjQgYzEuMywwLDIuNS0wLjUsMy41LTEuM2wwLjIsMC4ydjAuN2w0LjEsNC4xbDEuMi0xLjJMMTIuMSwxMC45eiBNNy4xLDEwLjljLTIuMSwwLTMuNy0xLjctMy43LTMuN3MxLjctMy43LDMuNy0zLjdzMy43LDEuNywzLjcsMy43IFM5LjIsMTAuOSw3LjEsMTAuOXonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiB3aWR0aD1cXFwiMThcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMTIuMSwxMC45aC0wLjdsLTAuMi0wLjJjMC44LTAuOSwxLjMtMi4yLDEuMy0zLjVjMC0zLTIuNC01LjQtNS40LTUuNFMxLjgsNC4yLDEuOCw3LjFzMi40LDUuNCw1LjQsNS40IGMxLjMsMCwyLjUtMC41LDMuNS0xLjNsMC4yLDAuMnYwLjdsNC4xLDQuMWwxLjItMS4yTDEyLjEsMTAuOXogTTcuMSwxMC45Yy0yLjEsMC0zLjctMS43LTMuNy0zLjdzMS43LTMuNywzLjctMy43czMuNywxLjcsMy43LDMuNyBTOS4yLDEwLjksNy4xLDEwLjl6XFxcIi8+XFxuICA8L2c+XFxuPC9zdmc+XFxuXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgUGF0aEV4dCB9IGZyb20gJ0BqdXB5dGVybGFiL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBNb2RlIH0gZnJvbSAnLi9tb2RlJztcbi8qKlxuICogVGhlIG1pbWUgdHlwZSBzZXJ2aWNlIGZvciBDb2RlTWlycm9yLlxuICovXG5leHBvcnQgY2xhc3MgQ29kZU1pcnJvck1pbWVUeXBlU2VydmljZSB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG1pbWUgdHlwZSBmb3IgdGhlIGdpdmVuIGxhbmd1YWdlIGluZm8uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSWYgYSBtaW1lIHR5cGUgY2Fubm90IGJlIGZvdW5kIHJldHVybnMgdGhlIGRlZmF1bCBtaW1lIHR5cGUgYHRleHQvcGxhaW5gLCBuZXZlciBgbnVsbGAuXG4gICAgICovXG4gICAgZ2V0TWltZVR5cGVCeUxhbmd1YWdlKGluZm8pIHtcbiAgICAgICAgbGV0IGV4dCA9IGluZm8uZmlsZV9leHRlbnNpb24gfHwgJyc7XG4gICAgICAgIHJldHVybiBNb2RlLmZpbmRCZXN0KGluZm8uY29kZW1pcnJvcl9tb2RlIHx8IHtcbiAgICAgICAgICAgIG1pbWV0eXBlOiBpbmZvLm1pbWV0eXBlLFxuICAgICAgICAgICAgbmFtZTogaW5mby5uYW1lLFxuICAgICAgICAgICAgZXh0OiBbZXh0LnNwbGl0KCcuJykuc2xpY2UoLTEpWzBdXVxuICAgICAgICB9KS5taW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbWltZSB0eXBlIGZvciB0aGUgZ2l2ZW4gZmlsZSBwYXRoLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIElmIGEgbWltZSB0eXBlIGNhbm5vdCBiZSBmb3VuZCByZXR1cm5zIHRoZSBkZWZhdWx0IG1pbWUgdHlwZSBgdGV4dC9wbGFpbmAsIG5ldmVyIGBudWxsYC5cbiAgICAgKi9cbiAgICBnZXRNaW1lVHlwZUJ5RmlsZVBhdGgocGF0aCkge1xuICAgICAgICBjb25zdCBleHQgPSBQYXRoRXh0LmV4dG5hbWUocGF0aCk7XG4gICAgICAgIGlmIChleHQgPT09ICcuaXB5Jykge1xuICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3gtcHl0aG9uJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHQgPT09ICcubWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RleHQveC1pcHl0aG9uZ2ZtJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9kZSA9IE1vZGUuZmluZEJ5RmlsZU5hbWUocGF0aCkgfHwgTW9kZS5maW5kQmVzdCgnJyk7XG4gICAgICAgIHJldHVybiBtb2RlLm1pbWU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWltZXR5cGUuanMubWFwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gSW1wb3J0c1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2RvY21hbmFnZXIvc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXFxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cIiwgXCJcIl0pO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgSnVweXRlckxhYk1lbnUgfSBmcm9tICcuL2xhYm1lbnUnO1xuLyoqXG4gKiBBbiBleHRlbnNpYmxlIFNldHRpbmdzIG1lbnUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFNldHRpbmdzTWVudSBleHRlbmRzIEp1cHl0ZXJMYWJNZW51IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgdGhlIHNldHRpbmdzIG1lbnUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5tZW51LnRpdGxlLmxhYmVsID0gJ1NldHRpbmdzJztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBBcnJheUV4dCB9IGZyb20gJ0BsdW1pbm8vYWxnb3JpdGhtJztcbmltcG9ydCB7IEVsZW1lbnRFeHQgfSBmcm9tICdAbHVtaW5vL2RvbXV0aWxzJztcbmltcG9ydCB7IFVVSUQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIERPTSB1dGlsaXRpZXMuXG4gKi9cbmV4cG9ydCB2YXIgRE9NVXRpbHM7XG4oZnVuY3Rpb24gKERPTVV0aWxzKSB7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbmRleCBvZiB0aGUgbm9kZSBhdCBhIGNsaWVudCBwb3NpdGlvbiwgb3IgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoaXRUZXN0Tm9kZXMobm9kZXMsIHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5RXh0LmZpbmRGaXJzdEluZGV4KG5vZGVzLCBub2RlID0+IHtcbiAgICAgICAgICAgIHJldHVybiBFbGVtZW50RXh0LmhpdFRlc3Qobm9kZSwgeCwgeSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBET01VdGlscy5oaXRUZXN0Tm9kZXMgPSBoaXRUZXN0Tm9kZXM7XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgZmlyc3QgZWxlbWVudCBtYXRjaGluZyBhIGNsYXNzIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEVsZW1lbnQocGFyZW50LCBjbGFzc05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKGAuJHtjbGFzc05hbWV9YCk7XG4gICAgfVxuICAgIERPTVV0aWxzLmZpbmRFbGVtZW50ID0gZmluZEVsZW1lbnQ7XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgZmlyc3QgZWxlbWVudCBtYXRjaGluZyBhIGNsYXNzIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEVsZW1lbnRzKHBhcmVudCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpO1xuICAgIH1cbiAgICBET01VdGlscy5maW5kRWxlbWVudHMgPSBmaW5kRWxlbWVudHM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRE9NIGlkIHdpdGggcHJlZml4IFwiaWQtXCIgdG8gc29sdmUgYnVnIGZvciBVVUlEcyBiZWdpbm5pbmcgd2l0aCBudW1iZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZURvbUlEKCkge1xuICAgICAgICByZXR1cm4gYGlkLSR7VVVJRC51dWlkNCgpfWA7XG4gICAgfVxuICAgIERPTVV0aWxzLmNyZWF0ZURvbUlEID0gY3JlYXRlRG9tSUQ7XG59KShET01VdGlscyB8fCAoRE9NVXRpbHMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tdXRpbHMuanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qIFRoaXMgZmlsZSB3YXMgYXV0by1nZW5lcmF0ZWQgYnkgZW5zdXJlVWlDb21wb25lbnRzKCkgaW4gQGp1cHl0ZXJsYWIvYnVpbGR1dGlscyAqL1xuaW1wb3J0IHsgTGFiSWNvbiB9IGZyb20gJy4vbGFiaWNvbic7XG4vLyBpY29uIHN2ZyBpbXBvcnQgc3RhdGVtZW50c1xuaW1wb3J0IGFkZFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy90b29sYmFyL2FkZC5zdmcnO1xuaW1wb3J0IGJ1Z1N2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy90b29sYmFyL2J1Zy5zdmcnO1xuaW1wb3J0IGJ1aWxkU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3NpZGViYXIvYnVpbGQuc3ZnJztcbmltcG9ydCBjYXJldERvd25FbXB0eVN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9hcnJvdy9jYXJldC1kb3duLWVtcHR5LnN2Zyc7XG5pbXBvcnQgY2FyZXREb3duRW1wdHlUaGluU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2Fycm93L2NhcmV0LWRvd24tZW1wdHktdGhpbi5zdmcnO1xuaW1wb3J0IGNhcmV0RG93blN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9hcnJvdy9jYXJldC1kb3duLnN2Zyc7XG5pbXBvcnQgY2FyZXRMZWZ0U3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2Fycm93L2NhcmV0LWxlZnQuc3ZnJztcbmltcG9ydCBjYXJldFJpZ2h0U3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2Fycm93L2NhcmV0LXJpZ2h0LnN2Zyc7XG5pbXBvcnQgY2FyZXRVcEVtcHR5VGhpblN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9hcnJvdy9jYXJldC11cC1lbXB0eS10aGluLnN2Zyc7XG5pbXBvcnQgY2FyZXRVcFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9hcnJvdy9jYXJldC11cC5zdmcnO1xuaW1wb3J0IGNhc2VTZW5zaXRpdmVTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvc2VhcmNoL2Nhc2Utc2Vuc2l0aXZlLnN2Zyc7XG5pbXBvcnQgY2hlY2tTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9jaGVjay5zdmcnO1xuaW1wb3J0IGNpcmNsZUVtcHR5U3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3Rvb2xiYXIvY2lyY2xlLWVtcHR5LnN2Zyc7XG5pbXBvcnQgY2lyY2xlU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3Rvb2xiYXIvY2lyY2xlLnN2Zyc7XG5pbXBvcnQgY2xvc2VTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9jbG9zZS5zdmcnO1xuaW1wb3J0IGNvbnNvbGVTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvZmlsZXR5cGUvY29uc29sZS5zdmcnO1xuaW1wb3J0IGNvcHlTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9jb3B5LnN2Zyc7XG5pbXBvcnQgY3V0U3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3Rvb2xiYXIvY3V0LnN2Zyc7XG5pbXBvcnQgZG93bmxvYWRTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9kb3dubG9hZC5zdmcnO1xuaW1wb3J0IGVkaXRTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9lZGl0LnN2Zyc7XG5pbXBvcnQgZWxsaXBzZXNTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9lbGxpcHNlcy5zdmcnO1xuaW1wb3J0IGV4dGVuc2lvblN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9zaWRlYmFyL2V4dGVuc2lvbi5zdmcnO1xuaW1wb3J0IGZpbGVTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvZmlsZXR5cGUvZmlsZS5zdmcnO1xuaW1wb3J0IGZpbGVVcGxvYWRTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9maWxlLXVwbG9hZC5zdmcnO1xuaW1wb3J0IGZpbHRlckxpc3RTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9maWx0ZXItbGlzdC5zdmcnO1xuaW1wb3J0IGZvbGRlclN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9maWxldHlwZS9mb2xkZXIuc3ZnJztcbmltcG9ydCBodG1sNVN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9maWxldHlwZS9odG1sNS5zdmcnO1xuaW1wb3J0IGltYWdlU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2ltYWdlLnN2Zyc7XG5pbXBvcnQgaW5zcGVjdG9yU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2luc3BlY3Rvci5zdmcnO1xuaW1wb3J0IGpzb25TdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvZmlsZXR5cGUvanNvbi5zdmcnO1xuaW1wb3J0IGp1cHl0ZXJGYXZpY29uU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2p1cHl0ZXIvanVweXRlci1mYXZpY29uLnN2Zyc7XG5pbXBvcnQganVweXRlclN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9qdXB5dGVyL2p1cHl0ZXIuc3ZnJztcbmltcG9ydCBqdXB5dGVybGFiV29yZG1hcmtTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvanVweXRlci9qdXB5dGVybGFiLXdvcmRtYXJrLnN2Zyc7XG5pbXBvcnQga2VybmVsU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3N0YXR1c2Jhci9rZXJuZWwuc3ZnJztcbmltcG9ydCBrZXlib2FyZFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9maWxldHlwZS9rZXlib2FyZC5zdmcnO1xuaW1wb3J0IGxhdW5jaGVyU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2ZpbGV0eXBlL2xhdW5jaGVyLnN2Zyc7XG5pbXBvcnQgbGluZUZvcm1TdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvc3RhdHVzYmFyL2xpbmUtZm9ybS5zdmcnO1xuaW1wb3J0IGxpbmtTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9saW5rLnN2Zyc7XG5pbXBvcnQgbGlzdFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9zdGF0dXNiYXIvbGlzdC5zdmcnO1xuaW1wb3J0IG1hcmtkb3duU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2ZpbGV0eXBlL21hcmtkb3duLnN2Zyc7XG5pbXBvcnQgbmV3Rm9sZGVyU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3Rvb2xiYXIvbmV3LWZvbGRlci5zdmcnO1xuaW1wb3J0IG5vdFRydXN0ZWRTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvc3RhdHVzYmFyL25vdC10cnVzdGVkLnN2Zyc7XG5pbXBvcnQgbm90ZWJvb2tTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvZmlsZXR5cGUvbm90ZWJvb2suc3ZnJztcbmltcG9ydCBwYWxldHRlU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3NpZGViYXIvcGFsZXR0ZS5zdmcnO1xuaW1wb3J0IHBhc3RlU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3Rvb2xiYXIvcGFzdGUuc3ZnJztcbmltcG9ydCBweXRob25TdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvZmlsZXR5cGUvcHl0aG9uLnN2Zyc7XG5pbXBvcnQgcktlcm5lbFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9maWxldHlwZS9yLWtlcm5lbC5zdmcnO1xuaW1wb3J0IHJlYWN0U3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL2ZpbGV0eXBlL3JlYWN0LnN2Zyc7XG5pbXBvcnQgcmVmcmVzaFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy90b29sYmFyL3JlZnJlc2guc3ZnJztcbmltcG9ydCByZWdleFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9zZWFyY2gvcmVnZXguc3ZnJztcbmltcG9ydCBydW5TdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9ydW4uc3ZnJztcbmltcG9ydCBydW5uaW5nU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3NpZGViYXIvcnVubmluZy5zdmcnO1xuaW1wb3J0IHNhdmVTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9zYXZlLnN2Zyc7XG5pbXBvcnQgc2VhcmNoU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3Rvb2xiYXIvc2VhcmNoLnN2Zyc7XG5pbXBvcnQgc2V0dGluZ3NTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvZmlsZXR5cGUvc2V0dGluZ3Muc3ZnJztcbmltcG9ydCBzcHJlYWRzaGVldFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9maWxldHlwZS9zcHJlYWRzaGVldC5zdmcnO1xuaW1wb3J0IHN0b3BTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvdG9vbGJhci9zdG9wLnN2Zyc7XG5pbXBvcnQgdGFiU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3NpZGViYXIvdGFiLnN2Zyc7XG5pbXBvcnQgdGVybWluYWxTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvc3RhdHVzYmFyL3Rlcm1pbmFsLnN2Zyc7XG5pbXBvcnQgdGV4dEVkaXRvclN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy9maWxldHlwZS90ZXh0LWVkaXRvci5zdmcnO1xuaW1wb3J0IHRydXN0ZWRTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvc3RhdHVzYmFyL3RydXN0ZWQuc3ZnJztcbmltcG9ydCB1bmRvU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2ljb25zL3Rvb2xiYXIvdW5kby5zdmcnO1xuaW1wb3J0IHZlZ2FTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvZmlsZXR5cGUvdmVnYS5zdmcnO1xuaW1wb3J0IHlhbWxTdmdzdHIgZnJvbSAnLi4vLi4vc3R5bGUvaWNvbnMvZmlsZXR5cGUveWFtbC5zdmcnO1xuLy8gTGFiSWNvbiBpbnN0YW5jZSBjb25zdHJ1Y3Rpb25cbmV4cG9ydCBjb25zdCBhZGRJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czphZGQnLCBzdmdzdHI6IGFkZFN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBidWdJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpidWcnLCBzdmdzdHI6IGJ1Z1N2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBidWlsZEljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmJ1aWxkJywgc3Znc3RyOiBidWlsZFN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBjYXJldERvd25FbXB0eUljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmNhcmV0LWRvd24tZW1wdHknLCBzdmdzdHI6IGNhcmV0RG93bkVtcHR5U3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGNhcmV0RG93bkVtcHR5VGhpbkljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmNhcmV0LWRvd24tZW1wdHktdGhpbicsIHN2Z3N0cjogY2FyZXREb3duRW1wdHlUaGluU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGNhcmV0RG93bkljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmNhcmV0LWRvd24nLCBzdmdzdHI6IGNhcmV0RG93blN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBjYXJldExlZnRJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpjYXJldC1sZWZ0Jywgc3Znc3RyOiBjYXJldExlZnRTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgY2FyZXRSaWdodEljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmNhcmV0LXJpZ2h0Jywgc3Znc3RyOiBjYXJldFJpZ2h0U3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGNhcmV0VXBFbXB0eVRoaW5JY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpjYXJldC11cC1lbXB0eS10aGluJywgc3Znc3RyOiBjYXJldFVwRW1wdHlUaGluU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGNhcmV0VXBJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpjYXJldC11cCcsIHN2Z3N0cjogY2FyZXRVcFN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBjYXNlU2Vuc2l0aXZlSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6Y2FzZS1zZW5zaXRpdmUnLCBzdmdzdHI6IGNhc2VTZW5zaXRpdmVTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgY2hlY2tJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpjaGVjaycsIHN2Z3N0cjogY2hlY2tTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgY2lyY2xlRW1wdHlJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpjaXJjbGUtZW1wdHknLCBzdmdzdHI6IGNpcmNsZUVtcHR5U3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGNpcmNsZUljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmNpcmNsZScsIHN2Z3N0cjogY2lyY2xlU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGNsb3NlSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6Y2xvc2UnLCBzdmdzdHI6IGNsb3NlU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGNvbnNvbGVJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpjb25zb2xlJywgc3Znc3RyOiBjb25zb2xlU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGNvcHlJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpjb3B5Jywgc3Znc3RyOiBjb3B5U3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGN1dEljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmN1dCcsIHN2Z3N0cjogY3V0U3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGRvd25sb2FkSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6ZG93bmxvYWQnLCBzdmdzdHI6IGRvd25sb2FkU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGVkaXRJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czplZGl0Jywgc3Znc3RyOiBlZGl0U3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGVsbGlwc2VzSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6ZWxsaXBzZXMnLCBzdmdzdHI6IGVsbGlwc2VzU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGV4dGVuc2lvbkljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmV4dGVuc2lvbicsIHN2Z3N0cjogZXh0ZW5zaW9uU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGZpbGVJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpmaWxlJywgc3Znc3RyOiBmaWxlU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGZpbGVVcGxvYWRJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpmaWxlLXVwbG9hZCcsIHN2Z3N0cjogZmlsZVVwbG9hZFN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBmaWx0ZXJMaXN0SWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6ZmlsdGVyLWxpc3QnLCBzdmdzdHI6IGZpbHRlckxpc3RTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgZm9sZGVySWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6Zm9sZGVyJywgc3Znc3RyOiBmb2xkZXJTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgaHRtbDVJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpodG1sNScsIHN2Z3N0cjogaHRtbDVTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgaW1hZ2VJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czppbWFnZScsIHN2Z3N0cjogaW1hZ2VTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgaW5zcGVjdG9ySWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6aW5zcGVjdG9yJywgc3Znc3RyOiBpbnNwZWN0b3JTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QganNvbkljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmpzb24nLCBzdmdzdHI6IGpzb25TdmdzdHIgfSk7XG5leHBvcnQgY29uc3QganVweXRlckZhdmljb25JY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpqdXB5dGVyLWZhdmljb24nLCBzdmdzdHI6IGp1cHl0ZXJGYXZpY29uU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGp1cHl0ZXJJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpqdXB5dGVyJywgc3Znc3RyOiBqdXB5dGVyU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IGp1cHl0ZXJsYWJXb3JkbWFya0ljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmp1cHl0ZXJsYWItd29yZG1hcmsnLCBzdmdzdHI6IGp1cHl0ZXJsYWJXb3JkbWFya1N2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBrZXJuZWxJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czprZXJuZWwnLCBzdmdzdHI6IGtlcm5lbFN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBrZXlib2FyZEljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmtleWJvYXJkJywgc3Znc3RyOiBrZXlib2FyZFN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBsYXVuY2hlckljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmxhdW5jaGVyJywgc3Znc3RyOiBsYXVuY2hlclN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBsaW5lRm9ybUljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmxpbmUtZm9ybScsIHN2Z3N0cjogbGluZUZvcm1TdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgbGlua0ljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmxpbmsnLCBzdmdzdHI6IGxpbmtTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgbGlzdEljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOmxpc3QnLCBzdmdzdHI6IGxpc3RTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgbWFya2Rvd25JY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czptYXJrZG93bicsIHN2Z3N0cjogbWFya2Rvd25TdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgbmV3Rm9sZGVySWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6bmV3LWZvbGRlcicsIHN2Z3N0cjogbmV3Rm9sZGVyU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IG5vdFRydXN0ZWRJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpub3QtdHJ1c3RlZCcsIHN2Z3N0cjogbm90VHJ1c3RlZFN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBub3RlYm9va0ljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOm5vdGVib29rJywgc3Znc3RyOiBub3RlYm9va1N2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBwYWxldHRlSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6cGFsZXR0ZScsIHN2Z3N0cjogcGFsZXR0ZVN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBwYXN0ZUljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOnBhc3RlJywgc3Znc3RyOiBwYXN0ZVN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCBweXRob25JY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpweXRob24nLCBzdmdzdHI6IHB5dGhvblN2Z3N0ciB9KTtcbmV4cG9ydCBjb25zdCByS2VybmVsSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6ci1rZXJuZWwnLCBzdmdzdHI6IHJLZXJuZWxTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgcmVhY3RJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpyZWFjdCcsIHN2Z3N0cjogcmVhY3RTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgcmVmcmVzaEljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOnJlZnJlc2gnLCBzdmdzdHI6IHJlZnJlc2hTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgcmVnZXhJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpyZWdleCcsIHN2Z3N0cjogcmVnZXhTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgcnVuSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6cnVuJywgc3Znc3RyOiBydW5TdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgcnVubmluZ0ljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOnJ1bm5pbmcnLCBzdmdzdHI6IHJ1bm5pbmdTdmdzdHIgfSk7XG5leHBvcnQgY29uc3Qgc2F2ZUljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOnNhdmUnLCBzdmdzdHI6IHNhdmVTdmdzdHIgfSk7XG5leHBvcnQgY29uc3Qgc2VhcmNoSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6c2VhcmNoJywgc3Znc3RyOiBzZWFyY2hTdmdzdHIgfSk7XG5leHBvcnQgY29uc3Qgc2V0dGluZ3NJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpzZXR0aW5ncycsIHN2Z3N0cjogc2V0dGluZ3NTdmdzdHIgfSk7XG5leHBvcnQgY29uc3Qgc3ByZWFkc2hlZXRJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czpzcHJlYWRzaGVldCcsIHN2Z3N0cjogc3ByZWFkc2hlZXRTdmdzdHIgfSk7XG5leHBvcnQgY29uc3Qgc3RvcEljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOnN0b3AnLCBzdmdzdHI6IHN0b3BTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgdGFiSWNvbiA9IG5ldyBMYWJJY29uKHsgbmFtZTogJ3VpLWNvbXBvbmVudHM6dGFiJywgc3Znc3RyOiB0YWJTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgdGVybWluYWxJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czp0ZXJtaW5hbCcsIHN2Z3N0cjogdGVybWluYWxTdmdzdHIgfSk7XG5leHBvcnQgY29uc3QgdGV4dEVkaXRvckljb24gPSBuZXcgTGFiSWNvbih7IG5hbWU6ICd1aS1jb21wb25lbnRzOnRleHQtZWRpdG9yJywgc3Znc3RyOiB0ZXh0RWRpdG9yU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IHRydXN0ZWRJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czp0cnVzdGVkJywgc3Znc3RyOiB0cnVzdGVkU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IHVuZG9JY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czp1bmRvJywgc3Znc3RyOiB1bmRvU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IHZlZ2FJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czp2ZWdhJywgc3Znc3RyOiB2ZWdhU3Znc3RyIH0pO1xuZXhwb3J0IGNvbnN0IHlhbWxJY29uID0gbmV3IExhYkljb24oeyBuYW1lOiAndWktY29tcG9uZW50czp5YW1sJywgc3Znc3RyOiB5YW1sU3Znc3RyIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWNvbmltcG9ydHMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgVGV4dCB9IGZyb20gJ0BqdXB5dGVybGFiL2NvcmV1dGlscyc7XG4vKipcbiAqIElubmVyIHdvcmtzIG9mIGNsYXNzIGNvbWJpbmluZyBmdW5jdGlvbnNcbiAqL1xuZnVuY3Rpb24gX2NsYXNzZXMoY2xhc3Nlcykge1xuICAgIHJldHVybiBjbGFzc2VzXG4gICAgICAgIC5tYXAoYyA9PiBjICYmIHR5cGVvZiBjID09PSAnb2JqZWN0J1xuICAgICAgICA/IE9iamVjdC5rZXlzKGMpLm1hcChrZXkgPT4gISFjW2tleV0gJiYga2V5KVxuICAgICAgICA6IHR5cGVvZiBjID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBjLnNwbGl0KC9cXHMrLylcbiAgICAgICAgICAgIDogW10pXG4gICAgICAgIC5yZWR1Y2UoKGZsYXR0ZW5lZCwgYykgPT4gZmxhdHRlbmVkLmNvbmNhdChjKSwgW10pXG4gICAgICAgIC5maWx0ZXIoYyA9PiAhIWMpO1xufVxuLyoqXG4gKiBDb21iaW5lcyBjbGFzc05hbWVzLlxuICpcbiAqIEBwYXJhbSBjbGFzc2VzIC0gQSBsaXN0IG9mIGNsYXNzTmFtZXNcbiAqXG4gKiBAcmV0dXJucyBBIHNpbmdsZSBzdHJpbmcgd2l0aCB0aGUgY29tYmluZWQgY2xhc3NOYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFzc2VzKC4uLmNsYXNzZXMpIHtcbiAgICByZXR1cm4gX2NsYXNzZXMoY2xhc3Nlcykuam9pbignICcpO1xufVxuLyoqXG4gKiBDb21iaW5lcyBjbGFzc05hbWVzLiBSZW1vdmVzIGFsbCBkdXBsaWNhdGVzXG4gKlxuICogQHBhcmFtIGNsYXNzZXMgLSBBIGxpc3Qgb2YgY2xhc3NOYW1lc1xuICpcbiAqIEByZXR1cm5zIEEgc2luZ2xlIHN0cmluZyB3aXRoIHRoZSBjb21iaW5lZCBjbGFzc05hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYXNzZXNEZWR1cGUoLi4uY2xhc3Nlcykge1xuICAgIHJldHVybiBbLi4ubmV3IFNldChfY2xhc3NlcyhjbGFzc2VzKSldLmpvaW4oJyAnKTtcbn1cbi8qKlxuICogVHJhbnNsYXRlcyB0aGUgYXR0cmlidXRlcyBvZiBhIERPTSBlbGVtZW50IGludG8gYXR0cmlidXRlcyB0aGF0IGNhblxuICogYmUgdW5kZXJzdG9vZCBieSBSZWFjdC4gQ3VycmVudGx5IG5vdCBjb21wcmVoZW5zaXZlLCB3ZSB3aWxsIGFkZCBzcGVjaWFsXG4gKiBjYXNlcyBhcyB0aGV5IGJlY29tZSByZWxldmFudC5cbiAqXG4gKiBAcGFyYW0gZWxlbSAtIEEgRE9NIGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBrZXk6dmFsdWUgcGFpcnMgdGhhdCBhcmUgdGhlIFJlYWN0LWZyaWVuZGx5XG4gKiB0cmFuc2xhdGlvbiBvZiBlbGVtJ3MgYXR0cmlidXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVhY3RBdHRycyhlbGVtKSB7XG4gICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlTmFtZXMoKS5yZWR1Y2UoKGQsIG5hbWUpID0+IHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgIHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYW1lLnN0YXJ0c1dpdGgoJ2RhdGEnKSkge1xuICAgICAgICAgICAgZFtuYW1lXSA9IGVsZW0uZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZFtUZXh0LmNhbWVsQ2FzZShuYW1lKV0gPSBlbGVtLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZDtcbiAgICB9LCB7fSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBNZXNzYWdlTG9vcCB9IGZyb20gJ0BsdW1pbm8vbWVzc2FnaW5nJztcbmltcG9ydCB7IEJveExheW91dCwgV2lkZ2V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tICcuL3NwaW5uZXInO1xuaW1wb3J0IHsgVG9vbGJhciB9IGZyb20gJy4vdG9vbGJhcic7XG5pbXBvcnQgeyBET01VdGlscyB9IGZyb20gJy4vZG9tdXRpbHMnO1xuaW1wb3J0IHsgUHJpbnRpbmcgfSBmcm9tICcuL3ByaW50aW5nJztcbi8qKlxuICogQSB3aWRnZXQgbWVhbnQgdG8gYmUgY29udGFpbmVkIGluIHRoZSBKdXB5dGVyTGFiIG1haW4gYXJlYS5cbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiBNaXJyb3JzIGFsbCBvZiB0aGUgYHRpdGxlYCBhdHRyaWJ1dGVzIG9mIHRoZSBjb250ZW50LlxuICogVGhpcyB3aWRnZXQgaXMgYGNsb3NhYmxlYCBieSBkZWZhdWx0LlxuICogVGhpcyB3aWRnZXQgaXMgYXV0b21hdGljYWxseSBkaXNwb3NlZCB3aGVuIGNsb3NlZC5cbiAqIFRoaXMgd2lkZ2V0IGVuc3VyZXMgaXRzIG93biBmb2N1cyB3aGVuIGFjdGl2YXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1haW5BcmVhV2lkZ2V0IGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgbWFpbiBhcmVhIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGluaXRpYWxpemluZyB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZUd1YXJkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NwaW5uZXIgPSBuZXcgU3Bpbm5lcigpO1xuICAgICAgICB0aGlzLl9pc1JldmVhbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2pwLU1haW5BcmVhV2lkZ2V0Jyk7XG4gICAgICAgIHRoaXMuaWQgPSBET01VdGlscy5jcmVhdGVEb21JRCgpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gKHRoaXMuX2NvbnRlbnQgPSBvcHRpb25zLmNvbnRlbnQpO1xuICAgICAgICBjb25zdCB0b29sYmFyID0gKHRoaXMuX3Rvb2xiYXIgPSBvcHRpb25zLnRvb2xiYXIgfHwgbmV3IFRvb2xiYXIoKSk7XG4gICAgICAgIGNvbnN0IHNwaW5uZXIgPSB0aGlzLl9zcGlubmVyO1xuICAgICAgICBjb25zdCBsYXlvdXQgPSAodGhpcy5sYXlvdXQgPSBuZXcgQm94TGF5b3V0KHsgc3BhY2luZzogMCB9KSk7XG4gICAgICAgIGxheW91dC5kaXJlY3Rpb24gPSAndG9wLXRvLWJvdHRvbSc7XG4gICAgICAgIEJveExheW91dC5zZXRTdHJldGNoKHRvb2xiYXIsIDApO1xuICAgICAgICBCb3hMYXlvdXQuc2V0U3RyZXRjaChjb250ZW50LCAxKTtcbiAgICAgICAgbGF5b3V0LmFkZFdpZGdldCh0b29sYmFyKTtcbiAgICAgICAgbGF5b3V0LmFkZFdpZGdldChjb250ZW50KTtcbiAgICAgICAgaWYgKCFjb250ZW50LmlkKSB7XG4gICAgICAgICAgICBjb250ZW50LmlkID0gRE9NVXRpbHMuY3JlYXRlRG9tSUQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZW50Lm5vZGUudGFiSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVGl0bGUoKTtcbiAgICAgICAgY29udGVudC50aXRsZS5jaGFuZ2VkLmNvbm5lY3QodGhpcy5fdXBkYXRlVGl0bGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnRpdGxlLmNsb3NhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50aXRsZS5jaGFuZ2VkLmNvbm5lY3QodGhpcy5fdXBkYXRlQ29udGVudFRpdGxlLCB0aGlzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucmV2ZWFsKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoc3Bpbm5lci5ub2RlKTtcbiAgICAgICAgICAgIHRoaXMuX3JldmVhbGVkID0gb3B0aW9ucy5yZXZlYWxcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZW50LmRpc3Bvc2VkLmNvbm5lY3QoKCkgPT4gdGhpcy5kaXNwb3NlKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHNwaW5uZXIubm9kZTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUucmVtb3ZlQ2hpbGQoc3Bpbm5lci5ub2RlKTtcbiAgICAgICAgICAgICAgICBzcGlubmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1JldmVhbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFNob3cgYSByZXZlYWxlZCBwcm9taXNlIGVycm9yLlxuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFdpZGdldCgpO1xuICAgICAgICAgICAgICAgIC8vIFNob3cgdGhlIGVycm9yIHRvIHRoZSB1c2VyLlxuICAgICAgICAgICAgICAgIGNvbnN0IHByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ByZScpO1xuICAgICAgICAgICAgICAgIHByZS50ZXh0Q29udGVudCA9IFN0cmluZyhlKTtcbiAgICAgICAgICAgICAgICBlcnJvci5ub2RlLmFwcGVuZENoaWxkKHByZSk7XG4gICAgICAgICAgICAgICAgQm94TGF5b3V0LnNldFN0cmV0Y2goZXJyb3IsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5yZW1vdmVDaGlsZChzcGlubmVyLm5vZGUpO1xuICAgICAgICAgICAgICAgIHNwaW5uZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRvb2xiYXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Rvb2xiYXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxheW91dC5hZGRXaWRnZXQoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzUmV2ZWFsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgbm8gcmV2ZWFsIHByb21pc2UuXG4gICAgICAgICAgICBzcGlubmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGNvbnRlbnQuZGlzcG9zZWQuY29ubmVjdCgoKSA9PiB0aGlzLmRpc3Bvc2UoKSk7XG4gICAgICAgICAgICB0aGlzLl9pc1JldmVhbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JldmVhbGVkID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJpbnQgbWV0aG9kLiBEZWZlcmVkIHRvIGNvbnRlbnQuXG4gICAgICovXG4gICAgW1ByaW50aW5nLnN5bWJvbF0oKSB7XG4gICAgICAgIGlmICghdGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByaW50aW5nLmdldFByaW50RnVuY3Rpb24odGhpcy5fY29udGVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb250ZW50IGhvc3RlZCBieSB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRvb2xiYXIgaG9zdGVkIGJ5IHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgZ2V0IHRvb2xiYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b29sYmFyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250ZW50IHdpZGdldCBvciBhbiBlcnJvciBpcyByZXZlYWxlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNSZXZlYWxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUmV2ZWFsZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHdpZGdldCBpcyByZXZlYWxlZC5cbiAgICAgKi9cbiAgICBnZXQgcmV2ZWFsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXZlYWxlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGAnYWN0aXZhdGUtcmVxdWVzdCdgIG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIG9uQWN0aXZhdGVSZXF1ZXN0KG1zZykge1xuICAgICAgICBpZiAodGhpcy5faXNSZXZlYWxlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb2N1c0NvbnRlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NwaW5uZXIubm9kZS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBgJ2Nsb3NlLXJlcXVlc3QnYCBtZXNzYWdlcy5cbiAgICAgKi9cbiAgICBvbkNsb3NlUmVxdWVzdChtc2cpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBgJ3VwZGF0ZS1yZXF1ZXN0J2AgbWVzc2FnZXMgYnkgZm9yd2FyZGluZyB0aGVtIHRvIHRoZSBjb250ZW50LlxuICAgICAqL1xuICAgIG9uVXBkYXRlUmVxdWVzdChtc2cpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIE1lc3NhZ2VMb29wLnNlbmRNZXNzYWdlKHRoaXMuX2NvbnRlbnQsIG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB0aXRsZSBiYXNlZCBvbiB0aGUgYXR0cmlidXRlcyBvZiB0aGUgY2hpbGQgd2lkZ2V0LlxuICAgICAqL1xuICAgIF91cGRhdGVUaXRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZUd1YXJkIHx8ICF0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGFuZ2VHdWFyZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmNvbnRlbnQ7XG4gICAgICAgIHRoaXMudGl0bGUubGFiZWwgPSBjb250ZW50LnRpdGxlLmxhYmVsO1xuICAgICAgICB0aGlzLnRpdGxlLm1uZW1vbmljID0gY29udGVudC50aXRsZS5tbmVtb25pYztcbiAgICAgICAgdGhpcy50aXRsZS5pY29uQ2xhc3MgPSBjb250ZW50LnRpdGxlLmljb25DbGFzcztcbiAgICAgICAgdGhpcy50aXRsZS5pY29uTGFiZWwgPSBjb250ZW50LnRpdGxlLmljb25MYWJlbDtcbiAgICAgICAgdGhpcy50aXRsZS5pY29uUmVuZGVyZXIgPSBjb250ZW50LnRpdGxlLmljb25SZW5kZXJlcjtcbiAgICAgICAgdGhpcy50aXRsZS5jYXB0aW9uID0gY29udGVudC50aXRsZS5jYXB0aW9uO1xuICAgICAgICB0aGlzLnRpdGxlLmNsYXNzTmFtZSA9IGNvbnRlbnQudGl0bGUuY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLnRpdGxlLmRhdGFzZXQgPSBjb250ZW50LnRpdGxlLmRhdGFzZXQ7XG4gICAgICAgIHRoaXMuX2NoYW5nZUd1YXJkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgY29udGVudCB0aXRsZSBiYXNlZCBvbiBhdHRyaWJ1dGVzIG9mIHRoZSBtYWluIHdpZGdldC5cbiAgICAgKi9cbiAgICBfdXBkYXRlQ29udGVudFRpdGxlKCkge1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlR3VhcmQgfHwgIXRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoYW5nZUd1YXJkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgY29udGVudC50aXRsZS5sYWJlbCA9IHRoaXMudGl0bGUubGFiZWw7XG4gICAgICAgIGNvbnRlbnQudGl0bGUubW5lbW9uaWMgPSB0aGlzLnRpdGxlLm1uZW1vbmljO1xuICAgICAgICBjb250ZW50LnRpdGxlLmljb25DbGFzcyA9IHRoaXMudGl0bGUuaWNvbkNsYXNzO1xuICAgICAgICBjb250ZW50LnRpdGxlLmljb25MYWJlbCA9IHRoaXMudGl0bGUuaWNvbkxhYmVsO1xuICAgICAgICBjb250ZW50LnRpdGxlLmljb25SZW5kZXJlciA9IHRoaXMudGl0bGUuaWNvblJlbmRlcmVyO1xuICAgICAgICBjb250ZW50LnRpdGxlLmNhcHRpb24gPSB0aGlzLnRpdGxlLmNhcHRpb247XG4gICAgICAgIGNvbnRlbnQudGl0bGUuY2xhc3NOYW1lID0gdGhpcy50aXRsZS5jbGFzc05hbWU7XG4gICAgICAgIGNvbnRlbnQudGl0bGUuZGF0YXNldCA9IHRoaXMudGl0bGUuZGF0YXNldDtcbiAgICAgICAgdGhpcy5fY2hhbmdlR3VhcmQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZSBmb2N1cyB0byB0aGUgY29udGVudC5cbiAgICAgKi9cbiAgICBfZm9jdXNDb250ZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvY3VzIHRoZSBjb250ZW50IG5vZGUgaWYgd2UgYXJlbid0IGFscmVhZHkgZm9jdXNlZCBvbiBpdCBvciBhXG4gICAgICAgIC8vIGRlc2NlbmRlbnQuXG4gICAgICAgIGlmICghdGhpcy5jb250ZW50Lm5vZGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5ub2RlLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWN0aXZhdGUgdGhlIGNvbnRlbnQgYXN5bmNocm9ub3VzbHkgKHdoaWNoIG1heSBjaGFuZ2UgdGhlIGZvY3VzKS5cbiAgICAgICAgdGhpcy5jb250ZW50LmFjdGl2YXRlKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbmFyZWF3aWRnZXQuanMubWFwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi8qKlxcbiAqIFN1cHBvcnQgZm9yIGFsdCBjb2xvcnMgZm9yIGljb25zIGFzIGlubGluZSBTVkcgSFRNTEVsZW1lbnRzXFxuICovXFxuXFxuLyogYWx0IHJlY29sb3IgdGhlIHByaW1hcnkgZWxlbWVudHMgb2YgYW4gaWNvbiAqL1xcbi5qcC1pY29uLWFsdCAuanAtaWNvbjBbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMCk7XFxufVxcbi5qcC1pY29uLWFsdCAuanAtaWNvbjFbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMSk7XFxufVxcbi5qcC1pY29uLWFsdCAuanAtaWNvbjJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMik7XFxufVxcbi5qcC1pY29uLWFsdCAuanAtaWNvbjNbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMyk7XFxufVxcbi5qcC1pY29uLWFsdCAuanAtaWNvbjRbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yNCk7XFxufVxcblxcbi5qcC1pY29uLWFsdCAuanAtaWNvbjBbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWxheW91dC1jb2xvcjApO1xcbn1cXG4uanAtaWNvbi1hbHQgLmpwLWljb24xW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG59XFxuLmpwLWljb24tYWx0IC5qcC1pY29uMltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtbGF5b3V0LWNvbG9yMik7XFxufVxcbi5qcC1pY29uLWFsdCAuanAtaWNvbjNbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWxheW91dC1jb2xvcjMpO1xcbn1cXG4uanAtaWNvbi1hbHQgLmpwLWljb240W3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1sYXlvdXQtY29sb3I0KTtcXG59XFxuXFxuLyogYWx0IHJlY29sb3IgdGhlIGFjY2VudCBlbGVtZW50cyBvZiBhbiBpY29uICovXFxuLmpwLWljb24tYWx0IC5qcC1pY29uLWFjY2VudDBbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IwKTtcXG59XFxuLmpwLWljb24tYWx0IC5qcC1pY29uLWFjY2VudDFbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IxKTtcXG59XFxuLmpwLWljb24tYWx0IC5qcC1pY29uLWFjY2VudDJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IyKTtcXG59XFxuLmpwLWljb24tYWx0IC5qcC1pY29uLWFjY2VudDNbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IzKTtcXG59XFxuLmpwLWljb24tYWx0IC5qcC1pY29uLWFjY2VudDRbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3I0KTtcXG59XFxuXFxuLmpwLWljb24tYWx0IC5qcC1pY29uLWFjY2VudDBbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMCk7XFxufVxcbi5qcC1pY29uLWFsdCAuanAtaWNvbi1hY2NlbnQxW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjEpO1xcbn1cXG4uanAtaWNvbi1hbHQgLmpwLWljb24tYWNjZW50MltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IyKTtcXG59XFxuLmpwLWljb24tYWx0IC5qcC1pY29uLWFjY2VudDNbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMyk7XFxufVxcbi5qcC1pY29uLWFsdCAuanAtaWNvbi1hY2NlbnQ0W3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjQpO1xcbn1cXG5cIiwgXCJcIl0pO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuLyoqXG4gKiBBIGNvbmNyZXRlIGltcGxlbWVudGF0aW9uIG9mIElPYnNlcnZibGVNYXA8VD4uXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlTWFwIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgb2JzZXJ2YWJsZSBtYXAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXRlbUNtcCA9IG9wdGlvbnMuaXRlbUNtcCB8fCBQcml2YXRlLml0ZW1DbXA7XG4gICAgICAgIGlmIChvcHRpb25zLnZhbHVlcykge1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIG9wdGlvbnMudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLnNldChrZXksIG9wdGlvbnMudmFsdWVzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBPYnNlcnZhYmxlLlxuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gJ01hcCc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgbWFwIGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuICAgIGdldCBjaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIG1hcCBoYXMgYmVlbiBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Yga2V5LXZhbHVlIHBhaXJzIGluIHRoZSBtYXAuXG4gICAgICovXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuc2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGEga2V5LXZhbHVlIHBhaXIgaW4gdGhlIG1hcFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBrZXkgdG8gc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIGZvciB0aGUga2V5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIG9sZCB2YWx1ZSBmb3IgdGhlIGtleSwgb3IgdW5kZWZpbmVkXG4gICAgICogICBpZiB0aGF0IGRpZCBub3QgZXhpc3QuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIGlmIHRoZSBuZXcgdmFsdWUgaXMgdW5kZWZpbmVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgaXMgYSBuby1vcCBpZiB0aGUgdmFsdWUgZG9lcyBub3QgY2hhbmdlLlxuICAgICAqL1xuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIGxldCBvbGRWYWwgPSB0aGlzLl9tYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IHNldCBhbiB1bmRlZmluZWQgdmFsdWUsIHVzZSByZW1vdmUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCYWlsIGlmIHRoZSB2YWx1ZSBkb2VzIG5vdCBjaGFuZ2UuXG4gICAgICAgIGxldCBpdGVtQ21wID0gdGhpcy5faXRlbUNtcDtcbiAgICAgICAgaWYgKG9sZFZhbCAhPT0gdW5kZWZpbmVkICYmIGl0ZW1DbXAob2xkVmFsLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvbGRWYWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgIHR5cGU6IG9sZFZhbCA/ICdjaGFuZ2UnIDogJ2FkZCcsXG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIG9sZFZhbHVlOiBvbGRWYWwsXG4gICAgICAgICAgICBuZXdWYWx1ZTogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvbGRWYWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHZhbHVlIGZvciBhIGdpdmVuIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgLSB0aGUga2V5LlxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIHZhbHVlIGZvciB0aGF0IGtleS5cbiAgICAgKi9cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KGtleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIG1hcCBoYXMgYSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gdGhlIGtleSB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWFwIGhhcyB0aGUga2V5LCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBoYXMoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKGtleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2YgdGhlIGtleXMgaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gYSBsaXN0IG9mIGtleXMuXG4gICAgICovXG4gICAga2V5cygpIHtcbiAgICAgICAgbGV0IGtleUxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5fbWFwLmZvckVhY2goKHYsIGspID0+IHtcbiAgICAgICAgICAgIGtleUxpc3QucHVzaChrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBrZXlMaXN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsaXN0IG9mIHRoZSB2YWx1ZXMgaW4gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gYSBsaXN0IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIGxldCB2YWxMaXN0ID0gW107XG4gICAgICAgIHRoaXMuX21hcC5mb3JFYWNoKCh2LCBrKSA9PiB7XG4gICAgICAgICAgICB2YWxMaXN0LnB1c2godik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsTGlzdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEga2V5IGZyb20gdGhlIG1hcFxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIHRoZSBrZXkgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBrZXksXG4gICAgICogICBvciB1bmRlZmluZWQgaWYgdGhhdCBkb2VzIG5vdCBleGlzdC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGEgbm8tb3AgaWYgdGhlIHZhbHVlIGRvZXMgbm90IGNoYW5nZS5cbiAgICAgKi9cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIGxldCBvbGRWYWwgPSB0aGlzLl9tYXAuZ2V0KGtleSk7XG4gICAgICAgIGxldCByZW1vdmVkID0gdGhpcy5fbWFwLmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVtb3ZlJyxcbiAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZTogb2xkVmFsLFxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvbGRWYWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgT2JzZXJ2YWJsZU1hcCB0byBhbiBlbXB0eSBtYXAuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIC8vIERlbGV0ZSBvbmUgYnkgb25lIHRvIGVtaXQgdGhlIGNvcnJlY3Qgc2lnbmFscy5cbiAgICAgICAgbGV0IGtleUxpc3QgPSB0aGlzLmtleXMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShrZXlMaXN0W2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgbWFwLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICAgICAgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBtb2R1bGUgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHN0cmljdCBlcXVhbGl0eSBpdGVtIGNvbXBhcmF0b3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlbUNtcChmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgIHJldHVybiBmaXJzdCA9PT0gc2Vjb25kO1xuICAgIH1cbiAgICBQcml2YXRlLml0ZW1DbXAgPSBpdGVtQ21wO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlbWFwLmpzLm1hcCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIEltcG9ydHNcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9hcHB1dGlscy9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2RvY3JlZ2lzdHJ5L3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG58IENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxcbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXCIsIFwiXCJdKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIGZpbGw9JyUyMzYxNjE2MScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTIwIDVINGMtMS4xIDAtMS45OS45LTEuOTkgMkwyIDE3YzAgMS4xLjkgMiAyIDJoMTZjMS4xIDAgMi0uOSAyLTJWN2MwLTEuMS0uOS0yLTItMnptLTkgM2gydjJoLTJWOHptMCAzaDJ2MmgtMnYtMnpNOCA4aDJ2Mkg4Vjh6bTAgM2gydjJIOHYtMnptLTEgMkg1di0yaDJ2MnptMC0zSDVWOGgydjJ6bTkgN0g4di0yaDh2MnptMC00aC0ydi0yaDJ2MnptMC0zaC0yVjhoMnYyem0zIDNoLTJ2LTJoMnYyem0wLTNoLTJWOGgydjJ6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIGZpbGw9XFxcIiM2MTYxNjFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZVxcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk0yMCA1SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxN2MwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjdjMC0xLjEtLjktMi0yLTJ6bS05IDNoMnYyaC0yVjh6bTAgM2gydjJoLTJ2LTJ6TTggOGgydjJIOFY4em0wIDNoMnYySDh2LTJ6bS0xIDJINXYtMmgydjJ6bTAtM0g1VjhoMnYyem05IDdIOHYtMmg4djJ6bTAtNGgtMnYtMmgydjJ6bTAtM2gtMlY4aDJ2MnptMyAzaC0ydi0yaDJ2MnptMC0zaC0yVjhoMnYyelxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZpZXdCb3g9JzAgMCAyNCAyNCcgaGVpZ2h0PScxOCcgd2lkdGg9JzE4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTMuOSAxMmMwLTEuNzEgMS4zOS0zLjEgMy4xLTMuMWg0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0xLjlIN2MtMS43MSAwLTMuMS0xLjM5LTMuMS0zLjF6TTggMTNoOHYtMkg4djJ6bTktNmgtNHYxLjloNGMxLjcxIDAgMy4xIDEuMzkgMy4xIDMuMXMtMS4zOSAzLjEtMy4xIDMuMWgtNFYxN2g0YzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01eicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIGhlaWdodD1cXFwiMThcXFwiIHdpZHRoPVxcXCIxOFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk0zLjkgMTJjMC0xLjcxIDEuMzktMy4xIDMuMS0zLjFoNFY3SDdjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDVoNHYtMS45SDdjLTEuNzEgMC0zLjEtMS4zOS0zLjEtMy4xek04IDEzaDh2LTJIOHYyem05LTZoLTR2MS45aDRjMS43MSAwIDMuMSAxLjM5IDMuMSAzLjFzLTEuMzkgMy4xLTMuMSAzLjFoLTRWMTdoNGMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNXpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSAlM0NwYXRoIGNsYXNzPSdqcC1pY29uMiBqcC1pY29uLXNlbGVjdGFibGUnIGZpbGw9JyUyMzYxNjE2MScgZD0nTTE5IDV2MTRINVY1aDE0bTEuMS0ySDMuOWMtLjUgMC0uOS40LS45Ljl2MTYuMmMwIC40LjQuOS45LjloMTYuMmMuNCAwIC45LS41LjktLjlWMy45YzAtLjUtLjUtLjktLjktLjl6TTExIDdoNnYyaC02Vjd6bTAgNGg2djJoLTZ2LTJ6bTAgNGg2djJoLTZ6TTcgN2gydjJIN3ptMCA0aDJ2Mkg3em0wIDRoMnYySDd6Jy8lM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPlxcbiAgICA8cGF0aCBjbGFzcz1cXFwianAtaWNvbjIganAtaWNvbi1zZWxlY3RhYmxlXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIiBkPVxcXCJNMTkgNXYxNEg1VjVoMTRtMS4xLTJIMy45Yy0uNSAwLS45LjQtLjkuOXYxNi4yYzAgLjQuNC45LjkuOWgxNi4yYy40IDAgLjktLjUuOS0uOVYzLjljMC0uNS0uNS0uOS0uOS0uOXpNMTEgN2g2djJoLTZWN3ptMCA0aDZ2MmgtNnYtMnptMCA0aDZ2MmgtNnpNNyA3aDJ2Mkg3em0wIDRoMnYySDd6bTAgNGgydjJIN3pcXFwiLz5cXG48L3N2Zz5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgc2FuaXRpemUgZnJvbSAnc2FuaXRpemUtaHRtbCc7XG4vKipcbiAqIEhlbHBlciBjbGFzcyB0aGF0IGNvbnRhaW5zIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZm9yIGlubGluZSBDU1Mgc3R5bGUgdmFsaWRhdGlvbi5cbiAqXG4gKiBXaGljaCBwcm9wZXJ0aWVzIChhbmQgdmFsdWVzKSB0byBhbGxvdyBpcyBsYXJnbHkgYmFzZWQgb24gdGhlIEdvb2dsZSBDYWphIHByb2plY3Q6XG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2FqYVxuICpcbiAqIFRoZSByZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBsYXJnbHkgYmFzZWQgb24gdGhlIHN5bnRheCBkZWZpbml0aW9uIGZvdW5kIGF0XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MuXG4gKi9cbmNsYXNzIENzc1Byb3Age1xuICAgIHN0YXRpYyByZWcocikge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyByICsgJyQnLCAnaScpO1xuICAgIH1cbn1cbi8qXG4gKiBOdW1lcmljIGJhc2UgZXhwcmVzc2lvbnMgdXNlZCB0byBoZWxwIGJ1aWxkIG1vcmUgY29tcGxleCByZWd1bGFyIGV4cHJlc3Npb25zXG4gKi9cbkNzc1Byb3AuTiA9IHtcbiAgICBpbnRlZ2VyOiBgWystXT9bMC05XStgLFxuICAgIGludGVnZXJfcG9zOiBgWytdP1swLTldK2AsXG4gICAgaW50ZWdlcl96ZXJvX2ZmOiBgKFswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSlgLFxuICAgIG51bWJlcjogYFsrLV0/KFswLTldKlsuXSk/WzAtOV0rKGUtP1swLTldKik/YCxcbiAgICBudW1iZXJfcG9zOiBgWytdPyhbMC05XSpbLl0pP1swLTldKyhlLT9bMC05XSopP2AsXG4gICAgbnVtYmVyX3plcm9faHVuZHJlZDogYFsrXT8oKFswLTldfFsxLTldWzAtOV0pKFsuXVswLTldKyk/fDEwMClgLFxuICAgIG51bWJlcl96ZXJvX29uZTogYFsrXT8oMShbLl1bMF0rKT98MChbLl1bMC05XSspPylgXG59O1xuLypcbiAqIEJhc2UgZXhwcmVzc2lvbnMgb2YgY29tbW9uIENTUyBzeW50YXggZWxlbWVudHNcbiAqL1xuQ3NzUHJvcC5CID0ge1xuICAgIGFuZ2xlOiBgKCR7Q3NzUHJvcC5OLm51bWJlcn0oZGVnfHJhZHxncmFkfHR1cm4pfDApYCxcbiAgICBmcmVxdWVuY3k6IGAke0Nzc1Byb3AuTi5udW1iZXJ9KEh6fGtIeilgLFxuICAgIGlkZW50OiBTdHJpbmcucmF3IGAtPyhbX2Etel18W1xceEEwLVxceEZGXXxcXFxcWzAtOWEtZl17MSw2fShcXHJcXG58WyBcXHRcXHJcXG5cXGZdKT98XFxcXFteXFxyXFxuXFxmMC05YS1mXSkoW19hLXowLTktXXxbXFx4QTAtXFx4RkZdfFxcXFxbMC05YS1mXXsxLDZ9KFxcclxcbnxbIFxcdFxcclxcblxcZl0pP3xcXFxcW15cXHJcXG5cXGYwLTlhLWZdKSpgLFxuICAgIGxlbl9vcl9wZXJjOiBgKDB8JHtDc3NQcm9wLk4ubnVtYmVyfShweHxlbXxyZW18ZXh8aW58Y218bW18cHR8cGN8JSkpYCxcbiAgICBsZW5ndGg6IGAoJHtDc3NQcm9wLk4ubnVtYmVyfShweHxlbXxyZW18ZXh8aW58Y218bW18cHR8cGMpfDApYCxcbiAgICBsZW5ndGhfcG9zOiBgKCR7Q3NzUHJvcC5OLm51bWJlcl9wb3N9KHB4fGVtfHJlbXxleHxpbnxjbXxtbXxwdHxwYyl8MClgLFxuICAgIHBlcmNlbnRhZ2U6IGAke0Nzc1Byb3AuTi5udW1iZXJ9JWAsXG4gICAgcGVyY2VudGFnZV9wb3M6IGAke0Nzc1Byb3AuTi5udW1iZXJfcG9zfSVgLFxuICAgIHBlcmNlbnRhZ2VfemVyb19odW5kcmVkOiBgJHtDc3NQcm9wLk4ubnVtYmVyX3plcm9faHVuZHJlZH0lYCxcbiAgICBzdHJpbmc6IFN0cmluZy5yYXcgYChcXFwiKFteXFxuXFxyXFxmXFxcXFwiXXxcXFxcXFxufFxcclxcbnxcXHJ8XFxmfFxcXFxbMC05YS1mXXsxLDZ9KFxcclxcbnxbIFxcdFxcclxcblxcZl0pP3xcXFxcW15cXHJcXG5cXGYwLTlhLWZdKSpcXFwiKXwoXFwnKFteXFxuXFxyXFxmXFxcXCddfFxcXFxcXG58XFxyXFxufFxccnxcXGZ8XFxcXFswLTlhLWZdezEsNn0oXFxyXFxufFsgXFx0XFxyXFxuXFxmXSk/fFxcXFxbXlxcclxcblxcZjAtOWEtZl0pKlxcJylgLFxuICAgIHRpbWU6IGAke0Nzc1Byb3AuTi5udW1iZXJ9KHN8bXMpYCxcbiAgICB1cmw6IGB1cmxcXFxcKC4qP1xcXFwpYCxcbiAgICB6X2luZGV4OiBgWystXT9bMC05XXsxLDd9YFxufTtcbi8qXG4gKiBBdG9taWMgKGkuZS4gbm90IGRlcGVuZGFudCBvbiBvdGhlciByZWd1bGFyIGV4cHJlc2lvbnMpIHN1YiBSZWdFeCBzZWdtZW50c1xuICovXG5Dc3NQcm9wLkEgPSB7XG4gICAgYWJzb2x1dGVfc2l6ZTogYHh4LXNtYWxsfHgtc21hbGx8c21hbGx8bWVkaXVtfGxhcmdlfHgtbGFyZ2V8eHgtbGFyZ2VgLFxuICAgIGF0dGFjaG1lbnQ6IGBzY3JvbGx8Zml4ZWR8bG9jYWxgLFxuICAgIGJnX29yaWdpbjogYGJvcmRlci1ib3h8cGFkZGluZy1ib3h8Y29udGVudC1ib3hgLFxuICAgIGJvcmRlcl9zdHlsZTogYG5vbmV8aGlkZGVufGRvdHRlZHxkYXNoZWR8c29saWR8ZG91YmxlfGdyb292ZXxyaWRnZXxpbnNldHxvdXRzZXRgLFxuICAgIGJveDogYGJvcmRlci1ib3h8cGFkZGluZy1ib3h8Y29udGVudC1ib3hgLFxuICAgIGRpc3BsYXlfaW5zaWRlOiBgYXV0b3xibG9ja3x0YWJsZXxmbGV4fGdyaWRgLFxuICAgIGRpc3BsYXlfb3V0c2lkZTogYGJsb2NrLWxldmVsfGlubGluZS1sZXZlbHxub25lfHRhYmxlLXJvdy1ncm91cHx0YWJsZS1oZWFkZXItZ3JvdXB8dGFibGUtZm9vdGVyLWdyb3VwfHRhYmxlLXJvd3x0YWJsZS1jZWxsfHRhYmxlLWNvbHVtbi1ncm91cHx0YWJsZS1jb2x1bW58dGFibGUtY2FwdGlvbmAsXG4gICAgZW5kaW5nX3NoYXBlOiBgY2lyY2xlfGVsbGlwc2VgLFxuICAgIGdlbmVyaWNfZmFtaWx5OiBgc2VyaWZ8c2Fucy1zZXJpZnxjdXJzaXZlfGZhbnRhc3l8bW9ub3NwYWNlYCxcbiAgICBnZW5lcmljX3ZvaWNlOiBgbWFsZXxmZW1hbGV8Y2hpbGRgLFxuICAgIHJlbGF0aXZlX3NpemU6IGBzbWFsbGVyfGxhcmdlcmAsXG4gICAgcmVwZWF0X3N0eWxlOiBgcmVwZWF0LXh8cmVwZWF0LXl8KCg/OnJlcGVhdHxzcGFjZXxyb3VuZHxuby1yZXBlYXQpKD86XFxcXHMqKD86cmVwZWF0fHNwYWNlfHJvdW5kfG5vLXJlcGVhdCkpPylgLFxuICAgIHNpZGVfb3JfY29ybmVyOiBgKGxlZnR8cmlnaHQpP1xcXFxzKih0b3B8Ym90dG9tKT9gLFxuICAgIHNpbmdsZV9hbmltYXRpb25fZGlyZWN0aW9uOiBgbm9ybWFsfHJldmVyc2V8YWx0ZXJuYXRlfGFsdGVybmF0ZS1yZXZlcnNlYCxcbiAgICBzaW5nbGVfYW5pbWF0aW9uX2ZpbGxfbW9kZTogYG5vbmV8Zm9yd2FyZHN8YmFja3dhcmRzfGJvdGhgLFxuICAgIHNpbmdsZV9hbmltYXRpb25fcGxheV9zdGF0ZTogYHJ1bm5pbmd8cGF1c2VkYFxufTtcbi8qXG4gKiBDb2xvciBkZWZpbml0aW9uIHN1YiBleHByZXNzaW9uc1xuICovXG5Dc3NQcm9wLl9DT0xPUiA9IHtcbiAgICBoZXg6IGBcXFxcIygweCk/WzAtOWEtZl0rYCxcbiAgICBuYW1lOiBgYWxpY2VibHVlfGFudGlxdWV3aGl0ZXxhcXVhfGFxdWFtYXJpbmV8YXp1cmV8YmVpZ2V8YmlzcXVlfGJsYWNrfGJsYW5jaGVkYWxtb25kfGJsdWV8Ymx1ZXZpb2xldHxicm93bnxidXJseXdvb2R8Y2FkZXRibHVlfGNoYXJ0cmV1c2V8Y2hvY29sYXRlfGNvcmFsfGNvcm5mbG93ZXJibHVlfGNvcm5zaWxrfGNyaW1zb258Y3lhbnxkYXJrYmx1ZXxkYXJrY3lhbnxkYXJrZ29sZGVucm9kfGRhcmtncmF5fGRhcmtncmVlbnxkYXJra2hha2l8ZGFya21hZ2VudGF8ZGFya29saXZlZ3JlZW58ZGFya29yYW5nZXxkYXJrb3JjaGlkfGRhcmtyZWR8ZGFya3NhbG1vbnxkYXJrc2VhZ3JlZW58ZGFya3NsYXRlYmx1ZXxkYXJrc2xhdGVncmF5fGRhcmt0dXJxdW9pc2V8ZGFya3Zpb2xldHxkZWVwcGlua3xkZWVwc2t5Ymx1ZXxkaW1ncmF5fGRvZGdlcmJsdWV8ZmlyZWJyaWNrfGZsb3JhbHdoaXRlfGZvcmVzdGdyZWVufGZ1Y2hzaWF8Z2FpbnNib3JvfGdob3N0d2hpdGV8Z29sZHxnb2xkZW5yb2R8Z3JheXxncmVlbnxncmVlbnllbGxvd3xob25leWRld3xob3RwaW5rfGluZGlhbnJlZHxpbmRpZ298aXZvcnl8a2hha2l8bGF2ZW5kZXJ8bGF2ZW5kZXJibHVzaHxsYXduZ3JlZW58bGVtb25jaGlmZm9ufGxpZ2h0Ymx1ZXxsaWdodGNvcmFsfGxpZ2h0Y3lhbnxsaWdodGdvbGRlbnJvZHllbGxvd3xsaWdodGdyZWVufGxpZ2h0Z3JleXxsaWdodHBpbmt8bGlnaHRzYWxtb258bGlnaHRzZWFncmVlbnxsaWdodHNreWJsdWV8bGlnaHRzbGF0ZWdyYXl8bGlnaHRzdGVlbGJsdWV8bGlnaHR5ZWxsb3d8bGltZXxsaW1lZ3JlZW58bGluZW58bWFnZW50YXxtYXJvb258bWVkaXVtYXF1YW1hcmluZXxtZWRpdW1ibHVlfG1lZGl1bW9yY2hpZHxtZWRpdW1wdXJwbGV8bWVkaXVtc2VhZ3JlZW58bWVkaXVtc2xhdGVibHVlfG1lZGl1bXNwcmluZ2dyZWVufG1lZGl1bXR1cnF1b2lzZXxtZWRpdW12aW9sZXRyZWR8bWlkbmlnaHRibHVlfG1pbnRjcmVhbXxtaXN0eXJvc2V8bW9jY2FzaW58bmF2YWpvd2hpdGV8bmF2eXxvbGRsYWNlfG9saXZlfG9saXZlZHJhYnxvcmFuZ2V8b3JhbmdlcmVkfG9yY2hpZHxwYWxlZ29sZGVucm9kfHBhbGVncmVlbnxwYWxldHVycXVvaXNlfHBhbGV2aW9sZXRyZWR8cGFwYXlhd2hpcHxwZWFjaHB1ZmZ8cGVydXxwaW5rfHBsdW18cG93ZGVyYmx1ZXxwdXJwbGV8cmVkfHJvc3licm93bnxyb3lhbGJsdWV8c2FkZGxlYnJvd258c2FsbW9ufHNhbmR5YnJvd258c2VhZ3JlZW58c2Vhc2hlbGx8c2llbm5hfHNpbHZlcnxza3libHVlfHNsYXRlYmx1ZXxzbGF0ZWdyYXl8c25vd3xzcHJpbmdncmVlbnxzdGVlbGJsdWV8dGFufHRlYWx8dGhpc3RsZXx0b21hdG98dHVycXVvaXNlfHRyYW5zcGFyZW50fHZpb2xldHx3aGVhdHx3aGl0ZXx3aGl0ZXNtb2tlfHllbGxvd3x5ZWxsb3dncmVlbmAsXG4gICAgcmdiOiBTdHJpbmcucmF3IGByZ2JcXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKlxcKWAsXG4gICAgcmdiYTogU3RyaW5nLnJhdyBgcmdiYVxcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooJHtDc3NQcm9wLk4uaW50ZWdlcl96ZXJvX2ZmfXwke0Nzc1Byb3AuTi5udW1iZXJfemVyb19vbmV9fCR7Q3NzUHJvcC5CLnBlcmNlbnRhZ2VfemVyb19odW5kcmVkfSlcXHMqXFwpYFxufTtcbi8qXG4gKiBDb21wb3VuZCAoaS5lLiBkZXBlbmRhbnQgb24gb3RoZXIgKHN1YikgcmVndWxhciBleHByZXNpb25zKSBzdWIgUmVnRXggc2VnbWVudHNcbiAqL1xuQ3NzUHJvcC5fQyA9IHtcbiAgICBhbHBoYTogYCR7Q3NzUHJvcC5OLmludGVnZXJfemVyb19mZn18JHtDc3NQcm9wLk4ubnVtYmVyX3plcm9fb25lfXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlX3plcm9faHVuZHJlZH1gLFxuICAgIGFscGhhdmFsdWU6IENzc1Byb3AuTi5udW1iZXJfemVyb19vbmUsXG4gICAgYmdfcG9zaXRpb246IGAoKCR7Q3NzUHJvcC5CLmxlbl9vcl9wZXJjfXxsZWZ0fGNlbnRlcnxyaWdodHx0b3B8Ym90dG9tKVxcXFxzKil7MSw0fWAsXG4gICAgYmdfc2l6ZTogYCgke0Nzc1Byb3AuQi5sZW5ndGhfcG9zfXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlfXxhdXRvKXsxLDJ9fGNvdmVyfGNvbnRhaW5gLFxuICAgIGJvcmRlcl93aWR0aDogYHRoaW58bWVkaXVtfHRoaWNrfCR7Q3NzUHJvcC5CLmxlbmd0aH1gLFxuICAgIGJvdHRvbTogYCR7Q3NzUHJvcC5CLmxlbmd0aH18YXV0b2AsXG4gICAgY29sb3I6IGAke0Nzc1Byb3AuX0NPTE9SLmhleH18JHtDc3NQcm9wLl9DT0xPUi5yZ2J9fCR7Q3NzUHJvcC5fQ09MT1IucmdiYX18JHtDc3NQcm9wLl9DT0xPUi5uYW1lfWAsXG4gICAgZmFtaWx5X25hbWU6IGAke0Nzc1Byb3AuQi5zdHJpbmd9fCgke0Nzc1Byb3AuQi5pZGVudH1cXFxccyopK2AsXG4gICAgaW1hZ2VfZGVjbDogQ3NzUHJvcC5CLnVybCxcbiAgICBsZWZ0OiBgJHtDc3NQcm9wLkIubGVuZ3RofXxhdXRvYCxcbiAgICBsb29zZV9xdW90YWJsZV93b3JkczogYCgke0Nzc1Byb3AuQi5pZGVudH0pK2AsXG4gICAgbWFyZ2luX3dpZHRoOiBgJHtDc3NQcm9wLkIubGVuX29yX3BlcmN9fGF1dG9gLFxuICAgIHBhZGRpbmdfd2lkdGg6IGAke0Nzc1Byb3AuQi5sZW5ndGhfcG9zfXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlX3Bvc31gLFxuICAgIHBhZ2VfdXJsOiBDc3NQcm9wLkIudXJsLFxuICAgIHBvc2l0aW9uOiBgKCgke0Nzc1Byb3AuQi5sZW5fb3JfcGVyY318bGVmdHxjZW50ZXJ8cmlnaHR8dG9wfGJvdHRvbSlcXFxccyopezEsNH1gLFxuICAgIHJpZ2h0OiBgJHtDc3NQcm9wLkIubGVuZ3RofXxhdXRvYCxcbiAgICBzaGFkb3c6ICcnLFxuICAgIHNpemU6IGBjbG9zZXN0LXNpZGV8ZmFydGhlc3Qtc2lkZXxjbG9zZXN0LWNvcm5lcnxmYXJ0aGVzdC1jb3JuZXJ8JHtDc3NQcm9wLkIubGVuZ3RofXwoJHtDc3NQcm9wLkIubGVuX29yX3BlcmN9KVxcXFxzKygke0Nzc1Byb3AuQi5sZW5fb3JfcGVyY30pYCxcbiAgICB0b3A6IGAke0Nzc1Byb3AuQi5sZW5ndGh9fGF1dG9gXG59O1xuQ3NzUHJvcC5fQzEgPSB7XG4gICAgaW1hZ2VfbGlzdDogYGltYWdlXFxcXChcXFxccyooJHtDc3NQcm9wLkIudXJsfSkqXFxcXHMqKCR7Q3NzUHJvcC5CLnVybH18JHtDc3NQcm9wLl9DLmNvbG9yfSlcXFxccypcXFxcKWAsXG4gICAgc2hhZG93OiBgKCgke0Nzc1Byb3AuX0MuY29sb3J9KVxcXFxzKygoJHtDc3NQcm9wLkIubGVuZ3RofSlcXFxccyopezIsNH0oXFxzK2luc2V0KT8pfCgoaW5zZXRcXFxccyspPygoJHtDc3NQcm9wLkIubGVuZ3RofSlcXFxccyopezIsNH1cXFxccyooJHtDc3NQcm9wLl9DLmNvbG9yfSk/KWBcbn07XG5Dc3NQcm9wLl9DMiA9IHtcbiAgICBiZ19pbWFnZTogYCgke0Nzc1Byb3AuQi51cmx9fCR7Q3NzUHJvcC5fQzEuaW1hZ2VfbGlzdH0pfG5vbmVgLFxuICAgIGltYWdlOiBgJHtDc3NQcm9wLkIudXJsfXwke0Nzc1Byb3AuX0MxLmltYWdlX2xpc3R9YCxcbiAgICBzaGFwZTogYHJlY3RcXFxcKFxcXFxzKigke0Nzc1Byb3AuX0MudG9wfSlcXFxccyosXFxcXHMqKCR7Q3NzUHJvcC5fQy5yaWdodH0pXFxcXHMqLFxcXFxzKigke0Nzc1Byb3AuX0MuYm90dG9tfSlcXFxccyosXFxcXHMqKCR7Q3NzUHJvcC5fQy5sZWZ0fSlcXFxccypcXFxcKWBcbn07XG5Dc3NQcm9wLkMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgQ3NzUHJvcC5fQyksIENzc1Byb3AuX0MxKSwgQ3NzUHJvcC5fQzIpO1xuLypcbiAqIFByb3BlcnR5IHZhbHVlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgbm90IGRlcGVuZGFudCBvbiBvdGhlciBzdWIgZXhwcmVzc2lvbnNcbiAqL1xuQ3NzUHJvcC5BUCA9IHtcbiAgICBib3JkZXJfY29sbGFwc2U6IGBjb2xsYXBzZXxzZXBhcmF0ZWAsXG4gICAgYm94OiBgbm9ybWFsfG5vbmV8Y29udGVudHNgLFxuICAgIGJveF9zaXppbmc6IGBjb250ZW50LWJveHxwYWRkaW5nLWJveHxib3JkZXItYm94YCxcbiAgICBjYXB0aW9uX3NpZGU6IGB0b3B8Ym90dG9tYCxcbiAgICBjbGVhcjogYG5vbmV8bGVmdHxyaWdodHxib3RoYCxcbiAgICBkaXJlY3Rpb246IGBsdHJ8cnRsYCxcbiAgICBlbXB0eV9jZWxsczogYHNob3d8aGlkZWAsXG4gICAgZmxvYXQ6IGBsZWZ0fHJpZ2h0fG5vbmVgLFxuICAgIGZvbnRfc3RyZXRjaDogYG5vcm1hbHx3aWRlcnxuYXJyb3dlcnx1bHRyYS1jb25kZW5zZWR8ZXh0cmEtY29uZGVuc2VkfGNvbmRlbnNlZHxzZW1pLWNvbmRlbnNlZHxzZW1pLWV4cGFuZGVkfGV4cGFuZGVkfGV4dHJhLWV4cGFuZGVkfHVsdHJhLWV4cGFuZGVkYCxcbiAgICBmb250X3N0eWxlOiBgbm9ybWFsfGl0YWxpY3xvYmxpcXVlYCxcbiAgICBmb250X3ZhcmlhbnQ6IGBub3JtYWx8c21hbGwtY2Fwc2AsXG4gICAgZm9udF93ZWlnaHQ6IGBub3JtYWx8Ym9sZHxib2xkZXJ8bGlnaHRlcnwxMDB8MjAwfDMwMHw0MDB8NTAwfDYwMHw3MDB8ODAwfDkwMGAsXG4gICAgbGlzdF9zdHlsZV9wb3NpdGlvbjogYGluc2lkZXxvdXRzaWRlYCxcbiAgICBsaXN0X3N0eWxlX3R5cGU6IGBkaXNjfGNpcmNsZXxzcXVhcmV8ZGVjaW1hbHxkZWNpbWFsLWxlYWRpbmctemVyb3xsb3dlci1yb21hbnx1cHBlci1yb21hbnxsb3dlci1ncmVla3xsb3dlci1sYXRpbnx1cHBlci1sYXRpbnxhcm1lbmlhbnxnZW9yZ2lhbnxsb3dlci1hbHBoYXx1cHBlci1hbHBoYXxub25lYCxcbiAgICBvdmVyZmxvdzogYHZpc2libGV8aGlkZGVufHNjcm9sbHxhdXRvYCxcbiAgICBvdmVyZmxvd193cmFwOiBgbm9ybWFsfGJyZWFrLXdvcmRgLFxuICAgIG92ZXJmbG93X3g6IGB2aXNpYmxlfGhpZGRlbnxzY3JvbGx8YXV0b3xuby1kaXNwbGF5fG5vLWNvbnRlbnRgLFxuICAgIHBhZ2VfYnJlYWtfYWZ0ZXI6IGBhdXRvfGFsd2F5c3xhdm9pZHxsZWZ0fHJpZ2h0YCxcbiAgICBwYWdlX2JyZWFrX2JlZm9yZTogYGF1dG98YWx3YXlzfGF2b2lkfGxlZnR8cmlnaHRgLFxuICAgIHBhZ2VfYnJlYWtfaW5zaWRlOiBgYXZvaWR8YXV0b2AsXG4gICAgcG9zaXRpb246IGBzdGF0aWN8cmVsYXRpdmV8YWJzb2x1dGVgLFxuICAgIHJlc2l6ZTogYG5vbmV8Ym90aHxob3Jpem9udGFsfHZlcnRpY2FsYCxcbiAgICBzcGVhazogYG5vcm1hbHxub25lfHNwZWxsLW91dGAsXG4gICAgc3BlYWtfaGVhZGVyOiBgb25jZXxhbHdheXNgLFxuICAgIHNwZWFrX251bWVyYWw6IGBkaWdpdHN8Y29udGludW91c2AsXG4gICAgc3BlYWtfcHVuY3R1YXRpb246IGBjb2RlfG5vbmVgLFxuICAgIHRhYmxlX2xheW91dDogYGF1dG98Zml4ZWRgLFxuICAgIHRleHRfYWxpZ246IGBsZWZ0fHJpZ2h0fGNlbnRlcnxqdXN0aWZ5YCxcbiAgICB0ZXh0X2RlY29yYXRpb246IGBub25lfCgodW5kZXJsaW5lfG92ZXJsaW5lfGxpbmUtdGhyb3VnaHxibGluaylcXFxccyopK2AsXG4gICAgdGV4dF90cmFuc2Zvcm06IGBjYXBpdGFsaXplfHVwcGVyY2FzZXxsb3dlcmNhc2V8bm9uZWAsXG4gICAgdGV4dF93cmFwOiBgbm9ybWFsfHVucmVzdHJpY3RlZHxub25lfHN1cHByZXNzYCxcbiAgICB1bmljb2RlX2JpZGk6IGBub3JtYWx8ZW1iZWR8YmlkaS1vdmVycmlkZWAsXG4gICAgdmlzaWJpbGl0eTogYHZpc2libGV8aGlkZGVufGNvbGxhcHNlYCxcbiAgICB3aGl0ZV9zcGFjZTogYG5vcm1hbHxwcmV8bm93cmFwfHByZS13cmFwfHByZS1saW5lYCxcbiAgICB3b3JkX2JyZWFrOiBgbm9ybWFsfGtlZXAtYWxsfGJyZWFrLWFsbGBcbn07XG4vKlxuICogQ29tcG91bmQgcHJvcGVydGl5IHZhbHVlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgKGkuZS4gZGVwZW5kYW50IG9uIG90aGVyIHN1YiBleHByZXNzaW9ucylcbiAqL1xuQ3NzUHJvcC5fQ1AgPSB7XG4gICAgYmFja2dyb3VuZF9hdHRhY2htZW50OiBgJHtDc3NQcm9wLkEuYXR0YWNobWVudH0oLFxcXFxzKiR7Q3NzUHJvcC5BLmF0dGFjaG1lbnR9KSpgLFxuICAgIGJhY2tncm91bmRfY29sb3I6IENzc1Byb3AuQy5jb2xvcixcbiAgICBiYWNrZ3JvdW5kX29yaWdpbjogYCR7Q3NzUHJvcC5BLmJveH0oLFxcXFxzKiR7Q3NzUHJvcC5BLmJveH0pKmAsXG4gICAgYmFja2dyb3VuZF9yZXBlYXQ6IGAke0Nzc1Byb3AuQS5yZXBlYXRfc3R5bGV9KCxcXFxccyoke0Nzc1Byb3AuQS5yZXBlYXRfc3R5bGV9KSpgLFxuICAgIGJvcmRlcjogYCgoJHtDc3NQcm9wLkMuYm9yZGVyX3dpZHRofXwke0Nzc1Byb3AuQS5ib3JkZXJfc3R5bGV9fCR7Q3NzUHJvcC5DLmNvbG9yfSlcXFxccyopezEsM31gLFxuICAgIGJvcmRlcl9yYWRpdXM6IGAoKCR7Q3NzUHJvcC5CLmxlbl9vcl9wZXJjfSlcXFxccyopezEsNH0oXFxcXC9cXFxccyooKCR7Q3NzUHJvcC5CLmxlbl9vcl9wZXJjfSlcXFxccyopezEsNH0pP2AsXG4gICAgYm9yZGVyX3NwYWNpbmc6IGAke0Nzc1Byb3AuQi5sZW5ndGh9XFxcXHMqKCR7Q3NzUHJvcC5CLmxlbmd0aH0pP2AsXG4gICAgYm9yZGVyX3RvcF9jb2xvcjogQ3NzUHJvcC5DLmNvbG9yLFxuICAgIGJvcmRlcl90b3Bfc3R5bGU6IENzc1Byb3AuQS5ib3JkZXJfc3R5bGUsXG4gICAgYm9yZGVyX3dpZHRoOiBgKCgke0Nzc1Byb3AuQy5ib3JkZXJfd2lkdGh9KVxcXFxzKil7MSw0fWAsXG4gICAgY29sb3I6IENzc1Byb3AuQy5jb2xvcixcbiAgICBjdXJzb3I6IGAoJHtDc3NQcm9wLkIudXJsfShcXFxccyosXFxcXHMqKT8pKihhdXRvfGNyb3NzaGFpcnxkZWZhdWx0fHBvaW50ZXJ8bW92ZXxlLXJlc2l6ZXxuZS1yZXNpemV8bnctcmVzaXplfG4tcmVzaXplfHNlLXJlc2l6ZXxzdy1yZXNpemV8cy1yZXNpemV8dy1yZXNpemV8dGV4dHx3YWl0fGhlbHB8cHJvZ3Jlc3N8YWxsLXNjcm9sbHxjb2wtcmVzaXplfGhhbmR8bm8tZHJvcHxub3QtYWxsb3dlZHxyb3ctcmVzaXplfHZlcnRpY2FsLXRleHQpYCxcbiAgICBkaXNwbGF5OiBgaW5saW5lfGJsb2NrfGxpc3QtaXRlbXxydW4taW58aW5saW5lLWxpc3QtaXRlbXxpbmxpbmUtYmxvY2t8dGFibGV8aW5saW5lLXRhYmxlfHRhYmxlLWNlbGx8dGFibGUtY2FwdGlvbnxmbGV4fGlubGluZS1mbGV4fGdyaWR8aW5saW5lLWdyaWR8JHtDc3NQcm9wLkEuZGlzcGxheV9pbnNpZGV9fCR7Q3NzUHJvcC5BLmRpc3BsYXlfb3V0c2lkZX18aW5oZXJpdHxpbmxpbmUtYm94fGlubGluZS1zdGFja2AsXG4gICAgZGlzcGxheV9vdXRzaWRlOiBDc3NQcm9wLkEuZGlzcGxheV9vdXRzaWRlLFxuICAgIGVsZXZhdGlvbjogYCR7Q3NzUHJvcC5CLmFuZ2xlfXxiZWxvd3xsZXZlbHxhYm92ZXxoaWdoZXJ8bG93ZXJgLFxuICAgIGZvbnRfZmFtaWx5OiBgKCR7Q3NzUHJvcC5DLmZhbWlseV9uYW1lfXwke0Nzc1Byb3AuQS5nZW5lcmljX2ZhbWlseX0pKCxcXFxccyooJHtDc3NQcm9wLkMuZmFtaWx5X25hbWV9fCR7Q3NzUHJvcC5BLmdlbmVyaWNfZmFtaWx5fSkpKmAsXG4gICAgaGVpZ2h0OiBgJHtDc3NQcm9wLkIubGVuZ3RofXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlfXxhdXRvYCxcbiAgICBsZXR0ZXJfc3BhY2luZzogYG5vcm1hbHwke0Nzc1Byb3AuQi5sZW5ndGh9YCxcbiAgICBsaXN0X3N0eWxlX2ltYWdlOiBgJHtDc3NQcm9wLkMuaW1hZ2V9fG5vbmVgLFxuICAgIG1hcmdpbl9yaWdodDogQ3NzUHJvcC5DLm1hcmdpbl93aWR0aCxcbiAgICBtYXhfaGVpZ2h0OiBgJHtDc3NQcm9wLkIubGVuZ3RoX3Bvc318JHtDc3NQcm9wLkIucGVyY2VudGFnZV9wb3N9fG5vbmV8YXV0b2AsXG4gICAgbWluX2hlaWdodDogYCR7Q3NzUHJvcC5CLmxlbmd0aF9wb3N9fCR7Q3NzUHJvcC5CLnBlcmNlbnRhZ2VfcG9zfXxhdXRvYCxcbiAgICBvcGFjaXR5OiBDc3NQcm9wLkMuYWxwaGF2YWx1ZSxcbiAgICBvdXRsaW5lX2NvbG9yOiBgJHtDc3NQcm9wLkMuY29sb3J9fGludmVydGAsXG4gICAgb3V0bGluZV93aWR0aDogQ3NzUHJvcC5DLmJvcmRlcl93aWR0aCxcbiAgICBwYWRkaW5nOiBgKCgke0Nzc1Byb3AuQy5wYWRkaW5nX3dpZHRofSlcXFxccyopezEsNH1gLFxuICAgIHBhZGRpbmdfdG9wOiBDc3NQcm9wLkMucGFkZGluZ193aWR0aCxcbiAgICBwaXRjaF9yYW5nZTogQ3NzUHJvcC5OLm51bWJlcixcbiAgICByaWdodDogYCR7Q3NzUHJvcC5CLmxlbmd0aH18JHtDc3NQcm9wLkIucGVyY2VudGFnZX18YXV0b2AsXG4gICAgc3RyZXNzOiBDc3NQcm9wLk4ubnVtYmVyLFxuICAgIHRleHRfaW5kZW50OiBgJHtDc3NQcm9wLkIubGVuZ3RofXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlfWAsXG4gICAgdGV4dF9zaGFkb3c6IGBub25lfCR7Q3NzUHJvcC5DLnNoYWRvd30oLFxcXFxzKigke0Nzc1Byb3AuQy5zaGFkb3d9KSkqYCxcbiAgICB2b2x1bWU6IGAke0Nzc1Byb3AuTi5udW1iZXJfcG9zfXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlX3Bvc318c2lsZW50fHgtc29mdHxzb2Z0fG1lZGl1bXxsb3VkfHgtbG91ZGAsXG4gICAgd29yZF93cmFwOiBDc3NQcm9wLkFQLm92ZXJmbG93X3dyYXAsXG4gICAgem9vbTogYG5vcm1hbHwke0Nzc1Byb3AuTi5udW1iZXJfcG9zfXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlX3Bvc31gLFxuICAgIGJhY2tmYWNlX3Zpc2liaWxpdHk6IENzc1Byb3AuQVAudmlzaWJpbGl0eSxcbiAgICBiYWNrZ3JvdW5kX2NsaXA6IGAke0Nzc1Byb3AuQS5ib3h9KCxcXFxccyooJHtDc3NQcm9wLkEuYm94fSkpKmAsXG4gICAgYmFja2dyb3VuZF9wb3NpdGlvbjogYCR7Q3NzUHJvcC5DLmJnX3Bvc2l0aW9ufSgsXFxcXHMqKCR7Q3NzUHJvcC5DLmJnX3Bvc2l0aW9ufSkpKmAsXG4gICAgYm9yZGVyX2JvdHRvbV9jb2xvcjogQ3NzUHJvcC5DLmNvbG9yLFxuICAgIGJvcmRlcl9ib3R0b21fc3R5bGU6IENzc1Byb3AuQS5ib3JkZXJfc3R5bGUsXG4gICAgYm9yZGVyX2NvbG9yOiBgKCgke0Nzc1Byb3AuQy5jb2xvcn0pXFxcXHMqKXsxLDR9YCxcbiAgICBib3JkZXJfbGVmdF9jb2xvcjogQ3NzUHJvcC5DLmNvbG9yLFxuICAgIGJvcmRlcl9yaWdodF9jb2xvcjogQ3NzUHJvcC5DLmNvbG9yLFxuICAgIGJvcmRlcl9zdHlsZTogYCgoJHtDc3NQcm9wLkEuYm9yZGVyX3N0eWxlfSlcXFxccyopezEsNH1gLFxuICAgIGJvcmRlcl90b3BfbGVmdF9yYWRpdXM6IGAoJHtDc3NQcm9wLkIubGVuZ3RofXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlfSkoXFxcXHMqKCR7Q3NzUHJvcC5CLmxlbmd0aH18JHtDc3NQcm9wLkIucGVyY2VudGFnZX0pKT9gLFxuICAgIGJvcmRlcl90b3Bfd2lkdGg6IENzc1Byb3AuQy5ib3JkZXJfd2lkdGgsXG4gICAgYm94X3NoYWRvdzogYG5vbmV8JHtDc3NQcm9wLkMuc2hhZG93fSgsXFxcXHMqKCR7Q3NzUHJvcC5DLnNoYWRvd30pKSpgLFxuICAgIGNsaXA6IGAke0Nzc1Byb3AuQy5zaGFwZX18YXV0b2AsXG4gICAgZGlzcGxheV9pbnNpZGU6IENzc1Byb3AuQS5kaXNwbGF5X2luc2lkZSxcbiAgICBmb250X3NpemU6IGAke0Nzc1Byb3AuQS5hYnNvbHV0ZV9zaXplfXwke0Nzc1Byb3AuQS5yZWxhdGl2ZV9zaXplfXwke0Nzc1Byb3AuQi5sZW5ndGhfcG9zfXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlX3Bvc31gLFxuICAgIGxpbmVfaGVpZ2h0OiBgbm9ybWFsfCR7Q3NzUHJvcC5OLm51bWJlcl9wb3N9fCR7Q3NzUHJvcC5CLmxlbmd0aF9wb3N9fCR7Q3NzUHJvcC5CLnBlcmNlbnRhZ2VfcG9zfWAsXG4gICAgbWFyZ2luX2xlZnQ6IENzc1Byb3AuQy5tYXJnaW5fd2lkdGgsXG4gICAgbWF4X3dpZHRoOiBgJHtDc3NQcm9wLkIubGVuZ3RoX3Bvc318JHtDc3NQcm9wLkIucGVyY2VudGFnZV9wb3N9fG5vbmV8YXV0b2AsXG4gICAgb3V0bGluZV9zdHlsZTogQ3NzUHJvcC5BLmJvcmRlcl9zdHlsZSxcbiAgICBwYWRkaW5nX2JvdHRvbTogQ3NzUHJvcC5DLnBhZGRpbmdfd2lkdGgsXG4gICAgcGFkZGluZ19yaWdodDogQ3NzUHJvcC5DLnBhZGRpbmdfd2lkdGgsXG4gICAgcGVyc3BlY3RpdmU6IGBub25lfCR7Q3NzUHJvcC5CLmxlbmd0aH1gLFxuICAgIHJpY2huZXNzOiBDc3NQcm9wLk4ubnVtYmVyLFxuICAgIHRleHRfb3ZlcmZsb3c6IGAoKGNsaXB8ZWxsaXBzaXN8JHtDc3NQcm9wLkIuc3RyaW5nfSlcXFxccyopezEsMn1gLFxuICAgIHRvcDogYCR7Q3NzUHJvcC5CLmxlbmd0aH18JHtDc3NQcm9wLkIucGVyY2VudGFnZX18YXV0b2AsXG4gICAgd2lkdGg6IGAke0Nzc1Byb3AuQi5sZW5ndGhfcG9zfXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlX3Bvc318YXV0b2AsXG4gICAgel9pbmRleDogYGF1dG98JHtDc3NQcm9wLkIuel9pbmRleH1gLFxuICAgIC8vIFNpbXBsaWZpZWQgYmFja2dyb3VuZFxuICAgIGJhY2tncm91bmQ6IGAoKCgke0Nzc1Byb3AuQy5iZ19wb3NpdGlvbn1cXFxccyooXFxcXC9cXFxccyoke0Nzc1Byb3AuQy5iZ19zaXplfSk/KXwoJHtDc3NQcm9wLkEucmVwZWF0X3N0eWxlfSl8KCR7Q3NzUHJvcC5BLmF0dGFjaG1lbnR9KXwoJHtDc3NQcm9wLkEuYmdfb3JpZ2lufSl8KCR7Q3NzUHJvcC5DLmJnX2ltYWdlfSl8KCR7Q3NzUHJvcC5DLmNvbG9yfSkpXFxcXHMqKStgLFxuICAgIGJhY2tncm91bmRfc2l6ZTogYCR7Q3NzUHJvcC5DLmJnX3NpemV9KCxcXFxccyoke0Nzc1Byb3AuQy5iZ19zaXplfSkqYCxcbiAgICBib3JkZXJfYm90dG9tX2xlZnRfcmFkaXVzOiBgKCR7Q3NzUHJvcC5CLmxlbmd0aH18JHtDc3NQcm9wLkIucGVyY2VudGFnZX0pKFxcXFxzKigke0Nzc1Byb3AuQi5sZW5ndGh9fCR7Q3NzUHJvcC5CLnBlcmNlbnRhZ2V9KSk/YCxcbiAgICBib3JkZXJfYm90dG9tX3dpZHRoOiBDc3NQcm9wLkMuYm9yZGVyX3dpZHRoLFxuICAgIGJvcmRlcl9sZWZ0X3N0eWxlOiBDc3NQcm9wLkEuYm9yZGVyX3N0eWxlLFxuICAgIGJvcmRlcl9yaWdodF9zdHlsZTogQ3NzUHJvcC5BLmJvcmRlcl9zdHlsZSxcbiAgICBib3JkZXJfdG9wOiBgKCgke0Nzc1Byb3AuQy5ib3JkZXJfd2lkdGh9fCR7Q3NzUHJvcC5BLmJvcmRlcl9zdHlsZX18JHtDc3NQcm9wLkMuY29sb3J9KVxcXFxzKil7MSwzfWAsXG4gICAgYm90dG9tOiBgJHtDc3NQcm9wLkIubGVuX29yX3BlcmN9fGF1dG9gLFxuICAgIGxpc3Rfc3R5bGU6IGAoKCR7Q3NzUHJvcC5BUC5saXN0X3N0eWxlX3R5cGV9fCR7Q3NzUHJvcC5BUC5saXN0X3N0eWxlX3Bvc2l0aW9ufXwke0Nzc1Byb3AuQy5pbWFnZX18bm9uZX0pXFxcXHMqKXsxLDN9YCxcbiAgICBtYXJnaW5fdG9wOiBDc3NQcm9wLkMubWFyZ2luX3dpZHRoLFxuICAgIG91dGxpbmU6IGAoKCR7Q3NzUHJvcC5DLmNvbG9yfXxpbnZlcnR8JHtDc3NQcm9wLkEuYm9yZGVyX3N0eWxlfXwke0Nzc1Byb3AuQy5ib3JkZXJfd2lkdGh9KVxcXFxzKil7MSwzfWAsXG4gICAgb3ZlcmZsb3dfeTogQ3NzUHJvcC5BUC5vdmVyZmxvd194LFxuICAgIHBpdGNoOiBgJHtDc3NQcm9wLkIuZnJlcXVlbmN5fXx4LWxvd3xsb3d8bWVkaXVtfGhpZ2h8eC1oaWdoYCxcbiAgICB2ZXJ0aWNhbF9hbGlnbjogYGJhc2VsaW5lfHN1YnxzdXBlcnx0b3B8dGV4dC10b3B8bWlkZGxlfGJvdHRvbXx0ZXh0LWJvdHRvbXwke0Nzc1Byb3AuQi5sZW5fb3JfcGVyY31gLFxuICAgIHdvcmRfc3BhY2luZzogYG5vcm1hbHwke0Nzc1Byb3AuQi5sZW5ndGh9YCxcbiAgICBiYWNrZ3JvdW5kX2ltYWdlOiBgJHtDc3NQcm9wLkMuYmdfaW1hZ2V9KCxcXFxccyoke0Nzc1Byb3AuQy5iZ19pbWFnZX0pKmAsXG4gICAgYm9yZGVyX2JvdHRvbV9yaWdodF9yYWRpdXM6IGAoJHtDc3NQcm9wLkIubGVuZ3RofXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlfSkoXFxcXHMqKCR7Q3NzUHJvcC5CLmxlbmd0aH18JHtDc3NQcm9wLkIucGVyY2VudGFnZX0pKT9gLFxuICAgIGJvcmRlcl9sZWZ0X3dpZHRoOiBDc3NQcm9wLkMuYm9yZGVyX3dpZHRoLFxuICAgIGJvcmRlcl9yaWdodF93aWR0aDogQ3NzUHJvcC5DLmJvcmRlcl93aWR0aCxcbiAgICBsZWZ0OiBgJHtDc3NQcm9wLkIubGVuX29yX3BlcmN9fGF1dG9gLFxuICAgIG1hcmdpbl9ib3R0b206IENzc1Byb3AuQy5tYXJnaW5fd2lkdGgsXG4gICAgcGF1c2VfYWZ0ZXI6IGAke0Nzc1Byb3AuQi50aW1lfXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlfWAsXG4gICAgc3BlZWNoX3JhdGU6IGAke0Nzc1Byb3AuTi5udW1iZXJ9fHgtc2xvd3xzbG93fG1lZGl1bXxmYXN0fHgtZmFzdHxmYXN0ZXJ8c2xvd2VyYCxcbiAgICB0cmFuc2l0aW9uX2R1cmF0aW9uOiBgJHtDc3NQcm9wLkIudGltZX0oLFxcXFxzKiR7Q3NzUHJvcC5CLnRpbWV9KSpgLFxuICAgIGJvcmRlcl9ib3R0b206IGAoKCR7Q3NzUHJvcC5DLmJvcmRlcl93aWR0aH18JHtDc3NQcm9wLkEuYm9yZGVyX3N0eWxlfXwke0Nzc1Byb3AuQy5jb2xvcn0pXFxcXHMqKXsxLDN9YCxcbiAgICBib3JkZXJfcmlnaHQ6IGAoKCR7Q3NzUHJvcC5DLmJvcmRlcl93aWR0aH18JHtDc3NQcm9wLkEuYm9yZGVyX3N0eWxlfXwke0Nzc1Byb3AuQy5jb2xvcn0pXFxcXHMqKXsxLDN9YCxcbiAgICBtYXJnaW46IGAoKCR7Q3NzUHJvcC5DLm1hcmdpbl93aWR0aH0pXFxcXHMqKXsxLDR9YCxcbiAgICBwYWRkaW5nX2xlZnQ6IENzc1Byb3AuQy5wYWRkaW5nX3dpZHRoLFxuICAgIGJvcmRlcl9sZWZ0OiBgKCgke0Nzc1Byb3AuQy5ib3JkZXJfd2lkdGh9fCR7Q3NzUHJvcC5BLmJvcmRlcl9zdHlsZX18JHtDc3NQcm9wLkMuY29sb3J9KVxcXFxzKil7MSwzfWAsXG4gICAgcXVvdGVzOiBgKCR7Q3NzUHJvcC5CLnN0cmluZ31cXFxccyoke0Nzc1Byb3AuQi5zdHJpbmd9KSt8bm9uZWAsXG4gICAgYm9yZGVyX3RvcF9yaWdodF9yYWRpdXM6IGAoJHtDc3NQcm9wLkIubGVuZ3RofXwke0Nzc1Byb3AuQi5wZXJjZW50YWdlfSkoXFxcXHMqKCR7Q3NzUHJvcC5CLmxlbmd0aH18JHtDc3NQcm9wLkIucGVyY2VudGFnZX0pKT9gLFxuICAgIG1pbl93aWR0aDogYCR7Q3NzUHJvcC5CLmxlbmd0aF9wb3N9fCR7Q3NzUHJvcC5CLnBlcmNlbnRhZ2VfcG9zfXxhdXRvYFxufTtcbkNzc1Byb3AuX0NQMSA9IHtcbiAgICBmb250OiBgKCgoKCgke0Nzc1Byb3AuQVAuZm9udF9zdHlsZX18JHtDc3NQcm9wLkFQLmZvbnRfdmFyaWFudH18JHtDc3NQcm9wLkFQLmZvbnRfd2VpZ2h0fSlcXFxccyopezEsM30pP1xcXFxzKigke0Nzc1Byb3AuX0NQLmZvbnRfc2l6ZX0pXFxcXHMqKFxcXFwvXFxcXHMqKCR7Q3NzUHJvcC5fQ1AubGluZV9oZWlnaHR9KSk/XFxcXHMrKCR7Q3NzUHJvcC5fQ1AuZm9udF9mYW1pbHl9KSl8Y2FwdGlvbnxpY29ufG1lbnV8bWVzc2FnZS1ib3h8c21hbGwtY2FwdGlvbnxzdGF0dXMtYmFyKWBcbn07XG5Dc3NQcm9wLkNQID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBDc3NQcm9wLl9DUCksIENzc1Byb3AuX0NQMSk7XG4vLyBDU1MgUHJvcGVydHkgdmFsdWUgdmFsaWRhdGlvbiByZWd1bGFyIGV4cHJlc3Npb25zIGZvciB1c2Ugd2l0aCBzYW5pdGl6ZS1odG1sXG5Dc3NQcm9wLkJPUkRFUl9DT0xMQVBTRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAuYm9yZGVyX2NvbGxhcHNlKTtcbkNzc1Byb3AuQk9YID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC5ib3gpO1xuQ3NzUHJvcC5CT1hfU0laSU5HID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC5ib3hfc2l6aW5nKTtcbkNzc1Byb3AuQ0FQVElPTl9TSURFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC5jYXB0aW9uX3NpZGUpO1xuQ3NzUHJvcC5DTEVBUiA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAuY2xlYXIpO1xuQ3NzUHJvcC5ESVJFQ1RJT04gPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLmRpcmVjdGlvbik7XG5Dc3NQcm9wLkVNUFRZX0NFTExTID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC5lbXB0eV9jZWxscyk7XG5Dc3NQcm9wLkZMT0FUID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC5mbG9hdCk7XG5Dc3NQcm9wLkZPTlRfU1RSRVRDSCA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAuZm9udF9zdHJldGNoKTtcbkNzc1Byb3AuRk9OVF9TVFlMRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAuZm9udF9zdHlsZSk7XG5Dc3NQcm9wLkZPTlRfVkFSSUFOVCA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAuZm9udF92YXJpYW50KTtcbkNzc1Byb3AuRk9OVF9XRUlHSFQgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLmZvbnRfd2VpZ2h0KTtcbkNzc1Byb3AuTElTVF9TVFlMRV9QT1NJVElPTiA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAubGlzdF9zdHlsZV9wb3NpdGlvbik7XG5Dc3NQcm9wLkxJU1RfU1RZTEVfVFlQRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAubGlzdF9zdHlsZV90eXBlKTtcbkNzc1Byb3AuT1ZFUkZMT1cgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLm92ZXJmbG93KTtcbkNzc1Byb3AuT1ZFUkZMT1dfV1JBUCA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAub3ZlcmZsb3dfd3JhcCk7XG5Dc3NQcm9wLk9WRVJGTE9XX1ggPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLm92ZXJmbG93X3gpO1xuQ3NzUHJvcC5QQUdFX0JSRUFLX0FGVEVSID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC5wYWdlX2JyZWFrX2FmdGVyKTtcbkNzc1Byb3AuUEFHRV9CUkVBS19CRUZPUkUgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLnBhZ2VfYnJlYWtfYmVmb3JlKTtcbkNzc1Byb3AuUEFHRV9CUkVBS19JTlNJREUgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLnBhZ2VfYnJlYWtfaW5zaWRlKTtcbkNzc1Byb3AuUE9TSVRJT04gPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLnBvc2l0aW9uKTtcbkNzc1Byb3AuUkVTSVpFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC5yZXNpemUpO1xuQ3NzUHJvcC5TUEVBSyA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAuc3BlYWspO1xuQ3NzUHJvcC5TUEVBS19IRUFERVIgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLnNwZWFrX2hlYWRlcik7XG5Dc3NQcm9wLlNQRUFLX05VTUVSQUwgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLnNwZWFrX251bWVyYWwpO1xuQ3NzUHJvcC5TUEVBS19QVU5DVFVBVElPTiA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAuc3BlYWtfcHVuY3R1YXRpb24pO1xuQ3NzUHJvcC5UQUJMRV9MQVlPVVQgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLnRhYmxlX2xheW91dCk7XG5Dc3NQcm9wLlRFWFRfQUxJR04gPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLnRleHRfYWxpZ24pO1xuQ3NzUHJvcC5URVhUX0RFQ09SQVRJT04gPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLnRleHRfZGVjb3JhdGlvbik7XG5Dc3NQcm9wLlRFWFRfVFJBTlNGT1JNID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC50ZXh0X3RyYW5zZm9ybSk7XG5Dc3NQcm9wLlRFWFRfV1JBUCA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAudGV4dF93cmFwKTtcbkNzc1Byb3AuVU5JQ09ERV9CSURJID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC51bmljb2RlX2JpZGkpO1xuQ3NzUHJvcC5WSVNJQklMSVRZID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5BUC52aXNpYmlsaXR5KTtcbkNzc1Byb3AuV0hJVEVfU1BBQ0UgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkFQLndoaXRlX3NwYWNlKTtcbkNzc1Byb3AuV09SRF9CUkVBSyA9IENzc1Byb3AucmVnKENzc1Byb3AuQVAud29yZF9icmVhayk7XG5Dc3NQcm9wLkJBQ0tHUk9VTkRfQVRUQUNITUVOVCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYmFja2dyb3VuZF9hdHRhY2htZW50KTtcbkNzc1Byb3AuQkFDS0dST1VORF9DT0xPUiA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYmFja2dyb3VuZF9jb2xvcik7XG5Dc3NQcm9wLkJBQ0tHUk9VTkRfT1JJR0lOID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5iYWNrZ3JvdW5kX29yaWdpbik7XG5Dc3NQcm9wLkJBQ0tHUk9VTkRfUkVQRUFUID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5iYWNrZ3JvdW5kX3JlcGVhdCk7XG5Dc3NQcm9wLkJPUkRFUiA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyKTtcbkNzc1Byb3AuQk9SREVSX1JBRElVUyA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX3JhZGl1cyk7XG5Dc3NQcm9wLkJPUkRFUl9TUEFDSU5HID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfc3BhY2luZyk7XG5Dc3NQcm9wLkJPUkRFUl9UT1BfQ09MT1IgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmJvcmRlcl90b3BfY29sb3IpO1xuQ3NzUHJvcC5CT1JERVJfVE9QX1NUWUxFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfdG9wX3N0eWxlKTtcbkNzc1Byb3AuQk9SREVSX1dJRFRIID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfd2lkdGgpO1xuQ3NzUHJvcC5DT0xPUiA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuY29sb3IpO1xuQ3NzUHJvcC5DVVJTT1IgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmN1cnNvcik7XG5Dc3NQcm9wLkRJU1BMQVkgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmRpc3BsYXkpO1xuQ3NzUHJvcC5ESVNQTEFZX09VVFNJREUgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmRpc3BsYXlfb3V0c2lkZSk7XG5Dc3NQcm9wLkVMRVZBVElPTiA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuZWxldmF0aW9uKTtcbkNzc1Byb3AuRk9OVF9GQU1JTFkgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmZvbnRfZmFtaWx5KTtcbkNzc1Byb3AuSEVJR0hUID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5oZWlnaHQpO1xuQ3NzUHJvcC5MRVRURVJfU1BBQ0lORyA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AubGV0dGVyX3NwYWNpbmcpO1xuQ3NzUHJvcC5MSVNUX1NUWUxFX0lNQUdFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5saXN0X3N0eWxlX2ltYWdlKTtcbkNzc1Byb3AuTUFSR0lOX1JJR0hUID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5tYXJnaW5fcmlnaHQpO1xuQ3NzUHJvcC5NQVhfSEVJR0hUID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5tYXhfaGVpZ2h0KTtcbkNzc1Byb3AuTUlOX0hFSUdIVCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AubWluX2hlaWdodCk7XG5Dc3NQcm9wLk9QQUNJVFkgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLm9wYWNpdHkpO1xuQ3NzUHJvcC5PVVRMSU5FX0NPTE9SID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5vdXRsaW5lX2NvbG9yKTtcbkNzc1Byb3AuT1VUTElORV9XSURUSCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1Aub3V0bGluZV93aWR0aCk7XG5Dc3NQcm9wLlBBRERJTkcgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLnBhZGRpbmcpO1xuQ3NzUHJvcC5QQURESU5HX1RPUCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AucGFkZGluZ190b3ApO1xuQ3NzUHJvcC5QSVRDSF9SQU5HRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AucGl0Y2hfcmFuZ2UpO1xuQ3NzUHJvcC5SSUdIVCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AucmlnaHQpO1xuQ3NzUHJvcC5TVFJFU1MgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLnN0cmVzcyk7XG5Dc3NQcm9wLlRFWFRfSU5ERU5UID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC50ZXh0X2luZGVudCk7XG5Dc3NQcm9wLlRFWFRfU0hBRE9XID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC50ZXh0X3NoYWRvdyk7XG5Dc3NQcm9wLlZPTFVNRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1Audm9sdW1lKTtcbkNzc1Byb3AuV09SRF9XUkFQID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC53b3JkX3dyYXApO1xuQ3NzUHJvcC5aT09NID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC56b29tKTtcbkNzc1Byb3AuQkFDS0ZBQ0VfVklTSUJJTElUWSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYmFja2ZhY2VfdmlzaWJpbGl0eSk7XG5Dc3NQcm9wLkJBQ0tHUk9VTkRfQ0xJUCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYmFja2dyb3VuZF9jbGlwKTtcbkNzc1Byb3AuQkFDS0dST1VORF9QT1NJVElPTiA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYmFja2dyb3VuZF9wb3NpdGlvbik7XG5Dc3NQcm9wLkJPUkRFUl9CT1RUT01fQ09MT1IgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmJvcmRlcl9ib3R0b21fY29sb3IpO1xuQ3NzUHJvcC5CT1JERVJfQk9UVE9NX1NUWUxFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfYm90dG9tX3N0eWxlKTtcbkNzc1Byb3AuQk9SREVSX0NPTE9SID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfY29sb3IpO1xuQ3NzUHJvcC5CT1JERVJfTEVGVF9DT0xPUiA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX2xlZnRfY29sb3IpO1xuQ3NzUHJvcC5CT1JERVJfUklHSFRfQ09MT1IgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmJvcmRlcl9yaWdodF9jb2xvcik7XG5Dc3NQcm9wLkJPUkRFUl9TVFlMRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX3N0eWxlKTtcbkNzc1Byb3AuQk9SREVSX1RPUF9MRUZUX1JBRElVUyA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX3RvcF9sZWZ0X3JhZGl1cyk7XG5Dc3NQcm9wLkJPUkRFUl9UT1BfV0lEVEggPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmJvcmRlcl90b3Bfd2lkdGgpO1xuQ3NzUHJvcC5CT1hfU0hBRE9XID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3hfc2hhZG93KTtcbkNzc1Byb3AuQ0xJUCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuY2xpcCk7XG5Dc3NQcm9wLkRJU1BMQVlfSU5TSURFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5kaXNwbGF5X2luc2lkZSk7XG5Dc3NQcm9wLkZPTlRfU0laRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuZm9udF9zaXplKTtcbkNzc1Byb3AuTElORV9IRUlHSFQgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmxpbmVfaGVpZ2h0KTtcbkNzc1Byb3AuTUFSR0lOX0xFRlQgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLm1hcmdpbl9sZWZ0KTtcbkNzc1Byb3AuTUFYX1dJRFRIID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5tYXhfd2lkdGgpO1xuQ3NzUHJvcC5PVVRMSU5FX1NUWUxFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5vdXRsaW5lX3N0eWxlKTtcbkNzc1Byb3AuUEFERElOR19CT1RUT00gPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLnBhZGRpbmdfYm90dG9tKTtcbkNzc1Byb3AuUEFERElOR19SSUdIVCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AucGFkZGluZ19yaWdodCk7XG5Dc3NQcm9wLlBFUlNQRUNUSVZFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5wZXJzcGVjdGl2ZSk7XG5Dc3NQcm9wLlJJQ0hORVNTID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5yaWNobmVzcyk7XG5Dc3NQcm9wLlRFWFRfT1ZFUkZMT1cgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLnRleHRfb3ZlcmZsb3cpO1xuQ3NzUHJvcC5UT1AgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLnRvcCk7XG5Dc3NQcm9wLldJRFRIID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC53aWR0aCk7XG5Dc3NQcm9wLlpfSU5ERVggPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLnpfaW5kZXgpO1xuQ3NzUHJvcC5CQUNLR1JPVU5EID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5iYWNrZ3JvdW5kKTtcbkNzc1Byb3AuQkFDS0dST1VORF9TSVpFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5iYWNrZ3JvdW5kX3NpemUpO1xuQ3NzUHJvcC5CT1JERVJfQk9UVE9NX0xFRlRfUkFESVVTID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfYm90dG9tX2xlZnRfcmFkaXVzKTtcbkNzc1Byb3AuQk9SREVSX0JPVFRPTV9XSURUSCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX2JvdHRvbV93aWR0aCk7XG5Dc3NQcm9wLkJPUkRFUl9MRUZUX1NUWUxFID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfbGVmdF9zdHlsZSk7XG5Dc3NQcm9wLkJPUkRFUl9SSUdIVF9TVFlMRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX3JpZ2h0X3N0eWxlKTtcbkNzc1Byb3AuQk9SREVSX1RPUCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX3RvcCk7XG5Dc3NQcm9wLkJPVFRPTSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm90dG9tKTtcbkNzc1Byb3AuTElTVF9TVFlMRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AubGlzdF9zdHlsZSk7XG5Dc3NQcm9wLk1BUkdJTl9UT1AgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLm1hcmdpbl90b3ApO1xuQ3NzUHJvcC5PVVRMSU5FID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5vdXRsaW5lKTtcbkNzc1Byb3AuT1ZFUkZMT1dfWSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1Aub3ZlcmZsb3dfeSk7XG5Dc3NQcm9wLlBJVENIID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5waXRjaCk7XG5Dc3NQcm9wLlZFUlRJQ0FMX0FMSUdOID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC52ZXJ0aWNhbF9hbGlnbik7XG5Dc3NQcm9wLldPUkRfU1BBQ0lORyA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1Aud29yZF9zcGFjaW5nKTtcbkNzc1Byb3AuQkFDS0dST1VORF9JTUFHRSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYmFja2dyb3VuZF9pbWFnZSk7XG5Dc3NQcm9wLkJPUkRFUl9CT1RUT01fUklHSFRfUkFESVVTID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfYm90dG9tX3JpZ2h0X3JhZGl1cyk7XG5Dc3NQcm9wLkJPUkRFUl9MRUZUX1dJRFRIID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfbGVmdF93aWR0aCk7XG5Dc3NQcm9wLkJPUkRFUl9SSUdIVF9XSURUSCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX3JpZ2h0X3dpZHRoKTtcbkNzc1Byb3AuTEVGVCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AubGVmdCk7XG5Dc3NQcm9wLk1BUkdJTl9CT1RUT00gPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLm1hcmdpbl9ib3R0b20pO1xuQ3NzUHJvcC5QQVVTRV9BRlRFUiA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AucGF1c2VfYWZ0ZXIpO1xuQ3NzUHJvcC5TUEVFQ0hfUkFURSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1Auc3BlZWNoX3JhdGUpO1xuQ3NzUHJvcC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC50cmFuc2l0aW9uX2R1cmF0aW9uKTtcbkNzc1Byb3AuQk9SREVSX0JPVFRPTSA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX2JvdHRvbSk7XG5Dc3NQcm9wLkJPUkRFUl9SSUdIVCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AuYm9yZGVyX3JpZ2h0KTtcbkNzc1Byb3AuTUFSR0lOID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5tYXJnaW4pO1xuQ3NzUHJvcC5QQURESU5HX0xFRlQgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLnBhZGRpbmdfbGVmdCk7XG5Dc3NQcm9wLkJPUkRFUl9MRUZUID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfbGVmdCk7XG5Dc3NQcm9wLkZPTlQgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLmZvbnQpO1xuQ3NzUHJvcC5RVU9URVMgPSBDc3NQcm9wLnJlZyhDc3NQcm9wLkNQLnF1b3Rlcyk7XG5Dc3NQcm9wLkJPUkRFUl9UT1BfUklHSFRfUkFESVVTID0gQ3NzUHJvcC5yZWcoQ3NzUHJvcC5DUC5ib3JkZXJfdG9wX3JpZ2h0X3JhZGl1cyk7XG5Dc3NQcm9wLk1JTl9XSURUSCA9IENzc1Byb3AucmVnKENzc1Byb3AuQ1AubWluX3dpZHRoKTtcbi8qKlxuICogQSBjbGFzcyB0byBzYW5pdGl6ZSBIVE1MIHN0cmluZ3MuXG4gKi9cbmNsYXNzIFNhbml0aXplciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICAgICAgICAvLyBIVE1MIHRhZ3MgdGhhdCBhcmUgYWxsb3dlZCB0byBiZSB1c2VkLiBUYWdzIHdlcmUgZXh0cmFjdGVkIGZyb20gR29vZ2xlIENhamFcbiAgICAgICAgICAgIGFsbG93ZWRUYWdzOiBbXG4gICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICdhYmJyJyxcbiAgICAgICAgICAgICAgICAnYWNyb255bScsXG4gICAgICAgICAgICAgICAgJ2FkZHJlc3MnLFxuICAgICAgICAgICAgICAgICdhcmVhJyxcbiAgICAgICAgICAgICAgICAnYXJ0aWNsZScsXG4gICAgICAgICAgICAgICAgJ2FzaWRlJyxcbiAgICAgICAgICAgICAgICAnYXVkaW8nLFxuICAgICAgICAgICAgICAgICdiJyxcbiAgICAgICAgICAgICAgICAnYmRpJyxcbiAgICAgICAgICAgICAgICAnYmRvJyxcbiAgICAgICAgICAgICAgICAnYmlnJyxcbiAgICAgICAgICAgICAgICAnYmxvY2txdW90ZScsXG4gICAgICAgICAgICAgICAgJ2JyJyxcbiAgICAgICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAnY2FudmFzJyxcbiAgICAgICAgICAgICAgICAnY2FwdGlvbicsXG4gICAgICAgICAgICAgICAgJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgJ2NpdGUnLFxuICAgICAgICAgICAgICAgICdjb2RlJyxcbiAgICAgICAgICAgICAgICAnY29sJyxcbiAgICAgICAgICAgICAgICAnY29sZ3JvdXAnLFxuICAgICAgICAgICAgICAgICdjb2xzcGFuJyxcbiAgICAgICAgICAgICAgICAnY29tbWFuZCcsXG4gICAgICAgICAgICAgICAgJ2RhdGEnLFxuICAgICAgICAgICAgICAgICdkYXRhbGlzdCcsXG4gICAgICAgICAgICAgICAgJ2RkJyxcbiAgICAgICAgICAgICAgICAnZGVsJyxcbiAgICAgICAgICAgICAgICAnZGV0YWlscycsXG4gICAgICAgICAgICAgICAgJ2RmbicsXG4gICAgICAgICAgICAgICAgJ2RpcicsXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgJ2RsJyxcbiAgICAgICAgICAgICAgICAnZHQnLFxuICAgICAgICAgICAgICAgICdlbScsXG4gICAgICAgICAgICAgICAgJ2ZpZWxkc2V0JyxcbiAgICAgICAgICAgICAgICAnZmlnY2FwdGlvbicsXG4gICAgICAgICAgICAgICAgJ2ZpZ3VyZScsXG4gICAgICAgICAgICAgICAgJ2ZvbnQnLFxuICAgICAgICAgICAgICAgICdmb290ZXInLFxuICAgICAgICAgICAgICAgICdmb3JtJyxcbiAgICAgICAgICAgICAgICAnaDEnLFxuICAgICAgICAgICAgICAgICdoMicsXG4gICAgICAgICAgICAgICAgJ2gzJyxcbiAgICAgICAgICAgICAgICAnaDQnLFxuICAgICAgICAgICAgICAgICdoNScsXG4gICAgICAgICAgICAgICAgJ2g2JyxcbiAgICAgICAgICAgICAgICAnaGVhZGVyJyxcbiAgICAgICAgICAgICAgICAnaGdyb3VwJyxcbiAgICAgICAgICAgICAgICAnaHInLFxuICAgICAgICAgICAgICAgICdpJyxcbiAgICAgICAgICAgICAgICAvLyAnaWZyYW1lJyBpcyBhbGxvd2VkIGJ5IEdvb2dsZSBDYWphLCBidXQgZGlzYWxsb3dlZCBieSBkZWZhdWx0IGJ5IHNhbml0aXplLWh0bWxcbiAgICAgICAgICAgICAgICAvLyAsICdpZnJhbWUnXG4gICAgICAgICAgICAgICAgJ2ltZycsXG4gICAgICAgICAgICAgICAgJ2lucHV0JyxcbiAgICAgICAgICAgICAgICAnaW5zJyxcbiAgICAgICAgICAgICAgICAna2JkJyxcbiAgICAgICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgICAgICdsZWdlbmQnLFxuICAgICAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAgICAgJ21hcCcsXG4gICAgICAgICAgICAgICAgJ21hcmsnLFxuICAgICAgICAgICAgICAgICdtZW51JyxcbiAgICAgICAgICAgICAgICAnbWV0ZXInLFxuICAgICAgICAgICAgICAgICduYXYnLFxuICAgICAgICAgICAgICAgICdub2JyJyxcbiAgICAgICAgICAgICAgICAnb2wnLFxuICAgICAgICAgICAgICAgICdvcHRncm91cCcsXG4gICAgICAgICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgJ291dHB1dCcsXG4gICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICdwcmUnLFxuICAgICAgICAgICAgICAgICdwcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgJ3EnLFxuICAgICAgICAgICAgICAgICdyb3dzcGFuJyxcbiAgICAgICAgICAgICAgICAncycsXG4gICAgICAgICAgICAgICAgJ3NhbXAnLFxuICAgICAgICAgICAgICAgICdzZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAnc21hbGwnLFxuICAgICAgICAgICAgICAgICdzb3VyY2UnLFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAnc3RyaWtlJyxcbiAgICAgICAgICAgICAgICAnc3Ryb25nJyxcbiAgICAgICAgICAgICAgICAnc3ViJyxcbiAgICAgICAgICAgICAgICAnc3VtbWFyeScsXG4gICAgICAgICAgICAgICAgJ3N1cCcsXG4gICAgICAgICAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgICAgICAgICAndGJvZHknLFxuICAgICAgICAgICAgICAgICd0ZCcsXG4gICAgICAgICAgICAgICAgJ3RleHRhcmVhJyxcbiAgICAgICAgICAgICAgICAndGZvb3QnLFxuICAgICAgICAgICAgICAgICd0aCcsXG4gICAgICAgICAgICAgICAgJ3RoZWFkJyxcbiAgICAgICAgICAgICAgICAndGltZScsXG4gICAgICAgICAgICAgICAgJ3RyJyxcbiAgICAgICAgICAgICAgICAndHJhY2snLFxuICAgICAgICAgICAgICAgICd0dCcsXG4gICAgICAgICAgICAgICAgJ3UnLFxuICAgICAgICAgICAgICAgICd1bCcsXG4gICAgICAgICAgICAgICAgJ3ZhcicsXG4gICAgICAgICAgICAgICAgJ3ZpZGVvJyxcbiAgICAgICAgICAgICAgICAnd2JyJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8vIEF0dHJpYnV0ZXMgdGhhdCBIVE1MIHRhZ3MgYXJlIGFsbG93ZWQgdG8gaGF2ZSwgZXh0cmFjdGVkIGZyb20gR29vZ2xlIENhamEuXG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2p1cHl0ZXJsYWIvanVweXRlcmxhYi9pc3N1ZXMvMTgxMiNpc3N1ZWNvbW1lbnQtMjg1ODQ4NDM1XG4gICAgICAgICAgICBhbGxvd2VkQXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICcqJzogW1xuICAgICAgICAgICAgICAgICAgICAnY2xhc3MnLFxuICAgICAgICAgICAgICAgICAgICAnZGlyJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RyYWdnYWJsZScsXG4gICAgICAgICAgICAgICAgICAgICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICAnaWQnLFxuICAgICAgICAgICAgICAgICAgICAnaW5lcnQnLFxuICAgICAgICAgICAgICAgICAgICAnaXRlbXByb3AnLFxuICAgICAgICAgICAgICAgICAgICAnaXRlbXJlZicsXG4gICAgICAgICAgICAgICAgICAgICdpdGVtc2NvcGUnLFxuICAgICAgICAgICAgICAgICAgICAnbGFuZycsXG4gICAgICAgICAgICAgICAgICAgICdzcGVsbGNoZWNrJyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0eWxlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zbGF0ZSdcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIC8vICdyZWwnIGFuZCAndGFyZ2V0JyB3ZXJlICpub3QqIGFsbG93ZWQgYnkgR29vZ2xlIENhamFcbiAgICAgICAgICAgICAgICBhOiBbXG4gICAgICAgICAgICAgICAgICAgICdhY2Nlc3NrZXknLFxuICAgICAgICAgICAgICAgICAgICAnY29vcmRzJyxcbiAgICAgICAgICAgICAgICAgICAgJ2hyZWYnLFxuICAgICAgICAgICAgICAgICAgICAnaHJlZmxhbmcnLFxuICAgICAgICAgICAgICAgICAgICAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICdyZWwnLFxuICAgICAgICAgICAgICAgICAgICAnc2hhcGUnLFxuICAgICAgICAgICAgICAgICAgICAndGFiaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAndGFyZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBhcmVhOiBbXG4gICAgICAgICAgICAgICAgICAgICdhY2Nlc3NrZXknLFxuICAgICAgICAgICAgICAgICAgICAnYWx0JyxcbiAgICAgICAgICAgICAgICAgICAgJ2Nvb3JkcycsXG4gICAgICAgICAgICAgICAgICAgICdocmVmJyxcbiAgICAgICAgICAgICAgICAgICAgJ25vaHJlZicsXG4gICAgICAgICAgICAgICAgICAgICdzaGFwZScsXG4gICAgICAgICAgICAgICAgICAgICd0YWJpbmRleCdcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIC8vICdhdXRvcGxheScgd2FzICpub3QqIGFsbG93ZWQgYnkgR29vZ2xlIENhamFcbiAgICAgICAgICAgICAgICBhdWRpbzogW1xuICAgICAgICAgICAgICAgICAgICAnYXV0b3BsYXknLFxuICAgICAgICAgICAgICAgICAgICAnY29udHJvbHMnLFxuICAgICAgICAgICAgICAgICAgICAnbG9vcCcsXG4gICAgICAgICAgICAgICAgICAgICdtZWRpYWdyb3VwJyxcbiAgICAgICAgICAgICAgICAgICAgJ211dGVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ3ByZWxvYWQnLFxuICAgICAgICAgICAgICAgICAgICAnc3JjJ1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgYmRvOiBbJ2RpciddLFxuICAgICAgICAgICAgICAgIGJsb2NrcXVvdGU6IFsnY2l0ZSddLFxuICAgICAgICAgICAgICAgIGJyOiBbJ2NsZWFyJ10sXG4gICAgICAgICAgICAgICAgYnV0dG9uOiBbJ2FjY2Vzc2tleScsICdkaXNhYmxlZCcsICduYW1lJywgJ3RhYmluZGV4JywgJ3R5cGUnLCAndmFsdWUnXSxcbiAgICAgICAgICAgICAgICBjYW52YXM6IFsnaGVpZ2h0JywgJ3dpZHRoJ10sXG4gICAgICAgICAgICAgICAgY2FwdGlvbjogWydhbGlnbiddLFxuICAgICAgICAgICAgICAgIGNvbDogWydhbGlnbicsICdjaGFyJywgJ2NoYXJvZmYnLCAnc3BhbicsICd2YWxpZ24nLCAnd2lkdGgnXSxcbiAgICAgICAgICAgICAgICBjb2xncm91cDogWydhbGlnbicsICdjaGFyJywgJ2NoYXJvZmYnLCAnc3BhbicsICd2YWxpZ24nLCAnd2lkdGgnXSxcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBbXG4gICAgICAgICAgICAgICAgICAgICdjaGVja2VkJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbW1hbmQnLFxuICAgICAgICAgICAgICAgICAgICAnZGlzYWJsZWQnLFxuICAgICAgICAgICAgICAgICAgICAnaWNvbicsXG4gICAgICAgICAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICdyYWRpb2dyb3VwJyxcbiAgICAgICAgICAgICAgICAgICAgJ3R5cGUnXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBkYXRhOiBbJ3ZhbHVlJ10sXG4gICAgICAgICAgICAgICAgZGVsOiBbJ2NpdGUnLCAnZGF0ZXRpbWUnXSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBbJ29wZW4nXSxcbiAgICAgICAgICAgICAgICBkaXI6IFsnY29tcGFjdCddLFxuICAgICAgICAgICAgICAgIGRpdjogWydhbGlnbiddLFxuICAgICAgICAgICAgICAgIGRsOiBbJ2NvbXBhY3QnXSxcbiAgICAgICAgICAgICAgICBmaWVsZHNldDogWydkaXNhYmxlZCddLFxuICAgICAgICAgICAgICAgIGZvbnQ6IFsnY29sb3InLCAnZmFjZScsICdzaXplJ10sXG4gICAgICAgICAgICAgICAgZm9ybTogW1xuICAgICAgICAgICAgICAgICAgICAnYWNjZXB0JyxcbiAgICAgICAgICAgICAgICAgICAgJ2FjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICdhdXRvY29tcGxldGUnLFxuICAgICAgICAgICAgICAgICAgICAnZW5jdHlwZScsXG4gICAgICAgICAgICAgICAgICAgICdtZXRob2QnLFxuICAgICAgICAgICAgICAgICAgICAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICdub3ZhbGlkYXRlJ1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgaDE6IFsnYWxpZ24nXSxcbiAgICAgICAgICAgICAgICBoMjogWydhbGlnbiddLFxuICAgICAgICAgICAgICAgIGgzOiBbJ2FsaWduJ10sXG4gICAgICAgICAgICAgICAgaDQ6IFsnYWxpZ24nXSxcbiAgICAgICAgICAgICAgICBoNTogWydhbGlnbiddLFxuICAgICAgICAgICAgICAgIGg2OiBbJ2FsaWduJ10sXG4gICAgICAgICAgICAgICAgaHI6IFsnYWxpZ24nLCAnbm9zaGFkZScsICdzaXplJywgJ3dpZHRoJ10sXG4gICAgICAgICAgICAgICAgaWZyYW1lOiBbXG4gICAgICAgICAgICAgICAgICAgICdhbGlnbicsXG4gICAgICAgICAgICAgICAgICAgICdmcmFtZWJvcmRlcicsXG4gICAgICAgICAgICAgICAgICAgICdoZWlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luaGVpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgJ21hcmdpbndpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJ1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgaW1nOiBbXG4gICAgICAgICAgICAgICAgICAgICdhbGlnbicsXG4gICAgICAgICAgICAgICAgICAgICdhbHQnLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICdoc3BhY2UnLFxuICAgICAgICAgICAgICAgICAgICAnaXNtYXAnLFxuICAgICAgICAgICAgICAgICAgICAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICdzcmMnLFxuICAgICAgICAgICAgICAgICAgICAndXNlbWFwJyxcbiAgICAgICAgICAgICAgICAgICAgJ3ZzcGFjZScsXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCdcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGlucHV0OiBbXG4gICAgICAgICAgICAgICAgICAgICdhY2NlcHQnLFxuICAgICAgICAgICAgICAgICAgICAnYWNjZXNza2V5JyxcbiAgICAgICAgICAgICAgICAgICAgJ2FsaWduJyxcbiAgICAgICAgICAgICAgICAgICAgJ2FsdCcsXG4gICAgICAgICAgICAgICAgICAgICdhdXRvY29tcGxldGUnLFxuICAgICAgICAgICAgICAgICAgICAnY2hlY2tlZCcsXG4gICAgICAgICAgICAgICAgICAgICdkaXNhYmxlZCcsXG4gICAgICAgICAgICAgICAgICAgICdpbnB1dG1vZGUnLFxuICAgICAgICAgICAgICAgICAgICAnaXNtYXAnLFxuICAgICAgICAgICAgICAgICAgICAnbGlzdCcsXG4gICAgICAgICAgICAgICAgICAgICdtYXgnLFxuICAgICAgICAgICAgICAgICAgICAnbWF4bGVuZ3RoJyxcbiAgICAgICAgICAgICAgICAgICAgJ21pbicsXG4gICAgICAgICAgICAgICAgICAgICdtdWx0aXBsZScsXG4gICAgICAgICAgICAgICAgICAgICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgJ3BsYWNlaG9sZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ3JlYWRvbmx5JyxcbiAgICAgICAgICAgICAgICAgICAgJ3JlcXVpcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NpemUnLFxuICAgICAgICAgICAgICAgICAgICAnc3JjJyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ZXAnLFxuICAgICAgICAgICAgICAgICAgICAndGFiaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAndHlwZScsXG4gICAgICAgICAgICAgICAgICAgICd1c2VtYXAnLFxuICAgICAgICAgICAgICAgICAgICAndmFsdWUnXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBpbnM6IFsnY2l0ZScsICdkYXRldGltZSddLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBbJ2FjY2Vzc2tleScsICdmb3InXSxcbiAgICAgICAgICAgICAgICBsZWdlbmQ6IFsnYWNjZXNza2V5JywgJ2FsaWduJ10sXG4gICAgICAgICAgICAgICAgbGk6IFsndHlwZScsICd2YWx1ZSddLFxuICAgICAgICAgICAgICAgIG1hcDogWyduYW1lJ10sXG4gICAgICAgICAgICAgICAgbWVudTogWydjb21wYWN0JywgJ2xhYmVsJywgJ3R5cGUnXSxcbiAgICAgICAgICAgICAgICBtZXRlcjogWydoaWdoJywgJ2xvdycsICdtYXgnLCAnbWluJywgJ3ZhbHVlJ10sXG4gICAgICAgICAgICAgICAgb2w6IFsnY29tcGFjdCcsICdyZXZlcnNlZCcsICdzdGFydCcsICd0eXBlJ10sXG4gICAgICAgICAgICAgICAgb3B0Z3JvdXA6IFsnZGlzYWJsZWQnLCAnbGFiZWwnXSxcbiAgICAgICAgICAgICAgICBvcHRpb246IFsnZGlzYWJsZWQnLCAnbGFiZWwnLCAnc2VsZWN0ZWQnLCAndmFsdWUnXSxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IFsnZm9yJywgJ25hbWUnXSxcbiAgICAgICAgICAgICAgICBwOiBbJ2FsaWduJ10sXG4gICAgICAgICAgICAgICAgcHJlOiBbJ3dpZHRoJ10sXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IFsnbWF4JywgJ21pbicsICd2YWx1ZSddLFxuICAgICAgICAgICAgICAgIHE6IFsnY2l0ZSddLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogW1xuICAgICAgICAgICAgICAgICAgICAnYXV0b2NvbXBsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ2Rpc2FibGVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ211bHRpcGxlJyxcbiAgICAgICAgICAgICAgICAgICAgJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICAncmVxdWlyZWQnLFxuICAgICAgICAgICAgICAgICAgICAnc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICd0YWJpbmRleCdcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogWyd0eXBlJ10sXG4gICAgICAgICAgICAgICAgdGFibGU6IFtcbiAgICAgICAgICAgICAgICAgICAgJ2FsaWduJyxcbiAgICAgICAgICAgICAgICAgICAgJ2JnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NlbGxwYWRkaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NlbGxzcGFjaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgJ2ZyYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgJ3J1bGVzJyxcbiAgICAgICAgICAgICAgICAgICAgJ3N1bW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAnd2lkdGgnXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB0Ym9keTogWydhbGlnbicsICdjaGFyJywgJ2NoYXJvZmYnLCAndmFsaWduJ10sXG4gICAgICAgICAgICAgICAgdGQ6IFtcbiAgICAgICAgICAgICAgICAgICAgJ2FiYnInLFxuICAgICAgICAgICAgICAgICAgICAnYWxpZ24nLFxuICAgICAgICAgICAgICAgICAgICAnYXhpcycsXG4gICAgICAgICAgICAgICAgICAgICdiZ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NoYXInLFxuICAgICAgICAgICAgICAgICAgICAnY2hhcm9mZicsXG4gICAgICAgICAgICAgICAgICAgICdjb2xzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgJ2hlYWRlcnMnLFxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgJ25vd3JhcCcsXG4gICAgICAgICAgICAgICAgICAgICdyb3dzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgJ3Njb3BlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbGlnbicsXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCdcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHRleHRhcmVhOiBbXG4gICAgICAgICAgICAgICAgICAgICdhY2Nlc3NrZXknLFxuICAgICAgICAgICAgICAgICAgICAnYXV0b2NvbXBsZXRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbHMnLFxuICAgICAgICAgICAgICAgICAgICAnZGlzYWJsZWQnLFxuICAgICAgICAgICAgICAgICAgICAnaW5wdXRtb2RlJyxcbiAgICAgICAgICAgICAgICAgICAgJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICAncGxhY2Vob2xkZXInLFxuICAgICAgICAgICAgICAgICAgICAncmVhZG9ubHknLFxuICAgICAgICAgICAgICAgICAgICAncmVxdWlyZWQnLFxuICAgICAgICAgICAgICAgICAgICAncm93cycsXG4gICAgICAgICAgICAgICAgICAgICd0YWJpbmRleCcsXG4gICAgICAgICAgICAgICAgICAgICd3cmFwJ1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgdGZvb3Q6IFsnYWxpZ24nLCAnY2hhcicsICdjaGFyb2ZmJywgJ3ZhbGlnbiddLFxuICAgICAgICAgICAgICAgIHRoOiBbXG4gICAgICAgICAgICAgICAgICAgICdhYmJyJyxcbiAgICAgICAgICAgICAgICAgICAgJ2FsaWduJyxcbiAgICAgICAgICAgICAgICAgICAgJ2F4aXMnLFxuICAgICAgICAgICAgICAgICAgICAnYmdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgICdjaGFyJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NoYXJvZmYnLFxuICAgICAgICAgICAgICAgICAgICAnY29sc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICdoZWFkZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICdub3dyYXAnLFxuICAgICAgICAgICAgICAgICAgICAncm93c3BhbicsXG4gICAgICAgICAgICAgICAgICAgICdzY29wZScsXG4gICAgICAgICAgICAgICAgICAgICd2YWxpZ24nLFxuICAgICAgICAgICAgICAgICAgICAnd2lkdGgnXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB0aGVhZDogWydhbGlnbicsICdjaGFyJywgJ2NoYXJvZmYnLCAndmFsaWduJ10sXG4gICAgICAgICAgICAgICAgdHI6IFsnYWxpZ24nLCAnYmdjb2xvcicsICdjaGFyJywgJ2NoYXJvZmYnLCAndmFsaWduJ10sXG4gICAgICAgICAgICAgICAgdHJhY2s6IFsnZGVmYXVsdCcsICdraW5kJywgJ2xhYmVsJywgJ3NyY2xhbmcnXSxcbiAgICAgICAgICAgICAgICB1bDogWydjb21wYWN0JywgJ3R5cGUnXSxcbiAgICAgICAgICAgICAgICB2aWRlbzogW1xuICAgICAgICAgICAgICAgICAgICAnYXV0b3BsYXknLFxuICAgICAgICAgICAgICAgICAgICAnY29udHJvbHMnLFxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgJ2xvb3AnLFxuICAgICAgICAgICAgICAgICAgICAnbWVkaWFncm91cCcsXG4gICAgICAgICAgICAgICAgICAgICdtdXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICdwb3N0ZXInLFxuICAgICAgICAgICAgICAgICAgICAncHJlbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgICdzcmMnLFxuICAgICAgICAgICAgICAgICAgICAnd2lkdGgnXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIElubGluZSBDU1Mgc3R5bGVzIHRoYXQgSFRNTCB0YWdzIG1heSBoYXZlIChhbmQgdGhlaXIgYWxsb3dlZCB2YWx1ZXMpXG4gICAgICAgICAgICBhbGxvd2VkU3R5bGVzOiB7XG4gICAgICAgICAgICAgICAgLy8gVG8gc2ltcGxpZnkgdGhlIGRhdGEsIGFsbCBzdHlsZXMgYXJlIGFsbG93ZWQgb24gYWxsIHRhZ3MgdGhhdCBhbGxvdyB0aGUgc3R5bGUgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgJyonOiB7XG4gICAgICAgICAgICAgICAgICAgICdiYWNrZmFjZS12aXNpYmlsaXR5JzogW0Nzc1Byb3AuQkFDS0ZBQ0VfVklTSUJJTElUWV0sXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFtDc3NQcm9wLkJBQ0tHUk9VTkRdLFxuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1hdHRhY2htZW50JzogW0Nzc1Byb3AuQkFDS0dST1VORF9BVFRBQ0hNRU5UXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY2xpcCc6IFtDc3NQcm9wLkJBQ0tHUk9VTkRfQ0xJUF0sXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogW0Nzc1Byb3AuQkFDS0dST1VORF9DT0xPUl0sXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogW0Nzc1Byb3AuQkFDS0dST1VORF9JTUFHRV0sXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLW9yaWdpbic6IFtDc3NQcm9wLkJBQ0tHUk9VTkRfT1JJR0lOXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb24nOiBbQ3NzUHJvcC5CQUNLR1JPVU5EX1BPU0lUSU9OXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtcmVwZWF0JzogW0Nzc1Byb3AuQkFDS0dST1VORF9SRVBFQVRdLFxuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1zaXplJzogW0Nzc1Byb3AuQkFDS0dST1VORF9TSVpFXSxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBbQ3NzUHJvcC5CT1JERVJdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWJvdHRvbSc6IFtDc3NQcm9wLkJPUkRFUl9CT1RUT01dLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWJvdHRvbS1jb2xvcic6IFtDc3NQcm9wLkJPUkRFUl9CT1RUT01fQ09MT1JdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyc6IFtDc3NQcm9wLkJPUkRFUl9CT1RUT01fTEVGVF9SQURJVVNdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXMnOiBbQ3NzUHJvcC5CT1JERVJfQk9UVE9NX1JJR0hUX1JBRElVU10sXG4gICAgICAgICAgICAgICAgICAgICdib3JkZXItYm90dG9tLXN0eWxlJzogW0Nzc1Byb3AuQk9SREVSX0JPVFRPTV9TVFlMRV0sXG4gICAgICAgICAgICAgICAgICAgICdib3JkZXItYm90dG9tLXdpZHRoJzogW0Nzc1Byb3AuQk9SREVSX0JPVFRPTV9XSURUSF0sXG4gICAgICAgICAgICAgICAgICAgICdib3JkZXItY29sbGFwc2UnOiBbQ3NzUHJvcC5CT1JERVJfQ09MTEFQU0VdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWNvbG9yJzogW0Nzc1Byb3AuQk9SREVSX0NPTE9SXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci1sZWZ0JzogW0Nzc1Byb3AuQk9SREVSX0xFRlRdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLWxlZnQtY29sb3InOiBbQ3NzUHJvcC5CT1JERVJfTEVGVF9DT0xPUl0sXG4gICAgICAgICAgICAgICAgICAgICdib3JkZXItbGVmdC1zdHlsZSc6IFtDc3NQcm9wLkJPUkRFUl9MRUZUX1NUWUxFXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci1sZWZ0LXdpZHRoJzogW0Nzc1Byb3AuQk9SREVSX0xFRlRfV0lEVEhdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXJhZGl1cyc6IFtDc3NQcm9wLkJPUkRFUl9SQURJVVNdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXJpZ2h0JzogW0Nzc1Byb3AuQk9SREVSX1JJR0hUXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci1yaWdodC1jb2xvcic6IFtDc3NQcm9wLkJPUkRFUl9SSUdIVF9DT0xPUl0sXG4gICAgICAgICAgICAgICAgICAgICdib3JkZXItcmlnaHQtc3R5bGUnOiBbQ3NzUHJvcC5CT1JERVJfUklHSFRfU1RZTEVdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXJpZ2h0LXdpZHRoJzogW0Nzc1Byb3AuQk9SREVSX1JJR0hUX1dJRFRIXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci1zcGFjaW5nJzogW0Nzc1Byb3AuQk9SREVSX1NQQUNJTkddLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXN0eWxlJzogW0Nzc1Byb3AuQk9SREVSX1NUWUxFXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3AnOiBbQ3NzUHJvcC5CT1JERVJfVE9QXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3AtY29sb3InOiBbQ3NzUHJvcC5CT1JERVJfVE9QX0NPTE9SXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3AtbGVmdC1yYWRpdXMnOiBbQ3NzUHJvcC5CT1JERVJfVE9QX0xFRlRfUkFESVVTXSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3AtcmlnaHQtcmFkaXVzJzogW0Nzc1Byb3AuQk9SREVSX1RPUF9SSUdIVF9SQURJVVNdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXRvcC1zdHlsZSc6IFtDc3NQcm9wLkJPUkRFUl9UT1BfU1RZTEVdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXRvcC13aWR0aCc6IFtDc3NQcm9wLkJPUkRFUl9UT1BfV0lEVEhdLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyLXdpZHRoJzogW0Nzc1Byb3AuQk9SREVSX1dJRFRIXSxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBbQ3NzUHJvcC5CT1RUT01dLFxuICAgICAgICAgICAgICAgICAgICBib3g6IFtDc3NQcm9wLkJPWF0sXG4gICAgICAgICAgICAgICAgICAgICdib3gtc2hhZG93JzogW0Nzc1Byb3AuQk9YX1NIQURPV10sXG4gICAgICAgICAgICAgICAgICAgICdib3gtc2l6aW5nJzogW0Nzc1Byb3AuQk9YX1NJWklOR10sXG4gICAgICAgICAgICAgICAgICAgICdjYXB0aW9uLXNpZGUnOiBbQ3NzUHJvcC5DQVBUSU9OX1NJREVdLFxuICAgICAgICAgICAgICAgICAgICBjbGVhcjogW0Nzc1Byb3AuQ0xFQVJdLFxuICAgICAgICAgICAgICAgICAgICBjbGlwOiBbQ3NzUHJvcC5DTElQXSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFtDc3NQcm9wLkNPTE9SXSxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBbQ3NzUHJvcC5DVVJTT1JdLFxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IFtDc3NQcm9wLkRJUkVDVElPTl0sXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFtDc3NQcm9wLkRJU1BMQVldLFxuICAgICAgICAgICAgICAgICAgICAnZGlzcGxheS1pbnNpZGUnOiBbQ3NzUHJvcC5ESVNQTEFZX0lOU0lERV0sXG4gICAgICAgICAgICAgICAgICAgICdkaXNwbGF5LW91dHNpZGUnOiBbQ3NzUHJvcC5ESVNQTEFZX09VVFNJREVdLFxuICAgICAgICAgICAgICAgICAgICBlbGV2YXRpb246IFtDc3NQcm9wLkVMRVZBVElPTl0sXG4gICAgICAgICAgICAgICAgICAgICdlbXB0eS1jZWxscyc6IFtDc3NQcm9wLkVNUFRZX0NFTExTXSxcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IFtDc3NQcm9wLkZMT0FUXSxcbiAgICAgICAgICAgICAgICAgICAgZm9udDogW0Nzc1Byb3AuRk9OVF0sXG4gICAgICAgICAgICAgICAgICAgICdmb250LWZhbWlseSc6IFtDc3NQcm9wLkZPTlRfRkFNSUxZXSxcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IFtDc3NQcm9wLkZPTlRfU0laRV0sXG4gICAgICAgICAgICAgICAgICAgICdmb250LXN0cmV0Y2gnOiBbQ3NzUHJvcC5GT05UX1NUUkVUQ0hdLFxuICAgICAgICAgICAgICAgICAgICAnZm9udC1zdHlsZSc6IFtDc3NQcm9wLkZPTlRfU1RZTEVdLFxuICAgICAgICAgICAgICAgICAgICAnZm9udC12YXJpYW50JzogW0Nzc1Byb3AuRk9OVF9WQVJJQU5UXSxcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogW0Nzc1Byb3AuRk9OVF9XRUlHSFRdLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFtDc3NQcm9wLkhFSUdIVF0sXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFtDc3NQcm9wLkxFRlRdLFxuICAgICAgICAgICAgICAgICAgICAnbGV0dGVyLXNwYWNpbmcnOiBbQ3NzUHJvcC5MRVRURVJfU1BBQ0lOR10sXG4gICAgICAgICAgICAgICAgICAgICdsaW5lLWhlaWdodCc6IFtDc3NQcm9wLkxJTkVfSEVJR0hUXSxcbiAgICAgICAgICAgICAgICAgICAgJ2xpc3Qtc3R5bGUnOiBbQ3NzUHJvcC5MSVNUX1NUWUxFXSxcbiAgICAgICAgICAgICAgICAgICAgJ2xpc3Qtc3R5bGUtaW1hZ2UnOiBbQ3NzUHJvcC5MSVNUX1NUWUxFX0lNQUdFXSxcbiAgICAgICAgICAgICAgICAgICAgJ2xpc3Qtc3R5bGUtcG9zaXRpb24nOiBbQ3NzUHJvcC5MSVNUX1NUWUxFX1BPU0lUSU9OXSxcbiAgICAgICAgICAgICAgICAgICAgJ2xpc3Qtc3R5bGUtdHlwZSc6IFtDc3NQcm9wLkxJU1RfU1RZTEVfVFlQRV0sXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogW0Nzc1Byb3AuTUFSR0lOXSxcbiAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiBbQ3NzUHJvcC5NQVJHSU5fQk9UVE9NXSxcbiAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi1sZWZ0JzogW0Nzc1Byb3AuTUFSR0lOX0xFRlRdLFxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLXJpZ2h0JzogW0Nzc1Byb3AuTUFSR0lOX1JJR0hUXSxcbiAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi10b3AnOiBbQ3NzUHJvcC5NQVJHSU5fVE9QXSxcbiAgICAgICAgICAgICAgICAgICAgJ21heC1oZWlnaHQnOiBbQ3NzUHJvcC5NQVhfSEVJR0hUXSxcbiAgICAgICAgICAgICAgICAgICAgJ21heC13aWR0aCc6IFtDc3NQcm9wLk1BWF9XSURUSF0sXG4gICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogW0Nzc1Byb3AuTUlOX0hFSUdIVF0sXG4gICAgICAgICAgICAgICAgICAgICdtaW4td2lkdGgnOiBbQ3NzUHJvcC5NSU5fV0lEVEhdLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBbQ3NzUHJvcC5PUEFDSVRZXSxcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogW0Nzc1Byb3AuT1VUTElORV0sXG4gICAgICAgICAgICAgICAgICAgICdvdXRsaW5lLWNvbG9yJzogW0Nzc1Byb3AuT1VUTElORV9DT0xPUl0sXG4gICAgICAgICAgICAgICAgICAgICdvdXRsaW5lLXN0eWxlJzogW0Nzc1Byb3AuT1VUTElORV9TVFlMRV0sXG4gICAgICAgICAgICAgICAgICAgICdvdXRsaW5lLXdpZHRoJzogW0Nzc1Byb3AuT1VUTElORV9XSURUSF0sXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBbQ3NzUHJvcC5PVkVSRkxPV10sXG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy13cmFwJzogW0Nzc1Byb3AuT1ZFUkZMT1dfV1JBUF0sXG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy14JzogW0Nzc1Byb3AuT1ZFUkZMT1dfWF0sXG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogW0Nzc1Byb3AuT1ZFUkZMT1dfWV0sXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFtDc3NQcm9wLlBBRERJTkddLFxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1ib3R0b20nOiBbQ3NzUHJvcC5QQURESU5HX0JPVFRPTV0sXG4gICAgICAgICAgICAgICAgICAgICdwYWRkaW5nLWxlZnQnOiBbQ3NzUHJvcC5QQURESU5HX0xFRlRdLFxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1yaWdodCc6IFtDc3NQcm9wLlBBRERJTkdfUklHSFRdLFxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy10b3AnOiBbQ3NzUHJvcC5QQURESU5HX1RPUF0sXG4gICAgICAgICAgICAgICAgICAgICdwYWdlLWJyZWFrLWFmdGVyJzogW0Nzc1Byb3AuUEFHRV9CUkVBS19BRlRFUl0sXG4gICAgICAgICAgICAgICAgICAgICdwYWdlLWJyZWFrLWJlZm9yZSc6IFtDc3NQcm9wLlBBR0VfQlJFQUtfQkVGT1JFXSxcbiAgICAgICAgICAgICAgICAgICAgJ3BhZ2UtYnJlYWstaW5zaWRlJzogW0Nzc1Byb3AuUEFHRV9CUkVBS19JTlNJREVdLFxuICAgICAgICAgICAgICAgICAgICAncGF1c2UtYWZ0ZXInOiBbQ3NzUHJvcC5QQVVTRV9BRlRFUl0sXG4gICAgICAgICAgICAgICAgICAgIHBlcnNwZWN0aXZlOiBbQ3NzUHJvcC5QRVJTUEVDVElWRV0sXG4gICAgICAgICAgICAgICAgICAgIHBpdGNoOiBbQ3NzUHJvcC5QSVRDSF0sXG4gICAgICAgICAgICAgICAgICAgICdwaXRjaC1yYW5nZSc6IFtDc3NQcm9wLlBJVENIX1JBTkdFXSxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFtDc3NQcm9wLlBPU0lUSU9OXSxcbiAgICAgICAgICAgICAgICAgICAgcXVvdGVzOiBbQ3NzUHJvcC5RVU9URVNdLFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IFtDc3NQcm9wLlJFU0laRV0sXG4gICAgICAgICAgICAgICAgICAgIHJpY2huZXNzOiBbQ3NzUHJvcC5SSUNITkVTU10sXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBbQ3NzUHJvcC5SSUdIVF0sXG4gICAgICAgICAgICAgICAgICAgIHNwZWFrOiBbQ3NzUHJvcC5TUEVBS10sXG4gICAgICAgICAgICAgICAgICAgICdzcGVhay1oZWFkZXInOiBbQ3NzUHJvcC5TUEVBS19IRUFERVJdLFxuICAgICAgICAgICAgICAgICAgICAnc3BlYWstbnVtZXJhbCc6IFtDc3NQcm9wLlNQRUFLX05VTUVSQUxdLFxuICAgICAgICAgICAgICAgICAgICAnc3BlYWstcHVuY3R1YXRpb24nOiBbQ3NzUHJvcC5TUEVBS19QVU5DVFVBVElPTl0sXG4gICAgICAgICAgICAgICAgICAgICdzcGVlY2gtcmF0ZSc6IFtDc3NQcm9wLlNQRUVDSF9SQVRFXSxcbiAgICAgICAgICAgICAgICAgICAgc3RyZXNzOiBbQ3NzUHJvcC5TVFJFU1NdLFxuICAgICAgICAgICAgICAgICAgICAndGFibGUtbGF5b3V0JzogW0Nzc1Byb3AuVEFCTEVfTEFZT1VUXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtYWxpZ24nOiBbQ3NzUHJvcC5URVhUX0FMSUdOXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtZGVjb3JhdGlvbic6IFtDc3NQcm9wLlRFWFRfREVDT1JBVElPTl0sXG4gICAgICAgICAgICAgICAgICAgICd0ZXh0LWluZGVudCc6IFtDc3NQcm9wLlRFWFRfSU5ERU5UXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtb3ZlcmZsb3cnOiBbQ3NzUHJvcC5URVhUX09WRVJGTE9XXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtc2hhZG93JzogW0Nzc1Byb3AuVEVYVF9TSEFET1ddLFxuICAgICAgICAgICAgICAgICAgICAndGV4dC10cmFuc2Zvcm0nOiBbQ3NzUHJvcC5URVhUX1RSQU5TRk9STV0sXG4gICAgICAgICAgICAgICAgICAgICd0ZXh0LXdyYXAnOiBbQ3NzUHJvcC5URVhUX1dSQVBdLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IFtDc3NQcm9wLlRPUF0sXG4gICAgICAgICAgICAgICAgICAgICd1bmljb2RlLWJpZGknOiBbQ3NzUHJvcC5VTklDT0RFX0JJREldLFxuICAgICAgICAgICAgICAgICAgICAndmVydGljYWwtYWxpZ24nOiBbQ3NzUHJvcC5WRVJUSUNBTF9BTElHTl0sXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFtDc3NQcm9wLlZJU0lCSUxJVFldLFxuICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IFtDc3NQcm9wLlZPTFVNRV0sXG4gICAgICAgICAgICAgICAgICAgICd3aGl0ZS1zcGFjZSc6IFtDc3NQcm9wLldISVRFX1NQQUNFXSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFtDc3NQcm9wLldJRFRIXSxcbiAgICAgICAgICAgICAgICAgICAgJ3dvcmQtYnJlYWsnOiBbQ3NzUHJvcC5XT1JEX0JSRUFLXSxcbiAgICAgICAgICAgICAgICAgICAgJ3dvcmQtc3BhY2luZyc6IFtDc3NQcm9wLldPUkRfU1BBQ0lOR10sXG4gICAgICAgICAgICAgICAgICAgICd3b3JkLXdyYXAnOiBbQ3NzUHJvcC5XT1JEX1dSQVBdLFxuICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6IFtDc3NQcm9wLlpfSU5ERVhdLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBbQ3NzUHJvcC5aT09NXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFuc2Zvcm1UYWdzOiB7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBcInJlbFwiIGF0dHJpYnV0ZSBmb3IgPGE+IHRhZ3MgdG8gXCJub2ZvbGxvd1wiLlxuICAgICAgICAgICAgICAgIGE6IHNhbml0aXplLnNpbXBsZVRyYW5zZm9ybSgnYScsIHsgcmVsOiAnbm9mb2xsb3cnIH0pLFxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZSBmb3IgPGlucHV0PiB0YWdzLlxuICAgICAgICAgICAgICAgIGlucHV0OiBzYW5pdGl6ZS5zaW1wbGVUcmFuc2Zvcm0oJ2lucHV0JywgeyBkaXNhYmxlZDogJ2Rpc2FibGVkJyB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbG93ZWRTY2hlbWVzQnlUYWc6IHtcbiAgICAgICAgICAgICAgICAvLyBBbGxvdyAnYXR0YWNobWVudDonIGltZyBzcmMgKHVzZWQgZm9yIG1hcmtkb3duIGNlbGwgYXR0YWNobWVudHMpLlxuICAgICAgICAgICAgICAgIGltZzogc2FuaXRpemUuZGVmYXVsdHMuYWxsb3dlZFNjaGVtZXMuY29uY2F0KFsnYXR0YWNobWVudCddKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIE92ZXJyaWRlIG9mIHRoZSBkZWZhdWx0IG9wdGlvbiwgc28gd2UgY2FuIHNraXAgJ3NyYycgYXR0cmlidXRlIHZhbGlkYXRpb24uXG4gICAgICAgICAgICAvLyAnc3JjJyBBdHRyaWJ1dGVzIGFyZSB2YWxpZGF0ZWQgdG8gYmUgVVJJcywgd2hpY2ggZG9lcyBub3QgYWxsb3cgZm9yIGVtYmVkZGVkIChpbWFnZSkgZGF0YS5cbiAgICAgICAgICAgIC8vIFNpbmNlIGVtYmVkZGVkIGRhdGEgaXMgbm8gbG9uZ2VyIGRlZW1lZCB0byBiZSBhIHRocmVhdCwgdmFsaWRhdGlvbiBjYW4gYmUgc2tpcHBlZC5cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanVweXRlcmxhYi9qdXB5dGVybGFiL2lzc3Vlcy81MTgzXG4gICAgICAgICAgICBhbGxvd2VkU2NoZW1lc0FwcGxpZWRUb0F0dHJpYnV0ZXM6IFsnaHJlZicsICdjaXRlJ11cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FuaXRpemUgYW4gSFRNTCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGlydHkgLSBUaGUgZGlydHkgdGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbmFsIHNhbml0aXphdGlvbiBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHNhbml0aXplZCBzdHJpbmcuXG4gICAgICovXG4gICAgc2FuaXRpemUoZGlydHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplKGRpcnR5LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX29wdGlvbnMpLCAob3B0aW9ucyB8fCB7fSkpKTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBkZWZhdWx0IGluc3RhbmNlIG9mIGFuIGBJU2FuaXRpemVyYCBtZWFudCBmb3IgdXNlIGJ5IHVzZXIgY29kZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTYW5pdGl6ZXIgPSBuZXcgU2FuaXRpemVyKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYW5pdGl6ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhbGdvcml0aG1fMSA9IHJlcXVpcmUoXCJAbHVtaW5vL2FsZ29yaXRobVwiKTtcbmNvbnN0IHBvbGxpbmdfMSA9IHJlcXVpcmUoXCJAbHVtaW5vL3BvbGxpbmdcIik7XG5jb25zdCBzaWduYWxpbmdfMSA9IHJlcXVpcmUoXCJAbHVtaW5vL3NpZ25hbGluZ1wiKTtcbmNvbnN0IF9fMSA9IHJlcXVpcmUoXCIuLlwiKTtcbmNvbnN0IGJhc2VtYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi4vYmFzZW1hbmFnZXJcIik7XG5jb25zdCByZXN0YXBpXzEgPSByZXF1aXJlKFwiLi9yZXN0YXBpXCIpO1xuY29uc3QgZGVmYXVsdF8xID0gcmVxdWlyZShcIi4vZGVmYXVsdFwiKTtcbi8qKlxuICogQSB0ZXJtaW5hbCBzZXNzaW9uIG1hbmFnZXIuXG4gKi9cbmNsYXNzIFRlcm1pbmFsTWFuYWdlciBleHRlbmRzIGJhc2VtYW5hZ2VyXzEuQmFzZU1hbmFnZXIge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyB0ZXJtaW5hbCBtYW5hZ2VyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9pc1JlYWR5ID0gZmFsc2U7XG4gICAgICAgIC8vIEFzIGFuIG9wdGltaXphdGlvbiwgd2UgdW53cmFwIHRoZSBtb2RlbHMgdG8ganVzdCBzdG9yZSB0aGUgbmFtZXMuXG4gICAgICAgIHRoaXMuX25hbWVzID0gW107XG4gICAgICAgIHRoaXMuX3Rlcm1pbmFsQ29ubmVjdGlvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX3J1bm5pbmdDaGFuZ2VkID0gbmV3IHNpZ25hbGluZ18xLlNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbkZhaWx1cmUgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICAvLyBDaGVjayBpZiB0ZXJtaW5hbHMgYXJlIGF2YWlsYWJsZVxuICAgICAgICBpZiAoIXRoaXMuaXNBdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSBQcm9taXNlLnJlamVjdCgnVGVybWluYWxzIHVuYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB0aGlzLl9yZWFkeS5jYXRjaChfID0+IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnQgcG9sbGluZyB3aXRoIGV4cG9uZW50aWFsIGJhY2tvZmYuXG4gICAgICAgIHRoaXMuX3BvbGxNb2RlbHMgPSBuZXcgcG9sbGluZ18xLlBvbGwoe1xuICAgICAgICAgICAgYXV0bzogZmFsc2UsXG4gICAgICAgICAgICBmYWN0b3J5OiAoKSA9PiB0aGlzLnJlcXVlc3RSdW5uaW5nKCksXG4gICAgICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICAgICAgICBpbnRlcnZhbDogMTAgKiAxMDAwLFxuICAgICAgICAgICAgICAgIGJhY2tvZmY6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4OiAzMDAgKiAxMDAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmFtZTogYEBqdXB5dGVybGFiL3NlcnZpY2VzOlRlcm1pbmFsTWFuYWdlciNtb2RlbHNgLFxuICAgICAgICAgICAgc3RhbmRieTogKF9hID0gb3B0aW9ucy5zdGFuZGJ5LCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ3doZW4taGlkZGVuJykpXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJbml0aWFsaXplIGludGVybmFsIGRhdGEuXG4gICAgICAgIHRoaXMuX3JlYWR5ID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BvbGxNb2RlbHMuc3RhcnQoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BvbGxNb2RlbHMudGljaztcbiAgICAgICAgICAgIHRoaXMuX2lzUmVhZHkgPSB0cnVlO1xuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdGhlIG1hbmFnZXIgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZ2V0IGlzUmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1JlYWR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aGVuIHRoZSBtYW5hZ2VyIGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGdldCByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gdGhlIHJ1bm5pbmcgdGVybWluYWxzIGNoYW5nZS5cbiAgICAgKi9cbiAgICBnZXQgcnVubmluZ0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydW5uaW5nQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZXJlIGlzIGEgY29ubmVjdGlvbiBmYWlsdXJlLlxuICAgICAqL1xuICAgIGdldCBjb25uZWN0aW9uRmFpbHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25GYWlsdXJlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgdXNlZCBieSB0aGUgbWFuYWdlci5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbmFtZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fdGVybWluYWxDb25uZWN0aW9ucy5mb3JFYWNoKHggPT4geC5kaXNwb3NlKCkpO1xuICAgICAgICB0aGlzLl9wb2xsTW9kZWxzLmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0ZXJtaW5hbCBzZXJ2aWNlIGlzIGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICBpc0F2YWlsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3RhcGlfMS5pc0F2YWlsYWJsZSgpO1xuICAgIH1cbiAgICAvKlxuICAgICAqIENvbm5lY3QgdG8gYSBydW5uaW5nIHRlcm1pbmFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdGFyZ2V0IHRlcm1pbmFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyB1c2VkIHRvIGNvbm5lY3QgdG8gdGhlIHRlcm1pbmFsLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG5ldyB0ZXJtaW5hbCBjb25uZWN0aW9uIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBtYW5hZ2VyIGBzZXJ2ZXJTZXR0aW5nc2Agd2lsbCBiZSB1c2VkLlxuICAgICAqL1xuICAgIGNvbm5lY3RUbyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHRlcm1pbmFsQ29ubmVjdGlvbiA9IG5ldyBkZWZhdWx0XzEuVGVybWluYWxDb25uZWN0aW9uKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgc2VydmVyU2V0dGluZ3M6IHRoaXMuc2VydmVyU2V0dGluZ3MgfSkpO1xuICAgICAgICB0aGlzLl9vblN0YXJ0ZWQodGVybWluYWxDb25uZWN0aW9uKTtcbiAgICAgICAgaWYgKCF0aGlzLl9uYW1lcy5pbmNsdWRlcyhvcHRpb25zLm1vZGVsLm5hbWUpKSB7XG4gICAgICAgICAgICAvLyBXZSB0cnVzdCB0aGUgdXNlciB0byBjb25uZWN0IHRvIGFuIGV4aXN0aW5nIHNlc3Npb24sIGJ1dCB3ZSB2ZXJpZnlcbiAgICAgICAgICAgIC8vIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICAgICAgdm9pZCB0aGlzLnJlZnJlc2hSdW5uaW5nKCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVybWluYWxDb25uZWN0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaXRlcmF0b3Igb3ZlciB0aGUgbW9zdCByZWNlbnQgcnVubmluZyB0ZXJtaW5hbHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpdGVyYXRvciBvdmVyIHRoZSBydW5uaW5nIHRlcm1pbmFscy5cbiAgICAgKi9cbiAgICBydW5uaW5nKCkge1xuICAgICAgICByZXR1cm4gYWxnb3JpdGhtXzEuaXRlcih0aGlzLl9tb2RlbHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3JjZSBhIHJlZnJlc2ggb2YgdGhlIHJ1bm5pbmcgdGVybWluYWxzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgd2l0aCB0aGUgbGlzdCBvZiBydW5uaW5nIHRlcm1pbmFscy5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGludGVuZGVkIHRvIGJlIGNhbGxlZCBvbmx5IGluIHJlc3BvbnNlIHRvIGEgdXNlciBhY3Rpb24sXG4gICAgICogc2luY2UgdGhlIG1hbmFnZXIgbWFpbnRhaW5zIGl0cyBpbnRlcm5hbCBzdGF0ZS5cbiAgICAgKi9cbiAgICBhc3luYyByZWZyZXNoUnVubmluZygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcG9sbE1vZGVscy5yZWZyZXNoKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3BvbGxNb2RlbHMudGljaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHRlcm1pbmFsIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB0ZXJtaW5hbCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGUgbWFuYWdlciBgc2VydmVyU2V0dGluZ3NgIHdpbGwgYmUgdXNlZCB1bmxlc3Mgb3ZlcnJpZGRlbiBpbiB0aGVcbiAgICAgKiBvcHRpb25zLlxuICAgICAqL1xuICAgIGFzeW5jIHN0YXJ0TmV3KCkge1xuICAgICAgICBjb25zdCBtb2RlbCA9IGF3YWl0IHJlc3RhcGlfMS5zdGFydE5ldyh0aGlzLnNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoUnVubmluZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0VG8oeyBtb2RlbCB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2h1dCBkb3duIGEgdGVybWluYWwgc2Vzc2lvbiBieSBuYW1lLlxuICAgICAqL1xuICAgIGFzeW5jIHNodXRkb3duKG5hbWUpIHtcbiAgICAgICAgYXdhaXQgcmVzdGFwaV8xLnNodXRkb3duVGVybWluYWwobmFtZSwgdGhpcy5zZXJ2ZXJTZXR0aW5ncyk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFJ1bm5pbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2h1dCBkb3duIGFsbCB0ZXJtaW5hbCBzZXNzaW9ucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIG9mIHRoZSBzZXNzaW9ucyBhcmUgc2h1dCBkb3duLlxuICAgICAqL1xuICAgIGFzeW5jIHNodXRkb3duQWxsKCkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGxpc3Qgb2YgbW9kZWxzIHRvIG1ha2Ugc3VyZSBvdXIgbGlzdCBpcyBjdXJyZW50LlxuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hSdW5uaW5nKCk7XG4gICAgICAgIC8vIFNodXQgZG93biBhbGwgbW9kZWxzLlxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLl9uYW1lcy5tYXAobmFtZSA9PiByZXN0YXBpXzEuc2h1dGRvd25UZXJtaW5hbChuYW1lLCB0aGlzLnNlcnZlclNldHRpbmdzKSkpO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGxpc3Qgb2YgbW9kZWxzIHRvIGNsZWFyIG91dCBvdXIgc3RhdGUuXG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFJ1bm5pbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB0byBwb2xsIHJ1bm5pbmcgdGVybWluYWxzIGFuZCB1cGRhdGUgc3RhdGUuXG4gICAgICovXG4gICAgYXN5bmMgcmVxdWVzdFJ1bm5pbmcoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IG1vZGVscztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1vZGVscyA9IGF3YWl0IHJlc3RhcGlfMS5saXN0UnVubmluZyh0aGlzLnNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgYSBuZXR3b3JrIGVycm9yLCBvciBhIDUwMyBlcnJvciwgd2hpY2ggaXMgcmV0dXJuZWRcbiAgICAgICAgICAgIC8vIGJ5IGEgSnVweXRlckh1YiB3aGVuIGEgc2VydmVyIGlzIHNodXQgZG93bi5cbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBfXzEuU2VydmVyQ29ubmVjdGlvbi5OZXR3b3JrRXJyb3IgfHxcbiAgICAgICAgICAgICAgICAoKF9hID0gZXJyLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhdHVzKSA9PT0gNTAzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvbkZhaWx1cmUuZW1pdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lcyA9IG1vZGVscy5tYXAoKHsgbmFtZSB9KSA9PiBuYW1lKS5zb3J0KCk7XG4gICAgICAgIGlmIChuYW1lcyA9PT0gdGhpcy5fbmFtZXMpIHtcbiAgICAgICAgICAgIC8vIElkZW50aWNhbCBtb2RlbHMgbGlzdCwgc28ganVzdCByZXR1cm5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9uYW1lcyA9IG5hbWVzO1xuICAgICAgICB0aGlzLl90ZXJtaW5hbENvbm5lY3Rpb25zLmZvckVhY2godGMgPT4ge1xuICAgICAgICAgICAgaWYgKCFuYW1lcy5pbmNsdWRlcyh0Yy5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHRjLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3J1bm5pbmdDaGFuZ2VkLmVtaXQodGhpcy5fbW9kZWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgc2Vzc2lvbiBzdGFydGluZy5cbiAgICAgKi9cbiAgICBfb25TdGFydGVkKHRlcm1pbmFsQ29ubmVjdGlvbikge1xuICAgICAgICB0aGlzLl90ZXJtaW5hbENvbm5lY3Rpb25zLmFkZCh0ZXJtaW5hbENvbm5lY3Rpb24pO1xuICAgICAgICB0ZXJtaW5hbENvbm5lY3Rpb24uZGlzcG9zZWQuY29ubmVjdCh0aGlzLl9vbkRpc3Bvc2VkLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgc2Vzc2lvbiB0ZXJtaW5hdGluZy5cbiAgICAgKi9cbiAgICBfb25EaXNwb3NlZCh0ZXJtaW5hbENvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fdGVybWluYWxDb25uZWN0aW9ucy5kZWxldGUodGVybWluYWxDb25uZWN0aW9uKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBydW5uaW5nIG1vZGVscyB0byBtYWtlIHN1cmUgd2UgcmVmbGVjdCB0aGUgc2VydmVyIHN0YXRlXG4gICAgICAgIHZvaWQgdGhpcy5yZWZyZXNoUnVubmluZygpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgX21vZGVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWVzLm1hcChuYW1lID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWUgfTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5UZXJtaW5hbE1hbmFnZXIgPSBUZXJtaW5hbE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYW5hZ2VyLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbi8vIE5vdGVib29rIGZvcm1hdCBpbnRlcmZhY2VzXG4vLyBodHRwczovL25iZm9ybWF0LnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC9mb3JtYXRfZGVzY3JpcHRpb24uaHRtbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2p1cHl0ZXIvbmJmb3JtYXQvYmxvYi9tYXN0ZXIvbmJmb3JtYXQvdjQvbmJmb3JtYXQudjQuc2NoZW1hLmpzb25cbmltcG9ydCB7IEpTT05FeHQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG4vKipcbiAqIFRoZSBtYWpvciB2ZXJzaW9uIG9mIHRoZSBub3RlYm9vayBmb3JtYXQuXG4gKi9cbmV4cG9ydCBjb25zdCBNQUpPUl9WRVJTSU9OID0gNDtcbi8qKlxuICogVGhlIG1pbm9yIHZlcnNpb24gb2YgdGhlIG5vdGVib29rIGZvcm1hdC5cbiAqL1xuZXhwb3J0IGNvbnN0IE1JTk9SX1ZFUlNJT04gPSA0O1xuLyoqXG4gKiBWYWxpZGF0ZSBhIG1pbWUgdHlwZS92YWx1ZSBwYWlyLlxuICpcbiAqIEBwYXJhbSB0eXBlIC0gVGhlIG1pbWV0eXBlIG5hbWUuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdHlwZS5cbiAqXG4gKiBAcmV0dXJucyBXaGV0aGVyIHRoZSB0eXBlL3ZhbHVlIHBhaXIgYXJlIHZhbGlkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVNaW1lVmFsdWUodHlwZSwgdmFsdWUpIHtcbiAgICAvLyBDaGVjayBpZiBcImFwcGxpY2F0aW9uL2pzb25cIiBvciBcImFwcGxpY2F0aW9uL2Zvbytqc29uXCJcbiAgICBjb25zdCBqc29uVGVzdCA9IC9eYXBwbGljYXRpb25cXC8oLio/KStcXCtqc29uJC87XG4gICAgY29uc3QgaXNKU09OVHlwZSA9IHR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJyB8fCBqc29uVGVzdC50ZXN0KHR5cGUpO1xuICAgIGxldCBpc1N0cmluZyA9ICh4KSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuICAgIH07XG4gICAgLy8gSWYgaXQgaXMgYW4gYXJyYXksIG1ha2Ugc3VyZSBpZiBpcyBub3QgYSBKU09OIHR5cGUgYW5kIGl0IGlzIGFuXG4gICAgLy8gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGlzSlNPTlR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsaWQgPSB0cnVlO1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc1N0cmluZyh2KSkge1xuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxuICAgIC8vIElmIGl0IGlzIGEgc3RyaW5nLCBtYWtlIHN1cmUgd2UgYXJlIG5vdCBhIEpTT04gdHlwZS5cbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAhaXNKU09OVHlwZTtcbiAgICB9XG4gICAgLy8gSXQgaXMgbm90IGEgc3RyaW5nLCBtYWtlIHN1cmUgaXQgaXMgYSBKU09OIHR5cGUuXG4gICAgaWYgKCFpc0pTT05UeXBlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gSXQgaXMgYSBKU09OIHR5cGUsIG1ha2Ugc3VyZSBpdCBpcyBhIHZhbGlkIEpTT04gb2JqZWN0LlxuICAgIHJldHVybiBKU09ORXh0LmlzT2JqZWN0KHZhbHVlKTtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGEgY2VsbCBpcyBhIHJhdyBjZWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSYXcoY2VsbCkge1xuICAgIHJldHVybiBjZWxsLmNlbGxfdHlwZSA9PT0gJ3Jhdyc7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIGNlbGwgaXMgYSBtYXJrZG93biBjZWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNYXJrZG93bihjZWxsKSB7XG4gICAgcmV0dXJuIGNlbGwuY2VsbF90eXBlID09PSAnbWFya2Rvd24nO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBjZWxsIGlzIGEgY29kZSBjZWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb2RlKGNlbGwpIHtcbiAgICByZXR1cm4gY2VsbC5jZWxsX3R5cGUgPT09ICdjb2RlJztcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG91dHB1dCBpcyBhbiBleGVjdXRlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRXhlY3V0ZVJlc3VsdChvdXRwdXQpIHtcbiAgICByZXR1cm4gb3V0cHV0Lm91dHB1dF90eXBlID09PSAnZXhlY3V0ZV9yZXN1bHQnO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gb3V0cHV0IGlzIGZyb20gZGlzcGxheSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEaXNwbGF5RGF0YShvdXRwdXQpIHtcbiAgICByZXR1cm4gb3V0cHV0Lm91dHB1dF90eXBlID09PSAnZGlzcGxheV9kYXRhJztcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG91dHB1dCBpcyBmcm9tIHVwZGF0ZWQgZGlzcGxheSBkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEaXNwbGF5VXBkYXRlKG91dHB1dCkge1xuICAgIHJldHVybiBvdXRwdXQub3V0cHV0X3R5cGUgPT09ICd1cGRhdGVfZGlzcGxheV9kYXRhJztcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIG91dHB1dCBpcyBmcm9tIGEgc3RyZWFtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJlYW0ob3V0cHV0KSB7XG4gICAgcmV0dXJuIG91dHB1dC5vdXRwdXRfdHlwZSA9PT0gJ3N0cmVhbSc7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBvdXRwdXQgaXMgYW4gZXJyb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yKG91dHB1dCkge1xuICAgIHJldHVybiBvdXRwdXQub3V0cHV0X3R5cGUgPT09ICdlcnJvcic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyBvcGFjaXR5PScwLjUnJTNFICUzQ3BhdGggZD0nTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHN0eWxlLCBjbGFzc2VzIH0gZnJvbSAndHlwZXN0eWxlL2xpYic7XG5pbXBvcnQgeyBjZW50ZXJlZEZsZXgsIGxlZnRUb1JpZ2h0IH0gZnJvbSAnLi4vc3R5bGUvbGF5b3V0JztcbmNvbnN0IGdyb3VwSXRlbUxheW91dCA9IHN0eWxlKGNlbnRlcmVkRmxleCwgbGVmdFRvUmlnaHQpO1xuLyoqXG4gKiBBIHRzeCBjb21wb25lbnQgZm9yIGEgc2V0IG9mIGl0ZW1zIGxvZ2ljYWxseSBncm91cGVkIHRvZ2V0aGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gR3JvdXBJdGVtKHByb3BzKSB7XG4gICAgY29uc3QgeyBzcGFjaW5nLCBjaGlsZHJlbiwgY2xhc3NOYW1lIH0gPSBwcm9wcywgcmVzdCA9IF9fcmVzdChwcm9wcywgW1wic3BhY2luZ1wiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCJdKTtcbiAgICBjb25zdCBudW1DaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLmNvdW50KGNoaWxkcmVuKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7IGNsYXNzTmFtZTogY2xhc3Nlcyhncm91cEl0ZW1MYXlvdXQsIGNsYXNzTmFtZSkgfSwgcmVzdCksIFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgKGNoaWxkLCBpKSA9PiB7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IG1hcmdpblJpZ2h0OiBgJHtzcGFjaW5nfXB4YCB9IH0sIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpID09PSBudW1DaGlsZHJlbiAtIDEpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgbWFyZ2luTGVmdDogYCR7c3BhY2luZ31weGAgfSB9LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IG1hcmdpbjogYDBweCAke3NwYWNpbmd9cHhgIH0gfSwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSkpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyb3VwLmpzLm1hcCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyoqXFxuICogZ29vZ2xlLW1hdGVyaWFsLWNvbG9yIHYxLjIuNlxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5sZXZhbi9nb29nbGUtbWF0ZXJpYWwtY29sb3JcXG4gKi9cXG46cm9vdCB7XFxuICAtLW1kLXJlZC01MDogI2ZmZWJlZTtcXG4gIC0tbWQtcmVkLTEwMDogI2ZmY2RkMjtcXG4gIC0tbWQtcmVkLTIwMDogI2VmOWE5YTtcXG4gIC0tbWQtcmVkLTMwMDogI2U1NzM3MztcXG4gIC0tbWQtcmVkLTQwMDogI2VmNTM1MDtcXG4gIC0tbWQtcmVkLTUwMDogI2Y0NDMzNjtcXG4gIC0tbWQtcmVkLTYwMDogI2U1MzkzNTtcXG4gIC0tbWQtcmVkLTcwMDogI2QzMmYyZjtcXG4gIC0tbWQtcmVkLTgwMDogI2M2MjgyODtcXG4gIC0tbWQtcmVkLTkwMDogI2I3MWMxYztcXG4gIC0tbWQtcmVkLUExMDA6ICNmZjhhODA7XFxuICAtLW1kLXJlZC1BMjAwOiAjZmY1MjUyO1xcbiAgLS1tZC1yZWQtQTQwMDogI2ZmMTc0NDtcXG4gIC0tbWQtcmVkLUE3MDA6ICNkNTAwMDA7XFxuXFxuICAtLW1kLXBpbmstNTA6ICNmY2U0ZWM7XFxuICAtLW1kLXBpbmstMTAwOiAjZjhiYmQwO1xcbiAgLS1tZC1waW5rLTIwMDogI2Y0OGZiMTtcXG4gIC0tbWQtcGluay0zMDA6ICNmMDYyOTI7XFxuICAtLW1kLXBpbmstNDAwOiAjZWM0MDdhO1xcbiAgLS1tZC1waW5rLTUwMDogI2U5MWU2MztcXG4gIC0tbWQtcGluay02MDA6ICNkODFiNjA7XFxuICAtLW1kLXBpbmstNzAwOiAjYzIxODViO1xcbiAgLS1tZC1waW5rLTgwMDogI2FkMTQ1NztcXG4gIC0tbWQtcGluay05MDA6ICM4ODBlNGY7XFxuICAtLW1kLXBpbmstQTEwMDogI2ZmODBhYjtcXG4gIC0tbWQtcGluay1BMjAwOiAjZmY0MDgxO1xcbiAgLS1tZC1waW5rLUE0MDA6ICNmNTAwNTc7XFxuICAtLW1kLXBpbmstQTcwMDogI2M1MTE2MjtcXG5cXG4gIC0tbWQtcHVycGxlLTUwOiAjZjNlNWY1O1xcbiAgLS1tZC1wdXJwbGUtMTAwOiAjZTFiZWU3O1xcbiAgLS1tZC1wdXJwbGUtMjAwOiAjY2U5M2Q4O1xcbiAgLS1tZC1wdXJwbGUtMzAwOiAjYmE2OGM4O1xcbiAgLS1tZC1wdXJwbGUtNDAwOiAjYWI0N2JjO1xcbiAgLS1tZC1wdXJwbGUtNTAwOiAjOWMyN2IwO1xcbiAgLS1tZC1wdXJwbGUtNjAwOiAjOGUyNGFhO1xcbiAgLS1tZC1wdXJwbGUtNzAwOiAjN2IxZmEyO1xcbiAgLS1tZC1wdXJwbGUtODAwOiAjNmExYjlhO1xcbiAgLS1tZC1wdXJwbGUtOTAwOiAjNGExNDhjO1xcbiAgLS1tZC1wdXJwbGUtQTEwMDogI2VhODBmYztcXG4gIC0tbWQtcHVycGxlLUEyMDA6ICNlMDQwZmI7XFxuICAtLW1kLXB1cnBsZS1BNDAwOiAjZDUwMGY5O1xcbiAgLS1tZC1wdXJwbGUtQTcwMDogI2FhMDBmZjtcXG5cXG4gIC0tbWQtZGVlcC1wdXJwbGUtNTA6ICNlZGU3ZjY7XFxuICAtLW1kLWRlZXAtcHVycGxlLTEwMDogI2QxYzRlOTtcXG4gIC0tbWQtZGVlcC1wdXJwbGUtMjAwOiAjYjM5ZGRiO1xcbiAgLS1tZC1kZWVwLXB1cnBsZS0zMDA6ICM5NTc1Y2Q7XFxuICAtLW1kLWRlZXAtcHVycGxlLTQwMDogIzdlNTdjMjtcXG4gIC0tbWQtZGVlcC1wdXJwbGUtNTAwOiAjNjczYWI3O1xcbiAgLS1tZC1kZWVwLXB1cnBsZS02MDA6ICM1ZTM1YjE7XFxuICAtLW1kLWRlZXAtcHVycGxlLTcwMDogIzUxMmRhODtcXG4gIC0tbWQtZGVlcC1wdXJwbGUtODAwOiAjNDUyN2EwO1xcbiAgLS1tZC1kZWVwLXB1cnBsZS05MDA6ICMzMTFiOTI7XFxuICAtLW1kLWRlZXAtcHVycGxlLUExMDA6ICNiMzg4ZmY7XFxuICAtLW1kLWRlZXAtcHVycGxlLUEyMDA6ICM3YzRkZmY7XFxuICAtLW1kLWRlZXAtcHVycGxlLUE0MDA6ICM2NTFmZmY7XFxuICAtLW1kLWRlZXAtcHVycGxlLUE3MDA6ICM2MjAwZWE7XFxuXFxuICAtLW1kLWluZGlnby01MDogI2U4ZWFmNjtcXG4gIC0tbWQtaW5kaWdvLTEwMDogI2M1Y2FlOTtcXG4gIC0tbWQtaW5kaWdvLTIwMDogIzlmYThkYTtcXG4gIC0tbWQtaW5kaWdvLTMwMDogIzc5ODZjYjtcXG4gIC0tbWQtaW5kaWdvLTQwMDogIzVjNmJjMDtcXG4gIC0tbWQtaW5kaWdvLTUwMDogIzNmNTFiNTtcXG4gIC0tbWQtaW5kaWdvLTYwMDogIzM5NDlhYjtcXG4gIC0tbWQtaW5kaWdvLTcwMDogIzMwM2Y5ZjtcXG4gIC0tbWQtaW5kaWdvLTgwMDogIzI4MzU5MztcXG4gIC0tbWQtaW5kaWdvLTkwMDogIzFhMjM3ZTtcXG4gIC0tbWQtaW5kaWdvLUExMDA6ICM4YzllZmY7XFxuICAtLW1kLWluZGlnby1BMjAwOiAjNTM2ZGZlO1xcbiAgLS1tZC1pbmRpZ28tQTQwMDogIzNkNWFmZTtcXG4gIC0tbWQtaW5kaWdvLUE3MDA6ICMzMDRmZmU7XFxuXFxuICAtLW1kLWJsdWUtNTA6ICNlM2YyZmQ7XFxuICAtLW1kLWJsdWUtMTAwOiAjYmJkZWZiO1xcbiAgLS1tZC1ibHVlLTIwMDogIzkwY2FmOTtcXG4gIC0tbWQtYmx1ZS0zMDA6ICM2NGI1ZjY7XFxuICAtLW1kLWJsdWUtNDAwOiAjNDJhNWY1O1xcbiAgLS1tZC1ibHVlLTUwMDogIzIxOTZmMztcXG4gIC0tbWQtYmx1ZS02MDA6ICMxZTg4ZTU7XFxuICAtLW1kLWJsdWUtNzAwOiAjMTk3NmQyO1xcbiAgLS1tZC1ibHVlLTgwMDogIzE1NjVjMDtcXG4gIC0tbWQtYmx1ZS05MDA6ICMwZDQ3YTE7XFxuICAtLW1kLWJsdWUtQTEwMDogIzgyYjFmZjtcXG4gIC0tbWQtYmx1ZS1BMjAwOiAjNDQ4YWZmO1xcbiAgLS1tZC1ibHVlLUE0MDA6ICMyOTc5ZmY7XFxuICAtLW1kLWJsdWUtQTcwMDogIzI5NjJmZjtcXG5cXG4gIC0tbWQtbGlnaHQtYmx1ZS01MDogI2UxZjVmZTtcXG4gIC0tbWQtbGlnaHQtYmx1ZS0xMDA6ICNiM2U1ZmM7XFxuICAtLW1kLWxpZ2h0LWJsdWUtMjAwOiAjODFkNGZhO1xcbiAgLS1tZC1saWdodC1ibHVlLTMwMDogIzRmYzNmNztcXG4gIC0tbWQtbGlnaHQtYmx1ZS00MDA6ICMyOWI2ZjY7XFxuICAtLW1kLWxpZ2h0LWJsdWUtNTAwOiAjMDNhOWY0O1xcbiAgLS1tZC1saWdodC1ibHVlLTYwMDogIzAzOWJlNTtcXG4gIC0tbWQtbGlnaHQtYmx1ZS03MDA6ICMwMjg4ZDE7XFxuICAtLW1kLWxpZ2h0LWJsdWUtODAwOiAjMDI3N2JkO1xcbiAgLS1tZC1saWdodC1ibHVlLTkwMDogIzAxNTc5YjtcXG4gIC0tbWQtbGlnaHQtYmx1ZS1BMTAwOiAjODBkOGZmO1xcbiAgLS1tZC1saWdodC1ibHVlLUEyMDA6ICM0MGM0ZmY7XFxuICAtLW1kLWxpZ2h0LWJsdWUtQTQwMDogIzAwYjBmZjtcXG4gIC0tbWQtbGlnaHQtYmx1ZS1BNzAwOiAjMDA5MWVhO1xcblxcbiAgLS1tZC1jeWFuLTUwOiAjZTBmN2ZhO1xcbiAgLS1tZC1jeWFuLTEwMDogI2IyZWJmMjtcXG4gIC0tbWQtY3lhbi0yMDA6ICM4MGRlZWE7XFxuICAtLW1kLWN5YW4tMzAwOiAjNGRkMGUxO1xcbiAgLS1tZC1jeWFuLTQwMDogIzI2YzZkYTtcXG4gIC0tbWQtY3lhbi01MDA6ICMwMGJjZDQ7XFxuICAtLW1kLWN5YW4tNjAwOiAjMDBhY2MxO1xcbiAgLS1tZC1jeWFuLTcwMDogIzAwOTdhNztcXG4gIC0tbWQtY3lhbi04MDA6ICMwMDgzOGY7XFxuICAtLW1kLWN5YW4tOTAwOiAjMDA2MDY0O1xcbiAgLS1tZC1jeWFuLUExMDA6ICM4NGZmZmY7XFxuICAtLW1kLWN5YW4tQTIwMDogIzE4ZmZmZjtcXG4gIC0tbWQtY3lhbi1BNDAwOiAjMDBlNWZmO1xcbiAgLS1tZC1jeWFuLUE3MDA6ICMwMGI4ZDQ7XFxuXFxuICAtLW1kLXRlYWwtNTA6ICNlMGYyZjE7XFxuICAtLW1kLXRlYWwtMTAwOiAjYjJkZmRiO1xcbiAgLS1tZC10ZWFsLTIwMDogIzgwY2JjNDtcXG4gIC0tbWQtdGVhbC0zMDA6ICM0ZGI2YWM7XFxuICAtLW1kLXRlYWwtNDAwOiAjMjZhNjlhO1xcbiAgLS1tZC10ZWFsLTUwMDogIzAwOTY4ODtcXG4gIC0tbWQtdGVhbC02MDA6ICMwMDg5N2I7XFxuICAtLW1kLXRlYWwtNzAwOiAjMDA3OTZiO1xcbiAgLS1tZC10ZWFsLTgwMDogIzAwNjk1YztcXG4gIC0tbWQtdGVhbC05MDA6ICMwMDRkNDA7XFxuICAtLW1kLXRlYWwtQTEwMDogI2E3ZmZlYjtcXG4gIC0tbWQtdGVhbC1BMjAwOiAjNjRmZmRhO1xcbiAgLS1tZC10ZWFsLUE0MDA6ICMxZGU5YjY7XFxuICAtLW1kLXRlYWwtQTcwMDogIzAwYmZhNTtcXG5cXG4gIC0tbWQtZ3JlZW4tNTA6ICNlOGY1ZTk7XFxuICAtLW1kLWdyZWVuLTEwMDogI2M4ZTZjOTtcXG4gIC0tbWQtZ3JlZW4tMjAwOiAjYTVkNmE3O1xcbiAgLS1tZC1ncmVlbi0zMDA6ICM4MWM3ODQ7XFxuICAtLW1kLWdyZWVuLTQwMDogIzY2YmI2YTtcXG4gIC0tbWQtZ3JlZW4tNTAwOiAjNGNhZjUwO1xcbiAgLS1tZC1ncmVlbi02MDA6ICM0M2EwNDc7XFxuICAtLW1kLWdyZWVuLTcwMDogIzM4OGUzYztcXG4gIC0tbWQtZ3JlZW4tODAwOiAjMmU3ZDMyO1xcbiAgLS1tZC1ncmVlbi05MDA6ICMxYjVlMjA7XFxuICAtLW1kLWdyZWVuLUExMDA6ICNiOWY2Y2E7XFxuICAtLW1kLWdyZWVuLUEyMDA6ICM2OWYwYWU7XFxuICAtLW1kLWdyZWVuLUE0MDA6ICMwMGU2NzY7XFxuICAtLW1kLWdyZWVuLUE3MDA6ICMwMGM4NTM7XFxuXFxuICAtLW1kLWxpZ2h0LWdyZWVuLTUwOiAjZjFmOGU5O1xcbiAgLS1tZC1saWdodC1ncmVlbi0xMDA6ICNkY2VkYzg7XFxuICAtLW1kLWxpZ2h0LWdyZWVuLTIwMDogI2M1ZTFhNTtcXG4gIC0tbWQtbGlnaHQtZ3JlZW4tMzAwOiAjYWVkNTgxO1xcbiAgLS1tZC1saWdodC1ncmVlbi00MDA6ICM5Y2NjNjU7XFxuICAtLW1kLWxpZ2h0LWdyZWVuLTUwMDogIzhiYzM0YTtcXG4gIC0tbWQtbGlnaHQtZ3JlZW4tNjAwOiAjN2NiMzQyO1xcbiAgLS1tZC1saWdodC1ncmVlbi03MDA6ICM2ODlmMzg7XFxuICAtLW1kLWxpZ2h0LWdyZWVuLTgwMDogIzU1OGIyZjtcXG4gIC0tbWQtbGlnaHQtZ3JlZW4tOTAwOiAjMzM2OTFlO1xcbiAgLS1tZC1saWdodC1ncmVlbi1BMTAwOiAjY2NmZjkwO1xcbiAgLS1tZC1saWdodC1ncmVlbi1BMjAwOiAjYjJmZjU5O1xcbiAgLS1tZC1saWdodC1ncmVlbi1BNDAwOiAjNzZmZjAzO1xcbiAgLS1tZC1saWdodC1ncmVlbi1BNzAwOiAjNjRkZDE3O1xcblxcbiAgLS1tZC1saW1lLTUwOiAjZjlmYmU3O1xcbiAgLS1tZC1saW1lLTEwMDogI2YwZjRjMztcXG4gIC0tbWQtbGltZS0yMDA6ICNlNmVlOWM7XFxuICAtLW1kLWxpbWUtMzAwOiAjZGNlNzc1O1xcbiAgLS1tZC1saW1lLTQwMDogI2Q0ZTE1NztcXG4gIC0tbWQtbGltZS01MDA6ICNjZGRjMzk7XFxuICAtLW1kLWxpbWUtNjAwOiAjYzBjYTMzO1xcbiAgLS1tZC1saW1lLTcwMDogI2FmYjQyYjtcXG4gIC0tbWQtbGltZS04MDA6ICM5ZTlkMjQ7XFxuICAtLW1kLWxpbWUtOTAwOiAjODI3NzE3O1xcbiAgLS1tZC1saW1lLUExMDA6ICNmNGZmODE7XFxuICAtLW1kLWxpbWUtQTIwMDogI2VlZmY0MTtcXG4gIC0tbWQtbGltZS1BNDAwOiAjYzZmZjAwO1xcbiAgLS1tZC1saW1lLUE3MDA6ICNhZWVhMDA7XFxuXFxuICAtLW1kLXllbGxvdy01MDogI2ZmZmRlNztcXG4gIC0tbWQteWVsbG93LTEwMDogI2ZmZjljNDtcXG4gIC0tbWQteWVsbG93LTIwMDogI2ZmZjU5ZDtcXG4gIC0tbWQteWVsbG93LTMwMDogI2ZmZjE3NjtcXG4gIC0tbWQteWVsbG93LTQwMDogI2ZmZWU1ODtcXG4gIC0tbWQteWVsbG93LTUwMDogI2ZmZWIzYjtcXG4gIC0tbWQteWVsbG93LTYwMDogI2ZkZDgzNTtcXG4gIC0tbWQteWVsbG93LTcwMDogI2ZiYzAyZDtcXG4gIC0tbWQteWVsbG93LTgwMDogI2Y5YTgyNTtcXG4gIC0tbWQteWVsbG93LTkwMDogI2Y1N2YxNztcXG4gIC0tbWQteWVsbG93LUExMDA6ICNmZmZmOGQ7XFxuICAtLW1kLXllbGxvdy1BMjAwOiAjZmZmZjAwO1xcbiAgLS1tZC15ZWxsb3ctQTQwMDogI2ZmZWEwMDtcXG4gIC0tbWQteWVsbG93LUE3MDA6ICNmZmQ2MDA7XFxuXFxuICAtLW1kLWFtYmVyLTUwOiAjZmZmOGUxO1xcbiAgLS1tZC1hbWJlci0xMDA6ICNmZmVjYjM7XFxuICAtLW1kLWFtYmVyLTIwMDogI2ZmZTA4MjtcXG4gIC0tbWQtYW1iZXItMzAwOiAjZmZkNTRmO1xcbiAgLS1tZC1hbWJlci00MDA6ICNmZmNhMjg7XFxuICAtLW1kLWFtYmVyLTUwMDogI2ZmYzEwNztcXG4gIC0tbWQtYW1iZXItNjAwOiAjZmZiMzAwO1xcbiAgLS1tZC1hbWJlci03MDA6ICNmZmEwMDA7XFxuICAtLW1kLWFtYmVyLTgwMDogI2ZmOGYwMDtcXG4gIC0tbWQtYW1iZXItOTAwOiAjZmY2ZjAwO1xcbiAgLS1tZC1hbWJlci1BMTAwOiAjZmZlNTdmO1xcbiAgLS1tZC1hbWJlci1BMjAwOiAjZmZkNzQwO1xcbiAgLS1tZC1hbWJlci1BNDAwOiAjZmZjNDAwO1xcbiAgLS1tZC1hbWJlci1BNzAwOiAjZmZhYjAwO1xcblxcbiAgLS1tZC1vcmFuZ2UtNTA6ICNmZmYzZTA7XFxuICAtLW1kLW9yYW5nZS0xMDA6ICNmZmUwYjI7XFxuICAtLW1kLW9yYW5nZS0yMDA6ICNmZmNjODA7XFxuICAtLW1kLW9yYW5nZS0zMDA6ICNmZmI3NGQ7XFxuICAtLW1kLW9yYW5nZS00MDA6ICNmZmE3MjY7XFxuICAtLW1kLW9yYW5nZS01MDA6ICNmZjk4MDA7XFxuICAtLW1kLW9yYW5nZS02MDA6ICNmYjhjMDA7XFxuICAtLW1kLW9yYW5nZS03MDA6ICNmNTdjMDA7XFxuICAtLW1kLW9yYW5nZS04MDA6ICNlZjZjMDA7XFxuICAtLW1kLW9yYW5nZS05MDA6ICNlNjUxMDA7XFxuICAtLW1kLW9yYW5nZS1BMTAwOiAjZmZkMTgwO1xcbiAgLS1tZC1vcmFuZ2UtQTIwMDogI2ZmYWI0MDtcXG4gIC0tbWQtb3JhbmdlLUE0MDA6ICNmZjkxMDA7XFxuICAtLW1kLW9yYW5nZS1BNzAwOiAjZmY2ZDAwO1xcblxcbiAgLS1tZC1kZWVwLW9yYW5nZS01MDogI2ZiZTllNztcXG4gIC0tbWQtZGVlcC1vcmFuZ2UtMTAwOiAjZmZjY2JjO1xcbiAgLS1tZC1kZWVwLW9yYW5nZS0yMDA6ICNmZmFiOTE7XFxuICAtLW1kLWRlZXAtb3JhbmdlLTMwMDogI2ZmOGE2NTtcXG4gIC0tbWQtZGVlcC1vcmFuZ2UtNDAwOiAjZmY3MDQzO1xcbiAgLS1tZC1kZWVwLW9yYW5nZS01MDA6ICNmZjU3MjI7XFxuICAtLW1kLWRlZXAtb3JhbmdlLTYwMDogI2Y0NTExZTtcXG4gIC0tbWQtZGVlcC1vcmFuZ2UtNzAwOiAjZTY0YTE5O1xcbiAgLS1tZC1kZWVwLW9yYW5nZS04MDA6ICNkODQzMTU7XFxuICAtLW1kLWRlZXAtb3JhbmdlLTkwMDogI2JmMzYwYztcXG4gIC0tbWQtZGVlcC1vcmFuZ2UtQTEwMDogI2ZmOWU4MDtcXG4gIC0tbWQtZGVlcC1vcmFuZ2UtQTIwMDogI2ZmNmU0MDtcXG4gIC0tbWQtZGVlcC1vcmFuZ2UtQTQwMDogI2ZmM2QwMDtcXG4gIC0tbWQtZGVlcC1vcmFuZ2UtQTcwMDogI2RkMmMwMDtcXG5cXG4gIC0tbWQtYnJvd24tNTA6ICNlZmViZTk7XFxuICAtLW1kLWJyb3duLTEwMDogI2Q3Y2NjODtcXG4gIC0tbWQtYnJvd24tMjAwOiAjYmNhYWE0O1xcbiAgLS1tZC1icm93bi0zMDA6ICNhMTg4N2Y7XFxuICAtLW1kLWJyb3duLTQwMDogIzhkNmU2MztcXG4gIC0tbWQtYnJvd24tNTAwOiAjNzk1NTQ4O1xcbiAgLS1tZC1icm93bi02MDA6ICM2ZDRjNDE7XFxuICAtLW1kLWJyb3duLTcwMDogIzVkNDAzNztcXG4gIC0tbWQtYnJvd24tODAwOiAjNGUzNDJlO1xcbiAgLS1tZC1icm93bi05MDA6ICMzZTI3MjM7XFxuXFxuICAtLW1kLWdyZXktNTA6ICNmYWZhZmE7XFxuICAtLW1kLWdyZXktMTAwOiAjZjVmNWY1O1xcbiAgLS1tZC1ncmV5LTIwMDogI2VlZWVlZTtcXG4gIC0tbWQtZ3JleS0zMDA6ICNlMGUwZTA7XFxuICAtLW1kLWdyZXktNDAwOiAjYmRiZGJkO1xcbiAgLS1tZC1ncmV5LTUwMDogIzllOWU5ZTtcXG4gIC0tbWQtZ3JleS02MDA6ICM3NTc1NzU7XFxuICAtLW1kLWdyZXktNzAwOiAjNjE2MTYxO1xcbiAgLS1tZC1ncmV5LTgwMDogIzQyNDI0MjtcXG4gIC0tbWQtZ3JleS05MDA6ICMyMTIxMjE7XFxuXFxuICAtLW1kLWJsdWUtZ3JleS01MDogI2VjZWZmMTtcXG4gIC0tbWQtYmx1ZS1ncmV5LTEwMDogI2NmZDhkYztcXG4gIC0tbWQtYmx1ZS1ncmV5LTIwMDogI2IwYmVjNTtcXG4gIC0tbWQtYmx1ZS1ncmV5LTMwMDogIzkwYTRhZTtcXG4gIC0tbWQtYmx1ZS1ncmV5LTQwMDogIzc4OTA5YztcXG4gIC0tbWQtYmx1ZS1ncmV5LTUwMDogIzYwN2Q4YjtcXG4gIC0tbWQtYmx1ZS1ncmV5LTYwMDogIzU0NmU3YTtcXG4gIC0tbWQtYmx1ZS1ncmV5LTcwMDogIzQ1NWE2NDtcXG4gIC0tbWQtYmx1ZS1ncmV5LTgwMDogIzM3NDc0ZjtcXG4gIC0tbWQtYmx1ZS1ncmV5LTkwMDogIzI2MzIzODtcXG59XFxuXCIsIFwiXCJdKTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcsIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58XFxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4uanAtRGlhbG9nIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDEwMDAwO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB0b3A6IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWpwLWRpYWxvZy1iYWNrZ3JvdW5kKTtcXG59XFxuXFxuLmpwLURpYWxvZy1jb250ZW50IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG4gIHBhZGRpbmc6IDI0cHg7XFxuICBwYWRkaW5nLWJvdHRvbTogMTJweDtcXG4gIG1pbi13aWR0aDogMzAwcHg7XFxuICBtaW4taGVpZ2h0OiAxNTBweDtcXG4gIG1heC13aWR0aDogNTAwcHg7XFxuICBtYXgtaGVpZ2h0OiA1MDBweDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2hhZG93OiB2YXIoLS1qcC1lbGV2YXRpb24tejIwKTtcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWpwLWJvcmRlci1yYWRpdXMpO1xcbiAgLyogVGhpcyBpcyBuZWVkZWQgc28gdGhhdCBhbGwgZm9udCBzaXppbmcgb2YgY2hpbGRyZW4gZG9uZSBpbiBlbXMgaXNcXG4gICAqIHJlbGF0aXZlIHRvIHRoaXMgYmFzZSBzaXplICovXFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTEpO1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IxKTtcXG59XFxuXFxuLmpwLURpYWxvZy1idXR0b24ge1xcbiAgb3ZlcmZsb3c6IHZpc2libGU7XFxufVxcblxcbmJ1dHRvbi5qcC1EaWFsb2ctYnV0dG9uOmZvY3VzIHtcXG4gIG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS1qcC1icmFuZC1jb2xvcjEpO1xcbiAgb3V0bGluZS1vZmZzZXQ6IDRweDtcXG4gIC1tb3otb3V0bGluZS1yYWRpdXM6IDBweDtcXG59XFxuXFxuYnV0dG9uLmpwLURpYWxvZy1idXR0b246Zm9jdXM6Oi1tb3otZm9jdXMtaW5uZXIge1xcbiAgYm9yZGVyOiAwO1xcbn1cXG5cXG4uanAtRGlhbG9nLWhlYWRlciB7XFxuICBmbGV4OiAwIDAgYXV0bztcXG4gIHBhZGRpbmctYm90dG9tOiAxMnB4O1xcbiAgZm9udC1zaXplOiB2YXIoLS1qcC11aS1mb250LXNpemUzKTtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICBjb2xvcjogdmFyKC0tanAtdWktZm9udC1jb2xvcjApO1xcbn1cXG5cXG4uanAtRGlhbG9nLWJvZHkge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBmbGV4OiAxIDEgYXV0bztcXG4gIGZvbnQtc2l6ZTogdmFyKC0tanAtdWktZm9udC1zaXplMSk7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG4gIG92ZXJmbG93OiBhdXRvO1xcbn1cXG5cXG4uanAtRGlhbG9nLWZvb3RlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxuICBmbGV4OiAwIDAgYXV0bztcXG4gIG1hcmdpbi1sZWZ0OiAtMTJweDtcXG4gIG1hcmdpbi1yaWdodDogLTEycHg7XFxuICBwYWRkaW5nOiAxMnB4O1xcbn1cXG5cXG4uanAtRGlhbG9nLXRpdGxlIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxufVxcblxcbi5qcC1EaWFsb2ctYm9keSA+IC5qcC1zZWxlY3Qtd3JhcHBlciB7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuXFxuLmpwLURpYWxvZy1ib2R5ID4gYnV0dG9uIHtcXG4gIHBhZGRpbmc6IDBweCAxNnB4O1xcbn1cXG5cXG4uanAtRGlhbG9nLWJvZHkgPiBsYWJlbCB7XFxuICBsaW5lLWhlaWdodDogMS40O1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IwKTtcXG59XFxuXFxuLmpwLURpYWxvZy1idXR0b24uanAtbW9kLXN0eWxlZDpub3QoOmxhc3QtY2hpbGQpIHtcXG4gIG1hcmdpbi1yaWdodDogMTJweDtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCBDb2RlTWlycm9yIGZyb20gJ2NvZGVtaXJyb3InO1xuaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvbWV0YSc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9weXRob24vcHl0aG9uJztcbi8qKlxuICogRGVmaW5lIGFuIElQeXRob24gY29kZW1pcnJvciBtb2RlLlxuICpcbiAqIEl0IGlzIGEgc2xpZ2h0bHkgYWx0ZXJlZCBQeXRob24gTW9kZSB3aXRoIGEgYD9gIG9wZXJhdG9yLlxuICovXG5Db2RlTWlycm9yLmRlZmluZU1vZGUoJ2lweXRob24nLCAoY29uZmlnLCBtb2RlT3B0aW9ucykgPT4ge1xuICAgIGxldCBweXRob25Db25mID0ge307XG4gICAgZm9yIChsZXQgcHJvcCBpbiBtb2RlT3B0aW9ucykge1xuICAgICAgICBpZiAobW9kZU9wdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIHB5dGhvbkNvbmZbcHJvcF0gPSBtb2RlT3B0aW9uc1twcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBweXRob25Db25mLm5hbWUgPSAncHl0aG9uJztcbiAgICBweXRob25Db25mLnNpbmdsZU9wZXJhdG9ycyA9IG5ldyBSZWdFeHAoJ15bXFxcXCtcXFxcLVxcXFwqLyUmfEBcXFxcXn48PiFcXFxcP10nKTtcbiAgICBweXRob25Db25mLmlkZW50aWZpZXJzID0gbmV3IFJlZ0V4cCgnXltfQS1aYS16XFx1MDBBMS1cXHVGRkZGXVtfQS1aYS16MC05XFx1MDBBMS1cXHVGRkZGXSonKTtcbiAgICByZXR1cm4gQ29kZU1pcnJvci5nZXRNb2RlKGNvbmZpZywgcHl0aG9uQ29uZik7XG59LCAncHl0aG9uJyk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoJ3RleHQveC1pcHl0aG9uJywgJ2lweXRob24nKTtcbkNvZGVNaXJyb3IubW9kZUluZm8ucHVzaCh7XG4gICAgZXh0OiBbXSxcbiAgICBtaW1lOiAndGV4dC94LWlweXRob24nLFxuICAgIG1vZGU6ICdpcHl0aG9uJyxcbiAgICBuYW1lOiAnaXB5dGhvbidcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29kZW1pcnJvci1pcHl0aG9uLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCB7IFVVSUQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tICdAbHVtaW5vL3NpZ25hbGluZyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IGljb25TdHlsZSB9IGZyb20gJy4uL3N0eWxlJztcbmltcG9ydCB7IGdldFJlYWN0QXR0cnMsIGNsYXNzZXMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgYmFkU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2RlYnVnL2JhZC5zdmcnO1xuaW1wb3J0IGJsYW5rU3Znc3RyIGZyb20gJy4uLy4uL3N0eWxlL2RlYnVnL2JsYW5rLnN2Zyc7XG5pbXBvcnQgcmVmcmVzaFN2Z3N0ciBmcm9tICcuLi8uLi9zdHlsZS9pY29ucy90b29sYmFyL3JlZnJlc2guc3ZnJztcbmV4cG9ydCBjbGFzcyBMYWJJY29uIHtcbiAgICAvKioqKioqKioqKipcbiAgICAgKiBtZW1iZXJzICpcbiAgICAgKioqKioqKioqKiovXG4gICAgY29uc3RydWN0b3IoeyBuYW1lLCBzdmdzdHIsIHJlbmRlciwgdW5yZW5kZXIsIHJlbmRlcmVyQ2xhc3MgPSBMYWJJY29uLkVsZW1lbnRSZW5kZXJlciwgX2xvYWRpbmcgPSBmYWxzZSB9KSB7XG4gICAgICAgIHRoaXMuX3N2Z1JlcGxhY2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgLy8gbmVlZGVkIGR1ZSB0byB0aGUgcXVpcmtzIG9mIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIElSZW5kZXJlclxuICAgICAgICB0aGlzLl9pY29uID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVuZGVyZXJPcHRpb25zID0ge307XG4gICAgICAgIGlmICghKG5hbWUgJiYgc3Znc3RyKSkge1xuICAgICAgICAgICAgLy8gc2FuaXR5IGNoZWNrIGZhaWxlZFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgV2hlbiBkZWZpbmluZyBhIG5ldyBMYWJJY29uLCBuYW1lIGFuZCBzdmdzdHIgbXVzdCBib3RoIGJlIG5vbi1lbXB0eSBzdHJpbmdzLiBuYW1lOiAke25hbWV9LCBzdmdzdHI6ICR7c3Znc3RyfWApO1xuICAgICAgICAgICAgcmV0dXJuIGJhZEljb247XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudGx5IHRoaXMgbmVlZHMgdG8gYmUgc2V0IGVhcmx5LCBiZWZvcmUgY2hlY2tzIGZvciBleGlzdGluZyBpY29uc1xuICAgICAgICB0aGlzLl9sb2FkaW5nID0gX2xvYWRpbmc7XG4gICAgICAgIC8vIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgcmVkZWZpbml0aW9uIG9mIGFuIGV4aXN0aW5nIGljb25cbiAgICAgICAgaWYgKExhYkljb24uX2luc3RhbmNlcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIC8vIGZldGNoIHRoZSBleGlzdGluZyBpY29uLCByZXBsYWNlIGl0cyBzdmcsIHRoZW4gcmV0dXJuIGl0XG4gICAgICAgICAgICBjb25zdCBpY29uID0gTGFiSWNvbi5faW5zdGFuY2VzLmdldChuYW1lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0aGUgcGxhY2Vob2xkZXIgc3ZnIGluIGljb25cbiAgICAgICAgICAgICAgICBpY29uLnN2Z3N0ciA9IHN2Z3N0cjtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGljb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGxvYWRlZCBpY29uIHN2ZyBleGlzdHM7IHJlcGxhY2UgaXQgYW5kIHdhcm5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIHNlZSBpZiB0aGlzIHdhcm5pbmcgaXMgdXNlZnVsIG9yIGp1c3Qgbm9pc3lcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlZGVmaW5pbmcgcHJldmlvdXNseSBsb2FkZWQgaWNvbiBzdmdzdHIuIG5hbWU6ICR7bmFtZX0sIHN2Z3N0ck9sZDogJHtpY29uLnN2Z3N0cn0sIHN2Z3N0cjogJHtzdmdzdHJ9YCk7XG4gICAgICAgICAgICAgICAgaWNvbi5zdmdzdHIgPSBzdmdzdHI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGljb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fY2xhc3NOYW1lID0gUHJpdmF0ZS5uYW1lVG9DbGFzc05hbWUobmFtZSk7XG4gICAgICAgIHRoaXMuc3Znc3RyID0gc3Znc3RyO1xuICAgICAgICB0aGlzLnJlYWN0ID0gdGhpcy5faW5pdFJlYWN0KCk7XG4gICAgICAgIGlmIChyZW5kZXIgJiYgdW5yZW5kZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyID0gcmVuZGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnVucmVuZGVyID0gdW5yZW5kZXIuYmluZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNldCByZW5kZXIgYW5kIHVucmVuZGVyIG1ldGhvZHMgYmFzZWQgb24gdGhlIHN1cHBsaWVkIHJlbmRlcmVyQ2xhc3NcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IHJlbmRlcmVyQ2xhc3ModGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlciA9IHJlbmRlcmVyLnJlbmRlci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy51bnJlbmRlciA9IHJlbmRlcmVyLnVucmVuZGVyLmJpbmQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgTGFiSWNvbi5faW5zdGFuY2VzLnNldCh0aGlzLm5hbWUsIHRoaXMpO1xuICAgICAgICAvLyBUT0RPOiByZW1vdmUgYWxvbmcgd2l0aCBVTlNUQUJMRV9nZXRSZWFjdFxuICAgICAgICBMYWJJY29uLl9pbnN0YW5jZXNCeU5hbWVBbmRDbGFzc05hbWUuc2V0KHRoaXMubmFtZSwgdGhpcyk7XG4gICAgICAgIExhYkljb24uX2luc3RhbmNlc0J5TmFtZUFuZENsYXNzTmFtZS5zZXQodGhpcy5fY2xhc3NOYW1lLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqKioqKioqKioqXG4gICAgICogc3RhdGljcyAqXG4gICAgICoqKioqKioqKioqL1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbnkgcmVuZGVyZWQgaWNvbiBmcm9tIHRoZSBlbGVtZW50IHRoYXQgY29udGFpbnMgaXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250YWluZXIgLSBhIERPTSBub2RlIGludG8gd2hpY2ggYW4gaWNvbiB3YXNcbiAgICAgKiBwcmV2aW91c2x5IHJlbmRlcmVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgY2xlYW5lZCBjb250YWluZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlKGNvbnRhaW5lcikge1xuICAgICAgICAvLyBjbGVhbiB1cCBhbGwgY2hpbGRyZW5cbiAgICAgICAgd2hpbGUgKGNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBjb250YWluZXIuZmlyc3RDaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgYWxsIGNsYXNzZXNcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGFuIGljb24gbmFtZSBvciBhIHtuYW1lLCBzdmdzdHJ9IHBhaXIgaW50byBhblxuICAgICAqIGFjdHVhbCBMYWJJY29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGljb24gLSBlaXRoZXIgYSBzdHJpbmcgd2l0aCB0aGUgbmFtZSBvZiBhbiBleGlzdGluZyBpY29uXG4gICAgICogb3IgYW4gb2JqZWN0IHdpdGgge25hbWU6IHN0cmluZywgc3Znc3RyOiBzdHJpbmd9IGZpZWxkcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgTGFiSWNvbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyByZXNvbHZlKHsgaWNvbiB9KSB7XG4gICAgICAgIGlmIChpY29uIGluc3RhbmNlb2YgTGFiSWNvbikge1xuICAgICAgICAgICAgLy8gaWNvbiBhbHJlYWR5IGlzIGEgTGFiSWNvbjsgbm90aGluZyB0byBkbyBoZXJlXG4gICAgICAgICAgICByZXR1cm4gaWNvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGljb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBkbyBhIGR5bmFtaWMgbG9va3VwIG9mIGV4aXN0aW5nIGljb24gYnkgbmFtZVxuICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSBMYWJJY29uLl9pbnN0YW5jZXMuZ2V0KGljb24pO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbG9va3VwIGZhaWxlZFxuICAgICAgICAgICAgaWYgKExhYkljb24uX2RlYnVnKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCBub2lzaWx5XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBMb29rdXAgZmFpbGVkIGZvciBpY29uLCBjcmVhdGluZyBsb2FkaW5nIGljb24uIGljb246ICR7aWNvbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vIG1hdGNoaW5nIGljb24gY3VycmVudGx5IHJlZ2lzdGVyZWQsIGNyZWF0ZSBhIG5ldyBsb2FkaW5nIGljb25cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbmQgYmV0dGVyIGljb24gKG1heWJlIGFuaW1hdGU/KSBmb3IgbG9hZGluZyBpY29uXG4gICAgICAgICAgICByZXR1cm4gbmV3IExhYkljb24oeyBuYW1lOiBpY29uLCBzdmdzdHI6IHJlZnJlc2hTdmdzdHIsIF9sb2FkaW5nOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGljb24gd2FzIHByb3ZpZGVkIGFzIGEgbm9uLUxhYkljb24ge25hbWUsIHN2Z3N0cn0gcGFpciwgY29tbXVuaWNhdGluZ1xuICAgICAgICAvLyBhbiBpbnRlbnRpb24gdG8gY3JlYXRlIGEgbmV3IGljb25cbiAgICAgICAgcmV0dXJuIG5ldyBMYWJJY29uKGljb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGFuIGljb24gbmFtZSBvciBhIHtuYW1lLCBzdmdzdHJ9IHBhaXIgaW50byBhIERPTSBlbGVtZW50LlxuICAgICAqIElmIGljb24gYXJnIGlzIHVuZGVmaW5lZCwgdGhlIGZ1bmN0aW9uIHdpbGwgZmFsbCBiYWNrIHRvIHRyeWluZyB0byByZW5kZXJcbiAgICAgKiB0aGUgaWNvbiBhcyBhIENTUyBiYWNrZ3JvdW5kIGltYWdlLCB2aWEgdGhlIGljb25DbGFzcyBhcmcuXG4gICAgICogSWYgYm90aCBpY29uIGFuZCBpY29uQ2xhc3MgYXJlIHVuZGVmaW5lZCwgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVyblxuICAgICAqIGFuIGVtcHR5IGRpdi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpY29uIC0gb3B0aW9uYWwsIGVpdGhlciBhIHN0cmluZyB3aXRoIHRoZSBuYW1lIG9mIGFuIGV4aXN0aW5nIGljb25cbiAgICAgKiBvciBhbiBvYmplY3Qgd2l0aCB7bmFtZTogc3RyaW5nLCBzdmdzdHI6IHN0cmluZ30gZmllbGRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWNvbkNsYXNzIC0gb3B0aW9uYWwsIGlmIHRoZSBpY29uIGFyZyBpcyBub3Qgc2V0LCB0aGUgaWNvbkNsYXNzIGFyZ1xuICAgICAqIHNob3VsZCBiZSBhIENTUyBjbGFzcyBhc3NvY2lhdGVkIHdpdGggYW4gZXhpc3RpbmcgQ1NTIGJhY2tncm91bmQtaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWxsYmFjayAtIG9wdGlvbmFsLCBhIExhYkljb24gaW5zdGFuY2UgdGhhdCB3aWxsIGJlIHVzZWQgaWZcbiAgICAgKiBuZWl0aGVyIGljb24gbm9yIGljb25DbGFzcyBhcmUgZGVmaW5lZFxuICAgICAqXG4gICAgICogQHBhcmFtIHByb3BzIC0gYW55IGFkZGl0aW9uYWwgYXJncyBhcmUgcGFzc2VkIHRob3VnaCB0byB0aGUgZWxlbWVudCBtZXRob2RcbiAgICAgKiBvZiB0aGUgcmVzb2x2ZWQgaWNvbiBvbiByZW5kZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgRE9NIG5vZGUgd2l0aCB0aGUgcmVzb2x2ZWQgaWNvbiByZW5kZXJlZCBpbnRvIGl0XG4gICAgICovXG4gICAgc3RhdGljIHJlc29sdmVFbGVtZW50KF9hKSB7XG4gICAgICAgIHZhciB7IGljb24sIGljb25DbGFzcywgZmFsbGJhY2sgfSA9IF9hLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiaWNvblwiLCBcImljb25DbGFzc1wiLCBcImZhbGxiYWNrXCJdKTtcbiAgICAgICAgaWYgKCFpY29uKSB7XG4gICAgICAgICAgICBpZiAoIWljb25DbGFzcyAmJiBmYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vIGlmIG5laXRoZXIgaWNvbiBub3IgaWNvbkNsYXNzIGFyZSBkZWZpbmVkLCB1c2UgZmFsbGJhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2suZWxlbWVudChwcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgdGhlIGljb24ncyBjbGFzcyB0byBpY29uQ2xhc3MgcGx1cyBwcm9wcy5jbGFzc05hbWVcbiAgICAgICAgICAgIHByb3BzLmNsYXNzTmFtZSA9IGNsYXNzZXMoaWNvbkNsYXNzLCBwcm9wcy5jbGFzc05hbWUpO1xuICAgICAgICAgICAgLy8gcmVuZGVyIGljb24gYXMgY3NzIGJhY2tncm91bmQgaW1hZ2UsIGFzc3VtaW5nIG9uZSBpcyBzZXQgb24gaWNvbkNsYXNzXG4gICAgICAgICAgICByZXR1cm4gUHJpdmF0ZS5ibGFua0VsZW1lbnQocHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMYWJJY29uLnJlc29sdmUoeyBpY29uIH0pLmVsZW1lbnQocHJvcHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGFuIGljb24gbmFtZSBvciBhIHtuYW1lLCBzdmdzdHJ9IHBhaXIgaW50byBhIFJlYWN0IGNvbXBvbmVudC5cbiAgICAgKiBJZiBpY29uIGFyZyBpcyB1bmRlZmluZWQsIHRoZSBmdW5jdGlvbiB3aWxsIGZhbGwgYmFjayB0byB0cnlpbmcgdG8gcmVuZGVyXG4gICAgICogdGhlIGljb24gYXMgYSBDU1MgYmFja2dyb3VuZCBpbWFnZSwgdmlhIHRoZSBpY29uQ2xhc3MgYXJnLlxuICAgICAqIElmIGJvdGggaWNvbiBhbmQgaWNvbkNsYXNzIGFyZSB1bmRlZmluZWQsIHRoZSByZXR1cm5lZCBjb21wb25lbnRcbiAgICAgKiB3aWxsIHNpbXBseSByZW5kZXIgYW4gZW1wdHkgZGl2LlxuICAgICAqXG4gICAgICogQHBhcmFtIGljb24gLSBvcHRpb25hbCwgZWl0aGVyIGEgc3RyaW5nIHdpdGggdGhlIG5hbWUgb2YgYW4gZXhpc3RpbmcgaWNvblxuICAgICAqIG9yIGFuIG9iamVjdCB3aXRoIHtuYW1lOiBzdHJpbmcsIHN2Z3N0cjogc3RyaW5nfSBmaWVsZHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpY29uQ2xhc3MgLSBvcHRpb25hbCwgaWYgdGhlIGljb24gYXJnIGlzIG5vdCBzZXQsIHRoZSBpY29uQ2xhc3MgYXJnXG4gICAgICogc2hvdWxkIGJlIGEgQ1NTIGNsYXNzIGFzc29jaWF0ZWQgd2l0aCBhbiBleGlzdGluZyBDU1MgYmFja2dyb3VuZC1pbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIGZhbGxiYWNrIC0gb3B0aW9uYWwsIGEgTGFiSWNvbiBpbnN0YW5jZSB0aGF0IHdpbGwgYmUgdXNlZCBpZlxuICAgICAqIG5laXRoZXIgaWNvbiBub3IgaWNvbkNsYXNzIGFyZSBkZWZpbmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvcHMgLSBhbnkgYWRkaXRpb25hbCBhcmdzIGFyZSBwYXNzZWQgdGhvdWdoIHRvIHRoZSBSZWFjdCBjb21wb25lbnRcbiAgICAgKiBvZiB0aGUgcmVzb2x2ZWQgaWNvbiBvbiByZW5kZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgUmVhY3QgY29tcG9uZW50IHRoYXQgd2lsbCByZW5kZXIgdGhlIHJlc29sdmVkIGljb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzb2x2ZVJlYWN0KF9hKSB7XG4gICAgICAgIHZhciB7IGljb24sIGljb25DbGFzcywgZmFsbGJhY2sgfSA9IF9hLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiaWNvblwiLCBcImljb25DbGFzc1wiLCBcImZhbGxiYWNrXCJdKTtcbiAgICAgICAgaWYgKCFpY29uKSB7XG4gICAgICAgICAgICBpZiAoIWljb25DbGFzcyAmJiBmYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vIGlmIG5laXRoZXIgaWNvbiBub3IgaWNvbkNsYXNzIGFyZSBkZWZpbmVkLCB1c2UgZmFsbGJhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChmYWxsYmFjay5yZWFjdCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNldCB0aGUgaWNvbidzIGNsYXNzIHRvIGljb25DbGFzcyBwbHVzIHByb3BzLmNsYXNzTmFtZVxuICAgICAgICAgICAgcHJvcHMuY2xhc3NOYW1lID0gY2xhc3NlcyhpY29uQ2xhc3MsIHByb3BzLmNsYXNzTmFtZSk7XG4gICAgICAgICAgICAvLyByZW5kZXIgaWNvbiBhcyBjc3MgYmFja2dyb3VuZCBpbWFnZSwgYXNzdW1pbmcgb25lIGlzIHNldCBvbiBpY29uQ2xhc3NcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFByaXZhdGUuYmxhbmtSZWFjdCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNvbHZlZCA9IExhYkljb24ucmVzb2x2ZSh7IGljb24gfSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHJlc29sdmVkLnJlYWN0LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGEge25hbWUsIHN2Z3N0cn0gcGFpciBpbnRvIGFuIGFjdHVhbCBzdmcgbm9kZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzb2x2ZVN2Zyh7IG5hbWUsIHN2Z3N0ciB9KSB7XG4gICAgICAgIGNvbnN0IHN2Z0RvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoc3Znc3RyLCAnaW1hZ2Uvc3ZnK3htbCcpO1xuICAgICAgICBjb25zdCBzdmdFcnJvciA9IHN2Z0RvYy5xdWVyeVNlbGVjdG9yKCdwYXJzZXJlcnJvcicpO1xuICAgICAgICAvLyBzdHJ1Y3R1cmUgb2YgZXJyb3IgZWxlbWVudCB2YXJpZXMgYnkgYnJvd3Nlciwgc2VhcmNoIGF0IHRvcCBsZXZlbFxuICAgICAgICBpZiAoc3ZnRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIHBhcnNlIGZhaWxlZCwgc3ZnRWxlbWVudCB3aWxsIGJlIGFuIGVycm9yIGJveFxuICAgICAgICAgICAgY29uc3QgZXJybXNnID0gYFNWRyBIVE1MIHdhcyBtYWxmb3JtZWQgZm9yIExhYkljb24gaW5zdGFuY2UuXFxubmFtZTogJHtuYW1lfSwgc3Znc3RyOiAke3N2Z3N0cn1gO1xuICAgICAgICAgICAgaWYgKExhYkljb24uX2RlYnVnKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCBub2lzaWx5LCByZW5kZXIgdGhlIGVycm9yIGJveFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJybXNnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ZnRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBiYWQgc3ZnIGlzIGFsd2F5cyBhIHJlYWwgZXJyb3IsIGZhaWwgc2lsZW50bHkgYnV0IHdhcm5cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJybXNnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHBhcnNlIHN1Y2NlZWRlZFxuICAgICAgICAgICAgcmV0dXJuIHN2Z0RvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVG9nZ2xlIGljb24gZGVidWcgZnJvbSBvZmYtdG8tb24sIG9yIHZpY2UtdmVyc2EuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVidWcgLSBvcHRpb25hbCBib29sZWFuIHRvIGZvcmNlIGRlYnVnIG9uIG9yIG9mZlxuICAgICAqL1xuICAgIHN0YXRpYyB0b2dnbGVEZWJ1ZyhkZWJ1Zykge1xuICAgICAgICBMYWJJY29uLl9kZWJ1ZyA9IChkZWJ1ZyAhPT0gbnVsbCAmJiBkZWJ1ZyAhPT0gdm9pZCAwID8gZGVidWcgOiAhTGFiSWNvbi5fZGVidWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVTlNUQUJMRSAtIG9ubHkgZXhpc3RzIGZvciBoYW5kbGluZyBhIHNpbmdsZSBzcGVjaWFsIGNhc2VcbiAgICAgKlxuICAgICAqIFRPRE86IEZpeCB0aGUgcmVtYWluaW5nIGNhc2UgdGhhdCByZWxpZXMgb24gdGhpcyBhbmQgdGhlblxuICAgICAqICAgcmVtb3ZlIHRoaXMgbWV0aG9kOlxuICAgICAqICAgICAtIGluZGV4LnRzeCBpbiBsYXVuY2hlclxuICAgICAqL1xuICAgIHN0YXRpYyBVTlNUQUJMRV9nZXRSZWFjdChfYSkge1xuICAgICAgICB2YXIgeyBuYW1lLCBmYWxsYmFjayB9ID0gX2EsIHByb3BzID0gX19yZXN0KF9hLCBbXCJuYW1lXCIsIFwiZmFsbGJhY2tcIl0pO1xuICAgICAgICBmb3IgKGxldCBjbGFzc05hbWUgb2YgbmFtZS5zcGxpdCgvXFxzKy8pKSB7XG4gICAgICAgICAgICBpZiAoTGFiSWNvbi5faW5zdGFuY2VzQnlOYW1lQW5kQ2xhc3NOYW1lLmhhcyhjbGFzc05hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWNvbiA9IExhYkljb24uX2luc3RhbmNlc0J5TmFtZUFuZENsYXNzTmFtZS5nZXQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChpY29uLnJlYWN0LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2t1cCBmYWlsZWQgaWYgZXhlY3V0aW9uIHJlYWNoZWQgaGVyZVxuICAgICAgICBpZiAoTGFiSWNvbi5fZGVidWcpIHtcbiAgICAgICAgICAgIC8vIGZhaWwgbm9pc2lseVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBpY29uIG5hbWU6ICR7bmFtZX1gKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGJhZEljb24ucmVhY3QsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmFsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGZhbGxiYWNrLnJlYWN0LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdHJ5IHRvIHJlbmRlciB0aGUgaWNvbiBhcyBhIGNzcyBiYWNrZ3JvdW5kIGltYWdlIHZpYSBpY29uQ2xhc3NcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFByaXZhdGUuYmxhbmtSZWFjdCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVTlNUQUJMRSAtIG9ubHkgZXhpc3RzIGZvciBoYW5kbGluZyAyIHNwZWNpYWwgY2FzZXNcbiAgICAgKlxuICAgICAqIFRPRE86IEZpeCB0aGUgcmVtYWluaW5nIGNhc2VzIHRoYXQgcmVseSBvbiB0aGlzIGFuZCB0aGVuXG4gICAgICogICByZW1vdmUgdGhpcyBtZXRob2Q6XG4gICAgICogICAgIC0gc2hlbGwudHMgaW4gYXBwbGljYXRpb25cbiAgICAgKiAgICAgLSB3aWRnZXQudHN4IGluIGV4dGVuc2lvbm1hbmFnZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgVU5TVEFCTEVfc3R5bGUoX2EpIHtcbiAgICAgICAgdmFyIHsgY2xhc3NOYW1lIH0gPSBfYSwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNsYXNzTmFtZVwiXSk7XG4gICAgICAgIHJldHVybiBjbGFzc2VzKGNsYXNzTmFtZSwgaWNvblN0eWxlKHByb3BzKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpY29uIGFzIGEgRE9NIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjbGFzc05hbWUgLSBhIHN0cmluZyB0aGF0IHdpbGwgYmUgdXNlZCBhcyB0aGUgY2xhc3NcbiAgICAgKiBvZiB0aGUgY29udGFpbmVyIGVsZW1lbnQuIE92ZXJyaWRlcyBhbnkgZXhpc3RpbmcgY2xhc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250YWluZXIgLSBhIHByZWV4aXN0aW5nIERPTSBlbGVtZW50IHRoYXRcbiAgICAgKiB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnRhaW5lciBmb3IgdGhlIHN2ZyBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFiZWwgLSB0ZXh0IHRoYXQgd2lsbCBiZSBkaXNwbGF5ZWQgYWRqYWNlbnRcbiAgICAgKiB0byB0aGUgaWNvblxuICAgICAqXG4gICAgICogQHBhcmFtIHRpdGxlIC0gYSB0b29sdGlwIGZvciB0aGUgaWNvblxuICAgICAqXG4gICAgICogQHBhcmFtIHRhZyAtIGlmIGNvbnRhaW5lciBpcyBub3QgZXhwbGljaXRseVxuICAgICAqIHByb3ZpZGVkLCB0aGlzIHRhZyB3aWxsIGJlIHVzZWQgd2hlbiBjcmVhdGluZyB0aGUgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvcHNTdHlsZSAtIHN0eWxlIHBhcmFtZXRlcnMgdGhhdCBnZXQgcGFzc2VkIHRvIFR5cGVTdHlsZSBpblxuICAgICAqIG9yZGVyIHRvIGdlbmVyYXRlIGEgc3R5bGUgY2xhc3MuIFRoZSBzdHlsZSBjbGFzcyB3aWxsIGJlIGFkZGVkXG4gICAgICogdG8gdGhlIGljb24gY29udGFpbmVyJ3MgY2xhc3Nlcywgd2hpbGUgdGhlIHN0eWxlIGl0c2VsZiB3aWxsIGJlXG4gICAgICogYXBwbGllZCB0byBhbnkgc3ZnIGVsZW1lbnRzIHdpdGhpbiB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBET00gZWxlbWVudCB0aGF0IGNvbnRhaW5zIGFuIChpbmxpbmUpIHN2ZyBlbGVtZW50XG4gICAgICogdGhhdCBkaXNwbGF5cyBhbiBpY29uXG4gICAgICovXG4gICAgZWxlbWVudChfYSA9IHt9KSB7XG4gICAgICAgIHZhciBfYiwgX2MsIF9kO1xuICAgICAgICB2YXIgeyBjbGFzc05hbWUsIGNvbnRhaW5lciwgbGFiZWwsIHRpdGxlLCB0YWcgPSAnZGl2JyB9ID0gX2EsIHByb3BzU3R5bGUgPSBfX3Jlc3QoX2EsIFtcImNsYXNzTmFtZVwiLCBcImNvbnRhaW5lclwiLCBcImxhYmVsXCIsIFwidGl0bGVcIiwgXCJ0YWdcIl0pO1xuICAgICAgICAvLyBjaGVjayBpZiBpY29uIGVsZW1lbnQgaXMgYWxyZWFkeSBzZXRcbiAgICAgICAgY29uc3QgbWF5YmVTdmdFbGVtZW50ID0gKF9iID0gY29udGFpbmVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKCgoX2QgPSAoX2MgPSBtYXliZVN2Z0VsZW1lbnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5kYXRhc2V0KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuaWNvbklkKSA9PT0gdGhpcy5fdXVpZCkge1xuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBleGlzdGluZyBpY29uIGVsZW1lbnRcbiAgICAgICAgICAgIHJldHVybiBtYXliZVN2Z0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgc3ZnIGh0bWwgaXMgdmFsaWRcbiAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IHRoaXMuX2luaXRTdmcoeyB1dWlkOiB0aGlzLl91dWlkIH0pO1xuICAgICAgICBpZiAoIXN2Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIGJhaWwgaWYgZmFpbGluZyBzaWxlbnRseSwgcmV0dXJuIGJsYW5rIGVsZW1lbnRcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmV0O1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAvLyB0YWtlIG93bmVyc2hpcCBieSByZW1vdmluZyBhbnkgZXhpc3RpbmcgY2hpbGRyZW5cbiAgICAgICAgICAgIHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5maXJzdENoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0ID0gc3ZnRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIGNvbnRhaW5lciBpZiBuZWVkZWRcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAgICAgICAgIHJldCA9IGNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFiZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgUHJpdmF0ZS5pbml0Q29udGFpbmVyKHsgY29udGFpbmVyLCBjbGFzc05hbWUsIHByb3BzU3R5bGUsIHRpdGxlIH0pO1xuICAgICAgICAvLyBhZGQgdGhlIHN2ZyBub2RlIHRvIHRoZSBjb250YWluZXJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z0VsZW1lbnQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBnZXQgc3Znc3RyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3Znc3RyO1xuICAgIH1cbiAgICBzZXQgc3Znc3RyKHN2Z3N0cikge1xuICAgICAgICB0aGlzLl9zdmdzdHIgPSBzdmdzdHI7XG4gICAgICAgIC8vIGFzc29jaWF0ZSBhIG5ldyB1bmlxdWUgaWQgd2l0aCB0aGlzIHBhcnRpY3VsYXIgc3Znc3RyXG4gICAgICAgIGNvbnN0IHV1aWQgPSBVVUlELnV1aWQ0KCk7XG4gICAgICAgIGNvbnN0IHV1aWRPbGQgPSB0aGlzLl91dWlkO1xuICAgICAgICB0aGlzLl91dWlkID0gdXVpZDtcbiAgICAgICAgLy8gdXBkYXRlIGljb24gZWxlbWVudHMgY3JlYXRlZCB1c2luZyAuZWxlbWVudCBtZXRob2RcbiAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1pY29uLWlkPVwiJHt1dWlkT2xkfVwiXWApXG4gICAgICAgICAgICAuZm9yRWFjaChvbGRTdmdFbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSB0aGlzLl9pbml0U3ZnKHsgdXVpZCB9KTtcbiAgICAgICAgICAgIGlmIChzdmdFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgb2xkU3ZnRWxlbWVudC5yZXBsYWNlV2l0aChzdmdFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRyaWdnZXIgdXBkYXRlIG9mIGljb24gZWxlbWVudHMgY3JlYXRlZCB1c2luZyBvdGhlciBtZXRob2RzXG4gICAgICAgIHRoaXMuX3N2Z1JlcGxhY2VkLmVtaXQoKTtcbiAgICB9XG4gICAgX2luaXRSZWFjdCgpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gUmVhY3QuZm9yd2FyZFJlZigoX2EgPSB7fSwgcmVmKSA9PiB7XG4gICAgICAgICAgICB2YXIgeyBjbGFzc05hbWUsIGNvbnRhaW5lciwgbGFiZWwsIHRpdGxlLCB0YWcgPSAnZGl2JyB9ID0gX2EsIHByb3BzU3R5bGUgPSBfX3Jlc3QoX2EsIFtcImNsYXNzTmFtZVwiLCBcImNvbnRhaW5lclwiLCBcImxhYmVsXCIsIFwidGl0bGVcIiwgXCJ0YWdcIl0pO1xuICAgICAgICAgICAgLy8gc2V0IHVwIGNvbXBvbmVudCBzdGF0ZSB2aWEgdXNlU3RhdGUgaG9va1xuICAgICAgICAgICAgY29uc3QgWywgc2V0SWRdID0gUmVhY3QudXNlU3RhdGUodGhpcy5fdXVpZCk7XG4gICAgICAgICAgICAvLyBzdWJzY3JpYmUgdG8gc3ZnIHJlcGxhY2VtZW50IHZpYSB1c2VFZmZlY3QgaG9va1xuICAgICAgICAgICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvblN2Z1JlcGxhY2VkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRJZCh0aGlzLl91dWlkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuX3N2Z1JlcGxhY2VkLmNvbm5lY3Qob25TdmdSZXBsYWNlZCk7XG4gICAgICAgICAgICAgICAgLy8gc3BlY2lmeSBjbGVhbnVwIGNhbGxiYWNrIGFzIGhvb2sgcmV0dXJuXG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3ZnUmVwbGFjZWQuZGlzY29ubmVjdChvblN2Z1JlcGxhY2VkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBtYWtlIGl0IHNvIHRoYXQgdGFnIGNhbiBiZSB1c2VkIGFzIGEganN4IGNvbXBvbmVudFxuICAgICAgICAgICAgY29uc3QgVGFnID0gdGFnO1xuICAgICAgICAgICAgLy8gZW5zdXJlIHRoYXQgc3ZnIGh0bWwgaXMgdmFsaWRcbiAgICAgICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSB0aGlzLl9pbml0U3ZnKCk7XG4gICAgICAgICAgICBpZiAoIXN2Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBiYWlsIGlmIGZhaWxpbmcgc2lsZW50bHlcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdmdDb21wb25lbnQgPSAoUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBPYmplY3QuYXNzaWduKHt9LCBnZXRSZWFjdEF0dHJzKHN2Z0VsZW1lbnQpLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogc3ZnRWxlbWVudC5pbm5lckhUTUwgfSwgcmVmOiByZWYgfSkpKTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBQcml2YXRlLmluaXRDb250YWluZXIoeyBjb250YWluZXIsIGNsYXNzTmFtZSwgcHJvcHNTdHlsZSwgdGl0bGUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdmdDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFnLCB7IGNsYXNzTmFtZTogY2xhc3NlcyhjbGFzc05hbWUsIGljb25TdHlsZShwcm9wc1N0eWxlKSkgfSxcbiAgICAgICAgICAgICAgICAgICAgc3ZnQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29tcG9uZW50LmRpc3BsYXlOYW1lID0gYExhYkljb25fJHt0aGlzLm5hbWV9YDtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgX2luaXRTdmcoeyB0aXRsZSwgdXVpZCB9ID0ge30pIHtcbiAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IExhYkljb24ucmVzb2x2ZVN2Zyh0aGlzKTtcbiAgICAgICAgaWYgKCFzdmdFbGVtZW50KSB7XG4gICAgICAgICAgICAvLyBiYWlsIG9uIG51bGwgc3ZnIGVsZW1lbnRcbiAgICAgICAgICAgIHJldHVybiBzdmdFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdmdFbGVtZW50LnRhZ05hbWUgIT09ICdwYXJzZXJlcnJvcicpIHtcbiAgICAgICAgICAgIC8vIHN2Z0VsZW1lbnQgaXMgYW4gYWN0dWFsIHN2ZyBub2RlLCBhdWdtZW50IGl0XG4gICAgICAgICAgICBzdmdFbGVtZW50LmRhdGFzZXQuaWNvbiA9IHRoaXMubmFtZTtcbiAgICAgICAgICAgIGlmICh1dWlkKSB7XG4gICAgICAgICAgICAgICAgc3ZnRWxlbWVudC5kYXRhc2V0Lmljb25JZCA9IHV1aWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgICAgICAgICBQcml2YXRlLnNldFRpdGxlU3ZnKHN2Z0VsZW1lbnQsIHRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG59XG5MYWJJY29uLl9kZWJ1ZyA9IGZhbHNlO1xuTGFiSWNvbi5faW5zdGFuY2VzID0gbmV3IE1hcCgpO1xuLy8gVE9ETzogcmVtb3ZlIHRoaXMgYWxvbmcgd2l0aCBVTlNUQUJMRV9nZXRSZWFjdFxuTGFiSWNvbi5faW5zdGFuY2VzQnlOYW1lQW5kQ2xhc3NOYW1lID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgTGFiSWNvbiBzdGF0aWNzLlxuICovXG4oZnVuY3Rpb24gKExhYkljb24pIHtcbiAgICAvKioqKioqKioqKioqKipcbiAgICAgKiBpbnRlcmZhY2VzICpcbiAgICAgKioqKioqKioqKioqKiovXG4gICAgLyoqKioqKioqKioqXG4gICAgICogY2xhc3NlcyAqXG4gICAgICoqKioqKioqKioqL1xuICAgIC8qKlxuICAgICAqIEJhc2UgaW1wbGVtZW50YXRpb24gb2YgSVJlbmRlcmVyLlxuICAgICAqL1xuICAgIGNsYXNzIFJlbmRlcmVyIHtcbiAgICAgICAgY29uc3RydWN0b3IoX2ljb24sIF9yZW5kZXJlck9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgdGhpcy5faWNvbiA9IF9pY29uO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXJPcHRpb25zID0gX3JlbmRlcmVyT3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHlcbiAgICAgICAgcmVuZGVyKGNvbnRhaW5lciwgX29wdGlvbnMgPSB7fSkgeyB9XG4gICAgICAgIC8vIFRPRE86IG1ha2UgdW5yZW5kZXJlciBvcHRpb25hbCBvbmNlIEBsdW1pbm8vdmlydHVhbGRvbSA+IDEuNC4xIGlzIHVzZWRcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5XG4gICAgICAgIHVucmVuZGVyKGNvbnRhaW5lcikgeyB9XG4gICAgfVxuICAgIExhYkljb24uUmVuZGVyZXIgPSBSZW5kZXJlcjtcbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRhdGlvbiBvZiBJUmVuZGVyZXIgdGhhdCBjcmVhdGVzIHRoZSBpY29uIHN2ZyBub2RlXG4gICAgICogYXMgYSBET00gZWxlbWVudC5cbiAgICAgKi9cbiAgICBjbGFzcyBFbGVtZW50UmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJlciB7XG4gICAgICAgIHJlbmRlcihjb250YWluZXIsIF9vcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgIC8vIFRPRE86IG1vdmUgdGhpcyB0aXRsZSBmaXggdG8gdGhlIEx1bWlubyBzaWRlXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCd0aXRsZScpO1xuICAgICAgICAgICAgLy8gVE9ETzogZGVjaWRlIGhvdyB0byBpbXBsZW1lbnQgcmVuZGVyaW5nIG9mIHBhc3NlZCBpbiBjaGlsZCB2aXJ0dWFsIG5vZGVzXG4gICAgICAgICAgICB0aGlzLl9pY29uLmVsZW1lbnQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgY29udGFpbmVyIH0sIHRoaXMuX3JlbmRlcmVyT3B0aW9ucy5wcm9wcyksIF9vcHRpb25zLnByb3BzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5XG4gICAgICAgIHVucmVuZGVyKGNvbnRhaW5lcikgeyB9XG4gICAgfVxuICAgIExhYkljb24uRWxlbWVudFJlbmRlcmVyID0gRWxlbWVudFJlbmRlcmVyO1xuICAgIC8qKlxuICAgICAqIEltcGxlbWVudGF0aW9uIG9mIElSZW5kZXJlciB0aGF0IGNyZWF0ZXMgdGhlIGljb24gc3ZnIG5vZGVcbiAgICAgKiBhcyBhIFJlYWN0IGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBjbGFzcyBSZWFjdFJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xuICAgICAgICByZW5kZXIoY29udGFpbmVyLCBfb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRoaXMgdGl0bGUgZml4IHRvIHRoZSBMdW1pbm8gc2lkZVxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGRlY2lkZSBob3cgdG8gaW1wbGVtZW50IHJlbmRlcmluZyBvZiBwYXNzZWQgaW4gY2hpbGQgdmlydHVhbCBub2Rlc1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0RE9NLnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KHRoaXMuX2ljb24ucmVhY3QsIE9iamVjdC5hc3NpZ24oeyBjb250YWluZXI6IGNvbnRhaW5lciB9LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3JlbmRlcmVyT3B0aW9ucy5wcm9wcyksIF9vcHRpb25zLnByb3BzKSkpLCBjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHVucmVuZGVyKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIExhYkljb24uUmVhY3RSZW5kZXJlciA9IFJlYWN0UmVuZGVyZXI7XG59KShMYWJJY29uIHx8IChMYWJJY29uID0ge30pKTtcbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgZnVuY3Rpb24gYmxhbmtFbGVtZW50KF9hKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgdmFyIHsgY2xhc3NOYW1lID0gJycsIGNvbnRhaW5lciwgbGFiZWwsIHRpdGxlLCB0YWcgPSAnZGl2JyB9ID0gX2EsIHByb3BzU3R5bGUgPSBfX3Jlc3QoX2EsIFtcImNsYXNzTmFtZVwiLCBcImNvbnRhaW5lclwiLCBcImxhYmVsXCIsIFwidGl0bGVcIiwgXCJ0YWdcIl0pO1xuICAgICAgICBpZiAoKChfYiA9IGNvbnRhaW5lcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsYXNzTmFtZSkgPT09IGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgLy8gbm90aGluZyBuZWVkcyBkb2luZywgcmV0dXJuIHRoZSBpY29uIG5vZGVcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgLy8gdGFrZSBvd25lcnNoaXAgYnkgcmVtb3ZpbmcgYW55IGV4aXN0aW5nIGNoaWxkcmVuXG4gICAgICAgICAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuZmlyc3RDaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIGNvbnRhaW5lciBpZiBuZWVkZWRcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFiZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgUHJpdmF0ZS5pbml0Q29udGFpbmVyKHsgY29udGFpbmVyLCBjbGFzc05hbWUsIHByb3BzU3R5bGUsIHRpdGxlIH0pO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cbiAgICBQcml2YXRlLmJsYW5rRWxlbWVudCA9IGJsYW5rRWxlbWVudDtcbiAgICBQcml2YXRlLmJsYW5rUmVhY3QgPSBSZWFjdC5mb3J3YXJkUmVmKChfYSwgcmVmKSA9PiB7XG4gICAgICAgIHZhciB7IGNsYXNzTmFtZSA9ICcnLCBjb250YWluZXIsIGxhYmVsLCB0aXRsZSwgdGFnID0gJ2RpdicgfSA9IF9hLCBwcm9wc1N0eWxlID0gX19yZXN0KF9hLCBbXCJjbGFzc05hbWVcIiwgXCJjb250YWluZXJcIiwgXCJsYWJlbFwiLCBcInRpdGxlXCIsIFwidGFnXCJdKTtcbiAgICAgICAgLy8gbWFrZSBpdCBzbyB0aGF0IHRhZyBjYW4gYmUgdXNlZCBhcyBhIGpzeCBjb21wb25lbnRcbiAgICAgICAgY29uc3QgVGFnID0gdGFnO1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBpbml0Q29udGFpbmVyKHsgY29udGFpbmVyLCBjbGFzc05hbWUsIHByb3BzU3R5bGUsIHRpdGxlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgcmVmIGlzIGRlZmluZWQsIHdlIGNyZWF0ZSBhIGJsYW5rIHN2ZyBub2RlIGFuZCBwb2ludCByZWYgdG8gaXRcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWcsIHsgY2xhc3NOYW1lOiBjbGFzc2VzKGNsYXNzTmFtZSwgaWNvblN0eWxlKHByb3BzU3R5bGUpKSB9LFxuICAgICAgICAgICAgICAgIHJlZiAmJiBibGFua0ljb24ucmVhY3QoeyByZWYgfSksXG4gICAgICAgICAgICAgICAgbGFiZWwpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGluaXRDb250YWluZXIoeyBjb250YWluZXIsIGNsYXNzTmFtZSwgcHJvcHNTdHlsZSwgdGl0bGUgfSkge1xuICAgICAgICBpZiAodGl0bGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGFpbmVyLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xhc3NTdHlsZSA9IGljb25TdHlsZShwcm9wc1N0eWxlKTtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvdmVycmlkZSB0aGUgY29udGFpbmVyIGNsYXNzIHdpdGggZXhwbGljaXRseSBwYXNzZWQtaW4gY2xhc3MgKyBzdHlsZSBjbGFzc1xuICAgICAgICAgICAgY29uc3QgY2xhc3NSZXNvbHZlZCA9IGNsYXNzZXMoY2xhc3NOYW1lLCBjbGFzc1N0eWxlKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBjbGFzc1Jlc29sdmVkO1xuICAgICAgICAgICAgcmV0dXJuIGNsYXNzUmVzb2x2ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2xhc3NTdHlsZSkge1xuICAgICAgICAgICAgLy8gYWRkIHRoZSBzdHlsZSBjbGFzcyB0byB0aGUgY29udGFpbmVyIGNsYXNzXG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChjbGFzc1N0eWxlKTtcbiAgICAgICAgICAgIHJldHVybiBjbGFzc1N0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUuaW5pdENvbnRhaW5lciA9IGluaXRDb250YWluZXI7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5hbWUgLSBpY29uIG5hbWUuIE1heSBiZSBuYW1lc3BhY2VkIGFzIHBlciBgc29tZS1wa2c6Zm9vLWJhcmBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGdpdmVuIGEgbmFtZSBvZiBgc29tZS1wa2c6Zm9vLWJhcmAsIHJldHVybnMgYGpwLUZvb0Jhckljb25gXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmFtZVRvQ2xhc3NOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdqcC0nICsgVGV4dC5jYW1lbENhc2UobmFtZS5zcGxpdCgnOicpLnBvcCgpLCB0cnVlKSArICdJY29uJztcbiAgICB9XG4gICAgUHJpdmF0ZS5uYW1lVG9DbGFzc05hbWUgPSBuYW1lVG9DbGFzc05hbWU7XG4gICAgZnVuY3Rpb24gc2V0VGl0bGVTdmcoc3ZnTm9kZSwgdGl0bGUpIHtcbiAgICAgICAgLy8gYWRkIGEgdGl0bGUgbm9kZSB0byB0aGUgdG9wIGxldmVsIHN2ZyBub2RlXG4gICAgICAgIGxldCB0aXRsZU5vZGVzID0gc3ZnTm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGl0bGUnKTtcbiAgICAgICAgaWYgKHRpdGxlTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aXRsZU5vZGVzWzBdLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgdGl0bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGl0bGUnKTtcbiAgICAgICAgICAgIHRpdGxlTm9kZS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgICAgICAgICAgc3ZnTm9kZS5hcHBlbmRDaGlsZCh0aXRsZU5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUuc2V0VGl0bGVTdmcgPSBzZXRUaXRsZVN2Zztcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8gbmVlZCB0byBiZSBhdCB0aGUgYm90dG9tIHNpbmNlIGNvbnN0cnVjdG9yIGRlcGVuZHMgb24gUHJpdmF0ZVxuZXhwb3J0IGNvbnN0IGJhZEljb24gPSBuZXcgTGFiSWNvbih7XG4gICAgbmFtZTogJ3VpLWNvbXBvbmVudHM6YmFkJyxcbiAgICBzdmdzdHI6IGJhZFN2Z3N0clxufSk7XG5leHBvcnQgY29uc3QgYmxhbmtJY29uID0gbmV3IExhYkljb24oe1xuICAgIG5hbWU6ICd1aS1jb21wb25lbnRzOmJsYW5rJyxcbiAgICBzdmdzdHI6IGJsYW5rU3Znc3RyXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhYmljb24uanMubWFwIiwidmFyIG1hcCA9IHtcblx0XCIuL2FmXCI6IFwiSy90Y1wiLFxuXHRcIi4vYWYuanNcIjogXCJLL3RjXCIsXG5cdFwiLi9hclwiOiBcImpuTzRcIixcblx0XCIuL2FyLWR6XCI6IFwibzFiRVwiLFxuXHRcIi4vYXItZHouanNcIjogXCJvMWJFXCIsXG5cdFwiLi9hci1rd1wiOiBcIlFqNEpcIixcblx0XCIuL2FyLWt3LmpzXCI6IFwiUWo0SlwiLFxuXHRcIi4vYXItbHlcIjogXCJIUDNoXCIsXG5cdFwiLi9hci1seS5qc1wiOiBcIkhQM2hcIixcblx0XCIuL2FyLW1hXCI6IFwiQ29SSlwiLFxuXHRcIi4vYXItbWEuanNcIjogXCJDb1JKXCIsXG5cdFwiLi9hci1zYVwiOiBcImdqQ1RcIixcblx0XCIuL2FyLXNhLmpzXCI6IFwiZ2pDVFwiLFxuXHRcIi4vYXItdG5cIjogXCJiWU02XCIsXG5cdFwiLi9hci10bi5qc1wiOiBcImJZTTZcIixcblx0XCIuL2FyLmpzXCI6IFwiam5PNFwiLFxuXHRcIi4vYXpcIjogXCJTRnhXXCIsXG5cdFwiLi9hei5qc1wiOiBcIlNGeFdcIixcblx0XCIuL2JlXCI6IFwiSDhFRFwiLFxuXHRcIi4vYmUuanNcIjogXCJIOEVEXCIsXG5cdFwiLi9iZ1wiOiBcImhLcnNcIixcblx0XCIuL2JnLmpzXCI6IFwiaEtyc1wiLFxuXHRcIi4vYm1cIjogXCJwL3JMXCIsXG5cdFwiLi9ibS5qc1wiOiBcInAvckxcIixcblx0XCIuL2JuXCI6IFwia0VPYVwiLFxuXHRcIi4vYm4uanNcIjogXCJrRU9hXCIsXG5cdFwiLi9ib1wiOiBcIjBtbytcIixcblx0XCIuL2JvLmpzXCI6IFwiMG1vK1wiLFxuXHRcIi4vYnJcIjogXCJhSWRmXCIsXG5cdFwiLi9ici5qc1wiOiBcImFJZGZcIixcblx0XCIuL2JzXCI6IFwiSlZTSlwiLFxuXHRcIi4vYnMuanNcIjogXCJKVlNKXCIsXG5cdFwiLi9jYVwiOiBcIjF4WjRcIixcblx0XCIuL2NhLmpzXCI6IFwiMXhaNFwiLFxuXHRcIi4vY3NcIjogXCJQQTJyXCIsXG5cdFwiLi9jcy5qc1wiOiBcIlBBMnJcIixcblx0XCIuL2N2XCI6IFwiQSt4YVwiLFxuXHRcIi4vY3YuanNcIjogXCJBK3hhXCIsXG5cdFwiLi9jeVwiOiBcImw1ZXBcIixcblx0XCIuL2N5LmpzXCI6IFwibDVlcFwiLFxuXHRcIi4vZGFcIjogXCJEeFF2XCIsXG5cdFwiLi9kYS5qc1wiOiBcIkR4UXZcIixcblx0XCIuL2RlXCI6IFwidEdsWFwiLFxuXHRcIi4vZGUtYXRcIjogXCJzK3VrXCIsXG5cdFwiLi9kZS1hdC5qc1wiOiBcInMrdWtcIixcblx0XCIuL2RlLWNoXCI6IFwidTNHSVwiLFxuXHRcIi4vZGUtY2guanNcIjogXCJ1M0dJXCIsXG5cdFwiLi9kZS5qc1wiOiBcInRHbFhcIixcblx0XCIuL2R2XCI6IFwiV1lyalwiLFxuXHRcIi4vZHYuanNcIjogXCJXWXJqXCIsXG5cdFwiLi9lbFwiOiBcImpVZVlcIixcblx0XCIuL2VsLmpzXCI6IFwialVlWVwiLFxuXHRcIi4vZW4tU0dcIjogXCJ6YXZFXCIsXG5cdFwiLi9lbi1TRy5qc1wiOiBcInphdkVcIixcblx0XCIuL2VuLWF1XCI6IFwiRG12aVwiLFxuXHRcIi4vZW4tYXUuanNcIjogXCJEbXZpXCIsXG5cdFwiLi9lbi1jYVwiOiBcIk9JWWlcIixcblx0XCIuL2VuLWNhLmpzXCI6IFwiT0lZaVwiLFxuXHRcIi4vZW4tZ2JcIjogXCJPYWE3XCIsXG5cdFwiLi9lbi1nYi5qc1wiOiBcIk9hYTdcIixcblx0XCIuL2VuLWllXCI6IFwiNGRPd1wiLFxuXHRcIi4vZW4taWUuanNcIjogXCI0ZE93XCIsXG5cdFwiLi9lbi1pbFwiOiBcImN6TW9cIixcblx0XCIuL2VuLWlsLmpzXCI6IFwiY3pNb1wiLFxuXHRcIi4vZW4tbnpcIjogXCJiMUR5XCIsXG5cdFwiLi9lbi1uei5qc1wiOiBcImIxRHlcIixcblx0XCIuL2VvXCI6IFwiWmR1b1wiLFxuXHRcIi4vZW8uanNcIjogXCJaZHVvXCIsXG5cdFwiLi9lc1wiOiBcImlZdUxcIixcblx0XCIuL2VzLWRvXCI6IFwiQ2p6VFwiLFxuXHRcIi4vZXMtZG8uanNcIjogXCJDanpUXCIsXG5cdFwiLi9lcy11c1wiOiBcIlZjbHFcIixcblx0XCIuL2VzLXVzLmpzXCI6IFwiVmNscVwiLFxuXHRcIi4vZXMuanNcIjogXCJpWXVMXCIsXG5cdFwiLi9ldFwiOiBcIjdCakNcIixcblx0XCIuL2V0LmpzXCI6IFwiN0JqQ1wiLFxuXHRcIi4vZXVcIjogXCJEL0pNXCIsXG5cdFwiLi9ldS5qc1wiOiBcIkQvSk1cIixcblx0XCIuL2ZhXCI6IFwiamZTQ1wiLFxuXHRcIi4vZmEuanNcIjogXCJqZlNDXCIsXG5cdFwiLi9maVwiOiBcImdla0JcIixcblx0XCIuL2ZpLmpzXCI6IFwiZ2VrQlwiLFxuXHRcIi4vZm9cIjogXCJCeUY0XCIsXG5cdFwiLi9mby5qc1wiOiBcIkJ5RjRcIixcblx0XCIuL2ZyXCI6IFwibnlZY1wiLFxuXHRcIi4vZnItY2FcIjogXCIyZmpuXCIsXG5cdFwiLi9mci1jYS5qc1wiOiBcIjJmam5cIixcblx0XCIuL2ZyLWNoXCI6IFwiRGtreVwiLFxuXHRcIi4vZnItY2guanNcIjogXCJEa2t5XCIsXG5cdFwiLi9mci5qc1wiOiBcIm55WWNcIixcblx0XCIuL2Z5XCI6IFwiY1JpeFwiLFxuXHRcIi4vZnkuanNcIjogXCJjUml4XCIsXG5cdFwiLi9nYVwiOiBcIlVTQ3hcIixcblx0XCIuL2dhLmpzXCI6IFwiVVNDeFwiLFxuXHRcIi4vZ2RcIjogXCI5clJpXCIsXG5cdFwiLi9nZC5qc1wiOiBcIjlyUmlcIixcblx0XCIuL2dsXCI6IFwiaUVEZFwiLFxuXHRcIi4vZ2wuanNcIjogXCJpRURkXCIsXG5cdFwiLi9nb20tbGF0blwiOiBcIkRLcitcIixcblx0XCIuL2dvbS1sYXRuLmpzXCI6IFwiREtyK1wiLFxuXHRcIi4vZ3VcIjogXCI0TVYzXCIsXG5cdFwiLi9ndS5qc1wiOiBcIjRNVjNcIixcblx0XCIuL2hlXCI6IFwieDZwSFwiLFxuXHRcIi4vaGUuanNcIjogXCJ4NnBIXCIsXG5cdFwiLi9oaVwiOiBcIjNFMXJcIixcblx0XCIuL2hpLmpzXCI6IFwiM0UxclwiLFxuXHRcIi4vaHJcIjogXCJTNmxuXCIsXG5cdFwiLi9oci5qc1wiOiBcIlM2bG5cIixcblx0XCIuL2h1XCI6IFwiV3hSbFwiLFxuXHRcIi4vaHUuanNcIjogXCJXeFJsXCIsXG5cdFwiLi9oeS1hbVwiOiBcIjFyWXlcIixcblx0XCIuL2h5LWFtLmpzXCI6IFwiMXJZeVwiLFxuXHRcIi4vaWRcIjogXCJVRGhSXCIsXG5cdFwiLi9pZC5qc1wiOiBcIlVEaFJcIixcblx0XCIuL2lzXCI6IFwiQlZnM1wiLFxuXHRcIi4vaXMuanNcIjogXCJCVmczXCIsXG5cdFwiLi9pdFwiOiBcImJwaWhcIixcblx0XCIuL2l0LWNoXCI6IFwiYnhLWFwiLFxuXHRcIi4vaXQtY2guanNcIjogXCJieEtYXCIsXG5cdFwiLi9pdC5qc1wiOiBcImJwaWhcIixcblx0XCIuL2phXCI6IFwiQjU1TlwiLFxuXHRcIi4vamEuanNcIjogXCJCNTVOXCIsXG5cdFwiLi9qdlwiOiBcInRVQ3ZcIixcblx0XCIuL2p2LmpzXCI6IFwidFVDdlwiLFxuXHRcIi4va2FcIjogXCJJQnRaXCIsXG5cdFwiLi9rYS5qc1wiOiBcIklCdFpcIixcblx0XCIuL2trXCI6IFwiYlhtN1wiLFxuXHRcIi4va2suanNcIjogXCJiWG03XCIsXG5cdFwiLi9rbVwiOiBcIjZCMFlcIixcblx0XCIuL2ttLmpzXCI6IFwiNkIwWVwiLFxuXHRcIi4va25cIjogXCJQcEl3XCIsXG5cdFwiLi9rbi5qc1wiOiBcIlBwSXdcIixcblx0XCIuL2tvXCI6IFwiSXZpK1wiLFxuXHRcIi4va28uanNcIjogXCJJdmkrXCIsXG5cdFwiLi9rdVwiOiBcIkpDRi9cIixcblx0XCIuL2t1LmpzXCI6IFwiSkNGL1wiLFxuXHRcIi4va3lcIjogXCJsZ250XCIsXG5cdFwiLi9reS5qc1wiOiBcImxnbnRcIixcblx0XCIuL2xiXCI6IFwiUkF3UVwiLFxuXHRcIi4vbGIuanNcIjogXCJSQXdRXCIsXG5cdFwiLi9sb1wiOiBcInNwM3pcIixcblx0XCIuL2xvLmpzXCI6IFwic3AzelwiLFxuXHRcIi4vbHRcIjogXCJKdmxXXCIsXG5cdFwiLi9sdC5qc1wiOiBcIkp2bFdcIixcblx0XCIuL2x2XCI6IFwidVh3SVwiLFxuXHRcIi4vbHYuanNcIjogXCJ1WHdJXCIsXG5cdFwiLi9tZVwiOiBcIktUejBcIixcblx0XCIuL21lLmpzXCI6IFwiS1R6MFwiLFxuXHRcIi4vbWlcIjogXCJhSXNuXCIsXG5cdFwiLi9taS5qc1wiOiBcImFJc25cIixcblx0XCIuL21rXCI6IFwiYVFrVVwiLFxuXHRcIi4vbWsuanNcIjogXCJhUWtVXCIsXG5cdFwiLi9tbFwiOiBcIkF2dllcIixcblx0XCIuL21sLmpzXCI6IFwiQXZ2WVwiLFxuXHRcIi4vbW5cIjogXCJsWXRRXCIsXG5cdFwiLi9tbi5qc1wiOiBcImxZdFFcIixcblx0XCIuL21yXCI6IFwiT2IwWlwiLFxuXHRcIi4vbXIuanNcIjogXCJPYjBaXCIsXG5cdFwiLi9tc1wiOiBcIjYrUUJcIixcblx0XCIuL21zLW15XCI6IFwiWkFNUFwiLFxuXHRcIi4vbXMtbXkuanNcIjogXCJaQU1QXCIsXG5cdFwiLi9tcy5qc1wiOiBcIjYrUUJcIixcblx0XCIuL210XCI6IFwiRzBVeVwiLFxuXHRcIi4vbXQuanNcIjogXCJHMFV5XCIsXG5cdFwiLi9teVwiOiBcImhvbkZcIixcblx0XCIuL215LmpzXCI6IFwiaG9uRlwiLFxuXHRcIi4vbmJcIjogXCJiT010XCIsXG5cdFwiLi9uYi5qc1wiOiBcImJPTXRcIixcblx0XCIuL25lXCI6IFwiT2prVFwiLFxuXHRcIi4vbmUuanNcIjogXCJPamtUXCIsXG5cdFwiLi9ubFwiOiBcIitzMGdcIixcblx0XCIuL25sLWJlXCI6IFwiMnlrdlwiLFxuXHRcIi4vbmwtYmUuanNcIjogXCIyeWt2XCIsXG5cdFwiLi9ubC5qc1wiOiBcIitzMGdcIixcblx0XCIuL25uXCI6IFwidUV5ZVwiLFxuXHRcIi4vbm4uanNcIjogXCJ1RXllXCIsXG5cdFwiLi9wYS1pblwiOiBcIjgvK1JcIixcblx0XCIuL3BhLWluLmpzXCI6IFwiOC8rUlwiLFxuXHRcIi4vcGxcIjogXCJqVmRDXCIsXG5cdFwiLi9wbC5qc1wiOiBcImpWZENcIixcblx0XCIuL3B0XCI6IFwiOG1CRFwiLFxuXHRcIi4vcHQtYnJcIjogXCIwdFJrXCIsXG5cdFwiLi9wdC1ici5qc1wiOiBcIjB0UmtcIixcblx0XCIuL3B0LmpzXCI6IFwiOG1CRFwiLFxuXHRcIi4vcm9cIjogXCJseXhvXCIsXG5cdFwiLi9yby5qc1wiOiBcImx5eG9cIixcblx0XCIuL3J1XCI6IFwibFh6b1wiLFxuXHRcIi4vcnUuanNcIjogXCJsWHpvXCIsXG5cdFwiLi9zZFwiOiBcIlo0UU1cIixcblx0XCIuL3NkLmpzXCI6IFwiWjRRTVwiLFxuXHRcIi4vc2VcIjogXCIvLzl3XCIsXG5cdFwiLi9zZS5qc1wiOiBcIi8vOXdcIixcblx0XCIuL3NpXCI6IFwiN2FWOVwiLFxuXHRcIi4vc2kuanNcIjogXCI3YVY5XCIsXG5cdFwiLi9za1wiOiBcImUrYWVcIixcblx0XCIuL3NrLmpzXCI6IFwiZSthZVwiLFxuXHRcIi4vc2xcIjogXCJnVlZLXCIsXG5cdFwiLi9zbC5qc1wiOiBcImdWVktcIixcblx0XCIuL3NxXCI6IFwieVBNc1wiLFxuXHRcIi4vc3EuanNcIjogXCJ5UE1zXCIsXG5cdFwiLi9zclwiOiBcInp4NlNcIixcblx0XCIuL3NyLWN5cmxcIjogXCJFK2xWXCIsXG5cdFwiLi9zci1jeXJsLmpzXCI6IFwiRStsVlwiLFxuXHRcIi4vc3IuanNcIjogXCJ6eDZTXCIsXG5cdFwiLi9zc1wiOiBcIlVyMURcIixcblx0XCIuL3NzLmpzXCI6IFwiVXIxRFwiLFxuXHRcIi4vc3ZcIjogXCJYNzA5XCIsXG5cdFwiLi9zdi5qc1wiOiBcIlg3MDlcIixcblx0XCIuL3N3XCI6IFwiZE53QVwiLFxuXHRcIi4vc3cuanNcIjogXCJkTndBXCIsXG5cdFwiLi90YVwiOiBcIlBlVVdcIixcblx0XCIuL3RhLmpzXCI6IFwiUGVVV1wiLFxuXHRcIi4vdGVcIjogXCJYTHZOXCIsXG5cdFwiLi90ZS5qc1wiOiBcIlhMdk5cIixcblx0XCIuL3RldFwiOiBcIlYyeDlcIixcblx0XCIuL3RldC5qc1wiOiBcIlYyeDlcIixcblx0XCIuL3RnXCI6IFwiT3h2NlwiLFxuXHRcIi4vdGcuanNcIjogXCJPeHY2XCIsXG5cdFwiLi90aFwiOiBcIkVPZ1dcIixcblx0XCIuL3RoLmpzXCI6IFwiRU9nV1wiLFxuXHRcIi4vdGwtcGhcIjogXCJEemkwXCIsXG5cdFwiLi90bC1waC5qc1wiOiBcIkR6aTBcIixcblx0XCIuL3RsaFwiOiBcInozVmRcIixcblx0XCIuL3RsaC5qc1wiOiBcInozVmRcIixcblx0XCIuL3RyXCI6IFwiRG9IclwiLFxuXHRcIi4vdHIuanNcIjogXCJEb0hyXCIsXG5cdFwiLi90emxcIjogXCJ6MUZDXCIsXG5cdFwiLi90emwuanNcIjogXCJ6MUZDXCIsXG5cdFwiLi90em1cIjogXCJ3UWs5XCIsXG5cdFwiLi90em0tbGF0blwiOiBcInRUM0pcIixcblx0XCIuL3R6bS1sYXRuLmpzXCI6IFwidFQzSlwiLFxuXHRcIi4vdHptLmpzXCI6IFwid1FrOVwiLFxuXHRcIi4vdWctY25cIjogXCJZUmV4XCIsXG5cdFwiLi91Zy1jbi5qc1wiOiBcIllSZXhcIixcblx0XCIuL3VrXCI6IFwicmFMclwiLFxuXHRcIi4vdWsuanNcIjogXCJyYUxyXCIsXG5cdFwiLi91clwiOiBcIlVwUVdcIixcblx0XCIuL3VyLmpzXCI6IFwiVXBRV1wiLFxuXHRcIi4vdXpcIjogXCJMb3hvXCIsXG5cdFwiLi91ei1sYXRuXCI6IFwiQVE2OFwiLFxuXHRcIi4vdXotbGF0bi5qc1wiOiBcIkFRNjhcIixcblx0XCIuL3V6LmpzXCI6IFwiTG94b1wiLFxuXHRcIi4vdmlcIjogXCJLU0Y4XCIsXG5cdFwiLi92aS5qc1wiOiBcIktTRjhcIixcblx0XCIuL3gtcHNldWRvXCI6IFwiL1g1dlwiLFxuXHRcIi4veC1wc2V1ZG8uanNcIjogXCIvWDV2XCIsXG5cdFwiLi95b1wiOiBcImZ6UGdcIixcblx0XCIuL3lvLmpzXCI6IFwiZnpQZ1wiLFxuXHRcIi4vemgtY25cIjogXCJYRHBnXCIsXG5cdFwiLi96aC1jbi5qc1wiOiBcIlhEcGdcIixcblx0XCIuL3poLWhrXCI6IFwiU2F0T1wiLFxuXHRcIi4vemgtaGsuanNcIjogXCJTYXRPXCIsXG5cdFwiLi96aC10d1wiOiBcImtPcE5cIixcblx0XCIuL3poLXR3LmpzXCI6IFwia09wTlwiXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gXCJSbmhaXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbi8qKlxuICogQSBwaG9zcGhvciB3aWRnZXQgd2hpY2ggd3JhcHMgYW4gSUZyYW1lLlxuICovXG5leHBvcnQgY2xhc3MgSUZyYW1lIGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSUZyYW1lIHdpZGdldC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBub2RlOiBQcml2YXRlLmNyZWF0ZU5vZGUoKSB9KTtcbiAgICAgICAgdGhpcy5fc2FuZGJveCA9IFtdO1xuICAgICAgICB0aGlzLmFkZENsYXNzKCdqcC1JRnJhbWUnKTtcbiAgICAgICAgdGhpcy5zYW5kYm94ID0gb3B0aW9ucy5zYW5kYm94IHx8IFtdO1xuICAgICAgICB0aGlzLnJlZmVycmVyUG9saWN5ID0gb3B0aW9ucy5yZWZlcnJlclBvbGljeSB8fCAnbm8tcmVmZXJyZXInO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWZlcnJlciBwb2xpY3kgZm9yIHRoZSBpZnJhbWUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogQnkgZGVmYXVsdCwgYG5vLXJlZmVycmVyYCBpcyBjaG9zZW4uXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxJRnJhbWVFbGVtZW50L3JlZmVycmVyUG9saWN5XG4gICAgICovXG4gICAgZ2V0IHJlZmVycmVyUG9saWN5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmZXJyZXJQb2xpY3k7XG4gICAgfVxuICAgIHNldCByZWZlcnJlclBvbGljeSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fcmVmZXJyZXJQb2xpY3kgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVmZXJyZXJQb2xpY3kgPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgaWZyYW1lID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdyZWZlcnJlcnBvbGljeScsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhjZXB0aW9ucyB0byB0aGUgc2FuZGJveGluZy5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBCeSBkZWZhdWx0LCBhbGwgc2FuZGJveGluZyBzZWN1cml0eSBwb2xpY2llcyBhcmUgZW5hYmxlZC5cbiAgICAgKiBUaGlzIHNldHRpbmcgYWxsb3dzIHRoZSB1c2VyIHRvIHNlbGVjdGl2ZWx5IGRpc2FibGUgdGhlc2VcbiAgICAgKiBwb2xpY2llcy4gVGhpcyBzaG91bGQgYmUgZG9uZSB3aXRoIGNhcmUsIGFzIGl0IGNhblxuICAgICAqIGludHJvZHVjZSBzZWN1cml0eSByaXNrcywgYW5kIHBvc3NpYmx5IGFsbG93IG1hbGljaW91c1xuICAgICAqIHNpdGVzIHRvIGV4ZWN1dGUgY29kZSBpbiBhIEp1cHl0ZXJMYWIgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaWZyYW1lXG4gICAgICovXG4gICAgZ2V0IHNhbmRib3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYW5kYm94LnNsaWNlKCk7XG4gICAgfVxuICAgIHNldCBzYW5kYm94KHZhbHVlcykge1xuICAgICAgICB0aGlzLl9zYW5kYm94ID0gdmFsdWVzLnNsaWNlKCk7XG4gICAgICAgIGNvbnN0IGlmcmFtZSA9IHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcbiAgICAgICAgY29uc3QgZXhjZXB0aW9ucyA9IHZhbHVlcy5sZW5ndGggPyB2YWx1ZXMuam9pbignICcpIDogJyc7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NhbmRib3gnLCBleGNlcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHVybCBvZiB0aGUgSUZyYW1lLlxuICAgICAqL1xuICAgIGdldCB1cmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUucXVlcnlTZWxlY3RvcignaWZyYW1lJykuZ2V0QXR0cmlidXRlKCdzcmMnKSB8fCAnJztcbiAgICB9XG4gICAgc2V0IHVybCh1cmwpIHtcbiAgICAgICAgdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcbiAgICB9XG59XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBwcml2YXRlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBtYWluIGNvbnRlbnQgbm9kZSBvZiBhbiBpZnJhbWUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU5vZGUoKSB7XG4gICAgICAgIGxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxldCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc2FuZGJveCcsICcnKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgaWZyYW1lLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBQcml2YXRlLmNyZWF0ZU5vZGUgPSBjcmVhdGVOb2RlO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZnJhbWUuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgSnVweXRlckxhYk1lbnUgfSBmcm9tICcuL2xhYm1lbnUnO1xuLyoqXG4gKiBBbiBleHRlbnNpYmxlIFJ1biBtZW51IGZvciB0aGUgYXBwbGljYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5NZW51IGV4dGVuZHMgSnVweXRlckxhYk1lbnUge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCB0aGUgcnVuIG1lbnUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5tZW51LnRpdGxlLmxhYmVsID0gJ1J1bic7XG4gICAgICAgIHRoaXMuY29kZVJ1bm5lcnMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBydW4gbWVudS5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmNvZGVSdW5uZXJzLmNsZWFyKCk7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW4uanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgdmlld0JveD0nMCAwIDI1IDI1JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ3BhdGggY2xhc3M9J2pwLWljb24yJyBkPSdNMS44NjA5NCAxMS40NDA5QzAuODI2NDQ4IDguNzcwMjcgMC44NjM3NzkgNi4wNTc2NCAxLjI0OTA3IDQuMTk5MzJDMi40ODIwNiAzLjkzMzQ3IDQuMDgwNjggMy40MDM0NyA1LjYwMTAyIDIuODQ0OUM3LjIzNTQ5IDIuMjQ0NCA4Ljg1NjY2IDEuNTgxNSA5Ljk4NzYgMS4wOTUzOUMxMS4wNTk3IDEuNTgzNDEgMTIuNjA5NCAyLjI0NDQgMTQuMjE4IDIuODQzMzlDMTUuNzUwMyAzLjQxMzk0IDE3LjM5OTUgMy45NTI1OCAxOC43NTM5IDQuMjEzODVDMTkuMTM2NCA2LjA3MTc3IDE5LjE3MDkgOC43NzcyMiAxOC4xMzkgMTEuNDQwOUMxNy4wMzAzIDE0LjMwMzIgMTQuNjY2OCAxNy4xODQ0IDkuOTk5OTkgMTguOTM1NEM1LjMzMzE5IDE3LjE4NDQgMi45Njk2OCAxNC4zMDMyIDEuODYwOTQgMTEuNDQwOVonIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDMgMyknIHN0cm9rZT0nJTIzMzMzMzMzJyBzdHJva2Utd2lkdGg9JzInLyUzRSAlM0NwYXRoIGNsYXNzPSdqcC1pY29uMicgZD0nTTcuMzY4NDIgMEwwIDcuMzY0NzknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDkuMzE1OTIgOS4zMjAzMSknIHN0cm9rZT0nJTIzMzMzMzMzJyBzdHJva2Utd2lkdGg9JzInLyUzRSAlM0NwYXRoIGNsYXNzPSdqcC1pY29uMicgZD0nTTcuMzY4NDIgMEwwIDcuMzY0NzknIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDkuMzE1OTIgMTYuNjgzNikgc2NhbGUoMSAtMSknIHN0cm9rZT0nJTIzMzMzMzMzJyBzdHJva2Utd2lkdGg9JzInLyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDI1IDI1XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlxcbiAgICA8cGF0aCBjbGFzcz1cXFwianAtaWNvbjJcXFwiIGQ9XFxcIk0xLjg2MDk0IDExLjQ0MDlDMC44MjY0NDggOC43NzAyNyAwLjg2Mzc3OSA2LjA1NzY0IDEuMjQ5MDcgNC4xOTkzMkMyLjQ4MjA2IDMuOTMzNDcgNC4wODA2OCAzLjQwMzQ3IDUuNjAxMDIgMi44NDQ5QzcuMjM1NDkgMi4yNDQ0IDguODU2NjYgMS41ODE1IDkuOTg3NiAxLjA5NTM5QzExLjA1OTcgMS41ODM0MSAxMi42MDk0IDIuMjQ0NCAxNC4yMTggMi44NDMzOUMxNS43NTAzIDMuNDEzOTQgMTcuMzk5NSAzLjk1MjU4IDE4Ljc1MzkgNC4yMTM4NUMxOS4xMzY0IDYuMDcxNzcgMTkuMTcwOSA4Ljc3NzIyIDE4LjEzOSAxMS40NDA5QzE3LjAzMDMgMTQuMzAzMiAxNC42NjY4IDE3LjE4NDQgOS45OTk5OSAxOC45MzU0QzUuMzMzMTkgMTcuMTg0NCAyLjk2OTY4IDE0LjMwMzIgMS44NjA5NCAxMS40NDA5WlxcXCIgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMyAzKVxcXCIgc3Ryb2tlPVxcXCIjMzMzMzMzXFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiLz5cXG4gICAgPHBhdGggY2xhc3M9XFxcImpwLWljb24yXFxcIiBkPVxcXCJNNy4zNjg0MiAwTDAgNy4zNjQ3OVxcXCIgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoOS4zMTU5MiA5LjMyMDMxKVxcXCIgc3Ryb2tlPVxcXCIjMzMzMzMzXFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiLz5cXG4gICAgPHBhdGggY2xhc3M9XFxcImpwLWljb24yXFxcIiBkPVxcXCJNNy4zNjg0MiAwTDAgNy4zNjQ3OVxcXCIgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoOS4zMTU5MiAxNi42ODM2KSBzY2FsZSgxIC0xKVxcXCIgc3Ryb2tlPVxcXCIjMzMzMzMzXFxcIiBzdHJva2Utd2lkdGg9XFxcIjJcXFwiLz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBqdXB5dGVybGFiL2NvcmV1dGlsc1wiKTtcbmNvbnN0IHNlcnZlcmNvbm5lY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9zZXJ2ZXJjb25uZWN0aW9uXCIpO1xuLyoqXG4gKiBUaGUgdXJsIGZvciB0aGUgbGFiIG5iY29udmVydCBzZXJ2aWNlLlxuICovXG5jb25zdCBOQkNPTlZFUlRfU0VUVElOR1NfVVJMID0gJ2FwaS9uYmNvbnZlcnQnO1xuLyoqXG4gKiBUaGUgbmJjb252ZXJ0IEFQSSBzZXJ2aWNlIG1hbmFnZXIuXG4gKi9cbmNsYXNzIE5iQ29udmVydE1hbmFnZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBuYmNvbnZlcnQgbWFuYWdlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnNlcnZlclNldHRpbmdzID0gKF9hID0gb3B0aW9ucy5zZXJ2ZXJTZXR0aW5ncywgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB3aGV0aGVyIHRoZSBhcHBsaWNhdGlvbiBzaG91bGQgYmUgYnVpbHQuXG4gICAgICovXG4gICAgZ2V0RXhwb3J0Rm9ybWF0cygpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuc2VydmVyU2V0dGluZ3MuYmFzZVVybDtcbiAgICAgICAgY29uc3QgdXJsID0gY29yZXV0aWxzXzEuVVJMRXh0LmpvaW4oYmFzZSwgTkJDT05WRVJUX1NFVFRJTkdTX1VSTCk7XG4gICAgICAgIGNvbnN0IHsgc2VydmVyU2V0dGluZ3MgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIHt9LCBzZXJ2ZXJTZXR0aW5ncyk7XG4gICAgICAgIHJldHVybiBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICBsZXQgZXhwb3J0TGlzdCA9IHt9O1xuICAgICAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgbGV0IG1pbWVUeXBlID0gZGF0YVtrZXldLm91dHB1dF9taW1ldHlwZTtcbiAgICAgICAgICAgICAgICBleHBvcnRMaXN0W2tleV0gPSB7IG91dHB1dF9taW1ldHlwZTogbWltZVR5cGUgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydExpc3Q7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuTmJDb252ZXJ0TWFuYWdlciA9IE5iQ29udmVydE1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyMCAyMCclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjInIGZpbGw9JyUyMzQxNDE0MSclM0UgJTNDcmVjdCB4PScyJyB5PScyJyB3aWR0aD0nMTYnIGhlaWdodD0nMTYnLyUzRSAlM0MvZyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uLWFjY2VudDInIGZpbGw9JyUyM0ZGRiclM0UgJTNDY2lyY2xlIGNsYXNzPSdzdDInIGN4PSc1LjUnIGN5PScxNC41JyByPScxLjUnLyUzRSAlM0NyZWN0IHg9JzEyJyB5PSc0JyBjbGFzcz0nc3QyJyB3aWR0aD0nMScgaGVpZ2h0PSc4Jy8lM0UgJTNDcmVjdCB4PSc4LjUnIHk9JzcuNScgdHJhbnNmb3JtPSdtYXRyaXgoMC44NjYgLTAuNSAwLjUgMC44NjYgLTIuMzI1NSA3LjMyMTkpJyBjbGFzcz0nc3QyJyB3aWR0aD0nOCcgaGVpZ2h0PScxJy8lM0UgJTNDcmVjdCB4PScxMicgeT0nNCcgdHJhbnNmb3JtPSdtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTAuNjc3OSAxNC44MjUyKScgY2xhc3M9J3N0Micgd2lkdGg9JzEnIGhlaWdodD0nOCcvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMCAyMFxcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjJcXFwiIGZpbGw9XFxcIiM0MTQxNDFcXFwiPlxcbiAgICA8cmVjdCB4PVxcXCIyXFxcIiB5PVxcXCIyXFxcIiB3aWR0aD1cXFwiMTZcXFwiIGhlaWdodD1cXFwiMTZcXFwiLz5cXG4gIDwvZz5cXG5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uLWFjY2VudDJcXFwiIGZpbGw9XFxcIiNGRkZcXFwiPlxcbiAgICA8Y2lyY2xlIGNsYXNzPVxcXCJzdDJcXFwiIGN4PVxcXCI1LjVcXFwiIGN5PVxcXCIxNC41XFxcIiByPVxcXCIxLjVcXFwiLz5cXG4gICAgPHJlY3QgeD1cXFwiMTJcXFwiIHk9XFxcIjRcXFwiIGNsYXNzPVxcXCJzdDJcXFwiIHdpZHRoPVxcXCIxXFxcIiBoZWlnaHQ9XFxcIjhcXFwiLz5cXG4gICAgPHJlY3QgeD1cXFwiOC41XFxcIiB5PVxcXCI3LjVcXFwiIHRyYW5zZm9ybT1cXFwibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yLjMyNTUgNy4zMjE5KVxcXCIgY2xhc3M9XFxcInN0MlxcXCIgd2lkdGg9XFxcIjhcXFwiIGhlaWdodD1cXFwiMVxcXCIvPlxcbiAgICA8cmVjdCB4PVxcXCIxMlxcXCIgeT1cXFwiNFxcXCIgdHJhbnNmb3JtPVxcXCJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTAuNjc3OSAxNC44MjUyKVxcXCIgY2xhc3M9XFxcInN0MlxcXCIgd2lkdGg9XFxcIjFcXFwiIGhlaWdodD1cXFwiOFxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ3BhdGggZmlsbD0nd2hpdGUnIGQ9J001Ljg4IDQuMTJMMTMuNzYgMTJsLTcuODggNy44OEw4IDIybDEwLTEwTDggMnonLyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICAgIDxwYXRoIGZpbGw9XFxcIndoaXRlXFxcIiBkPVxcXCJNNS44OCA0LjEyTDEzLjc2IDEybC03Ljg4IDcuODhMOCAyMmwxMC0xMEw4IDJ6XFxcIi8+XFxuPC9zdmc+XFxuXCI7IiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8vIFNvbWUgbWFnaWMgZm9yIGRlZmVycmluZyBtYXRoZW1hdGljYWwgZXhwcmVzc2lvbnMgdG8gTWF0aEpheFxuLy8gYnkgaGlkaW5nIHRoZW0gZnJvbSB0aGUgTWFya2Rvd24gcGFyc2VyLlxuLy8gU29tZSBvZiB0aGUgY29kZSBoZXJlIGlzIGFkYXB0ZWQgd2l0aCBwZXJtaXNzaW9uIGZyb20gRGF2aWRlIENlcnZvbmVcbi8vIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgQXBhY2hlMiBsaWNlbnNlIGdvdmVybmluZyB0aGUgTWF0aEpheCBwcm9qZWN0LlxuLy8gT3RoZXIgbWlub3IgbW9kaWZpY2F0aW9ucyBhcmUgYWxzbyBkdWUgdG8gU3RhY2tFeGNoYW5nZSBhbmQgYXJlIHVzZWQgd2l0aFxuLy8gcGVybWlzc2lvbi5cbmNvbnN0IGlubGluZSA9ICckJzsgLy8gdGhlIGlubGluZSBtYXRoIGRlbGltaXRlclxuLy8gTUFUSFNQTElUIGNvbnRhaW5zIHRoZSBwYXR0ZXJuIGZvciBtYXRoIGRlbGltaXRlcnMgYW5kIHNwZWNpYWwgc3ltYm9sc1xuLy8gbmVlZGVkIGZvciBzZWFyY2hpbmcgZm9yIG1hdGggaW4gdGhlIHRleHQgaW5wdXQuXG5jb25zdCBNQVRIU1BMSVQgPSAvKFxcJFxcJD98XFxcXCg/OmJlZ2lufGVuZClcXHtbYS16XSpcXCo/XFx9fFxcXFxbe30kXXxbe31dfCg/OlxcblxccyopK3xAQFxcZCtAQHxcXFxcXFxcXCg/OlxcKHxcXCl8XFxbfFxcXSkpL2k7XG4vKipcbiAqICBCcmVhayB1cCB0aGUgdGV4dCBpbnRvIGl0cyBjb21wb25lbnQgcGFydHMgYW5kIHNlYXJjaFxuICogICAgdGhyb3VnaCB0aGVtIGZvciBtYXRoIGRlbGltaXRlcnMsIGJyYWNlcywgbGluZWJyZWFrcywgZXRjLlxuICogIE1hdGggZGVsaW1pdGVycyBtdXN0IG1hdGNoIGFuZCBicmFjZXMgbXVzdCBiYWxhbmNlLlxuICogIERvbid0IGFsbG93IG1hdGggdG8gcGFzcyB0aHJvdWdoIGEgZG91YmxlIGxpbmVicmVha1xuICogICAgKHdoaWNoIHdpbGwgYmUgYSBwYXJhZ3JhcGgpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTWF0aCh0ZXh0KSB7XG4gICAgbGV0IG1hdGggPSBbXTsgLy8gc3RvcmVzIG1hdGggc3RyaW5ncyBmb3IgbGF0ZXJcbiAgICBsZXQgc3RhcnQgPSBudWxsO1xuICAgIGxldCBlbmQgPSBudWxsO1xuICAgIGxldCBsYXN0ID0gbnVsbDtcbiAgICBsZXQgYnJhY2VzID0gMDtcbiAgICBsZXQgZGVUaWxkZTtcbiAgICAvLyBFeGNlcHQgZm9yIGV4dHJlbWUgZWRnZSBjYXNlcywgdGhpcyBzaG91bGQgY2F0Y2ggcHJlY2lzZWx5IHRob3NlIHBpZWNlcyBvZiB0aGUgbWFya2Rvd25cbiAgICAvLyBzb3VyY2UgdGhhdCB3aWxsIGxhdGVyIGJlIHR1cm5lZCBpbnRvIGNvZGUgc3BhbnMuIFdoaWxlIE1hdGhKYXggd2lsbCBub3QgVGVYaWZ5IGNvZGUgc3BhbnMsXG4gICAgLy8gd2Ugc3RpbGwgaGF2ZSB0byBjb25zaWRlciB0aGVtIGF0IHRoaXMgcG9pbnQ7IHRoZSBmb2xsb3dpbmcgaXNzdWUgaGFzIGhhcHBlbmVkIHNldmVyYWwgdGltZXM6XG4gICAgLy9cbiAgICAvLyAgICAgYCRmb29gIGFuZCBgJGJhcmAgYXJlIHZhcmlhYmxlcy4gIC0tPiAgPGNvZGU+JGZvbyBgIGFuZCBgJGJhcjwvY29kZT4gYXJlIHZhcmlhYmxlcy5cbiAgICBsZXQgaGFzQ29kZVNwYW5zID0gL2AvLnRlc3QodGV4dCk7XG4gICAgaWYgKGhhc0NvZGVTcGFucykge1xuICAgICAgICB0ZXh0ID0gdGV4dFxuICAgICAgICAgICAgLnJlcGxhY2UoL34vZywgJ35UJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oXnxbXlxcXFxdKShgKykoW15cXG5dKj9bXmBcXG5dKVxcMig/IWApL2dtLCB3aG9sZW1hdGNoID0+IHdob2xlbWF0Y2gucmVwbGFjZSgvXFwkL2csICd+RCcpKTtcbiAgICAgICAgZGVUaWxkZSA9ICh0ZXh0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9+KFtURF0pL2csICh3aG9sZW1hdGNoLCBjaGFyYWN0ZXIpID0+IGNoYXJhY3RlciA9PT0gJ1QnID8gJ34nIDogaW5saW5lKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRlVGlsZGUgPSAodGV4dCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCBibG9ja3MgPSB0ZXh0LnJlcGxhY2UoL1xcclxcbj8vZywgJ1xcbicpLnNwbGl0KE1BVEhTUExJVCk7XG4gICAgZm9yIChsZXQgaSA9IDEsIG0gPSBibG9ja3MubGVuZ3RoOyBpIDwgbTsgaSArPSAyKSB7XG4gICAgICAgIGxldCBibG9jayA9IGJsb2Nrc1tpXTtcbiAgICAgICAgaWYgKGJsb2NrLmNoYXJBdCgwKSA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gIFRoaW5ncyB0aGF0IGxvb2sgbGlrZSBvdXIgbWF0aCBtYXJrZXJzIHdpbGwgZ2V0XG4gICAgICAgICAgICAvLyAgc3RvcmVkIGFuZCB0aGVuIHJldHJpZXZlZCBhbG9uZyB3aXRoIHRoZSBtYXRoLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGJsb2Nrc1tpXSA9ICdAQCcgKyBtYXRoLmxlbmd0aCArICdAQCc7XG4gICAgICAgICAgICBtYXRoLnB1c2goYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gIElmIHdlIGFyZSBpbiBtYXRoLCBsb29rIGZvciB0aGUgZW5kIGRlbGltaXRlcixcbiAgICAgICAgICAgIC8vICAgIGJ1dCBkb24ndCBnbyBwYXN0IGRvdWJsZSBsaW5lIGJyZWFrcywgYW5kXG4gICAgICAgICAgICAvLyAgICBhbmQgYmFsYW5jZSBicmFjZXMgd2l0aGluIHRoZSBtYXRoLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmIChibG9jayA9PT0gZW5kKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJyYWNlcykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrcyA9IHByb2Nlc3NNYXRoKHN0YXJ0LCBpLCBkZVRpbGRlLCBtYXRoLCBibG9ja3MpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJsb2NrLm1hdGNoKC9cXG4uKlxcbi8pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGxhc3Q7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrcyA9IHByb2Nlc3NNYXRoKHN0YXJ0LCBpLCBkZVRpbGRlLCBtYXRoLCBibG9ja3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZW5kID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsYXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmFjZXMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmxvY2sgPT09ICd7Jykge1xuICAgICAgICAgICAgICAgIGJyYWNlcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmxvY2sgPT09ICd9JyAmJiBicmFjZXMpIHtcbiAgICAgICAgICAgICAgICBicmFjZXMtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgTG9vayBmb3IgbWF0aCBzdGFydCBkZWxpbWl0ZXJzIGFuZCB3aGVuXG4gICAgICAgICAgICAvLyAgICBmb3VuZCwgc2V0IHVwIHRoZSBlbmQgZGVsaW1pdGVyLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmIChibG9jayA9PT0gaW5saW5lIHx8IGJsb2NrID09PSAnJCQnKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGVuZCA9IGJsb2NrO1xuICAgICAgICAgICAgICAgIGJyYWNlcyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChibG9jayA9PT0gJ1xcXFxcXFxcKCcgfHwgYmxvY2sgPT09ICdcXFxcXFxcXFsnKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGVuZCA9IGJsb2NrLnNsaWNlKC0xKSA9PT0gJygnID8gJ1xcXFxcXFxcKScgOiAnXFxcXFxcXFxdJztcbiAgICAgICAgICAgICAgICBicmFjZXMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmxvY2suc3Vic3RyKDEsIDUpID09PSAnYmVnaW4nKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpO1xuICAgICAgICAgICAgICAgIGVuZCA9ICdcXFxcZW5kJyArIGJsb2NrLnN1YnN0cig2KTtcbiAgICAgICAgICAgICAgICBicmFjZXMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzdGFydCAhPT0gbnVsbCAmJiBsYXN0ICE9PSBudWxsKSB7XG4gICAgICAgIGJsb2NrcyA9IHByb2Nlc3NNYXRoKHN0YXJ0LCBsYXN0LCBkZVRpbGRlLCBtYXRoLCBibG9ja3MpO1xuICAgICAgICBzdGFydCA9IG51bGw7XG4gICAgICAgIGVuZCA9IG51bGw7XG4gICAgICAgIGxhc3QgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4geyB0ZXh0OiBkZVRpbGRlKGJsb2Nrcy5qb2luKCcnKSksIG1hdGggfTtcbn1cbi8qKlxuICogUHV0IGJhY2sgdGhlIG1hdGggc3RyaW5ncyB0aGF0IHdlcmUgc2F2ZWQsXG4gKiBhbmQgY2xlYXIgdGhlIG1hdGggYXJyYXkgKG5vIG5lZWQgdG8ga2VlcCBpdCBhcm91bmQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZU1hdGgodGV4dCwgbWF0aCkge1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgYSBtYXRoIHBsYWNlaG9sZGVyIHdpdGggaXRzIGNvcnJlc3BvbmRpbmcgZ3JvdXAuXG4gICAgICogVGhlIG1hdGggZGVsaW1pdGVycyBcIlxcXFwoXCIsIFwiXFxcXFtcIiwgXCJcXFxcKVwiIGFuZCBcIlxcXFxdXCIgYXJlIHJlcGxhY2VkXG4gICAgICogcmVtb3Zpbmcgb25lIGJhY2tzbGFzaCBpbiBvcmRlciB0byBiZSBpbnRlcnByZXRlZCBjb3JyZWN0bHkgYnkgTWF0aEpheC5cbiAgICAgKi9cbiAgICBsZXQgcHJvY2VzcyA9IChtYXRjaCwgbikgPT4ge1xuICAgICAgICBsZXQgZ3JvdXAgPSBtYXRoW25dO1xuICAgICAgICBpZiAoZ3JvdXAuc3Vic3RyKDAsIDMpID09PSAnXFxcXFxcXFwoJyAmJlxuICAgICAgICAgICAgZ3JvdXAuc3Vic3RyKGdyb3VwLmxlbmd0aCAtIDMpID09PSAnXFxcXFxcXFwpJykge1xuICAgICAgICAgICAgZ3JvdXAgPSAnXFxcXCgnICsgZ3JvdXAuc3Vic3RyaW5nKDMsIGdyb3VwLmxlbmd0aCAtIDMpICsgJ1xcXFwpJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChncm91cC5zdWJzdHIoMCwgMykgPT09ICdcXFxcXFxcXFsnICYmXG4gICAgICAgICAgICBncm91cC5zdWJzdHIoZ3JvdXAubGVuZ3RoIC0gMykgPT09ICdcXFxcXFxcXF0nKSB7XG4gICAgICAgICAgICBncm91cCA9ICdcXFxcWycgKyBncm91cC5zdWJzdHJpbmcoMywgZ3JvdXAubGVuZ3RoIC0gMykgKyAnXFxcXF0nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9O1xuICAgIC8vIFJlcGxhY2UgYWxsIHRoZSBtYXRoIGdyb3VwIHBsYWNlaG9sZGVycyBpbiB0aGUgdGV4dFxuICAgIC8vIHdpdGggdGhlIHNhdmVkIHN0cmluZ3MuXG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvQEAoXFxkKylAQC9nLCBwcm9jZXNzKTtcbn1cbi8qKlxuICogUHJvY2VzcyBtYXRoIGJsb2Nrcy5cbiAqXG4gKiBUaGUgbWF0aCBpcyBpbiBibG9ja3MgaSB0aHJvdWdoIGosIHNvXG4gKiAgIGNvbGxlY3QgaXQgaW50byBvbmUgYmxvY2sgYW5kIGNsZWFyIHRoZSBvdGhlcnMuXG4gKiAgUmVwbGFjZSAmLCA8LCBhbmQgPiBieSBuYW1lZCBlbnRpdGllcy5cbiAqICBGb3IgSUUsIHB1dCA8YnI+IGF0IHRoZSBlbmRzIG9mIGNvbW1lbnRzIHNpbmNlIElFIHJlbW92ZXMgXFxuLlxuICogIENsZWFyIHRoZSBjdXJyZW50IG1hdGggcG9zaXRpb25zIGFuZCBzdG9yZSB0aGUgaW5kZXggb2YgdGhlXG4gKiAgIG1hdGgsIHRoZW4gcHVzaCB0aGUgbWF0aCBzdHJpbmcgb250byB0aGUgc3RvcmFnZSBhcnJheS5cbiAqICBUaGUgcHJlUHJvY2VzcyBmdW5jdGlvbiBpcyBjYWxsZWQgb24gYWxsIGJsb2NrcyBpZiBpdCBoYXMgYmVlbiBwYXNzZWQgaW5cbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc01hdGgoaSwgaiwgcHJlUHJvY2VzcywgbWF0aCwgYmxvY2tzKSB7XG4gICAgbGV0IGJsb2NrID0gYmxvY2tzXG4gICAgICAgIC5zbGljZShpLCBqICsgMSlcbiAgICAgICAgLmpvaW4oJycpXG4gICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpIC8vIHVzZSBIVE1MIGVudGl0eSBmb3IgJlxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpIC8vIHVzZSBIVE1MIGVudGl0eSBmb3IgPFxuICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpOyAvLyB1c2UgSFRNTCBlbnRpdHkgZm9yID5cbiAgICBpZiAobmF2aWdhdG9yICYmIG5hdmlnYXRvci5hcHBOYW1lID09PSAnTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyJykge1xuICAgICAgICBibG9jayA9IGJsb2NrLnJlcGxhY2UoLyglW15cXG5dKilcXG4vZywgJyQxPGJyLz5cXG4nKTtcbiAgICB9XG4gICAgd2hpbGUgKGogPiBpKSB7XG4gICAgICAgIGJsb2Nrc1tqXSA9ICcnO1xuICAgICAgICBqLS07XG4gICAgfVxuICAgIGJsb2Nrc1tpXSA9ICdAQCcgKyBtYXRoLmxlbmd0aCArICdAQCc7IC8vIHJlcGxhY2UgdGhlIGN1cnJlbnQgYmxvY2sgdGV4dCB3aXRoIGEgdW5pcXVlIHRhZyB0byBmaW5kIGxhdGVyXG4gICAgaWYgKHByZVByb2Nlc3MpIHtcbiAgICAgICAgYmxvY2sgPSBwcmVQcm9jZXNzKGJsb2NrKTtcbiAgICB9XG4gICAgbWF0aC5wdXNoKGJsb2NrKTtcbiAgICByZXR1cm4gYmxvY2tzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGF0ZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCB2YWxpZGF0ZV8xID0gcmVxdWlyZShcIi4uL3ZhbGlkYXRlXCIpO1xuLyoqXG4gKiBWYWxpZGF0ZSBhbiBgQ29udGVudHMuSU1vZGVsYCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQ29udGVudHNNb2RlbChtb2RlbCkge1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShtb2RlbCwgJ25hbWUnLCAnc3RyaW5nJyk7XG4gICAgdmFsaWRhdGVfMS52YWxpZGF0ZVByb3BlcnR5KG1vZGVsLCAncGF0aCcsICdzdHJpbmcnKTtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlUHJvcGVydHkobW9kZWwsICd0eXBlJywgJ3N0cmluZycpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShtb2RlbCwgJ2NyZWF0ZWQnLCAnc3RyaW5nJyk7XG4gICAgdmFsaWRhdGVfMS52YWxpZGF0ZVByb3BlcnR5KG1vZGVsLCAnbGFzdF9tb2RpZmllZCcsICdzdHJpbmcnKTtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlUHJvcGVydHkobW9kZWwsICdtaW1ldHlwZScsICdvYmplY3QnKTtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlUHJvcGVydHkobW9kZWwsICdjb250ZW50JywgJ29iamVjdCcpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShtb2RlbCwgJ2Zvcm1hdCcsICdvYmplY3QnKTtcbn1cbmV4cG9ydHMudmFsaWRhdGVDb250ZW50c01vZGVsID0gdmFsaWRhdGVDb250ZW50c01vZGVsO1xuLyoqXG4gKiBWYWxpZGF0ZSBhbiBgQ29udGVudHMuSUNoZWNrcG9pbnRNb2RlbGAgb2JqZWN0LlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUNoZWNrcG9pbnRNb2RlbChtb2RlbCkge1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShtb2RlbCwgJ2lkJywgJ3N0cmluZycpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShtb2RlbCwgJ2xhc3RfbW9kaWZpZWQnLCAnc3RyaW5nJyk7XG59XG5leHBvcnRzLnZhbGlkYXRlQ2hlY2twb2ludE1vZGVsID0gdmFsaWRhdGVDaGVja3BvaW50TW9kZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZS5qcy5tYXAiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVkRvbVJlbmRlcmVyLCBWRG9tTW9kZWwgfSBmcm9tICdAanVweXRlcmxhYi9hcHB1dGlscyc7XG5pbXBvcnQgeyBpbnRlcmFjdGl2ZUl0ZW0sIHNob3dQb3B1cCwgVGV4dEl0ZW0gfSBmcm9tICdAanVweXRlcmxhYi9zdGF0dXNiYXInO1xuaW1wb3J0IHsgTW9kZSB9IGZyb20gJy4nO1xuaW1wb3J0IHsgTWVudSB9IGZyb20gJ0BsdW1pbm8vd2lkZ2V0cyc7XG4vKipcbiAqIEEgcHVyZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0c3ggY29tcG9uZW50IGZvciBhbiBlZGl0b3Igc3ludGF4IGl0ZW0uXG4gKlxuICogQHBhcmFtIHByb3BzOiB0aGUgcHJvcHMgZm9yIHRoZSBjb21wb25lbnQuXG4gKlxuICogQHJldHVybnMgYW4gZWRpdG9yIHN5bnRheCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIEVkaXRvclN5bnRheENvbXBvbmVudChwcm9wcykge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJdGVtLCB7IHNvdXJjZTogcHJvcHMubW9kZSwgb25DbGljazogcHJvcHMuaGFuZGxlQ2xpY2sgfSk7XG59XG4vKipcbiAqIFN0YXR1c0JhciBpdGVtIHRvIGNoYW5nZSB0aGUgbGFuZ3VhZ2Ugc3ludGF4IGhpZ2hsaWdodGluZyBvZiB0aGUgZmlsZSBlZGl0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBFZGl0b3JTeW50YXhTdGF0dXMgZXh0ZW5kcyBWRG9tUmVuZGVyZXIge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBWRG9tUmVuZGVyZXIgZm9yIHRoZSBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG5ldyBFZGl0b3JTeW50YXhTdGF0dXMuTW9kZWwoKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBtZW51IGZvciBzZWxlY3RpbmcgdGhlIG1vZGUgb2YgdGhlIGVkaXRvci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW9kZU1lbnUgPSBuZXcgTWVudSh7IGNvbW1hbmRzOiB0aGlzLl9jb21tYW5kcyB9KTtcbiAgICAgICAgICAgIGxldCBjb21tYW5kID0gJ2NvZGVtaXJyb3I6Y2hhbmdlLW1vZGUnO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BvcHVwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdXAuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTW9kZS5nZXRNb2RlSW5mbygpXG4gICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgYU5hbWUgPSBhLm5hbWUgfHwgJyc7XG4gICAgICAgICAgICAgICAgbGV0IGJOYW1lID0gYi5uYW1lIHx8ICcnO1xuICAgICAgICAgICAgICAgIHJldHVybiBhTmFtZS5sb2NhbGVDb21wYXJlKGJOYW1lKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZvckVhY2goc3BlYyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNwZWMubW9kZS5pbmRleE9mKCdicmFpbmYnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRTcGFjZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHNwZWMubmFtZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbW9kZU1lbnUuYWRkSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXAgPSBzaG93UG9wdXAoe1xuICAgICAgICAgICAgICAgIGJvZHk6IG1vZGVNZW51LFxuICAgICAgICAgICAgICAgIGFuY2hvcjogdGhpcyxcbiAgICAgICAgICAgICAgICBhbGlnbjogJ2xlZnQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb21tYW5kcyA9IG9wdHMuY29tbWFuZHM7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoaW50ZXJhY3RpdmVJdGVtKTtcbiAgICAgICAgdGhpcy50aXRsZS5jYXB0aW9uID0gJ0NoYW5nZSB0ZXh0IGVkaXRvciBzeW50YXggaGlnaGxpZ2h0aW5nJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRvclN5bnRheENvbXBvbmVudCwgeyBtb2RlOiB0aGlzLm1vZGVsLm1vZGUsIGhhbmRsZUNsaWNrOiB0aGlzLl9oYW5kbGVDbGljayB9KSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgRWRpdG9yU3ludGF4IHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoRWRpdG9yU3ludGF4U3RhdHVzKSB7XG4gICAgLyoqXG4gICAgICogQSBWRG9tTW9kZWwgZm9yIHRoZSBjdXJyZW50IGVkaXRvci9tb2RlIGNvbWJpbmF0aW9uLlxuICAgICAqL1xuICAgIGNsYXNzIE1vZGVsIGV4dGVuZHMgVkRvbU1vZGVsIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGUgZWRpdG9yIG1vZGUgY2hhbmdlcywgdXBkYXRlIHRoZSBtb2RlbC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fb25NSU1FVHlwZUNoYW5nZSA9IChtb2RlLCBjaGFuZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRNb2RlID0gdGhpcy5fbW9kZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVjID0gTW9kZS5maW5kQnlNSU1FKGNoYW5nZS5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9kZSA9IHNwZWMubmFtZSB8fCBzcGVjLm1vZGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckNoYW5nZShvbGRNb2RlLCB0aGlzLl9tb2RlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9tb2RlID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9lZGl0b3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBtb2RlIGZvciB0aGUgZWRpdG9yLiBJZiBubyBlZGl0b3IgaXMgcHJlc2VudCxcbiAgICAgICAgICogcmV0dXJucyB0aGUgZW1wdHkgc3RyaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IG1vZGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9kZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgZWRpdG9yIGZvciB0aGUgYXBwbGljYXRpb24gZWRpdG9yIHRyYWNrZXIuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgZWRpdG9yKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZWRpdG9yKGVkaXRvcikge1xuICAgICAgICAgICAgY29uc3Qgb2xkRWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuICAgICAgICAgICAgaWYgKG9sZEVkaXRvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG9sZEVkaXRvci5tb2RlbC5taW1lVHlwZUNoYW5nZWQuZGlzY29ubmVjdCh0aGlzLl9vbk1JTUVUeXBlQ2hhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9sZE1vZGUgPSB0aGlzLl9tb2RlO1xuICAgICAgICAgICAgdGhpcy5fZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VkaXRvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vZGUgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwZWMgPSBNb2RlLmZpbmRCeU1JTUUodGhpcy5fZWRpdG9yLm1vZGVsLm1pbWVUeXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb2RlID0gc3BlYy5uYW1lIHx8IHNwZWMubW9kZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lZGl0b3IubW9kZWwubWltZVR5cGVDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25NSU1FVHlwZUNoYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyQ2hhbmdlKG9sZE1vZGUsIHRoaXMuX21vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmlnZ2VyIGEgcmVyZW5kZXIgb2YgdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgX3RyaWdnZXJDaGFuZ2Uob2xkU3RhdGUsIG5ld1N0YXRlKSB7XG4gICAgICAgICAgICBpZiAob2xkU3RhdGUgIT09IG5ld1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQuZW1pdCh2b2lkIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIEVkaXRvclN5bnRheFN0YXR1cy5Nb2RlbCA9IE1vZGVsO1xufSkoRWRpdG9yU3ludGF4U3RhdHVzIHx8IChFZGl0b3JTeW50YXhTdGF0dXMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ludGF4c3RhdHVzLmpzLm1hcCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXFxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKipcXG4gKiBTdXBwb3J0IGZvciBob3ZlciBjb2xvcnMgZm9yIGljb25zIGFzIGlubGluZSBTVkcgSFRNTEVsZW1lbnRzXFxuICovXFxuXFxuLyoqXFxuICogcmVndWxhciBjb2xvcnNcXG4gKi9cXG5cXG4vKiByZWNvbG9yIHRoZSBwcmltYXJ5IGVsZW1lbnRzIG9mIGFuIGljb24gKi9cXG4uanAtaWNvbi1ob3ZlciA6aG92ZXIgLmpwLWljb24wLWhvdmVyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMCk7XFxufVxcbi5qcC1pY29uLWhvdmVyIDpob3ZlciAuanAtaWNvbjEtaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IxKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uMi1ob3ZlcltmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjIpO1xcbn1cXG4uanAtaWNvbi1ob3ZlciA6aG92ZXIgLmpwLWljb24zLWhvdmVyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMyk7XFxufVxcbi5qcC1pY29uLWhvdmVyIDpob3ZlciAuanAtaWNvbjQtaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3I0KTtcXG59XFxuXFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uMC1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IwKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uMS1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IxKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uMi1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IyKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uMy1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IzKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uNC1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3I0KTtcXG59XFxuXFxuLyogcmVjb2xvciB0aGUgYWNjZW50IGVsZW1lbnRzIG9mIGFuIGljb24gKi9cXG4uanAtaWNvbi1ob3ZlciA6aG92ZXIgLmpwLWljb24tYWNjZW50MC1ob3ZlcltmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IwKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uLWFjY2VudDEtaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMSk7XFxufVxcbi5qcC1pY29uLWhvdmVyIDpob3ZlciAuanAtaWNvbi1hY2NlbnQyLWhvdmVyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWxheW91dC1jb2xvcjIpO1xcbn1cXG4uanAtaWNvbi1ob3ZlciA6aG92ZXIgLmpwLWljb24tYWNjZW50My1ob3ZlcltmaWxsXSB7XFxuICBmaWxsOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IzKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uLWFjY2VudDQtaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yNCk7XFxufVxcblxcbi5qcC1pY29uLWhvdmVyIDpob3ZlciAuanAtaWNvbi1hY2NlbnQwLWhvdmVyW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IwKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uLWFjY2VudDEtaG92ZXJbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWxheW91dC1jb2xvcjEpO1xcbn1cXG4uanAtaWNvbi1ob3ZlciA6aG92ZXIgLmpwLWljb24tYWNjZW50Mi1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtbGF5b3V0LWNvbG9yMik7XFxufVxcbi5qcC1pY29uLWhvdmVyIDpob3ZlciAuanAtaWNvbi1hY2NlbnQzLWhvdmVyW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IzKTtcXG59XFxuLmpwLWljb24taG92ZXIgOmhvdmVyIC5qcC1pY29uLWFjY2VudDQtaG92ZXJbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWxheW91dC1jb2xvcjQpO1xcbn1cXG5cXG4vKiBzZXQgdGhlIGNvbG9yIG9mIGFuIGljb24gdG8gdHJhbnNwYXJlbnQgKi9cXG4uanAtaWNvbi1ob3ZlciA6aG92ZXIgLmpwLWljb24tbm9uZS1ob3ZlcltmaWxsXSB7XFxuICBmaWxsOiBub25lO1xcbn1cXG5cXG4uanAtaWNvbi1ob3ZlciA6aG92ZXIgLmpwLWljb24tbm9uZS1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogbm9uZTtcXG59XFxuXFxuLyoqXFxuICogaW52ZXJzZSBjb2xvcnNcXG4gKi9cXG5cXG4vKiBpbnZlcnNlIHJlY29sb3IgdGhlIHByaW1hcnkgZWxlbWVudHMgb2YgYW4gaWNvbiAqL1xcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbjAtaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMCk7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbjEtaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMSk7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbjItaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMik7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbjMtaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMyk7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbjQtaG92ZXJbZmlsbF0ge1xcbiAgZmlsbDogdmFyKC0tanAtbGF5b3V0LWNvbG9yNCk7XFxufVxcblxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbjAtaG92ZXJbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWxheW91dC1jb2xvcjApO1xcbn1cXG4uanAtaWNvbi1ob3Zlci5qcC1pY29uLWFsdCA6aG92ZXIgLmpwLWljb24xLWhvdmVyW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG59XFxuLmpwLWljb24taG92ZXIuanAtaWNvbi1hbHQgOmhvdmVyIC5qcC1pY29uMi1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtbGF5b3V0LWNvbG9yMik7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbjMtaG92ZXJbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWxheW91dC1jb2xvcjMpO1xcbn1cXG4uanAtaWNvbi1ob3Zlci5qcC1pY29uLWFsdCA6aG92ZXIgLmpwLWljb240LWhvdmVyW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1sYXlvdXQtY29sb3I0KTtcXG59XFxuXFxuLyogaW52ZXJzZSByZWNvbG9yIHRoZSBhY2NlbnQgZWxlbWVudHMgb2YgYW4gaWNvbiAqL1xcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbi1hY2NlbnQwLWhvdmVyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMCk7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbi1hY2NlbnQxLWhvdmVyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMSk7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbi1hY2NlbnQyLWhvdmVyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMik7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbi1hY2NlbnQzLWhvdmVyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMyk7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbi1hY2NlbnQ0LWhvdmVyW2ZpbGxdIHtcXG4gIGZpbGw6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yNCk7XFxufVxcblxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbi1hY2NlbnQwLWhvdmVyW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjApO1xcbn1cXG4uanAtaWNvbi1ob3Zlci5qcC1pY29uLWFsdCA6aG92ZXIgLmpwLWljb24tYWNjZW50MS1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3IxKTtcXG59XFxuLmpwLWljb24taG92ZXIuanAtaWNvbi1hbHQgOmhvdmVyIC5qcC1pY29uLWFjY2VudDItaG92ZXJbc3Ryb2tlXSB7XFxuICBzdHJva2U6IHZhcigtLWpwLWludmVyc2UtbGF5b3V0LWNvbG9yMik7XFxufVxcbi5qcC1pY29uLWhvdmVyLmpwLWljb24tYWx0IDpob3ZlciAuanAtaWNvbi1hY2NlbnQzLWhvdmVyW3N0cm9rZV0ge1xcbiAgc3Ryb2tlOiB2YXIoLS1qcC1pbnZlcnNlLWxheW91dC1jb2xvcjMpO1xcbn1cXG4uanAtaWNvbi1ob3Zlci5qcC1pY29uLWFsdCA6aG92ZXIgLmpwLWljb24tYWNjZW50NC1ob3ZlcltzdHJva2VdIHtcXG4gIHN0cm9rZTogdmFyKC0tanAtaW52ZXJzZS1sYXlvdXQtY29sb3I0KTtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKipcbiAqIFRoZSBjb21tYW5kIHBhbGV0dGUgdG9rZW4uXG4gKi9cbmV4cG9ydCBjb25zdCBJQ29tbWFuZFBhbGV0dGUgPSBuZXcgVG9rZW4oJ0BqdXB5dGVybGFiL2FwcHV0aWxzOklDb21tYW5kUGFsZXR0ZScpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbWFuZHBhbGV0dGUuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MSclM0UgJTNDcGF0aCBkPSdNMjEgM0gzYy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE4YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZIM1Y1aDEwdjRoOHYxMHonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMjEgM0gzYy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE4YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZIM1Y1aDEwdjRoOHYxMHpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogVmFsaWRhdGUgYSBwcm9wZXJ0eSBhcyBiZWluZyBvbiBhbiBvYmplY3QsIGFuZCBvcHRpb25hbGx5XG4gKiBvZiBhIGdpdmVuIHR5cGUgYW5kIGFtb25nIGEgZ2l2ZW4gc2V0IG9mIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eShvYmplY3QsIG5hbWUsIHR5cGVOYW1lLCB2YWx1ZXMgPSBbXSkge1xuICAgIGlmICghb2JqZWN0Lmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBNaXNzaW5nIHByb3BlcnR5ICcke25hbWV9J2ApO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IG9iamVjdFtuYW1lXTtcbiAgICBpZiAodHlwZU5hbWUgIT09IHZvaWQgMCkge1xuICAgICAgICBsZXQgdmFsaWQgPSB0cnVlO1xuICAgICAgICBzd2l0Y2ggKHR5cGVOYW1lKSB7XG4gICAgICAgICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgdmFsaWQgPSB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB2YWxpZCA9IHR5cGVvZiB2YWx1ZSA9PT0gdHlwZU5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSAnJHtuYW1lfScgaXMgbm90IG9mIHR5cGUgJyR7dHlwZU5hbWV9J2ApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdmFsdWVzLmluY2x1ZGVzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB2YWx1ZXMuZmluZEluZGV4KHYgPT4gdiA9PT0gdmFsdWUpID49IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJyR7bmFtZX0nIGlzIG5vdCBvbmUgb2YgdGhlIHZhbGlkIHZhbHVlcyAke0pTT04uc3RyaW5naWZ5KHZhbHVlcyl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLnZhbGlkYXRlUHJvcGVydHkgPSB2YWxpZGF0ZVByb3BlcnR5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGUuanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFdpZGdldCB9IGZyb20gJ0BsdW1pbm8vd2lkZ2V0cyc7XG4vKipcbiAqIFRoZSBzcGlubmVyIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgU3Bpbm5lciBleHRlbmRzIFdpZGdldCB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgc3Bpbm5lciB3aWRnZXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2pwLVNwaW5uZXInKTtcbiAgICAgICAgdGhpcy5ub2RlLnRhYkluZGV4ID0gLTE7XG4gICAgICAgIGxldCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2pwLVNwaW5uZXJDb250ZW50JztcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYCdhY3RpdmF0ZS1yZXF1ZXN0J2AgbWVzc2FnZXMuXG4gICAgICovXG4gICAgb25BY3RpdmF0ZVJlcXVlc3QobXNnKSB7XG4gICAgICAgIHRoaXMubm9kZS5mb2N1cygpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwaW5uZXIuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTgnIGhlaWdodD0nMTgnIHZpZXdCb3g9JzAgMCAxOCAxOCclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MSclM0UgJTNDcGF0aCBkPSdNOSAxMy41Yy0yLjQ5IDAtNC41LTIuMDEtNC41LTQuNVM2LjUxIDQuNSA5IDQuNWMxLjI0IDAgMi4zNi41MiAzLjE3IDEuMzNMMTAgOGg1VjNsLTEuNzYgMS43NkMxMi4xNSAzLjY4IDEwLjY2IDMgOSAzIDUuNjkgMyAzLjAxIDUuNjkgMy4wMSA5UzUuNjkgMTUgOSAxNWMyLjk3IDAgNS40My0yLjE2IDUuOS01aC0xLjUyYy0uNDYgMi0yLjI0IDMuNS00LjM4IDMuNXonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+XFxuICAgIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgICAgICA8cGF0aCBkPVxcXCJNOSAxMy41Yy0yLjQ5IDAtNC41LTIuMDEtNC41LTQuNVM2LjUxIDQuNSA5IDQuNWMxLjI0IDAgMi4zNi41MiAzLjE3IDEuMzNMMTAgOGg1VjNsLTEuNzYgMS43NkMxMi4xNSAzLjY4IDEwLjY2IDMgOSAzIDUuNjkgMyAzLjAxIDUuNjkgMy4wMSA5UzUuNjkgMTUgOSAxNWMyLjk3IDAgNS40My0yLjE2IDUuOS01aC0xLjUyYy0uNDYgMi0yLjI0IDMuNS00LjM4IDMuNXpcXFwiLz5cXG4gICAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmV4cG9ydCAqIGZyb20gJy4vYmx1ZXByaW50JztcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cyc7XG5leHBvcnQgKiBmcm9tICcuL2ljb24nO1xuZXhwb3J0ICogZnJvbSAnLi90b2tlbnMnO1xuZXhwb3J0ICogZnJvbSAnLi91dGlscyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2aWV3Qm94PScwIDAgMjQgMjQnIGhlaWdodD0nMTgnIHdpZHRoPScxOCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J00xOSA5aC00VjNIOXY2SDVsNyA3IDctN3pNNSAxOHYyaDE0di0ySDV6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgd2lkdGg9XFxcIjE4XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTE5IDloLTRWM0g5djZINWw3IDcgNy03ek01IDE4djJoMTR2LTJINXpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyMDAgMjAwJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uLWJyYW5kMSBqcC1pY29uLXNlbGVjdGFibGUnIGZpbGw9JyUyMzAyODhEMSclM0UgJTNDcmVjdCB4PScyMCcgeT0nMTkuOCcgd2lkdGg9JzE2MCcgaGVpZ2h0PScxNTkuOScvJTNFICUzQy9nJTNFICUzQ2cgY2xhc3M9J2pwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlJyBmaWxsPSd3aGl0ZSclM0UgJTNDcmVjdCB4PScxMDUnIHk9JzEyNy4zJyB3aWR0aD0nNDAnIGhlaWdodD0nMTIuOCcvJTNFICUzQ3BvbHlnb24gcG9pbnRzPSc1MS4xLDc3IDc0LDk5LjkgNTAuNywxMjMuMiA2MS4yLDEzMy43IDg0LjUsMTEwLjQgOTUsOTkuOSA4NC41LDg5LjQgNjEuNiw2Ni41ICcvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMDAgMjAwXFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uLWJyYW5kMSBqcC1pY29uLXNlbGVjdGFibGVcXFwiIGZpbGw9XFxcIiMwMjg4RDFcXFwiPlxcbiAgICA8cmVjdCB4PVxcXCIyMFxcXCIgeT1cXFwiMTkuOFxcXCIgd2lkdGg9XFxcIjE2MFxcXCIgaGVpZ2h0PVxcXCIxNTkuOVxcXCIvPlxcbiAgPC9nPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlXFxcIiBmaWxsPVxcXCJ3aGl0ZVxcXCI+XFxuICAgIDxyZWN0IHg9XFxcIjEwNVxcXCIgeT1cXFwiMTI3LjNcXFwiIHdpZHRoPVxcXCI0MFxcXCIgaGVpZ2h0PVxcXCIxMi44XFxcIi8+XFxuICAgIDxwb2x5Z29uIHBvaW50cz1cXFwiNTEuMSw3NyA3NCw5OS45IDUwLjcsMTIzLjIgNjEuMiwxMzMuNyA4NC41LDExMC40IDk1LDk5LjkgODQuNSw4OS40IDYxLjYsNjYuNSBcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBJbXBvcnRzXG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGx1bWluby93aWRnZXRzL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvdWktY29tcG9uZW50cy9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYmFzZS5jc3NcIiksIFwiXCIpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi8qIFRoaXMgZmlsZSB3YXMgYXV0by1nZW5lcmF0ZWQgYnkgZW5zdXJlUGFja2FnZSgpIGluIEBqdXB5dGVybGFiL2J1aWxkdXRpbHMgKi9cXG5cIiwgXCJcIl0pO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgaHBhc3MgfSBmcm9tICdAbHVtaW5vL3ZpcnR1YWxkb20nO1xuaW1wb3J0IHsgRG9ja1BhbmVsLCBUYWJCYXIgfSBmcm9tICdAbHVtaW5vL3dpZGdldHMnO1xuaW1wb3J0IHsgY2xvc2VJY29uIH0gZnJvbSAnLi9pY29uaW1wb3J0cyc7XG5pbXBvcnQgeyBpY29uU3R5bGUgfSBmcm9tICcuLi9zdHlsZSc7XG5pbXBvcnQgeyBjbGFzc2VzIH0gZnJvbSAnLi4vdXRpbHMnO1xuLyoqXG4gKiBhIHdpZGdldCB3aGljaCBkaXNwbGF5cyB0aXRsZXMgYXMgYSBzaW5nbGUgcm93IG9yIGNvbHVtbiBvZiB0YWJzLlxuICogVHdlYWtlZCB0byB1c2UgYW4gaW5saW5lIHN2ZyBhcyB0aGUgY2xvc2UgaWNvblxuICovXG5leHBvcnQgY2xhc3MgVGFiQmFyU3ZnIGV4dGVuZHMgVGFiQmFyIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgdGFiIGJhci4gU2V0cyB0aGUgKGljb24pIGtpbmQgYW5kIG92ZXJyaWRlc1xuICAgICAqIHRoZSBkZWZhdWx0IHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgaW5pdGlhbGl6aW5nIHRoZSB0YWIgYmFyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBvcHRpb25zLnJlbmRlcmVyID0gb3B0aW9ucy5yZW5kZXJlciB8fCBUYWJCYXJTdmcuZGVmYXVsdFJlbmRlcmVyO1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKFRhYkJhclN2Zykge1xuICAgIC8qKlxuICAgICAqIEEgbW9kaWZpZWQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFRhYkJhciBSZW5kZXJlci5cbiAgICAgKi9cbiAgICBjbGFzcyBSZW5kZXJlciBleHRlbmRzIFRhYkJhci5SZW5kZXJlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGhlIGNsb3NlIGljb24gZWxlbWVudCBmb3IgYSB0YWIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBkYXRhIC0gVGhlIGRhdGEgdG8gdXNlIGZvciByZW5kZXJpbmcgdGhlIHRhYi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMgQSB2aXJ0dWFsIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSB0YWIgY2xvc2UgaWNvbi5cbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlckNsb3NlSWNvbihkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc05hbWUgPSBjbGFzc2VzKCdqcC1pY29uLWhvdmVyIGxtLVRhYkJhci10YWJDbG9zZUljb24nLCBpY29uU3R5bGUoeyBqdXN0aWZ5OiAnY2VudGVyJywgaGVpZ2h0OiAnMTZweCcsIHdpZHRoOiAnMTZweCcgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIGhwYXNzKCdkaXYnLCB7IGNsYXNzTmFtZSB9LCBjbG9zZUljb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFRhYkJhclN2Zy5SZW5kZXJlciA9IFJlbmRlcmVyO1xuICAgIFRhYkJhclN2Zy5kZWZhdWx0UmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKTtcbn0pKFRhYkJhclN2ZyB8fCAoVGFiQmFyU3ZnID0ge30pKTtcbi8qKlxuICogYSB3aWRnZXQgd2hpY2ggcHJvdmlkZXMgYSBmbGV4aWJsZSBkb2NraW5nIGFyZWEgZm9yIHdpZGdldHMuXG4gKiBUd2Vha2VkIHRvIHVzZSBhbiBpbmxpbmUgc3ZnIGFzIHRoZSBjbG9zZSBpY29uXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2NrUGFuZWxTdmcgZXh0ZW5kcyBEb2NrUGFuZWwge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBkb2NrIHBhbmVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgaW5pdGlhbGl6aW5nIHRoZSBwYW5lbC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgb3B0aW9ucy5yZW5kZXJlciA9IG9wdGlvbnMucmVuZGVyZXIgfHwgRG9ja1BhbmVsU3ZnLmRlZmF1bHRSZW5kZXJlcjtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxufVxuKGZ1bmN0aW9uIChEb2NrUGFuZWxTdmcpIHtcbiAgICAvKipcbiAgICAgKiBBIG1vZGlmaWVkIGltcGxlbWVudGF0aW9uIG9mIHRoZSBEb2NrUGFuZWwgUmVuZGVyZXIuXG4gICAgICovXG4gICAgY2xhc3MgUmVuZGVyZXIgZXh0ZW5kcyBEb2NrUGFuZWwuUmVuZGVyZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbmV3IHRhYiBiYXIgKHdpdGggaW5saW5lIHN2ZyBpY29ucyBlbmFibGVkXG4gICAgICAgICAqIGZvciB1c2Ugd2l0aCBhIGRvY2sgcGFuZWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIEEgbmV3IHRhYiBiYXIgZm9yIGEgZG9jayBwYW5lbC5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVRhYkJhcigpIHtcbiAgICAgICAgICAgIGxldCBiYXIgPSBuZXcgVGFiQmFyU3ZnKCk7XG4gICAgICAgICAgICBiYXIuYWRkQ2xhc3MoJ2xtLURvY2tQYW5lbC10YWJCYXInKTtcbiAgICAgICAgICAgIHJldHVybiBiYXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgRG9ja1BhbmVsU3ZnLlJlbmRlcmVyID0gUmVuZGVyZXI7XG4gICAgRG9ja1BhbmVsU3ZnLmRlZmF1bHRSZW5kZXJlciA9IG5ldyBSZW5kZXJlcigpO1xufSkoRG9ja1BhbmVsU3ZnIHx8IChEb2NrUGFuZWxTdmcgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFiYmFyc3ZnLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IGNoZWNrSWNvbiwgdW5kb0ljb24gfSBmcm9tICdAanVweXRlcmxhYi91aS1jb21wb25lbnRzJztcbmltcG9ydCB7IEpTT05FeHQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBXaWRnZXQgfSBmcm9tICdAbHVtaW5vL3dpZGdldHMnO1xuaW1wb3J0IHsgQ29kZUVkaXRvciB9IGZyb20gJy4vZWRpdG9yJztcbi8qKlxuICogVGhlIGNsYXNzIG5hbWUgYWRkZWQgdG8gYSBKU09ORWRpdG9yIGluc3RhbmNlLlxuICovXG5jb25zdCBKU09ORURJVE9SX0NMQVNTID0gJ2pwLUpTT05FZGl0b3InO1xuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB3aGVuIHRoZSBNZXRhZGF0YSBlZGl0b3IgY29udGFpbnMgaW52YWxpZCBKU09OLlxuICovXG5jb25zdCBFUlJPUl9DTEFTUyA9ICdqcC1tb2QtZXJyb3InO1xuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB0byB0aGUgZWRpdG9yIGhvc3Qgbm9kZS5cbiAqL1xuY29uc3QgSE9TVF9DTEFTUyA9ICdqcC1KU09ORWRpdG9yLWhvc3QnO1xuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB0byB0aGUgaGVhZGVyIGFyZWEuXG4gKi9cbmNvbnN0IEhFQURFUl9DTEFTUyA9ICdqcC1KU09ORWRpdG9yLWhlYWRlcic7XG4vKipcbiAqIEEgd2lkZ2V0IGZvciBlZGl0aW5nIG9ic2VydmFibGUgSlNPTi5cbiAqL1xuZXhwb3J0IGNsYXNzIEpTT05FZGl0b3IgZXh0ZW5kcyBXaWRnZXQge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBKU09OIGVkaXRvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RhdGFEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pbnB1dERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsVmFsdWUgPSBKU09ORXh0LmVtcHR5T2JqZWN0O1xuICAgICAgICB0aGlzLl9jaGFuZ2VHdWFyZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZENsYXNzKEpTT05FRElUT1JfQ0xBU1MpO1xuICAgICAgICB0aGlzLmhlYWRlck5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5oZWFkZXJOb2RlLmNsYXNzTmFtZSA9IEhFQURFUl9DTEFTUztcbiAgICAgICAgdGhpcy5yZXZlcnRCdXR0b25Ob2RlID0gdW5kb0ljb24uZWxlbWVudCh7XG4gICAgICAgICAgICB0YWc6ICdzcGFuJyxcbiAgICAgICAgICAgIHRpdGxlOiAnUmV2ZXJ0IGNoYW5nZXMgdG8gZGF0YSdcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tbWl0QnV0dG9uTm9kZSA9IGNoZWNrSWNvbi5lbGVtZW50KHtcbiAgICAgICAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgICAgICAgdGl0bGU6ICdDb21taXQgY2hhbmdlcyB0byBkYXRhJyxcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6ICc4cHgnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVkaXRvckhvc3ROb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZWRpdG9ySG9zdE5vZGUuY2xhc3NOYW1lID0gSE9TVF9DTEFTUztcbiAgICAgICAgdGhpcy5oZWFkZXJOb2RlLmFwcGVuZENoaWxkKHRoaXMucmV2ZXJ0QnV0dG9uTm9kZSk7XG4gICAgICAgIHRoaXMuaGVhZGVyTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmNvbW1pdEJ1dHRvbk5vZGUpO1xuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5oZWFkZXJOb2RlKTtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKHRoaXMuZWRpdG9ySG9zdE5vZGUpO1xuICAgICAgICBsZXQgbW9kZWwgPSBuZXcgQ29kZUVkaXRvci5Nb2RlbCgpO1xuICAgICAgICBtb2RlbC52YWx1ZS50ZXh0ID0gJ05vIGRhdGEhJztcbiAgICAgICAgbW9kZWwubWltZVR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIG1vZGVsLnZhbHVlLmNoYW5nZWQuY29ubmVjdCh0aGlzLl9vblZhbHVlQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBvcHRpb25zLmVkaXRvckZhY3RvcnkoeyBob3N0OiB0aGlzLmVkaXRvckhvc3ROb2RlLCBtb2RlbCB9KTtcbiAgICAgICAgdGhpcy5lZGl0b3Iuc2V0T3B0aW9uKCdyZWFkT25seScsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgb2JzZXJ2YWJsZSBzb3VyY2UuXG4gICAgICovXG4gICAgZ2V0IHNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZTtcbiAgICB9XG4gICAgc2V0IHNvdXJjZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fc291cmNlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3NvdXJjZS5jaGFuZ2VkLmRpc2Nvbm5lY3QodGhpcy5fb25Tb3VyY2VDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zb3VyY2UgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5lZGl0b3Iuc2V0T3B0aW9uKCdyZWFkT25seScsIHZhbHVlID09PSBudWxsKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZS5jaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25Tb3VyY2VDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRWYWx1ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgd2hldGhlciB0aGUgZWRpdG9yIGlzIGRpcnR5LlxuICAgICAqL1xuICAgIGdldCBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YURpcnR5IHx8IHRoaXMuX2lucHV0RGlydHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgRE9NIGV2ZW50cyBmb3IgdGhlIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBET00gZXZlbnQgc2VudCB0byB0aGUgd2lkZ2V0LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgbWV0aG9kIGltcGxlbWVudHMgdGhlIERPTSBgRXZlbnRMaXN0ZW5lcmAgaW50ZXJmYWNlIGFuZCBpc1xuICAgICAqIGNhbGxlZCBpbiByZXNwb25zZSB0byBldmVudHMgb24gdGhlIG5vdGVib29rIHBhbmVsJ3Mgbm9kZS4gSXQgc2hvdWxkXG4gICAgICogbm90IGJlIGNhbGxlZCBkaXJlY3RseSBieSB1c2VyIGNvZGUuXG4gICAgICovXG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdibHVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9ldnRCbHVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9ldnRDbGljayhldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBgYWZ0ZXItYXR0YWNoYCBtZXNzYWdlcyBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBvbkFmdGVyQXR0YWNoKG1zZykge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuZWRpdG9ySG9zdE5vZGU7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMsIHRydWUpO1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcywgdHJ1ZSk7XG4gICAgICAgIHRoaXMucmV2ZXJ0QnV0dG9uTm9kZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbW1pdEJ1dHRvbk5vZGUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oZWFkZXJOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYGFmdGVyLXNob3dgIG1lc3NhZ2VzIGZvciB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIG9uQWZ0ZXJTaG93KG1zZykge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYHVwZGF0ZS1yZXF1ZXN0YCBtZXNzYWdlcyBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBvblVwZGF0ZVJlcXVlc3QobXNnKSB7XG4gICAgICAgIHRoaXMuZWRpdG9yLnJlZnJlc2goKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGBiZWZvcmUtZGV0YWNoYCBtZXNzYWdlcyBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBvbkJlZm9yZURldGFjaChtc2cpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmVkaXRvckhvc3ROb2RlO1xuICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMsIHRydWUpO1xuICAgICAgICB0aGlzLmhlYWRlck5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgY2hhbmdlIHRvIHRoZSBtZXRhZGF0YSBvZiB0aGUgc291cmNlLlxuICAgICAqL1xuICAgIF9vblNvdXJjZUNoYW5nZWQoc2VuZGVyLCBhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VHdWFyZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pbnB1dERpcnR5IHx8IHRoaXMuZWRpdG9yLmhhc0ZvY3VzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGFEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0VmFsdWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGNoYW5nZSBldmVudHMuXG4gICAgICovXG4gICAgX29uVmFsdWVDaGFuZ2VkKCkge1xuICAgICAgICBsZXQgdmFsaWQgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gSlNPTi5wYXJzZSh0aGlzLmVkaXRvci5tb2RlbC52YWx1ZS50ZXh0KTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoRVJST1JfQ0xBU1MpO1xuICAgICAgICAgICAgdGhpcy5faW5wdXREaXJ0eSA9XG4gICAgICAgICAgICAgICAgIXRoaXMuX2NoYW5nZUd1YXJkICYmICFKU09ORXh0LmRlZXBFcXVhbCh2YWx1ZSwgdGhpcy5fb3JpZ2luYWxWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyhFUlJPUl9DTEFTUyk7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXZlcnRCdXR0b25Ob2RlLmhpZGRlbiA9ICF0aGlzLl9pbnB1dERpcnR5O1xuICAgICAgICB0aGlzLmNvbW1pdEJ1dHRvbk5vZGUuaGlkZGVuID0gIXZhbGlkIHx8ICF0aGlzLl9pbnB1dERpcnR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYmx1ciBldmVudHMgZm9yIHRoZSB0ZXh0IGFyZWEuXG4gICAgICovXG4gICAgX2V2dEJsdXIoZXZlbnQpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtZXRhZGF0YSBpZiBuZWNlc3NhcnkuXG4gICAgICAgIGlmICghdGhpcy5faW5wdXREaXJ0eSAmJiB0aGlzLl9kYXRhRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGNsaWNrIGV2ZW50cyBmb3IgdGhlIGJ1dHRvbnMuXG4gICAgICovXG4gICAgX2V2dENsaWNrKGV2ZW50KSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmICh0aGlzLnJldmVydEJ1dHRvbk5vZGUuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbW1pdEJ1dHRvbk5vZGUuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbW1pdEJ1dHRvbk5vZGUuaGlkZGVuICYmICF0aGlzLmhhc0NsYXNzKEVSUk9SX0NMQVNTKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUd1YXJkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXJnZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VHdWFyZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFZhbHVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lZGl0b3JIb3N0Tm9kZS5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lcmdlIHRoZSB1c2VyIGNvbnRlbnQuXG4gICAgICovXG4gICAgX21lcmdlQ29udGVudCgpIHtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5lZGl0b3IubW9kZWw7XG4gICAgICAgIGxldCBvbGQgPSB0aGlzLl9vcmlnaW5hbFZhbHVlO1xuICAgICAgICBsZXQgdXNlciA9IEpTT04ucGFyc2UobW9kZWwudmFsdWUudGV4dCk7XG4gICAgICAgIGxldCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBpdCBpcyBpbiB1c2VyIGFuZCBoYXMgY2hhbmdlZCBmcm9tIG9sZCwgc2V0IGluIG5ldy5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHVzZXIpIHtcbiAgICAgICAgICAgIGlmICghSlNPTkV4dC5kZWVwRXF1YWwodXNlcltrZXldLCBvbGRba2V5XSB8fCBudWxsKSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5zZXQoa2V5LCB1c2VyW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIGl0IHdhcyBpbiBvbGQgYW5kIGlzIG5vdCBpbiB1c2VyLCByZW1vdmUgZnJvbSBzb3VyY2UuXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBvbGQpIHtcbiAgICAgICAgICAgIGlmICghKGtleSBpbiB1c2VyKSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHZhbHVlIGdpdmVuIHRoZSBvd25lciBjb250ZW50cy5cbiAgICAgKi9cbiAgICBfc2V0VmFsdWUoKSB7XG4gICAgICAgIHRoaXMuX2RhdGFEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pbnB1dERpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmV2ZXJ0QnV0dG9uTm9kZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbW1pdEJ1dHRvbk5vZGUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyhFUlJPUl9DTEFTUyk7XG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMuZWRpdG9yLm1vZGVsO1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuX3NvdXJjZSA/IHRoaXMuX3NvdXJjZS50b0pTT04oKSA6IHt9O1xuICAgICAgICB0aGlzLl9jaGFuZ2VHdWFyZCA9IHRydWU7XG4gICAgICAgIGlmIChjb250ZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG1vZGVsLnZhbHVlLnRleHQgPSAnTm8gZGF0YSEnO1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxWYWx1ZSA9IEpTT05FeHQuZW1wdHlPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBKU09OLnN0cmluZ2lmeShjb250ZW50LCBudWxsLCA0KTtcbiAgICAgICAgICAgIG1vZGVsLnZhbHVlLnRleHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsVmFsdWUgPSBjb250ZW50O1xuICAgICAgICAgICAgLy8gTW92ZSB0aGUgY3Vyc29yIHRvIHdpdGhpbiB0aGUgYnJhY2UuXG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMSAmJiB2YWx1ZVswXSA9PT0gJ3snKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc2V0Q3Vyc29yUG9zaXRpb24oeyBsaW5lOiAwLCBjb2x1bW46IDEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZGl0b3IucmVmcmVzaCgpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VHdWFyZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbW1pdEJ1dHRvbk5vZGUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXZlcnRCdXR0b25Ob2RlLmhpZGRlbiA9IHRydWU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbmVkaXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHVybF9wYXJzZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJ1cmwtcGFyc2VcIikpO1xuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBVUkwtcmVsYXRlZCBmdW5jdGlvbnMuXG4gKi9cbnZhciBVUkxFeHQ7XG4oZnVuY3Rpb24gKFVSTEV4dCkge1xuICAgIC8qKlxuICAgICAqIFBhcnNlIGEgdXJsIGludG8gYSBVUkwgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHVybFN0cmluZyAtIFRoZSBVUkwgc3RyaW5nIHRvIHBhcnNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBVUkwgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlKHVybCkge1xuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCkge1xuICAgICAgICAgICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsX3BhcnNlXzEuZGVmYXVsdCh1cmwpO1xuICAgIH1cbiAgICBVUkxFeHQucGFyc2UgPSBwYXJzZTtcbiAgICBmdW5jdGlvbiBub3JtYWxpemUodXJsKSB7XG4gICAgICAgIHJldHVybiB1cmwgJiYgcGFyc2UodXJsKS50b1N0cmluZygpO1xuICAgIH1cbiAgICBVUkxFeHQubm9ybWFsaXplID0gbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIEpvaW4gYSBzZXF1ZW5jZSBvZiB1cmwgY29tcG9uZW50cyBhbmQgbm9ybWFsaXplcyBhcyBpbiBub2RlIGBwYXRoLmpvaW5gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcnRzIC0gVGhlIHVybCBjb21wb25lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIGpvaW5lZCB1cmwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbiguLi5wYXJ0cykge1xuICAgICAgICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuICAgICAgICAvLyBJc29sYXRlIHRoZSB0b3AgZWxlbWVudC5cbiAgICAgICAgY29uc3QgdG9wID0gcGFydHNbMF0gfHwgJyc7XG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgcHJvdG9jb2wgc2hvcnRoYW5kIGlzIGJlaW5nIHVzZWQuXG4gICAgICAgIGNvbnN0IHNob3J0aGFuZCA9IHRvcC5pbmRleE9mKCcvLycpID09PSAwO1xuICAgICAgICAvLyBQYXJzZSB0aGUgdG9wIGVsZW1lbnQgaW50byBhIGhlYWRlciBjb2xsZWN0aW9uLlxuICAgICAgICBjb25zdCBoZWFkZXIgPSB0b3AubWF0Y2goLyhcXHcrKSg6KShcXC9cXC8pPy8pO1xuICAgICAgICBjb25zdCBwcm90b2NvbCA9IGhlYWRlciAmJiBoZWFkZXJbMV07XG4gICAgICAgIGNvbnN0IGNvbG9uID0gcHJvdG9jb2wgJiYgaGVhZGVyWzJdO1xuICAgICAgICBjb25zdCBzbGFzaGVzID0gY29sb24gJiYgaGVhZGVyWzNdO1xuICAgICAgICAvLyBDb25zdHJ1Y3QgdGhlIFVSTCBwcmVmaXguXG4gICAgICAgIGNvbnN0IHByZWZpeCA9IHNob3J0aGFuZFxuICAgICAgICAgICAgPyAnLy8nXG4gICAgICAgICAgICA6IFtwcm90b2NvbCwgY29sb24sIHNsYXNoZXNdLmZpbHRlcihzdHIgPT4gc3RyKS5qb2luKCcnKTtcbiAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBVUkwgYm9keSBvbWl0dGluZyB0aGUgcHJlZml4IG9mIHRoZSB0b3AgdmFsdWUuXG4gICAgICAgIGNvbnN0IGJvZHkgPSBbdG9wLmluZGV4T2YocHJlZml4KSA9PT0gMCA/IHRvcC5yZXBsYWNlKHByZWZpeCwgJycpIDogdG9wXVxuICAgICAgICAgICAgLy8gRmlsdGVyIG91dCB0b3AgdmFsdWUgaWYgZW1wdHkuXG4gICAgICAgICAgICAuZmlsdGVyKHN0ciA9PiBzdHIpXG4gICAgICAgICAgICAvLyBSZW1vdmUgbGVhZGluZyBzbGFzaGVzIGluIGFsbCBzdWJzZXF1ZW50IFVSTCBib2R5IGVsZW1lbnRzLlxuICAgICAgICAgICAgLmNvbmNhdChwYXJ0cy5zbGljZSgxKS5tYXAoc3RyID0+IHN0ci5yZXBsYWNlKC9eXFwvLywgJycpKSlcbiAgICAgICAgICAgIC5qb2luKCcvJylcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgbXVsdGlwbGUgc2xhc2hlcyB3aXRoIG9uZS5cbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC8rL2csICcvJyk7XG4gICAgICAgIHJldHVybiBwcmVmaXggKyBib2R5O1xuICAgIH1cbiAgICBVUkxFeHQuam9pbiA9IGpvaW47XG4gICAgLyoqXG4gICAgICogRW5jb2RlIHRoZSBjb21wb25lbnRzIG9mIGEgbXVsdGktc2VnbWVudCB1cmwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXJsIC0gVGhlIHVybCB0byBlbmNvZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgZW5jb2RlZCB1cmwuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogUHJlc2VydmVzIHRoZSBgJy8nYCBzZXBhcmF0b3JzLlxuICAgICAqIFNob3VsZCBub3QgaW5jbHVkZSB0aGUgYmFzZSB1cmwsIHNpbmNlIGFsbCBwYXJ0cyBhcmUgZXNjYXBlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmNvZGVQYXJ0cyh1cmwpIHtcbiAgICAgICAgcmV0dXJuIGpvaW4oLi4udXJsLnNwbGl0KCcvJykubWFwKGVuY29kZVVSSUNvbXBvbmVudCkpO1xuICAgIH1cbiAgICBVUkxFeHQuZW5jb2RlUGFydHMgPSBlbmNvZGVQYXJ0cztcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBzZXJpYWxpemVkIG9iamVjdCBzdHJpbmcgc3VpdGFibGUgZm9yIGEgcXVlcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2JqZWN0IC0gVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBlbmNvZGVkIHVybCBxdWVyeS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBNb2RpZmllZCB2ZXJzaW9uIG9mIFtzdGFja292ZXJmbG93XShodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMDcwNzQyMykuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9RdWVyeVN0cmluZyh2YWx1ZSkge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpLmZpbHRlcihrZXkgPT4ga2V5Lmxlbmd0aCA+IDApO1xuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgnPycgK1xuICAgICAgICAgICAga2V5c1xuICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZVtrZXldKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleSArIChjb250ZW50ID8gJz0nICsgY29udGVudCA6ICcnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmpvaW4oJyYnKSk7XG4gICAgfVxuICAgIFVSTEV4dC5vYmplY3RUb1F1ZXJ5U3RyaW5nID0gb2JqZWN0VG9RdWVyeVN0cmluZztcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBwYXJzZWQgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgdmFsdWVzIGluIGEgcXVlcnkgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHF1ZXJ5U3RyaW5nVG9PYmplY3QodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxcPy8sICcnKVxuICAgICAgICAgICAgLnNwbGl0KCcmJylcbiAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgdmFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSB2YWwuc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgVVJMRXh0LnF1ZXJ5U3RyaW5nVG9PYmplY3QgPSBxdWVyeVN0cmluZ1RvT2JqZWN0O1xuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0aGUgdXJsIGlzIGEgbG9jYWwgdXJsLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBgZmFsc2VgIGZvciBhbnkgZnVsbHkgcXVhbGlmaWVkIHVybCwgaW5jbHVkaW5nXG4gICAgICogYGRhdGE6YCwgYGZpbGU6YCwgYW5kIGAvL2AgcHJvdG9jb2wgVVJMcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xvY2FsKHVybCkge1xuICAgICAgICBjb25zdCB7IHByb3RvY29sIH0gPSBwYXJzZSh1cmwpO1xuICAgICAgICByZXR1cm4gKCghcHJvdG9jb2wgfHwgdXJsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihwcm90b2NvbCkgIT09IDApICYmXG4gICAgICAgICAgICB1cmwuaW5kZXhPZignLycpICE9PSAwKTtcbiAgICB9XG4gICAgVVJMRXh0LmlzTG9jYWwgPSBpc0xvY2FsO1xufSkoVVJMRXh0ID0gZXhwb3J0cy5VUkxFeHQgfHwgKGV4cG9ydHMuVVJMRXh0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5leHBvcnQgKiBmcm9tICcuL2h0bWxzZWxlY3QnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcmZhY2UnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuLyoqXG4gKiBBIGNvbmNyZXRlIGltcGxlbWVudGF0aW9uIG9mIFtbSU9ic2VydmFibGVTdHJpbmddXVxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZVN0cmluZyB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IG9ic2VydmFibGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxUZXh0ID0gJycpIHtcbiAgICAgICAgdGhpcy5fdGV4dCA9ICcnO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl90ZXh0ID0gaW5pdGlhbFRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBPYnNlcnZhYmxlLlxuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gJ1N0cmluZyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgc3RyaW5nIGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuICAgIGdldCBjaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIHNldCB0ZXh0KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IHRoaXMuX3RleHQubGVuZ3RoICYmIHZhbHVlID09PSB0aGlzLl90ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQoe1xuICAgICAgICAgICAgdHlwZTogJ3NldCcsXG4gICAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICAgIGVuZDogdmFsdWUubGVuZ3RoLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZ2V0IHRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYSBzdWJzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgc3RhcnRpbmcgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGV4dCAtIFRoZSBzdWJzdHJpbmcgdG8gaW5zZXJ0LlxuICAgICAqL1xuICAgIGluc2VydChpbmRleCwgdGV4dCkge1xuICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5fdGV4dC5zbGljZSgwLCBpbmRleCkgKyB0ZXh0ICsgdGhpcy5fdGV4dC5zbGljZShpbmRleCk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICB0eXBlOiAnaW5zZXJ0JyxcbiAgICAgICAgICAgIHN0YXJ0OiBpbmRleCxcbiAgICAgICAgICAgIGVuZDogaW5kZXggKyB0ZXh0Lmxlbmd0aCxcbiAgICAgICAgICAgIHZhbHVlOiB0ZXh0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzdWJzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBUaGUgc3RhcnRpbmcgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5kIC0gVGhlIGVuZGluZyBpbmRleC5cbiAgICAgKi9cbiAgICByZW1vdmUoc3RhcnQsIGVuZCkge1xuICAgICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl90ZXh0LnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5fdGV4dC5zbGljZSgwLCBzdGFydCkgKyB0aGlzLl90ZXh0LnNsaWNlKGVuZCk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICB0eXBlOiAncmVtb3ZlJyxcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgIGVuZDogZW5kLFxuICAgICAgICAgICAgdmFsdWU6IG9sZFZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIE9ic2VydmFibGVTdHJpbmcgdG8gYW4gZW1wdHkgc3RyaW5nLlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnRleHQgPSAnJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBzdHJpbmcgaGFzIGJlZW4gZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIFNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlc3RyaW5nLmpzLm1hcCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgQ29weXJpZ2h0IChjKSAyMDE0LTIwMTYsIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58XFxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4uanAtTWFpbkFyZWFXaWRnZXQgPiA6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuLyoqXG4gKiBBIHRva2VuIGZvciB3aGljaCBhIHBsdWdpbiBjYW4gcHJvdmlkZSB0byByZXNwb25kIHRvIGNvbm5lY3Rpb24gZmFpbHVyZXNcbiAqIHRvIHRoZSBhcHBsaWNhdGlvbiBzZXJ2ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBJQ29ubmVjdGlvbkxvc3QgPSBuZXcgVG9rZW4oJ0BqdXB5dGVybGFiL2FwcHV0aWxzOklDb25uZWN0aW9uTG9zdCcpO1xuLyoqXG4gKiBUaGUgVVJMIFJvdXRlciB0b2tlbi5cbiAqL1xuZXhwb3J0IGNvbnN0IElSb3V0ZXIgPSBuZXcgVG9rZW4oJ0BqdXB5dGVybGFiL2FwcGxpY2F0aW9uOklSb3V0ZXInKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRva2Vucy5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVkRvbVJlbmRlcmVyLCBWRG9tTW9kZWwsIFJlYWN0V2lkZ2V0IH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwdXRpbHMnO1xuaW1wb3J0IHsgbGluZUZvcm1JY29uIH0gZnJvbSAnQGp1cHl0ZXJsYWIvdWktY29tcG9uZW50cyc7XG5pbXBvcnQgeyBjbGFzc2VzIH0gZnJvbSAndHlwZXN0eWxlL2xpYic7XG5pbXBvcnQgeyBpbnRlcmFjdGl2ZUl0ZW0sIHNob3dQb3B1cCwgVGV4dEl0ZW0gfSBmcm9tICcuLic7XG5pbXBvcnQgeyBsaW5lRm9ybVdyYXBwZXIsIGxpbmVGb3JtSW5wdXQsIGxpbmVGb3JtU2VhcmNoLCBsaW5lRm9ybVdyYXBwZXJGb2N1c1dpdGhpbiwgbGluZUZvcm1DYXB0aW9uLCBsaW5lRm9ybUJ1dHRvbkRpdiwgbGluZUZvcm1CdXR0b25JY29uLCBsaW5lRm9ybUJ1dHRvbiB9IGZyb20gJy4uL3N0eWxlL2xpbmVGb3JtJztcbi8qKlxuICogQSBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBhIFwiZ28tdG8tbGluZVwiIGZvcm0uXG4gKi9cbmNsYXNzIExpbmVGb3JtQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgTGluZUZvcm1Db21wb25lbnQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlIGEgY2hhbmdlIHRvIHRoZSB2YWx1ZSBpbiB0aGUgaW5wdXQgZmllbGQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBzdWJtaXNzaW9uIG9mIHRoZSBpbnB1dCBmaWVsZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQodGhpcy5fdGV4dElucHV0LnZhbHVlLCAxMCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSAmJlxuICAgICAgICAgICAgICAgIGlzRmluaXRlKHZhbHVlKSAmJlxuICAgICAgICAgICAgICAgIDEgPD0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgICB2YWx1ZSA8PSB0aGlzLnByb3BzLm1heExpbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVN1Ym1pdCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGUgZm9jdXNpbmcgb2YgdGhlIGlucHV0IGZpZWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGFuZGxlRm9jdXMgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaGFzRm9jdXM6IHRydWUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGUgYmx1cnJpbmcgb2YgdGhlIGlucHV0IGZpZWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGFuZGxlQmx1ciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBoYXNGb2N1czogZmFsc2UgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3RleHRJbnB1dCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICBoYXNGb2N1czogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9jdXMgdGhlIGVsZW1lbnQgb24gbW91bnQuXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuX3RleHRJbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIExpbmVGb3JtQ29tcG9uZW50LlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBsaW5lRm9ybVNlYXJjaCB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImZvcm1cIiwgeyBuYW1lOiBcImxpbmVDb2x1bW5Gb3JtXCIsIG9uU3VibWl0OiB0aGlzLl9oYW5kbGVTdWJtaXQsIG5vVmFsaWRhdGU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzKGxpbmVGb3JtV3JhcHBlciwgJ2xtLWxpbmVGb3JtLXdyYXBwZXInLCB0aGlzLnN0YXRlLmhhc0ZvY3VzID8gbGluZUZvcm1XcmFwcGVyRm9jdXNXaXRoaW4gOiB1bmRlZmluZWQpIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHR5cGU6IFwidGV4dFwiLCBjbGFzc05hbWU6IGxpbmVGb3JtSW5wdXQsIG9uQ2hhbmdlOiB0aGlzLl9oYW5kbGVDaGFuZ2UsIG9uRm9jdXM6IHRoaXMuX2hhbmRsZUZvY3VzLCBvbkJsdXI6IHRoaXMuX2hhbmRsZUJsdXIsIHZhbHVlOiB0aGlzLnN0YXRlLnZhbHVlLCByZWY6IGlucHV0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZXh0SW5wdXQgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGxpbmVGb3JtQnV0dG9uRGl2IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KGxpbmVGb3JtSWNvbi5yZWFjdCwgeyBjbGFzc05hbWU6IGxpbmVGb3JtQnV0dG9uSWNvbiwganVzdGlmeTogXCJjZW50ZXJcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHR5cGU6IFwic3VibWl0XCIsIGNsYXNzTmFtZTogbGluZUZvcm1CdXR0b24sIHZhbHVlOiBcIlwiIH0pKSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBsaW5lRm9ybUNhcHRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgXCJHbyB0byBsaW5lIG51bWJlciBiZXR3ZWVuIDEgYW5kIFwiLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1heExpbmUpKSkpO1xuICAgIH1cbn1cbi8qKlxuICogQSBwdXJlIGZ1bmN0aW9uYWwgY29tcG9uZW50IGZvciByZW5kZXJpbmcgYSBsaW5lL2NvbHVtblxuICogc3RhdHVzIGl0ZW0uXG4gKi9cbmZ1bmN0aW9uIExpbmVDb2xDb21wb25lbnQocHJvcHMpIHtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEl0ZW0sIHsgb25DbGljazogcHJvcHMuaGFuZGxlQ2xpY2ssIHNvdXJjZTogYExuICR7cHJvcHMubGluZX0sIENvbCAke3Byb3BzLmNvbHVtbn1gLCB0aXRsZTogXCJHbyB0byBsaW5lIG51bWJlclxcdTIwMjZcIiB9KSk7XG59XG4vKipcbiAqIEEgd2lkZ2V0IGltcGxlbWVudGluZyBhIGxpbmUvY29sdW1uIHN0YXR1cyBpdGVtLlxuICovXG5leHBvcnQgY2xhc3MgTGluZUNvbCBleHRlbmRzIFZEb21SZW5kZXJlciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IExpbmVDb2wgc3RhdHVzIGl0ZW0uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG5ldyBMaW5lQ29sLk1vZGVsKCkpO1xuICAgICAgICB0aGlzLl9wb3B1cCA9IG51bGw7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoaW50ZXJhY3RpdmVJdGVtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaW5lQ29sQ29tcG9uZW50LCB7IGxpbmU6IHRoaXMubW9kZWwubGluZSwgY29sdW1uOiB0aGlzLm1vZGVsLmNvbHVtbiwgaGFuZGxlQ2xpY2s6ICgpID0+IHRoaXMuX2hhbmRsZUNsaWNrKCkgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgY2xpY2sgaGFuZGxlciBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBfaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLl9wb3B1cCkge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXAuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvZHkgPSBSZWFjdFdpZGdldC5jcmVhdGUoUmVhY3QuY3JlYXRlRWxlbWVudChMaW5lRm9ybUNvbXBvbmVudCwgeyBoYW5kbGVTdWJtaXQ6IHZhbCA9PiB0aGlzLl9oYW5kbGVTdWJtaXQodmFsKSwgY3VycmVudExpbmU6IHRoaXMubW9kZWwubGluZSwgbWF4TGluZTogdGhpcy5tb2RlbC5lZGl0b3IubGluZUNvdW50IH0pKTtcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBzaG93UG9wdXAoe1xuICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgIGFuY2hvcjogdGhpcyxcbiAgICAgICAgICAgIGFsaWduOiAncmlnaHQnXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgc3VibWlzc2lvbiBmb3IgdGhlIHdpZGdldC5cbiAgICAgKi9cbiAgICBfaGFuZGxlU3VibWl0KHZhbHVlKSB7XG4gICAgICAgIHRoaXMubW9kZWwuZWRpdG9yLnNldEN1cnNvclBvc2l0aW9uKHsgbGluZTogdmFsdWUgLSAxLCBjb2x1bW46IDAgfSk7XG4gICAgICAgIHRoaXMuX3BvcHVwLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5tb2RlbC5lZGl0b3IuZm9jdXMoKTtcbiAgICB9XG59XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBMaW5lQ29sIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoTGluZUNvbCkge1xuICAgIC8qKlxuICAgICAqIEEgVkRvbSBtb2RlbCBmb3IgYSBzdGF0dXMgaXRlbSB0cmFja2luZyB0aGUgbGluZS9jb2x1bW4gb2YgYW4gZWRpdG9yLlxuICAgICAqL1xuICAgIGNsYXNzIE1vZGVsIGV4dGVuZHMgVkRvbU1vZGVsIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWFjdCB0byBhIGNoYW5nZSBpbiB0aGUgY3Vyc29ycyBvZiB0aGUgY3VycmVudCBlZGl0b3IuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX29uU2VsZWN0aW9uQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRTdGF0ZSA9IHRoaXMuX2dldEFsbFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gdGhpcy5lZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lID0gcG9zLmxpbmUgKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbHVtbiA9IHBvcy5jb2x1bW4gKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2Uob2xkU3RhdGUsIHRoaXMuX2dldEFsbFN0YXRlKCkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2xpbmUgPSAxO1xuICAgICAgICAgICAgdGhpcy5fY29sdW1uID0gMTtcbiAgICAgICAgICAgIHRoaXMuX2VkaXRvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGVkaXRvciBvZiB0aGUgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgZWRpdG9yKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvcjtcbiAgICAgICAgfVxuICAgICAgICBzZXQgZWRpdG9yKGVkaXRvcikge1xuICAgICAgICAgICAgY29uc3Qgb2xkRWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuICAgICAgICAgICAgaWYgKG9sZEVkaXRvcikge1xuICAgICAgICAgICAgICAgIG9sZEVkaXRvci5tb2RlbC5zZWxlY3Rpb25zLmNoYW5nZWQuZGlzY29ubmVjdCh0aGlzLl9vblNlbGVjdGlvbkNoYW5nZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLl9nZXRBbGxTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9lZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2x1bW4gPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmUgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWRpdG9yLm1vZGVsLnNlbGVjdGlvbnMuY2hhbmdlZC5jb25uZWN0KHRoaXMuX29uU2VsZWN0aW9uQ2hhbmdlZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29sdW1uID0gcG9zLmNvbHVtbiArIDE7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZSA9IHBvcy5saW5lICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2Uob2xkU3RhdGUsIHRoaXMuX2dldEFsbFN0YXRlKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBsaW5lIG9mIHRoZSBtb2RlbC5cbiAgICAgICAgICovXG4gICAgICAgIGdldCBsaW5lKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGNvbHVtbiBvZiB0aGUgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgY29sdW1uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBfZ2V0QWxsU3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3RoaXMuX2xpbmUsIHRoaXMuX2NvbHVtbl07XG4gICAgICAgIH1cbiAgICAgICAgX3RyaWdnZXJDaGFuZ2Uob2xkU3RhdGUsIG5ld1N0YXRlKSB7XG4gICAgICAgICAgICBpZiAob2xkU3RhdGVbMF0gIT09IG5ld1N0YXRlWzBdIHx8IG9sZFN0YXRlWzFdICE9PSBuZXdTdGF0ZVsxXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkLmVtaXQodm9pZCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBMaW5lQ29sLk1vZGVsID0gTW9kZWw7XG59KShMaW5lQ29sIHx8IChMaW5lQ29sID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpbmVDb2wuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29uZmlnXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbnRlbnRzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2tlcm5lbFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9rZXJuZWxzcGVjXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL21hbmFnZXJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc2VydmVyY29ubmVjdGlvblwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zZXNzaW9uXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3NldHRpbmdcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdGVybWluYWxcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vd29ya3NwYWNlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL25iY29udmVydFwiKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlcm5lbHNwZWMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgc2hvd0Vycm9yTWVzc2FnZSB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbi8qKlxuICogQSBkZWZhdWx0IGNvbm5lY3Rpb24gbG9zdCBoYW5kbGVyLCB3aGljaCBicmluZ3MgdXAgYW4gZXJyb3IgZGlhbG9nLlxuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvbkxvc3QgPSBhc3luYyBmdW5jdGlvbiAobWFuYWdlciwgZXJyKSB7XG4gICAgY29uc3QgdGl0bGUgPSAnU2VydmVyIENvbm5lY3Rpb24gRXJyb3InO1xuICAgIGNvbnN0IG5ldHdvcmtNc2cgPSAnQSBjb25uZWN0aW9uIHRvIHRoZSBKdXB5dGVyIHNlcnZlciBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQuXFxuJyArXG4gICAgICAgICdKdXB5dGVyTGFiIHdpbGwgY29udGludWUgdHJ5aW5nIHRvIHJlY29ubmVjdC5cXG4nICtcbiAgICAgICAgJ0NoZWNrIHlvdXIgbmV0d29yayBjb25uZWN0aW9uIG9yIEp1cHl0ZXIgc2VydmVyIGNvbmZpZ3VyYXRpb24uXFxuJztcbiAgICByZXR1cm4gc2hvd0Vycm9yTWVzc2FnZSh0aXRsZSwgeyBtZXNzYWdlOiBuZXR3b3JrTXNnIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3Rpb25sb3N0LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZpZXdCb3g9JzAgMCAxOCAxOCcgaGVpZ2h0PScxOCcgd2lkdGg9JzE4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgZmlsbD0nJTIzZmZmJyUzRSAlM0NwYXRoIGQ9J00xMi4xLDEwLjloLTAuN2wtMC4yLTAuMmMwLjgtMC45LDEuMy0yLjIsMS4zLTMuNWMwLTMtMi40LTUuNC01LjQtNS40UzEuOCw0LjIsMS44LDcuMXMyLjQsNS40LDUuNCw1LjQgYzEuMywwLDIuNS0wLjUsMy41LTEuM2wwLjIsMC4ydjAuN2w0LjEsNC4xbDEuMi0xLjJMMTIuMSwxMC45eiBNNy4xLDEwLjljLTIuMSwwLTMuNy0xLjctMy43LTMuN3MxLjctMy43LDMuNy0zLjdzMy43LDEuNywzLjcsMy43IFM5LjIsMTAuOSw3LjEsMTAuOXonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjYXJldERvd25FbXB0eUljb24gfSBmcm9tICcuLi9pY29uJztcbmltcG9ydCB7IERFRkFVTFRfU1RZTEVfQ0xBU1MgfSBmcm9tICcuL2ludGVyZmFjZSc7XG5pbXBvcnQgeyBjbGFzc2VzIH0gZnJvbSAnLi4vdXRpbHMnO1xuZXhwb3J0IGNvbnN0IEhUTUxfU0VMRUNUX0NMQVNTID0gJ2pwLUhUTUxTZWxlY3QnO1xuZXhwb3J0IGNsYXNzIEhUTUxTZWxlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgX2EgPSB0aGlzLnByb3BzLCB7IGNsYXNzTmFtZSwgZGVmYXVsdFN0eWxlID0gdHJ1ZSwgZGlzYWJsZWQsIGVsZW1lbnRSZWYsIGljb25Qcm9wcywgaWNvbiA9IGNhcmV0RG93bkVtcHR5SWNvbiwgb3B0aW9ucyA9IFtdIH0gPSBfYSwgaHRtbFByb3BzID0gX19yZXN0KF9hLCBbXCJjbGFzc05hbWVcIiwgXCJkZWZhdWx0U3R5bGVcIiwgXCJkaXNhYmxlZFwiLCBcImVsZW1lbnRSZWZcIiwgXCJpY29uUHJvcHNcIiwgXCJpY29uXCIsIFwib3B0aW9uc1wiXSk7XG4gICAgICAgIGNvbnN0IGNscyA9IGNsYXNzZXMoSFRNTF9TRUxFQ1RfQ0xBU1MsIHtcbiAgICAgICAgICAgIFtERUZBVUxUX1NUWUxFX0NMQVNTXTogZGVmYXVsdFN0eWxlXG4gICAgICAgIH0sIGNsYXNzTmFtZSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbkNoaWxkcmVuID0gb3B0aW9ucy5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BzID0gdHlwZW9mIG9wdGlvbiA9PT0gJ29iamVjdCcgPyBvcHRpb24gOiB7IHZhbHVlOiBvcHRpb24gfTtcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgeyBrZXk6IHByb3BzLnZhbHVlLCBjaGlsZHJlbjogcHJvcHMubGFiZWwgfHwgcHJvcHMudmFsdWUgfSkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIE9iamVjdC5hc3NpZ24oeyBkaXNhYmxlZDogZGlzYWJsZWQsIHJlZjogZWxlbWVudFJlZiB9LCBodG1sUHJvcHMsIHsgbXVsdGlwbGU6IGZhbHNlIH0pLFxuICAgICAgICAgICAgICAgIG9wdGlvbkNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGh0bWxQcm9wcy5jaGlsZHJlbiksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KGljb24ucmVhY3QsIE9iamVjdC5hc3NpZ24oe30sIE9iamVjdC5hc3NpZ24oeyB0YWc6ICdzcGFuJywga2luZDogJ3NlbGVjdCcsIHJpZ2h0OiAnN3B4JywgdG9wOiAnNXB4JyB9LCBpY29uUHJvcHMpKSkpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odG1sc2VsZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29yZXV0aWxzXzEgPSByZXF1aXJlKFwiQGx1bWluby9jb3JldXRpbHNcIik7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBzdGF0ZSBkYXRhYmFzZSB0b2tlbi5cbiAqL1xuZXhwb3J0cy5JU3RhdGVEQiA9IG5ldyBjb3JldXRpbHNfMS5Ub2tlbignQGp1cHl0ZXJsYWIvY29yZXV0aWxzOklTdGF0ZURCJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b2tlbnMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuaW1wb3J0IHsgTW9kZWxEQiB9IGZyb20gJ0BqdXB5dGVybGFiL29ic2VydmFibGVzJztcbi8qKlxuICogQSBuYW1lc3BhY2UgZm9yIGNvZGUgZWRpdG9ycy5cbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiAtIEEgY29kZSBlZGl0b3IgaXMgYSBzZXQgb2YgY29tbW9uIGFzc3VtcHRpb25zIHdoaWNoIGhvbGQgZm9yIGFsbCBjb25jcmV0ZSBlZGl0b3JzLlxuICogLSBDaGFuZ2VzIGluIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgY29kZSBlZGl0b3Igc2hvdWxkIG9ubHkgYmUgY2F1c2VkIGJ5IGNoYW5nZXMgaW4gY29uY3JldGUgZWRpdG9ycy5cbiAqIC0gQ29tbW9uIEpMYWIgc2VydmljZXMgd2hpY2ggYXJlIGJhc2VkIG9uIHRoZSBjb2RlIGVkaXRvciBzaG91bGQgYmVsb25nIHRvIGBJRWRpdG9yU2VydmljZXNgLlxuICovXG5leHBvcnQgdmFyIENvZGVFZGl0b3I7XG4oZnVuY3Rpb24gKENvZGVFZGl0b3IpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBzZWxlY3Rpb24gc3R5bGUuXG4gICAgICovXG4gICAgQ29kZUVkaXRvci5kZWZhdWx0U2VsZWN0aW9uU3R5bGUgPSB7XG4gICAgICAgIGNsYXNzTmFtZTogJycsXG4gICAgICAgIGRpc3BsYXlOYW1lOiAnJyxcbiAgICAgICAgY29sb3I6ICdibGFjaydcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBlZGl0b3IgbW9kZWwuXG4gICAgICovXG4gICAgY2xhc3MgTW9kZWwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0IGEgbmV3IE1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbWltZVR5cGVDaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubW9kZWxEQikge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWxEQiA9IG9wdGlvbnMubW9kZWxEQjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWxEQiA9IG5ldyBNb2RlbERCKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLm1vZGVsREIuY3JlYXRlU3RyaW5nKCd2YWx1ZScpO1xuICAgICAgICAgICAgdmFsdWUudGV4dCA9IHZhbHVlLnRleHQgfHwgb3B0aW9ucy52YWx1ZSB8fCAnJztcbiAgICAgICAgICAgIGxldCBtaW1lVHlwZSA9IHRoaXMubW9kZWxEQi5jcmVhdGVWYWx1ZSgnbWltZVR5cGUnKTtcbiAgICAgICAgICAgIG1pbWVUeXBlLnNldChvcHRpb25zLm1pbWVUeXBlIHx8ICd0ZXh0L3BsYWluJyk7XG4gICAgICAgICAgICBtaW1lVHlwZS5jaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25NaW1lVHlwZUNoYW5nZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5tb2RlbERCLmNyZWF0ZU1hcCgnc2VsZWN0aW9ucycpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gYSBtaW1ldHlwZSBjaGFuZ2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IG1pbWVUeXBlQ2hhbmdlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taW1lVHlwZUNoYW5nZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWxEQi5nZXQoJ3ZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgc2VsZWN0aW9ucyBmb3IgdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHNlbGVjdGlvbnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbERCLmdldCgnc2VsZWN0aW9ucycpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1pbWUgdHlwZSBvZiB0aGUgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgbWltZVR5cGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbERCLmdldFZhbHVlKCdtaW1lVHlwZScpO1xuICAgICAgICB9XG4gICAgICAgIHNldCBtaW1lVHlwZShuZXdWYWx1ZSkge1xuICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLm1pbWVUeXBlO1xuICAgICAgICAgICAgaWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubW9kZWxEQi5zZXRWYWx1ZSgnbWltZVR5cGUnLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIG1vZGVsIGlzIGRpc3Bvc2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIHVzZWQgYnkgdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLnRleHQgPSAnJztcbiAgICAgICAgICAgIFNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgX29uTWltZVR5cGVDaGFuZ2VkKG1pbWVUeXBlLCBhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLl9taW1lVHlwZUNoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgbmFtZTogJ21pbWVUeXBlJyxcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZTogYXJncy5vbGRWYWx1ZSxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogYXJncy5uZXdWYWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ29kZUVkaXRvci5Nb2RlbCA9IE1vZGVsO1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgYW4gZWRpdG9yLlxuICAgICAqL1xuICAgIENvZGVFZGl0b3IuZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgICAgZm9udEZhbWlseTogbnVsbCxcbiAgICAgICAgZm9udFNpemU6IG51bGwsXG4gICAgICAgIGxpbmVIZWlnaHQ6IG51bGwsXG4gICAgICAgIGxpbmVOdW1iZXJzOiBmYWxzZSxcbiAgICAgICAgbGluZVdyYXA6ICdvbicsXG4gICAgICAgIHdvcmRXcmFwQ29sdW1uOiA4MCxcbiAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICB0YWJTaXplOiA0LFxuICAgICAgICBpbnNlcnRTcGFjZXM6IHRydWUsXG4gICAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsXG4gICAgICAgIGF1dG9DbG9zaW5nQnJhY2tldHM6IHRydWUsXG4gICAgICAgIHJ1bGVyczogW10sXG4gICAgICAgIGNvZGVGb2xkaW5nOiBmYWxzZVxuICAgIH07XG59KShDb2RlRWRpdG9yIHx8IChDb2RlRWRpdG9yID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVkaXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHNpZ25hbGluZ18xID0gcmVxdWlyZShcIkBsdW1pbm8vc2lnbmFsaW5nXCIpO1xuY29uc3QgYnVpbGRlcl8xID0gcmVxdWlyZShcIi4vYnVpbGRlclwiKTtcbmNvbnN0IG5iY29udmVydF8xID0gcmVxdWlyZShcIi4vbmJjb252ZXJ0XCIpO1xuY29uc3QgY29udGVudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnRlbnRzXCIpO1xuY29uc3Qga2VybmVsc3BlY18xID0gcmVxdWlyZShcIi4va2VybmVsc3BlY1wiKTtcbmNvbnN0IHNlc3Npb25fMSA9IHJlcXVpcmUoXCIuL3Nlc3Npb25cIik7XG5jb25zdCBzZXR0aW5nXzEgPSByZXF1aXJlKFwiLi9zZXR0aW5nXCIpO1xuY29uc3QgdGVybWluYWxfMSA9IHJlcXVpcmUoXCIuL3Rlcm1pbmFsXCIpO1xuY29uc3Qgc2VydmVyY29ubmVjdGlvbl8xID0gcmVxdWlyZShcIi4vc2VydmVyY29ubmVjdGlvblwiKTtcbmNvbnN0IHdvcmtzcGFjZV8xID0gcmVxdWlyZShcIi4vd29ya3NwYWNlXCIpO1xuY29uc3Qga2VybmVsXzEgPSByZXF1aXJlKFwiLi9rZXJuZWxcIik7XG4vKipcbiAqIEEgSnVweXRlciBzZXJ2aWNlcyBtYW5hZ2VyLlxuICovXG5jbGFzcyBTZXJ2aWNlTWFuYWdlciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IHNlcnZpY2VzIHByb3ZpZGVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25GYWlsdXJlID0gbmV3IHNpZ25hbGluZ18xLlNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5faXNSZWFkeSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBkZWZhdWx0RHJpdmUgPSBvcHRpb25zLmRlZmF1bHREcml2ZTtcbiAgICAgICAgY29uc3Qgc2VydmVyU2V0dGluZ3MgPSAoX2EgPSBvcHRpb25zLnNlcnZlclNldHRpbmdzLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpKTtcbiAgICAgICAgY29uc3Qgc3RhbmRieSA9IChfYiA9IG9wdGlvbnMuc3RhbmRieSwgKF9iICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICd3aGVuLWhpZGRlbicpKTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHsgZGVmYXVsdERyaXZlLCBzZXJ2ZXJTZXR0aW5ncywgc3RhbmRieSB9O1xuICAgICAgICBjb25zdCBrZXJuZWxNYW5hZ2VyID0gbmV3IGtlcm5lbF8xLktlcm5lbE1hbmFnZXIobm9ybWFsaXplZCk7XG4gICAgICAgIHRoaXMuc2VydmVyU2V0dGluZ3MgPSBzZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgdGhpcy5jb250ZW50cyA9IG5ldyBjb250ZW50c18xLkNvbnRlbnRzTWFuYWdlcihub3JtYWxpemVkKTtcbiAgICAgICAgdGhpcy5zZXNzaW9ucyA9IG5ldyBzZXNzaW9uXzEuU2Vzc2lvbk1hbmFnZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBub3JtYWxpemVkKSwgeyBrZXJuZWxNYW5hZ2VyOiBrZXJuZWxNYW5hZ2VyIH0pKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IG5ldyBzZXR0aW5nXzEuU2V0dGluZ01hbmFnZXIobm9ybWFsaXplZCk7XG4gICAgICAgIHRoaXMudGVybWluYWxzID0gbmV3IHRlcm1pbmFsXzEuVGVybWluYWxNYW5hZ2VyKG5vcm1hbGl6ZWQpO1xuICAgICAgICB0aGlzLmJ1aWxkZXIgPSBuZXcgYnVpbGRlcl8xLkJ1aWxkTWFuYWdlcihub3JtYWxpemVkKTtcbiAgICAgICAgdGhpcy53b3Jrc3BhY2VzID0gbmV3IHdvcmtzcGFjZV8xLldvcmtzcGFjZU1hbmFnZXIobm9ybWFsaXplZCk7XG4gICAgICAgIHRoaXMubmJjb252ZXJ0ID0gbmV3IG5iY29udmVydF8xLk5iQ29udmVydE1hbmFnZXIobm9ybWFsaXplZCk7XG4gICAgICAgIHRoaXMua2VybmVsc3BlY3MgPSBuZXcga2VybmVsc3BlY18xLktlcm5lbFNwZWNNYW5hZ2VyKG5vcm1hbGl6ZWQpO1xuICAgICAgICAvLyBSZWxheSBjb25uZWN0aW9uIGZhaWx1cmVzIGZyb20gdGhlIHNlcnZpY2UgbWFuYWdlcnMgdGhhdCBwb2xsXG4gICAgICAgIC8vIHRoZSBzZXJ2ZXIgZm9yIGN1cnJlbnQgaW5mb3JtYXRpb24uXG4gICAgICAgIHRoaXMua2VybmVsc3BlY3MuY29ubmVjdGlvbkZhaWx1cmUuY29ubmVjdCh0aGlzLl9vbkNvbm5lY3Rpb25GYWlsdXJlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5zZXNzaW9ucy5jb25uZWN0aW9uRmFpbHVyZS5jb25uZWN0KHRoaXMuX29uQ29ubmVjdGlvbkZhaWx1cmUsIHRoaXMpO1xuICAgICAgICB0aGlzLnRlcm1pbmFscy5jb25uZWN0aW9uRmFpbHVyZS5jb25uZWN0KHRoaXMuX29uQ29ubmVjdGlvbkZhaWx1cmUsIHRoaXMpO1xuICAgICAgICBsZXQgcmVhZHlMaXN0ID0gW3RoaXMuc2Vzc2lvbnMucmVhZHksIHRoaXMua2VybmVsc3BlY3MucmVhZHldO1xuICAgICAgICBpZiAodGhpcy50ZXJtaW5hbHMuaXNBdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgcmVhZHlMaXN0LnB1c2godGhpcy50ZXJtaW5hbHMucmVhZHkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlYWR5UHJvbWlzZSA9IFByb21pc2UuYWxsKHJlYWR5TGlzdCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGVyZSBpcyBhIGNvbm5lY3Rpb24gZmFpbHVyZSB3aXRoIHRoZSBrZXJuZWwuXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25GYWlsdXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbkZhaWx1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0aGUgc2VydmljZSBtYW5hZ2VyIGlzIGRpc3Bvc2VkLlxuICAgICAqL1xuICAgIGdldCBpc0Rpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIHVzZWQgYnkgdGhlIG1hbmFnZXIuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICBzaWduYWxpbmdfMS5TaWduYWwuY2xlYXJEYXRhKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRlbnRzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9ucy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudGVybWluYWxzLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBtYW5hZ2VyIGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGdldCBpc1JlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2hlbiB0aGUgbWFuYWdlciBpcyByZWFkeS5cbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkeVByb21pc2U7XG4gICAgfVxuICAgIF9vbkNvbm5lY3Rpb25GYWlsdXJlKHNlbmRlciwgZXJyKSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25GYWlsdXJlLmVtaXQoZXJyKTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZpY2VNYW5hZ2VyID0gU2VydmljZU1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYW5hZ2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc2VydmVyY29ubmVjdGlvbl8xID0gcmVxdWlyZShcIi4uL3NlcnZlcmNvbm5lY3Rpb25cIik7XG5jb25zdCBjb3JldXRpbHNfMSA9IHJlcXVpcmUoXCJAanVweXRlcmxhYi9jb3JldXRpbHNcIik7XG5jb25zdCB2YWxpZGF0ZV8xID0gcmVxdWlyZShcIi4vdmFsaWRhdGVcIik7XG4vKipcbiAqIFRoZSB1cmwgZm9yIHRoZSBzZXNzaW9uIHNlcnZpY2UuXG4gKi9cbmV4cG9ydHMuU0VTU0lPTl9TRVJWSUNFX1VSTCA9ICdhcGkvc2Vzc2lvbnMnO1xuLyoqXG4gKiBMaXN0IHRoZSBydW5uaW5nIHNlc3Npb25zLlxuICovXG5hc3luYyBmdW5jdGlvbiBsaXN0UnVubmluZyhzZXR0aW5ncyA9IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSB7XG4gICAgbGV0IHVybCA9IGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKHNldHRpbmdzLmJhc2VVcmwsIGV4cG9ydHMuU0VTU0lPTl9TRVJWSUNFX1VSTCk7XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCB7fSwgc2V0dGluZ3MpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICB0aHJvdyBuZXcgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgfVxuICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgU2Vzc2lvbiBsaXN0Jyk7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChtID0+IHtcbiAgICAgICAgdmFsaWRhdGVfMS51cGRhdGVMZWdhY3lTZXNzaW9uTW9kZWwobSk7XG4gICAgICAgIHZhbGlkYXRlXzEudmFsaWRhdGVNb2RlbChtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbmV4cG9ydHMubGlzdFJ1bm5pbmcgPSBsaXN0UnVubmluZztcbi8qKlxuICogR2V0IGEgc2Vzc2lvbiB1cmwuXG4gKi9cbmZ1bmN0aW9uIGdldFNlc3Npb25VcmwoYmFzZVVybCwgaWQpIHtcbiAgICByZXR1cm4gY29yZXV0aWxzXzEuVVJMRXh0LmpvaW4oYmFzZVVybCwgZXhwb3J0cy5TRVNTSU9OX1NFUlZJQ0VfVVJMLCBpZCk7XG59XG5leHBvcnRzLmdldFNlc3Npb25VcmwgPSBnZXRTZXNzaW9uVXJsO1xuLyoqXG4gKiBTaHV0IGRvd24gYSBzZXNzaW9uIGJ5IGlkLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaHV0ZG93blNlc3Npb24oaWQsIHNldHRpbmdzID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHVybCA9IGdldFNlc3Npb25Vcmwoc2V0dGluZ3MuYmFzZVVybCwgaWQpO1xuICAgIGxldCBpbml0ID0geyBtZXRob2Q6ICdERUxFVEUnIH07XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCBpbml0LCBzZXR0aW5ncyk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBsZXQgbXNnID0gKF9hID0gZGF0YS5tZXNzYWdlLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYFRoZSBzZXNzaW9uIFwiJHtpZH1cIlwiIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBzZXJ2ZXJgKSk7XG4gICAgICAgIGNvbnNvbGUud2Fybihtc2cpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQxMCkge1xuICAgICAgICB0aHJvdyBuZXcgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSwgJ1RoZSBrZXJuZWwgd2FzIGRlbGV0ZWQgYnV0IHRoZSBzZXNzaW9uIHdhcyBub3QnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgdGhyb3cgbmV3IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuc2h1dGRvd25TZXNzaW9uID0gc2h1dGRvd25TZXNzaW9uO1xuLyoqXG4gKiBHZXQgYSBmdWxsIHNlc3Npb24gbW9kZWwgZnJvbSB0aGUgc2VydmVyIGJ5IHNlc3Npb24gaWQgc3RyaW5nLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRTZXNzaW9uTW9kZWwoaWQsIHNldHRpbmdzID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpIHtcbiAgICBsZXQgdXJsID0gZ2V0U2Vzc2lvblVybChzZXR0aW5ncy5iYXNlVXJsLCBpZCk7XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCB7fSwgc2V0dGluZ3MpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICB0aHJvdyBuZXcgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgfVxuICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHZhbGlkYXRlXzEudXBkYXRlTGVnYWN5U2Vzc2lvbk1vZGVsKGRhdGEpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVNb2RlbChkYXRhKTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbmV4cG9ydHMuZ2V0U2Vzc2lvbk1vZGVsID0gZ2V0U2Vzc2lvbk1vZGVsO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgc2Vzc2lvbiwgb3IgcmV0dXJuIGFuIGV4aXN0aW5nIHNlc3Npb24gaWYgdGhlIHNlc3Npb24gcGF0aFxuICogYWxyZWFkeSBleGlzdHMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvbihvcHRpb25zLCBzZXR0aW5ncyA9IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSB7XG4gICAgbGV0IHVybCA9IGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKHNldHRpbmdzLmJhc2VVcmwsIGV4cG9ydHMuU0VTU0lPTl9TRVJWSUNFX1VSTCk7XG4gICAgbGV0IGluaXQgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvcHRpb25zKVxuICAgIH07XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCBpbml0LCBzZXR0aW5ncyk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAxKSB7XG4gICAgICAgIHRocm93IG5ldyBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgbGV0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgdmFsaWRhdGVfMS51cGRhdGVMZWdhY3lTZXNzaW9uTW9kZWwoZGF0YSk7XG4gICAgdmFsaWRhdGVfMS52YWxpZGF0ZU1vZGVsKGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xufVxuZXhwb3J0cy5zdGFydFNlc3Npb24gPSBzdGFydFNlc3Npb247XG4vKipcbiAqIFNlbmQgYSBQQVRDSCB0byB0aGUgc2VydmVyLCB1cGRhdGluZyB0aGUgc2Vzc2lvbiBwYXRoIG9yIHRoZSBrZXJuZWwuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNlc3Npb24obW9kZWwsIHNldHRpbmdzID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpIHtcbiAgICBsZXQgdXJsID0gZ2V0U2Vzc2lvblVybChzZXR0aW5ncy5iYXNlVXJsLCBtb2RlbC5pZCk7XG4gICAgbGV0IGluaXQgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobW9kZWwpXG4gICAgfTtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIGluaXQsIHNldHRpbmdzKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgIH1cbiAgICBsZXQgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB2YWxpZGF0ZV8xLnVwZGF0ZUxlZ2FjeVNlc3Npb25Nb2RlbChkYXRhKTtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlTW9kZWwoZGF0YSk7XG4gICAgcmV0dXJuIGRhdGE7XG59XG5leHBvcnRzLnVwZGF0ZVNlc3Npb24gPSB1cGRhdGVTZXNzaW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzdGFwaS5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBQYXRoRXh0IH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IFVVSUQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBlYWNoLCBmaW5kIH0gZnJvbSAnQGx1bWluby9hbGdvcml0aG0nO1xuaW1wb3J0IHsgUHJvbWlzZURlbGVnYXRlIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHNob3dEaWFsb2csIERpYWxvZyB9IGZyb20gJy4vZGlhbG9nJztcbi8qKlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIGEgc2Vzc2lvbiBjb250ZXh0IG9iamVjdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlc3Npb25Db250ZXh0IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgc2Vzc2lvbiBjb250ZXh0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICB0aGlzLl9wYXRoID0gJyc7XG4gICAgICAgIHRoaXMuX25hbWUgPSAnJztcbiAgICAgICAgdGhpcy5fdHlwZSA9ICcnO1xuICAgICAgICB0aGlzLl9wcmV2S2VybmVsTmFtZSA9ICcnO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlYWR5ID0gbmV3IFByb21pc2VEZWxlZ2F0ZSgpO1xuICAgICAgICB0aGlzLl9pbml0aWFsaXppbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faW5pdFByb21pc2UgPSBuZXcgUHJvbWlzZURlbGVnYXRlKCk7XG4gICAgICAgIHRoaXMuX2lzUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fa2VybmVsQ2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25DaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzQ2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5faW9wdWJNZXNzYWdlID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fdW5oYW5kbGVkTWVzc2FnZSA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Byb3BlcnR5Q2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2RpYWxvZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1c3lEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZXNzaW9uTWFuYWdlciA9IG9wdGlvbnMuc2Vzc2lvbk1hbmFnZXI7XG4gICAgICAgIHRoaXMuc3BlY3NNYW5hZ2VyID0gb3B0aW9ucy5zcGVjc01hbmFnZXI7XG4gICAgICAgIHRoaXMuX3BhdGggPSAoX2EgPSBvcHRpb25zLnBhdGgsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBVVUlELnV1aWQ0KCkpKTtcbiAgICAgICAgdGhpcy5fdHlwZSA9IChfYiA9IG9wdGlvbnMudHlwZSwgKF9iICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnKSk7XG4gICAgICAgIHRoaXMuX25hbWUgPSAoX2MgPSBvcHRpb25zLm5hbWUsIChfYyAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnJykpO1xuICAgICAgICB0aGlzLl9zZXRCdXN5ID0gb3B0aW9ucy5zZXRCdXN5O1xuICAgICAgICB0aGlzLl9rZXJuZWxQcmVmZXJlbmNlID0gKF9kID0gb3B0aW9ucy5rZXJuZWxQcmVmZXJlbmNlLCAoX2QgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDoge30pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc2Vzc2lvbiBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBzZXNzaW9uKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfYSA9IHRoaXMuX3Nlc3Npb24sIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNlc3Npb24gcGF0aC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUeXBpY2FsbHkgYC5zZXNzaW9uLnBhdGhgIHNob3VsZCBiZSB1c2VkLiBUaGlzIGF0dHJpYnV0ZSBpcyB1c2VmdWwgaWZcbiAgICAgKiB0aGVyZSBpcyBubyBjdXJyZW50IHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2Vzc2lvbiB0eXBlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFR5cGljYWxseSBgLnNlc3Npb24udHlwZWAgc2hvdWxkIGJlIHVzZWQuIFRoaXMgYXR0cmlidXRlIGlzIHVzZWZ1bCBpZlxuICAgICAqIHRoZXJlIGlzIG5vIGN1cnJlbnQgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzZXNzaW9uIG5hbWUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVHlwaWNhbGx5IGAuc2Vzc2lvbi5uYW1lYCBzaG91bGQgYmUgdXNlZC4gVGhpcyBhdHRyaWJ1dGUgaXMgdXNlZnVsIGlmXG4gICAgICogdGhlcmUgaXMgbm8gY3VycmVudCBzZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBrZXJuZWwgY29ubmVjdGlvbiBjaGFuZ2VzLCBwcm94aWVkIGZyb20gdGhlIHNlc3Npb24gY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQga2VybmVsQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tlcm5lbENoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgc2Vzc2lvbiBjb25uZWN0aW9uIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IHNlc3Npb25DaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbkNoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUga2VybmVsIHN0YXR1cyBjaGFuZ2VzLCBwcm94aWVkIGZyb20gdGhlIGtlcm5lbC5cbiAgICAgKi9cbiAgICBnZXQgc3RhdHVzQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1c0NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUga2VybmVsIHN0YXR1cyBjaGFuZ2VzLCBwcm94aWVkIGZyb20gdGhlIGtlcm5lbC5cbiAgICAgKi9cbiAgICBnZXQgY29ubmVjdGlvblN0YXR1c0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCBmb3IgaW9wdWIga2VybmVsIG1lc3NhZ2VzLCBwcm94aWVkIGZyb20gdGhlIGtlcm5lbC5cbiAgICAgKi9cbiAgICBnZXQgaW9wdWJNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW9wdWJNZXNzYWdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIGZvciBhbiB1bmhhbmRsZWQga2VybmVsIG1lc3NhZ2UsIHByb3hpZWQgZnJvbSB0aGUga2VybmVsLlxuICAgICAqL1xuICAgIGdldCB1bmhhbmRsZWRNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdW5oYW5kbGVkTWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIGEgc2Vzc2lvbiBwcm9wZXJ0eSBjaGFuZ2VzLCBwcm94aWVkIGZyb20gdGhlIGN1cnJlbnQgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgcHJvcGVydHlDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydHlDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUga2VybmVsIHByZWZlcmVuY2Ugb2YgdGhpcyBjbGllbnQgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCB3aGVuIHNlbGVjdGluZyBhIG5ldyBrZXJuZWwsIGFuZCBzaG91bGQgcmVmbGVjdCB0aGUgc29ydCBvZlxuICAgICAqIGtlcm5lbCB0aGUgYWN0aXZpdHkgcHJlZmVycy5cbiAgICAgKi9cbiAgICBnZXQga2VybmVsUHJlZmVyZW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tlcm5lbFByZWZlcmVuY2U7XG4gICAgfVxuICAgIHNldCBrZXJuZWxQcmVmZXJlbmNlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2tlcm5lbFByZWZlcmVuY2UgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY29udGV4dCBpcyByZWFkeS5cbiAgICAgKi9cbiAgICBnZXQgaXNSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUmVhZHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoZSBjb250ZXh0IGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGdldCByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5LnByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIGN1cnJlbnQga2VybmVsLCBvciBhIHNlbnNpYmxlIGFsdGVybmF0aXZlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgaXMgYSBjb252ZW5pZW5jZSBmdW5jdGlvbiB0byBoYXZlIGEgY29uc2lzdGVudCBzZW5zaWJsZSBuYW1lIGZvciB0aGVcbiAgICAgKiBrZXJuZWwuXG4gICAgICovXG4gICAgZ2V0IGtlcm5lbERpc3BsYXlOYW1lKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGxldCBrZXJuZWwgPSAoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5rZXJuZWw7XG4gICAgICAgIGlmICgha2VybmVsICYmXG4gICAgICAgICAgICAhdGhpcy5pc1JlYWR5ICYmXG4gICAgICAgICAgICB0aGlzLmtlcm5lbFByZWZlcmVuY2UuY2FuU3RhcnQgIT09IGZhbHNlICYmXG4gICAgICAgICAgICB0aGlzLmtlcm5lbFByZWZlcmVuY2Uuc2hvdWxkU3RhcnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0tlcm5lbCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFrZXJuZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAnTm8gS2VybmVsISc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfZCA9IChfYyA9IChfYiA9IHRoaXMuc3BlY3NNYW5hZ2VyLnNwZWNzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iua2VybmVsc3BlY3Nba2VybmVsLm5hbWVdKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGlzcGxheV9uYW1lLCAoX2QgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDoga2VybmVsLm5hbWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzZW5zaWJsZSBzdGF0dXMgdG8gZGlzcGxheVxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgY29tYmluZXMgdGhlIHN0YXR1cyBhbmQgY29ubmVjdGlvbiBzdGF0dXMgaW50byBhIHNpbmdsZSBzdGF0dXMgZm9yXG4gICAgICogdGhlIHVzZXIuXG4gICAgICovXG4gICAgZ2V0IGtlcm5lbERpc3BsYXlTdGF0dXMoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIGxldCBrZXJuZWwgPSAoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5rZXJuZWw7XG4gICAgICAgIGlmICgha2VybmVsICYmXG4gICAgICAgICAgICAhdGhpcy5pc1JlYWR5ICYmXG4gICAgICAgICAgICB0aGlzLmtlcm5lbFByZWZlcmVuY2UuY2FuU3RhcnQgIT09IGZhbHNlICYmXG4gICAgICAgICAgICB0aGlzLmtlcm5lbFByZWZlcmVuY2Uuc2hvdWxkU3RhcnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2luaXRpYWxpemluZyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfZSA9ICgoKF9iID0ga2VybmVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY29ubmVjdGlvblN0YXR1cykgPT09ICdjb25uZWN0ZWQnXG4gICAgICAgICAgICA/IChfYyA9IGtlcm5lbCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnN0YXR1cyA6IChfZCA9IGtlcm5lbCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNvbm5lY3Rpb25TdGF0dXMpLCAoX2UgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogJycpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByZXZpb3VzbHkgc3RhcnRlZCBrZXJuZWwuXG4gICAgICovXG4gICAgZ2V0IHByZXZLZXJuZWxOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJldktlcm5lbE5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0aGUgY29udGV4dCBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgcG9sbCBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgZGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIGNvbnRleHQuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGlzcG9zZWQuZW1pdCgpO1xuICAgICAgICBpZiAodGhpcy5fc2Vzc2lvbikge1xuICAgICAgICAgICAgaWYgKHRoaXMua2VybmVsUHJlZmVyZW5jZS5zaHV0ZG93bk9uRGlzcG9zZSkge1xuICAgICAgICAgICAgICAgIC8vIEZpcmUgYW5kIGZvcmdldCB0aGUgc2Vzc2lvbiBzaHV0ZG93biByZXF1ZXN0XG4gICAgICAgICAgICAgICAgdGhpcy5fc2Vzc2lvbi5zaHV0ZG93bigpLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEtlcm5lbCBub3Qgc2h1dCBkb3duICR7cmVhc29ufWApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGlzcG9zZSB0aGUgc2Vzc2lvbiBjb25uZWN0aW9uXG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3Nlc3Npb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kaWFsb2cpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpYWxvZy5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2J1c3lEaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9idXN5RGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9idXN5RGlzcG9zYWJsZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBjdXJyZW50IGtlcm5lbCBhc3NvY2lhdGVkIHdpdGggdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgYXN5bmMgY2hhbmdlS2VybmVsKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaXNwb3NlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFuZ2VLZXJuZWwob3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEtpbGwgdGhlIGtlcm5lbCBhbmQgc2h1dGRvd24gdGhlIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBzZXNzaW9uIGlzIHNodXQgZG93bi5cbiAgICAgKi9cbiAgICBhc3luYyBzaHV0ZG93bigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fc2Vzc2lvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNodXRkb3duKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHNlc3Npb24gY29udGV4dFxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB3aGV0aGVyIHRvIGFzayB0aGUgdXNlciB0byBzZWxlY3QgYSBrZXJuZWwuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSWYgYSBzZXJ2ZXIgc2Vzc2lvbiBleGlzdHMgb24gdGhlIGN1cnJlbnQgcGF0aCwgd2Ugd2lsbCBjb25uZWN0IHRvIGl0LlxuICAgICAqIElmIHByZWZlcmVuY2VzIGluY2x1ZGUgZGlzYWJsaW5nIGBjYW5TdGFydGAgb3IgYHNob3VsZFN0YXJ0YCwgbm9cbiAgICAgKiBzZXJ2ZXIgc2Vzc2lvbiB3aWxsIGJlIHN0YXJ0ZWQuXG4gICAgICogSWYgYSBrZXJuZWwgaWQgaXMgZ2l2ZW4sIHdlIGF0dGVtcHQgdG8gc3RhcnQgYSBzZXNzaW9uIHdpdGggdGhhdCBpZC5cbiAgICAgKiBJZiBhIGRlZmF1bHQga2VybmVsIGlzIGF2YWlsYWJsZSwgd2UgY29ubmVjdCB0byBpdC5cbiAgICAgKiBPdGhlcndpc2Ugd2UgYXNrIHRoZSB1c2VyIHRvIHNlbGVjdCBhIGtlcm5lbC5cbiAgICAgKi9cbiAgICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5pdFByb21pc2UucHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0aWFsaXppbmcgPSB0cnVlO1xuICAgICAgICBsZXQgbWFuYWdlciA9IHRoaXMuc2Vzc2lvbk1hbmFnZXI7XG4gICAgICAgIGF3YWl0IG1hbmFnZXIucmVhZHk7XG4gICAgICAgIGxldCBtb2RlbCA9IGZpbmQobWFuYWdlci5ydW5uaW5nKCksIGl0ZW0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucGF0aCA9PT0gdGhpcy5fcGF0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChtb2RlbCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvbiA9IG1hbmFnZXIuY29ubmVjdFRvKHsgbW9kZWwgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlTmV3U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB2b2lkIHRoaXMuX2hhbmRsZVNlc3Npb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5lZWRzU2VsZWN0aW9uID0gYXdhaXQgdGhpcy5fc3RhcnRJZk5lY2Vzc2FyeSgpO1xuICAgICAgICBpZiAoIW5lZWRzU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5LnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0UHJvbWlzZS5yZXNvbHZlKG5lZWRzU2VsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIG5lZWRzU2VsZWN0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgc2Vzc2lvbiBpZiBuZWNlc3NhcnkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRvIGFzayB0aGUgdXNlciB0byBwaWNrIGEga2VybmVsLlxuICAgICAqL1xuICAgIGFzeW5jIF9zdGFydElmTmVjZXNzYXJ5KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBwcmVmZXJlbmNlID0gdGhpcy5rZXJuZWxQcmVmZXJlbmNlO1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkIHx8ICgoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5rZXJuZWwpIHx8XG4gICAgICAgICAgICBwcmVmZXJlbmNlLnNob3VsZFN0YXJ0ID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgcHJlZmVyZW5jZS5jYW5TdGFydCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIE5vdCBuZWNlc3NhcnkgdG8gc3RhcnQgYSBrZXJuZWxcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgaWYgKHByZWZlcmVuY2UuaWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGlkOiBwcmVmZXJlbmNlLmlkIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IFNlc3Npb25Db250ZXh0LmdldERlZmF1bHRLZXJuZWwoe1xuICAgICAgICAgICAgICAgIHNwZWNzOiB0aGlzLnNwZWNzTWFuYWdlci5zcGVjcyxcbiAgICAgICAgICAgICAgICBzZXNzaW9uczogdGhpcy5zZXNzaW9uTWFuYWdlci5ydW5uaW5nKCksXG4gICAgICAgICAgICAgICAgcHJlZmVyZW5jZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7IG5hbWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9jaGFuZ2VLZXJuZWwob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWx3YXlzIGZhbGwgYmFjayB0byBzZWxlY3RpbmcgYSBrZXJuZWxcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUga2VybmVsLlxuICAgICAqL1xuICAgIGFzeW5jIF9jaGFuZ2VLZXJuZWwob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaXNwb3NlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZXNzaW9uID0gdGhpcy5fc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24gJiYgKChfYSA9IHNlc3Npb24ua2VybmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhdHVzKSAhPT0gJ2RlYWQnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmNoYW5nZUtlcm5lbChvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB2b2lkIHRoaXMuX2hhbmRsZVNlc3Npb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGFydFNlc3Npb24ob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBzZXNzaW9uIGFuZCBzZXQgdXAgaXRzIHNpZ25hbHMuXG4gICAgICovXG4gICAgYXN5bmMgX3N0YXJ0U2Vzc2lvbihtb2RlbCA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93ICdDbGllbnQgc2Vzc2lvbiBpcyBkaXNwb3NlZC4nO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgdGhpcy5zZXNzaW9uTWFuYWdlci5zdGFydE5ldyh7XG4gICAgICAgICAgICAgICAgcGF0aDogdGhpcy5fcGF0aCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLl90eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICAgICAgICAgICAga2VybmVsOiBtb2RlbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlTmV3U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB2b2lkIHRoaXMuX2hhbmRsZVNlc3Npb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIG5ldyBzZXNzaW9uIG9iamVjdC5cbiAgICAgKi9cbiAgICBfaGFuZGxlTmV3U2Vzc2lvbihzZXNzaW9uKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdEaXNwb3NlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5faXNSZWFkeSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZWFkeS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3Nlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3Nlc3Npb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Nlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLl9wcmV2S2VybmVsTmFtZSA9IChfYiA9IChfYSA9IHNlc3Npb24ua2VybmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubmFtZSwgKF9iICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnKSk7XG4gICAgICAgIHNlc3Npb24uZGlzcG9zZWQuY29ubmVjdCh0aGlzLl9vblNlc3Npb25EaXNwb3NlZCwgdGhpcyk7XG4gICAgICAgIHNlc3Npb24ucHJvcGVydHlDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25Qcm9wZXJ0eUNoYW5nZWQsIHRoaXMpO1xuICAgICAgICBzZXNzaW9uLmtlcm5lbENoYW5nZWQuY29ubmVjdCh0aGlzLl9vbktlcm5lbENoYW5nZWQsIHRoaXMpO1xuICAgICAgICBzZXNzaW9uLnN0YXR1c0NoYW5nZWQuY29ubmVjdCh0aGlzLl9vblN0YXR1c0NoYW5nZWQsIHRoaXMpO1xuICAgICAgICBzZXNzaW9uLmNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIHNlc3Npb24uaW9wdWJNZXNzYWdlLmNvbm5lY3QodGhpcy5fb25Jb3B1Yk1lc3NhZ2UsIHRoaXMpO1xuICAgICAgICBzZXNzaW9uLnVuaGFuZGxlZE1lc3NhZ2UuY29ubmVjdCh0aGlzLl9vblVuaGFuZGxlZE1lc3NhZ2UsIHRoaXMpO1xuICAgICAgICBpZiAoc2Vzc2lvbi5wYXRoICE9PSB0aGlzLl9wYXRoKSB7XG4gICAgICAgICAgICB0aGlzLl9vblByb3BlcnR5Q2hhbmdlZChzZXNzaW9uLCAncGF0aCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXNzaW9uLm5hbWUgIT09IHRoaXMuX25hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX29uUHJvcGVydHlDaGFuZ2VkKHNlc3Npb24sICduYW1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlc3Npb24udHlwZSAhPT0gdGhpcy5fdHlwZSkge1xuICAgICAgICAgICAgdGhpcy5fb25Qcm9wZXJ0eUNoYW5nZWQoc2Vzc2lvbiwgJ3R5cGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbnkgZXhpc3Rpbmcga2VybmVsIGNvbm5lY3Rpb24gd2FzIGRpc3Bvc2VkIGFib3ZlIHdoZW4gdGhlIHNlc3Npb24gd2FzXG4gICAgICAgIC8vIGRpc3Bvc2VkLCBzbyB0aGUgb2xkVmFsdWUgc2hvdWxkIGJlIG51bGwuXG4gICAgICAgIHRoaXMuX2tlcm5lbENoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICBvbGRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiBzZXNzaW9uLmtlcm5lbCxcbiAgICAgICAgICAgIG5hbWU6ICdrZXJuZWwnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbi5rZXJuZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbiBlcnJvciBpbiBzZXNzaW9uIHN0YXJ0dXAuXG4gICAgICovXG4gICAgYXN5bmMgX2hhbmRsZVNlc3Npb25FcnJvcihlcnIpIHtcbiAgICAgICAgbGV0IHRleHQgPSBhd2FpdCBlcnIucmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IEpTT04ucGFyc2UodGV4dClbJ3RyYWNlYmFjayddO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIG5vLW9wXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpYWxvZyA9ICh0aGlzLl9kaWFsb2cgPSBuZXcgRGlhbG9nKHtcbiAgICAgICAgICAgIHRpdGxlOiAnRXJyb3IgU3RhcnRpbmcgS2VybmVsJyxcbiAgICAgICAgICAgIGJvZHk6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIiwgbnVsbCwgbWVzc2FnZSksXG4gICAgICAgICAgICBidXR0b25zOiBbRGlhbG9nLm9rQnV0dG9uKCldXG4gICAgICAgIH0pKTtcbiAgICAgICAgYXdhaXQgZGlhbG9nLmxhdW5jaCgpO1xuICAgICAgICB0aGlzLl9kaWFsb2cgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBzZXNzaW9uIHRlcm1pbmF0aW9uLlxuICAgICAqL1xuICAgIF9vblNlc3Npb25EaXNwb3NlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3Nlc3Npb24uZGlzcG9zZSgpO1xuICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl9zZXNzaW9uO1xuICAgICAgICAgICAgdGhpcy5fc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXMuX3Nlc3Npb247XG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uQ2hhbmdlZC5lbWl0KHsgbmFtZTogJ3Nlc3Npb24nLCBvbGRWYWx1ZSwgbmV3VmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgY2hhbmdlIHRvIGEgc2Vzc2lvbiBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBfb25Qcm9wZXJ0eUNoYW5nZWQoc2VuZGVyLCBwcm9wZXJ0eSkge1xuICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICBjYXNlICdwYXRoJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXRoID0gc2VuZGVyLnBhdGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICduYW1lJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9uYW1lID0gc2VuZGVyLm5hbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0eXBlJzpcbiAgICAgICAgICAgICAgICB0aGlzLl90eXBlID0gc2VuZGVyLnR5cGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5yZWNvZ25pemVkIHByb3BlcnR5ICR7cHJvcGVydHl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvcGVydHlDaGFuZ2VkLmVtaXQocHJvcGVydHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBjaGFuZ2UgdG8gdGhlIGtlcm5lbC5cbiAgICAgKi9cbiAgICBfb25LZXJuZWxDaGFuZ2VkKHNlbmRlciwgYXJncykge1xuICAgICAgICB0aGlzLl9rZXJuZWxDaGFuZ2VkLmVtaXQoYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGNoYW5nZSB0byB0aGUgc2Vzc2lvbiBzdGF0dXMuXG4gICAgICovXG4gICAgX29uU3RhdHVzQ2hhbmdlZChzZW5kZXIsIHN0YXR1cykge1xuICAgICAgICAvLyBTZXQgdGhhdCB0aGlzIGtlcm5lbCBpcyBidXN5LCBpZiB3ZSBoYXZlbid0IGFscmVhZHlcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5LCBhbmQgbm93IHdlIGFyZW4ndCBidXN5LCBkaXNwb3NlXG4gICAgICAgIC8vIG9mIHRoZSBidXN5IGRpc3Bvc2FibGUuXG4gICAgICAgIGlmICh0aGlzLl9zZXRCdXN5KSB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnYnVzeScpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2J1c3lEaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1c3lEaXNwb3NhYmxlID0gdGhpcy5fc2V0QnVzeSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9idXN5RGlzcG9zYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idXN5RGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1c3lEaXNwb3NhYmxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJveHkgdGhlIHNpZ25hbFxuICAgICAgICB0aGlzLl9zdGF0dXNDaGFuZ2VkLmVtaXQoc3RhdHVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgY2hhbmdlIHRvIHRoZSBzZXNzaW9uIHN0YXR1cy5cbiAgICAgKi9cbiAgICBfb25Db25uZWN0aW9uU3RhdHVzQ2hhbmdlZChzZW5kZXIsIHN0YXR1cykge1xuICAgICAgICAvLyBQcm94eSB0aGUgc2lnbmFsXG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkLmVtaXQoc3RhdHVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFuIGlvcHViIG1lc3NhZ2UuXG4gICAgICovXG4gICAgX29uSW9wdWJNZXNzYWdlKHNlbmRlciwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLl9pb3B1Yk1lc3NhZ2UuZW1pdChtZXNzYWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFuIHVuaGFuZGxlZCBtZXNzYWdlLlxuICAgICAqL1xuICAgIF9vblVuaGFuZGxlZE1lc3NhZ2Uoc2VuZGVyLCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX3VuaGFuZGxlZE1lc3NhZ2UuZW1pdChtZXNzYWdlKTtcbiAgICB9XG59XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBgU2Vzc2lvbkNvbnRleHRgIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoU2Vzc2lvbkNvbnRleHQpIHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQga2VybmVsIG5hbWUgZ2l2ZW4gc2VsZWN0IG9wdGlvbnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RGVmYXVsdEtlcm5lbChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBQcml2YXRlLmdldERlZmF1bHRLZXJuZWwob3B0aW9ucyk7XG4gICAgfVxuICAgIFNlc3Npb25Db250ZXh0LmdldERlZmF1bHRLZXJuZWwgPSBnZXREZWZhdWx0S2VybmVsO1xufSkoU2Vzc2lvbkNvbnRleHQgfHwgKFNlc3Npb25Db250ZXh0ID0ge30pKTtcbi8qKlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIGNsaWVudCBzZXNpc29uIGRpYWxvZyBwcm92aWRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlc3Npb25Db250ZXh0RGlhbG9ncyA9IHtcbiAgICAvKipcbiAgICAgKiBTZWxlY3QgYSBrZXJuZWwgZm9yIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGFzeW5jIHNlbGVjdEtlcm5lbChzZXNzaW9uQ29udGV4dCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGlmIChzZXNzaW9uQ29udGV4dC5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZXhpc3Rpbmcga2VybmVsLCBvZmZlciB0aGUgb3B0aW9uXG4gICAgICAgIC8vIHRvIGtlZXAgbm8ga2VybmVsLlxuICAgICAgICBsZXQgbGFiZWwgPSAnQ2FuY2VsJztcbiAgICAgICAgaWYgKCEoKF9iID0gKF9hID0gc2Vzc2lvbkNvbnRleHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iua2VybmVsKSkge1xuICAgICAgICAgICAgbGFiZWwgPSAnTm8gS2VybmVsJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidXR0b25zID0gW1xuICAgICAgICAgICAgRGlhbG9nLmNhbmNlbEJ1dHRvbih7IGxhYmVsIH0pLFxuICAgICAgICAgICAgRGlhbG9nLm9rQnV0dG9uKHsgbGFiZWw6ICdTZWxlY3QnIH0pXG4gICAgICAgIF07XG4gICAgICAgIGxldCBkaWFsb2cgPSBuZXcgRGlhbG9nKHtcbiAgICAgICAgICAgIHRpdGxlOiAnU2VsZWN0IEtlcm5lbCcsXG4gICAgICAgICAgICBib2R5OiBuZXcgUHJpdmF0ZS5LZXJuZWxTZWxlY3RvcihzZXNzaW9uQ29udGV4dCksXG4gICAgICAgICAgICBidXR0b25zXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkaWFsb2cubGF1bmNoKCk7XG4gICAgICAgIGlmIChzZXNzaW9uQ29udGV4dC5pc0Rpc3Bvc2VkIHx8ICFyZXN1bHQuYnV0dG9uLmFjY2VwdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtb2RlbCA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKG1vZGVsID09PSBudWxsICYmICgoX2QgPSAoX2MgPSBzZXNzaW9uQ29udGV4dCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNlc3Npb24pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5rZXJuZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvbkNvbnRleHQuc2h1dGRvd24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgICAgIGF3YWl0IHNlc3Npb25Db250ZXh0LmNoYW5nZUtlcm5lbChtb2RlbCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlc3RhcnQgdGhlIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHdoZXRoZXIgdGhlIGtlcm5lbCBoYXMgcmVzdGFydGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIElmIHRoZXJlIGlzIGEgcnVubmluZyBrZXJuZWwsIHByZXNlbnQgYSBkaWFsb2cuXG4gICAgICogSWYgdGhlcmUgaXMgbm8ga2VybmVsLCB3ZSBzdGFydCBhIGtlcm5lbCB3aXRoIHRoZSBsYXN0IHJ1blxuICAgICAqIGtlcm5lbCBuYW1lIGFuZCByZXNvbHZlcyB3aXRoIGB0cnVlYC5cbiAgICAgKi9cbiAgICBhc3luYyByZXN0YXJ0KHNlc3Npb25Db250ZXh0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgYXdhaXQgc2Vzc2lvbkNvbnRleHQuaW5pdGlhbGl6ZSgpO1xuICAgICAgICBpZiAoc2Vzc2lvbkNvbnRleHQuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXNzaW9uIGFscmVhZHkgZGlzcG9zZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQga2VybmVsID0gKF9hID0gc2Vzc2lvbkNvbnRleHQuc2Vzc2lvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmtlcm5lbDtcbiAgICAgICAgaWYgKCFrZXJuZWwgJiYgc2Vzc2lvbkNvbnRleHQucHJldktlcm5lbE5hbWUpIHtcbiAgICAgICAgICAgIGF3YWl0IHNlc3Npb25Db250ZXh0LmNoYW5nZUtlcm5lbCh7XG4gICAgICAgICAgICAgICAgbmFtZTogc2Vzc2lvbkNvbnRleHQucHJldktlcm5lbE5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQmFpbCBpZiB0aGVyZSBpcyBubyBwcmV2aW91cyBrZXJuZWwgdG8gc3RhcnQuXG4gICAgICAgIGlmICgha2VybmVsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGtlcm5lbCB0byByZXN0YXJ0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3RhcnRCdG4gPSBEaWFsb2cud2FybkJ1dHRvbih7IGxhYmVsOiAnUmVzdGFydCcgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNob3dEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6ICdSZXN0YXJ0IEtlcm5lbD8nLFxuICAgICAgICAgICAgYm9keTogJ0RvIHlvdSB3YW50IHRvIHJlc3RhcnQgdGhlIGN1cnJlbnQga2VybmVsPyBBbGwgdmFyaWFibGVzIHdpbGwgYmUgbG9zdC4nLFxuICAgICAgICAgICAgYnV0dG9uczogW0RpYWxvZy5jYW5jZWxCdXR0b24oKSwgcmVzdGFydEJ0bl1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChrZXJuZWwuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQuYnV0dG9uLmFjY2VwdCkge1xuICAgICAgICAgICAgYXdhaXQga2VybmVsLnJlc3RhcnQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBtb2R1bGUgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEEgd2lkZ2V0IHRoYXQgcHJvdmlkZXMgYSBrZXJuZWwgc2VsZWN0aW9uLlxuICAgICAqL1xuICAgIGNsYXNzIEtlcm5lbFNlbGVjdG9yIGV4dGVuZHMgV2lkZ2V0IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyBrZXJuZWwgc2VsZWN0b3Igd2lkZ2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3Ioc2Vzc2lvbkNvbnRleHQpIHtcbiAgICAgICAgICAgIHN1cGVyKHsgbm9kZTogY3JlYXRlU2VsZWN0b3JOb2RlKHNlc3Npb25Db250ZXh0KSB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUga2VybmVsIHNlbGVjdG9yIHdpZGdldC5cbiAgICAgICAgICovXG4gICAgICAgIGdldFZhbHVlKCkge1xuICAgICAgICAgICAgbGV0IHNlbGVjdG9yID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc2VsZWN0b3IudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUuS2VybmVsU2VsZWN0b3IgPSBLZXJuZWxTZWxlY3RvcjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBub2RlIGZvciBhIGtlcm5lbCBzZWxlY3RvciB3aWRnZXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JOb2RlKHNlc3Npb25Db250ZXh0KSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZGlhbG9nIGJvZHkuXG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGBTZWxlY3Qga2VybmVsIGZvcjogXCIke3Nlc3Npb25Db250ZXh0Lm5hbWV9XCJgO1xuICAgICAgICBib2R5LmFwcGVuZENoaWxkKHRleHQpO1xuICAgICAgICBsZXQgb3B0aW9ucyA9IGdldEtlcm5lbFNlYXJjaChzZXNzaW9uQ29udGV4dCk7XG4gICAgICAgIGxldCBzZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICBwb3B1bGF0ZUtlcm5lbFNlbGVjdChzZWxlY3Rvciwgb3B0aW9ucyk7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoc2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkZWZhdWx0IGtlcm5lbCBuYW1lIGdpdmVuIHNlbGVjdCBvcHRpb25zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldERlZmF1bHRLZXJuZWwob3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCB7IHNwZWNzLCBwcmVmZXJlbmNlIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgeyBuYW1lLCBsYW5ndWFnZSwgc2hvdWxkU3RhcnQsIGNhblN0YXJ0LCBhdXRvU3RhcnREZWZhdWx0IH0gPSBwcmVmZXJlbmNlO1xuICAgICAgICBpZiAoIXNwZWNzIHx8IHNob3VsZFN0YXJ0ID09PSBmYWxzZSB8fCBjYW5TdGFydCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZWZhdWx0TmFtZSA9IGF1dG9TdGFydERlZmF1bHQgPyBzcGVjcy5kZWZhdWx0IDogbnVsbDtcbiAgICAgICAgaWYgKCFuYW1lICYmICFsYW5ndWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHROYW1lO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvb2sgZm9yIGFuIGV4YWN0IG1hdGNoIG9mIGEgc3BlYyBuYW1lLlxuICAgICAgICBmb3IgKGxldCBzcGVjTmFtZSBpbiBzcGVjcy5rZXJuZWxzcGVjcykge1xuICAgICAgICAgICAgaWYgKHNwZWNOYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQmFpbCBpZiB0aGVyZSBpcyBubyBsYW5ndWFnZS5cbiAgICAgICAgaWYgKCFsYW5ndWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHROYW1lO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBhIHNpbmdsZSBrZXJuZWwgbWF0Y2hpbmcgdGhlIGxhbmd1YWdlLlxuICAgICAgICBsZXQgbWF0Y2hlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBzcGVjTmFtZSBpbiBzcGVjcy5rZXJuZWxzcGVjcykge1xuICAgICAgICAgICAgbGV0IGtlcm5lbExhbmd1YWdlID0gKF9hID0gc3BlY3Mua2VybmVsc3BlY3Nbc3BlY05hbWVdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFuZ3VhZ2U7XG4gICAgICAgICAgICBpZiAobGFuZ3VhZ2UgPT09IGtlcm5lbExhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHNwZWNOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGxldCBzcGVjTmFtZSA9IG1hdGNoZXNbMF07XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gZXhhY3QgbWF0Y2ggZm91bmQgZm9yICcgK1xuICAgICAgICAgICAgICAgIHNwZWNOYW1lICtcbiAgICAgICAgICAgICAgICAnLCB1c2luZyBrZXJuZWwgJyArXG4gICAgICAgICAgICAgICAgc3BlY05hbWUgK1xuICAgICAgICAgICAgICAgICcgdGhhdCBtYXRjaGVzICcgK1xuICAgICAgICAgICAgICAgICdsYW5ndWFnZT0nICtcbiAgICAgICAgICAgICAgICBsYW5ndWFnZSk7XG4gICAgICAgICAgICByZXR1cm4gc3BlY05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm8gbWF0Y2hlcyBmb3VuZC5cbiAgICAgICAgcmV0dXJuIGRlZmF1bHROYW1lO1xuICAgIH1cbiAgICBQcml2YXRlLmdldERlZmF1bHRLZXJuZWwgPSBnZXREZWZhdWx0S2VybmVsO1xuICAgIC8qKlxuICAgICAqIFBvcHVsYXRlIGEga2VybmVsIHNlbGVjdCBub2RlIGZvciB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwb3B1bGF0ZUtlcm5lbFNlbGVjdChub2RlLCBvcHRpb25zKSB7XG4gICAgICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeyBwcmVmZXJlbmNlLCBzZXNzaW9ucywgc3BlY3MgfSA9IG9wdGlvbnM7XG4gICAgICAgIGxldCB7IG5hbWUsIGlkLCBsYW5ndWFnZSwgY2FuU3RhcnQsIHNob3VsZFN0YXJ0IH0gPSBwcmVmZXJlbmNlO1xuICAgICAgICBpZiAoIXNwZWNzIHx8IGNhblN0YXJ0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChvcHRpb25Gb3JOb25lKCkpO1xuICAgICAgICAgICAgbm9kZS52YWx1ZSA9ICdudWxsJztcbiAgICAgICAgICAgIG5vZGUuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gQ3JlYXRlIG1hcHBpbmdzIG9mIGRpc3BsYXkgbmFtZXMgYW5kIGxhbmd1YWdlcyBmb3Iga2VybmVsIG5hbWUuXG4gICAgICAgIGxldCBkaXNwbGF5TmFtZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgbGFuZ3VhZ2VzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBzcGVjcy5rZXJuZWxzcGVjcykge1xuICAgICAgICAgICAgbGV0IHNwZWMgPSBzcGVjcy5rZXJuZWxzcGVjc1tuYW1lXTtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lc1tuYW1lXSA9IHNwZWMuZGlzcGxheV9uYW1lO1xuICAgICAgICAgICAgbGFuZ3VhZ2VzW25hbWVdID0gc3BlYy5sYW5ndWFnZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYSBrZXJuZWwgYnkgbmFtZS5cbiAgICAgICAgbGV0IG5hbWVzID0gW107XG4gICAgICAgIGlmIChuYW1lICYmIG5hbWUgaW4gc3BlY3Mua2VybmVsc3BlY3MpIHtcbiAgICAgICAgICAgIG5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlbiBsb29rIGJ5IGxhbmd1YWdlLlxuICAgICAgICBpZiAobGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHNwZWNOYW1lIGluIHNwZWNzLmtlcm5lbHNwZWNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgIT09IHNwZWNOYW1lICYmIGxhbmd1YWdlc1tzcGVjTmFtZV0gPT09IGxhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzLnB1c2goc3BlY05hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQga2VybmVsIGlmIG5vIGtlcm5lbHMgd2VyZSBmb3VuZC5cbiAgICAgICAgaWYgKCFuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG5hbWVzLnB1c2goc3BlY3MuZGVmYXVsdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGEgcHJlZmVycmVkIGtlcm5lbHMgaW4gb3JkZXIgb2YgZGlzcGxheSBuYW1lLlxuICAgICAgICBsZXQgcHJlZmVycmVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0Z3JvdXAnKTtcbiAgICAgICAgcHJlZmVycmVkLmxhYmVsID0gJ1N0YXJ0IFByZWZlcnJlZCBLZXJuZWwnO1xuICAgICAgICBuYW1lcy5zb3J0KChhLCBiKSA9PiBkaXNwbGF5TmFtZXNbYV0ubG9jYWxlQ29tcGFyZShkaXNwbGF5TmFtZXNbYl0pKTtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBuYW1lcykge1xuICAgICAgICAgICAgcHJlZmVycmVkLmFwcGVuZENoaWxkKG9wdGlvbkZvck5hbWUobmFtZSwgZGlzcGxheU5hbWVzW25hbWVdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWZlcnJlZC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHByZWZlcnJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGFuIG9wdGlvbiBmb3Igbm8ga2VybmVsXG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQob3B0aW9uRm9yTm9uZSgpKTtcbiAgICAgICAgbGV0IG90aGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0Z3JvdXAnKTtcbiAgICAgICAgb3RoZXIubGFiZWwgPSAnU3RhcnQgT3RoZXIgS2VybmVsJztcbiAgICAgICAgLy8gQWRkIHRoZSByZXN0IG9mIHRoZSBrZXJuZWwgbmFtZXMgaW4gYWxwaGFiZXRpY2FsIG9yZGVyLlxuICAgICAgICBsZXQgb3RoZXJOYW1lcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBzcGVjTmFtZSBpbiBzcGVjcy5rZXJuZWxzcGVjcykge1xuICAgICAgICAgICAgaWYgKG5hbWVzLmluZGV4T2Yoc3BlY05hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3RoZXJOYW1lcy5wdXNoKHNwZWNOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlck5hbWVzLnNvcnQoKGEsIGIpID0+IGRpc3BsYXlOYW1lc1thXS5sb2NhbGVDb21wYXJlKGRpc3BsYXlOYW1lc1tiXSkpO1xuICAgICAgICBmb3IgKGxldCBvdGhlck5hbWUgb2Ygb3RoZXJOYW1lcykge1xuICAgICAgICAgICAgb3RoZXIuYXBwZW5kQ2hpbGQob3B0aW9uRm9yTmFtZShvdGhlck5hbWUsIGRpc3BsYXlOYW1lc1tvdGhlck5hbWVdKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGEgc2VwYXJhdG9yIG9wdGlvbiBpZiB0aGVyZSB3ZXJlIGFueSBvdGhlciBuYW1lcy5cbiAgICAgICAgaWYgKG90aGVyTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgIGlmIChzaG91bGRTdGFydCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG5vZGUudmFsdWUgPSAnbnVsbCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJhaWwgaWYgdGhlcmUgYXJlIG5vIHNlc3Npb25zLlxuICAgICAgICBpZiAoIXNlc3Npb25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRoZSBzZXNzaW9ucyB1c2luZyB0aGUgcHJlZmVycmVkIGxhbmd1YWdlIGZpcnN0LlxuICAgICAgICBsZXQgbWF0Y2hpbmdTZXNzaW9ucyA9IFtdO1xuICAgICAgICBsZXQgb3RoZXJTZXNzaW9ucyA9IFtdO1xuICAgICAgICBlYWNoKHNlc3Npb25zLCBzZXNzaW9uID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChsYW5ndWFnZSAmJlxuICAgICAgICAgICAgICAgIHNlc3Npb24ua2VybmVsICYmXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VzW3Nlc3Npb24ua2VybmVsLm5hbWVdID09PSBsYW5ndWFnZSAmJlxuICAgICAgICAgICAgICAgIHNlc3Npb24ua2VybmVsLmlkICE9PSBpZCkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nU2Vzc2lvbnMucHVzaChzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCgoX2EgPSBzZXNzaW9uLmtlcm5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkKSAhPT0gaWQpIHtcbiAgICAgICAgICAgICAgICBvdGhlclNlc3Npb25zLnB1c2goc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbWF0Y2hpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpO1xuICAgICAgICBtYXRjaGluZy5sYWJlbCA9ICdVc2UgS2VybmVsIGZyb20gUHJlZmVycmVkIFNlc3Npb24nO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKG1hdGNoaW5nKTtcbiAgICAgICAgaWYgKG1hdGNoaW5nU2Vzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXRjaGluZ1Nlc3Npb25zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5wYXRoLmxvY2FsZUNvbXBhcmUoYi5wYXRoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWFjaChtYXRjaGluZ1Nlc3Npb25zLCBzZXNzaW9uID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHNlc3Npb24ua2VybmVsID8gZGlzcGxheU5hbWVzW3Nlc3Npb24ua2VybmVsLm5hbWVdIDogJyc7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmcuYXBwZW5kQ2hpbGQob3B0aW9uRm9yU2Vzc2lvbihzZXNzaW9uLCBuYW1lKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3RoZXJTZXNzaW9uc05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpO1xuICAgICAgICBvdGhlclNlc3Npb25zTm9kZS5sYWJlbCA9ICdVc2UgS2VybmVsIGZyb20gT3RoZXIgU2Vzc2lvbic7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQob3RoZXJTZXNzaW9uc05vZGUpO1xuICAgICAgICBpZiAob3RoZXJTZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG90aGVyU2Vzc2lvbnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnBhdGgubG9jYWxlQ29tcGFyZShiLnBhdGgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlYWNoKG90aGVyU2Vzc2lvbnMsIHNlc3Npb24gPT4ge1xuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gc2Vzc2lvbi5rZXJuZWxcbiAgICAgICAgICAgICAgICAgICAgPyBkaXNwbGF5TmFtZXNbc2Vzc2lvbi5rZXJuZWwubmFtZV0gfHwgc2Vzc2lvbi5rZXJuZWwubmFtZVxuICAgICAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgICAgIG90aGVyU2Vzc2lvbnNOb2RlLmFwcGVuZENoaWxkKG9wdGlvbkZvclNlc3Npb24oc2Vzc2lvbiwgbmFtZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUHJpdmF0ZS5wb3B1bGF0ZUtlcm5lbFNlbGVjdCA9IHBvcHVsYXRlS2VybmVsU2VsZWN0O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUga2VybmVsIHNlYXJjaCBvcHRpb25zIGdpdmVuIGEgc2Vzc2lvbiBjb250ZXh0IGFuZCBzZXNzaW9uIG1hbmFnZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0S2VybmVsU2VhcmNoKHNlc3Npb25Db250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcGVjczogc2Vzc2lvbkNvbnRleHQuc3BlY3NNYW5hZ2VyLnNwZWNzLFxuICAgICAgICAgICAgc2Vzc2lvbnM6IHNlc3Npb25Db250ZXh0LnNlc3Npb25NYW5hZ2VyLnJ1bm5pbmcoKSxcbiAgICAgICAgICAgIHByZWZlcmVuY2U6IHNlc3Npb25Db250ZXh0Lmtlcm5lbFByZWZlcmVuY2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIG9wdGlvbiBlbGVtZW50IGZvciBhIGtlcm5lbCBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9wdGlvbkZvck5hbWUobmFtZSwgZGlzcGxheU5hbWUpIHtcbiAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udGV4dCA9IGRpc3BsYXlOYW1lO1xuICAgICAgICBvcHRpb24udmFsdWUgPSBKU09OLnN0cmluZ2lmeSh7IG5hbWUgfSk7XG4gICAgICAgIHJldHVybiBvcHRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBvcHRpb24gZm9yIG5vIGtlcm5lbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcHRpb25Gb3JOb25lKCkge1xuICAgICAgICBsZXQgZ3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpO1xuICAgICAgICBncm91cC5sYWJlbCA9ICdVc2UgTm8gS2VybmVsJztcbiAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udGV4dCA9ICdObyBLZXJuZWwnO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAnbnVsbCc7XG4gICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIG9wdGlvbiBlbGVtZW50IGZvciBhIHNlc3Npb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3B0aW9uRm9yU2Vzc2lvbihzZXNzaW9uLCBkaXNwbGF5TmFtZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGxldCBzZXNzaW9uTmFtZSA9IHNlc3Npb24ubmFtZSB8fCBQYXRoRXh0LmJhc2VuYW1lKHNlc3Npb24ucGF0aCk7XG4gICAgICAgIG9wdGlvbi50ZXh0ID0gc2Vzc2lvbk5hbWU7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHsgaWQ6IChfYSA9IHNlc3Npb24ua2VybmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQgfSk7XG4gICAgICAgIG9wdGlvbi50aXRsZSA9XG4gICAgICAgICAgICBgUGF0aDogJHtzZXNzaW9uLnBhdGh9XFxuYCArXG4gICAgICAgICAgICAgICAgYE5hbWU6ICR7c2Vzc2lvbk5hbWV9XFxuYCArXG4gICAgICAgICAgICAgICAgYEtlcm5lbCBOYW1lOiAke2Rpc3BsYXlOYW1lfVxcbmAgK1xuICAgICAgICAgICAgICAgIGBLZXJuZWwgSWQ6ICR7KF9iID0gc2Vzc2lvbi5rZXJuZWwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pZH1gO1xuICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgIH1cbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbmNvbnRleHQuanMubWFwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi5qcC1NaW1lRG9jdW1lbnQge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IE1pbWVEYXRhIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuLyoqXG4gKiBUaGUgY2xpcGJvYXJkIGludGVyZmFjZS5cbiAqL1xuZXhwb3J0IHZhciBDbGlwYm9hcmQ7XG4oZnVuY3Rpb24gKENsaXBib2FyZCkge1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYXBwbGljYXRpb24gY2xpcGJvYXJkIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEluc3RhbmNlKCkge1xuICAgICAgICByZXR1cm4gUHJpdmF0ZS5pbnN0YW5jZTtcbiAgICB9XG4gICAgQ2xpcGJvYXJkLmdldEluc3RhbmNlID0gZ2V0SW5zdGFuY2U7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBhcHBsaWNhdGlvbiBjbGlwYm9hcmQgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0SW5zdGFuY2UodmFsdWUpIHtcbiAgICAgICAgUHJpdmF0ZS5pbnN0YW5jZSA9IHZhbHVlO1xuICAgIH1cbiAgICBDbGlwYm9hcmQuc2V0SW5zdGFuY2UgPSBzZXRJbnN0YW5jZTtcbiAgICAvKipcbiAgICAgKiBDb3B5IHRleHQgdG8gdGhlIHN5c3RlbSBjbGlwYm9hcmQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBjYW4gb25seSBiZSBjYWxsZWQgaW4gcmVzcG9uc2UgdG8gYSB1c2VyIGlucHV0IGV2ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlUb1N5c3RlbShjbGlwYm9hcmREYXRhKSB7XG4gICAgICAgIGxldCBub2RlID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgbGV0IGhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gZXZlbnQuY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2xpcGJvYXJkRGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnNldERhdGEoJ3RleHQnLCBjbGlwYm9hcmREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsaXBib2FyZERhdGEudHlwZXMoKS5tYXAoKG1pbWVUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc2V0RGF0YShtaW1lVHlwZSwgY2xpcGJvYXJkRGF0YS5nZXREYXRhKG1pbWVUeXBlKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgaGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIGhhbmRsZXIpO1xuICAgICAgICBnZW5lcmF0ZUV2ZW50KG5vZGUpO1xuICAgIH1cbiAgICBDbGlwYm9hcmQuY29weVRvU3lzdGVtID0gY29weVRvU3lzdGVtO1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgY2xpcGJvYXJkIGV2ZW50IG9uIGEgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIC0gVGhlIGVsZW1lbnQgb24gd2hpY2ggdG8gZ2VuZXJhdGUgdGhlIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiBldmVudCB0byBnZW5lcmF0ZS5cbiAgICAgKiAgIGAncGFzdGUnYCBldmVudHMgY2Fubm90IGJlIHByb2dyYW1tYXRpY2FsbHkgZ2VuZXJhdGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgY2FuIG9ubHkgYmUgY2FsbGVkIGluIHJlc3BvbnNlIHRvIGEgdXNlciBpbnB1dCBldmVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUV2ZW50KG5vZGUsIHR5cGUgPSAnY29weScpIHtcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTIxMDM2N1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIElkZW50aWZ5IHNlbGVjdGVkIHRleHQuXG4gICAgICAgIGxldCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAgICBsZXQgc2F2ZWRSYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9ICgoX2EgPSBzZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yYW5nZUNvdW50KSB8fCAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgIHNhdmVkUmFuZ2VzW2ldID0gc2VsLmdldFJhbmdlQXQoaSkuY2xvbmVSYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlbGVjdCB0aGUgbm9kZSBjb250ZW50LlxuICAgICAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMobm9kZSk7XG4gICAgICAgIGlmIChzZWwpIHtcbiAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgY29tbWFuZC5cbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodHlwZSk7XG4gICAgICAgIC8vIFJlc3RvcmUgdGhlIHByZXZpb3VzIHNlbGVjdGlvbi5cbiAgICAgICAgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICBpZiAoc2VsKSB7XG4gICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc2F2ZWRSYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2Uoc2F2ZWRSYW5nZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIENsaXBib2FyZC5nZW5lcmF0ZUV2ZW50ID0gZ2VuZXJhdGVFdmVudDtcbn0pKENsaXBib2FyZCB8fCAoQ2xpcGJvYXJkID0ge30pKTtcbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgbW9kdWxlIHByaXZhdGUgZGF0YS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYXBwbGljYXRpb24gY2xpcGJvYXJkIGluc3RhbmNlLlxuICAgICAqL1xuICAgIFByaXZhdGUuaW5zdGFuY2UgPSBuZXcgTWltZURhdGEoKTtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpcGJvYXJkLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmV4cG9ydCAqIGZyb20gJy4vcHJvZ3Jlc3NCYXInO1xuZXhwb3J0ICogZnJvbSAnLi90ZXh0JztcbmV4cG9ydCAqIGZyb20gJy4vZ3JvdXAnO1xuZXhwb3J0ICogZnJvbSAnLi9ob3Zlcic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBNb2RlIH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29kZW1pcnJvcic7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tICdAbHVtaW5vL3NpZ25hbGluZyc7XG5pbXBvcnQgeyBNYWluQXJlYVdpZGdldCB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbmltcG9ydCB7IENvZGVFZGl0b3IgfSBmcm9tICdAanVweXRlcmxhYi9jb2RlZWRpdG9yJztcbmltcG9ydCB7IFBhdGhFeHQgfSBmcm9tICdAanVweXRlcmxhYi9jb3JldXRpbHMnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBhIGRvY3VtZW50IG1vZGVsLlxuICovXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRNb2RlbCBleHRlbmRzIENvZGVFZGl0b3IuTW9kZWwge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBkb2N1bWVudCBtb2RlbC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihsYW5ndWFnZVByZWZlcmVuY2UsIG1vZGVsREIpIHtcbiAgICAgICAgc3VwZXIoeyBtb2RlbERCIH0pO1xuICAgICAgICB0aGlzLl9kZWZhdWx0TGFuZyA9ICcnO1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWFkT25seSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jb250ZW50Q2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX3N0YXRlQ2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRMYW5nID0gbGFuZ3VhZ2VQcmVmZXJlbmNlIHx8ICcnO1xuICAgICAgICB0aGlzLnZhbHVlLmNoYW5nZWQuY29ubmVjdCh0aGlzLnRyaWdnZXJDb250ZW50Q2hhbmdlLCB0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBkb2N1bWVudCBjb250ZW50IGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGNvbnRlbnRDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudENoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgZG9jdW1lbnQgc3RhdGUgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgc3RhdGVDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGlydHkgc3RhdGUgb2YgdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGdldCBkaXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RpcnR5O1xuICAgIH1cbiAgICBzZXQgZGlydHkobmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB0aGlzLl9kaXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbGRWYWx1ZSA9IHRoaXMuX2RpcnR5O1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IG5ld1ZhbHVlO1xuICAgICAgICB0aGlzLnRyaWdnZXJTdGF0ZUNoYW5nZSh7IG5hbWU6ICdkaXJ0eScsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHJlYWQgb25seSBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgZ2V0IHJlYWRPbmx5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZE9ubHk7XG4gICAgfVxuICAgIHNldCByZWFkT25seShuZXdWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHRoaXMuX3JlYWRPbmx5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9sZFZhbHVlID0gdGhpcy5fcmVhZE9ubHk7XG4gICAgICAgIHRoaXMuX3JlYWRPbmx5ID0gbmV3VmFsdWU7XG4gICAgICAgIHRoaXMudHJpZ2dlclN0YXRlQ2hhbmdlKHsgbmFtZTogJ3JlYWRPbmx5Jywgb2xkVmFsdWUsIG5ld1ZhbHVlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBrZXJuZWwgbmFtZSBvZiB0aGUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXQgZGVmYXVsdEtlcm5lbE5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQga2VybmVsIGxhbmd1YWdlIG9mIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGEgcmVhZC1vbmx5IHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldCBkZWZhdWx0S2VybmVsTGFuZ3VhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0TGFuZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIHRoZSBtb2RlbCB0byBhIHN0cmluZy5cbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudGV4dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzZXJpYWxpemUgdGhlIG1vZGVsIGZyb20gYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogU2hvdWxkIGVtaXQgYSBbY29udGVudENoYW5nZWRdIHNpZ25hbC5cbiAgICAgKi9cbiAgICBmcm9tU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUudGV4dCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemUgdGhlIG1vZGVsIHRvIEpTT04uXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLnZhbHVlLnRleHQgfHwgJ251bGwnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzZXJpYWxpemUgdGhlIG1vZGVsIGZyb20gSlNPTi5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBTaG91bGQgZW1pdCBhIFtjb250ZW50Q2hhbmdlZF0gc2lnbmFsLlxuICAgICAqL1xuICAgIGZyb21KU09OKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZnJvbVN0cmluZyhKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBtb2RlbCB3aXRoIGl0cyBjdXJyZW50IHN0YXRlLlxuICAgICAqL1xuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBhIHN0YXRlIGNoYW5nZSBzaWduYWwuXG4gICAgICovXG4gICAgdHJpZ2dlclN0YXRlQ2hhbmdlKGFyZ3MpIHtcbiAgICAgICAgdGhpcy5fc3RhdGVDaGFuZ2VkLmVtaXQoYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSBjb250ZW50IGNoYW5nZWQgc2lnbmFsLlxuICAgICAqL1xuICAgIHRyaWdnZXJDb250ZW50Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLl9jb250ZW50Q2hhbmdlZC5lbWl0KHZvaWQgMCk7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbn1cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgYSBtb2RlbCBmYWN0b3J5IGZvciB0ZXh0IGZpbGVzLlxuICovXG5leHBvcnQgY2xhc3MgVGV4dE1vZGVsRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHR5cGUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICd0ZXh0JztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXQgY29udGVudFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnZmlsZSc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmb3JtYXQgb2YgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGEgcmVhZC1vbmx5IHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldCBmaWxlRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gJ3RleHQnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgd2hldGhlciB0aGUgbW9kZWwgZmFjdG9yeSBoYXMgYmVlbiBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBtb2RlbCBmYWN0b3J5LlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgbW9kZWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VQcmVmZXJlbmNlIC0gQW4gb3B0aW9uYWwga2VybmVsIGxhbmd1YWdlIHByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBkb2N1bWVudCBtb2RlbC5cbiAgICAgKi9cbiAgICBjcmVhdGVOZXcobGFuZ3VhZ2VQcmVmZXJlbmNlLCBtb2RlbERCKSB7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRNb2RlbChsYW5ndWFnZVByZWZlcmVuY2UsIG1vZGVsREIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHByZWZlcnJlZCBrZXJuZWwgbGFuZ3VhZ2UgZ2l2ZW4gYSBmaWxlIHBhdGguXG4gICAgICovXG4gICAgcHJlZmVycmVkTGFuZ3VhZ2UocGF0aCkge1xuICAgICAgICBsZXQgbW9kZSA9IE1vZGUuZmluZEJ5RmlsZU5hbWUocGF0aCk7XG4gICAgICAgIHJldHVybiBtb2RlICYmIG1vZGUubW9kZTtcbiAgICB9XG59XG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIGEgbW9kZWwgZmFjdG9yeSBmb3IgYmFzZTY0IGZpbGVzLlxuICovXG5leHBvcnQgY2xhc3MgQmFzZTY0TW9kZWxGYWN0b3J5IGV4dGVuZHMgVGV4dE1vZGVsRmFjdG9yeSB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIG1vZGVsIHR5cGUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBpcyBhIHJlYWQtb25seSBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdiYXNlNjQnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgZmlsZS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGEgcmVhZC1vbmx5IHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldCBjb250ZW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICdmaWxlJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZvcm1hdCBvZiB0aGUgZmlsZS5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYSByZWFkLW9ubHkgcHJvcGVydHkuXG4gICAgICovXG4gICAgZ2V0IGZpbGVGb3JtYXQoKSB7XG4gICAgICAgIHJldHVybiAnYmFzZTY0JztcbiAgICB9XG59XG4vKipcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGEgd2lkZ2V0IGZhY3RvcnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBBQkNXaWRnZXRGYWN0b3J5IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgYEFCQ1dpZGdldEZhY3RvcnlgLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl93aWRnZXRDcmVhdGVkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgICAgICAgdGhpcy5fcmVhZE9ubHkgPSBvcHRpb25zLnJlYWRPbmx5ID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IG9wdGlvbnMucmVhZE9ubHk7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRGb3IgPSBvcHRpb25zLmRlZmF1bHRGb3IgPyBvcHRpb25zLmRlZmF1bHRGb3Iuc2xpY2UoKSA6IFtdO1xuICAgICAgICB0aGlzLl9kZWZhdWx0UmVuZGVyZWQgPSAob3B0aW9ucy5kZWZhdWx0UmVuZGVyZWQgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuX2ZpbGVUeXBlcyA9IG9wdGlvbnMuZmlsZVR5cGVzLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuX21vZGVsTmFtZSA9IG9wdGlvbnMubW9kZWxOYW1lIHx8ICd0ZXh0JztcbiAgICAgICAgdGhpcy5fcHJlZmVyS2VybmVsID0gISFvcHRpb25zLnByZWZlcktlcm5lbDtcbiAgICAgICAgdGhpcy5fY2FuU3RhcnRLZXJuZWwgPSAhIW9wdGlvbnMuY2FuU3RhcnRLZXJuZWw7XG4gICAgICAgIHRoaXMuX3NodXRkb3duT25DbG9zZSA9ICEhb3B0aW9ucy5zaHV0ZG93bk9uQ2xvc2U7XG4gICAgICAgIHRoaXMuX3Rvb2xiYXJGYWN0b3J5ID0gb3B0aW9ucy50b29sYmFyRmFjdG9yeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIGEgd2lkZ2V0IGlzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgZ2V0IHdpZGdldENyZWF0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWRnZXRDcmVhdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgd2hldGhlciB0aGUgbW9kZWwgZmFjdG9yeSBoYXMgYmVlbiBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyB1c2VkIGJ5IHRoZSBkb2N1bWVudCBtYW5hZ2VyLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgd2lkZ2V0IGZhY3RvcnkgaXMgcmVhZCBvbmx5LlxuICAgICAqL1xuICAgIGdldCByZWFkT25seSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRPbmx5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgd2lkZ2V0IHRvIGRpc3BsYXkgaW4gZGlhbG9ncy5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaWxlIHR5cGVzIHRoZSB3aWRnZXQgY2FuIHZpZXcuXG4gICAgICovXG4gICAgZ2V0IGZpbGVUeXBlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGVUeXBlcy5zbGljZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmVnaXN0ZXJlZCBuYW1lIG9mIHRoZSBtb2RlbCB0eXBlIHVzZWQgdG8gY3JlYXRlIHRoZSB3aWRnZXRzLlxuICAgICAqL1xuICAgIGdldCBtb2RlbE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbE5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaWxlIHR5cGVzIGZvciB3aGljaCB0aGUgZmFjdG9yeSBzaG91bGQgYmUgdGhlIGRlZmF1bHQuXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRGb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0Rm9yLnNsaWNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaWxlIHR5cGVzIGZvciB3aGljaCB0aGUgZmFjdG9yeSBzaG91bGQgYmUgdGhlIGRlZmF1bHQgZm9yXG4gICAgICogcmVuZGVyaW5nIGEgZG9jdW1lbnQgbW9kZWwsIGlmIGRpZmZlcmVudCBmcm9tIGVkaXRpbmcuXG4gICAgICovXG4gICAgZ2V0IGRlZmF1bHRSZW5kZXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRSZW5kZXJlZC5zbGljZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB3aWRnZXRzIHByZWZlciBoYXZpbmcgYSBrZXJuZWwgc3RhcnRlZC5cbiAgICAgKi9cbiAgICBnZXQgcHJlZmVyS2VybmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJlZmVyS2VybmVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB3aWRnZXRzIGNhbiBzdGFydCBhIGtlcm5lbCB3aGVuIG9wZW5lZC5cbiAgICAgKi9cbiAgICBnZXQgY2FuU3RhcnRLZXJuZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW5TdGFydEtlcm5lbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUga2VybmVsIHNob3VsZCBiZSBzaHV0ZG93biB3aGVuIHRoZSB3aWRnZXQgaXMgY2xvc2VkLlxuICAgICAqL1xuICAgIGdldCBzaHV0ZG93bk9uQ2xvc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaHV0ZG93bk9uQ2xvc2U7XG4gICAgfVxuICAgIHNldCBzaHV0ZG93bk9uQ2xvc2UodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2h1dGRvd25PbkNsb3NlID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyB3aWRnZXQgZ2l2ZW4gYSBkb2N1bWVudCBtb2RlbCBhbmQgYSBjb250ZXh0LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIEl0IHNob3VsZCBlbWl0IHRoZSBbd2lkZ2V0Q3JlYXRlZF0gc2lnbmFsIHdpdGggdGhlIG5ldyB3aWRnZXQuXG4gICAgICovXG4gICAgY3JlYXRlTmV3KGNvbnRleHQsIHNvdXJjZSkge1xuICAgICAgICAvLyBDcmVhdGUgdGhlIG5ldyB3aWRnZXRcbiAgICAgICAgY29uc3Qgd2lkZ2V0ID0gdGhpcy5jcmVhdGVOZXdXaWRnZXQoY29udGV4dCwgc291cmNlKTtcbiAgICAgICAgLy8gQWRkIHRvb2xiYXIgaXRlbXNcbiAgICAgICAgbGV0IGl0ZW1zO1xuICAgICAgICBpZiAodGhpcy5fdG9vbGJhckZhY3RvcnkpIHtcbiAgICAgICAgICAgIGl0ZW1zID0gdGhpcy5fdG9vbGJhckZhY3Rvcnkod2lkZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW1zID0gdGhpcy5kZWZhdWx0VG9vbGJhckZhY3Rvcnkod2lkZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtcy5mb3JFYWNoKCh7IG5hbWUsIHdpZGdldDogaXRlbSB9KSA9PiB7XG4gICAgICAgICAgICB3aWRnZXQudG9vbGJhci5hZGRJdGVtKG5hbWUsIGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRW1pdCB3aWRnZXQgY3JlYXRlZCBzaWduYWxcbiAgICAgICAgdGhpcy5fd2lkZ2V0Q3JlYXRlZC5lbWl0KHdpZGdldCk7XG4gICAgICAgIHJldHVybiB3aWRnZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmFjdG9yeSBmb3IgdG9vbGJhciBpdGVtcyB0byBiZSBhZGRlZCBhZnRlciB0aGUgd2lkZ2V0IGlzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgZGVmYXVsdFRvb2xiYXJGYWN0b3J5KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB0byBhIGRpcnR5IHdpZGdldC5cbiAqL1xuY29uc3QgRElSVFlfQ0xBU1MgPSAnanAtbW9kLWRpcnR5Jztcbi8qKlxuICogQSBkb2N1bWVudCB3aWRnZXQgaW1wbGVtZW50YXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudFdpZGdldCBleHRlbmRzIE1haW5BcmVhV2lkZ2V0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIC8vIEluY2x1ZGUgdGhlIGNvbnRleHQgcmVhZHkgcHJvbWlzZSBpbiB0aGUgd2lkZ2V0IHJldmVhbCBwcm9taXNlXG4gICAgICAgIG9wdGlvbnMucmV2ZWFsID0gUHJvbWlzZS5hbGwoW29wdGlvbnMucmV2ZWFsLCBvcHRpb25zLmNvbnRleHQucmVhZHldKTtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IG9wdGlvbnMuY29udGV4dDtcbiAgICAgICAgLy8gSGFuZGxlIGNvbnRleHQgcGF0aCBjaGFuZ2VzXG4gICAgICAgIHRoaXMuY29udGV4dC5wYXRoQ2hhbmdlZC5jb25uZWN0KHRoaXMuX29uUGF0aENoYW5nZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLl9vblBhdGhDaGFuZ2VkKHRoaXMuY29udGV4dCwgdGhpcy5jb250ZXh0LnBhdGgpO1xuICAgICAgICAvLyBMaXN0ZW4gZm9yIGNoYW5nZXMgaW4gdGhlIGRpcnR5IHN0YXRlLlxuICAgICAgICB0aGlzLmNvbnRleHQubW9kZWwuc3RhdGVDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25Nb2RlbFN0YXRlQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIHZvaWQgdGhpcy5jb250ZXh0LnJlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGlydHlTdGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IFVSSSBmcmFnbWVudCBpZGVudGlmaWVyLlxuICAgICAqL1xuICAgIHNldEZyYWdtZW50KGZyYWdtZW50KSB7XG4gICAgICAgIC8qIG5vLW9wICovXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIHBhdGggY2hhbmdlLlxuICAgICAqL1xuICAgIF9vblBhdGhDaGFuZ2VkKHNlbmRlciwgcGF0aCkge1xuICAgICAgICB0aGlzLnRpdGxlLmxhYmVsID0gUGF0aEV4dC5iYXNlbmFtZShzZW5kZXIubG9jYWxQYXRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgY2hhbmdlIHRvIHRoZSBjb250ZXh0IG1vZGVsIHN0YXRlLlxuICAgICAqL1xuICAgIF9vbk1vZGVsU3RhdGVDaGFuZ2VkKHNlbmRlciwgYXJncykge1xuICAgICAgICBpZiAoYXJncy5uYW1lID09PSAnZGlydHknKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEaXJ0eVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBkaXJ0eSBzdGF0ZSBvZiB0aGUgY29udGV4dCBtb2RlbC5cbiAgICAgKi9cbiAgICBfaGFuZGxlRGlydHlTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5tb2RlbC5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy50aXRsZS5jbGFzc05hbWUgKz0gYCAke0RJUlRZX0NMQVNTfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRpdGxlLmNsYXNzTmFtZSA9IHRoaXMudGl0bGUuY2xhc3NOYW1lLnJlcGxhY2UoRElSVFlfQ0xBU1MsICcnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MSclM0UgJTNDcGF0aCBkPSdNMTggMTNWMjBINFY2SDkuMDJDOS4wNyA1LjI5IDkuMjQgNC42MiA5LjUgNEg0QzIuOSA0IDIgNC45IDIgNlYyMEMyIDIxLjEgMi45IDIyIDQgMjJIMThDMTkuMSAyMiAyMCAyMS4xIDIwIDIwVjE1TDE4IDEzWk0xOS4zIDguODlDMTkuNzQgOC4xOSAyMCA3LjM4IDIwIDYuNUMyMCA0LjAxIDE3Ljk5IDIgMTUuNSAyQzEzLjAxIDIgMTEgNC4wMSAxMSA2LjVDMTEgOC45OSAxMy4wMSAxMSAxNS40OSAxMUMxNi4zNyAxMSAxNy4xOSAxMC43NCAxNy44OCAxMC4zTDIxIDEzLjQyTDIyLjQyIDEyTDE5LjMgOC44OVpNMTUuNSA5QzE0LjEyIDkgMTMgNy44OCAxMyA2LjVDMTMgNS4xMiAxNC4xMiA0IDE1LjUgNEMxNi44OCA0IDE4IDUuMTIgMTggNi41QzE4IDcuODggMTYuODggOSAxNS41IDlaJy8lM0UgJTNDcGF0aCBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGNsaXAtcnVsZT0nZXZlbm9kZCcgZD0nTTQgNkg5LjAxODk0QzkuMDA2MzkgNi4xNjUwMiA5IDYuMzMxNzYgOSA2LjVDOSA4LjgxNTc3IDEwLjIxMSAxMC44NDg3IDEyLjAzNDMgMTJIOVYxNEgxNlYxMi45ODExQzE2LjU3MDMgMTIuOTM3NyAxNy4xMiAxMi44MjA3IDE3LjYzOTYgMTIuNjM5NkwxOCAxM1YyMEg0VjZaTTggOEg2VjEwSDhWOFpNNiAxMkg4VjE0SDZWMTJaTTggMTZINlYxOEg4VjE2Wk05IDE2SDE2VjE4SDlWMTZaJy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTE4IDEzVjIwSDRWNkg5LjAyQzkuMDcgNS4yOSA5LjI0IDQuNjIgOS41IDRINEMyLjkgNCAyIDQuOSAyIDZWMjBDMiAyMS4xIDIuOSAyMiA0IDIySDE4QzE5LjEgMjIgMjAgMjEuMSAyMCAyMFYxNUwxOCAxM1pNMTkuMyA4Ljg5QzE5Ljc0IDguMTkgMjAgNy4zOCAyMCA2LjVDMjAgNC4wMSAxNy45OSAyIDE1LjUgMkMxMy4wMSAyIDExIDQuMDEgMTEgNi41QzExIDguOTkgMTMuMDEgMTEgMTUuNDkgMTFDMTYuMzcgMTEgMTcuMTkgMTAuNzQgMTcuODggMTAuM0wyMSAxMy40MkwyMi40MiAxMkwxOS4zIDguODlaTTE1LjUgOUMxNC4xMiA5IDEzIDcuODggMTMgNi41QzEzIDUuMTIgMTQuMTIgNCAxNS41IDRDMTYuODggNCAxOCA1LjEyIDE4IDYuNUMxOCA3Ljg4IDE2Ljg4IDkgMTUuNSA5WlxcXCIvPlxcbiAgICA8cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTQgNkg5LjAxODk0QzkuMDA2MzkgNi4xNjUwMiA5IDYuMzMxNzYgOSA2LjVDOSA4LjgxNTc3IDEwLjIxMSAxMC44NDg3IDEyLjAzNDMgMTJIOVYxNEgxNlYxMi45ODExQzE2LjU3MDMgMTIuOTM3NyAxNy4xMiAxMi44MjA3IDE3LjYzOTYgMTIuNjM5NkwxOCAxM1YyMEg0VjZaTTggOEg2VjEwSDhWOFpNNiAxMkg4VjE0SDZWMTJaTTggMTZINlYxOEg4VjE2Wk05IDE2SDE2VjE4SDlWMTZaXFxcIi8+XFxuICA8L2c+XFxuPC9zdmc+XFxuXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IEFqdiBmcm9tICdhanYnO1xuaW1wb3J0ICogYXMganNvbiBmcm9tICdqc29uNSc7XG5pbXBvcnQgeyBDb21tYW5kUmVnaXN0cnkgfSBmcm9tICdAbHVtaW5vL2NvbW1hbmRzJztcbmltcG9ydCB7IEpTT05FeHQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlRGVsZWdhdGUgfSBmcm9tICdAbHVtaW5vL2Rpc3Bvc2FibGUnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuaW1wb3J0IFNDSEVNQSBmcm9tICcuL3BsdWdpbi1zY2hlbWEuanNvbic7XG4vKipcbiAqIEFuIGFsaWFzIGZvciB0aGUgSlNPTiBkZWVwIGNvcHkgZnVuY3Rpb24uXG4gKi9cbmNvbnN0IGNvcHkgPSBKU09ORXh0LmRlZXBDb3B5O1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJlZm9yZSBhIGBsb2FkKClgIGNhbGwgdG8gdGhlIHJlZ2lzdHJ5XG4gKiB3aWxsIHdhaXQgYmVmb3JlIHRpbWluZyBvdXQgaWYgaXQgcmVxdWlyZXMgYSB0cmFuc2Zvcm1hdGlvbiB0aGF0IGhhcyBub3QgYmVlblxuICogcmVnaXN0ZXJlZC5cbiAqL1xuY29uc3QgREVGQVVMVF9UUkFOU0ZPUk1fVElNRU9VVCA9IDEwMDA7XG4vKipcbiAqIFRoZSBBU0NJSSByZWNvcmQgc2VwYXJhdG9yIGNoYXJhY3Rlci5cbiAqL1xuY29uc3QgUkVDT1JEX1NFUEFSQVRPUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMzApO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBhIHNjaGVtYSB2YWxpZGF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0U2NoZW1hVmFsaWRhdG9yIHtcbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIHNjaGVtYSB2YWxpZGF0b3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2NvbXBvc2VyID0gbmV3IEFqdih7IHVzZURlZmF1bHRzOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLl92YWxpZGF0b3IgPSBuZXcgQWp2KCk7XG4gICAgICAgIHRoaXMuX2NvbXBvc2VyLmFkZFNjaGVtYShTQ0hFTUEsICdqdXB5dGVybGFiLXBsdWdpbi1zY2hlbWEnKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yLmFkZFNjaGVtYShTQ0hFTUEsICdqdXB5dGVybGFiLXBsdWdpbi1zY2hlbWEnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYSBwbHVnaW4ncyBzY2hlbWEgYW5kIHVzZXIgZGF0YTsgcG9wdWxhdGUgdGhlIGBjb21wb3NpdGVgIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGx1Z2luIC0gVGhlIHBsdWdpbiBiZWluZyB2YWxpZGF0ZWQuIEl0cyBgY29tcG9zaXRlYCBkYXRhIHdpbGwgYmVcbiAgICAgKiBwb3B1bGF0ZWQgYnkgcmVmZXJlbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvcHVsYXRlIC0gV2hldGhlciBwbHVnaW4gZGF0YSBzaG91bGQgYmUgcG9wdWxhdGVkLCBkZWZhdWx0cyB0b1xuICAgICAqIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gQSBsaXN0IG9mIGVycm9ycyBpZiBlaXRoZXIgdGhlIHNjaGVtYSBvciBkYXRhIGZhaWwgdG8gdmFsaWRhdGUgb3JcbiAgICAgKiBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vIGVycm9ycy5cbiAgICAgKi9cbiAgICB2YWxpZGF0ZURhdGEocGx1Z2luLCBwb3B1bGF0ZSA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGUgPSB0aGlzLl92YWxpZGF0b3IuZ2V0U2NoZW1hKHBsdWdpbi5pZCk7XG4gICAgICAgIGNvbnN0IGNvbXBvc2UgPSB0aGlzLl9jb21wb3Nlci5nZXRTY2hlbWEocGx1Z2luLmlkKTtcbiAgICAgICAgLy8gSWYgdGhlIHNjaGVtYXMgZG8gbm90IGV4aXN0LCBhZGQgdGhlbSB0byB0aGUgdmFsaWRhdG9yIGFuZCBjb250aW51ZS5cbiAgICAgICAgaWYgKCF2YWxpZGF0ZSB8fCAhY29tcG9zZSkge1xuICAgICAgICAgICAgaWYgKHBsdWdpbi5zY2hlbWEudHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXl3b3JkID0gJ3NjaGVtYSc7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBTZXR0aW5nIHJlZ2lzdHJ5IHNjaGVtYXMnIHJvb3QtbGV2ZWwgdHlwZSBtdXN0IGJlIGAgK1xuICAgICAgICAgICAgICAgICAgICBgJ29iamVjdCcsIHJlamVjdGluZyB0eXBlOiAke3BsdWdpbi5zY2hlbWEudHlwZX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiBbeyBkYXRhUGF0aDogJ3R5cGUnLCBrZXl3b3JkLCBzY2hlbWFQYXRoOiAnJywgbWVzc2FnZSB9XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVycm9ycyA9IHRoaXMuX2FkZFNjaGVtYShwbHVnaW4uaWQsIHBsdWdpbi5zY2hlbWEpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9ycyB8fCB0aGlzLnZhbGlkYXRlRGF0YShwbHVnaW4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBhcnNlIHRoZSByYXcgY29tbWVudGVkIEpTT04gaW50byBhIHVzZXIgbWFwLlxuICAgICAgICBsZXQgdXNlcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHVzZXIgPSBqc29uLnBhcnNlKHBsdWdpbi5yYXcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUGF0aDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3JkOiAnc3ludGF4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYVBhdGg6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgY29sdW1uLCBkZXNjcmlwdGlvbiB9ID0gZXJyb3I7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gZXJyb3IubGluZU51bWJlcjtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRhUGF0aDogJycsXG4gICAgICAgICAgICAgICAgICAgIGtleXdvcmQ6ICdwYXJzZScsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYVBhdGg6ICcnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gKGxpbmUgJHtsaW5lfSBjb2x1bW4gJHtjb2x1bW59KWBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdmFsaWRhdGUodXNlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZS5lcnJvcnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29weSB0aGUgdXNlciBkYXRhIGJlZm9yZSBtZXJnaW5nIGRlZmF1bHRzIGludG8gY29tcG9zaXRlIG1hcC5cbiAgICAgICAgY29uc3QgY29tcG9zaXRlID0gY29weSh1c2VyKTtcbiAgICAgICAgaWYgKCFjb21wb3NlKGNvbXBvc2l0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb3NlLmVycm9ycztcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9wdWxhdGUpIHtcbiAgICAgICAgICAgIHBsdWdpbi5kYXRhID0geyBjb21wb3NpdGUsIHVzZXIgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgc2NoZW1hIHRvIHRoZSB2YWxpZGF0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGx1Z2luIC0gVGhlIHBsdWdpbiBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY2hlbWEgLSBUaGUgc2NoZW1hIGJlaW5nIGFkZGVkLlxuICAgICAqXG4gICAgICogQHJldHVybiBBIGxpc3Qgb2YgZXJyb3JzIGlmIHRoZSBzY2hlbWEgZmFpbHMgdG8gdmFsaWRhdGUgb3IgYG51bGxgIGlmIHRoZXJlXG4gICAgICogYXJlIG5vIGVycm9ycy5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBJdCBpcyBzYWZlIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiBtdWx0aXBsZSB0aW1lcyB3aXRoIHRoZSBzYW1lIHBsdWdpbiBuYW1lLlxuICAgICAqL1xuICAgIF9hZGRTY2hlbWEocGx1Z2luLCBzY2hlbWEpIHtcbiAgICAgICAgY29uc3QgY29tcG9zZXIgPSB0aGlzLl9jb21wb3NlcjtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5fdmFsaWRhdG9yO1xuICAgICAgICBjb25zdCB2YWxpZGF0ZSA9IHZhbGlkYXRvci5nZXRTY2hlbWEoJ2p1cHl0ZXJsYWItcGx1Z2luLXNjaGVtYScpO1xuICAgICAgICAvLyBWYWxpZGF0ZSBhZ2FpbnN0IHRoZSBtYWluIHNjaGVtYS5cbiAgICAgICAgaWYgKCF2YWxpZGF0ZShzY2hlbWEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGUuZXJyb3JzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFZhbGlkYXRlIGFnYWluc3QgdGhlIEpTT04gc2NoZW1hIG1ldGEtc2NoZW1hLlxuICAgICAgICBpZiAoIXZhbGlkYXRvci52YWxpZGF0ZVNjaGVtYShzY2hlbWEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdG9yLmVycm9ycztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgaWYgc2NoZW1hIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICBjb21wb3Nlci5yZW1vdmVTY2hlbWEocGx1Z2luKTtcbiAgICAgICAgdmFsaWRhdG9yLnJlbW92ZVNjaGVtYShwbHVnaW4pO1xuICAgICAgICAvLyBBZGQgc2NoZW1hIHRvIHRoZSB2YWxpZGF0b3IgYW5kIGNvbXBvc2VyLlxuICAgICAgICBjb21wb3Nlci5hZGRTY2hlbWEoc2NoZW1hLCBwbHVnaW4pO1xuICAgICAgICB2YWxpZGF0b3IuYWRkU2NoZW1hKHNjaGVtYSwgcGx1Z2luKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgZGVmYXVsdCBjb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBhIHNldHRpbmcgcmVnaXN0cnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXR0aW5nUmVnaXN0cnkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBzZXR0aW5nIHJlZ2lzdHJ5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2hlbWEgb2YgdGhlIHNldHRpbmcgcmVnaXN0cnkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjaGVtYSA9IFNDSEVNQTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIHNldHRpbmcgcmVnaXN0cnkgcGx1Z2lucy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX3BsdWdpbkNoYW5nZWQgPSBuZXcgU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9yZWFkeSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLmNvbm5lY3RvciA9IG9wdGlvbnMuY29ubmVjdG9yO1xuICAgICAgICB0aGlzLnZhbGlkYXRvciA9IG9wdGlvbnMudmFsaWRhdG9yIHx8IG5ldyBEZWZhdWx0U2NoZW1hVmFsaWRhdG9yKCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgREVGQVVMVF9UUkFOU0ZPUk1fVElNRU9VVDtcbiAgICAgICAgLy8gUHJlbG9hZCB3aXRoIGFueSBhdmFpbGFibGUgZGF0YSBhdCBpbnN0YW50aWF0aW9uLXRpbWUuXG4gICAgICAgIGlmIChvcHRpb25zLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gdGhpcy5fcHJlbG9hZChvcHRpb25zLnBsdWdpbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIHRoYXQgZW1pdHMgdGhlIG5hbWUgb2YgYSBwbHVnaW4gd2hlbiBpdHMgc2V0dGluZ3MgY2hhbmdlLlxuICAgICAqL1xuICAgIGdldCBwbHVnaW5DaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGx1Z2luQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFuIGluZGl2aWR1YWwgc2V0dGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwbHVnaW4gLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luIHdob3NlIHNldHRpbmdzIGFyZSBiZWluZyByZXRyaWV2ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIHNldHRpbmcgYmVpbmcgcmV0cmlldmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc2V0dGluZyBpcyByZXRyaWV2ZWQuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0KHBsdWdpbiwga2V5KSB7XG4gICAgICAgIC8vIFdhaXQgZm9yIGRhdGEgcHJlbG9hZCBiZWZvcmUgYWxsb3dpbmcgbm9ybWFsIG9wZXJhdGlvbi5cbiAgICAgICAgYXdhaXQgdGhpcy5fcmVhZHk7XG4gICAgICAgIGNvbnN0IHBsdWdpbnMgPSB0aGlzLnBsdWdpbnM7XG4gICAgICAgIGlmIChwbHVnaW4gaW4gcGx1Z2lucykge1xuICAgICAgICAgICAgY29uc3QgeyBjb21wb3NpdGUsIHVzZXIgfSA9IHBsdWdpbnNbcGx1Z2luXS5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjb21wb3NpdGU6IGNvbXBvc2l0ZVtrZXldICE9PSB1bmRlZmluZWQgPyBjb3B5KGNvbXBvc2l0ZVtrZXldKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB1c2VyOiB1c2VyW2tleV0gIT09IHVuZGVmaW5lZCA/IGNvcHkodXNlcltrZXldKSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkKHBsdWdpbikudGhlbigoKSA9PiB0aGlzLmdldChwbHVnaW4sIGtleSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIGEgcGx1Z2luJ3Mgc2V0dGluZ3MgaW50byB0aGUgc2V0dGluZyByZWdpc3RyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwbHVnaW4gLSBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luIHdob3NlIHNldHRpbmdzIGFyZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgcGx1Z2luIHNldHRpbmdzIG9iamVjdCBvciByZWplY3RzXG4gICAgICogaWYgdGhlIHBsdWdpbiBpcyBub3QgZm91bmQuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZChwbHVnaW4pIHtcbiAgICAgICAgLy8gV2FpdCBmb3IgZGF0YSBwcmVsb2FkIGJlZm9yZSBhbGxvd2luZyBub3JtYWwgb3BlcmF0aW9uLlxuICAgICAgICBhd2FpdCB0aGlzLl9yZWFkeTtcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IHRoaXMucGx1Z2lucztcbiAgICAgICAgY29uc3QgcmVnaXN0cnkgPSB0aGlzO1xuICAgICAgICAvLyBJZiB0aGUgcGx1Z2luIGV4aXN0cywgcmVzb2x2ZS5cbiAgICAgICAgaWYgKHBsdWdpbiBpbiBwbHVnaW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdzKHsgcGx1Z2luOiBwbHVnaW5zW3BsdWdpbl0sIHJlZ2lzdHJ5IH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBwbHVnaW4gbmVlZHMgdG8gYmUgbG9hZGVkIGZyb20gdGhlIGRhdGEgY29ubmVjdG9yLCBmZXRjaC5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVsb2FkKHBsdWdpbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbG9hZCBhIHBsdWdpbidzIHNldHRpbmdzIGludG8gdGhlIHJlZ2lzdHJ5IGV2ZW4gaWYgdGhleSBhbHJlYWR5IGV4aXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBsdWdpbiAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4gd2hvc2Ugc2V0dGluZ3MgYXJlIGJlaW5nIHJlbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHBsdWdpbiBzZXR0aW5ncyBvYmplY3Qgb3IgcmVqZWN0c1xuICAgICAqIHdpdGggYSBsaXN0IG9mIGBJU2NoZW1hVmFsaWRhdG9yLklFcnJvcmAgb2JqZWN0cyBpZiBpdCBmYWlscy5cbiAgICAgKi9cbiAgICBhc3luYyByZWxvYWQocGx1Z2luKSB7XG4gICAgICAgIC8vIFdhaXQgZm9yIGRhdGEgcHJlbG9hZCBiZWZvcmUgYWxsb3dpbmcgbm9ybWFsIG9wZXJhdGlvbi5cbiAgICAgICAgYXdhaXQgdGhpcy5fcmVhZHk7XG4gICAgICAgIGNvbnN0IGZldGNoZWQgPSBhd2FpdCB0aGlzLmNvbm5lY3Rvci5mZXRjaChwbHVnaW4pO1xuICAgICAgICBjb25zdCBwbHVnaW5zID0gdGhpcy5wbHVnaW5zO1xuICAgICAgICBjb25zdCByZWdpc3RyeSA9IHRoaXM7XG4gICAgICAgIGlmIChmZXRjaGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFQYXRoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZDogJ2lkJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYENvdWxkIG5vdCBmZXRjaCBzZXR0aW5ncyBmb3IgJHtwbHVnaW59LmAsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYVBhdGg6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9sb2FkKGF3YWl0IHRoaXMuX3RyYW5zZm9ybSgnZmV0Y2gnLCBmZXRjaGVkKSk7XG4gICAgICAgIHRoaXMuX3BsdWdpbkNoYW5nZWQuZW1pdChwbHVnaW4pO1xuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdzKHsgcGx1Z2luOiBwbHVnaW5zW3BsdWdpbl0sIHJlZ2lzdHJ5IH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzaW5nbGUgc2V0dGluZyBpbiB0aGUgcmVnaXN0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGx1Z2luIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbiB3aG9zZSBzZXR0aW5nIGlzIGJlaW5nIHJlbW92ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIHNldHRpbmcgYmVpbmcgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNldHRpbmcgaXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBhc3luYyByZW1vdmUocGx1Z2luLCBrZXkpIHtcbiAgICAgICAgLy8gV2FpdCBmb3IgZGF0YSBwcmVsb2FkIGJlZm9yZSBhbGxvd2luZyBub3JtYWwgb3BlcmF0aW9uLlxuICAgICAgICBhd2FpdCB0aGlzLl9yZWFkeTtcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IHRoaXMucGx1Z2lucztcbiAgICAgICAgaWYgKCEocGx1Z2luIGluIHBsdWdpbnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3ID0ganNvbi5wYXJzZShwbHVnaW5zW3BsdWdpbl0ucmF3KTtcbiAgICAgICAgLy8gRGVsZXRlIGJvdGggdGhlIHZhbHVlIGFuZCBhbnkgYXNzb2NpYXRlZCBjb21tZW50LlxuICAgICAgICBkZWxldGUgcmF3W2tleV07XG4gICAgICAgIGRlbGV0ZSByYXdbYC8vICR7a2V5fWBdO1xuICAgICAgICBwbHVnaW5zW3BsdWdpbl0ucmF3ID0gUHJpdmF0ZS5hbm5vdGF0ZWRQbHVnaW4ocGx1Z2luc1twbHVnaW5dLCByYXcpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2F2ZShwbHVnaW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBzaW5nbGUgc2V0dGluZyBpbiB0aGUgcmVnaXN0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGx1Z2luIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbiB3aG9zZSBzZXR0aW5nIGlzIGJlaW5nIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgLSBUaGUgbmFtZSBvZiB0aGUgc2V0dGluZyBiZWluZyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgb2YgdGhlIHNldHRpbmcgYmVpbmcgc2V0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc2V0dGluZyBoYXMgYmVlbiBzYXZlZC5cbiAgICAgKlxuICAgICAqL1xuICAgIGFzeW5jIHNldChwbHVnaW4sIGtleSwgdmFsdWUpIHtcbiAgICAgICAgLy8gV2FpdCBmb3IgZGF0YSBwcmVsb2FkIGJlZm9yZSBhbGxvd2luZyBub3JtYWwgb3BlcmF0aW9uLlxuICAgICAgICBhd2FpdCB0aGlzLl9yZWFkeTtcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IHRoaXMucGx1Z2lucztcbiAgICAgICAgaWYgKCEocGx1Z2luIGluIHBsdWdpbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkKHBsdWdpbikudGhlbigoKSA9PiB0aGlzLnNldChwbHVnaW4sIGtleSwgdmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQYXJzZSB0aGUgcmF3IEpTT04gc3RyaW5nIHJlbW92aW5nIGFsbCBjb21tZW50cyBhbmQgcmV0dXJuIGFuIG9iamVjdC5cbiAgICAgICAgY29uc3QgcmF3ID0ganNvbi5wYXJzZShwbHVnaW5zW3BsdWdpbl0ucmF3KTtcbiAgICAgICAgcGx1Z2luc1twbHVnaW5dLnJhdyA9IFByaXZhdGUuYW5ub3RhdGVkUGx1Z2luKHBsdWdpbnNbcGx1Z2luXSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByYXcpLCB7IFtrZXldOiB2YWx1ZSB9KSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYXZlKHBsdWdpbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgcGx1Z2luIHRyYW5zZm9ybSBmdW5jdGlvbiB0byBhY3Qgb24gYSBzcGVjaWZpYyBwbHVnaW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGx1Z2luIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbiB3aG9zZSBzZXR0aW5ncyBhcmUgdHJhbnNmb3JtZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtcyAtIFRoZSB0cmFuc2Zvcm0gZnVuY3Rpb25zIGFwcGxpZWQgdG8gdGhlIHBsdWdpbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgZGlzcG9zYWJsZSB0aGF0IHJlbW92ZXMgdGhlIHRyYW5zZm9ybXMgZnJvbSB0aGUgcmVnaXN0cnkuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogLSBgY29tcG9zZWAgdHJhbnNmb3JtYXRpb25zOiBUaGUgcmVnaXN0cnkgYXV0b21hdGljYWxseSBvdmVyd3JpdGVzIGFcbiAgICAgKiBwbHVnaW4ncyBkZWZhdWx0IHZhbHVlcyB3aXRoIHVzZXIgb3ZlcnJpZGVzLCBidXQgYSBwbHVnaW4gbWF5IGluc3RlYWQgd2lzaFxuICAgICAqIHRvIG1lcmdlIHZhbHVlcy4gVGhpcyBiZWhhdmlvciBjYW4gYmUgYWNjb21wbGlzaGVkIGluIGEgYGNvbXBvc2VgXG4gICAgICogdHJhbnNmb3JtYXRpb24uXG4gICAgICogLSBgZmV0Y2hgIHRyYW5zZm9ybWF0aW9uczogVGhlIHJlZ2lzdHJ5IHVzZXMgdGhlIHBsdWdpbiBkYXRhIHRoYXQgaXNcbiAgICAgKiBmZXRjaGVkIGZyb20gaXRzIGNvbm5lY3Rvci4gSWYgYSBwbHVnaW4gd2FudHMgdG8gb3ZlcnJpZGUsIGUuZy4gdG8gdXBkYXRlXG4gICAgICogaXRzIHNjaGVtYSB3aXRoIGR5bmFtaWMgZGVmYXVsdHMsIGEgYGZldGNoYCB0cmFuc2Zvcm1hdGlvbiBjYW4gYmUgYXBwbGllZC5cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0ocGx1Z2luLCB0cmFuc2Zvcm1zKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVycyA9IHRoaXMuX3RyYW5zZm9ybWVycztcbiAgICAgICAgaWYgKHBsdWdpbiBpbiB0cmFuc2Zvcm1lcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtwbHVnaW59IGFscmVhZHkgaGFzIGEgdHJhbnNmb3JtZXIuYCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNmb3JtZXJzW3BsdWdpbl0gPSB7XG4gICAgICAgICAgICBmZXRjaDogdHJhbnNmb3Jtcy5mZXRjaCB8fCAocGx1Z2luID0+IHBsdWdpbiksXG4gICAgICAgICAgICBjb21wb3NlOiB0cmFuc2Zvcm1zLmNvbXBvc2UgfHwgKHBsdWdpbiA9PiBwbHVnaW4pXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgRGlzcG9zYWJsZURlbGVnYXRlKCgpID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSB0cmFuc2Zvcm1lcnNbcGx1Z2luXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhIHBsdWdpbidzIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBsdWdpbiAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4gd2hvc2Ugc2V0dGluZ3MgYXJlIGJlaW5nIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByYXcgLSBUaGUgcmF3IHBsdWdpbiBzZXR0aW5ncyBiZWluZyB1cGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNldHRpbmdzIGhhdmUgYmVlbiBzYXZlZC5cbiAgICAgKi9cbiAgICBhc3luYyB1cGxvYWQocGx1Z2luLCByYXcpIHtcbiAgICAgICAgLy8gV2FpdCBmb3IgZGF0YSBwcmVsb2FkIGJlZm9yZSBhbGxvd2luZyBub3JtYWwgb3BlcmF0aW9uLlxuICAgICAgICBhd2FpdCB0aGlzLl9yZWFkeTtcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IHRoaXMucGx1Z2lucztcbiAgICAgICAgaWYgKCEocGx1Z2luIGluIHBsdWdpbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkKHBsdWdpbikudGhlbigoKSA9PiB0aGlzLnVwbG9hZChwbHVnaW4sIHJhdykpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgbG9jYWwgY29weS5cbiAgICAgICAgcGx1Z2luc1twbHVnaW5dLnJhdyA9IHJhdztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmUocGx1Z2luKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZCBhIHBsdWdpbiBpbnRvIHRoZSByZWdpc3RyeS5cbiAgICAgKi9cbiAgICBhc3luYyBfbG9hZChkYXRhKSB7XG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IGRhdGEuaWQ7XG4gICAgICAgIC8vIFZhbGlkYXRlIGFuZCBwcmVsb2FkIHRoZSBpdGVtLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdmFsaWRhdGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9ycykge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gW2BWYWxpZGF0aW5nICR7cGx1Z2lufSBmYWlsZWQ6YF07XG4gICAgICAgICAgICBlcnJvcnMuZm9yRWFjaCgoZXJyb3IsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhUGF0aCwgc2NoZW1hUGF0aCwga2V5d29yZCwgbWVzc2FnZSB9ID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFQYXRoIHx8IHNjaGVtYVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goYCR7aW5kZXh9IC0gc2NoZW1hIEAgJHtzY2hlbWFQYXRofSwgZGF0YSBAICR7ZGF0YVBhdGh9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGB7JHtrZXl3b3JkfX0gJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4ob3V0cHV0LmpvaW4oJ1xcbicpKTtcbiAgICAgICAgICAgIHRocm93IGVycm9ycztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVsb2FkIGEgbGlzdCBvZiBwbHVnaW5zIGFuZCBmYWlsIGdyYWNlZnVsbHkuXG4gICAgICovXG4gICAgYXN5bmMgX3ByZWxvYWQocGx1Z2lucykge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwbHVnaW5zLm1hcChhc3luYyAocGx1Z2luKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IGEgdHJhbnNmb3JtYXRpb24gdG8gdGhlIHBsdWdpbiBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbG9hZChhd2FpdCB0aGlzLl90cmFuc2Zvcm0oJ2ZldGNoJywgcGx1Z2luKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgLyogSWdub3JlIHByZWxvYWQgZXJyb3JzLiAqL1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJZ25vcmVkIHNldHRpbmcgcmVnaXN0cnkgcHJlbG9hZCBlcnJvcnMuJywgZXJyb3JzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXZlIGEgcGx1Z2luIGluIHRoZSByZWdpc3RyeS5cbiAgICAgKi9cbiAgICBhc3luYyBfc2F2ZShwbHVnaW4pIHtcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IHRoaXMucGx1Z2lucztcbiAgICAgICAgaWYgKCEocGx1Z2luIGluIHBsdWdpbnMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cGx1Z2lufSBkb2VzIG5vdCBleGlzdCBpbiBzZXR0aW5nIHJlZ2lzdHJ5LmApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl92YWxpZGF0ZShwbHVnaW5zW3BsdWdpbl0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHtwbHVnaW59IHZhbGlkYXRpb24gZXJyb3JzOmAsIGVycm9ycyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cGx1Z2lufSBmYWlsZWQgdG8gdmFsaWRhdGU7IGNoZWNrIGNvbnNvbGUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0b3Iuc2F2ZShwbHVnaW4sIHBsdWdpbnNbcGx1Z2luXS5yYXcpO1xuICAgICAgICAvLyBGZXRjaCBhbmQgcmVsb2FkIHRoZSBkYXRhIHRvIGd1YXJhbnRlZSBzZXJ2ZXIgYW5kIGNsaWVudCBhcmUgaW4gc3luYy5cbiAgICAgICAgY29uc3QgZmV0Y2hlZCA9IGF3YWl0IHRoaXMuY29ubmVjdG9yLmZldGNoKHBsdWdpbik7XG4gICAgICAgIGlmIChmZXRjaGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFQYXRoOiAnJyxcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZDogJ2lkJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYENvdWxkIG5vdCBmZXRjaCBzZXR0aW5ncyBmb3IgJHtwbHVnaW59LmAsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYVBhdGg6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9sb2FkKGF3YWl0IHRoaXMuX3RyYW5zZm9ybSgnZmV0Y2gnLCBmZXRjaGVkKSk7XG4gICAgICAgIHRoaXMuX3BsdWdpbkNoYW5nZWQuZW1pdChwbHVnaW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gdGhlIHBsdWdpbiBpZiBuZWNlc3NhcnkuXG4gICAgICovXG4gICAgYXN5bmMgX3RyYW5zZm9ybShwaGFzZSwgcGx1Z2luLCBzdGFydGVkID0gbmV3IERhdGUoKS5nZXRUaW1lKCkpIHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRlZDtcbiAgICAgICAgY29uc3QgaWQgPSBwbHVnaW4uaWQ7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVycyA9IHRoaXMuX3RyYW5zZm9ybWVycztcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgIGlmICghcGx1Z2luLnNjaGVtYVsnanVweXRlci5sYWIudHJhbnNmb3JtJ10pIHtcbiAgICAgICAgICAgIHJldHVybiBwbHVnaW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkIGluIHRyYW5zZm9ybWVycykge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1lcnNbaWRdW3BoYXNlXS5jYWxsKG51bGwsIHBsdWdpbik7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtZWQuaWQgIT09IGlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUGF0aDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXl3b3JkOiAnaWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsdWdpbiB0cmFuc2Zvcm1hdGlvbnMgY2Fubm90IGNoYW5nZSBwbHVnaW4gSURzLicsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFQYXRoOiAnJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgdGltZW91dCBoYXMgbm90IGJlZW4gZXhjZWVkZWQsIHN0YWxsIGFuZCB0cnkgYWdhaW4gaW4gMjUwbXMuXG4gICAgICAgIGlmIChlbGFwc2VkIDwgdGltZW91dCkge1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCAyNTApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNmb3JtKHBoYXNlLCBwbHVnaW4sIHN0YXJ0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhUGF0aDogJycsXG4gICAgICAgICAgICAgICAga2V5d29yZDogJ3RpbWVvdXQnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUcmFuc2Zvcm1pbmcgJHtwbHVnaW4uaWR9IHRpbWVkIG91dC5gLFxuICAgICAgICAgICAgICAgIHNjaGVtYVBhdGg6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGFuZCBwcmVsb2FkIGEgcGx1Z2luLCBjb21wb3NlIHRoZSBgY29tcG9zaXRlYCBkYXRhLlxuICAgICAqL1xuICAgIGFzeW5jIF92YWxpZGF0ZShwbHVnaW4pIHtcbiAgICAgICAgLy8gVmFsaWRhdGUgdGhlIHVzZXIgZGF0YSBhbmQgY3JlYXRlIHRoZSBjb21wb3NpdGUgZGF0YS5cbiAgICAgICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVEYXRhKHBsdWdpbik7XG4gICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9ycztcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBseSBhIHRyYW5zZm9ybWF0aW9uIGlmIG5lY2Vzc2FyeSBhbmQgc2V0IHRoZSBsb2NhbCBjb3B5LlxuICAgICAgICB0aGlzLnBsdWdpbnNbcGx1Z2luLmlkXSA9IGF3YWl0IHRoaXMuX3RyYW5zZm9ybSgnY29tcG9zZScsIHBsdWdpbik7XG4gICAgfVxufVxuLyoqXG4gKiBBIG1hbmFnZXIgZm9yIGEgc3BlY2lmaWMgcGx1Z2luJ3Mgc2V0dGluZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXR0aW5ncyB7XG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGUgYSBuZXcgcGx1Z2luIHNldHRpbmdzIG1hbmFnZXIuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlkID0gb3B0aW9ucy5wbHVnaW4uaWQ7XG4gICAgICAgIHRoaXMucmVnaXN0cnkgPSBvcHRpb25zLnJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLnJlZ2lzdHJ5LnBsdWdpbkNoYW5nZWQuY29ubmVjdCh0aGlzLl9vblBsdWdpbkNoYW5nZWQsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCB0aGF0IGVtaXRzIHdoZW4gdGhlIHBsdWdpbidzIHNldHRpbmdzIGhhdmUgY2hhbmdlZC5cbiAgICAgKi9cbiAgICBnZXQgY2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb21wb3NpdGUgb2YgdXNlciBzZXR0aW5ncyBhbmQgZXh0ZW5zaW9uIGRlZmF1bHRzLlxuICAgICAqL1xuICAgIGdldCBjb21wb3NpdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsdWdpbi5kYXRhLmNvbXBvc2l0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBwbHVnaW4gc2V0dGluZ3MgbWFuYWdlciBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIGdldCBwbHVnaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5LnBsdWdpbnNbdGhpcy5pZF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwbHVnaW4ncyBzY2hlbWEuXG4gICAgICovXG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2luLnNjaGVtYTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBsdWdpbiBzZXR0aW5ncyByYXcgdGV4dCB2YWx1ZS5cbiAgICAgKi9cbiAgICBnZXQgcmF3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVnaW4ucmF3O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdXNlciBzZXR0aW5ncy5cbiAgICAgKi9cbiAgICBnZXQgdXNlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2luLmRhdGEudXNlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHB1Ymxpc2hlZCB2ZXJzaW9uIG9mIHRoZSBOUE0gcGFja2FnZSBjb250YWluaW5nIHRoZXNlIHNldHRpbmdzLlxuICAgICAqL1xuICAgIGdldCB2ZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVnaW4udmVyc2lvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBkZWZhdWx0cyBpbiBhIGNvbW1lbnRlZCBKU09OIGZvcm1hdC5cbiAgICAgKi9cbiAgICBhbm5vdGF0ZWREZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIFByaXZhdGUuYW5ub3RhdGVkRGVmYXVsdHModGhpcy5zY2hlbWEsIHRoaXMuaWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGRlZmF1bHQgdmFsdWUgb2YgYSBzZXR0aW5nIGJ5IGl0ZXJhdGluZyB0aHJvdWdoIHRoZSBzY2hlbWEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIHNldHRpbmcgd2hvc2UgZGVmYXVsdCB2YWx1ZSBpcyBjYWxjdWxhdGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBjYWxjdWxhdGVkIGRlZmF1bHQgSlNPTiB2YWx1ZSBmb3IgYSBzcGVjaWZpYyBzZXR0aW5nLlxuICAgICAqL1xuICAgIGRlZmF1bHQoa2V5KSB7XG4gICAgICAgIHJldHVybiBQcml2YXRlLnJlaWZ5RGVmYXVsdCh0aGlzLnNjaGVtYSwga2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcGx1Z2luIHNldHRpbmdzIHJlc291cmNlcy5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICBTaWduYWwuY2xlYXJEYXRhKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gaW5kaXZpZHVhbCBzZXR0aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBuYW1lIG9mIHRoZSBzZXR0aW5nIGJlaW5nIHJldHJpZXZlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBzZXR0aW5nIHZhbHVlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgc3luY2hyb25vdXNseSBiZWNhdXNlIGl0IHVzZXMgYSBjYWNoZWQgY29weSBvZiB0aGVcbiAgICAgKiBwbHVnaW4gc2V0dGluZ3MgdGhhdCBpcyBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgcmVnaXN0cnkuXG4gICAgICovXG4gICAgZ2V0KGtleSkge1xuICAgICAgICBjb25zdCB7IGNvbXBvc2l0ZSwgdXNlciB9ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZTogY29tcG9zaXRlW2tleV0gIT09IHVuZGVmaW5lZCA/IGNvcHkoY29tcG9zaXRlW2tleV0pIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdXNlcjogdXNlcltrZXldICE9PSB1bmRlZmluZWQgPyBjb3B5KHVzZXJba2V5XSkgOiB1bmRlZmluZWRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc2luZ2xlIHNldHRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIG5hbWUgb2YgdGhlIHNldHRpbmcgYmVpbmcgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNldHRpbmcgaXMgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFzeW5jaHJvbm91cyBiZWNhdXNlIGl0IHdyaXRlcyB0byB0aGUgc2V0dGluZyByZWdpc3RyeS5cbiAgICAgKi9cbiAgICByZW1vdmUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5LnJlbW92ZSh0aGlzLnBsdWdpbi5pZCwga2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2F2ZSBhbGwgb2YgdGhlIHBsdWdpbidzIHVzZXIgc2V0dGluZ3MgYXQgb25jZS5cbiAgICAgKi9cbiAgICBzYXZlKHJhdykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RyeS51cGxvYWQodGhpcy5wbHVnaW4uaWQsIHJhdyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhIHNpbmdsZSBzZXR0aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSBuYW1lIG9mIHRoZSBzZXR0aW5nIGJlaW5nIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBvZiB0aGUgc2V0dGluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHNldHRpbmcgaGFzIGJlZW4gc2F2ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBhc3luY2hyb25vdXMgYmVjYXVzZSBpdCB3cml0ZXMgdG8gdGhlIHNldHRpbmcgcmVnaXN0cnkuXG4gICAgICovXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0cnkuc2V0KHRoaXMucGx1Z2luLmlkLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHJhdyBzZXR0aW5ncyB3aXRoIGNvbW1lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJhdyAtIFRoZSBKU09OIHdpdGggY29tbWVudHMgc3RyaW5nIGJlaW5nIHZhbGlkYXRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbGlzdCBvZiBlcnJvcnMgb3IgYG51bGxgIGlmIHZhbGlkLlxuICAgICAqL1xuICAgIHZhbGlkYXRlKHJhdykge1xuICAgICAgICBjb25zdCBkYXRhID0geyBjb21wb3NpdGU6IHt9LCB1c2VyOiB7fSB9O1xuICAgICAgICBjb25zdCB7IGlkLCBzY2hlbWEgfSA9IHRoaXMucGx1Z2luO1xuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnJlZ2lzdHJ5LnZhbGlkYXRvcjtcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRvci52YWxpZGF0ZURhdGEoeyBkYXRhLCBpZCwgcmF3LCBzY2hlbWEsIHZlcnNpb24gfSwgZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcGx1Z2luIGNoYW5nZXMgaW4gdGhlIHNldHRpbmcgcmVnaXN0cnkuXG4gICAgICovXG4gICAgX29uUGx1Z2luQ2hhbmdlZChzZW5kZXIsIHBsdWdpbikge1xuICAgICAgICBpZiAocGx1Z2luID09PSB0aGlzLnBsdWdpbi5pZCkge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBgU2V0dGluZ1JlZ2lzdHJ5YCBzdGF0aWNzLlxuICovXG4oZnVuY3Rpb24gKFNldHRpbmdSZWdpc3RyeSkge1xuICAgIC8qKlxuICAgICAqIFJlY29uY2lsZSBkZWZhdWx0IGFuZCB1c2VyIHNob3J0Y3V0cyBhbmQgcmV0dXJuIHRoZSBjb21wb3NpdGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZWZhdWx0cyAtIFRoZSBsaXN0IG9mIGRlZmF1bHQgc2hvcnRjdXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXIgLSBUaGUgbGlzdCBvZiB1c2VyIHNob3J0Y3V0IG92ZXJyaWRlcyBhbmQgYWRkaXRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBsb2FkYWJsZSBsaXN0IG9mIHNob3J0Y3V0cyAob21pdHRpbmcgZGlzYWJsZWQgYW5kIG92ZXJyaWRkZW4pLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlY29uY2lsZVNob3J0Y3V0cyhkZWZhdWx0cywgdXNlcikge1xuICAgICAgICBjb25zdCBtZW1vID0ge307XG4gICAgICAgIC8vIElmIGEgdXNlciBzaG9ydGN1dCBjb2xsaWRlcyB3aXRoIGFub3RoZXIgdXNlciBzaG9ydGN1dCB3YXJuIGFuZCBmaWx0ZXIuXG4gICAgICAgIHVzZXIgPSB1c2VyLmZpbHRlcihzaG9ydGN1dCA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gQ29tbWFuZFJlZ2lzdHJ5Lm5vcm1hbGl6ZUtleXMoc2hvcnRjdXQpLmpvaW4oUkVDT1JEX1NFUEFSQVRPUik7XG4gICAgICAgICAgICBjb25zdCB7IHNlbGVjdG9yIH0gPSBzaG9ydGN1dDtcbiAgICAgICAgICAgIGlmICgha2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2tpcHBpbmcgdGhpcyBzaG9ydGN1dCBiZWNhdXNlIHRoZXJlIGFyZSBubyBhY3Rpb25hYmxlIGtleXMgb24gdGhpcyBwbGF0Zm9ybScsIHNob3J0Y3V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShrZXlzIGluIG1lbW8pKSB7XG4gICAgICAgICAgICAgICAgbWVtb1trZXlzXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoc2VsZWN0b3IgaW4gbWVtb1trZXlzXSkpIHtcbiAgICAgICAgICAgICAgICBtZW1vW2tleXNdW3NlbGVjdG9yXSA9IGZhbHNlOyAvLyBVc2VyIHNob3J0Y3V0cyBhcmUgYGZhbHNlYC5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignU2tpcHBpbmcgdGhpcyBzaG9ydGN1dCBiZWNhdXNlIGl0IGNvbGxpZGVzIHdpdGggYW5vdGhlciBzaG9ydGN1dC4nLCBzaG9ydGN1dCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJZiBhIGRlZmF1bHQgc2hvcnRjdXQgY29sbGlkZXMgd2l0aCBhbm90aGVyIGRlZmF1bHQsIHdhcm4gYW5kIGZpbHRlci5cbiAgICAgICAgLy8gSWYgYSBzaG9ydGN1dCBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIGJ5IHRoZSB1c2VyIHByZWZlcmVuY2VzLCBmaWx0ZXIgaXRcbiAgICAgICAgLy8gb3V0IHRvbyAodGhpcyBpbmNsdWRlcyBzaG9ydGN1dHMgdGhhdCBhcmUgZGlzYWJsZWQgYnkgdXNlciBwcmVmZXJlbmNlcykuXG4gICAgICAgIGRlZmF1bHRzID0gZGVmYXVsdHMuZmlsdGVyKHNob3J0Y3V0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGlzYWJsZWQgfSA9IHNob3J0Y3V0O1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IENvbW1hbmRSZWdpc3RyeS5ub3JtYWxpemVLZXlzKHNob3J0Y3V0KS5qb2luKFJFQ09SRF9TRVBBUkFUT1IpO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkIHx8ICFrZXlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoa2V5cyBpbiBtZW1vKSkge1xuICAgICAgICAgICAgICAgIG1lbW9ba2V5c10gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0b3IgfSA9IHNob3J0Y3V0O1xuICAgICAgICAgICAgaWYgKCEoc2VsZWN0b3IgaW4gbWVtb1trZXlzXSkpIHtcbiAgICAgICAgICAgICAgICBtZW1vW2tleXNdW3NlbGVjdG9yXSA9IHRydWU7IC8vIERlZmF1bHQgc2hvcnRjdXRzIGFyZSBgdHJ1ZWAuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmx5IHdhcm4gaWYgYSBkZWZhdWx0IHNob3J0Y3V0IGNvbGxpZGVzIHdpdGggYW5vdGhlciBkZWZhdWx0IHNob3J0Y3V0LlxuICAgICAgICAgICAgaWYgKG1lbW9ba2V5c11bc2VsZWN0b3JdKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdTa2lwcGluZyB0aGlzIHNob3J0Y3V0IGJlY2F1c2UgaXQgY29sbGlkZXMgd2l0aCBhbm90aGVyIHNob3J0Y3V0LicsIHNob3J0Y3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgZGlzYWJsZWQgdXNlciBzaG9ydGN1dHMgYW5kIGNvbmNhdCBkZWZhdWx0cyBiZWZvcmUgcmV0dXJuaW5nLlxuICAgICAgICByZXR1cm4gdXNlci5maWx0ZXIoc2hvcnRjdXQgPT4gIXNob3J0Y3V0LmRpc2FibGVkKS5jb25jYXQoZGVmYXVsdHMpO1xuICAgIH1cbiAgICBTZXR0aW5nUmVnaXN0cnkucmVjb25jaWxlU2hvcnRjdXRzID0gcmVjb25jaWxlU2hvcnRjdXRzO1xufSkoU2V0dGluZ1JlZ2lzdHJ5IHx8IChTZXR0aW5nUmVnaXN0cnkgPSB7fSkpO1xuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgcHJpdmF0ZSBtb2R1bGUgZGF0YS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBpbmRlbnRhdGlvbiBsZXZlbCwgdXNlcyBzcGFjZXMgaW5zdGVhZCBvZiB0YWJzLlxuICAgICAqL1xuICAgIGNvbnN0IGluZGVudCA9ICcgICAgJztcbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCB0ZXh0IGZvciBzY2hlbWEgcHJvcGVydGllcyBtaXNzaW5nIGEgYGRlc2NyaXB0aW9uYCBmaWVsZC5cbiAgICAgKi9cbiAgICBjb25zdCBub25kZXNjcmlwdCA9ICdbbWlzc2luZyBzY2hlbWEgZGVzY3JpcHRpb25dJztcbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCB0ZXh0IGZvciBzY2hlbWEgcHJvcGVydGllcyBtaXNzaW5nIGEgYHRpdGxlYCBmaWVsZC5cbiAgICAgKi9cbiAgICBjb25zdCB1bnRpdGxlZCA9ICdbbWlzc2luZyBzY2hlbWEgdGl0bGVdJztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFubm90YXRlZCAoSlNPTiB3aXRoIGNvbW1lbnRzKSB2ZXJzaW9uIG9mIGEgc2NoZW1hJ3MgZGVmYXVsdHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYW5ub3RhdGVkRGVmYXVsdHMoc2NoZW1hLCBwbHVnaW4pIHtcbiAgICAgICAgY29uc3QgeyBkZXNjcmlwdGlvbiwgcHJvcGVydGllcywgdGl0bGUgfSA9IHNjaGVtYTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHByb3BlcnRpZXNcbiAgICAgICAgICAgID8gT2JqZWN0LmtleXMocHJvcGVydGllcykuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKVxuICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoKGRlc2NyaXB0aW9uIHx8IG5vbmRlc2NyaXB0KS5sZW5ndGgsIHBsdWdpbi5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ3snLFxuICAgICAgICAgICAgcHJlZml4KGAke3RpdGxlIHx8IHVudGl0bGVkfWApLFxuICAgICAgICAgICAgcHJlZml4KHBsdWdpbiksXG4gICAgICAgICAgICBwcmVmaXgoZGVzY3JpcHRpb24gfHwgbm9uZGVzY3JpcHQpLFxuICAgICAgICAgICAgcHJlZml4KCcqJy5yZXBlYXQobGVuZ3RoKSksXG4gICAgICAgICAgICAnJyxcbiAgICAgICAgICAgIGpvaW4oa2V5cy5tYXAoa2V5ID0+IGRlZmF1bHREb2N1bWVudGVkVmFsdWUoc2NoZW1hLCBrZXkpKSksXG4gICAgICAgICAgICAnfSdcbiAgICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICB9XG4gICAgUHJpdmF0ZS5hbm5vdGF0ZWREZWZhdWx0cyA9IGFubm90YXRlZERlZmF1bHRzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYW5ub3RhdGVkIChKU09OIHdpdGggY29tbWVudHMpIHZlcnNpb24gb2YgYSBwbHVnaW4nc1xuICAgICAqIHNldHRpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbm5vdGF0ZWRQbHVnaW4ocGx1Z2luLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgZGVzY3JpcHRpb24sIHRpdGxlIH0gPSBwbHVnaW4uc2NoZW1hO1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSkuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoKGRlc2NyaXB0aW9uIHx8IG5vbmRlc2NyaXB0KS5sZW5ndGgsIHBsdWdpbi5pZC5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ3snLFxuICAgICAgICAgICAgcHJlZml4KGAke3RpdGxlIHx8IHVudGl0bGVkfWApLFxuICAgICAgICAgICAgcHJlZml4KHBsdWdpbi5pZCksXG4gICAgICAgICAgICBwcmVmaXgoZGVzY3JpcHRpb24gfHwgbm9uZGVzY3JpcHQpLFxuICAgICAgICAgICAgcHJlZml4KCcqJy5yZXBlYXQobGVuZ3RoKSksXG4gICAgICAgICAgICAnJyxcbiAgICAgICAgICAgIGpvaW4oa2V5cy5tYXAoa2V5ID0+IGRvY3VtZW50ZWRWYWx1ZShwbHVnaW4uc2NoZW1hLCBrZXksIGRhdGFba2V5XSkpKSxcbiAgICAgICAgICAgICd9J1xuICAgICAgICBdLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgICBQcml2YXRlLmFubm90YXRlZFBsdWdpbiA9IGFubm90YXRlZFBsdWdpbjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlLXdpdGgtZG9jdW1lbnRhdGlvbi1zdHJpbmcgZm9yIGFcbiAgICAgKiBzcGVjaWZpYyBzY2hlbWEgcHJvcGVydHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVmYXVsdERvY3VtZW50ZWRWYWx1ZShzY2hlbWEsIGtleSkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IChzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllc1trZXldKSB8fCB7fTtcbiAgICAgICAgY29uc3QgdHlwZSA9IHByb3BzWyd0eXBlJ107XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gcHJvcHNbJ2Rlc2NyaXB0aW9uJ10gfHwgbm9uZGVzY3JpcHQ7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gcHJvcHNbJ3RpdGxlJ10gfHwgJyc7XG4gICAgICAgIGNvbnN0IHJlaWZpZWQgPSByZWlmeURlZmF1bHQoc2NoZW1hLCBrZXkpO1xuICAgICAgICBjb25zdCBzcGFjZXMgPSBpbmRlbnQubGVuZ3RoO1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHJlaWZpZWQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBwcmVmaXgoYFwiJHtrZXl9XCI6ICR7SlNPTi5zdHJpbmdpZnkocmVpZmllZCwgbnVsbCwgc3BhY2VzKX1gLCBpbmRlbnQpXG4gICAgICAgICAgICA6IHByZWZpeChgXCIke2tleX1cIjogJHt0eXBlfWApO1xuICAgICAgICByZXR1cm4gW3ByZWZpeCh0aXRsZSksIHByZWZpeChkZXNjcmlwdGlvbiksIGRlZmF1bHRzXVxuICAgICAgICAgICAgLmZpbHRlcihzdHIgPT4gc3RyLmxlbmd0aClcbiAgICAgICAgICAgIC5qb2luKCdcXG4nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHZhbHVlLXdpdGgtZG9jdW1lbnRhdGlvbi1zdHJpbmcgZm9yIGEgc3BlY2lmaWMgc2NoZW1hIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRvY3VtZW50ZWRWYWx1ZShzY2hlbWEsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgcHJvcHMgPSBzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllc1trZXldO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IChwcm9wcyAmJiBwcm9wc1snZGVzY3JpcHRpb24nXSkgfHwgbm9uZGVzY3JpcHQ7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gKHByb3BzICYmIHByb3BzWyd0aXRsZSddKSB8fCB1bnRpdGxlZDtcbiAgICAgICAgY29uc3Qgc3BhY2VzID0gaW5kZW50Lmxlbmd0aDtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlID0gcHJlZml4KGBcIiR7a2V5fVwiOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCBzcGFjZXMpfWAsIGluZGVudCk7XG4gICAgICAgIHJldHVybiBbcHJlZml4KHRpdGxlKSwgcHJlZml4KGRlc2NyaXB0aW9uKSwgYXR0cmlidXRlXS5qb2luKCdcXG4nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGpvaW5lZCBzdHJpbmcgd2l0aCBsaW5lIGJyZWFrcyBhbmQgY29tbWFzIHdoZXJlIGFwcHJvcHJpYXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYm9keSkge1xuICAgICAgICByZXR1cm4gYm9keS5yZWR1Y2UoKGFjYywgdmFsLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSB2YWwuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgY29uc3QgbGFzdCA9IHJvd3Nbcm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnQgPSBsYXN0LnRyaW0oKS5pbmRleE9mKCcvLycpID09PSAwO1xuICAgICAgICAgICAgY29uc3QgY29tbWEgPSBjb21tZW50IHx8IGlkeCA9PT0gYm9keS5sZW5ndGggLSAxID8gJycgOiAnLCc7XG4gICAgICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBpZHggPT09IGJvZHkubGVuZ3RoIC0gMSA/ICcnIDogJ1xcblxcbic7XG4gICAgICAgICAgICByZXR1cm4gYWNjICsgdmFsICsgY29tbWEgKyBzZXBhcmF0b3I7XG4gICAgICAgIH0sICcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGRvY3VtZW50YXRpb24gc3RyaW5nIHdpdGggYSBjb21tZW50IHByZWZpeCBhZGRlZCBvbiBldmVyeSBsaW5lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByZWZpeChzb3VyY2UsIHByZSA9IGAke2luZGVudH0vLyBgKSB7XG4gICAgICAgIHJldHVybiBwcmUgKyBzb3VyY2Uuc3BsaXQoJ1xcbicpLmpvaW4oYFxcbiR7cHJlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBmdWxseSBleHRyYXBvbGF0ZWQgZGVmYXVsdCB2YWx1ZSBmb3IgYSByb290IGtleSBpbiBhIHNjaGVtYS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWlmeURlZmF1bHQoc2NoZW1hLCByb290KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gSWYgdGhlIHByb3BlcnR5IGlzIGF0IHRoZSByb290IGxldmVsLCB0cmF2ZXJzZSBpdHMgc2NoZW1hLlxuICAgICAgICBzY2hlbWEgPSAocm9vdCA/IChfYSA9IHNjaGVtYS5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Fbcm9vdF0gOiBzY2hlbWEpIHx8IHt9O1xuICAgICAgICAvLyBJZiB0aGUgcHJvcGVydHkgaGFzIG5vIGRlZmF1bHQgb3IgaXMgYSBwcmltaXRpdmUsIHJldHVybi5cbiAgICAgICAgaWYgKCEoJ2RlZmF1bHQnIGluIHNjaGVtYSkgfHwgc2NoZW1hLnR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hLmRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBhIGNvcHkgb2YgdGhlIGRlZmF1bHQgdmFsdWUgdG8gcG9wdWxhdGUuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT05FeHQuZGVlcENvcHkoc2NoZW1hLmRlZmF1bHQpO1xuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggYW5kIHBvcHVsYXRlIGVhY2ggY2hpbGQgcHJvcGVydHkuXG4gICAgICAgIGNvbnN0IHByb3BzID0gc2NoZW1hLnByb3BlcnRpZXMgfHwge307XG4gICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIHByb3BzKSB7XG4gICAgICAgICAgICByZXN1bHRbcHJvcGVydHldID0gcmVpZnlEZWZhdWx0KHByb3BzW3Byb3BlcnR5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUHJpdmF0ZS5yZWlmeURlZmF1bHQgPSByZWlmeURlZmF1bHQ7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdyZWdpc3RyeS5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBBcnJheUV4dCB9IGZyb20gJ0BsdW1pbm8vYWxnb3JpdGhtJztcbmltcG9ydCB7IE1lbnVCYXIgfSBmcm9tICdAbHVtaW5vL3dpZGdldHMnO1xuaW1wb3J0IHsgRmlsZU1lbnUgfSBmcm9tICcuL2ZpbGUnO1xuaW1wb3J0IHsgRWRpdE1lbnUgfSBmcm9tICcuL2VkaXQnO1xuaW1wb3J0IHsgSGVscE1lbnUgfSBmcm9tICcuL2hlbHAnO1xuaW1wb3J0IHsgS2VybmVsTWVudSB9IGZyb20gJy4va2VybmVsJztcbmltcG9ydCB7IFJ1bk1lbnUgfSBmcm9tICcuL3J1bic7XG5pbXBvcnQgeyBTZXR0aW5nc01lbnUgfSBmcm9tICcuL3NldHRpbmdzJztcbmltcG9ydCB7IFZpZXdNZW51IH0gZnJvbSAnLi92aWV3JztcbmltcG9ydCB7IFRhYnNNZW51IH0gZnJvbSAnLi90YWJzJztcbi8qKlxuICogVGhlIG1haW4gbWVudSBjbGFzcy4gIEl0IGlzIGludGVuZGVkIHRvIGJlIHVzZWQgYXMgYSBzaW5nbGV0b24uXG4gKi9cbmV4cG9ydCBjbGFzcyBNYWluTWVudSBleHRlbmRzIE1lbnVCYXIge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCB0aGUgbWFpbiBtZW51IGJhci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb21tYW5kcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmVkaXRNZW51ID0gbmV3IEVkaXRNZW51KHsgY29tbWFuZHMgfSk7XG4gICAgICAgIHRoaXMuZmlsZU1lbnUgPSBuZXcgRmlsZU1lbnUoeyBjb21tYW5kcyB9KTtcbiAgICAgICAgdGhpcy5oZWxwTWVudSA9IG5ldyBIZWxwTWVudSh7IGNvbW1hbmRzIH0pO1xuICAgICAgICB0aGlzLmtlcm5lbE1lbnUgPSBuZXcgS2VybmVsTWVudSh7IGNvbW1hbmRzIH0pO1xuICAgICAgICB0aGlzLnJ1bk1lbnUgPSBuZXcgUnVuTWVudSh7IGNvbW1hbmRzIH0pO1xuICAgICAgICB0aGlzLnNldHRpbmdzTWVudSA9IG5ldyBTZXR0aW5nc01lbnUoeyBjb21tYW5kcyB9KTtcbiAgICAgICAgdGhpcy52aWV3TWVudSA9IG5ldyBWaWV3TWVudSh7IGNvbW1hbmRzIH0pO1xuICAgICAgICB0aGlzLnRhYnNNZW51ID0gbmV3IFRhYnNNZW51KHsgY29tbWFuZHMgfSk7XG4gICAgICAgIHRoaXMuYWRkTWVudSh0aGlzLmZpbGVNZW51Lm1lbnUsIHsgcmFuazogMCB9KTtcbiAgICAgICAgdGhpcy5hZGRNZW51KHRoaXMuZWRpdE1lbnUubWVudSwgeyByYW5rOiAxIH0pO1xuICAgICAgICB0aGlzLmFkZE1lbnUodGhpcy52aWV3TWVudS5tZW51LCB7IHJhbms6IDIgfSk7XG4gICAgICAgIHRoaXMuYWRkTWVudSh0aGlzLnJ1bk1lbnUubWVudSwgeyByYW5rOiAzIH0pO1xuICAgICAgICB0aGlzLmFkZE1lbnUodGhpcy5rZXJuZWxNZW51Lm1lbnUsIHsgcmFuazogNCB9KTtcbiAgICAgICAgdGhpcy5hZGRNZW51KHRoaXMudGFic01lbnUubWVudSwgeyByYW5rOiA1MDAgfSk7XG4gICAgICAgIHRoaXMuYWRkTWVudSh0aGlzLnNldHRpbmdzTWVudS5tZW51LCB7IHJhbms6IDk5OSB9KTtcbiAgICAgICAgdGhpcy5hZGRNZW51KHRoaXMuaGVscE1lbnUubWVudSwgeyByYW5rOiAxMDAwIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgbWVudSB0byB0aGUgbWFpbiBtZW51IGJhci5cbiAgICAgKi9cbiAgICBhZGRNZW51KG1lbnUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAoQXJyYXlFeHQuZmlyc3RJbmRleE9mKHRoaXMubWVudXMsIG1lbnUpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmFuayA9ICdyYW5rJyBpbiBvcHRpb25zID8gb3B0aW9ucy5yYW5rIDogMTAwO1xuICAgICAgICBsZXQgcmFua0l0ZW0gPSB7IG1lbnUsIHJhbmsgfTtcbiAgICAgICAgbGV0IGluZGV4ID0gQXJyYXlFeHQudXBwZXJCb3VuZCh0aGlzLl9pdGVtcywgcmFua0l0ZW0sIFByaXZhdGUuaXRlbUNtcCk7XG4gICAgICAgIC8vIFVwb24gZGlzcG9zYWwsIHJlbW92ZSB0aGUgbWVudSBhbmQgaXRzIHJhbmsgcmVmZXJlbmNlLlxuICAgICAgICBtZW51LmRpc3Bvc2VkLmNvbm5lY3QodGhpcy5fb25NZW51RGlzcG9zZWQsIHRoaXMpO1xuICAgICAgICBBcnJheUV4dC5pbnNlcnQodGhpcy5faXRlbXMsIGluZGV4LCByYW5rSXRlbSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgbWVudS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5zZXJ0TWVudShpbmRleCwgbWVudSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBtZW51IGJhci5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmVkaXRNZW51LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5maWxlTWVudS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuaGVscE1lbnUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmtlcm5lbE1lbnUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJ1bk1lbnUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnNldHRpbmdzTWVudS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudmlld01lbnUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnRhYnNNZW51LmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGRpc3Bvc2FsIG9mIGEgbWVudS5cbiAgICAgKi9cbiAgICBfb25NZW51RGlzcG9zZWQobWVudSkge1xuICAgICAgICB0aGlzLnJlbW92ZU1lbnUobWVudSk7XG4gICAgICAgIGxldCBpbmRleCA9IEFycmF5RXh0LmZpbmRGaXJzdEluZGV4KHRoaXMuX2l0ZW1zLCBpdGVtID0+IGl0ZW0ubWVudSA9PT0gbWVudSk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIEFycmF5RXh0LnJlbW92ZUF0KHRoaXMuX2l0ZW1zLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBwcml2YXRlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogQSBjb21wYXJhdG9yIGZ1bmN0aW9uIGZvciBtZW51IHJhbmsgaXRlbXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlbUNtcChmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgIHJldHVybiBmaXJzdC5yYW5rIC0gc2Vjb25kLnJhbms7XG4gICAgfVxuICAgIFByaXZhdGUuaXRlbUNtcCA9IGl0ZW1DbXA7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW5tZW51LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IEpTT05FeHQgfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnQGx1bWluby9tZXNzYWdpbmcnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZU1hcCB9IGZyb20gJy4vb2JzZXJ2YWJsZW1hcCc7XG4vKipcbiAqIEEgY29uY3JldGUgT2JzZXJ2YWJsZSBtYXAgZm9yIEpTT04gZGF0YS5cbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmFibGVKU09OIGV4dGVuZHMgT2JzZXJ2YWJsZU1hcCB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IG9ic2VydmFibGUgSlNPTiBvYmplY3QuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGl0ZW1DbXA6IEpTT05FeHQuZGVlcEVxdWFsLFxuICAgICAgICAgICAgdmFsdWVzOiBvcHRpb25zLnZhbHVlc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIHRoZSBtb2RlbCB0byBKU09OLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3Qgb3V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHRoaXMua2V5cygpO1xuICAgICAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvdXRba2V5XSA9IEpTT05FeHQuZGVlcENvcHkodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBPYnNlcnZhYmxlSlNPTiBzdGF0aWMgZGF0YS5cbiAqL1xuKGZ1bmN0aW9uIChPYnNlcnZhYmxlSlNPTikge1xuICAgIC8qKlxuICAgICAqIEFuIG9ic2VydmFibGUgSlNPTiBjaGFuZ2UgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjbGFzcyBDaGFuZ2VNZXNzYWdlIGV4dGVuZHMgTWVzc2FnZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgbWV0YWRhdGEgY2hhbmdlZCBtZXNzYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IodHlwZSwgYXJncykge1xuICAgICAgICAgICAgc3VwZXIodHlwZSk7XG4gICAgICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGVKU09OLkNoYW5nZU1lc3NhZ2UgPSBDaGFuZ2VNZXNzYWdlO1xufSkoT2JzZXJ2YWJsZUpTT04gfHwgKE9ic2VydmFibGVKU09OID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGVqc29uLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0ICogZnJvbSAnLi9tb2RlbGRiJztcbmV4cG9ydCAqIGZyb20gJy4vb2JzZXJ2YWJsZWpzb24nO1xuZXhwb3J0ICogZnJvbSAnLi9vYnNlcnZhYmxlbGlzdCc7XG5leHBvcnQgKiBmcm9tICcuL29ic2VydmFibGVtYXAnO1xuZXhwb3J0ICogZnJvbSAnLi9vYnNlcnZhYmxlc3RyaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vdW5kb2FibGVsaXN0Jztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTE5IDEzaC02djZoLTJ2LTZINXYtMmg2VjVoMnY2aDZ2MnonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyelxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZURlbGVnYXRlIH0gZnJvbSAnQGx1bWluby9kaXNwb3NhYmxlJztcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0BsdW1pbm8vc2lnbmFsaW5nJztcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKipcbiAqIFRoZSBhcHBsaWNhdGlvbiBzdGF0dXMgdG9rZW4uXG4gKi9cbmV4cG9ydCBjb25zdCBJTGFiU3RhdHVzID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9hcHBsaWNhdGlvbjpJTGFiU3RhdHVzJyk7XG4vKipcbiAqIFRoZSBhcHBsaWNhdGlvbiBzdGF0dXMgc2lnbmFscyBhbmQgZmxhZ3MgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBMYWJTdGF0dXMge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyAgc3RhdHVzIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgdGhpcy5fYnVzeUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5fZGlydHlDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2J1c3lTaWduYWwgPSBuZXcgU2lnbmFsKGFwcCk7XG4gICAgICAgIHRoaXMuX2RpcnR5U2lnbmFsID0gbmV3IFNpZ25hbChhcHApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc2lnbmFsIGZvciB3aGVuIGFwcGxpY2F0aW9uIGNoYW5nZXMgaXRzIGJ1c3kgc3RhdHVzLlxuICAgICAqL1xuICAgIGdldCBidXN5U2lnbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVzeVNpZ25hbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHNpZ25hbCBmb3Igd2hlbiBhcHBsaWNhdGlvbiBjaGFuZ2VzIGl0cyBkaXJ0eSBzdGF0dXMuXG4gICAgICovXG4gICAgZ2V0IGRpcnR5U2lnbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlydHlTaWduYWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGFwcGxpY2F0aW9uIGlzIGJ1c3kuXG4gICAgICovXG4gICAgZ2V0IGlzQnVzeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1c3lDb3VudCA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGFwcGxpY2F0aW9uIGlzIGRpcnR5LlxuICAgICAqL1xuICAgIGdldCBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlydHlDb3VudCA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYXBwbGljYXRpb24gc3RhdGUgdG8gZGlydHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgdXNlZCB0byBjbGVhciB0aGUgZGlydHkgc3RhdGUgZm9yIHRoZSBjYWxsZXIuXG4gICAgICovXG4gICAgc2V0RGlydHkoKSB7XG4gICAgICAgIGNvbnN0IG9sZERpcnR5ID0gdGhpcy5pc0RpcnR5O1xuICAgICAgICB0aGlzLl9kaXJ0eUNvdW50Kys7XG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkgIT09IG9sZERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLl9kaXJ0eVNpZ25hbC5lbWl0KHRoaXMuaXNEaXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NhYmxlRGVsZWdhdGUoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2xkRGlydHkgPSB0aGlzLmlzRGlydHk7XG4gICAgICAgICAgICB0aGlzLl9kaXJ0eUNvdW50ID0gTWF0aC5tYXgoMCwgdGhpcy5fZGlydHlDb3VudCAtIDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSAhPT0gb2xkRGlydHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJ0eVNpZ25hbC5lbWl0KHRoaXMuaXNEaXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGFwcGxpY2F0aW9uIHN0YXRlIHRvIGJ1c3kuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgdXNlZCB0byBjbGVhciB0aGUgYnVzeSBzdGF0ZSBmb3IgdGhlIGNhbGxlci5cbiAgICAgKi9cbiAgICBzZXRCdXN5KCkge1xuICAgICAgICBjb25zdCBvbGRCdXN5ID0gdGhpcy5pc0J1c3k7XG4gICAgICAgIHRoaXMuX2J1c3lDb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5pc0J1c3kgIT09IG9sZEJ1c3kpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1c3lTaWduYWwuZW1pdCh0aGlzLmlzQnVzeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NhYmxlRGVsZWdhdGUoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2xkQnVzeSA9IHRoaXMuaXNCdXN5O1xuICAgICAgICAgICAgdGhpcy5fYnVzeUNvdW50LS07XG4gICAgICAgICAgICBpZiAodGhpcy5pc0J1c3kgIT09IG9sZEJ1c3kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idXN5U2lnbmFsLmVtaXQodGhpcy5pc0J1c3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0dXMuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAyMiAyMicgc3R5bGU9J2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjIgMjI7JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uLWNvbnRyYXN0MyBqcC1pY29uLXNlbGVjdGFibGUnIGZpbGw9JyUyMzIxOTZGMycgJTNFICUzQ3BhdGggZD0nTTQuNCwyLjVjMS4yLTAuMSwyLjktMC4zLDQuOS0wLjNjMi41LDAsNC4xLDAuNCw1LjIsMS4zQzE1LjUsNC4yLDE2LDUuNCwxNiw3YzAsMi0xLjQsMy41LTIuOSw0LjFsMCwwIGMxLjIsMC40LDEuNywxLjYsMi4yLDNjMC42LDEuOSwxLDMuOSwxLjMsNC42aC0zLjhDMTIuNSwxOC4zLDEyLDE3LDExLjYsMTVzLTEuMi0yLjYtMi42LTIuNkg4LjF2Ni40SDQuNFYyLjV6IE04LjEsOS40aDEuNCBjMS45LDAsMi45LTAuOSwyLjktMi4zcy0xLTIuMy0yLjgtMi4zQzguOSw0LjgsOC4zLDQuOCw4LDV2NC41aDAuMVY5LjR6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHZlcnNpb249XFxcIjEuMVxcXCIgaWQ9XFxcIkxheWVyXzFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHg9XFxcIjBweFxcXCIgeT1cXFwiMHB4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjIgMjJcXFwiIHN0eWxlPVxcXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyO1xcXCIgeG1sOnNwYWNlPVxcXCJwcmVzZXJ2ZVxcXCI+XFxuXFx0PGdcXG5cXHRcXHRjbGFzcz1cXFwianAtaWNvbi1jb250cmFzdDMganAtaWNvbi1zZWxlY3RhYmxlXFxcIlxcblxcdFxcdGZpbGw9XFxcIiMyMTk2RjNcXFwiXFxuXFx0PlxcblxcdFxcdDxwYXRoIGQ9XFxcIk00LjQsMi41YzEuMi0wLjEsMi45LTAuMyw0LjktMC4zYzIuNSwwLDQuMSwwLjQsNS4yLDEuM0MxNS41LDQuMiwxNiw1LjQsMTYsN2MwLDItMS40LDMuNS0yLjksNC4xbDAsMCBjMS4yLDAuNCwxLjcsMS42LDIuMiwzYzAuNiwxLjksMSwzLjksMS4zLDQuNmgtMy44QzEyLjUsMTguMywxMiwxNywxMS42LDE1cy0xLjItMi42LTIuNi0yLjZIOC4xdjYuNEg0LjRWMi41eiBNOC4xLDkuNGgxLjQgYzEuOSwwLDIuOS0wLjksMi45LTIuM3MtMS0yLjMtMi44LTIuM0M4LjksNC44LDguMyw0LjgsOCw1djQuNWgwLjFWOS40elxcXCIvPlxcblxcdDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBsdW1pbm8vY29yZXV0aWxzXCIpO1xuY29uc3QgbWluaW1pc3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibWluaW1pc3RcIikpO1xuY29uc3QgdXJsXzEgPSByZXF1aXJlKFwiLi91cmxcIik7XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIGBQYWdlQ29uZmlnYCBmdW5jdGlvbnMuXG4gKi9cbnZhciBQYWdlQ29uZmlnO1xuKGZ1bmN0aW9uIChQYWdlQ29uZmlnKSB7XG4gICAgLyoqXG4gICAgICogR2V0IGdsb2JhbCBjb25maWd1cmF0aW9uIGRhdGEgZm9yIHRoZSBKdXB5dGVyIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY29uZmlndXJhdGlvbiBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY29uZmlnIHZhbHVlIG9yIGFuIGVtcHR5IHN0cmluZyBpZiBub3QgZm91bmQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogQWxsIHZhbHVlcyBhcmUgdHJlYXRlZCBhcyBzdHJpbmdzLlxuICAgICAqIEZvciBicm93c2VyIGJhc2VkIGFwcGxpY2F0aW9ucywgaXQgaXMgYXNzdW1lZCB0aGF0IHRoZSBwYWdlIEhUTUxcbiAgICAgKiBpbmNsdWRlcyBhIHNjcmlwdCB0YWcgd2l0aCB0aGUgaWQgYGp1cHl0ZXItY29uZmlnLWRhdGFgIGNvbnRhaW5pbmcgdGhlXG4gICAgICogY29uZmlndXJhdGlvbiBhcyB2YWxpZCBKU09OLiAgSW4gb3JkZXIgdG8gc3VwcG9ydCB0aGUgY2xhc3NpYyBOb3RlYm9vayxcbiAgICAgKiB3ZSBmYWxsIGJhY2sgb24gY2hlY2tpbmcgZm9yIGBib2R5YCBkYXRhIG9mIHRoZSBnaXZlbiBgbmFtZWAuXG4gICAgICpcbiAgICAgKiBGb3Igbm9kZSBhcHBsaWNhdGlvbnMsIGl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgcHJvY2VzcyB3YXMgbGF1bmNoZWRcbiAgICAgKiB3aXRoIGEgYC0tanVweXRlci1jb25maWctZGF0YWAgb3B0aW9uIHBvaW50aW5nIHRvIGEgSlNPTiBzZXR0aW5nc1xuICAgICAqIGZpbGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9uKG5hbWUpIHtcbiAgICAgICAgaWYgKGNvbmZpZ0RhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWdEYXRhW25hbWVdIHx8IGdldEJvZHlEYXRhKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZ0RhdGEgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgLy8gVXNlIHNjcmlwdCB0YWcgaWYgYXZhaWxhYmxlLlxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCkge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanVweXRlci1jb25maWctZGF0YScpO1xuICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnRGF0YSA9IEpTT04ucGFyc2UoZWwudGV4dENvbnRlbnQgfHwgJycpO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UgdXNlIENMSSBpZiBnaXZlbi5cbiAgICAgICAgaWYgKCFmb3VuZCAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpID0gbWluaW1pc3RfMS5kZWZhdWx0KHByb2Nlc3MuYXJndi5zbGljZSgyKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbiAgICAgICAgICAgICAgICBsZXQgZnVsbFBhdGggPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoJ2p1cHl0ZXItY29uZmlnLWRhdGEnIGluIGNsaSkge1xuICAgICAgICAgICAgICAgICAgICBmdWxsUGF0aCA9IHBhdGgucmVzb2x2ZShjbGlbJ2p1cHl0ZXItY29uZmlnLWRhdGEnXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCdKVVBZVEVSX0NPTkZJR19EQVRBJyBpbiBwcm9jZXNzLmVudikge1xuICAgICAgICAgICAgICAgICAgICBmdWxsUGF0aCA9IHBhdGgucmVzb2x2ZShwcm9jZXNzLmVudlsnSlVQWVRFUl9DT05GSUdfREFUQSddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZ1bGxQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHRzbGludDpkaXNhYmxlICovXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcmNlIFdlYnBhY2sgdG8gaWdub3JlIHRoaXMgcmVxdWlyZS5cbiAgICAgICAgICAgICAgICAgICAgY29uZmlnRGF0YSA9IGV2YWwoJ3JlcXVpcmUnKShmdWxsUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIC8qIHRzbGludDplbmFibGUgKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb3JldXRpbHNfMS5KU09ORXh0LmlzT2JqZWN0KGNvbmZpZ0RhdGEpKSB7XG4gICAgICAgICAgICBjb25maWdEYXRhID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBjb25maWdEYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gUGFnZUNvbmZpZyBleHBlY3RzIHN0cmluZ3NcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZ0RhdGFba2V5XSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnRGF0YVtrZXldID0gSlNPTi5zdHJpbmdpZnkoY29uZmlnRGF0YVtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbmZpZ0RhdGFbbmFtZV0gfHwgZ2V0Qm9keURhdGEobmFtZSk7XG4gICAgfVxuICAgIFBhZ2VDb25maWcuZ2V0T3B0aW9uID0gZ2V0T3B0aW9uO1xuICAgIC8qKlxuICAgICAqIFNldCBnbG9iYWwgY29uZmlndXJhdGlvbiBkYXRhIGZvciB0aGUgSnVweXRlciBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9uLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXQgdGhlIG9wdGlvbiB0by5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBsYXN0IGNvbmZpZyB2YWx1ZSBvciBhbiBlbXB0eSBzdHJpbmcgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRPcHRpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IGdldE9wdGlvbihuYW1lKTtcbiAgICAgICAgY29uZmlnRGF0YVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gbGFzdDtcbiAgICB9XG4gICAgUGFnZUNvbmZpZy5zZXRPcHRpb24gPSBzZXRPcHRpb247XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBiYXNlIHVybCBmb3IgYSBKdXB5dGVyIGFwcGxpY2F0aW9uLCBvciB0aGUgYmFzZSB1cmwgb2YgdGhlIHBhZ2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QmFzZVVybCgpIHtcbiAgICAgICAgcmV0dXJuIHVybF8xLlVSTEV4dC5ub3JtYWxpemUoZ2V0T3B0aW9uKCdiYXNlVXJsJykgfHwgJy8nKTtcbiAgICB9XG4gICAgUGFnZUNvbmZpZy5nZXRCYXNlVXJsID0gZ2V0QmFzZVVybDtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRyZWUgdXJsIGZvciBhIEp1cHl0ZXJMYWIgYXBwbGljYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VHJlZVVybCgpIHtcbiAgICAgICAgcmV0dXJuIHVybF8xLlVSTEV4dC5qb2luKGdldEJhc2VVcmwoKSwgZ2V0T3B0aW9uKCd0cmVlVXJsJykpO1xuICAgIH1cbiAgICBQYWdlQ29uZmlnLmdldFRyZWVVcmwgPSBnZXRUcmVlVXJsO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYmFzZSB3ZWJzb2NrZXQgdXJsIGZvciBhIEp1cHl0ZXIgYXBwbGljYXRpb24sIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXc1VybChiYXNlVXJsKSB7XG4gICAgICAgIGxldCB3c1VybCA9IGdldE9wdGlvbignd3NVcmwnKTtcbiAgICAgICAgaWYgKCF3c1VybCkge1xuICAgICAgICAgICAgYmFzZVVybCA9IGJhc2VVcmwgPyB1cmxfMS5VUkxFeHQubm9ybWFsaXplKGJhc2VVcmwpIDogZ2V0QmFzZVVybCgpO1xuICAgICAgICAgICAgaWYgKGJhc2VVcmwuaW5kZXhPZignaHR0cCcpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3NVcmwgPSAnd3MnICsgYmFzZVVybC5zbGljZSg0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsXzEuVVJMRXh0Lm5vcm1hbGl6ZSh3c1VybCk7XG4gICAgfVxuICAgIFBhZ2VDb25maWcuZ2V0V3NVcmwgPSBnZXRXc1VybDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBVUkwgY29udmVydGluZyB0aGlzIG5vdGVib29rIHRvIGEgY2VydGFpblxuICAgICAqIGZvcm1hdCB3aXRoIG5iY29udmVydC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROQkNvbnZlcnRVUkwoeyBwYXRoLCBmb3JtYXQsIGRvd25sb2FkIH0pIHtcbiAgICAgICAgY29uc3Qgbm90ZWJvb2tQYXRoID0gdXJsXzEuVVJMRXh0LmVuY29kZVBhcnRzKHBhdGgpO1xuICAgICAgICBjb25zdCB1cmwgPSB1cmxfMS5VUkxFeHQuam9pbihnZXRCYXNlVXJsKCksICduYmNvbnZlcnQnLCBmb3JtYXQsIG5vdGVib29rUGF0aCk7XG4gICAgICAgIGlmIChkb3dubG9hZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVybCArICc/ZG93bmxvYWQ9dHJ1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gICAgUGFnZUNvbmZpZy5nZXROQkNvbnZlcnRVUkwgPSBnZXROQkNvbnZlcnRVUkw7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhdXRob3JpemF0aW9uIHRva2VuIGZvciBhIEp1cHl0ZXIgYXBwbGljYXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VG9rZW4oKSB7XG4gICAgICAgIHJldHVybiBnZXRPcHRpb24oJ3Rva2VuJykgfHwgZ2V0Qm9keURhdGEoJ2p1cHl0ZXJBcGlUb2tlbicpO1xuICAgIH1cbiAgICBQYWdlQ29uZmlnLmdldFRva2VuID0gZ2V0VG9rZW47XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBOb3RlYm9vayB2ZXJzaW9uIGluZm8gW21ham9yLCBtaW5vciwgcGF0Y2hdLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5vdGVib29rVmVyc2lvbigpIHtcbiAgICAgICAgY29uc3Qgbm90ZWJvb2tWZXJzaW9uID0gZ2V0T3B0aW9uKCdub3RlYm9va1ZlcnNpb24nKTtcbiAgICAgICAgaWYgKG5vdGVib29rVmVyc2lvbiA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBbMCwgMCwgMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uobm90ZWJvb2tWZXJzaW9uKTtcbiAgICB9XG4gICAgUGFnZUNvbmZpZy5nZXROb3RlYm9va1ZlcnNpb24gPSBnZXROb3RlYm9va1ZlcnNpb247XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBwYWdlIGNvbmZpZyBkYXRhIGZvciB0aGUgSnVweXRlciBhcHBsaWNhdGlvbi5cbiAgICAgKi9cbiAgICBsZXQgY29uZmlnRGF0YSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogR2V0IGEgdXJsLWVuY29kZWQgaXRlbSBmcm9tIGBib2R5LmRhdGFgIGFuZCBkZWNvZGUgaXRcbiAgICAgKiBXZSBzaG91bGQgbmV2ZXIgaGF2ZSBhbnkgZW5jb2RlZCBVUkxzIGFueXdoZXJlIGVsc2UgaW4gY29kZVxuICAgICAqIHVudGlsIHdlIGFyZSBidWlsZGluZyBhbiBhY3R1YWwgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRCb2R5RGF0YShrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgIWRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsID0gZG9jdW1lbnQuYm9keS5kYXRhc2V0W2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWVzcGFjZSBmb3IgcGFnZSBjb25maWcgYEV4dGVuc2lvbmAgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIGxldCBFeHRlbnNpb247XG4gICAgKGZ1bmN0aW9uIChFeHRlbnNpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvcHVsYXRlIGFuIGFycmF5IGZyb20gcGFnZSBjb25maWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBrZXkgLSBUaGUgcGFnZSBjb25maWcga2V5IChlLmcuLCBgZGVmZXJyZWRFeHRlbnNpb25zYCkuXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgTm90ZXNcbiAgICAgICAgICogVGhpcyBpcyBpbnRlbmRlZCBmb3IgYGRlZmVycmVkRXh0ZW5zaW9uc2AgYW5kIGBkaXNhYmxlZEV4dGVuc2lvbnNgLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcG9wdWxhdGUoa2V5KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IGdldE9wdGlvbihrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmF3KS5tYXAoKHBhdHRlcm4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHJhdzogcGF0dGVybiwgcnVsZTogbmV3IFJlZ0V4cChwYXR0ZXJuKSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuYWJsZSB0byBwYXJzZSAke2tleX0uYCwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBkZWZlcnJlZCBleHRlbnNpb25zIGluIHBhZ2UgY29uZmlnLlxuICAgICAgICAgKi9cbiAgICAgICAgRXh0ZW5zaW9uLmRlZmVycmVkID0gcG9wdWxhdGUoJ2RlZmVycmVkRXh0ZW5zaW9ucycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZGlzYWJsZWQgZXh0ZW5zaW9ucyBpbiBwYWdlIGNvbmZpZy5cbiAgICAgICAgICovXG4gICAgICAgIEV4dGVuc2lvbi5kaXNhYmxlZCA9IHBvcHVsYXRlKCdkaXNhYmxlZEV4dGVuc2lvbnMnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgd2hldGhlciBhIHBsdWdpbiBpcyBkZWZlcnJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGlkIC0gVGhlIHBsdWdpbiBJRC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGlzRGVmZXJyZWQoaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBFeHRlbnNpb24uZGVmZXJyZWQuc29tZSh2YWwgPT4gdmFsLnJhdyA9PT0gaWQgfHwgdmFsLnJ1bGUudGVzdChpZCkpO1xuICAgICAgICB9XG4gICAgICAgIEV4dGVuc2lvbi5pc0RlZmVycmVkID0gaXNEZWZlcnJlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgd2hldGhlciBhIHBsdWdpbiBpcyBkaXNhYmxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGlkIC0gVGhlIHBsdWdpbiBJRC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGlzRGlzYWJsZWQoaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBFeHRlbnNpb24uZGlzYWJsZWQuc29tZSh2YWwgPT4gdmFsLnJhdyA9PT0gaWQgfHwgdmFsLnJ1bGUudGVzdChpZCkpO1xuICAgICAgICB9XG4gICAgICAgIEV4dGVuc2lvbi5pc0Rpc2FibGVkID0gaXNEaXNhYmxlZDtcbiAgICB9KShFeHRlbnNpb24gPSBQYWdlQ29uZmlnLkV4dGVuc2lvbiB8fCAoUGFnZUNvbmZpZy5FeHRlbnNpb24gPSB7fSkpO1xufSkoUGFnZUNvbmZpZyA9IGV4cG9ydHMuUGFnZUNvbmZpZyB8fCAoZXhwb3J0cy5QYWdlQ29uZmlnID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2Vjb25maWcuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGhvdmVyQ29sb3I6ICd2YXIoLS1qcC1sYXlvdXQtY29sb3IzKScsXG4gICAgY2xpY2tDb2xvcjogJ3ZhcigtLWpwLWJyYW5kLWNvbG9yMSknLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ3ZhcigtLWpwLWxheW91dC1jb2xvcjIpJyxcbiAgICBoZWlnaHQ6ICcyNHB4JyxcbiAgICBmb250U2l6ZTogJ3ZhcigtLWpwLXVpLWZvbnQtc2l6ZTEpJyxcbiAgICBmb250RmFtaWx5OiAndmFyKC0tanAtdWktZm9udC1mYW1pbHkpJyxcbiAgICB0ZXh0Q29sb3I6ICd2YXIoLS1qcC11aS1mb250LWNvbG9yMSknLFxuICAgIHRleHRDbGlja0NvbG9yOiAnd2hpdGUnLFxuICAgIGl0ZW1NYXJnaW46ICcycHgnLFxuICAgIGl0ZW1QYWRkaW5nOiAnNnB4JyxcbiAgICBzdGF0dXNCYXJQYWRkaW5nOiAnMTBweCcsXG4gICAgaW50ZXJJdGVtSGFsZlNwYWNpbmc6ICcycHgnIC8vIHRoaXMgYW1vdW50IGFjY291bnRzIGZvciBoYWxmIHRoZSBzcGFjaW5nIGJldHdlZW4gaXRlbXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YXJpYWJsZXMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgV2lkZ2V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbmltcG9ydCB7IERpYWxvZywgc2hvd0RpYWxvZyB9IGZyb20gJy4vZGlhbG9nJztcbmltcG9ydCB7IFN0eWxpbmcgfSBmcm9tICcuL3N0eWxpbmcnO1xuY29uc3QgSU5QVVRfRElBTE9HX0NMQVNTID0gJ2pwLUlucHV0LURpYWxvZyc7XG4vKipcbiAqIE5hbWVzcGFjZSBmb3IgaW5wdXQgZGlhbG9nc1xuICovXG5leHBvcnQgdmFyIElucHV0RGlhbG9nO1xuKGZ1bmN0aW9uIChJbnB1dERpYWxvZykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbmQgc2hvdyBhIGlucHV0IGRpYWxvZyBmb3IgYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgZGlhbG9nIHNldHVwIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHdoZXRoZXIgdGhlIGRpYWxvZyB3YXMgYWNjZXB0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRCb29sZWFuKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHNob3dEaWFsb2coT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBib2R5OiBuZXcgSW5wdXRCb29sZWFuRGlhbG9nKG9wdGlvbnMpLCBidXR0b25zOiBbXG4gICAgICAgICAgICAgICAgRGlhbG9nLmNhbmNlbEJ1dHRvbih7IGxhYmVsOiBvcHRpb25zLmNhbmNlbExhYmVsIH0pLFxuICAgICAgICAgICAgICAgIERpYWxvZy5va0J1dHRvbih7IGxhYmVsOiBvcHRpb25zLm9rTGFiZWwgfSlcbiAgICAgICAgICAgIF0sIGZvY3VzTm9kZVNlbGVjdG9yOiAnaW5wdXQnIH0pKTtcbiAgICB9XG4gICAgSW5wdXREaWFsb2cuZ2V0Qm9vbGVhbiA9IGdldEJvb2xlYW47XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuZCBzaG93IGEgaW5wdXQgZGlhbG9nIGZvciBhIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGRpYWxvZyBzZXR1cCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB3aGV0aGVyIHRoZSBkaWFsb2cgd2FzIGFjY2VwdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TnVtYmVyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHNob3dEaWFsb2coT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBib2R5OiBuZXcgSW5wdXROdW1iZXJEaWFsb2cob3B0aW9ucyksIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICBEaWFsb2cuY2FuY2VsQnV0dG9uKHsgbGFiZWw6IG9wdGlvbnMuY2FuY2VsTGFiZWwgfSksXG4gICAgICAgICAgICAgICAgRGlhbG9nLm9rQnV0dG9uKHsgbGFiZWw6IG9wdGlvbnMub2tMYWJlbCB9KVxuICAgICAgICAgICAgXSwgZm9jdXNOb2RlU2VsZWN0b3I6ICdpbnB1dCcgfSkpO1xuICAgIH1cbiAgICBJbnB1dERpYWxvZy5nZXROdW1iZXIgPSBnZXROdW1iZXI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuZCBzaG93IGEgaW5wdXQgZGlhbG9nIGZvciBhIGNob2ljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGRpYWxvZyBzZXR1cCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB3aGV0aGVyIHRoZSBkaWFsb2cgd2FzIGFjY2VwdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlbShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBzaG93RGlhbG9nKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgYm9keTogbmV3IElucHV0SXRlbXNEaWFsb2cob3B0aW9ucyksIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICBEaWFsb2cuY2FuY2VsQnV0dG9uKHsgbGFiZWw6IG9wdGlvbnMuY2FuY2VsTGFiZWwgfSksXG4gICAgICAgICAgICAgICAgRGlhbG9nLm9rQnV0dG9uKHsgbGFiZWw6IG9wdGlvbnMub2tMYWJlbCB9KVxuICAgICAgICAgICAgXSwgZm9jdXNOb2RlU2VsZWN0b3I6IG9wdGlvbnMuZWRpdGFibGUgPyAnaW5wdXQnIDogJ3NlbGVjdCcgfSkpO1xuICAgIH1cbiAgICBJbnB1dERpYWxvZy5nZXRJdGVtID0gZ2V0SXRlbTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW5kIHNob3cgYSBpbnB1dCBkaWFsb2cgZm9yIGEgdGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGRpYWxvZyBzZXR1cCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB3aGV0aGVyIHRoZSBkaWFsb2cgd2FzIGFjY2VwdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VGV4dChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBzaG93RGlhbG9nKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgYm9keTogbmV3IElucHV0VGV4dERpYWxvZyhvcHRpb25zKSwgYnV0dG9uczogW1xuICAgICAgICAgICAgICAgIERpYWxvZy5jYW5jZWxCdXR0b24oeyBsYWJlbDogb3B0aW9ucy5jYW5jZWxMYWJlbCB9KSxcbiAgICAgICAgICAgICAgICBEaWFsb2cub2tCdXR0b24oeyBsYWJlbDogb3B0aW9ucy5va0xhYmVsIH0pXG4gICAgICAgICAgICBdLCBmb2N1c05vZGVTZWxlY3RvcjogJ2lucHV0JyB9KSk7XG4gICAgfVxuICAgIElucHV0RGlhbG9nLmdldFRleHQgPSBnZXRUZXh0O1xufSkoSW5wdXREaWFsb2cgfHwgKElucHV0RGlhbG9nID0ge30pKTtcbi8qKlxuICogQmFzZSB3aWRnZXQgZm9yIGlucHV0IGRpYWxvZyBib2R5XG4gKi9cbmNsYXNzIElucHV0RGlhbG9nQmFzZSBleHRlbmRzIFdpZGdldCB7XG4gICAgLyoqXG4gICAgICogSW5wdXREaWFsb2cgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsYWJlbCBJbnB1dCBmaWVsZCBsYWJlbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGxhYmVsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoSU5QVVRfRElBTE9HX0NMQVNTKTtcbiAgICAgICAgaWYgKGxhYmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICAgICAgbGFiZWxFbGVtZW50LnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBub2RlXG4gICAgICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQobGFiZWxFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogV2lkZ2V0IGJvZHkgZm9yIGlucHV0IGJvb2xlYW4gZGlhbG9nXG4gKi9cbmNsYXNzIElucHV0Qm9vbGVhbkRpYWxvZyBleHRlbmRzIElucHV0RGlhbG9nQmFzZSB7XG4gICAgLyoqXG4gICAgICogSW5wdXRCb29sZWFuRGlhbG9nIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBDb25zdHJ1Y3RvciBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zLmxhYmVsKTtcbiAgICAgICAgdGhpcy5faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICB0aGlzLl9pbnB1dC5jbGFzc0xpc3QuYWRkKCdqcC1tb2Qtc3R5bGVkJyk7XG4gICAgICAgIHRoaXMuX2lucHV0LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICB0aGlzLl9pbnB1dC5jaGVja2VkID0gb3B0aW9ucy52YWx1ZSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbm9kZVxuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5faW5wdXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRleHQgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyXG4gICAgICovXG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dC5jaGVja2VkO1xuICAgIH1cbn1cbi8qKlxuICogV2lkZ2V0IGJvZHkgZm9yIGlucHV0IG51bWJlciBkaWFsb2dcbiAqL1xuY2xhc3MgSW5wdXROdW1iZXJEaWFsb2cgZXh0ZW5kcyBJbnB1dERpYWxvZ0Jhc2Uge1xuICAgIC8qKlxuICAgICAqIElucHV0TnVtYmVyRGlhbG9nIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBDb25zdHJ1Y3RvciBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zLmxhYmVsKTtcbiAgICAgICAgdGhpcy5faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHt9KTtcbiAgICAgICAgdGhpcy5faW5wdXQuY2xhc3NMaXN0LmFkZCgnanAtbW9kLXN0eWxlZCcpO1xuICAgICAgICB0aGlzLl9pbnB1dC50eXBlID0gJ251bWJlcic7XG4gICAgICAgIHRoaXMuX2lucHV0LnZhbHVlID0gb3B0aW9ucy52YWx1ZSA/IG9wdGlvbnMudmFsdWUudG9TdHJpbmcoKSA6ICcwJztcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbm9kZVxuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5faW5wdXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlciBzcGVjaWZpZWQgYnkgdGhlIHVzZXIuXG4gICAgICovXG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbnB1dC52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLl9pbnB1dC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLk5hTjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogV2lkZ2V0IGJvZHkgZm9yIGlucHV0IHRleHQgZGlhbG9nXG4gKi9cbmNsYXNzIElucHV0VGV4dERpYWxvZyBleHRlbmRzIElucHV0RGlhbG9nQmFzZSB7XG4gICAgLyoqXG4gICAgICogSW5wdXRUZXh0RGlhbG9nIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBDb25zdHJ1Y3RvciBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zLmxhYmVsKTtcbiAgICAgICAgdGhpcy5faW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHt9KTtcbiAgICAgICAgdGhpcy5faW5wdXQuY2xhc3NMaXN0LmFkZCgnanAtbW9kLXN0eWxlZCcpO1xuICAgICAgICB0aGlzLl9pbnB1dC50eXBlID0gJ3RleHQnO1xuICAgICAgICB0aGlzLl9pbnB1dC52YWx1ZSA9IG9wdGlvbnMudGV4dCA/IG9wdGlvbnMudGV4dCA6ICcnO1xuICAgICAgICBpZiAob3B0aW9ucy5wbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQucGxhY2Vob2xkZXIgPSBvcHRpb25zLnBsYWNlaG9sZGVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIG5vZGVcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKHRoaXMuX2lucHV0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0ZXh0IHNwZWNpZmllZCBieSB0aGUgdXNlclxuICAgICAqL1xuICAgIGdldFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXQudmFsdWU7XG4gICAgfVxufVxuLyoqXG4gKiBXaWRnZXQgYm9keSBmb3IgaW5wdXQgbGlzdCBkaWFsb2dcbiAqL1xuY2xhc3MgSW5wdXRJdGVtc0RpYWxvZyBleHRlbmRzIElucHV0RGlhbG9nQmFzZSB7XG4gICAgLyoqXG4gICAgICogSW5wdXRJdGVtc0RpYWxvZyBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQ29uc3RydWN0b3Igb3B0aW9uc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucy5sYWJlbCk7XG4gICAgICAgIHRoaXMuX2VkaXRhYmxlID0gb3B0aW9ucy5lZGl0YWJsZSB8fCBmYWxzZTtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBvcHRpb25zLmN1cnJlbnQgfHwgMDtcbiAgICAgICAgbGV0IGRlZmF1bHRJbmRleDtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgZGVmYXVsdEluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oY3VycmVudCwgb3B0aW9ucy5pdGVtcy5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICBjdXJyZW50ID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICBvcHRpb25zLml0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IGRlZmF1bHRJbmRleCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBpdGVtO1xuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gaXRlbTtcbiAgICAgICAgICAgIHRoaXMuX2xpc3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcHRpb25zLmVkaXRhYmxlKSB7XG4gICAgICAgICAgICAvKiBVc2Ugb2YgbGlzdCBhbmQgZGF0YWxpc3QgKi9cbiAgICAgICAgICAgIGxldCBkYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGF0YWxpc3QnKTtcbiAgICAgICAgICAgIGRhdGEuaWQgPSAnaW5wdXQtZGlhbG9nLWl0ZW1zJztcbiAgICAgICAgICAgIGRhdGEuYXBwZW5kQ2hpbGQodGhpcy5fbGlzdCk7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge30pO1xuICAgICAgICAgICAgdGhpcy5faW5wdXQuY2xhc3NMaXN0LmFkZCgnanAtbW9kLXN0eWxlZCcpO1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudHlwZSA9ICdsaXN0JztcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnZhbHVlID0gY3VycmVudDtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnNldEF0dHJpYnV0ZSgnbGlzdCcsIGRhdGEuaWQpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dC5wbGFjZWhvbGRlciA9IG9wdGlvbnMucGxhY2Vob2xkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5faW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogVXNlIHNlbGVjdCBkaXJlY3RseSAqL1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKFN0eWxpbmcud3JhcFNlbGVjdCh0aGlzLl9saXN0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1c2VyIGNob2ljZVxuICAgICAqL1xuICAgIGdldFZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5fZWRpdGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnB1dC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saXN0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5wdXRkaWFsb2cuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZEb21Nb2RlbCwgVkRvbVJlbmRlcmVyIH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwdXRpbHMnO1xuaW1wb3J0IHsgVVJMRXh0IH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IFNlcnZlckNvbm5lY3Rpb24gfSBmcm9tICdAanVweXRlcmxhYi9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBQb2xsIH0gZnJvbSAnQGx1bWluby9wb2xsaW5nJztcbmltcG9ydCB7IFRleHRJdGVtIH0gZnJvbSAnLi4nO1xuLyoqXG4gKiBBIFZEb21SZW5kZXJlciBmb3Igc2hvd2luZyBtZW1vcnkgdXNhZ2UgYnkgYSBrZXJuZWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBNZW1vcnlVc2FnZSBleHRlbmRzIFZEb21SZW5kZXJlciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IG1lbW9yeSB1c2FnZSBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIobmV3IE1lbW9yeVVzYWdlLk1vZGVsKHsgcmVmcmVzaFJhdGU6IDUwMDAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIG1lbW9yeSB1c2FnZSBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRleHQ7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLm1lbW9yeUxpbWl0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0ZXh0ID0gYE1lbTogJHt0aGlzLm1vZGVsLmN1cnJlbnRNZW1vcnkudG9GaXhlZChQcml2YXRlLkRFQ0lNQUxfUExBQ0VTKX0gJHt0aGlzLm1vZGVsLnVuaXRzfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0ZXh0ID0gYE1lbTogJHt0aGlzLm1vZGVsLmN1cnJlbnRNZW1vcnkudG9GaXhlZChQcml2YXRlLkRFQ0lNQUxfUExBQ0VTKX0gLyAke3RoaXMubW9kZWwubWVtb3J5TGltaXQudG9GaXhlZChQcml2YXRlLkRFQ0lNQUxfUExBQ0VTKX0gJHt0aGlzLm1vZGVsLnVuaXRzfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEl0ZW0sIHsgdGl0bGU6IFwiQ3VycmVudCBtZW1vcnkgdXNhZ2VcIiwgc291cmNlOiB0ZXh0IH0pO1xuICAgIH1cbn1cbi8qKlxuICogQSBuYW1lc3BhY2UgZm9yIE1lbW9yeVVzYWdlIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoTWVtb3J5VXNhZ2UpIHtcbiAgICAvKipcbiAgICAgKiBBIFZEb21Nb2RlbCBmb3IgdGhlIG1lbW9yeSB1c2FnZSBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICBjbGFzcyBNb2RlbCBleHRlbmRzIFZEb21Nb2RlbCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgbWVtb3J5IHVzYWdlIG1vZGVsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9uczogdGhlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSBtb2RlbC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TWVtb3J5ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX21lbW9yeUxpbWl0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX21ldHJpY3NBdmFpbGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3VuaXRzID0gJ0InO1xuICAgICAgICAgICAgdGhpcy5fcG9sbCA9IG5ldyBQb2xsKHtcbiAgICAgICAgICAgICAgICBmYWN0b3J5OiAoKSA9PiBQcml2YXRlLmZhY3RvcnkoKSxcbiAgICAgICAgICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWw6IG9wdGlvbnMucmVmcmVzaFJhdGUsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tvZmY6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hbWU6ICdAanVweXRlcmxhYi9zdGF0dXNiYXI6TWVtb3J5VXNhZ2UjbWV0cmljcydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fcG9sbC50aWNrZWQuY29ubmVjdChwb2xsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBheWxvYWQsIHBoYXNlIH0gPSBwb2xsLnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmIChwaGFzZSA9PT0gJ3Jlc29sdmVkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVNZXRyaWNzVmFsdWVzKHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwaGFzZSA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRNZXRyaWNzQXZhaWxhYmxlID0gdGhpcy5fbWV0cmljc0F2YWlsYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWV0cmljc0F2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50TWVtb3J5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVtb3J5TGltaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bml0cyA9ICdCJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZE1ldHJpY3NBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkLmVtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIG1ldHJpY3Mgc2VydmVyIGV4dGVuc2lvbiBpcyBhdmFpbGFibGUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgbWV0cmljc0F2YWlsYWJsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZXRyaWNzQXZhaWxhYmxlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBtZW1vcnkgdXNhZ2UvXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgY3VycmVudE1lbW9yeSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50TWVtb3J5O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBtZW1vcnkgbGltaXQsIG9yIG51bGwgaWYgbm90IHNwZWNpZmllZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldCBtZW1vcnlMaW1pdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZW1vcnlMaW1pdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuaXRzIGZvciBtZW1vcnkgdXNhZ2VzIGFuZCBsaW1pdHMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgdW5pdHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdW5pdHM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3Bvc2Ugb2YgdGhlIG1lbW9yeSB1c2FnZSBtb2RlbC5cbiAgICAgICAgICovXG4gICAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9wb2xsLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2l2ZW4gdGhlIHJlc3VsdHMgb2YgdGhlIG1ldHJpY3MgcmVxdWVzdCwgdXBkYXRlIG1vZGVsIHZhbHVlcy5cbiAgICAgICAgICovXG4gICAgICAgIF91cGRhdGVNZXRyaWNzVmFsdWVzKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRNZXRyaWNzQXZhaWxhYmxlID0gdGhpcy5fbWV0cmljc0F2YWlsYWJsZTtcbiAgICAgICAgICAgIGNvbnN0IG9sZEN1cnJlbnRNZW1vcnkgPSB0aGlzLl9jdXJyZW50TWVtb3J5O1xuICAgICAgICAgICAgY29uc3Qgb2xkTWVtb3J5TGltaXQgPSB0aGlzLl9tZW1vcnlMaW1pdDtcbiAgICAgICAgICAgIGNvbnN0IG9sZFVuaXRzID0gdGhpcy5fdW5pdHM7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXRyaWNzQXZhaWxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudE1lbW9yeSA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVtb3J5TGltaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VuaXRzID0gJ0InO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtQnl0ZXMgPSB2YWx1ZS5yc3M7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVtb3J5TGltaXQgPSB2YWx1ZS5saW1pdHMubWVtb3J5XG4gICAgICAgICAgICAgICAgICAgID8gdmFsdWUubGltaXRzLm1lbW9yeS5yc3NcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtjdXJyZW50TWVtb3J5LCB1bml0c10gPSBQcml2YXRlLmNvbnZlcnRUb0xhcmdlc3RVbml0KG51bUJ5dGVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXRyaWNzQXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50TWVtb3J5ID0gY3VycmVudE1lbW9yeTtcbiAgICAgICAgICAgICAgICB0aGlzLl91bml0cyA9IHVuaXRzO1xuICAgICAgICAgICAgICAgIHRoaXMuX21lbW9yeUxpbWl0ID0gbWVtb3J5TGltaXRcbiAgICAgICAgICAgICAgICAgICAgPyBtZW1vcnlMaW1pdCAvIFByaXZhdGUuTUVNT1JZX1VOSVRfTElNSVRTW3VuaXRzXVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudE1lbW9yeSAhPT0gb2xkQ3VycmVudE1lbW9yeSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuX3VuaXRzICE9PSBvbGRVbml0cyB8fFxuICAgICAgICAgICAgICAgIHRoaXMuX21lbW9yeUxpbWl0ICE9PSBvbGRNZW1vcnlMaW1pdCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuX21ldHJpY3NBdmFpbGFibGUgIT09IG9sZE1ldHJpY3NBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5lbWl0KHZvaWQgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgTWVtb3J5VXNhZ2UuTW9kZWwgPSBNb2RlbDtcbn0pKE1lbW9yeVVzYWdlIHx8IChNZW1vcnlVc2FnZSA9IHt9KSk7XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBtb2R1bGUgcHJpdmF0ZSBzdGF0aWNzLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIG1lbW9yeSB1c2FnZS5cbiAgICAgKi9cbiAgICBQcml2YXRlLkRFQ0lNQUxfUExBQ0VTID0gMjtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGJ5dGVzIGluIGVhY2ggbWVtb3J5IHVuaXQuXG4gICAgICovXG4gICAgUHJpdmF0ZS5NRU1PUllfVU5JVF9MSU1JVFMgPSB7XG4gICAgICAgIEI6IDEsXG4gICAgICAgIEtCOiAxMDI0LFxuICAgICAgICBNQjogMTA0ODU3NixcbiAgICAgICAgR0I6IDEwNzM3NDE4MjQsXG4gICAgICAgIFRCOiAxMDk5NTExNjI3Nzc2LFxuICAgICAgICBQQjogMTEyNTg5OTkwNjg0MjYyNFxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBudW1iZXIgb2YgYnl0ZXMsIGNvbnZlcnQgdG8gdGhlIG1vc3QgaHVtYW4tcmVhZGFibGVcbiAgICAgKiBmb3JtYXQsIChHQiwgVEIsIGV0YykuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29udmVydFRvTGFyZ2VzdFVuaXQobnVtQnl0ZXMpIHtcbiAgICAgICAgaWYgKG51bUJ5dGVzIDwgUHJpdmF0ZS5NRU1PUllfVU5JVF9MSU1JVFMuS0IpIHtcbiAgICAgICAgICAgIHJldHVybiBbbnVtQnl0ZXMsICdCJ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoUHJpdmF0ZS5NRU1PUllfVU5JVF9MSU1JVFMuS0IgPT09IG51bUJ5dGVzIHx8XG4gICAgICAgICAgICBudW1CeXRlcyA8IFByaXZhdGUuTUVNT1JZX1VOSVRfTElNSVRTLk1CKSB7XG4gICAgICAgICAgICByZXR1cm4gW251bUJ5dGVzIC8gUHJpdmF0ZS5NRU1PUllfVU5JVF9MSU1JVFMuS0IsICdLQiddO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFByaXZhdGUuTUVNT1JZX1VOSVRfTElNSVRTLk1CID09PSBudW1CeXRlcyB8fFxuICAgICAgICAgICAgbnVtQnl0ZXMgPCBQcml2YXRlLk1FTU9SWV9VTklUX0xJTUlUUy5HQikge1xuICAgICAgICAgICAgcmV0dXJuIFtudW1CeXRlcyAvIFByaXZhdGUuTUVNT1JZX1VOSVRfTElNSVRTLk1CLCAnTUInXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChQcml2YXRlLk1FTU9SWV9VTklUX0xJTUlUUy5HQiA9PT0gbnVtQnl0ZXMgfHxcbiAgICAgICAgICAgIG51bUJ5dGVzIDwgUHJpdmF0ZS5NRU1PUllfVU5JVF9MSU1JVFMuVEIpIHtcbiAgICAgICAgICAgIHJldHVybiBbbnVtQnl0ZXMgLyBQcml2YXRlLk1FTU9SWV9VTklUX0xJTUlUUy5HQiwgJ0dCJ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoUHJpdmF0ZS5NRU1PUllfVU5JVF9MSU1JVFMuVEIgPT09IG51bUJ5dGVzIHx8XG4gICAgICAgICAgICBudW1CeXRlcyA8IFByaXZhdGUuTUVNT1JZX1VOSVRfTElNSVRTLlBCKSB7XG4gICAgICAgICAgICByZXR1cm4gW251bUJ5dGVzIC8gUHJpdmF0ZS5NRU1PUllfVU5JVF9MSU1JVFMuVEIsICdUQiddO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtudW1CeXRlcyAvIFByaXZhdGUuTUVNT1JZX1VOSVRfTElNSVRTLlBCLCAnUEInXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcml2YXRlLmNvbnZlcnRUb0xhcmdlc3RVbml0ID0gY29udmVydFRvTGFyZ2VzdFVuaXQ7XG4gICAgLyoqXG4gICAgICogU2V0dGluZ3MgZm9yIG1ha2luZyByZXF1ZXN0cyB0byB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIGNvbnN0IFNFUlZFUl9DT05ORUNUSU9OX1NFVFRJTkdTID0gU2VydmVyQ29ubmVjdGlvbi5tYWtlU2V0dGluZ3MoKTtcbiAgICAvKipcbiAgICAgKiBUaGUgdXJsIGVuZHBvaW50IGZvciBtYWtpbmcgcmVxdWVzdHMgdG8gdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBjb25zdCBNRVRSSUNfVVJMID0gVVJMRXh0LmpvaW4oU0VSVkVSX0NPTk5FQ1RJT05fU0VUVElOR1MuYmFzZVVybCwgJ21ldHJpY3MnKTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGEgcmVxdWVzdCB0byB0aGUgYmFja2VuZC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBmYWN0b3J5KCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdChNRVRSSUNfVVJMLCB7fSwgU0VSVkVSX0NPTk5FQ1RJT05fU0VUVElOR1MpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3Q7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFByaXZhdGUuZmFjdG9yeSA9IGZhY3Rvcnk7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lbW9yeVVzYWdlLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMjIgMjInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyOycgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDcGF0aCBjbGFzcz0nanAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlJyBmaWxsPSclMjM2MTYxNjEnIGQ9J00xOS4zLDguMmwtNS41LTUuNWMtMC4zLTAuMy0wLjctMC41LTEuMi0wLjVIMy45QzMuMSwyLjMsMi4zLDMuMSwyLjMsNHYxNC4xYzAsMC45LDAuNywxLjYsMS42LDEuNmgxNC4yIGMwLjksMCwxLjYtMC43LDEuNi0xLjZWOS40QzE5LjgsOC45LDE5LjYsOC41LDE5LjMsOC4yeiBNMTMuNSw0LjlsMy40LDMuNmgtMy40VjQuOXogTTE3LjQsMTcuNmwtMTIuNywwYy0wLjEsMC0wLjIsMC0wLjItMC4yVjQuNyBjMC0wLjIsMC4xLTAuMywwLjItMC4zaDcuMnY0LjRjMCwwLDAsMC44LDAuMywxLjFjMC4zLDAuMywxLjEsMC4zLDEuMSwwLjNoNC4zbDAsNy4yQzE3LjYsMTcuNCwxNy41LDE3LjYsMTcuNCwxNy42eicgLyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmVyc2lvbj1cXFwiMS4xXFxcIiBpZD1cXFwiTGF5ZXJfMVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgeD1cXFwiMHB4XFxcIiB5PVxcXCIwcHhcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMiAyMlxcXCIgc3R5bGU9XFxcImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjIgMjI7XFxcIiB4bWw6c3BhY2U9XFxcInByZXNlcnZlXFxcIj5cXG5cXHQ8cGF0aFxcblxcdFxcdGNsYXNzPVxcXCJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGVcXFwiXFxuXFx0XFx0ZmlsbD1cXFwiIzYxNjE2MVxcXCJcXG5cXHRcXHRkPVxcXCJNMTkuMyw4LjJsLTUuNS01LjVjLTAuMy0wLjMtMC43LTAuNS0xLjItMC41SDMuOUMzLjEsMi4zLDIuMywzLjEsMi4zLDR2MTQuMWMwLDAuOSwwLjcsMS42LDEuNiwxLjZoMTQuMiBjMC45LDAsMS42LTAuNywxLjYtMS42VjkuNEMxOS44LDguOSwxOS42LDguNSwxOS4zLDguMnogTTEzLjUsNC45bDMuNCwzLjZoLTMuNFY0Ljl6IE0xNy40LDE3LjZsLTEyLjcsMGMtMC4xLDAtMC4yLDAtMC4yLTAuMlY0LjcgYzAtMC4yLDAuMS0wLjMsMC4yLTAuM2g3LjJ2NC40YzAsMCwwLDAuOCwwLjMsMS4xYzAuMywwLjMsMS4xLDAuMywxLjEsMC4zaDQuM2wwLDcuMkMxNy42LDE3LjQsMTcuNSwxNy42LDE3LjQsMTcuNnpcXFwiXFxuXFx0Lz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgdGV4dC1yZWxhdGVkIGZ1bmN0aW9ucy5cbiAqL1xudmFyIFRleHQ7XG4oZnVuY3Rpb24gKFRleHQpIHtcbiAgICAvLyBqYXZhc2NyaXB0IHN0b3JlcyB0ZXh0IGFzIHV0ZjE2IGFuZCBzdHJpbmcgaW5kaWNlcyB1c2UgXCJjb2RlIHVuaXRzXCIsXG4gICAgLy8gd2hpY2ggc3RvcmVzIGhpZ2gtY29kZXBvaW50IGNoYXJhY3RlcnMgYXMgXCJzdXJyb2dhdGUgcGFpcnNcIixcbiAgICAvLyB3aGljaCBvY2N1cHkgdHdvIGluZGljZXMgaW4gdGhlIGphdmFzY3JpcHQgc3RyaW5nLlxuICAgIC8vIFdlIG5lZWQgdG8gdHJhbnNsYXRlIGN1cnNvcl9wb3MgaW4gdGhlIEp1cHl0ZXIgcHJvdG9jb2wgKGluIGNoYXJhY3RlcnMpXG4gICAgLy8gdG8ganMgb2Zmc2V0ICh3aXRoIHN1cnJvZ2F0ZSBwYWlycyB0YWtpbmcgdHdvIHNwb3RzKS5cbiAgICBjb25zdCBIQVNfU1VSUk9HQVRFUyA9ICfwnZCaJy5sZW5ndGggPiAxO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBqYXZhc2NyaXB0IHN0cmluZyBpbmRleCBpbnRvIGEgdW5pY29kZSBjaGFyYWN0ZXIgb2Zmc2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ganNJZHggLSBUaGUgamF2YXNjcmlwdCBzdHJpbmcgaW5kZXggKGNvdW50aW5nIHN1cnJvZ2F0ZSBwYWlycylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgaW4gd2hpY2ggdGhlIG9mZnNldCBpcyBjYWxjdWxhdGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgdW5pY29kZSBjaGFyYWN0ZXIgb2Zmc2V0XG4gICAgICovXG4gICAgZnVuY3Rpb24ganNJbmRleFRvQ2hhckluZGV4KGpzSWR4LCB0ZXh0KSB7XG4gICAgICAgIGlmIChIQVNfU1VSUk9HQVRFUykge1xuICAgICAgICAgICAgLy8gbm90IHVzaW5nIHN1cnJvZ2F0ZXMsIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgICAgIHJldHVybiBqc0lkeDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hhcklkeCA9IGpzSWR4O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSArIDEgPCB0ZXh0Lmxlbmd0aCAmJiBpIDwganNJZHg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoYXJDb2RlID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICAgICAgICBpZiAoY2hhckNvZGUgPj0gMHhkODAwICYmIGNoYXJDb2RlIDw9IDB4ZGJmZikge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0Q2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hhckNvZGUgPj0gMHhkYzAwICYmIG5leHRDaGFyQ29kZSA8PSAweGRmZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcklkeC0tO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFySWR4O1xuICAgIH1cbiAgICBUZXh0LmpzSW5kZXhUb0NoYXJJbmRleCA9IGpzSW5kZXhUb0NoYXJJbmRleDtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgdW5pY29kZSBjaGFyYWN0ZXIgb2Zmc2V0IHRvIGEgamF2YXNjcmlwdCBzdHJpbmcgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hhcklkeCAtIFRoZSBpbmRleCBpbiB1bmljb2RlIGNoYXJhY3RlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0ZXh0IC0gVGhlIHRleHQgaW4gd2hpY2ggdGhlIG9mZnNldCBpcyBjYWxjdWxhdGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUganMtbmF0aXZlIGluZGV4XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhckluZGV4VG9Kc0luZGV4KGNoYXJJZHgsIHRleHQpIHtcbiAgICAgICAgaWYgKEhBU19TVVJST0dBVEVTKSB7XG4gICAgICAgICAgICAvLyBub3QgdXNpbmcgc3Vycm9nYXRlcywgbm90aGluZyB0byBkb1xuICAgICAgICAgICAgcmV0dXJuIGNoYXJJZHg7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGpzSWR4ID0gY2hhcklkeDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgKyAxIDwgdGV4dC5sZW5ndGggJiYgaSA8IGpzSWR4OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGFyQ29kZSA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBzdXJyb2dhdGUgcGFpclxuICAgICAgICAgICAgaWYgKGNoYXJDb2RlID49IDB4ZDgwMCAmJiBjaGFyQ29kZSA8PSAweGRiZmYpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dENoYXJDb2RlID0gdGV4dC5jaGFyQ29kZUF0KGkgKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dENoYXJDb2RlID49IDB4ZGMwMCAmJiBuZXh0Q2hhckNvZGUgPD0gMHhkZmZmKSB7XG4gICAgICAgICAgICAgICAgICAgIGpzSWR4Kys7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzSWR4O1xuICAgIH1cbiAgICBUZXh0LmNoYXJJbmRleFRvSnNJbmRleCA9IGNoYXJJbmRleFRvSnNJbmRleDtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhICdzbmFrZS1jYXNlJywgJ3NuYWtlX2Nhc2UnLCAnc25ha2U6Y2FzZScsIG9yXG4gICAgICogJ3NuYWtlIGNhc2UnIHN0cmluZywgd2lsbCByZXR1cm4gdGhlIGNhbWVsIGNhc2UgdmVyc2lvbjogJ3NuYWtlQ2FzZScuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RyOiB0aGUgc25ha2UtY2FzZSBpbnB1dCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXBwZXI6IGRlZmF1bHQgPSBmYWxzZS4gSWYgdHJ1ZSwgdGhlIGZpcnN0IGxldHRlciBvZiB0aGVcbiAgICAgKiByZXR1cm5lZCBzdHJpbmcgd2lsbCBiZSBjYXBpdGFsaXplZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBjYW1lbCBjYXNlIHZlcnNpb24gb2YgdGhlIGlucHV0IHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYW1lbENhc2Uoc3RyLCB1cHBlciA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXihcXHcpfFtcXHMtXzpdKyhcXHcpL2csIGZ1bmN0aW9uIChtYXRjaCwgcDEsIHAyKSB7XG4gICAgICAgICAgICBpZiAocDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcDIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1cHBlciA/IHAxLnRvVXBwZXJDYXNlKCkgOiBwMS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgVGV4dC5jYW1lbENhc2UgPSBjYW1lbENhc2U7XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBzdHJpbmcsIHRpdGxlIGNhc2UgdGhlIHdvcmRzIGluIHRoZSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RyOiB0aGUgc3RyaW5nIHRvIHRpdGxlIGNhc2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgc2FtZSBzdHJpbmcsIGJ1dCB3aXRoIGVhY2ggd29yZCBjYXBpdGFsaXplZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aXRsZUNhc2Uoc3RyKSB7XG4gICAgICAgIHJldHVybiAoc3RyIHx8ICcnKVxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgICAubWFwKHdvcmQgPT4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSkpXG4gICAgICAgICAgICAuam9pbignICcpO1xuICAgIH1cbiAgICBUZXh0LnRpdGxlQ2FzZSA9IHRpdGxlQ2FzZTtcbn0pKFRleHQgPSBleHBvcnRzLlRleHQgfHwgKGV4cG9ydHMuVGV4dCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZScgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J00yMCA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjZjMC0xLjEtLjktMi0yLTJ6bS01IDE0SDR2LTRoMTF2NHptMC01SDRWOWgxMXY0em01IDVoLTRWOWg0djl6Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZVxcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk0yMCA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjZjMC0xLjEtLjktMi0yLTJ6bS01IDE0SDR2LTRoMTF2NHptMC01SDRWOWgxMXY0em01IDVoLTRWOWg0djl6XFxcIi8+XFxuICA8L2c+XFxuPC9zdmc+XFxuXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgSnVweXRlckxhYk1lbnUgfSBmcm9tICcuL2xhYm1lbnUnO1xuLyoqXG4gKiBBbiBleHRlbnNpYmxlIFRhYnMgbWVudSBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgVGFic01lbnUgZXh0ZW5kcyBKdXB5dGVyTGFiTWVudSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IHRoZSB0YWJzIG1lbnUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5tZW51LnRpdGxlLmxhYmVsID0gJ1RhYnMnO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhYnMuanMubWFwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gSW1wb3J0c1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBsdW1pbm8vd2lkZ2V0cy9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL3VpLWNvbXBvbmVudHMvc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9hcHB1dGlscy9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYmFzZS5jc3NcIiksIFwiXCIpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi8qIFRoaXMgZmlsZSB3YXMgYXV0by1nZW5lcmF0ZWQgYnkgZW5zdXJlUGFja2FnZSgpIGluIEBqdXB5dGVybGFiL2J1aWxkdXRpbHMgKi9cXG5cIiwgXCJcIl0pO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgV2lkZ2V0VHJhY2tlciB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbmltcG9ydCB7IE1pbWVEb2N1bWVudEZhY3RvcnkgfSBmcm9tICdAanVweXRlcmxhYi9kb2NyZWdpc3RyeSc7XG5pbXBvcnQgeyBJUmVuZGVyTWltZVJlZ2lzdHJ5IH0gZnJvbSAnQGp1cHl0ZXJsYWIvcmVuZGVybWltZSc7XG5pbXBvcnQgeyBMYWJJY29uIH0gZnJvbSAnQGp1cHl0ZXJsYWIvdWktY29tcG9uZW50cyc7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbmltcG9ydCB7IEF0dGFjaGVkUHJvcGVydHkgfSBmcm9tICdAbHVtaW5vL3Byb3BlcnRpZXMnO1xuaW1wb3J0IHsgSUxheW91dFJlc3RvcmVyIH0gZnJvbSAnLi9sYXlvdXRyZXN0b3Jlcic7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyoqXG4gKiBUaGUgbWltZSBkb2N1bWVudCB0cmFja2VyIHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgSU1pbWVEb2N1bWVudFRyYWNrZXIgPSBuZXcgVG9rZW4oJ0BqdXB5dGVybGFiL2FwcGxpY2F0aW9uOklNaW1lRG9jdW1lbnRUcmFja2VyJyk7XG4vKiB0c2xpbnQ6ZW5hYmxlICovXG4vKipcbiAqIENyZWF0ZSByZW5kZXJtaW1lIHBsdWdpbnMgZm9yIHJlbmRlcm1pbWUgZXh0ZW5zaW9uIG1vZHVsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZW5kZXJtaW1lUGx1Z2lucyhleHRlbnNpb25zKSB7XG4gICAgY29uc3QgcGx1Z2lucyA9IFtdO1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9ICdhcHBsaWNhdGlvbi1taW1lZG9jdW1lbnRzJztcbiAgICBjb25zdCB0cmFja2VyID0gbmV3IFdpZGdldFRyYWNrZXIoeyBuYW1lc3BhY2UgfSk7XG4gICAgZXh0ZW5zaW9ucy5mb3JFYWNoKG1vZCA9PiB7XG4gICAgICAgIGxldCBkYXRhID0gbW9kLmRlZmF1bHQ7XG4gICAgICAgIC8vIEhhbmRsZSBDb21tb25KUyBleHBvcnRzLlxuICAgICAgICBpZiAoIW1vZC5oYXNPd25Qcm9wZXJ0eSgnX19lc01vZHVsZScpKSB7XG4gICAgICAgICAgICBkYXRhID0gbW9kO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgZGF0YSA9IFtkYXRhXTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBwbHVnaW5zLnB1c2goY3JlYXRlUmVuZGVybWltZVBsdWdpbih0cmFja2VyLCBpdGVtKSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIEFsc28gYWRkIGEgbWV0YS1wbHVnaW4gaGFuZGxpbmcgc3RhdGUgcmVzdG9yYXRpb25cbiAgICAvLyBhbmQgZXhwb3NpbmcgdGhlIG1pbWUgZG9jdW1lbnQgd2lkZ2V0IHRyYWNrZXIuXG4gICAgcGx1Z2lucy5wdXNoKHtcbiAgICAgICAgaWQ6ICdAanVweXRlcmxhYi9hcHBsaWNhdGlvbjptaW1lZG9jdW1lbnQnLFxuICAgICAgICBvcHRpb25hbDogW0lMYXlvdXRSZXN0b3Jlcl0sXG4gICAgICAgIHByb3ZpZGVzOiBJTWltZURvY3VtZW50VHJhY2tlcixcbiAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICBhY3RpdmF0ZTogKGFwcCwgcmVzdG9yZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN0b3Jlcikge1xuICAgICAgICAgICAgICAgIHZvaWQgcmVzdG9yZXIucmVzdG9yZSh0cmFja2VyLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdkb2NtYW5hZ2VyOm9wZW4nLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiB3aWRnZXQgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHdpZGdldC5jb250ZXh0LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWN0b3J5OiBQcml2YXRlLmZhY3RvcnlOYW1lUHJvcGVydHkuZ2V0KHdpZGdldClcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHdpZGdldCA9PiBgJHt3aWRnZXQuY29udGV4dC5wYXRofToke1ByaXZhdGUuZmFjdG9yeU5hbWVQcm9wZXJ0eS5nZXQod2lkZ2V0KX1gXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJhY2tlcjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwbHVnaW5zO1xufVxuLyoqXG4gKiBDcmVhdGUgcmVuZGVybWltZSBwbHVnaW5zIGZvciByZW5kZXJtaW1lIGV4dGVuc2lvbiBtb2R1bGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVuZGVybWltZVBsdWdpbih0cmFja2VyLCBpdGVtKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIHJlcXVpcmVzOiBbSVJlbmRlck1pbWVSZWdpc3RyeV0sXG4gICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgYWN0aXZhdGU6IChhcHAsIHJlbmRlcm1pbWUpID0+IHtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgbWltZSByZW5kZXJlci5cbiAgICAgICAgICAgIGlmIChpdGVtLnJhbmsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlbmRlcm1pbWUuYWRkRmFjdG9yeShpdGVtLnJlbmRlcmVyRmFjdG9yeSwgaXRlbS5yYW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlcm1pbWUuYWRkRmFjdG9yeShpdGVtLnJlbmRlcmVyRmFjdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIHdpZGdldCBmYWN0b3J5LlxuICAgICAgICAgICAgaWYgKCFpdGVtLmRvY3VtZW50V2lkZ2V0RmFjdG9yeU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcmVnaXN0cnkgPSBhcHAuZG9jUmVnaXN0cnk7XG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IFtdO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5kb2N1bWVudFdpZGdldEZhY3RvcnlPcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBpdGVtLmRvY3VtZW50V2lkZ2V0RmFjdG9yeU9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gW1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmRvY3VtZW50V2lkZ2V0RmFjdG9yeU9wdGlvbnNcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0uZmlsZVR5cGVzKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5maWxlVHlwZXMuZm9yRWFjaChmdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmdC5pY29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGNvbnZlcnQgdGhlIGNvbnRlbnRzIG9mIHRoZSBpY29uIGZpZWxkIHRvIGEgcHJvcGVyIExhYkljb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBmdCksIHsgaWNvbjogTGFiSWNvbi5yZXNvbHZlKHsgaWNvbjogZnQuaWNvbiB9KSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcHAuZG9jUmVnaXN0cnkuYWRkRmlsZVR5cGUoZnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbGJhckZhY3RvcnkgPSBvcHRpb24udG9vbGJhckZhY3RvcnlcbiAgICAgICAgICAgICAgICAgICAgPyAodykgPT4gb3B0aW9uLnRvb2xiYXJGYWN0b3J5KHcuY29udGVudC5yZW5kZXJlcilcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGV0IGZhY3RvcnkgPSBuZXcgTWltZURvY3VtZW50RmFjdG9yeSh7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclRpbWVvdXQ6IGl0ZW0ucmVuZGVyVGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IGl0ZW0uZGF0YVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcm1pbWUsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsTmFtZTogb3B0aW9uLm1vZGVsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogb3B0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlGaWxlVHlwZTogcmVnaXN0cnkuZ2V0RmlsZVR5cGUob3B0aW9uLnByaW1hcnlGaWxlVHlwZSksXG4gICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlczogb3B0aW9uLmZpbGVUeXBlcyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEZvcjogb3B0aW9uLmRlZmF1bHRGb3IsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRSZW5kZXJlZDogb3B0aW9uLmRlZmF1bHRSZW5kZXJlZCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJhckZhY3RvcnlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZWdpc3RyeS5hZGRXaWRnZXRGYWN0b3J5KGZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGZhY3Rvcnkud2lkZ2V0Q3JlYXRlZC5jb25uZWN0KChzZW5kZXIsIHdpZGdldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBQcml2YXRlLmZhY3RvcnlOYW1lUHJvcGVydHkuc2V0KHdpZGdldCwgZmFjdG9yeS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90aWZ5IHRoZSB3aWRnZXQgdHJhY2tlciBpZiByZXN0b3JlIGRhdGEgbmVlZHMgdG8gdXBkYXRlLlxuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuY29udGV4dC5wYXRoQ2hhbmdlZC5jb25uZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgdHJhY2tlci5zYXZlKHdpZGdldCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHRyYWNrZXIuYWRkKHdpZGdldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIFByaXZhdGUgbmFtZXNwYWNlIGZvciB0aGUgbW9kdWxlLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEFuIGF0dGFjaGVkIHByb3BlcnR5IGZvciBrZWVwaW5nIHRoZSBmYWN0b3J5IG5hbWVcbiAgICAgKiB0aGF0IHdhcyB1c2VkIHRvIGNyZWF0ZSBhIG1pbWVkb2N1bWVudC5cbiAgICAgKi9cbiAgICBQcml2YXRlLmZhY3RvcnlOYW1lUHJvcGVydHkgPSBuZXcgQXR0YWNoZWRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICdmYWN0b3J5TmFtZScsXG4gICAgICAgIGNyZWF0ZTogKCkgPT4gdW5kZWZpbmVkXG4gICAgfSk7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pbWVyZW5kZXJlcnMuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgVVJMRXh0IH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IGVhY2ggfSBmcm9tICdAbHVtaW5vL2FsZ29yaXRobSc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlRGVsZWdhdGUgfSBmcm9tICdAbHVtaW5vL2Rpc3Bvc2FibGUnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuaW1wb3J0IHsgRGlhbG9nLCBzaG93RGlhbG9nIH0gZnJvbSAnLi9kaWFsb2cnO1xuLyoqXG4gKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHRoZW1lIGxvYWRpbmcgYXR0ZW1wdHMuXG4gKi9cbmNvbnN0IFJFUVVFU1RfSU5URVJWQUwgPSA3NTtcbi8qKlxuICogVGhlIG51bWJlciBvZiB0aW1lcyB0byBhdHRlbXB0IHRvIGxvYWQgYSB0aGVtZSBiZWZvcmUgZ2l2aW5nIHVwLlxuICovXG5jb25zdCBSRVFVRVNUX1RIUkVTSE9MRCA9IDIwO1xuLyoqXG4gKiBBIGNsYXNzIHRoYXQgcHJvdmlkZXMgdGhlbWUgbWFuYWdlbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFRoZW1lTWFuYWdlciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IHRoZW1lIG1hbmFnZXIuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGlua3MgPSBbXTtcbiAgICAgICAgdGhpcy5fb3ZlcnJpZGVzID0ge307XG4gICAgICAgIHRoaXMuX292ZXJyaWRlUHJvcHMgPSB7fTtcbiAgICAgICAgdGhpcy5fb3V0c3RhbmRpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl9wZW5kaW5nID0gMDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdHMgPSB7fTtcbiAgICAgICAgdGhpcy5fdGhlbWVzID0ge307XG4gICAgICAgIHRoaXMuX3RoZW1lQ2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIGNvbnN0IHsgaG9zdCwga2V5LCBzcGxhc2gsIHVybCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgcmVnaXN0cnkgPSBvcHRpb25zLnNldHRpbmdzO1xuICAgICAgICB0aGlzLl9iYXNlID0gdXJsO1xuICAgICAgICB0aGlzLl9ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy5fc3BsYXNoID0gc3BsYXNoIHx8IG51bGw7XG4gICAgICAgIHZvaWQgcmVnaXN0cnkubG9hZChrZXkpLnRoZW4oc2V0dGluZ3MgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzLmNoYW5nZWQuY29ubmVjdCh0aGlzLl9sb2FkU2V0dGluZ3MsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fbG9hZFNldHRpbmdzKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0T3ZlcnJpZGVQcm9wcygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBuYW1lIG9mIHRoZSBjdXJyZW50IHRoZW1lLlxuICAgICAqL1xuICAgIGdldCB0aGVtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lcyBvZiB0aGUgcmVnaXN0ZXJlZCB0aGVtZXMuXG4gICAgICovXG4gICAgZ2V0IHRoZW1lcygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3RoZW1lcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGZpcmVkIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHRoZW1lIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IHRoZW1lQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RoZW1lQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSBvZiBhIENTUyB2YXJpYWJsZSBmcm9tIGl0cyBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ga2V5IC0gQSBKdXB5dGVybGFiIENTUyB2YXJpYWJsZSwgd2l0aG91dCB0aGUgbGVhZGluZyAnLS1qcC0nLlxuICAgICAqXG4gICAgICogQHJldHVybiB2YWx1ZSAtIFRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBKdXB5dGVybGFiIENTUyB2YXJpYWJsZVxuICAgICAqL1xuICAgIGdldENTUyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKGAtLWpwLSR7a2V5fWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIGEgdGhlbWUgQ1NTIGZpbGUgYnkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIGZpbGUgdG8gbG9hZC5cbiAgICAgKi9cbiAgICBsb2FkQ1NTKHBhdGgpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuX2Jhc2U7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBVUkxFeHQuaXNMb2NhbChwYXRoKSA/IFVSTEV4dC5qb2luKGJhc2UsIHBhdGgpIDogcGF0aDtcbiAgICAgICAgY29uc3QgbGlua3MgPSB0aGlzLl9saW5rcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTtcbiAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XG4gICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoYFN0eWxlc2hlZXQgZmFpbGVkIHRvIGxvYWQ6ICR7aHJlZn1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgIGxpbmtzLnB1c2gobGluayk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbGwgY3VycmVudCBDU1Mgb3ZlcnJpZGVzIGZyb20gc2V0dGluZ3MuIElmIGFuIG92ZXJyaWRlIGhhcyBiZWVuXG4gICAgICogcmVtb3ZlZCBvciBpcyBpbnZhbGlkLCB0aGlzIGZ1bmN0aW9uIHVubG9hZHMgaXQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBsb2FkQ1NTT3ZlcnJpZGVzKCkge1xuICAgICAgICBjb25zdCBuZXdPdmVycmlkZXMgPSB0aGlzLl9zZXR0aW5ncy51c2VyWydvdmVycmlkZXMnXSB8fCB7fTtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSB1bmlvbiBvZiBjdXJyZW50IGFuZCBuZXcgQ1NTIG92ZXJyaWRlIGtleXNcbiAgICAgICAgT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9vdmVycmlkZXMpLCBuZXdPdmVycmlkZXMpKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBuZXdPdmVycmlkZXNba2V5XTtcbiAgICAgICAgICAgIGlmICh2YWwgJiYgdGhpcy52YWxpZGF0ZUNTUyhrZXksIHZhbCkpIHtcbiAgICAgICAgICAgICAgICAvLyB2YWxpZGF0aW9uIHN1Y2NlZWRlZCwgc2V0IHRoZSBvdmVycmlkZVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShgLS1qcC0ke2tleX1gLCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaWYga2V5IGlzIG5vdCBwcmVzZW50IG9yIHZhbGlkYXRpb24gZmFpbGVkLCB0aGUgb3ZlcnJpZGUgd2lsbCBiZSByZW1vdmVkXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KGAtLWpwLSR7a2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gcmVwbGFjZSB0aGUgY3VycmVudCBvdmVycmlkZXMgd2l0aCB0aGUgbmV3IG9uZXNcbiAgICAgICAgdGhpcy5fb3ZlcnJpZGVzID0gbmV3T3ZlcnJpZGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBhIENTUyB2YWx1ZSB3LnIudC4gYSBrZXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXkgLSBBIEp1cHl0ZXJsYWIgQ1NTIHZhcmlhYmxlLCB3aXRob3V0IHRoZSBsZWFkaW5nICctLWpwLScuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsIC0gQSBjYW5kaWRhdGUgQ1NTIHZhbHVlXG4gICAgICovXG4gICAgdmFsaWRhdGVDU1Moa2V5LCB2YWwpIHtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBjc3MgcHJvcGVydHkgY29ycmVzcG9uZGluZyB0byB0aGUga2V5XG4gICAgICAgIGNvbnN0IHByb3AgPSB0aGlzLl9vdmVycmlkZVByb3BzW2tleV07XG4gICAgICAgIGlmICghcHJvcCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDU1MgdmFsaWRhdGlvbiBmYWlsZWQ6IGNvdWxkIG5vdCBmaW5kIHByb3BlcnR5IGNvcnJlc3BvbmRpbmcgdG8ga2V5LlxcbicgK1xuICAgICAgICAgICAgICAgIGBrZXk6ICcke2tleX0nLCB2YWw6ICcke3ZhbH0nYCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXNlIGJ1aWx0LWluIHZhbGlkYXRpb24gb25jZSB3ZSBoYXZlIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5XG4gICAgICAgIGlmIChDU1Muc3VwcG9ydHMocHJvcCwgdmFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NTUyB2YWxpZGF0aW9uIGZhaWxlZDogaW52YWxpZCB2YWx1ZS5cXG4nICtcbiAgICAgICAgICAgICAgICBga2V5OiAnJHtrZXl9JywgdmFsOiAnJHt2YWx9JywgcHJvcDogJyR7cHJvcH0nYCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSB0aGVtZSB3aXRoIHRoZSB0aGVtZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRoZW1lIC0gVGhlIHRoZW1lIHRvIHJlZ2lzdGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBkaXNwb3NhYmxlIHRoYXQgY2FuIGJlIHVzZWQgdG8gdW5yZWdpc3RlciB0aGUgdGhlbWUuXG4gICAgICovXG4gICAgcmVnaXN0ZXIodGhlbWUpIHtcbiAgICAgICAgY29uc3QgeyBuYW1lIH0gPSB0aGVtZTtcbiAgICAgICAgY29uc3QgdGhlbWVzID0gdGhpcy5fdGhlbWVzO1xuICAgICAgICBpZiAodGhlbWVzW25hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZW1lIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3IgJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoZW1lc1tuYW1lXSA9IHRoZW1lO1xuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZSgoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGhlbWVzW25hbWVdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgQ1NTIG92ZXJyaWRlIHRvIHRoZSBzZXR0aW5ncy5cbiAgICAgKi9cbiAgICBzZXRDU1NPdmVycmlkZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX292ZXJyaWRlc1trZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5zZXQoJ292ZXJyaWRlcycsIHRoaXMuX292ZXJyaWRlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCB0aGVtZS5cbiAgICAgKi9cbiAgICBzZXRUaGVtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5zZXQoJ3RoZW1lJywgbmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciBhIGdpdmVuIHRoZW1lIGlzIGxpZ2h0LlxuICAgICAqL1xuICAgIGlzTGlnaHQobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGhlbWVzW25hbWVdLmlzTGlnaHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluY3JlYXNlIGEgZm9udCBzaXplIHcuci50LiBpdHMgY3VycmVudCBzZXR0aW5nIG9yIGl0cyB2YWx1ZSBpbiB0aGVcbiAgICAgKiBjdXJyZW50IHRoZW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIEEgSnVweXRlcmxhYiBmb250IHNpemUgQ1NTIHZhcmlhYmxlLCB3aXRob3V0IHRoZSBsZWFkaW5nICctLWpwLScuXG4gICAgICovXG4gICAgaW5jckZvbnRTaXplKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5jckZvbnRTaXplKGtleSwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY3JlYXNlIGEgZm9udCBzaXplIHcuci50LiBpdHMgY3VycmVudCBzZXR0aW5nIG9yIGl0cyB2YWx1ZSBpbiB0aGVcbiAgICAgKiBjdXJyZW50IHRoZW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIGtleSAtIEEgSnVweXRlcmxhYiBmb250IHNpemUgQ1NTIHZhcmlhYmxlLCB3aXRob3V0IHRoZSBsZWFkaW5nICctLWpwLScuXG4gICAgICovXG4gICAgZGVjckZvbnRTaXplKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5jckZvbnRTaXplKGtleSwgZmFsc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgYSBnaXZlbiB0aGVtZSBzdHlsZXMgc2Nyb2xsYmFycyxcbiAgICAgKiBhbmQgaWYgdGhlIHVzZXIgaGFzIHNjcm9sbGJhciBzdHlsaW5nIGVuYWJsZWQuXG4gICAgICovXG4gICAgdGhlbWVTY3JvbGxiYXJzKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICghIXRoaXMuX3NldHRpbmdzLmNvbXBvc2l0ZVsndGhlbWUtc2Nyb2xsYmFycyddICYmXG4gICAgICAgICAgICAhIXRoaXMuX3RoZW1lc1tuYW1lXS50aGVtZVNjcm9sbGJhcnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSB1c2VyIGhhcyBzY3JvbGxiYXIgc3R5bGluZyBlbmFibGVkLlxuICAgICAqL1xuICAgIGlzVG9nZ2xlZFRoZW1lU2Nyb2xsYmFycygpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fc2V0dGluZ3MuY29tcG9zaXRlWyd0aGVtZS1zY3JvbGxiYXJzJ107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSB0aGUgYHRoZW1lLXNjcm9sbGJiYXJzYCBzZXR0aW5nLlxuICAgICAqL1xuICAgIHRvZ2dsZVRoZW1lU2Nyb2xsYmFycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLnNldCgndGhlbWUtc2Nyb2xsYmFycycsICF0aGlzLl9zZXR0aW5ncy5jb21wb3NpdGVbJ3RoZW1lLXNjcm9sbGJhcnMnXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSBhIGZvbnQgc2l6ZSBieSBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGluY3JlbWVudC5cbiAgICAgKi9cbiAgICBfaW5jckZvbnRTaXplKGtleSwgYWRkID0gdHJ1ZSkge1xuICAgICAgICAvLyBnZXQgdGhlIG51bWVyaWMgYW5kIHVuaXQgcGFydHMgb2YgdGhlIGN1cnJlbnQgZm9udCBzaXplXG4gICAgICAgIGNvbnN0IHBhcnRzID0gKHRoaXMuZ2V0Q1NTKGtleSkgfHwgJzEzcHgnKS5zcGxpdCgvKFthLXpBLVpdKykvKTtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBpbmNyZW1lbnRcbiAgICAgICAgY29uc3QgaW5jciA9IChhZGQgPyAxIDogLTEpICogKHBhcnRzWzFdID09PSAnZW0nID8gMC4xIDogMSk7XG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgZm9udCBzaXplIGFuZCBzZXQgaXQgYXMgYW4gb3ZlcnJpZGVcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q1NTT3ZlcnJpZGUoa2V5LCBgJHtOdW1iZXIocGFydHNbMF0pICsgaW5jcn0ke3BhcnRzWzFdfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBrZXkgLT4gcHJvcGVydHkgZGljdCBmb3IgdGhlIG92ZXJyaWRlc1xuICAgICAqL1xuICAgIF9pbml0T3ZlcnJpZGVQcm9wcygpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSB0aGlzLl9zZXR0aW5ncy5zY2hlbWEuZGVmaW5pdGlvbnM7XG4gICAgICAgIC8vIHdvcmthcm91bmQgZm9yIDEuMC54IHZlcnNpb25zIG9mIEpsYWIgcHVsbGluZyBpbiAxLjEueCB2ZXJzaW9ucyBvZiBhcHB1dGlsc1xuICAgICAgICAvLyBUT0RPOiBkZWxldGUgd29ya2Fyb3VuZCBpbiB2Mi4wLjBcbiAgICAgICAgaWYgKGRlZmluaXRpb25zICYmIGRlZmluaXRpb25zLmNzc092ZXJyaWRlcykge1xuICAgICAgICAgICAgY29uc3Qgb1NjaGVtYSA9IGRlZmluaXRpb25zLmNzc092ZXJyaWRlcy5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgLy8gdGhlIGRlc2NyaXB0aW9uIGZpZWxkIG9mIGVhY2ggaXRlbSBpbiB0aGUgb3ZlcnJpZGVzIHNjaGVtYSBzdG9yZXMgYVxuICAgICAgICAgICAgLy8gQ1NTIHByb3BlcnR5IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHZhbGlkYXRlIHRoYXQgb3ZlcnJpZGUncyB2YWx1ZXNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9TY2hlbWEpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vdmVycmlkZVByb3BzW2tleV0gPSBvU2NoZW1hW2tleV0uZGVzY3JpcHRpb247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGN1cnJlbnQgc2V0dGluZ3MuXG4gICAgICovXG4gICAgX2xvYWRTZXR0aW5ncygpIHtcbiAgICAgICAgY29uc3Qgb3V0c3RhbmRpbmcgPSB0aGlzLl9vdXRzdGFuZGluZztcbiAgICAgICAgY29uc3QgcGVuZGluZyA9IHRoaXMuX3BlbmRpbmc7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RzID0gdGhpcy5fcmVxdWVzdHM7XG4gICAgICAgIC8vIElmIGFub3RoZXIgcmVxdWVzdCBpcyBwZW5kaW5nLCBjYW5jZWwgaXQuXG4gICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHBlbmRpbmcpO1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLl9zZXR0aW5ncztcbiAgICAgICAgY29uc3QgdGhlbWVzID0gdGhpcy5fdGhlbWVzO1xuICAgICAgICBjb25zdCB0aGVtZSA9IHNldHRpbmdzLmNvbXBvc2l0ZVsndGhlbWUnXTtcbiAgICAgICAgLy8gSWYgYW5vdGhlciBwcm9taXNlIGlzIG91dHN0YW5kaW5nLCB3YWl0IHVudGlsIGl0IGZpbmlzaGVzIGJlZm9yZVxuICAgICAgICAvLyBhdHRlbXB0aW5nIHRvIGxvYWQgdGhlIHNldHRpbmdzLiBCZWNhdXNlIG91dHN0YW5kaW5nIHByb21pc2VzIGNhbm5vdFxuICAgICAgICAvLyBiZSBhYm9ydGVkLCB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBvY2N1ciBtdXN0IGJlIGVuZm9yY2VkLlxuICAgICAgICBpZiAob3V0c3RhbmRpbmcpIHtcbiAgICAgICAgICAgIG91dHN0YW5kaW5nXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTZXR0aW5ncygpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTZXR0aW5ncygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9vdXRzdGFuZGluZyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZXF1ZXN0IGNvdW50ZXIuXG4gICAgICAgIHJlcXVlc3RzW3RoZW1lXSA9IHJlcXVlc3RzW3RoZW1lXSA/IHJlcXVlc3RzW3RoZW1lXSArIDEgOiAxO1xuICAgICAgICAvLyBJZiB0aGUgdGhlbWUgZXhpc3RzLCBsb2FkIGl0IHJpZ2h0IGF3YXkuXG4gICAgICAgIGlmICh0aGVtZXNbdGhlbWVdKSB7XG4gICAgICAgICAgICB0aGlzLl9vdXRzdGFuZGluZyA9IHRoaXMuX2xvYWRUaGVtZSh0aGVtZSk7XG4gICAgICAgICAgICBkZWxldGUgcmVxdWVzdHNbdGhlbWVdO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGhhcyB0YWtlbiB0b28gbG9uZywgZ2l2ZSB1cC5cbiAgICAgICAgaWYgKHJlcXVlc3RzW3RoZW1lXSA+IFJFUVVFU1RfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICBjb25zdCBmYWxsYmFjayA9IHNldHRpbmdzLmRlZmF1bHQoJ3RoZW1lJyk7XG4gICAgICAgICAgICAvLyBTdG9wIHRyYWNraW5nIHRoZSByZXF1ZXN0cyBmb3IgdGhpcyB0aGVtZS5cbiAgICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0c1t0aGVtZV07XG4gICAgICAgICAgICBpZiAoIXRoZW1lc1tmYWxsYmFja10pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKGBOZWl0aGVyIHRoZW1lICR7dGhlbWV9IG5vciBkZWZhdWx0ICR7ZmFsbGJhY2t9IGxvYWRlZC5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBsb2FkIHRoZW1lICR7dGhlbWV9LCB1c2luZyBkZWZhdWx0ICR7ZmFsbGJhY2t9LmApO1xuICAgICAgICAgICAgdGhpcy5fb3V0c3RhbmRpbmcgPSB0aGlzLl9sb2FkVGhlbWUoZmFsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSB0aGVtZSBkb2VzIG5vdCB5ZXQgZXhpc3QsIGF0dGVtcHQgdG8gd2FpdCBmb3IgaXQuXG4gICAgICAgIHRoaXMuX3BlbmRpbmcgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkU2V0dGluZ3MoKTtcbiAgICAgICAgfSwgUkVRVUVTVF9JTlRFUlZBTCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHRoZW1lLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgbWV0aG9kIGFzc3VtZXMgdGhhdCB0aGUgYHRoZW1lYCBleGlzdHMuXG4gICAgICovXG4gICAgX2xvYWRUaGVtZSh0aGVtZSkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fY3VycmVudDtcbiAgICAgICAgY29uc3QgbGlua3MgPSB0aGlzLl9saW5rcztcbiAgICAgICAgY29uc3QgdGhlbWVzID0gdGhpcy5fdGhlbWVzO1xuICAgICAgICBjb25zdCBzcGxhc2ggPSB0aGlzLl9zcGxhc2hcbiAgICAgICAgICAgID8gdGhpcy5fc3BsYXNoLnNob3codGhlbWVzW3RoZW1lXS5pc0xpZ2h0KVxuICAgICAgICAgICAgOiBuZXcgRGlzcG9zYWJsZURlbGVnYXRlKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgICAgIC8vIFVubG9hZCBhbnkgQ1NTIGZpbGVzIHRoYXQgaGF2ZSBiZWVuIGxvYWRlZC5cbiAgICAgICAgbGlua3MuZm9yRWFjaChsaW5rID0+IHtcbiAgICAgICAgICAgIGlmIChsaW5rLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBsaW5rLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsaW5rcy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBVbmxvYWQgdGhlIHByZXZpb3VzbHkgbG9hZGVkIHRoZW1lLlxuICAgICAgICBjb25zdCBvbGQgPSBjdXJyZW50ID8gdGhlbWVzW2N1cnJlbnRdLnVubG9hZCgpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbb2xkLCB0aGVtZXNbdGhlbWVdLmxvYWQoKV0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhlbWU7XG4gICAgICAgICAgICB0aGlzLl90aGVtZUNoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3RoZW1lJyxcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZTogY3VycmVudCxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogdGhlbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gTmVlZCB0byBmb3JjZSBhIHJlZHJhdyBvZiB0aGUgYXBwIGhlcmUgdG8gYXZvaWQgYSBDaHJvbWUgcmVuZGVyaW5nXG4gICAgICAgICAgICAvLyBidWcgdGhhdCBjYW4gbGVhdmUgdGhlIHNjcm9sbGJhcnMgaW4gYW4gaW52YWxpZCBzdGF0ZVxuICAgICAgICAgICAgdGhpcy5faG9zdC5oaWRlKCk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoaWRlL3Nob3cgdGhlIHdpZGdldCB0b28gcXVpY2tseSwgbm8gcmVkcmF3IHdpbGwgaGFwcGVuLlxuICAgICAgICAgICAgLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGRlbGF5cyB1bnRpbCBhZnRlciB0aGUgbmV4dCBmcmFtZSByZW5kZXIuXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hvc3Quc2hvdygpO1xuICAgICAgICAgICAgICAgIFByaXZhdGUuZml0QWxsKHRoaXMuX2hvc3QpO1xuICAgICAgICAgICAgICAgIHNwbGFzaC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihyZWFzb24pO1xuICAgICAgICAgICAgc3BsYXNoLmRpc3Bvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIHRoZW1lIGVycm9yLlxuICAgICAqL1xuICAgIF9vbkVycm9yKHJlYXNvbikge1xuICAgICAgICB2b2lkIHNob3dEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6ICdFcnJvciBMb2FkaW5nIFRoZW1lJyxcbiAgICAgICAgICAgIGJvZHk6IFN0cmluZyhyZWFzb24pLFxuICAgICAgICAgICAgYnV0dG9uczogW0RpYWxvZy5va0J1dHRvbih7IGxhYmVsOiAnT0snIH0pXVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBtb2R1bGUgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEZpdCBhIHdpZGdldCBhbmQgYWxsIG9mIGl0cyBjaGlsZHJlbiwgcmVjdXJzaXZlbHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZml0QWxsKHdpZGdldCkge1xuICAgICAgICBlYWNoKHdpZGdldC5jaGlsZHJlbigpLCBmaXRBbGwpO1xuICAgICAgICB3aWRnZXQuZml0KCk7XG4gICAgfVxuICAgIFByaXZhdGUuZml0QWxsID0gZml0QWxsO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aGVtZW1hbmFnZXIuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgVG9rZW4gfSBmcm9tICdAbHVtaW5vL2NvcmV1dGlscyc7XG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLyoqXG4gKiBUaGUgbWFpbiBtZW51IHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgSVNwbGFzaFNjcmVlbiA9IG5ldyBUb2tlbignQGp1cHl0ZXJsYWIvYXBwdXRpbHM6SVNwbGFzaFNjcmVlbicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BsYXNoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxudmFyIF9hLCBfYiwgX2M7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb3JldXRpbHNfMSA9IHJlcXVpcmUoXCJAanVweXRlcmxhYi9jb3JldXRpbHNcIik7XG5sZXQgRkVUQ0g7XG5sZXQgSEVBREVSUztcbmxldCBSRVFVRVNUO1xubGV0IFdFQlNPQ0tFVDtcbmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE1hbmdsZSB0aGUgcmVxdWlyZSBzdGF0ZW1lbnRzIHNvIGl0IGRvZXMgbm90IGdldCBwaWNrZWQgdXAgaW4gdGhlXG4gICAgLy8gYnJvd3NlciBhc3NldHMuXG4gICAgLyogdHNsaW50OmRpc2FibGUgKi9cbiAgICBsZXQgZmV0Y2hNb2QgPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XG4gICAgRkVUQ0ggPSAoX2EgPSBnbG9iYWwuZmV0Y2gsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmZXRjaE1vZCkpO1xuICAgIFJFUVVFU1QgPSAoX2IgPSBnbG9iYWwuUmVxdWVzdCwgKF9iICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZldGNoTW9kLlJlcXVlc3QpKTtcbiAgICBIRUFERVJTID0gKF9jID0gZ2xvYmFsLkhlYWRlcnMsIChfYyAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmZXRjaE1vZC5IZWFkZXJzKSk7XG4gICAgV0VCU09DS0VUID0gcmVxdWlyZSgnd3MnKTtcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlICovXG59XG5lbHNlIHtcbiAgICBGRVRDSCA9IGZldGNoO1xuICAgIFJFUVVFU1QgPSBSZXF1ZXN0O1xuICAgIEhFQURFUlMgPSBIZWFkZXJzO1xuICAgIFdFQlNPQ0tFVCA9IFdlYlNvY2tldDtcbn1cbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgU2VydmVyQ29ubmVjdGlvbiBmdW5jdGlvbnMuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogVGhpcyBpcyBvbmx5IGludGVuZGVkIHRvIG1hbmFnZSBjb21tdW5pY2F0aW9uIHdpdGggdGhlIEp1cHl0ZXIgc2VydmVyLlxuICpcbiAqIFRoZSBkZWZhdWx0IHZhbHVlcyBjYW4gYmUgdXNlZCBpbiBhIEp1cHl0ZXJMYWIgb3IgSnVweXRlciBOb3RlYm9vayBjb250ZXh0LlxuICpcbiAqIFdlIHVzZSBgdG9rZW5gIGF1dGhlbnRpY2F0aW9uIGlmIGF2YWlsYWJsZSwgZmFsbGluZyBiYWNrIG9uIGFuIFhTUkZcbiAqIGNvb2tpZSBpZiBvbmUgaGFzIGJlZW4gcHJvdmlkZWQgb24gdGhlIGBkb2N1bWVudGAuXG4gKlxuICogQSBjb250ZW50IHR5cGUgb2YgYCdhcHBsaWNhdGlvbi9qc29uJ2AgaXMgYWRkZWQgd2hlbiB1c2luZyBhdXRoZW50aWNhdGlvblxuICogYW5kIHRoZXJlIGlzIG5vIGJvZHkgZGF0YSB0byBhbGxvdyB0aGUgc2VydmVyIHRvIHByZXZlbnQgbWFsaWNpb3VzIGZvcm1zLlxuICovXG52YXIgU2VydmVyQ29ubmVjdGlvbjtcbihmdW5jdGlvbiAoU2VydmVyQ29ubmVjdGlvbikge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHNldHRpbmdzIG9iamVjdCBnaXZlbiBhIHN1YnNldCBvZiBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25hbCBwYXJ0aWFsIHNldCBvZiBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGZ1bGwgc2V0dGluZ3Mgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1ha2VTZXR0aW5ncyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBQcml2YXRlLm1ha2VTZXR0aW5ncyhvcHRpb25zKTtcbiAgICB9XG4gICAgU2VydmVyQ29ubmVjdGlvbi5tYWtlU2V0dGluZ3MgPSBtYWtlU2V0dGluZ3M7XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiByZXF1ZXN0IHRvIHRoZSBub3RlYm9vayBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXJsIC0gVGhlIHVybCBmb3IgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5pdCAtIFRoZSBpbml0aWFsaXphdGlvbiBvcHRpb25zIGZvciB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzZXR0aW5ncyAtIFRoZSBzZXJ2ZXIgc2V0dGluZ3MgdG8gYXBwbHkgdG8gdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgSWYgdGhlIHVybCBvZiB0aGUgcmVxdWVzdCBpcyBub3QgYSBub3RlYm9vayBzZXJ2ZXIgdXJsLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBgdXJsYCBtdXN0IHN0YXJ0IHdpdGggYHNldHRpbmdzLmJhc2VVcmxgLiAgVGhlIGBpbml0YCBzZXR0aW5ncyBhcmVcbiAgICAgKiBtZXJnZWQgd2l0aCBgc2V0dGluZ3MuaW5pdGAsIHdpdGggYGluaXRgIHRha2luZyBwcmVjZWRlbmNlLlxuICAgICAqIFRoZSBoZWFkZXJzIGluIHRoZSB0d28gb2JqZWN0cyBhcmUgbm90IG1lcmdlZC5cbiAgICAgKiBJZiB0aGVyZSBpcyBubyBib2R5IGRhdGEsIHdlIHNldCB0aGUgY29udGVudCB0eXBlIHRvIGBhcHBsaWNhdGlvbi9qc29uYFxuICAgICAqIGJlY2F1c2UgaXQgaXMgcmVxdWlyZWQgYnkgdGhlIE5vdGVib29rIHNlcnZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYWtlUmVxdWVzdCh1cmwsIGluaXQsIHNldHRpbmdzKSB7XG4gICAgICAgIHJldHVybiBQcml2YXRlLmhhbmRsZVJlcXVlc3QodXJsLCBpbml0LCBzZXR0aW5ncyk7XG4gICAgfVxuICAgIFNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QgPSBtYWtlUmVxdWVzdDtcbiAgICAvKipcbiAgICAgKiBBIHdyYXBwZWQgZXJyb3IgZm9yIGEgZmV0Y2ggcmVzcG9uc2UuXG4gICAgICovXG4gICAgY2xhc3MgUmVzcG9uc2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyByZXNwb25zZSBlcnJvci5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKHJlc3BvbnNlLCBtZXNzYWdlID0gYEludmFsaWQgcmVzcG9uc2U6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCkge1xuICAgICAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yID0gUmVzcG9uc2VFcnJvcjtcbiAgICAvKipcbiAgICAgKiBBIHdyYXBwZWQgZXJyb3IgZm9yIGEgbmV0d29yayBlcnJvci5cbiAgICAgKi9cbiAgICBjbGFzcyBOZXR3b3JrRXJyb3IgZXh0ZW5kcyBUeXBlRXJyb3Ige1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbmV3IG5ldHdvcmsgZXJyb3IuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcihvcmlnaW5hbCkge1xuICAgICAgICAgICAgc3VwZXIob3JpZ2luYWwubWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gb3JpZ2luYWwuc3RhY2s7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU2VydmVyQ29ubmVjdGlvbi5OZXR3b3JrRXJyb3IgPSBOZXR3b3JrRXJyb3I7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc2V0dGluZ3MuXG4gICAgICovXG4gICAgU2VydmVyQ29ubmVjdGlvbi5kZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgICAgIGJhc2VVcmw6IGNvcmV1dGlsc18xLlBhZ2VDb25maWcuZ2V0QmFzZVVybCgpLFxuICAgICAgICBhcHBVcmw6IGNvcmV1dGlsc18xLlBhZ2VDb25maWcuZ2V0T3B0aW9uKCdhcHBVcmwnKSxcbiAgICAgICAgd3NVcmw6IGNvcmV1dGlsc18xLlBhZ2VDb25maWcuZ2V0V3NVcmwoKSxcbiAgICAgICAgdG9rZW46IGNvcmV1dGlsc18xLlBhZ2VDb25maWcuZ2V0VG9rZW4oKSxcbiAgICAgICAgaW5pdDogeyBjYWNoZTogJ25vLXN0b3JlJywgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSxcbiAgICAgICAgZmV0Y2g6IEZFVENILFxuICAgICAgICBIZWFkZXJzOiBIRUFERVJTLFxuICAgICAgICBSZXF1ZXN0OiBSRVFVRVNULFxuICAgICAgICBXZWJTb2NrZXQ6IFdFQlNPQ0tFVFxuICAgIH07XG59KShTZXJ2ZXJDb25uZWN0aW9uID0gZXhwb3J0cy5TZXJ2ZXJDb25uZWN0aW9uIHx8IChleHBvcnRzLlNlcnZlckNvbm5lY3Rpb24gPSB7fSkpO1xuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBtb2R1bGUgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgc2VydmVyIGNvbm5lY3Rpb24gc2V0dGluZ3MsIHJldHVybmluZyBhIG5ldyB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYWtlU2V0dGluZ3Mob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTZXR0aW5ncyA9IFNlcnZlckNvbm5lY3Rpb24uZGVmYXVsdFNldHRpbmdzO1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gY29yZXV0aWxzXzEuVVJMRXh0Lm5vcm1hbGl6ZShvcHRpb25zLmJhc2VVcmwpIHx8IGRlZmF1bHRTZXR0aW5ncy5iYXNlVXJsO1xuICAgICAgICBsZXQgd3NVcmwgPSBvcHRpb25zLndzVXJsO1xuICAgICAgICAvLyBQcmVmZXIgdGhlIGRlZmF1bHQgd3NVcmwgaWYgd2UgYXJlIHVzaW5nIHRoZSBkZWZhdWx0IGJhc2VVcmwuXG4gICAgICAgIGlmICghd3NVcmwgJiYgYmFzZVVybCA9PT0gZGVmYXVsdFNldHRpbmdzLmJhc2VVcmwpIHtcbiAgICAgICAgICAgIHdzVXJsID0gZGVmYXVsdFNldHRpbmdzLndzVXJsO1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSBjb252ZXJ0IHRoZSBiYXNlVXJsIHRvIGEgd3NVcmwgaWYgcG9zc2libGUuXG4gICAgICAgIGlmICghd3NVcmwgJiYgYmFzZVVybC5pbmRleE9mKCdodHRwJykgPT09IDApIHtcbiAgICAgICAgICAgIHdzVXJsID0gJ3dzJyArIGJhc2VVcmwuc2xpY2UoNCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3RoZXJ3aXNlIGZhbGwgYmFjayBvbiB0aGUgZGVmYXVsdCB3c1VybC5cbiAgICAgICAgd3NVcmwgPSAod3NVcmwgIT09IG51bGwgJiYgd3NVcmwgIT09IHZvaWQgMCA/IHdzVXJsIDogZGVmYXVsdFNldHRpbmdzLndzVXJsKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U2V0dGluZ3MpLCBvcHRpb25zKSwgeyB3c1VybCB9KTtcbiAgICB9XG4gICAgUHJpdmF0ZS5tYWtlU2V0dGluZ3MgPSBtYWtlU2V0dGluZ3M7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cmwgLSBUaGUgdXJsIGZvciB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbml0IC0gVGhlIG92ZXJyaWRlcyBmb3IgdGhlIHJlcXVlc3QgaW5pdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzZXR0aW5ncyAtIFRoZSBzZXR0aW5ncyBvYmplY3QgZm9yIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBgdXJsYCBtdXN0IHN0YXJ0IHdpdGggYHNldHRpbmdzLmJhc2VVcmxgLiAgVGhlIGBpbml0YCBzZXR0aW5nc1xuICAgICAqIHRha2UgcHJlY2VkZW5jZSBvdmVyIGBzZXR0aW5ncy5pbml0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0KHVybCwgaW5pdCwgc2V0dGluZ3MpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgLy8gSGFuZGxlIG5vdGVib29rIHNlcnZlciByZXF1ZXN0cy5cbiAgICAgICAgaWYgKHVybC5pbmRleE9mKHNldHRpbmdzLmJhc2VVcmwpICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IGJlIHVzZWQgZm9yIG5vdGVib29rIHNlcnZlciByZXF1ZXN0cycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzZSBleHBsaWNpdCBjYWNoZSBidXN0ZXIgd2hlbiBgbm8tc3RvcmVgIGlzIHNldCBzaW5jZVxuICAgICAgICAvLyBub3QgYWxsIGJyb3dzZXJzIHVzZSBpdCBwcm9wZXJseS5cbiAgICAgICAgY29uc3QgY2FjaGUgPSAoX2EgPSBpbml0LmNhY2hlLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc2V0dGluZ3MuaW5pdC5jYWNoZSkpO1xuICAgICAgICBpZiAoY2FjaGUgPT09ICduby1zdG9yZScpIHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9Vc2luZ19YTUxIdHRwUmVxdWVzdCNCeXBhc3NpbmdfdGhlX2NhY2hlXG4gICAgICAgICAgICB1cmwgKz0gKC9cXD8vLnRlc3QodXJsKSA/ICcmJyA6ICc/JykgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IHNldHRpbmdzLlJlcXVlc3QodXJsLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzLmluaXQpLCBpbml0KSk7XG4gICAgICAgIC8vIEhhbmRsZSBhdXRoZW50aWNhdGlvbi4gQXV0aGVudGljYXRpb24gY2FuIGJlIG92ZXJkZXRlcm1pbmVkIGJ5XG4gICAgICAgIC8vIHNldHRpbmdzIHRva2VuIGFuZCBYU1JGIHRva2VuLlxuICAgICAgICBsZXQgYXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoc2V0dGluZ3MudG9rZW4pIHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLmFwcGVuZCgnQXV0aG9yaXphdGlvbicsIGB0b2tlbiAke3NldHRpbmdzLnRva2VufWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmICgoX2IgPSBkb2N1bWVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNvb2tpZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHhzcmZUb2tlbiA9IGdldENvb2tpZSgnX3hzcmYnKTtcbiAgICAgICAgICAgIGlmICh4c3JmVG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5hcHBlbmQoJ1gtWFNSRlRva2VuJywgeHNyZlRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlIGNvbnRlbnQgdHlwZSBpZiB0aGVyZSBpcyBubyBnaXZlbiBkYXRhIGFuZCB3ZSBhcmVcbiAgICAgICAgLy8gdXNpbmcgYW4gYXV0aGVudGljYXRlZCBjb25uZWN0aW9uLlxuICAgICAgICBpZiAoIXJlcXVlc3QuYm9keVVzZWQgJiYgYXV0aGVudGljYXRlZCkge1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2UgYGNhbGxgIHRvIGF2b2lkIGEgYFR5cGVFcnJvcmAgaW4gdGhlIGJyb3dzZXIuXG4gICAgICAgIHJldHVybiBzZXR0aW5ncy5mZXRjaC5jYWxsKG51bGwsIHJlcXVlc3QpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBUeXBlRXJyb3IgaW50byBhIG1vcmUgc3BlY2lmaWMgZXJyb3IuXG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VydmVyQ29ubmVjdGlvbi5OZXR3b3JrRXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPOiAqdGhpcyogaXMgcHJvYmFibHkgd2hlcmUgd2UgbmVlZCBhIHN5c3RlbS13aWRlIGNvbm5lY3Rpb25GYWlsdXJlXG4gICAgICAgIC8vIHNpZ25hbCB3ZSBjYW4gaG9vayBpbnRvLlxuICAgIH1cbiAgICBQcml2YXRlLmhhbmRsZVJlcXVlc3QgPSBoYW5kbGVSZXF1ZXN0O1xuICAgIC8qKlxuICAgICAqIEdldCBhIGNvb2tpZSBmcm9tIHRoZSBkb2N1bWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIEZyb20gaHR0cDovL3d3dy50b3JuYWRvd2ViLm9yZy9lbi9zdGFibGUvZ3VpZGUvc2VjdXJpdHkuaHRtbFxuICAgICAgICBjb25zdCBtYXRjaGVzID0gZG9jdW1lbnQuY29va2llLm1hdGNoKCdcXFxcYicgKyBuYW1lICsgJz0oW147XSopXFxcXGInKTtcbiAgICAgICAgcmV0dXJuIChfYSA9IG1hdGNoZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVsxXTtcbiAgICB9XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZlcmNvbm5lY3Rpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzaWduYWxpbmdfMSA9IHJlcXVpcmUoXCJAbHVtaW5vL3NpZ25hbGluZ1wiKTtcbi8qKlxuICogQSBjbGFzcyB0aGF0IG1vbml0b3JzIGFjdGl2aXR5IG9uIGEgc2lnbmFsLlxuICovXG5jbGFzcyBBY3Rpdml0eU1vbml0b3Ige1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBhY3Rpdml0eSBtb25pdG9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSAtMTtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2FjdGl2aXR5U3RvcHBlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIG9wdGlvbnMuc2lnbmFsLmNvbm5lY3QodGhpcy5fb25TaWduYWxGaXJlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgMTAwMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIGFjdGl2aXR5IGhhcyBjZWFzZWQuXG4gICAgICovXG4gICAgZ2V0IGFjdGl2aXR5U3RvcHBlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2aXR5U3RvcHBlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRpbWVvdXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBtb25pdG9yLCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICovXG4gICAgZ2V0IHRpbWVvdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgIH1cbiAgICBzZXQgdGltZW91dCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0aGUgbW9uaXRvciBoYXMgYmVlbiBkaXNwb3NlZC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGEgcmVhZC1vbmx5IHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldCBpc0Rpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIHVzZWQgYnkgdGhlIGFjdGl2aXR5IG1vbml0b3IuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgc2lnbmFsaW5nXzEuU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgaGFuZGxlciBmb3IgdGhlIG1vbml0b3JlZCBzaWduYWwuXG4gICAgICovXG4gICAgX29uU2lnbmFsRmlyZWQoc2VuZGVyLCBhcmdzKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgICAgIHRoaXMuX3NlbmRlciA9IHNlbmRlcjtcbiAgICAgICAgdGhpcy5fYXJncyA9IGFyZ3M7XG4gICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hY3Rpdml0eVN0b3BwZWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLl9zZW5kZXIsXG4gICAgICAgICAgICAgICAgYXJnczogdGhpcy5fYXJnc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRoaXMuX3RpbWVvdXQpO1xuICAgIH1cbn1cbmV4cG9ydHMuQWN0aXZpdHlNb25pdG9yID0gQWN0aXZpdHlNb25pdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWN0aXZpdHltb25pdG9yLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTIwIDZoLThsLTItMkg0Yy0xLjExIDAtMS45OS44OS0xLjk5IDJMMiAxOGMwIDEuMTEuODkgMiAyIDJoMTZjMS4xMSAwIDItLjg5IDItMlY4YzAtMS4xMS0uODktMi0yLTJ6bS0xIDhoLTN2M2gtMnYtM2gtM3YtMmgzVjloMnYzaDN2MnonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNMjAgNmgtOGwtMi0ySDRjLTEuMTEgMC0xLjk5Ljg5LTEuOTkgMkwyIDE4YzAgMS4xMS44OSAyIDIgMmgxNmMxLjExIDAgMi0uODkgMi0yVjhjMC0xLjExLS44OS0yLTItMnptLTEgOGgtM3YzaC0ydi0zaC0zdi0yaDNWOWgydjNoM3YyelxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIEltcG9ydHNcbnZhciBnZXRVcmwgPSByZXF1aXJlKFwiLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzBfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci9hZGQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzFfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci9idWcuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzJfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvc2lkZWJhci9idWlsZC5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fM19fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9hcnJvdy9jYXJldC1kb3duLWVtcHR5LXRoaW4uc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzRfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvYXJyb3cvY2FyZXQtZG93bi1lbXB0eS5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNV9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9hcnJvdy9jYXJldC1kb3duLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX182X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2Fycm93L2NhcmV0LWxlZnQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzdfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvYXJyb3cvY2FyZXQtcmlnaHQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzhfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvYXJyb3cvY2FyZXQtdXAtZW1wdHktdGhpbi5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fOV9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9hcnJvdy9jYXJldC11cC5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMTBfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvc2VhcmNoL2Nhc2Utc2Vuc2l0aXZlLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18xMV9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy90b29sYmFyL2NoZWNrLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18xMl9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy90b29sYmFyL2NpcmNsZS1lbXB0eS5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMTNfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci9jaXJjbGUuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzE0X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3Rvb2xiYXIvY2xvc2Uuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzE1X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL2NvbnNvbGUuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzE2X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3Rvb2xiYXIvY29weS5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMTdfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci9jdXQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzE4X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3Rvb2xiYXIvZG93bmxvYWQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzE5X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3Rvb2xiYXIvZWRpdC5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMjBfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci9lbGxpcHNlcy5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMjFfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvc2lkZWJhci9leHRlbnNpb24uc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzIyX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3Rvb2xiYXIvZmlsZS11cGxvYWQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzIzX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL2ZpbGUuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzI0X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3Rvb2xiYXIvZmlsdGVyLWxpc3Quc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzI1X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL2ZvbGRlci5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMjZfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvZmlsZXR5cGUvaHRtbDUuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzI3X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL2ltYWdlLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18yOF9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9maWxldHlwZS9pbnNwZWN0b3Iuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzI5X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL2pzb24uc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzMwX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2p1cHl0ZXIvanVweXRlci1mYXZpY29uLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18zMV9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9qdXB5dGVyL2p1cHl0ZXIuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzMyX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2p1cHl0ZXIvanVweXRlcmxhYi13b3JkbWFyay5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMzNfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvc3RhdHVzYmFyL2tlcm5lbC5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fMzRfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvZmlsZXR5cGUva2V5Ym9hcmQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzM1X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL2xhdW5jaGVyLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18zNl9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9zdGF0dXNiYXIvbGluZS1mb3JtLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18zN19fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy90b29sYmFyL2xpbmsuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzM4X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3N0YXR1c2Jhci9saXN0LnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18zOV9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9maWxldHlwZS9tYXJrZG93bi5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNDBfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci9uZXctZm9sZGVyLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX180MV9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9zdGF0dXNiYXIvbm90LXRydXN0ZWQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzQyX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL25vdGVib29rLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX180M19fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9zaWRlYmFyL3BhbGV0dGUuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzQ0X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3Rvb2xiYXIvcGFzdGUuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzQ1X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL3B5dGhvbi5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNDZfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvZmlsZXR5cGUvci1rZXJuZWwuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzQ3X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL3JlYWN0LnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX180OF9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy90b29sYmFyL3JlZnJlc2guc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzQ5X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3NlYXJjaC9yZWdleC5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNTBfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci9ydW4uc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzUxX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3NpZGViYXIvcnVubmluZy5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNTJfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci9zYXZlLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX181M19fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy90b29sYmFyL3NlYXJjaC5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNTRfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvZmlsZXR5cGUvc2V0dGluZ3Muc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzU1X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL3NwcmVhZHNoZWV0LnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX181Nl9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy90b29sYmFyL3N0b3Auc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzU3X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL3NpZGViYXIvdGFiLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX181OF9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9zdGF0dXNiYXIvdGVybWluYWwuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzU5X19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2ljb25zL2ZpbGV0eXBlL3RleHQtZWRpdG9yLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX182MF9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9zdGF0dXNiYXIvdHJ1c3RlZC5zdmdcIikpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX19fNjFfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vaWNvbnMvdG9vbGJhci91bmRvLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX182Ml9fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9maWxldHlwZS92ZWdhLnN2Z1wiKSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX182M19fXyA9IGdldFVybChyZXF1aXJlKFwiLi9pY29ucy9maWxldHlwZS95YW1sLnN2Z1wiKSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG58IENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxcbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLyogVGhpcyBmaWxlIHdhcyBhdXRvLWdlbmVyYXRlZCBieSBlbnN1cmVVaUNvbXBvbmVudHMoKSBpbiBAanVweXRlcmxhYi9idWlsZHV0aWxzICovXFxuXFxuLyoqXFxuICogKERFUFJFQ0FURUQpIFN1cHBvcnQgZm9yIGNvbnN1bWluZyBpY29ucyBhcyBDU1MgYmFja2dyb3VuZCBpbWFnZXNcXG4gKi9cXG5cXG4vKiBJY29ucyB1cmxzICovXFxuXFxuOnJvb3Qge1xcbiAgLS1qcC1pY29uLWFkZDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLWJ1ZzogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18xX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLWJ1aWxkOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzJfX18gKyBcIik7XFxuICAtLWpwLWljb24tY2FyZXQtZG93bi1lbXB0eS10aGluOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzNfX18gKyBcIik7XFxuICAtLWpwLWljb24tY2FyZXQtZG93bi1lbXB0eTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX180X19fICsgXCIpO1xcbiAgLS1qcC1pY29uLWNhcmV0LWRvd246IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNV9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1jYXJldC1sZWZ0OiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzZfX18gKyBcIik7XFxuICAtLWpwLWljb24tY2FyZXQtcmlnaHQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fN19fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1jYXJldC11cC1lbXB0eS10aGluOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzhfX18gKyBcIik7XFxuICAtLWpwLWljb24tY2FyZXQtdXA6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fOV9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1jYXNlLXNlbnNpdGl2ZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18xMF9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1jaGVjazogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18xMV9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1jaXJjbGUtZW1wdHk6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMTJfX18gKyBcIik7XFxuICAtLWpwLWljb24tY2lyY2xlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzEzX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLWNsb3NlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzE0X19fICsgXCIpO1xcbiAgLS1qcC1pY29uLWNvbnNvbGU6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMTVfX18gKyBcIik7XFxuICAtLWpwLWljb24tY29weTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18xNl9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1jdXQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMTdfX18gKyBcIik7XFxuICAtLWpwLWljb24tZG93bmxvYWQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMThfX18gKyBcIik7XFxuICAtLWpwLWljb24tZWRpdDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18xOV9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1lbGxpcHNlczogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18yMF9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1leHRlbnNpb246IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMjFfX18gKyBcIik7XFxuICAtLWpwLWljb24tZmlsZS11cGxvYWQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMjJfX18gKyBcIik7XFxuICAtLWpwLWljb24tZmlsZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18yM19fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1maWx0ZXItbGlzdDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18yNF9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1mb2xkZXI6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMjVfX18gKyBcIik7XFxuICAtLWpwLWljb24taHRtbDU6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMjZfX18gKyBcIik7XFxuICAtLWpwLWljb24taW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMjdfX18gKyBcIik7XFxuICAtLWpwLWljb24taW5zcGVjdG9yOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzI4X19fICsgXCIpO1xcbiAgLS1qcC1pY29uLWpzb246IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMjlfX18gKyBcIik7XFxuICAtLWpwLWljb24tanVweXRlci1mYXZpY29uOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzMwX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLWp1cHl0ZXI6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMzFfX18gKyBcIik7XFxuICAtLWpwLWljb24tanVweXRlcmxhYi13b3JkbWFyazogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18zMl9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1rZXJuZWw6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMzNfX18gKyBcIik7XFxuICAtLWpwLWljb24ta2V5Ym9hcmQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMzRfX18gKyBcIik7XFxuICAtLWpwLWljb24tbGF1bmNoZXI6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMzVfX18gKyBcIik7XFxuICAtLWpwLWljb24tbGluZS1mb3JtOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzM2X19fICsgXCIpO1xcbiAgLS1qcC1pY29uLWxpbms6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fMzdfX18gKyBcIik7XFxuICAtLWpwLWljb24tbGlzdDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18zOF9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1tYXJrZG93bjogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18zOV9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1uZXctZm9sZGVyOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzQwX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLW5vdC10cnVzdGVkOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzQxX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLW5vdGVib29rOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzQyX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLXBhbGV0dGU6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNDNfX18gKyBcIik7XFxuICAtLWpwLWljb24tcGFzdGU6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNDRfX18gKyBcIik7XFxuICAtLWpwLWljb24tcHl0aG9uOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzQ1X19fICsgXCIpO1xcbiAgLS1qcC1pY29uLXIta2VybmVsOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzQ2X19fICsgXCIpO1xcbiAgLS1qcC1pY29uLXJlYWN0OiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzQ3X19fICsgXCIpO1xcbiAgLS1qcC1pY29uLXJlZnJlc2g6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNDhfX18gKyBcIik7XFxuICAtLWpwLWljb24tcmVnZXg6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNDlfX18gKyBcIik7XFxuICAtLWpwLWljb24tcnVuOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzUwX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLXJ1bm5pbmc6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNTFfX18gKyBcIik7XFxuICAtLWpwLWljb24tc2F2ZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX181Ml9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi1zZWFyY2g6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNTNfX18gKyBcIik7XFxuICAtLWpwLWljb24tc2V0dGluZ3M6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNTRfX18gKyBcIik7XFxuICAtLWpwLWljb24tc3ByZWFkc2hlZXQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNTVfX18gKyBcIik7XFxuICAtLWpwLWljb24tc3RvcDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX181Nl9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi10YWI6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNTdfX18gKyBcIik7XFxuICAtLWpwLWljb24tdGVybWluYWw6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNThfX18gKyBcIik7XFxuICAtLWpwLWljb24tdGV4dC1lZGl0b3I6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNTlfX18gKyBcIik7XFxuICAtLWpwLWljb24tdHJ1c3RlZDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX182MF9fXyArIFwiKTtcXG4gIC0tanAtaWNvbi11bmRvOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9fXzYxX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLXZlZ2E6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX19fNjJfX18gKyBcIik7XFxuICAtLWpwLWljb24teWFtbDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX182M19fXyArIFwiKTtcXG59XFxuXFxuLyogSWNvbiBDU1MgY2xhc3MgZGVjbGFyYXRpb25zICovXFxuXFxuLmpwLUFkZEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1hZGQpO1xcbn1cXG4uanAtQnVnSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWJ1Zyk7XFxufVxcbi5qcC1CdWlsZEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1idWlsZCk7XFxufVxcbi5qcC1DYXJldERvd25FbXB0eUljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1jYXJldC1kb3duLWVtcHR5KTtcXG59XFxuLmpwLUNhcmV0RG93bkVtcHR5VGhpbkljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1jYXJldC1kb3duLWVtcHR5LXRoaW4pO1xcbn1cXG4uanAtQ2FyZXREb3duSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNhcmV0LWRvd24pO1xcbn1cXG4uanAtQ2FyZXRMZWZ0SWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNhcmV0LWxlZnQpO1xcbn1cXG4uanAtQ2FyZXRSaWdodEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1jYXJldC1yaWdodCk7XFxufVxcbi5qcC1DYXJldFVwRW1wdHlUaGluSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNhcmV0LXVwLWVtcHR5LXRoaW4pO1xcbn1cXG4uanAtQ2FyZXRVcEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1jYXJldC11cCk7XFxufVxcbi5qcC1DYXNlU2Vuc2l0aXZlSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNhc2Utc2Vuc2l0aXZlKTtcXG59XFxuLmpwLUNoZWNrSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNoZWNrKTtcXG59XFxuLmpwLUNpcmNsZUVtcHR5SWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNpcmNsZS1lbXB0eSk7XFxufVxcbi5qcC1DaXJjbGVJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tY2lyY2xlKTtcXG59XFxuLmpwLUNsb3NlSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNsb3NlKTtcXG59XFxuLmpwLUNvbnNvbGVJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tY29uc29sZSk7XFxufVxcbi5qcC1Db3B5SWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWNvcHkpO1xcbn1cXG4uanAtQ3V0SWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWN1dCk7XFxufVxcbi5qcC1Eb3dubG9hZEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1kb3dubG9hZCk7XFxufVxcbi5qcC1FZGl0SWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWVkaXQpO1xcbn1cXG4uanAtRWxsaXBzZXNJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tZWxsaXBzZXMpO1xcbn1cXG4uanAtRXh0ZW5zaW9uSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWV4dGVuc2lvbik7XFxufVxcbi5qcC1GaWxlSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWZpbGUpO1xcbn1cXG4uanAtRmlsZVVwbG9hZEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1maWxlLXVwbG9hZCk7XFxufVxcbi5qcC1GaWx0ZXJMaXN0SWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWZpbHRlci1saXN0KTtcXG59XFxuLmpwLUZvbGRlckljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1mb2xkZXIpO1xcbn1cXG4uanAtSHRtbDVJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24taHRtbDUpO1xcbn1cXG4uanAtSW1hZ2VJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24taW1hZ2UpO1xcbn1cXG4uanAtSW5zcGVjdG9ySWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWluc3BlY3Rvcik7XFxufVxcbi5qcC1Kc29uSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWpzb24pO1xcbn1cXG4uanAtSnVweXRlckZhdmljb25JY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tanVweXRlci1mYXZpY29uKTtcXG59XFxuLmpwLUp1cHl0ZXJJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tanVweXRlcik7XFxufVxcbi5qcC1KdXB5dGVybGFiV29yZG1hcmtJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tanVweXRlcmxhYi13b3JkbWFyayk7XFxufVxcbi5qcC1LZXJuZWxJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24ta2VybmVsKTtcXG59XFxuLmpwLUtleWJvYXJkSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWtleWJvYXJkKTtcXG59XFxuLmpwLUxhdW5jaGVySWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWxhdW5jaGVyKTtcXG59XFxuLmpwLUxpbmVGb3JtSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWxpbmUtZm9ybSk7XFxufVxcbi5qcC1MaW5rSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLWxpbmspO1xcbn1cXG4uanAtTGlzdEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1saXN0KTtcXG59XFxuLmpwLU1hcmtkb3duSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLW1hcmtkb3duKTtcXG59XFxuLmpwLU5ld0ZvbGRlckljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1uZXctZm9sZGVyKTtcXG59XFxuLmpwLU5vdFRydXN0ZWRJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tbm90LXRydXN0ZWQpO1xcbn1cXG4uanAtTm90ZWJvb2tJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tbm90ZWJvb2spO1xcbn1cXG4uanAtUGFsZXR0ZUljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1wYWxldHRlKTtcXG59XFxuLmpwLVBhc3RlSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLXBhc3RlKTtcXG59XFxuLmpwLVB5dGhvbkljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1weXRob24pO1xcbn1cXG4uanAtUktlcm5lbEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1yLWtlcm5lbCk7XFxufVxcbi5qcC1SZWFjdEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1yZWFjdCk7XFxufVxcbi5qcC1SZWZyZXNoSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLXJlZnJlc2gpO1xcbn1cXG4uanAtUmVnZXhJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tcmVnZXgpO1xcbn1cXG4uanAtUnVuSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLXJ1bik7XFxufVxcbi5qcC1SdW5uaW5nSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLXJ1bm5pbmcpO1xcbn1cXG4uanAtU2F2ZUljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1zYXZlKTtcXG59XFxuLmpwLVNlYXJjaEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1zZWFyY2gpO1xcbn1cXG4uanAtU2V0dGluZ3NJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tc2V0dGluZ3MpO1xcbn1cXG4uanAtU3ByZWFkc2hlZXRJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tc3ByZWFkc2hlZXQpO1xcbn1cXG4uanAtU3RvcEljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi1zdG9wKTtcXG59XFxuLmpwLVRhYkljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi10YWIpO1xcbn1cXG4uanAtVGVybWluYWxJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tdGVybWluYWwpO1xcbn1cXG4uanAtVGV4dEVkaXRvckljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi10ZXh0LWVkaXRvcik7XFxufVxcbi5qcC1UcnVzdGVkSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLXRydXN0ZWQpO1xcbn1cXG4uanAtVW5kb0ljb24ge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdmFyKC0tanAtaWNvbi11bmRvKTtcXG59XFxuLmpwLVZlZ2FJY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tdmVnYSk7XFxufVxcbi5qcC1ZYW1sSWNvbiB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1qcC1pY29uLXlhbWwpO1xcbn1cXG5cIiwgXCJcIl0pO1xuIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NlcyB9IGZyb20gJ3R5cGVzdHlsZS9saWInO1xuaW1wb3J0IHsgdGV4dEl0ZW0gfSBmcm9tICcuLi9zdHlsZS90ZXh0Jztcbi8qKlxuICogQSBmdW5jdGlvbmFsIHRzeCBjb21wb25lbnQgZm9yIGEgdGV4dCBpdGVtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gVGV4dEl0ZW0ocHJvcHMpIHtcbiAgICBjb25zdCB7IHRpdGxlLCBzb3VyY2UsIGNsYXNzTmFtZSB9ID0gcHJvcHMsIHJlc3QgPSBfX3Jlc3QocHJvcHMsIFtcInRpdGxlXCIsIFwic291cmNlXCIsIFwiY2xhc3NOYW1lXCJdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIE9iamVjdC5hc3NpZ24oeyBjbGFzc05hbWU6IGNsYXNzZXModGV4dEl0ZW0sIGNsYXNzTmFtZSksIHRpdGxlOiB0aXRsZSB9LCByZXN0KSwgc291cmNlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDE4IDE4JyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMycgZmlsbD0nJTIzNjE2MTYxJyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbiclM0UgJTNDcGF0aCBkPSdNNS4yLDUuOUw5LDkuN2wzLjgtMy44bDEuMiwxLjJsLTQuOSw1bC00LjktNUw1LjIsNS45eicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxOCAxOFxcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiIHNoYXBlLXJlbmRlcmluZz1cXFwiZ2VvbWV0cmljUHJlY2lzaW9uXFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTUuMiw1LjlMOSw5LjdsMy44LTMuOGwxLjIsMS4ybC00LjksNWwtNC45LTVMNS4yLDUuOXpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBJbXBvcnRzXG52YXIgZ2V0VXJsID0gcmVxdWlyZShcIi4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuL2RlcHJlY2F0ZWQvY2hlY2stZGlzYWJsZWQuc3ZnXCIpKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9fXzFfX18gPSBnZXRVcmwocmVxdWlyZShcIi4vZGVwcmVjYXRlZC9zZWFyY2gtd2hpdGUuc3ZnXCIpKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXFxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKipcXG4gKiAoREVQUkVDQVRFRCkgU3VwcG9ydCBmb3IgY29uc3VtaW5nIGljb25zIGFzIENTUyBiYWNrZ3JvdW5kIGltYWdlc1xcbiAqL1xcblxcbjpyb290IHtcXG4gIC0tanAtaWNvbi1jaGVjay1kaXNhYmxlZDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fICsgXCIpO1xcbiAgLS1qcC1pY29uLXNlYXJjaC13aGl0ZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18xX19fICsgXCIpO1xcbn1cXG5cIiwgXCJcIl0pO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTggMTgnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnIHNoYXBlLXJlbmRlcmluZz0nZ2VvbWV0cmljUHJlY2lzaW9uJyUzRSAlM0NwYXRoIGQ9J001LjIsNy41TDksMTEuMmwzLjgtMy44SDUuMnonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPlxcbiAgPGcgY2xhc3M9XFxcImpwLWljb24zXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIiBzaGFwZS1yZW5kZXJpbmc9XFxcImdlb21ldHJpY1ByZWNpc2lvblxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk01LjIsNy41TDksMTEuMmwzLjgtMy44SDUuMnpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vbWVudF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJtb21lbnRcIikpO1xuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBkYXRlIGZ1bmN0aW9ucy5cbiAqL1xudmFyIFRpbWU7XG4oZnVuY3Rpb24gKFRpbWUpIHtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgdGltZXN0cmluZyB0byBhIGh1bWFuIHJlYWRhYmxlIHN0cmluZyAoZS5nLiAndHdvIG1pbnV0ZXMgYWdvJykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgZGF0ZSB0aW1lc3RyaW5nIG9yIGRhdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBmb3JtYXR0ZWQgZGF0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JtYXRIdW1hbih2YWx1ZSkge1xuICAgICAgICBsZXQgdGltZSA9IG1vbWVudF8xLmRlZmF1bHQodmFsdWUpLmZyb21Ob3coKTtcbiAgICAgICAgdGltZSA9IHRpbWUgPT09ICdhIGZldyBzZWNvbmRzIGFnbycgPyAnc2Vjb25kcyBhZ28nIDogdGltZTtcbiAgICAgICAgcmV0dXJuIHRpbWU7XG4gICAgfVxuICAgIFRpbWUuZm9ybWF0SHVtYW4gPSBmb3JtYXRIdW1hbjtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgdGltZXN0cmluZyB0byBhIGRhdGUgZm9ybWF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGRhdGUgdGltZXN0cmluZyBvciBkYXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmb3JtYXQgLSBUaGUgZm9ybWF0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgZm9ybWF0dGVkIGRhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBmb3JtYXQgPSAnWVlZWS1NTS1ERCBISDptbScpIHtcbiAgICAgICAgcmV0dXJuIG1vbWVudF8xLmRlZmF1bHQodmFsdWUpLmZvcm1hdChmb3JtYXQpO1xuICAgIH1cbiAgICBUaW1lLmZvcm1hdCA9IGZvcm1hdDtcbn0pKFRpbWUgPSBleHBvcnRzLlRpbWUgfHwgKGV4cG9ydHMuVGltZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29yZXV0aWxzXzEgPSByZXF1aXJlKFwiQGp1cHl0ZXJsYWIvY29yZXV0aWxzXCIpO1xuY29uc3Qgc3RhdGVkYl8xID0gcmVxdWlyZShcIkBqdXB5dGVybGFiL3N0YXRlZGJcIik7XG5jb25zdCBzZXJ2ZXJjb25uZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vc2VydmVyY29ubmVjdGlvblwiKTtcbi8qKlxuICogVGhlIHVybCBmb3IgdGhlIGxhYiBzZXR0aW5ncyBzZXJ2aWNlLlxuICovXG5jb25zdCBTRVJWSUNFX1NFVFRJTkdTX1VSTCA9ICdhcGkvc2V0dGluZ3MnO1xuLyoqXG4gKiBUaGUgc2V0dGluZ3MgQVBJIHNlcnZpY2UgbWFuYWdlci5cbiAqL1xuY2xhc3MgU2V0dGluZ01hbmFnZXIgZXh0ZW5kcyBzdGF0ZWRiXzEuRGF0YUNvbm5lY3RvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHNldHRpbmcgbWFuYWdlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNlcnZlclNldHRpbmdzID0gKF9hID0gb3B0aW9ucy5zZXJ2ZXJTZXR0aW5ncywgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoIGEgcGx1Z2luJ3Mgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgLSBUaGUgcGx1Z2luJ3MgSUQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBpZiBzdWNjZXNzZnVsLlxuICAgICAqL1xuICAgIGFzeW5jIGZldGNoKGlkKSB7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGx1Z2luIGBpZGAgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGZvciBzZXR0aW5ncyBmZXRjaC4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHNlcnZlclNldHRpbmdzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGJhc2VVcmwsIGFwcFVybCB9ID0gc2VydmVyU2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IHsgbWFrZVJlcXVlc3QsIFJlc3BvbnNlRXJyb3IgfSA9IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uO1xuICAgICAgICBjb25zdCBiYXNlID0gYmFzZVVybCArIGFwcFVybDtcbiAgICAgICAgY29uc3QgdXJsID0gUHJpdmF0ZS51cmwoYmFzZSwgaWQpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VSZXF1ZXN0KHVybCwge30sIHNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXNzZXJ0IHdoYXQgdHlwZSB0aGUgc2VydmVyIHJlc3BvbnNlIGlzIHJldHVybmluZy5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2ggdGhlIGxpc3Qgb2YgYWxsIHBsdWdpbiBzZXR0aW5nIGJ1bmRsZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBpZiBzdWNjZXNzZnVsLlxuICAgICAqL1xuICAgIGFzeW5jIGxpc3QoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCB7IHNlcnZlclNldHRpbmdzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGJhc2VVcmwsIGFwcFVybCB9ID0gc2VydmVyU2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IHsgbWFrZVJlcXVlc3QsIFJlc3BvbnNlRXJyb3IgfSA9IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uO1xuICAgICAgICBjb25zdCBiYXNlID0gYmFzZVVybCArIGFwcFVybDtcbiAgICAgICAgY29uc3QgdXJsID0gUHJpdmF0ZS51cmwoYmFzZSwgJycpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VSZXF1ZXN0KHVybCwge30sIHNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gKF9jID0gKF9iID0gKF9hID0ganNvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWydzZXR0aW5ncyddKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWFwKChwbHVnaW4pID0+IHtcbiAgICAgICAgICAgIHBsdWdpbi5kYXRhID0geyBjb21wb3NpdGU6IHt9LCB1c2VyOiB7fSB9O1xuICAgICAgICAgICAgcmV0dXJuIHBsdWdpbjtcbiAgICAgICAgfSksIChfYyAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBbXSkpO1xuICAgICAgICBjb25zdCBpZHMgPSB2YWx1ZXMubWFwKHBsdWdpbiA9PiBwbHVnaW4uaWQpO1xuICAgICAgICByZXR1cm4geyBpZHMsIHZhbHVlcyB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXZlIGEgcGx1Z2luJ3Mgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgLSBUaGUgcGx1Z2luJ3MgSUQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmF3IC0gVGhlIHVzZXIgc2V0dGluZyB2YWx1ZXMgYXMgYSByYXcgc3RyaW5nIG9mIEpTT04gd2l0aCBjb21tZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGlmIHN1Y2Nlc3NmdWwuXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZShpZCwgcmF3KSB7XG4gICAgICAgIGNvbnN0IHsgc2VydmVyU2V0dGluZ3MgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgYmFzZVVybCwgYXBwVXJsIH0gPSBzZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgY29uc3QgeyBtYWtlUmVxdWVzdCwgUmVzcG9uc2VFcnJvciB9ID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb247XG4gICAgICAgIGNvbnN0IGJhc2UgPSBiYXNlVXJsICsgYXBwVXJsO1xuICAgICAgICBjb25zdCB1cmwgPSBQcml2YXRlLnVybChiYXNlLCBpZCk7XG4gICAgICAgIGNvbnN0IGluaXQgPSB7IGJvZHk6IHJhdywgbWV0aG9kOiAnUFVUJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VSZXF1ZXN0KHVybCwgaW5pdCwgc2VydmVyU2V0dGluZ3MpO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuU2V0dGluZ01hbmFnZXIgPSBTZXR0aW5nTWFuYWdlcjtcbi8qKlxuICogQSBuYW1lc3BhY2UgZm9yIHByaXZhdGUgZGF0YS5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHVybCBmb3IgYSBwbHVnaW4ncyBzZXR0aW5ncy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cmwoYmFzZSwgaWQpIHtcbiAgICAgICAgcmV0dXJuIGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKGJhc2UsIFNFUlZJQ0VfU0VUVElOR1NfVVJMLCBpZCk7XG4gICAgfVxuICAgIFByaXZhdGUudXJsID0gdXJsO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5leHBvcnQgKiBmcm9tICcuL2ljb25pbXBvcnRzJztcbmV4cG9ydCAqIGZyb20gJy4vbGFiaWNvbic7XG5leHBvcnQgKiBmcm9tICcuL3RhYmJhcnN2Zyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBlYWNoIH0gZnJvbSAnQGx1bWluby9hbGdvcml0aG0nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUxpc3QgfSBmcm9tICcuL29ic2VydmFibGVsaXN0Jztcbi8qKlxuICogQSBjb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBhbiBvYnNlcnZhYmxlIHVuZG9hYmxlIGxpc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlVW5kb2FibGVMaXN0IGV4dGVuZHMgT2JzZXJ2YWJsZUxpc3Qge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyB1bmRvYWJsZSBvYnNlcnZhYmxlIGxpc3QuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2VyaWFsaXplcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9pbkNvbXBvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzVW5kb2FibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9tYWRlQ29tcG91bmRDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5fc2VyaWFsaXplciA9IHNlcmlhbGl6ZXI7XG4gICAgICAgIHRoaXMuY2hhbmdlZC5jb25uZWN0KHRoaXMuX29uTGlzdENoYW5nZWQsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBvYmplY3QgY2FuIHJlZG8gY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgY2FuUmVkbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4IDwgdGhpcy5fc3RhY2subGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgb2JqZWN0IGNhbiB1bmRvIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGNhblVuZG8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA+PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZWdpbiBhIGNvbXBvdW5kIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpc1VuZG9BYmxlIC0gV2hldGhlciB0aGUgb3BlcmF0aW9uIGlzIHVuZG9hYmxlLlxuICAgICAqICAgVGhlIGRlZmF1bHQgaXMgYHRydWVgLlxuICAgICAqL1xuICAgIGJlZ2luQ29tcG91bmRPcGVyYXRpb24oaXNVbmRvQWJsZSkge1xuICAgICAgICB0aGlzLl9pbkNvbXBvdW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNVbmRvYWJsZSA9IGlzVW5kb0FibGUgIT09IGZhbHNlO1xuICAgICAgICB0aGlzLl9tYWRlQ29tcG91bmRDaGFuZ2UgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5kIGEgY29tcG91bmQgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGVuZENvbXBvdW5kT3BlcmF0aW9uKCkge1xuICAgICAgICB0aGlzLl9pbkNvbXBvdW5kID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzVW5kb2FibGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fbWFkZUNvbXBvdW5kQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbmRleCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuZG8gYW4gb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHVuZG8oKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW5VbmRvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoYW5nZXMgPSB0aGlzLl9zdGFja1t0aGlzLl9pbmRleF07XG4gICAgICAgIHRoaXMuX2lzVW5kb2FibGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNoYW5nZXMucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl91bmRvQ2hhbmdlKGNoYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNVbmRvYWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2luZGV4LS07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZG8gYW4gb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHJlZG8oKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW5SZWRvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5kZXgrKztcbiAgICAgICAgbGV0IGNoYW5nZXMgPSB0aGlzLl9zdGFja1t0aGlzLl9pbmRleF07XG4gICAgICAgIHRoaXMuX2lzVW5kb2FibGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgY2hhbmdlIG9mIGNoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZG9DaGFuZ2UoY2hhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1VuZG9hYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGNoYW5nZSBzdGFjay5cbiAgICAgKi9cbiAgICBjbGVhclVuZG8oKSB7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuX3N0YWNrID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIGNoYW5nZSBpbiB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBfb25MaXN0Q2hhbmdlZChsaXN0LCBjaGFuZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCB8fCAhdGhpcy5faXNVbmRvYWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhpcyBwb3NpdGlvbiBpZiBuZWNlc3NhcnkuXG4gICAgICAgIGlmICghdGhpcy5faW5Db21wb3VuZCB8fCAhdGhpcy5fbWFkZUNvbXBvdW5kQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFjayA9IHRoaXMuX3N0YWNrLnNsaWNlKDAsIHRoaXMuX2luZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29weSB0aGUgY2hhbmdlLlxuICAgICAgICBsZXQgZXZ0ID0gdGhpcy5fY29weUNoYW5nZShjaGFuZ2UpO1xuICAgICAgICAvLyBQdXQgdGhlIGNoYW5nZSBpbiB0aGUgc3RhY2suXG4gICAgICAgIGlmICh0aGlzLl9zdGFja1t0aGlzLl9pbmRleCArIDFdKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFja1t0aGlzLl9pbmRleCArIDFdLnB1c2goZXZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrLnB1c2goW2V2dF0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIG5vdCBpbiBhIGNvbXBvdW5kIG9wZXJhdGlvbiwgaW5jcmVhc2UgaW5kZXguXG4gICAgICAgIGlmICghdGhpcy5faW5Db21wb3VuZCkge1xuICAgICAgICAgICAgdGhpcy5faW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hZGVDb21wb3VuZENoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5kbyBhIGNoYW5nZSBldmVudC5cbiAgICAgKi9cbiAgICBfdW5kb0NoYW5nZShjaGFuZ2UpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IHNlcmlhbGl6ZXIgPSB0aGlzLl9zZXJpYWxpemVyO1xuICAgICAgICBzd2l0Y2ggKGNoYW5nZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgICAgIGVhY2goY2hhbmdlLm5ld1ZhbHVlcywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShjaGFuZ2UubmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNoYW5nZS5vbGRJbmRleDtcbiAgICAgICAgICAgICAgICBlYWNoKGNoYW5nZS5vbGRWYWx1ZXMsIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoaW5kZXgrKywgc2VyaWFsaXplci5mcm9tSlNPTih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVtb3ZlJzpcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNoYW5nZS5vbGRJbmRleDtcbiAgICAgICAgICAgICAgICBlYWNoKGNoYW5nZS5vbGRWYWx1ZXMsIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQoaW5kZXgrKywgc2VyaWFsaXplci5mcm9tSlNPTih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW92ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlKGNoYW5nZS5uZXdJbmRleCwgY2hhbmdlLm9sZEluZGV4KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZG8gYSBjaGFuZ2UgZXZlbnQuXG4gICAgICovXG4gICAgX3JlZG9DaGFuZ2UoY2hhbmdlKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBzZXJpYWxpemVyID0gdGhpcy5fc2VyaWFsaXplcjtcbiAgICAgICAgc3dpdGNoIChjaGFuZ2UudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNoYW5nZS5uZXdJbmRleDtcbiAgICAgICAgICAgICAgICBlYWNoKGNoYW5nZS5uZXdWYWx1ZXMsIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQoaW5kZXgrKywgc2VyaWFsaXplci5mcm9tSlNPTih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2V0JzpcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNoYW5nZS5uZXdJbmRleDtcbiAgICAgICAgICAgICAgICBlYWNoKGNoYW5nZS5uZXdWYWx1ZXMsIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoY2hhbmdlLm5ld0luZGV4KyssIHNlcmlhbGl6ZXIuZnJvbUpTT04odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JlbW92ZSc6XG4gICAgICAgICAgICAgICAgZWFjaChjaGFuZ2Uub2xkVmFsdWVzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKGNoYW5nZS5vbGRJbmRleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb3ZlJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmUoY2hhbmdlLm9sZEluZGV4LCBjaGFuZ2UubmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSBhIGNoYW5nZSBhcyBKU09OLlxuICAgICAqL1xuICAgIF9jb3B5Q2hhbmdlKGNoYW5nZSkge1xuICAgICAgICBsZXQgb2xkVmFsdWVzID0gW107XG4gICAgICAgIGVhY2goY2hhbmdlLm9sZFZhbHVlcywgdmFsdWUgPT4ge1xuICAgICAgICAgICAgb2xkVmFsdWVzLnB1c2godGhpcy5fc2VyaWFsaXplci50b0pTT04odmFsdWUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBuZXdWYWx1ZXMgPSBbXTtcbiAgICAgICAgZWFjaChjaGFuZ2UubmV3VmFsdWVzLCB2YWx1ZSA9PiB7XG4gICAgICAgICAgICBuZXdWYWx1ZXMucHVzaCh0aGlzLl9zZXJpYWxpemVyLnRvSlNPTih2YWx1ZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IGNoYW5nZS50eXBlLFxuICAgICAgICAgICAgb2xkSW5kZXg6IGNoYW5nZS5vbGRJbmRleCxcbiAgICAgICAgICAgIG5ld0luZGV4OiBjaGFuZ2UubmV3SW5kZXgsXG4gICAgICAgICAgICBvbGRWYWx1ZXMsXG4gICAgICAgICAgICBuZXdWYWx1ZXNcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIE5hbWVzcGFjZSBmb3IgT2JzZXJ2YWJsZVVuZG9hYmxlTGlzdCB1dGlsaXRpZXMuXG4gKi9cbihmdW5jdGlvbiAoT2JzZXJ2YWJsZVVuZG9hYmxlTGlzdCkge1xuICAgIC8qKlxuICAgICAqIEEgZGVmYXVsdCwgaWRlbnRpdHkgc2VyaWFsaXplci5cbiAgICAgKi9cbiAgICBjbGFzcyBJZGVudGl0eVNlcmlhbGl6ZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWRlbnRpdHkgc2VyaWFsaXplLlxuICAgICAgICAgKi9cbiAgICAgICAgdG9KU09OKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElkZW50aXR5IGRlc2VyaWFsaXplLlxuICAgICAgICAgKi9cbiAgICAgICAgZnJvbUpTT04odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlVW5kb2FibGVMaXN0LklkZW50aXR5U2VyaWFsaXplciA9IElkZW50aXR5U2VyaWFsaXplcjtcbn0pKE9ic2VydmFibGVVbmRvYWJsZUxpc3QgfHwgKE9ic2VydmFibGVVbmRvYWJsZUxpc3QgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5kb2FibGVsaXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdmFsaWRhdGVfMSA9IHJlcXVpcmUoXCIuLi92YWxpZGF0ZVwiKTtcbi8qKlxuICogVmFsaWRhdGUgYSBzZXJ2ZXIga2VybmVsc3BlYyBtb2RlbCB0byBhIGNsaWVudCBzaWRlIG1vZGVsLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVNwZWNNb2RlbChkYXRhKSB7XG4gICAgbGV0IHNwZWMgPSBkYXRhLnNwZWM7XG4gICAgaWYgKCFzcGVjKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBrZXJuZWwgc3BlYycpO1xuICAgIH1cbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlUHJvcGVydHkoZGF0YSwgJ25hbWUnLCAnc3RyaW5nJyk7XG4gICAgdmFsaWRhdGVfMS52YWxpZGF0ZVByb3BlcnR5KGRhdGEsICdyZXNvdXJjZXMnLCAnb2JqZWN0Jyk7XG4gICAgdmFsaWRhdGVfMS52YWxpZGF0ZVByb3BlcnR5KHNwZWMsICdsYW5ndWFnZScsICdzdHJpbmcnKTtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlUHJvcGVydHkoc3BlYywgJ2Rpc3BsYXlfbmFtZScsICdzdHJpbmcnKTtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlUHJvcGVydHkoc3BlYywgJ2FyZ3YnLCAnYXJyYXknKTtcbiAgICBsZXQgbWV0YWRhdGEgPSBudWxsO1xuICAgIGlmIChzcGVjLmhhc093blByb3BlcnR5KCdtZXRhZGF0YScpKSB7XG4gICAgICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShzcGVjLCAnbWV0YWRhdGEnLCAnb2JqZWN0Jyk7XG4gICAgICAgIG1ldGFkYXRhID0gc3BlYy5tZXRhZGF0YTtcbiAgICB9XG4gICAgbGV0IGVudiA9IG51bGw7XG4gICAgaWYgKHNwZWMuaGFzT3duUHJvcGVydHkoJ2VudicpKSB7XG4gICAgICAgIHZhbGlkYXRlXzEudmFsaWRhdGVQcm9wZXJ0eShzcGVjLCAnZW52JywgJ29iamVjdCcpO1xuICAgICAgICBlbnYgPSBzcGVjLmVudjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICByZXNvdXJjZXM6IGRhdGEucmVzb3VyY2VzLFxuICAgICAgICBsYW5ndWFnZTogc3BlYy5sYW5ndWFnZSxcbiAgICAgICAgZGlzcGxheV9uYW1lOiBzcGVjLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgYXJndjogc3BlYy5hcmd2LFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgZW52XG4gICAgfTtcbn1cbmV4cG9ydHMudmFsaWRhdGVTcGVjTW9kZWwgPSB2YWxpZGF0ZVNwZWNNb2RlbDtcbi8qKlxuICogVmFsaWRhdGUgYSBgS2VybmVsLklTcGVjTW9kZWxzYCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlU3BlY01vZGVscyhkYXRhKSB7XG4gICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KCdrZXJuZWxzcGVjcycpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8ga2VybmVsc3BlY3MgZm91bmQnKTtcbiAgICB9XG4gICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhLmtlcm5lbHNwZWNzKTtcbiAgICBsZXQga2VybmVsc3BlY3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBkZWZhdWx0U3BlYyA9IGRhdGEuZGVmYXVsdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGtzID0gZGF0YS5rZXJuZWxzcGVjc1trZXlzW2ldXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGtlcm5lbHNwZWNzW2tleXNbaV1dID0gdmFsaWRhdGVTcGVjTW9kZWwoa3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgZXJyYW50IGtlcm5lbCBzcGVjLlxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBSZW1vdmluZyBlcnJhbnQga2VybmVsIHNwZWM6ICR7a2V5c1tpXX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoa2VybmVsc3BlY3MpO1xuICAgIGlmICgha2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2YWxpZCBrZXJuZWxzcGVjcyBmb3VuZCcpO1xuICAgIH1cbiAgICBpZiAoIWRlZmF1bHRTcGVjIHx8XG4gICAgICAgIHR5cGVvZiBkZWZhdWx0U3BlYyAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgIShkZWZhdWx0U3BlYyBpbiBrZXJuZWxzcGVjcykpIHtcbiAgICAgICAgZGVmYXVsdFNwZWMgPSBrZXlzWzBdO1xuICAgICAgICBjb25zb2xlLndhcm4oYERlZmF1bHQga2VybmVsIG5vdCBmb3VuZCwgdXNpbmcgJyR7a2V5c1swXX0nYCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRTcGVjLFxuICAgICAgICBrZXJuZWxzcGVjc1xuICAgIH07XG59XG5leHBvcnRzLnZhbGlkYXRlU3BlY01vZGVscyA9IHZhbGlkYXRlU3BlY01vZGVscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29yZXV0aWxzXzEgPSByZXF1aXJlKFwiQGp1cHl0ZXJsYWIvY29yZXV0aWxzXCIpO1xuY29uc3QgY29yZXV0aWxzXzIgPSByZXF1aXJlKFwiQGx1bWluby9jb3JldXRpbHNcIik7XG5jb25zdCBzaWduYWxpbmdfMSA9IHJlcXVpcmUoXCJAbHVtaW5vL3NpZ25hbGluZ1wiKTtcbmNvbnN0IF9fMSA9IHJlcXVpcmUoXCIuLlwiKTtcbmNvbnN0IHJlc3RhcGlfMSA9IHJlcXVpcmUoXCIuL3Jlc3RhcGlcIik7XG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIGEgdGVybWluYWwgaW50ZXJmYWNlLlxuICovXG5jbGFzcyBUZXJtaW5hbENvbm5lY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyB0ZXJtaW5hbCBzZXNzaW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIHRoZSB0ZXJtaW5hbCB3ZWJzb2NrZXQgY29ubmVjdGlvbiBhbmQgYWRkIHNvY2tldCBzdGF0dXMgaGFuZGxlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgTm90ZXNcbiAgICAgICAgICogWW91IGFyZSByZXNwb25zaWJsZSBmb3IgdXBkYXRpbmcgdGhlIGNvbm5lY3Rpb24gc3RhdHVzIGFzIGFwcHJvcHJpYXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3JlYXRlU29ja2V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZXJyb3JJZkRpc3Bvc2VkKCk7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvY2tldCBpcyBjbGVhclxuICAgICAgICAgICAgdGhpcy5fY2xlYXJTb2NrZXQoKTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29ubmVjdGlvbiBzdGF0dXMgdG8gcmVmbGVjdCBvcGVuaW5nIGEgbmV3IGNvbm5lY3Rpb24uXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdHVzKCdjb25uZWN0aW5nJyk7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5fbmFtZTtcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5zZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgICAgIGxldCB1cmwgPSBjb3JldXRpbHNfMS5VUkxFeHQuam9pbihzZXR0aW5ncy53c1VybCwgJ3Rlcm1pbmFscycsICd3ZWJzb2NrZXQnLCBlbmNvZGVVUklDb21wb25lbnQobmFtZSkpO1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBzZXR0aW5ncy50b2tlbjtcbiAgICAgICAgICAgIGlmICh0b2tlbiAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyBgP3Rva2VuPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRva2VuKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fd3MgPSBuZXcgc2V0dGluZ3MuV2ViU29ja2V0KHVybCk7XG4gICAgICAgICAgICB0aGlzLl93cy5vbm1lc3NhZ2UgPSB0aGlzLl9vbldTTWVzc2FnZTtcbiAgICAgICAgICAgIHRoaXMuX3dzLm9uY2xvc2UgPSB0aGlzLl9vbldTQ2xvc2U7XG4gICAgICAgICAgICB0aGlzLl93cy5vbmVycm9yID0gdGhpcy5fb25XU0Nsb3NlO1xuICAgICAgICB9O1xuICAgICAgICAvLyBXZWJzb2NrZXQgbWVzc2FnZXMgZXZlbnRzIGFyZSBkZWZpbmVkIGFzIHZhcmlhYmxlcyB0byBiaW5kIGB0aGlzYFxuICAgICAgICB0aGlzLl9vbldTTWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBhIGRpc2Nvbm5lY3QgbWVzc2FnZS5cbiAgICAgICAgICAgIGlmIChkYXRhWzBdID09PSAnZGlzY29ubmVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25uZWN0aW9uU3RhdHVzID09PSAnY29ubmVjdGluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBBZnRlciByZWNvbm5lY3Rpb24sIGlnbm9yZSBhbGwgbWVzc2FnZXMgdW50aWwgYSAnc2V0dXAnIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmUgd2UgYXJlIHRydWx5IGNvbm5lY3RlZC4gU2V0dGluZyB0aGUgY29ubmVjdGlvbiBzdGF0dXMgdG9cbiAgICAgICAgICAgICAgICAvLyBjb25uZWN0ZWQgb25seSB0aGVuIG1lYW5zIHRoYXQgaWYgd2UgZG8gbm90IGdldCBhIHNldHVwIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmUgb3VyIHJldHJ5IHRpbWVvdXQsIHdlIHdpbGwgZGVsZXRlIHRoZSB3ZWJzb2NrZXQgYW5kIHRyeSBhZ2Fpbi5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YVswXSA9PT0gJ3NldHVwJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdHVzKCdjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWVzc2FnZVJlY2VpdmVkLmVtaXQoe1xuICAgICAgICAgICAgICAgIHR5cGU6IGRhdGFbMF0sXG4gICAgICAgICAgICAgICAgY29udGVudDogZGF0YS5zbGljZSgxKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX29uV1NDbG9zZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBUZXJtaW5hbCB3ZWJzb2NrZXQgY2xvc2VkOiAke2V2ZW50LmNvZGV9YCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdHVzID0gJ2Nvbm5lY3RpbmcnO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9tZXNzYWdlUmVjZWl2ZWQgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9ub09wID0gKCkgPT4ge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0TGltaXQgPSA3O1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RBdHRlbXB0ID0gMDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ01lc3NhZ2VzID0gW107XG4gICAgICAgIHRoaXMuX25hbWUgPSBvcHRpb25zLm1vZGVsLm5hbWU7XG4gICAgICAgIHRoaXMuc2VydmVyU2V0dGluZ3MgPSAoX2EgPSBvcHRpb25zLnNlcnZlclNldHRpbmdzLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogX18xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlU29ja2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgc2Vzc2lvbiBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgZGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIGEgbWVzc2FnZSBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgZ2V0IG1lc3NhZ2VSZWNlaXZlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VSZWNlaXZlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBuYW1lIG9mIHRoZSB0ZXJtaW5hbCBzZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb2RlbCBmb3IgdGhlIHRlcm1pbmFsIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IG1vZGVsKCkge1xuICAgICAgICByZXR1cm4geyBuYW1lOiB0aGlzLl9uYW1lIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3Qgd2hldGhlciB0aGUgc2Vzc2lvbiBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkLmVtaXQoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29ubmVjdGlvblN0YXR1cygnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIHRoaXMuX2NsZWFyU29ja2V0KCk7XG4gICAgICAgIHNpZ25hbGluZ18xLlNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSB0ZXJtaW5hbCBzZXNzaW9uLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIElmIHRoZSBjb25uZWN0aW9uIGlzIGRvd24sIHRoZSBtZXNzYWdlIHdpbGwgYmUgcXVldWVkIGZvciBzZW5kaW5nIHdoZW5cbiAgICAgKiB0aGUgY29ubmVjdGlvbiBjb21lcyBiYWNrIHVwLlxuICAgICAqL1xuICAgIHNlbmQobWVzc2FnZSkge1xuICAgICAgICB0aGlzLl9zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2Ugb24gdGhlIHdlYnNvY2tldCwgb3IgcG9zc2libHkgcXVldWUgZm9yIGxhdGVyIHNlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcXVldWUgLSB3aGV0aGVyIHRvIHF1ZXVlIHRoZSBtZXNzYWdlIGlmIGl0IGNhbm5vdCBiZSBzZW50XG4gICAgICovXG4gICAgX3NlbmRNZXNzYWdlKG1lc3NhZ2UsIHF1ZXVlID0gdHJ1ZSkge1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCB8fCAhbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcgJiYgdGhpcy5fd3MpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IFttZXNzYWdlLnR5cGUsIC4uLm1lc3NhZ2UuY29udGVudF07XG4gICAgICAgICAgICB0aGlzLl93cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHNlbmQgbWVzc2FnZTogJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIHBlbmRpbmcgbWVzc2FnZXMgdG8gdGhlIGtlcm5lbC5cbiAgICAgKi9cbiAgICBfc2VuZFBlbmRpbmcoKSB7XG4gICAgICAgIC8vIFdlIGNoZWNrIHRvIG1ha2Ugc3VyZSB3ZSBhcmUgc3RpbGwgY29ubmVjdGVkIGVhY2ggdGltZS4gRm9yXG4gICAgICAgIC8vIGV4YW1wbGUsIGlmIGEgd2Vic29ja2V0IGJ1ZmZlciBvdmVyZmxvd3MsIGl0IG1heSBjbG9zZSwgc28gd2Ugc2hvdWxkXG4gICAgICAgIC8vIHN0b3Agc2VuZGluZyBtZXNzYWdlcy5cbiAgICAgICAgd2hpbGUgKHRoaXMuY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcgJiZcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kTWVzc2FnZSh0aGlzLl9wZW5kaW5nTWVzc2FnZXNbMF0sIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIFdlIHNoaWZ0IHRoZSBtZXNzYWdlIG9mZiB0aGUgcXVldWUgYWZ0ZXIgdGhlIG1lc3NhZ2UgaXMgc2VudCBzbyB0aGF0XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBleGNlcHRpb24sIHRoZSBtZXNzYWdlIGlzIHN0aWxsIHBlbmRpbmcuXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nTWVzc2FnZXMuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvbm5lY3QgdG8gYSB0ZXJtaW5hbC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIG1heSB0cnkgbXVsdGlwbGUgdGltZXMgdG8gcmVjb25uZWN0IHRvIGEgdGVybWluYWwsIGFuZCB3aWxsIHNldmVyXG4gICAgICogYW55IGV4aXN0aW5nIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgcmVjb25uZWN0KCkge1xuICAgICAgICB0aGlzLl9lcnJvcklmRGlzcG9zZWQoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBjb3JldXRpbHNfMi5Qcm9taXNlRGVsZWdhdGUoKTtcbiAgICAgICAgLy8gU2V0IHVwIGEgbGlzdGVuZXIgZm9yIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBjaGFuZ2luZywgd2hpY2ggYWNjZXB0cyBvclxuICAgICAgICAvLyByZWplY3RzIGFmdGVyIHRoZSByZXRyaWVzIGFyZSBkb25lLlxuICAgICAgICBsZXQgZnVsZmlsbCA9IChzZW5kZXIsIHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0YXR1c0NoYW5nZWQuZGlzY29ubmVjdChmdWxmaWxsLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucmVqZWN0KG5ldyBFcnJvcignVGVybWluYWwgY29ubmVjdGlvbiBkaXNjb25uZWN0ZWQnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZC5kaXNjb25uZWN0KGZ1bGZpbGwsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkLmNvbm5lY3QoZnVsZmlsbCwgdGhpcyk7XG4gICAgICAgIC8vIFJlc2V0IHRoZSByZWNvbm5lY3QgbGltaXQgc28gd2Ugc3RhcnQgdGhlIGNvbm5lY3Rpb24gYXR0ZW1wdHMgZnJlc2hcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0QXR0ZW1wdCA9IDA7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSByZWNvbm5lY3Rpb24gcHJvY2Vzcywgd2hpY2ggd2lsbCBhbHNvIGNsZWFyIGFueSBleGlzdGluZ1xuICAgICAgICAvLyBjb25uZWN0aW9uLlxuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBwcm9taXNlIHRoYXQgc2hvdWxkIHJlc29sdmUgb24gY29ubmVjdGlvbiBvciByZWplY3QgaWYgdGhlXG4gICAgICAgIC8vIHJldHJpZXMgZG9uJ3Qgd29yay5cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IGEgY29ubmVjdGlvbiBpZiB3ZSBoYXZlIG5vdCBleGhhdXN0ZWQgY29ubmVjdGlvbiBhdHRlbXB0cy5cbiAgICAgKi9cbiAgICBfcmVjb25uZWN0KCkge1xuICAgICAgICB0aGlzLl9lcnJvcklmRGlzcG9zZWQoKTtcbiAgICAgICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHJlY29ubmVjdGlvbiBhdHRlbXB0XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZWNvbm5lY3RUaW1lb3V0KTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBhbmQgc2NoZWR1bGUgYSBwb3NzaWJsZSByZWNvbm5lY3Rpb24uXG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3RBdHRlbXB0IDwgdGhpcy5fcmVjb25uZWN0TGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0dXMoJ2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCByZWNvbm5lY3QgYXR0ZW1wdCBzaG91bGQgaGFwcGVuIGltbWVkaWF0ZWx5LCBhbmQgc3Vic2VxdWVudFxuICAgICAgICAgICAgLy8gYXR0ZW1wcyBzaG91bGQgcGljayBhIHJhbmRvbSBudW1iZXIgaW4gYSBncm93aW5nIHJhbmdlIHNvIHRoYXQgd2VcbiAgICAgICAgICAgIC8vIGRvbid0IG92ZXJsb2FkIHRoZSBzZXJ2ZXIgd2l0aCBzeW5jaHJvbml6ZWQgcmVjb25uZWN0aW9uIGF0dGVtcHRzXG4gICAgICAgICAgICAvLyBhY3Jvc3MgbXVsdGlwbGUga2VybmVscy5cbiAgICAgICAgICAgIGxldCB0aW1lb3V0ID0gUHJpdmF0ZS5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMCwgMWUzICogKE1hdGgucG93KDIsIHRoaXMuX3JlY29ubmVjdEF0dGVtcHQpIC0gMSkpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ29ubmVjdGlvbiBsb3N0LCByZWNvbm5lY3RpbmcgaW4gJHtNYXRoLmZsb29yKHRpbWVvdXQgLyAxMDAwKX0gc2Vjb25kcy5gKTtcbiAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdFRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX2NyZWF0ZVNvY2tldCwgdGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3RBdHRlbXB0ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb25uZWN0aW9uU3RhdHVzKCdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbGVhciB0aGUgd2Vic29ja2V0IGV2ZW50IGhhbmRsZXJzIGFuZCB0aGUgc29ja2V0IGl0c2VsZi5cbiAgICAgICAgdGhpcy5fY2xlYXJTb2NrZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yY2VmdWxseSBjbGVhciB0aGUgc29ja2V0IHN0YXRlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgd2lsbCBjbGVhciBhbGwgc29ja2V0IHN0YXRlIHdpdGhvdXQgY2FsbGluZyBhbnkgaGFuZGxlcnMgYW5kIHdpbGxcbiAgICAgKiBub3QgdXBkYXRlIHRoZSBjb25uZWN0aW9uIHN0YXR1cy4gSWYgeW91IGNhbGwgdGhpcyBtZXRob2QsIHlvdSBhcmVcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgdXBkYXRpbmcgdGhlIGNvbm5lY3Rpb24gc3RhdHVzIGFzIG5lZWRlZCBhbmQgcmVjcmVhdGluZ1xuICAgICAqIHRoZSBzb2NrZXQgaWYgeW91IHBsYW4gdG8gcmVjb25uZWN0LlxuICAgICAqL1xuICAgIF9jbGVhclNvY2tldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgd2Vic29ja2V0IGV2ZW50IGhhbmRsZXJzIGFuZCB0aGUgc29ja2V0IGl0c2VsZi5cbiAgICAgICAgICAgIHRoaXMuX3dzLm9ub3BlbiA9IHRoaXMuX25vT3A7XG4gICAgICAgICAgICB0aGlzLl93cy5vbmNsb3NlID0gdGhpcy5fbm9PcDtcbiAgICAgICAgICAgIHRoaXMuX3dzLm9uZXJyb3IgPSB0aGlzLl9ub09wO1xuICAgICAgICAgICAgdGhpcy5fd3Mub25tZXNzYWdlID0gdGhpcy5fbm9PcDtcbiAgICAgICAgICAgIHRoaXMuX3dzLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl93cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2h1dCBkb3duIHRoZSB0ZXJtaW5hbCBzZXNzaW9uLlxuICAgICAqL1xuICAgIGFzeW5jIHNodXRkb3duKCkge1xuICAgICAgICBhd2FpdCByZXN0YXBpXzEuc2h1dGRvd25UZXJtaW5hbCh0aGlzLm5hbWUsIHRoaXMuc2VydmVyU2V0dGluZ3MpO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhlIGN1cnJlbnQgdGVybWluYWwgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXJtaW5hbENvbm5lY3Rpb24odGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjb25uZWN0aW9uIHN0YXR1cyBjaGFuZ2VzLlxuICAgICAqL1xuICAgIF91cGRhdGVDb25uZWN0aW9uU3RhdHVzKGNvbm5lY3Rpb25TdGF0dXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb25TdGF0dXMgPT09IGNvbm5lY3Rpb25TdGF0dXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uU3RhdHVzID0gY29ubmVjdGlvblN0YXR1cztcbiAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCAnY29ubmVjdGluZycsIHN0b3AgYW55IHJlY29ubmVjdGlvbiBhdHRlbXB0cy5cbiAgICAgICAgaWYgKGNvbm5lY3Rpb25TdGF0dXMgIT09ICdjb25uZWN0aW5nJykge1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0QXR0ZW1wdCA9IDA7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVjb25uZWN0VGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2VuZCB0aGUgcGVuZGluZyBtZXNzYWdlcyBpZiB3ZSBqdXN0IGNvbm5lY3RlZC5cbiAgICAgICAgaWYgKGNvbm5lY3Rpb25TdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kUGVuZGluZygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGlmeSBvdGhlcnMgdGhhdCB0aGUgY29ubmVjdGlvbiBzdGF0dXMgY2hhbmdlZC5cbiAgICAgICAgdGhpcy5fY29ubmVjdGlvblN0YXR1c0NoYW5nZWQuZW1pdChjb25uZWN0aW9uU3RhdHVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiB0byB0aHJvdyBhbiBlcnJvciBpZiB0aGlzIGluc3RhbmNlIGlzIGRpc3Bvc2VkLlxuICAgICAqL1xuICAgIF9lcnJvcklmRGlzcG9zZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGVybWluYWwgY29ubmVjdGlvbiBpcyBkaXNwb3NlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2lnbmFsIGVtaXR0ZWQgd2hlbiB0aGUgdGVybWluYWwgY29ubmVjdGlvbiBzdGF0dXMgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgY29ubmVjdGlvblN0YXR1c0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdHVzQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY29ubmVjdGlvbiBzdGF0dXMgb2YgdGhlIHRlcm1pbmFsIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25TdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdHVzO1xuICAgIH1cbn1cbmV4cG9ydHMuVGVybWluYWxDb25uZWN0aW9uID0gVGVybWluYWxDb25uZWN0aW9uO1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHVybCBmb3IgYSB0ZXJtaW5hbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUZXJtVXJsKGJhc2VVcmwsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKGJhc2VVcmwsIHJlc3RhcGlfMS5URVJNSU5BTF9TRVJWSUNFX1VSTCwgZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpKTtcbiAgICB9XG4gICAgUHJpdmF0ZS5nZXRUZXJtVXJsID0gZ2V0VGVybVVybDtcbiAgICAvKipcbiAgICAgKiBHZXQgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiBhbmQgbWF4LCBpbmNsdXNpdmUgb2YgYm90aC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBGcm9tXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9yYW5kb20jR2V0dGluZ19hX3JhbmRvbV9pbnRlZ2VyX2JldHdlZW5fdHdvX3ZhbHVlc19pbmNsdXNpdmVcbiAgICAgKlxuICAgICAqIEZyb20gdGhlIE1ETiBwYWdlOiBJdCBtaWdodCBiZSB0ZW1wdGluZyB0byB1c2UgTWF0aC5yb3VuZCgpIHRvIGFjY29tcGxpc2hcbiAgICAgKiB0aGF0LCBidXQgZG9pbmcgc28gd291bGQgY2F1c2UgeW91ciByYW5kb20gbnVtYmVycyB0byBmb2xsb3cgYSBub24tdW5pZm9ybVxuICAgICAqIGRpc3RyaWJ1dGlvbiwgd2hpY2ggbWF5IG5vdCBiZSBhY2NlcHRhYmxlIGZvciB5b3VyIG5lZWRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhbmRvbUludEluY2x1c2l2ZShtaW4sIG1heCkge1xuICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcbiAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgICB9XG4gICAgUHJpdmF0ZS5nZXRSYW5kb21JbnRJbmNsdXNpdmUgPSBnZXRSYW5kb21JbnRJbmNsdXNpdmU7XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgdmlld0JveD0nMCAwIDI0IDI0JyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTgnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MSclM0UgJTNDcGF0aCBkPSdNOS42NCA3LjY0Yy4yMy0uNS4zNi0xLjA1LjM2LTEuNjQgMC0yLjIxLTEuNzktNC00LTRTMiAzLjc5IDIgNnMxLjc5IDQgNCA0Yy41OSAwIDEuMTQtLjEzIDEuNjQtLjM2TDEwIDEybC0yLjM2IDIuMzZDNy4xNCAxNC4xMyA2LjU5IDE0IDYgMTRjLTIuMjEgMC00IDEuNzktNCA0czEuNzkgNCA0IDQgNC0xLjc5IDQtNGMwLS41OS0uMTMtMS4xNC0uMzYtMS42NEwxMiAxNGw3IDdoM3YtMUw5LjY0IDcuNjR6TTYgOGMtMS4xIDAtMi0uODktMi0ycy45LTIgMi0yIDIgLjg5IDIgMi0uOSAyLTIgMnptMCAxMmMtMS4xIDAtMi0uODktMi0ycy45LTIgMi0yIDIgLjg5IDIgMi0uOSAyLTIgMnptNi03LjVjLS4yOCAwLS41LS4yMi0uNS0uNXMuMjItLjUuNS0uNS41LjIyLjUuNS0uMjIuNS0uNS41ek0xOSAzbC02IDYgMiAyIDctN1YzeicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIGhlaWdodD1cXFwiMThcXFwiIHdpZHRoPVxcXCIxOFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk05LjY0IDcuNjRjLjIzLS41LjM2LTEuMDUuMzYtMS42NCAwLTIuMjEtMS43OS00LTQtNFMyIDMuNzkgMiA2czEuNzkgNCA0IDRjLjU5IDAgMS4xNC0uMTMgMS42NC0uMzZMMTAgMTJsLTIuMzYgMi4zNkM3LjE0IDE0LjEzIDYuNTkgMTQgNiAxNGMtMi4yMSAwLTQgMS43OS00IDRzMS43OSA0IDQgNCA0LTEuNzkgNC00YzAtLjU5LS4xMy0xLjE0LS4zNi0xLjY0TDEyIDE0bDcgN2gzdi0xTDkuNjQgNy42NHpNNiA4Yy0xLjEgMC0yLS44OS0yLTJzLjktMiAyLTIgMiAuODkgMiAyLS45IDItMiAyem0wIDEyYy0xLjEgMC0yLS44OS0yLTJzLjktMiAyLTIgMiAuODkgMiAyLS45IDItMiAyem02LTcuNWMtLjI4IDAtLjUtLjIyLS41LS41cy4yMi0uNS41LS41LjUuMjIuNS41LS4yMi41LS41LjV6TTE5IDNsLTYgNiAyIDIgNy03VjN6XFxcIi8+XFxuICA8L2c+XFxuPC9zdmc+XFxuXCI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vYWN0aXZpdHltb25pdG9yXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL21hcmtkb3duY29kZWJsb2Nrc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wYWdlY29uZmlnXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BhdGhcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdGV4dFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90aW1lXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VybFwiKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyBmaWxsPSclMjM2MTYxNjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZScgZmlsbD0nJTIzNjE2MTYxJyUzRSAlM0NwYXRoIGQ9J00xOSAxOUg1VjVoN1YzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnYtN2gtMnY3ek0xNCAzdjJoMy41OWwtOS44MyA5LjgzIDEuNDEgMS40MUwxOSA2LjQxVjEwaDJWM2gtN3onLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgZmlsbD1cXFwiIzYxNjE2MVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTE5IDE5SDVWNWg3VjNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0ydi03aC0ydjd6TTE0IDN2MmgzLjU5bC05LjgzIDkuODMgMS40MSAxLjQxTDE5IDYuNDFWMTBoMlYzaC03elxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIm1vZHVsZS5leHBvcnRzID0gd3M7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgQ29kZU1pcnJvckVkaXRvciB9IGZyb20gJy4vZWRpdG9yJztcbi8qKlxuICogQ29kZU1pcnJvciBlZGl0b3IgZmFjdG9yeS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvZGVNaXJyb3JFZGl0b3JGYWN0b3J5IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYW4gSUVkaXRvckZhY3RvcnlTZXJ2aWNlIGZvciBDb2RlTWlycm9yRWRpdG9ycy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkZWZhdWx0cyA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgZWRpdG9yIGZvciBpbmxpbmUgY29kZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV3SW5saW5lRWRpdG9yID0gKG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIG9wdGlvbnMuaG9zdC5kYXRhc2V0LnR5cGUgPSAnaW5saW5lJztcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29kZU1pcnJvckVkaXRvcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IGNvbmZpZzogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmlubGluZUNvZGVNaXJyb3JDb25maWcpLCAob3B0aW9ucy5jb25maWcgfHwge30pKSB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgZWRpdG9yIGZvciBhIGZ1bGwgZG9jdW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5ld0RvY3VtZW50RWRpdG9yID0gKG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIG9wdGlvbnMuaG9zdC5kYXRhc2V0LnR5cGUgPSAnZG9jdW1lbnQnO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2RlTWlycm9yRWRpdG9yKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgY29uZmlnOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZG9jdW1lbnRDb2RlTWlycm9yQ29uZmlnKSwgKG9wdGlvbnMuY29uZmlnIHx8IHt9KSkgfSkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlubGluZUNvZGVNaXJyb3JDb25maWcgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgQ29kZU1pcnJvckVkaXRvci5kZWZhdWx0Q29uZmlnKSwgeyBleHRyYUtleXM6IHtcbiAgICAgICAgICAgICAgICAnQ21kLVJpZ2h0JzogJ2dvTGluZVJpZ2h0JyxcbiAgICAgICAgICAgICAgICBFbmQ6ICdnb0xpbmVSaWdodCcsXG4gICAgICAgICAgICAgICAgJ0NtZC1MZWZ0JzogJ2dvTGluZUxlZnQnLFxuICAgICAgICAgICAgICAgIFRhYjogJ2luZGVudE1vcmVPcmluc2VydFRhYicsXG4gICAgICAgICAgICAgICAgJ1NoaWZ0LVRhYic6ICdpbmRlbnRMZXNzJyxcbiAgICAgICAgICAgICAgICAnQ21kLS8nOiAndG9nZ2xlQ29tbWVudCcsXG4gICAgICAgICAgICAgICAgJ0N0cmwtLyc6ICd0b2dnbGVDb21tZW50J1xuICAgICAgICAgICAgfSB9KSwgZGVmYXVsdHMpO1xuICAgICAgICB0aGlzLmRvY3VtZW50Q29kZU1pcnJvckNvbmZpZyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBDb2RlTWlycm9yRWRpdG9yLmRlZmF1bHRDb25maWcpLCB7IGV4dHJhS2V5czoge1xuICAgICAgICAgICAgICAgIFRhYjogJ2luZGVudE1vcmVPcmluc2VydFRhYicsXG4gICAgICAgICAgICAgICAgJ1NoaWZ0LVRhYic6ICdpbmRlbnRMZXNzJyxcbiAgICAgICAgICAgICAgICAnQ21kLS8nOiAndG9nZ2xlQ29tbWVudCcsXG4gICAgICAgICAgICAgICAgJ0N0cmwtLyc6ICd0b2dnbGVDb21tZW50JyxcbiAgICAgICAgICAgICAgICAnU2hpZnQtRW50ZXInOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qIG5vLW9wICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgbGluZU51bWJlcnM6IHRydWUsIHNjcm9sbFBhc3RFbmQ6IHRydWUgfSksIGRlZmF1bHRzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mYWN0b3J5LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0BsdW1pbm8vc2lnbmFsaW5nJztcbmltcG9ydCB7IFdpZGdldCwgUGFuZWwsIFBhbmVsTGF5b3V0IH0gZnJvbSAnQGx1bWluby93aWRnZXRzJztcbmltcG9ydCB7IGNhcmV0RG93bkljb24sIGNhcmV0VXBJY29uIH0gZnJvbSAnQGp1cHl0ZXJsYWIvdWktY29tcG9uZW50cyc7XG4vKipcbiAqIEEgcGFuZWwgdGhhdCBzdXBwb3J0cyBhIGNvbGxhcHNpYmxlIGhlYWRlciBtYWRlIGZyb20gdGhlIHdpZGdldCdzIHRpdGxlLlxuICogQ2xpY2tpbmcgb24gdGhlIHRpdGxlIGV4cGFuZHMgb3IgY29udHJhY3RzIHRoZSB3aWRnZXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xsYXBzZSBleHRlbmRzIFdpZGdldCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fY29sbGFwc2VDaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgY29uc3QgeyB3aWRnZXQsIGNvbGxhcHNlZCA9IHRydWUgfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2pwLUNvbGxhcHNlJyk7XG4gICAgICAgIHRoaXMuX2hlYWRlciA9IG5ldyBXaWRnZXQoKTtcbiAgICAgICAgdGhpcy5faGVhZGVyLmFkZENsYXNzKCdqcC1Db2xsYXBzZS1oZWFkZXInKTtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IG5ldyBQYW5lbCgpO1xuICAgICAgICB0aGlzLl9jb250ZW50LmFkZENsYXNzKCdqcC1Db2xsYXBzZS1jb250ZW50cycpO1xuICAgICAgICBsZXQgbGF5b3V0ID0gbmV3IFBhbmVsTGF5b3V0KCk7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gbGF5b3V0O1xuICAgICAgICBsYXlvdXQuYWRkV2lkZ2V0KHRoaXMuX2hlYWRlcik7XG4gICAgICAgIGxheW91dC5hZGRXaWRnZXQodGhpcy5fY29udGVudCk7XG4gICAgICAgIHRoaXMud2lkZ2V0ID0gd2lkZ2V0O1xuICAgICAgICB0aGlzLmNvbGxhcHNlZCA9IGNvbGxhcHNlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHdpZGdldCBpbnNpZGUgdGhlIGNvbGxhcHNlIHBhbmVsLlxuICAgICAqL1xuICAgIGdldCB3aWRnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWRnZXQ7XG4gICAgfVxuICAgIHNldCB3aWRnZXQod2lkZ2V0KSB7XG4gICAgICAgIGxldCBvbGRXaWRnZXQgPSB0aGlzLl93aWRnZXQ7XG4gICAgICAgIGlmIChvbGRXaWRnZXQpIHtcbiAgICAgICAgICAgIG9sZFdpZGdldC50aXRsZS5jaGFuZ2VkLmRpc2Nvbm5lY3QodGhpcy5fb25UaXRsZUNoYW5nZWQsIHRoaXMpO1xuICAgICAgICAgICAgb2xkV2lkZ2V0LnBhcmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lkZ2V0ID0gd2lkZ2V0O1xuICAgICAgICB3aWRnZXQudGl0bGUuY2hhbmdlZC5jb25uZWN0KHRoaXMuX29uVGl0bGVDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fb25UaXRsZUNoYW5nZWQod2lkZ2V0LnRpdGxlKTtcbiAgICAgICAgdGhpcy5fY29udGVudC5hZGRXaWRnZXQod2lkZ2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbGxhcHNlZCBzdGF0ZSBvZiB0aGUgcGFuZWwuXG4gICAgICovXG4gICAgZ2V0IGNvbGxhcHNlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbGxhcHNlZDtcbiAgICB9XG4gICAgc2V0IGNvbGxhcHNlZCh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX2NvbGxhcHNlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fY29sbGFwc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3VuY29sbGFwc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBmb3Igd2hlbiB0aGUgd2lkZ2V0IGNvbGxhcHNlIHN0YXRlIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGNvbGxhcHNlQ2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbGxhcHNlQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHRoZSBjb2xsYXBzZSBzdGF0ZSBvZiB0aGUgcGFuZWwuXG4gICAgICovXG4gICAgdG9nZ2xlKCkge1xuICAgICAgICB0aGlzLmNvbGxhcHNlZCA9ICF0aGlzLmNvbGxhcHNlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSB0aGUgd2lkZ2V0LlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWxldGUgcmVmZXJlbmNlcyB3ZSBleHBsaWNpdGx5IGhvbGQgdG8gb3RoZXIgd2lkZ2V0cy5cbiAgICAgICAgdGhpcy5faGVhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd2lkZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IG51bGw7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBET00gZXZlbnRzIGZvciB0aGUgQ29sbGFwc2Ugd2lkZ2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIERPTSBldmVudCBzZW50IHRvIHRoZSBwYW5lbC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIG1ldGhvZCBpbXBsZW1lbnRzIHRoZSBET00gYEV2ZW50TGlzdGVuZXJgIGludGVyZmFjZSBhbmQgaXNcbiAgICAgKiBjYWxsZWQgaW4gcmVzcG9uc2UgdG8gZXZlbnRzIG9uIHRoZSBwYW5lbCdzIERPTSBub2RlLiBJdCBzaG91bGRcbiAgICAgKiBub3QgYmUgY2FsbGVkIGRpcmVjdGx5IGJ5IHVzZXIgY29kZS5cbiAgICAgKi9cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9ldnRDbGljayhldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWZ0ZXJBdHRhY2gobXNnKSB7XG4gICAgICAgIHRoaXMuX2hlYWRlci5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcyk7XG4gICAgfVxuICAgIG9uQmVmb3JlRGV0YWNoKG1zZykge1xuICAgICAgICB0aGlzLl9oZWFkZXIubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMpO1xuICAgIH1cbiAgICBfY29sbGFwc2UoKSB7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50LmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRIZWFkZXIoKTtcbiAgICAgICAgdGhpcy5fY29sbGFwc2VDaGFuZ2VkLmVtaXQodm9pZCAwKTtcbiAgICB9XG4gICAgX3VuY29sbGFwc2UoKSB7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudC5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0SGVhZGVyKCk7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlQ2hhbmdlZC5lbWl0KHZvaWQgMCk7XG4gICAgfVxuICAgIF9ldnRDbGljayhldmVudCkge1xuICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIGBjaGFuZ2VkYCBzaWduYWwgb2YgYSB0aXRsZSBvYmplY3QuXG4gICAgICovXG4gICAgX29uVGl0bGVDaGFuZ2VkKHNlbmRlcikge1xuICAgICAgICB0aGlzLl9zZXRIZWFkZXIoKTtcbiAgICB9XG4gICAgX3NldEhlYWRlcigpIHtcbiAgICAgICAgKHRoaXMuX2NvbGxhcHNlZCA/IGNhcmV0VXBJY29uIDogY2FyZXREb3duSWNvbikuZWxlbWVudCh7XG4gICAgICAgICAgICBjb250YWluZXI6IHRoaXMuX2hlYWRlci5ub2RlLFxuICAgICAgICAgICAgbGFiZWw6IHRoaXMuX3dpZGdldC50aXRsZS5sYWJlbCxcbiAgICAgICAgICAgIGp1c3RpZnk6ICdyaWdodCcsXG4gICAgICAgICAgICBoZWlnaHQ6ICcyOHB4J1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xsYXBzZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBsdW1pbm8vY29yZXV0aWxzXCIpO1xuY29uc3QgcHJvcGVydGllc18xID0gcmVxdWlyZShcIkBsdW1pbm8vcHJvcGVydGllc1wiKTtcbmNvbnN0IHNpZ25hbGluZ18xID0gcmVxdWlyZShcIkBsdW1pbm8vc2lnbmFsaW5nXCIpO1xuLyoqXG4gKiBBbiBvYmplY3QgcG9vbCB0aGF0IHN1cHBvcnRzIHJlc3RvcmF0aW9uLlxuICpcbiAqIEB0eXBlcGFyYW0gVCAtIFRoZSB0eXBlIG9mIG9iamVjdCBiZWluZyB0cmFja2VkLlxuICovXG5jbGFzcyBSZXN0b3JhYmxlUG9vbCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHJlc3RvcmFibGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGluc3RhbnRpYXRpb24gb3B0aW9ucyBmb3IgYSByZXN0b3JhYmxlIHBvb2wuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl9hZGRlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50Q2hhbmdlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2hhc1Jlc3RvcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fb2JqZWN0cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fcmVzdG9yZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Jlc3RvcmVkID0gbmV3IGNvcmV1dGlsc18xLlByb21pc2VEZWxlZ2F0ZSgpO1xuICAgICAgICB0aGlzLl91cGRhdGVkID0gbmV3IHNpZ25hbGluZ18xLlNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5uYW1lc3BhY2UgPSBvcHRpb25zLm5hbWVzcGFjZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIGFuIG9iamVjdCBvYmplY3QgaXMgYWRkZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBzaWduYWwgd2lsbCBvbmx5IGZpcmUgd2hlbiBhbiBvYmplY3QgaXMgYWRkZWQgdG8gdGhlIHBvb2wuXG4gICAgICogSXQgd2lsbCBub3QgZmlyZSBpZiBhbiBvYmplY3QgaW5qZWN0ZWQgaW50byB0aGUgcG9vbC5cbiAgICAgKi9cbiAgICBnZXQgYWRkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgb2JqZWN0LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSByZXN0b3JhYmxlIHBvb2wgZG9lcyBub3Qgc2V0IGBjdXJyZW50YC4gSXQgaXMgaW50ZW5kZWQgZm9yIGNsaWVudCB1c2UuXG4gICAgICpcbiAgICAgKiBJZiBgY3VycmVudGAgaXMgc2V0IHRvIGFuIG9iamVjdCB0aGF0IGRvZXMgbm90IGV4aXN0IGluIHRoZSBwb29sLCBpdCBpcyBhXG4gICAgICogbm8tb3AuXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xuICAgIH1cbiAgICBzZXQgY3VycmVudChvYmopIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgPT09IG9iaikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmogIT09IG51bGwgJiYgdGhpcy5fb2JqZWN0cy5oYXMob2JqKSkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IG9iajtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRDaGFuZ2VkLmVtaXQodGhpcy5fY3VycmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBjdXJyZW50IHdpZGdldCBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBjdXJyZW50Q2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdGhlIHBvb2wgaXMgZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgcmVzb2x2ZWQgd2hlbiB0aGUgcmVzdG9yYWJsZSBwb29sIGhhcyBiZWVuIHJlc3RvcmVkLlxuICAgICAqL1xuICAgIGdldCByZXN0b3JlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3RvcmVkLnByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygb2JqZWN0cyBoZWxkIGJ5IHRoZSBwb29sLlxuICAgICAqL1xuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gYW4gb2JqZWN0IGlzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgZ2V0IHVwZGF0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgb2JqZWN0IHRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9iaiAtIFRoZSBvYmplY3Qgb2JqZWN0IGJlaW5nIGFkZGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBvYmplY3QgcGFzc2VkIGludG8gdGhlIHBvb2wgaXMgYWRkZWQgc3luY2hyb25vdXNseTsgaXRzIGV4aXN0ZW5jZSBpblxuICAgICAqIHRoZSBwb29sIGNhbiBiZSBjaGVja2VkIHdpdGggdGhlIGBoYXMoKWAgbWV0aG9kLiBUaGUgcHJvbWlzZSB0aGlzIG1ldGhvZFxuICAgICAqIHJldHVybnMgcmVzb2x2ZXMgYWZ0ZXIgdGhlIG9iamVjdCBoYXMgYmVlbiBhZGRlZCBhbmQgc2F2ZWQgdG8gYW4gdW5kZXJseWluZ1xuICAgICAqIHJlc3RvcmF0aW9uIGNvbm5lY3RvciwgaWYgb25lIGlzIGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICBhc3luYyBhZGQob2JqKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChvYmouaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgY29uc3Qgd2FybmluZyA9ICdBIGRpc3Bvc2VkIG9iamVjdCBjYW5ub3QgYmUgYWRkZWQuJztcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nLCBvYmopO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHdhcm5pbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vYmplY3RzLmhhcyhvYmopKSB7XG4gICAgICAgICAgICBjb25zdCB3YXJuaW5nID0gJ1RoaXMgb2JqZWN0IGFscmVhZHkgZXhpc3RzIGluIHRoZSBwb29sLic7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4od2FybmluZywgb2JqKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vYmplY3RzLmFkZChvYmopO1xuICAgICAgICBvYmouZGlzcG9zZWQuY29ubmVjdCh0aGlzLl9vbkluc3RhbmNlRGlzcG9zZWQsIHRoaXMpO1xuICAgICAgICBpZiAoUHJpdmF0ZS5pbmplY3RlZFByb3BlcnR5LmdldChvYmopKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3Jlc3RvcmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29ubmVjdG9yIH0gPSB0aGlzLl9yZXN0b3JlO1xuICAgICAgICAgICAgY29uc3Qgb2JqTmFtZSA9IHRoaXMuX3Jlc3RvcmUubmFtZShvYmopO1xuICAgICAgICAgICAgaWYgKG9iak5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7dGhpcy5uYW1lc3BhY2V9OiR7b2JqTmFtZX1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSAoX2IgPSAoX2EgPSB0aGlzLl9yZXN0b3JlKS5hcmdzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgb2JqKTtcbiAgICAgICAgICAgICAgICBQcml2YXRlLm5hbWVQcm9wZXJ0eS5zZXQob2JqLCBuYW1lKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBjb25uZWN0b3Iuc2F2ZShuYW1lLCB7IGRhdGEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW1pdCB0aGUgYWRkZWQgc2lnbmFsLlxuICAgICAgICB0aGlzLl9hZGRlZC5lbWl0KG9iaik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBwb29sLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIERpc3Bvc2luZyBhIHBvb2wgZG9lcyBub3QgYWZmZWN0IHRoZSB1bmRlcmx5aW5nIGRhdGEgaW4gdGhlIGRhdGEgY29ubmVjdG9yLFxuICAgICAqIGl0IHNpbXBseSBkaXNwb3NlcyB0aGUgY2xpZW50LXNpZGUgcG9vbCB3aXRob3V0IG1ha2luZyBhbnkgY29ubmVjdG9yIGNhbGxzLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX29iamVjdHMuY2xlYXIoKTtcbiAgICAgICAgc2lnbmFsaW5nXzEuU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgZmlyc3Qgb2JqZWN0IGluIHRoZSBwb29sIHRoYXQgc2F0aXNmaWVzIGEgZmlsdGVyIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIC0gZm4gVGhlIGZpbHRlciBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggb2JqZWN0LlxuICAgICAqL1xuICAgIGZpbmQoZm4pIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5fb2JqZWN0cy52YWx1ZXMoKTtcbiAgICAgICAgZm9yIChsZXQgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICBpZiAoZm4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIG9iamVjdCBpbiB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIG9uIGVhY2ggb2JqZWN0LlxuICAgICAqL1xuICAgIGZvckVhY2goZm4pIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0cy5mb3JFYWNoKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlsdGVyIHRoZSBvYmplY3RzIGluIHRoZSBwb29sIGJhc2VkIG9uIGEgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZuIC0gVGhlIGZ1bmN0aW9uIGJ5IHdoaWNoIHRvIGZpbHRlci5cbiAgICAgKi9cbiAgICBmaWx0ZXIoZm4pIHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKG9iaiA9PiB7XG4gICAgICAgICAgICBpZiAoZm4ob2JqKSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcmVkLnB1c2gob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5qZWN0IGFuIG9iamVjdCBpbnRvIHRoZSByZXN0b3JhYmxlIHBvb2wgd2l0aG91dCB0aGUgcG9vbCBoYW5kbGluZyBpdHNcbiAgICAgKiByZXN0b3JhdGlvbiBsaWZlY3ljbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2JqIC0gVGhlIG9iamVjdCB0byBpbmplY3QgaW50byB0aGUgcG9vbC5cbiAgICAgKi9cbiAgICBpbmplY3Qob2JqKSB7XG4gICAgICAgIFByaXZhdGUuaW5qZWN0ZWRQcm9wZXJ0eS5zZXQob2JqLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKG9iaik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgcG9vbCBoYXMgdGhlIHNwZWNpZmllZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2JqIC0gVGhlIG9iamVjdCB3aG9zZSBleGlzdGVuY2UgaXMgYmVpbmcgY2hlY2tlZC5cbiAgICAgKi9cbiAgICBoYXMob2JqKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RzLmhhcyhvYmopO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlIHRoZSBvYmplY3RzIGluIHRoaXMgcG9vbCdzIG5hbWVzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0aGF0IGRlc2NyaWJlIHJlc3RvcmF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiByZXN0b3JhdGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGFsbW9zdCBuZXZlciBiZSBpbnZva2VkIGJ5IGNsaWVudCBjb2RlLiBJdHMgcHJpbWFyeVxuICAgICAqIHVzZSBjYXNlIGlzIHRvIGJlIGludm9rZWQgYnkgYSBsYXlvdXQgcmVzdG9yZXIgcGx1Z2luIHRoYXQgaGFuZGxlc1xuICAgICAqIG11bHRpcGxlIHJlc3RvcmFibGUgcG9vbHMgYW5kLCB3aGVuIHJlYWR5LCBhc2tzIHRoZW0gZWFjaCB0byByZXN0b3JlIHRoZWlyXG4gICAgICogcmVzcGVjdGl2ZSBvYmplY3RzLlxuICAgICAqL1xuICAgIGFzeW5jIHJlc3RvcmUob3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5faGFzUmVzdG9yZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBwb29sIGhhcyBhbHJlYWR5IGJlZW4gcmVzdG9yZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFzUmVzdG9yZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IGNvbW1hbmQsIGNvbm5lY3RvciwgcmVnaXN0cnksIHdoZW4gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG5hbWVzcGFjZSA9IHRoaXMubmFtZXNwYWNlO1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IHdoZW5cbiAgICAgICAgICAgID8gW2Nvbm5lY3Rvci5saXN0KG5hbWVzcGFjZSldLmNvbmNhdCh3aGVuKVxuICAgICAgICAgICAgOiBbY29ubmVjdG9yLmxpc3QobmFtZXNwYWNlKV07XG4gICAgICAgIHRoaXMuX3Jlc3RvcmUgPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBbc2F2ZWRdID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChzYXZlZC5pZHMubWFwKGFzeW5jIChpZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2F2ZWQudmFsdWVzW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSB2YWx1ZSAmJiB2YWx1ZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGFyZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25uZWN0b3IucmVtb3ZlKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGNvbW1hbmQgYW5kIGlmIGl0IGZhaWxzLCBkZWxldGUgdGhlIHN0YXRlIHJlc3RvcmUgZGF0YS5cbiAgICAgICAgICAgIHJldHVybiByZWdpc3RyeVxuICAgICAgICAgICAgICAgIC5leGVjdXRlKGNvbW1hbmQsIGFyZ3MpXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IGNvbm5lY3Rvci5yZW1vdmUoaWQpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl9yZXN0b3JlZC5yZXNvbHZlKCk7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIHJlc3RvcmUgZGF0YSBmb3IgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2JqIC0gVGhlIG9iamVjdCBiZWluZyBzYXZlZC5cbiAgICAgKi9cbiAgICBhc3luYyBzYXZlKG9iaikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBpbmplY3RlZCA9IFByaXZhdGUuaW5qZWN0ZWRQcm9wZXJ0eS5nZXQob2JqKTtcbiAgICAgICAgaWYgKCF0aGlzLl9yZXN0b3JlIHx8ICF0aGlzLmhhcyhvYmopIHx8IGluamVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBjb25uZWN0b3IgfSA9IHRoaXMuX3Jlc3RvcmU7XG4gICAgICAgIGNvbnN0IG9iak5hbWUgPSB0aGlzLl9yZXN0b3JlLm5hbWUob2JqKTtcbiAgICAgICAgY29uc3Qgb2xkTmFtZSA9IFByaXZhdGUubmFtZVByb3BlcnR5LmdldChvYmopO1xuICAgICAgICBjb25zdCBuZXdOYW1lID0gb2JqTmFtZSA/IGAke3RoaXMubmFtZXNwYWNlfToke29iak5hbWV9YCA6ICcnO1xuICAgICAgICBpZiAob2xkTmFtZSAmJiBvbGROYW1lICE9PSBuZXdOYW1lKSB7XG4gICAgICAgICAgICBhd2FpdCBjb25uZWN0b3IucmVtb3ZlKG9sZE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgbmFtZSBwcm9wZXJ0eSBpcnJlc3BlY3RpdmUgb2Ygd2hldGhlciB0aGUgbmV3IG5hbWUgaXMgbnVsbC5cbiAgICAgICAgUHJpdmF0ZS5uYW1lUHJvcGVydHkuc2V0KG9iaiwgbmV3TmFtZSk7XG4gICAgICAgIGlmIChuZXdOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gKF9iID0gKF9hID0gdGhpcy5fcmVzdG9yZSkuYXJncykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIG9iaik7XG4gICAgICAgICAgICBhd2FpdCBjb25uZWN0b3Iuc2F2ZShuZXdOYW1lLCB7IGRhdGEgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZE5hbWUgIT09IG5ld05hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZWQuZW1pdChvYmopO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIGFmdGVyIGRpc3Bvc2VkIG9iamVjdHMuXG4gICAgICovXG4gICAgX29uSW5zdGFuY2VEaXNwb3NlZChvYmopIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0cy5kZWxldGUob2JqKTtcbiAgICAgICAgaWYgKG9iaiA9PT0gdGhpcy5fY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50Q2hhbmdlZC5lbWl0KHRoaXMuX2N1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQcml2YXRlLmluamVjdGVkUHJvcGVydHkuZ2V0KG9iaikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3Jlc3RvcmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNvbm5lY3RvciB9ID0gdGhpcy5fcmVzdG9yZTtcbiAgICAgICAgY29uc3QgbmFtZSA9IFByaXZhdGUubmFtZVByb3BlcnR5LmdldChvYmopO1xuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgdm9pZCBjb25uZWN0b3IucmVtb3ZlKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZXN0b3JhYmxlUG9vbCA9IFJlc3RvcmFibGVQb29sO1xuLypcbiAqIEEgbmFtZXNwYWNlIGZvciBwcml2YXRlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogQW4gYXR0YWNoZWQgcHJvcGVydHkgdG8gaW5kaWNhdGUgd2hldGhlciBhbiBvYmplY3QgaGFzIGJlZW4gaW5qZWN0ZWQuXG4gICAgICovXG4gICAgUHJpdmF0ZS5pbmplY3RlZFByb3BlcnR5ID0gbmV3IHByb3BlcnRpZXNfMS5BdHRhY2hlZFByb3BlcnR5KHtcbiAgICAgICAgbmFtZTogJ2luamVjdGVkJyxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiBmYWxzZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEFuIGF0dGFjaGVkIHByb3BlcnR5IGZvciBhbiBvYmplY3QncyBJRC5cbiAgICAgKi9cbiAgICBQcml2YXRlLm5hbWVQcm9wZXJ0eSA9IG5ldyBwcm9wZXJ0aWVzXzEuQXR0YWNoZWRQcm9wZXJ0eSh7XG4gICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiAnJ1xuICAgIH0pO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN0b3JhYmxlcG9vbC5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDI0IDI0JyUzRSAlM0NwYXRoIGNsYXNzPSdqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUnIGZpbGw9JyUyMzYxNjE2MScgZD0nTTE1IDE1SDN2MmgxMnYtMnptMC04SDN2MmgxMlY3ek0zIDEzaDE4di0ySDN2MnptMCA4aDE4di0ySDN2MnpNMyAzdjJoMThWM0gzeicgLyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuXFx0PHBhdGhcXG5cXHRcXHRjbGFzcz1cXFwianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlXFxcIlxcblxcdFxcdGZpbGw9XFxcIiM2MTYxNjFcXFwiXFxuXFx0XFx0ZD1cXFwiTTE1IDE1SDN2MmgxMnYtMnptMC04SDN2MmgxMlY3ek0zIDEzaDE4di0ySDN2MnptMCA4aDE4di0ySDN2MnpNMyAzdjJoMThWM0gzelxcXCJcXG5cXHQvPlxcbjwvc3ZnPlxcblwiOyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB2YXJzIGZyb20gJy4vdmFyaWFibGVzJztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAndHlwZXN0eWxlL2xpYic7XG5leHBvcnQgY29uc3QgYmFzZVRleHQgPSB7XG4gICAgZm9udFNpemU6IHZhcnMuZm9udFNpemUsXG4gICAgZm9udEZhbWlseTogdmFycy5mb250RmFtaWx5XG59O1xuZXhwb3J0IGNvbnN0IHRleHRJdGVtID0gc3R5bGUoYmFzZVRleHQsIHtcbiAgICBsaW5lSGVpZ2h0OiAnMjRweCcsXG4gICAgY29sb3I6IHZhcnMudGV4dENvbG9yXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQuanMubWFwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi5qcC1JRnJhbWUge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5qcC1JRnJhbWUgPiBpZnJhbWUge1xcbiAgYm9yZGVyOiBub25lO1xcbn1cXG5cXG4vKlxcbldoZW4gZHJhZyBldmVudHMgb2NjdXIsIGBwLW1vZC1vdmVycmlkZS1jdXJzb3JgIGlzIGFkZGVkIHRvIHRoZSBib2R5LlxcbkJlY2F1c2UgaWZyYW1lcyBzdGVhbCBhbGwgY3Vyc29yIGV2ZW50cywgdGhlIGZvbGxvd2luZyB0d28gcnVsZXMgYXJlIG5lY2Vzc2FyeVxcbnRvIHN1cHByZXNzIHBvaW50ZXIgZXZlbnRzIHdoaWxlIHJlc2l6ZSBkcmFncyBhcmUgb2NjdXJyaW5nLiBUaGVyZSBtYXkgYmUgYVxcbmJldHRlciBzb2x1dGlvbiB0byB0aGlzIHByb2JsZW0uXFxuKi9cXG5ib2R5LmxtLW1vZC1vdmVycmlkZS1jdXJzb3IgLmpwLUlGcmFtZSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbmJvZHkubG0tbW9kLW92ZXJyaWRlLWN1cnNvciAuanAtSUZyYW1lOmJlZm9yZSB7XFxuICBjb250ZW50OiAnJztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbn1cXG5cIiwgXCJcIl0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uLmpzLm1hcCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIEltcG9ydHNcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9hcHBsaWNhdGlvbi1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9hcHB1dGlscy1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9jZWxsdGFncy1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9jb2RlbWlycm9yLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2NvbXBsZXRlci1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9jb25zb2xlLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2NzdnZpZXdlci1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9kb2NtYW5hZ2VyLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2RvY3VtZW50c2VhcmNoLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2V4dGVuc2lvbm1hbmFnZXItZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvZmlsZWJyb3dzZXItZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvZmlsZWVkaXRvci1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9oZWxwLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2h0bWx2aWV3ZXItZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvaHViLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2ltYWdldmlld2VyLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2luc3BlY3Rvci1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9qYXZhc2NyaXB0LWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL2pzb24tZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvbGF1bmNoZXItZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvbG9nY29uc29sZS1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9tYWlubWVudS1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9tYXJrZG93bnZpZXdlci1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9tYXRoamF4Mi1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9ub3RlYm9vay1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9wZGYtZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvcmVuZGVybWltZS1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi9ydW5uaW5nLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL3NldHRpbmdlZGl0b3ItZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvc3RhdHVzYmFyLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL3RhYm1hbmFnZXItZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvdGVybWluYWwtZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvdG9vbHRpcC1leHRlbnNpb24vc3R5bGUvaW5kZXguY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAanVweXRlcmxhYi91aS1jb21wb25lbnRzLWV4dGVuc2lvbi9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBqdXB5dGVybGFiL3Zkb20tZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGp1cHl0ZXJsYWIvdmVnYTUtZXh0ZW5zaW9uL3N0eWxlL2luZGV4LmNzc1wiKSwgXCJcIik7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIFRoaXMgaXMgYSBnZW5lcmF0ZWQgZmlsZSBvZiBDU1MgaW1wb3J0cyAqL1xcbi8qIEl0IHdhcyBnZW5lcmF0ZWQgYnkgQGp1cHl0ZXJsYWIvYnVpbGR1dGlscyBpbiBCdWlsZC5lbnN1cmVBc3NldHMoKSAqL1xcblwiLCBcIlwiXSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2aWV3Qm94PScwIDAgMjQgMjQnIGhlaWdodD0nMTYnIHdpZHRoPScxNicgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uLW5vbmUganAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2UganAtaWNvbjMtaG92ZXInIGZpbGw9J25vbmUnJTNFICUzQ2NpcmNsZSBjeD0nMTInIGN5PScxMicgcj0nMTEnLyUzRSAlM0MvZyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUganAtaWNvbi1hY2NlbnQyLWhvdmVyJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnonLyUzRSAlM0MvZyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uLW5vbmUganAtaWNvbi1idXN5JyBmaWxsPSdub25lJyUzRSAlM0NjaXJjbGUgY3g9JzEyJyBjeT0nMTInIHI9JzcnLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIiBoZWlnaHQ9XFxcIjE2XFxcIiB3aWR0aD1cXFwiMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbi1ub25lIGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIGpwLWljb24zLWhvdmVyXFxcIiBmaWxsPVxcXCJub25lXFxcIj5cXG4gICAgPGNpcmNsZSBjeD1cXFwiMTJcXFwiIGN5PVxcXCIxMlxcXCIgcj1cXFwiMTFcXFwiLz5cXG4gIDwvZz5cXG5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUganAtaWNvbi1hY2NlbnQyLWhvdmVyXFxcIiBmaWxsPVxcXCIjNjE2MTYxXFxcIj5cXG4gICAgPHBhdGggZD1cXFwiTTE5IDYuNDFMMTcuNTkgNSAxMiAxMC41OSA2LjQxIDUgNSA2LjQxIDEwLjU5IDEyIDUgMTcuNTkgNi40MSAxOSAxMiAxMy40MSAxNy41OSAxOSAxOSAxNy41OSAxMy40MSAxMnpcXFwiLz5cXG4gIDwvZz5cXG5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uLW5vbmUganAtaWNvbi1idXN5XFxcIiBmaWxsPVxcXCJub25lXFxcIj5cXG4gICAgPGNpcmNsZSBjeD1cXFwiMTJcXFwiIGN5PVxcXCIxMlxcXCIgcj1cXFwiN1xcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmV4cG9ydCAqIGZyb20gJy4vbGluZUNvbCc7XG5leHBvcnQgKiBmcm9tICcuL2tlcm5lbFN0YXR1cyc7XG5leHBvcnQgKiBmcm9tICcuL3J1bm5pbmdTZXNzaW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL21lbW9yeVVzYWdlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmV4cG9ydCB7IENvbm5lY3Rpb25Mb3N0IH0gZnJvbSAnLi9jb25uZWN0aW9ubG9zdCc7XG5leHBvcnQgeyBKdXB5dGVyRnJvbnRFbmQgfSBmcm9tICcuL2Zyb250ZW5kJztcbmV4cG9ydCB7IEp1cHl0ZXJMYWIgfSBmcm9tICcuL2xhYic7XG5leHBvcnQgeyBJTGF5b3V0UmVzdG9yZXIsIExheW91dFJlc3RvcmVyIH0gZnJvbSAnLi9sYXlvdXRyZXN0b3Jlcic7XG5leHBvcnQgeyBJTWltZURvY3VtZW50VHJhY2tlciB9IGZyb20gJy4vbWltZXJlbmRlcmVycyc7XG5leHBvcnQgeyBSb3V0ZXIgfSBmcm9tICcuL3JvdXRlcic7XG5leHBvcnQgeyBJTGFiU2hlbGwsIExhYlNoZWxsIH0gZnJvbSAnLi9zaGVsbCc7XG5leHBvcnQgeyBJTGFiU3RhdHVzIH0gZnJvbSAnLi9zdGF0dXMnO1xuZXhwb3J0ICogZnJvbSAnLi90b2tlbnMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IENvZGVNaXJyb3IgZnJvbSAnY29kZW1pcnJvcic7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvbW9kZS9zdGV4L3N0ZXgnO1xuaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvZ2ZtL2dmbSc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vbW9kZS9tdWx0aXBsZXgnO1xuLyoqXG4gKiBEZWZpbmUgYW4gSVB5dGhvbiBHRk0gKEdpdEh1YiBGbGF2b3JlZCBNYXJrZG93bikgbW9kZS5cbiAqXG4gKiBJcyBqdXN0IGEgc2xpZ2h0bHkgYWx0ZXJlZCBHRk0gTW9kZSB3aXRoIHN1cHBvcnQgZm9yIExhVGVYLlxuICogTGFUZVggc3VwcG9ydCB3YXMgc3VwcG9ydGVkIGJ5IENvZGVtaXJyb3IgR0ZNIGFzIG9mXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RlbWlycm9yL0NvZGVNaXJyb3IvcHVsbC81NjdcbiAqICBCdXQgd2FzIGxhdGVyIHJlbW92ZWQgaW5cbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvQ29kZU1pcnJvci9jb21taXQvZDljOWYxYjFmZmU5ODRhZWU0MTMwN2YzZTkyN2Y4MGQxZjIzNTkwY1xuICovXG5Db2RlTWlycm9yLmRlZmluZU1vZGUoJ2lweXRob25nZm0nLCAoY29uZmlnLCBtb2RlT3B0aW9ucykgPT4ge1xuICAgIGxldCBnZm1Nb2RlID0gQ29kZU1pcnJvci5nZXRNb2RlKGNvbmZpZywge1xuICAgICAgICBuYW1lOiAnZ2ZtJyxcbiAgICAgICAgLy8gT3ZlcnJpZGUgbGlzdDMgd2l0aCBhbiB1bmRlci11c2VkIHRva2VuLCByYXRoZXIgdGhhbiBga2V5d29yZGBcbiAgICAgICAgdG9rZW5UeXBlT3ZlcnJpZGVzOiB7IGxpc3QzOiAnc3RyaW5nLTInIH1cbiAgICB9KTtcbiAgICBsZXQgdGV4TW9kZSA9IENvZGVNaXJyb3IuZ2V0TW9kZShjb25maWcsIHtcbiAgICAgICAgbmFtZTogJ3N0ZXgnLFxuICAgICAgICBpbk1hdGhNb2RlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvZGVNaXJyb3IubXVsdGlwbGV4aW5nTW9kZShnZm1Nb2RlLCB7XG4gICAgICAgIG9wZW46ICckJCcsXG4gICAgICAgIGNsb3NlOiAnJCQnLFxuICAgICAgICBtb2RlOiB0ZXhNb2RlLFxuICAgICAgICBkZWxpbVN0eWxlOiAnZGVsaW1pdCdcbiAgICB9LCB7XG4gICAgICAgIG9wZW46ICckJyxcbiAgICAgICAgY2xvc2U6ICckJyxcbiAgICAgICAgbW9kZTogdGV4TW9kZSxcbiAgICAgICAgZGVsaW1TdHlsZTogJ2RlbGltaXQnXG4gICAgfSwge1xuICAgICAgICBvcGVuOiAnXFxcXCgnLFxuICAgICAgICBjbG9zZTogJ1xcXFwpJyxcbiAgICAgICAgbW9kZTogdGV4TW9kZSxcbiAgICAgICAgZGVsaW1TdHlsZTogJ2RlbGltaXQnXG4gICAgfSwge1xuICAgICAgICBvcGVuOiAnXFxcXFsnLFxuICAgICAgICBjbG9zZTogJ1xcXFxdJyxcbiAgICAgICAgbW9kZTogdGV4TW9kZSxcbiAgICAgICAgZGVsaW1TdHlsZTogJ2RlbGltaXQnXG4gICAgfVxuICAgIC8vIC4uIG1vcmUgbXVsdGlwbGV4ZWQgc3R5bGVzIGNhbiBmb2xsb3cgaGVyZVxuICAgICk7XG59LCAnZ2ZtJyk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoJ3RleHQveC1pcHl0aG9uZ2ZtJywgJ2lweXRob25nZm0nKTtcbkNvZGVNaXJyb3IubW9kZUluZm8ucHVzaCh7XG4gICAgZXh0OiBbXSxcbiAgICBtaW1lOiAndGV4dC94LWlweXRob25nZm0nLFxuICAgIG1vZGU6ICdpcHl0aG9uZ2ZtJyxcbiAgICBuYW1lOiAnaXB5dGhvbmdmbSdcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29kZW1pcnJvci1pcHl0aG9uZ2ZtLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBWRG9tUmVuZGVyZXIsIFZEb21Nb2RlbCB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbmltcG9ydCB7IGtlcm5lbEljb24sIHRlcm1pbmFsSWNvbiB9IGZyb20gJ0BqdXB5dGVybGFiL3VpLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgR3JvdXBJdGVtLCBpbnRlcmFjdGl2ZUl0ZW0sIFRleHRJdGVtIH0gZnJvbSAnLi4nO1xuLyoqXG4gKiBIYWxmIHNwYWNpbmcgYmV0d2VlbiBzdWJpdGVtcyBpbiBhIHN0YXR1cyBpdGVtLlxuICovXG5jb25zdCBIQUxGX1NQQUNJTkcgPSA0O1xuLyoqXG4gKiBBIHB1cmUgZnVuY3Rpb25hbCBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBrZXJuZWwgYW5kIHRlcm1pbmFsIHNlc3Npb25zLlxuICpcbiAqIEBwYXJhbSBwcm9wczogdGhlIHByb3BzIGZvciB0aGUgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIGEgdHN4IGNvbXBvbmVudCBmb3IgdGhlIHJ1bm5pbmcgc2Vzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIFJ1bm5pbmdTZXNzaW9uc0NvbXBvbmVudChwcm9wcykge1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChHcm91cEl0ZW0sIHsgc3BhY2luZzogSEFMRl9TUEFDSU5HLCBvbkNsaWNrOiBwcm9wcy5oYW5kbGVDbGljayB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEdyb3VwSXRlbSwgeyBzcGFjaW5nOiBIQUxGX1NQQUNJTkcgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEl0ZW0sIHsgc291cmNlOiBwcm9wcy50ZXJtaW5hbHMgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KHRlcm1pbmFsSWNvbi5yZWFjdCwgeyBsZWZ0OiAnMXB4JywgdG9wOiAnM3B4Jywga2luZDogJ3N0YXR1c0JhcicgfSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEdyb3VwSXRlbSwgeyBzcGFjaW5nOiBIQUxGX1NQQUNJTkcgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dEl0ZW0sIHsgc291cmNlOiBwcm9wcy5zZXNzaW9ucyB9KSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoa2VybmVsSWNvbi5yZWFjdCwgeyB0b3A6ICcycHgnLCBraW5kOiAnc3RhdHVzQmFyJyB9KSkpKTtcbn1cbi8qKlxuICogQSBWRG9tUmVuZGVyZXIgZm9yIGEgUnVubmluZ1Nlc3Npb25zIHN0YXR1cyBpdGVtLlxuICovXG5leHBvcnQgY2xhc3MgUnVubmluZ1Nlc3Npb25zIGV4dGVuZHMgVkRvbVJlbmRlcmVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgUnVubmluZ1Nlc3Npb25zIHdpZGdldC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG5ldyBSdW5uaW5nU2Vzc2lvbnMuTW9kZWwoKSk7XG4gICAgICAgIHRoaXMuX3NlcnZpY2VNYW5hZ2VyID0gb3B0cy5zZXJ2aWNlTWFuYWdlcjtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2sgPSBvcHRzLm9uQ2xpY2s7XG4gICAgICAgIHRoaXMuX3NlcnZpY2VNYW5hZ2VyLnNlc3Npb25zLnJ1bm5pbmdDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25TZXNzaW9uc1J1bm5pbmdDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fc2VydmljZU1hbmFnZXIudGVybWluYWxzLnJ1bm5pbmdDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25UZXJtaW5hbHNSdW5uaW5nQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoaW50ZXJhY3RpdmVJdGVtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBydW5uaW5nIHNlc3Npb25zIHdpZGdldC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aXRsZS5jYXB0aW9uID0gYCR7dGhpcy5tb2RlbC50ZXJtaW5hbHN9IFRlcm1pbmFscywgJHt0aGlzLm1vZGVsLnNlc3Npb25zfSBLZXJuZWwgc2Vzc2lvbnNgO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUnVubmluZ1Nlc3Npb25zQ29tcG9uZW50LCB7IHNlc3Npb25zOiB0aGlzLm1vZGVsLnNlc3Npb25zLCB0ZXJtaW5hbHM6IHRoaXMubW9kZWwudGVybWluYWxzLCBoYW5kbGVDbGljazogdGhpcy5faGFuZGxlQ2xpY2sgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3NlcnZpY2VNYW5hZ2VyLnNlc3Npb25zLnJ1bm5pbmdDaGFuZ2VkLmRpc2Nvbm5lY3QodGhpcy5fb25TZXNzaW9uc1J1bm5pbmdDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fc2VydmljZU1hbmFnZXIudGVybWluYWxzLnJ1bm5pbmdDaGFuZ2VkLmRpc2Nvbm5lY3QodGhpcy5fb25UZXJtaW5hbHNSdW5uaW5nQ2hhbmdlZCwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbnVtYmVyIG9mIGtlcm5lbCBzZXNzaW9ucyB3aGVuIHRoZSBsaXN0IGNoYW5nZXMuXG4gICAgICovXG4gICAgX29uU2Vzc2lvbnNSdW5uaW5nQ2hhbmdlZChtYW5hZ2VyLCBzZXNzaW9ucykge1xuICAgICAgICB0aGlzLm1vZGVsLnNlc3Npb25zID0gc2Vzc2lvbnMubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG51bWJlciBvZiB0ZXJtaW5hbCBzZXNzaW9ucyB3aGVuIHRoZSBsaXN0IGNoYW5nZXMuXG4gICAgICovXG4gICAgX29uVGVybWluYWxzUnVubmluZ0NoYW5nZWQobWFuYWdlciwgdGVybWluYWxzKSB7XG4gICAgICAgIHRoaXMubW9kZWwudGVybWluYWxzID0gdGVybWluYWxzLmxlbmd0aDtcbiAgICB9XG59XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBSdW5uaW5TZXNzaW9ucyBzdGF0aWNzLlxuICovXG4oZnVuY3Rpb24gKFJ1bm5pbmdTZXNzaW9ucykge1xuICAgIC8qKlxuICAgICAqIEEgVkRvbU1vZGVsIGZvciB0aGUgUnVubmluU2Vzc2lvbnMgc3RhdHVzIGl0ZW0uXG4gICAgICovXG4gICAgY2xhc3MgTW9kZWwgZXh0ZW5kcyBWRG9tTW9kZWwge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB0aGlzLl90ZXJtaW5hbHMgPSAwO1xuICAgICAgICAgICAgdGhpcy5fc2Vzc2lvbnMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGFjdGl2ZSBrZXJuZWwgc2Vzc2lvbnMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgc2Vzc2lvbnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbnM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHNlc3Npb25zKHNlc3Npb25zKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRTZXNzaW9ucyA9IHRoaXMuX3Nlc3Npb25zO1xuICAgICAgICAgICAgdGhpcy5fc2Vzc2lvbnMgPSBzZXNzaW9ucztcbiAgICAgICAgICAgIGlmIChvbGRTZXNzaW9ucyAhPT0gdGhpcy5fc2Vzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5lbWl0KHZvaWQgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgYWN0aXZlIHRlcm1pbmFsIHNlc3Npb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHRlcm1pbmFscygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXJtaW5hbHM7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IHRlcm1pbmFscyh0ZXJtaW5hbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFRlcm1pbmFscyA9IHRoaXMuX3Rlcm1pbmFscztcbiAgICAgICAgICAgIHRoaXMuX3Rlcm1pbmFscyA9IHRlcm1pbmFscztcbiAgICAgICAgICAgIGlmIChvbGRUZXJtaW5hbHMgIT09IHRoaXMuX3Rlcm1pbmFscykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkLmVtaXQodm9pZCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBSdW5uaW5nU2Vzc2lvbnMuTW9kZWwgPSBNb2RlbDtcbn0pKFJ1bm5pbmdTZXNzaW9ucyB8fCAoUnVubmluZ1Nlc3Npb25zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bm5pbmdTZXNzaW9ucy5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBBcnJheUV4dCB9IGZyb20gJ0BsdW1pbm8vYWxnb3JpdGhtJztcbmltcG9ydCB7IERpc3Bvc2FibGVEZWxlZ2F0ZSwgRGlzcG9zYWJsZVNldCB9IGZyb20gJ0BsdW1pbm8vZGlzcG9zYWJsZSc7XG5pbXBvcnQgeyBXaWRnZXQsIFBhbmVsLCBQYW5lbExheW91dCB9IGZyb20gJ0BsdW1pbm8vd2lkZ2V0cyc7XG5pbXBvcnQgeyBzdGF0dXNCYXIgYXMgYmFyU3R5bGUsIHNpZGUgYXMgc2lkZVN0eWxlLCBpdGVtIGFzIGl0ZW1TdHlsZSwgbGVmdFNpZGUgYXMgbGVmdFNpZGVTdHlsZSwgcmlnaHRTaWRlIGFzIHJpZ2h0U2lkZVN0eWxlIH0gZnJvbSAnLi9zdHlsZS9zdGF0dXNiYXInO1xuLyoqXG4gKiBNYWluIHN0YXR1cyBiYXIgb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGFsbCBpdGVtcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0YXR1c0JhciBleHRlbmRzIFdpZGdldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2xlZnRSYW5rSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fcmlnaHRSYW5rSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5fc3RhdHVzSXRlbXMgPSB7fTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBuZXcgRGlzcG9zYWJsZVNldCgpO1xuICAgICAgICB0aGlzLmFkZENsYXNzKGJhclN0eWxlKTtcbiAgICAgICAgbGV0IHJvb3RMYXlvdXQgPSAodGhpcy5sYXlvdXQgPSBuZXcgUGFuZWxMYXlvdXQoKSk7XG4gICAgICAgIGxldCBsZWZ0UGFuZWwgPSAodGhpcy5fbGVmdFNpZGUgPSBuZXcgUGFuZWwoKSk7XG4gICAgICAgIGxldCBtaWRkbGVQYW5lbCA9ICh0aGlzLl9taWRkbGVQYW5lbCA9IG5ldyBQYW5lbCgpKTtcbiAgICAgICAgbGV0IHJpZ2h0UGFuZWwgPSAodGhpcy5fcmlnaHRTaWRlID0gbmV3IFBhbmVsKCkpO1xuICAgICAgICBsZWZ0UGFuZWwuYWRkQ2xhc3Moc2lkZVN0eWxlKTtcbiAgICAgICAgbGVmdFBhbmVsLmFkZENsYXNzKGxlZnRTaWRlU3R5bGUpO1xuICAgICAgICBtaWRkbGVQYW5lbC5hZGRDbGFzcyhzaWRlU3R5bGUpO1xuICAgICAgICByaWdodFBhbmVsLmFkZENsYXNzKHNpZGVTdHlsZSk7XG4gICAgICAgIHJpZ2h0UGFuZWwuYWRkQ2xhc3MocmlnaHRTaWRlU3R5bGUpO1xuICAgICAgICByb290TGF5b3V0LmFkZFdpZGdldChsZWZ0UGFuZWwpO1xuICAgICAgICByb290TGF5b3V0LmFkZFdpZGdldChtaWRkbGVQYW5lbCk7XG4gICAgICAgIHJvb3RMYXlvdXQuYWRkV2lkZ2V0KHJpZ2h0UGFuZWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBzdGF0dXMgaXRlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIGEgdW5pcXVlIGlkIGZvciB0aGUgc3RhdHVzIGl0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdHVzSXRlbSAtIFRoZSBpdGVtIHRvIGFkZCB0byB0aGUgc3RhdHVzIGJhci5cbiAgICAgKi9cbiAgICByZWdpc3RlclN0YXR1c0l0ZW0oaWQsIHN0YXR1c0l0ZW0pIHtcbiAgICAgICAgaWYgKGlkIGluIHRoaXMuX3N0YXR1c0l0ZW1zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0YXR1cyBpdGVtICR7aWR9IGFscmVhZHkgcmVnaXN0ZXJlZC5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQb3B1bGF0ZSBkZWZhdWx0cyBmb3IgdGhlIG9wdGlvbmFsIHByb3BlcnRpZXMgb2YgdGhlIHN0YXR1cyBpdGVtLlxuICAgICAgICBjb25zdCBmdWxsU3RhdHVzSXRlbSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgUHJpdmF0ZS5zdGF0dXNJdGVtRGVmYXVsdHMpLCBzdGF0dXNJdGVtKTtcbiAgICAgICAgY29uc3QgeyBhbGlnbiwgaXRlbSwgcmFuayB9ID0gZnVsbFN0YXR1c0l0ZW07XG4gICAgICAgIC8vIENvbm5lY3QgdGhlIGFjdGl2ZVN0YXRlQ2hhbmdlZCBzaWduYWwgdG8gcmVmcmVzaGluZyB0aGUgc3RhdHVzIGl0ZW0sXG4gICAgICAgIC8vIGlmIHRoZSBzaWduYWwgd2FzIHByb3ZpZGVkLlxuICAgICAgICBjb25zdCBvbkFjdGl2ZVN0YXRlQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2hJdGVtKGlkKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGZ1bGxTdGF0dXNJdGVtLmFjdGl2ZVN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgZnVsbFN0YXR1c0l0ZW0uYWN0aXZlU3RhdGVDaGFuZ2VkLmNvbm5lY3Qob25BY3RpdmVTdGF0ZUNoYW5nZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByYW5rSXRlbSA9IHsgaWQsIHJhbmsgfTtcbiAgICAgICAgZnVsbFN0YXR1c0l0ZW0uaXRlbS5hZGRDbGFzcyhpdGVtU3R5bGUpO1xuICAgICAgICB0aGlzLl9zdGF0dXNJdGVtc1tpZF0gPSBmdWxsU3RhdHVzSXRlbTtcbiAgICAgICAgaWYgKGFsaWduID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIGxldCBpbnNlcnRJbmRleCA9IHRoaXMuX2ZpbmRJbnNlcnRJbmRleCh0aGlzLl9sZWZ0UmFua0l0ZW1zLCByYW5rSXRlbSk7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGVmdFNpZGUuYWRkV2lkZ2V0KGl0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xlZnRSYW5rSXRlbXMucHVzaChyYW5rSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBBcnJheUV4dC5pbnNlcnQodGhpcy5fbGVmdFJhbmtJdGVtcywgaW5zZXJ0SW5kZXgsIHJhbmtJdGVtKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWZ0U2lkZS5pbnNlcnRXaWRnZXQoaW5zZXJ0SW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0SW5kZXggPSB0aGlzLl9maW5kSW5zZXJ0SW5kZXgodGhpcy5fcmlnaHRSYW5rSXRlbXMsIHJhbmtJdGVtKTtcbiAgICAgICAgICAgIGlmIChpbnNlcnRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yaWdodFNpZGUuYWRkV2lkZ2V0KGl0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JpZ2h0UmFua0l0ZW1zLnB1c2gocmFua0l0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgQXJyYXlFeHQuaW5zZXJ0KHRoaXMuX3JpZ2h0UmFua0l0ZW1zLCBpbnNlcnRJbmRleCwgcmFua0l0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JpZ2h0U2lkZS5pbnNlcnRXaWRnZXQoaW5zZXJ0SW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWlkZGxlUGFuZWwuYWRkV2lkZ2V0KGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlZnJlc2hJdGVtKGlkKTsgLy8gSW5pdGlhbGx5IHJlZnJlc2ggdGhlIHN0YXR1cyBpdGVtLlxuICAgICAgICBjb25zdCBkaXNwb3NhYmxlID0gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZSgoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc3RhdHVzSXRlbXNbaWRdO1xuICAgICAgICAgICAgaWYgKGZ1bGxTdGF0dXNJdGVtLmFjdGl2ZVN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGZ1bGxTdGF0dXNJdGVtLmFjdGl2ZVN0YXRlQ2hhbmdlZC5kaXNjb25uZWN0KG9uQWN0aXZlU3RhdGVDaGFuZ2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGl0ZW0uZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMuYWRkKGRpc3Bvc2FibGUpO1xuICAgICAgICByZXR1cm4gZGlzcG9zYWJsZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgc3RhdHVzIGJhci5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9sZWZ0UmFua0l0ZW1zLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX3JpZ2h0UmFua0l0ZW1zLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGVzLmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYW4gJ3VwZGF0ZS1yZXF1ZXN0JyBtZXNzYWdlIHRvIHRoZSBzdGF0dXMgYmFyLlxuICAgICAqL1xuICAgIG9uVXBkYXRlUmVxdWVzdChtc2cpIHtcbiAgICAgICAgdGhpcy5fcmVmcmVzaEFsbCgpO1xuICAgICAgICBzdXBlci5vblVwZGF0ZVJlcXVlc3QobXNnKTtcbiAgICB9XG4gICAgX2ZpbmRJbnNlcnRJbmRleChzaWRlLCBuZXdJdGVtKSB7XG4gICAgICAgIHJldHVybiBBcnJheUV4dC5maW5kRmlyc3RJbmRleChzaWRlLCBpdGVtID0+IGl0ZW0ucmFuayA+IG5ld0l0ZW0ucmFuayk7XG4gICAgfVxuICAgIF9yZWZyZXNoSXRlbShpZCkge1xuICAgICAgICBjb25zdCBzdGF0dXNJdGVtID0gdGhpcy5fc3RhdHVzSXRlbXNbaWRdO1xuICAgICAgICBpZiAoc3RhdHVzSXRlbS5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICBzdGF0dXNJdGVtLml0ZW0uc2hvdygpO1xuICAgICAgICAgICAgc3RhdHVzSXRlbS5pdGVtLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzSXRlbS5pdGVtLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVmcmVzaEFsbCgpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5fc3RhdHVzSXRlbXMpLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaEl0ZW0oaWQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBwcml2YXRlIGZ1bmN0aW9uYWxpdHkuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBvcHRpb25zIGZvciBhIHN0YXR1cyBpdGVtLCBsZXNzIHRoZSBpdGVtIGl0c2VsZi5cbiAgICAgKi9cbiAgICBQcml2YXRlLnN0YXR1c0l0ZW1EZWZhdWx0cyA9IHtcbiAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgcmFuazogMCxcbiAgICAgICAgaXNBY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgIGFjdGl2ZVN0YXRlQ2hhbmdlZDogdW5kZWZpbmVkXG4gICAgfTtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdHVzYmFyLmpzLm1hcCIsInZhciBtYXAgPSB7XG5cdFwiLi9hZlwiOiBcIitCakdcIixcblx0XCIuL2FmLmpzXCI6IFwiK0JqR1wiLFxuXHRcIi4vYXJcIjogXCJ0YnJGXCIsXG5cdFwiLi9hci1kelwiOiBcIm5RZ1ZcIixcblx0XCIuL2FyLWR6LmpzXCI6IFwiblFnVlwiLFxuXHRcIi4vYXIta3dcIjogXCIvVDF3XCIsXG5cdFwiLi9hci1rdy5qc1wiOiBcIi9UMXdcIixcblx0XCIuL2FyLWx5XCI6IFwiRGZZVVwiLFxuXHRcIi4vYXItbHkuanNcIjogXCJEZllVXCIsXG5cdFwiLi9hci1tYVwiOiBcIjlmZ3VcIixcblx0XCIuL2FyLW1hLmpzXCI6IFwiOWZndVwiLFxuXHRcIi4vYXItc2FcIjogXCJoczM5XCIsXG5cdFwiLi9hci1zYS5qc1wiOiBcImhzMzlcIixcblx0XCIuL2FyLXRuXCI6IFwiV0RCRFwiLFxuXHRcIi4vYXItdG4uanNcIjogXCJXREJEXCIsXG5cdFwiLi9hci5qc1wiOiBcInRickZcIixcblx0XCIuL2F6XCI6IFwibjkvVVwiLFxuXHRcIi4vYXouanNcIjogXCJuOS9VXCIsXG5cdFwiLi9iZVwiOiBcIlRUWnBcIixcblx0XCIuL2JlLmpzXCI6IFwiVFRacFwiLFxuXHRcIi4vYmdcIjogXCI2SU1PXCIsXG5cdFwiLi9iZy5qc1wiOiBcIjZJTU9cIixcblx0XCIuL2JtXCI6IFwiUXBnS1wiLFxuXHRcIi4vYm0uanNcIjogXCJRcGdLXCIsXG5cdFwiLi9iblwiOiBcIkt5NTJcIixcblx0XCIuL2JuLmpzXCI6IFwiS3k1MlwiLFxuXHRcIi4vYm9cIjogXCJxUDd5XCIsXG5cdFwiLi9iby5qc1wiOiBcInFQN3lcIixcblx0XCIuL2JyXCI6IFwicXdLVVwiLFxuXHRcIi4vYnIuanNcIjogXCJxd0tVXCIsXG5cdFwiLi9ic1wiOiBcInlzTi9cIixcblx0XCIuL2JzLmpzXCI6IFwieXNOL1wiLFxuXHRcIi4vY2FcIjogXCJjbndWXCIsXG5cdFwiLi9jYS5qc1wiOiBcImNud1ZcIixcblx0XCIuL2NzXCI6IFwiMnhVQlwiLFxuXHRcIi4vY3MuanNcIjogXCIyeFVCXCIsXG5cdFwiLi9jdlwiOiBcIktHWStcIixcblx0XCIuL2N2LmpzXCI6IFwiS0dZK1wiLFxuXHRcIi4vY3lcIjogXCI0dUN3XCIsXG5cdFwiLi9jeS5qc1wiOiBcIjR1Q3dcIixcblx0XCIuL2RhXCI6IFwiMFpBcFwiLFxuXHRcIi4vZGEuanNcIjogXCIwWkFwXCIsXG5cdFwiLi9kZVwiOiBcIlZ6RTRcIixcblx0XCIuL2RlLWF0XCI6IFwiWjNiY1wiLFxuXHRcIi4vZGUtYXQuanNcIjogXCJaM2JjXCIsXG5cdFwiLi9kZS1jaFwiOiBcImE5bEhcIixcblx0XCIuL2RlLWNoLmpzXCI6IFwiYTlsSFwiLFxuXHRcIi4vZGUuanNcIjogXCJWekU0XCIsXG5cdFwiLi9kdlwiOiBcImVDZG9cIixcblx0XCIuL2R2LmpzXCI6IFwiZUNkb1wiLFxuXHRcIi4vZWxcIjogXCJNMUNuXCIsXG5cdFwiLi9lbC5qc1wiOiBcIk0xQ25cIixcblx0XCIuL2VuLVNHXCI6IFwiWFlNdFwiLFxuXHRcIi4vZW4tU0cuanNcIjogXCJYWU10XCIsXG5cdFwiLi9lbi1hdVwiOiBcIjVvNFdcIixcblx0XCIuL2VuLWF1LmpzXCI6IFwiNW80V1wiLFxuXHRcIi4vZW4tY2FcIjogXCJ0S2tHXCIsXG5cdFwiLi9lbi1jYS5qc1wiOiBcInRLa0dcIixcblx0XCIuL2VuLWdiXCI6IFwiTGcrR1wiLFxuXHRcIi4vZW4tZ2IuanNcIjogXCJMZytHXCIsXG5cdFwiLi9lbi1pZVwiOiBcIklBZDNcIixcblx0XCIuL2VuLWllLmpzXCI6IFwiSUFkM1wiLFxuXHRcIi4vZW4taWxcIjogXCJNTnhEXCIsXG5cdFwiLi9lbi1pbC5qc1wiOiBcIk1OeERcIixcblx0XCIuL2VuLW56XCI6IFwiK2t5UlwiLFxuXHRcIi4vZW4tbnouanNcIjogXCIra3lSXCIsXG5cdFwiLi9lb1wiOiBcIit3MFhcIixcblx0XCIuL2VvLmpzXCI6IFwiK3cwWFwiLFxuXHRcIi4vZXNcIjogXCJ2UXhGXCIsXG5cdFwiLi9lcy1kb1wiOiBcIi9vV0hcIixcblx0XCIuL2VzLWRvLmpzXCI6IFwiL29XSFwiLFxuXHRcIi4vZXMtdXNcIjogXCJ3Y0xtXCIsXG5cdFwiLi9lcy11cy5qc1wiOiBcIndjTG1cIixcblx0XCIuL2VzLmpzXCI6IFwidlF4RlwiLFxuXHRcIi4vZXRcIjogXCJqbEhoXCIsXG5cdFwiLi9ldC5qc1wiOiBcImpsSGhcIixcblx0XCIuL2V1XCI6IFwiZ0VmUlwiLFxuXHRcIi4vZXUuanNcIjogXCJnRWZSXCIsXG5cdFwiLi9mYVwiOiBcInJPUGFcIixcblx0XCIuL2ZhLmpzXCI6IFwick9QYVwiLFxuXHRcIi4vZmlcIjogXCJOUkxFXCIsXG5cdFwiLi9maS5qc1wiOiBcIk5STEVcIixcblx0XCIuL2ZvXCI6IFwiS1cyWlwiLFxuXHRcIi4vZm8uanNcIjogXCJLVzJaXCIsXG5cdFwiLi9mclwiOiBcIllxN2pcIixcblx0XCIuL2ZyLWNhXCI6IFwiOVNDOVwiLFxuXHRcIi4vZnItY2EuanNcIjogXCI5U0M5XCIsXG5cdFwiLi9mci1jaFwiOiBcInFkbGZcIixcblx0XCIuL2ZyLWNoLmpzXCI6IFwicWRsZlwiLFxuXHRcIi4vZnIuanNcIjogXCJZcTdqXCIsXG5cdFwiLi9meVwiOiBcInU0TTVcIixcblx0XCIuL2Z5LmpzXCI6IFwidTRNNVwiLFxuXHRcIi4vZ2FcIjogXCIrcXk2XCIsXG5cdFwiLi9nYS5qc1wiOiBcIitxeTZcIixcblx0XCIuL2dkXCI6IFwiVHpCdVwiLFxuXHRcIi4vZ2QuanNcIjogXCJUekJ1XCIsXG5cdFwiLi9nbFwiOiBcIkgzeXBcIixcblx0XCIuL2dsLmpzXCI6IFwiSDN5cFwiLFxuXHRcIi4vZ29tLWxhdG5cIjogXCIycUpwXCIsXG5cdFwiLi9nb20tbGF0bi5qc1wiOiBcIjJxSnBcIixcblx0XCIuL2d1XCI6IFwiV2ZINlwiLFxuXHRcIi4vZ3UuanNcIjogXCJXZkg2XCIsXG5cdFwiLi9oZVwiOiBcInVWSTZcIixcblx0XCIuL2hlLmpzXCI6IFwidVZJNlwiLFxuXHRcIi4vaGlcIjogXCJOakJRXCIsXG5cdFwiLi9oaS5qc1wiOiBcIk5qQlFcIixcblx0XCIuL2hyXCI6IFwiMXdWOFwiLFxuXHRcIi4vaHIuanNcIjogXCIxd1Y4XCIsXG5cdFwiLi9odVwiOiBcIkVNbE9cIixcblx0XCIuL2h1LmpzXCI6IFwiRU1sT1wiLFxuXHRcIi4vaHktYW1cIjogXCJTMnA3XCIsXG5cdFwiLi9oeS1hbS5qc1wiOiBcIlMycDdcIixcblx0XCIuL2lkXCI6IFwiZFBvVFwiLFxuXHRcIi4vaWQuanNcIjogXCJkUG9UXCIsXG5cdFwiLi9pc1wiOiBcInd5bU9cIixcblx0XCIuL2lzLmpzXCI6IFwid3ltT1wiLFxuXHRcIi4vaXRcIjogXCI3a2QxXCIsXG5cdFwiLi9pdC1jaFwiOiBcInVxNkdcIixcblx0XCIuL2l0LWNoLmpzXCI6IFwidXE2R1wiLFxuXHRcIi4vaXQuanNcIjogXCI3a2QxXCIsXG5cdFwiLi9qYVwiOiBcImEyenZcIixcblx0XCIuL2phLmpzXCI6IFwiYTJ6dlwiLFxuXHRcIi4vanZcIjogXCJ6aml5XCIsXG5cdFwiLi9qdi5qc1wiOiBcInpqaXlcIixcblx0XCIuL2thXCI6IFwiZXRXSlwiLFxuXHRcIi4va2EuanNcIjogXCJldFdKXCIsXG5cdFwiLi9ra1wiOiBcIkdHaFJcIixcblx0XCIuL2trLmpzXCI6IFwiR0doUlwiLFxuXHRcIi4va21cIjogXCJyMHYyXCIsXG5cdFwiLi9rbS5qc1wiOiBcInIwdjJcIixcblx0XCIuL2tuXCI6IFwiYVRQRFwiLFxuXHRcIi4va24uanNcIjogXCJhVFBEXCIsXG5cdFwiLi9rb1wiOiBcIk93azFcIixcblx0XCIuL2tvLmpzXCI6IFwiT3drMVwiLFxuXHRcIi4va3VcIjogXCIxNkk5XCIsXG5cdFwiLi9rdS5qc1wiOiBcIjE2STlcIixcblx0XCIuL2t5XCI6IFwiUk5vMlwiLFxuXHRcIi4va3kuanNcIjogXCJSTm8yXCIsXG5cdFwiLi9sYlwiOiBcIk9xd05cIixcblx0XCIuL2xiLmpzXCI6IFwiT3F3TlwiLFxuXHRcIi4vbG9cIjogXCJUWEsrXCIsXG5cdFwiLi9sby5qc1wiOiBcIlRYSytcIixcblx0XCIuL2x0XCI6IFwiVXpjeVwiLFxuXHRcIi4vbHQuanNcIjogXCJVemN5XCIsXG5cdFwiLi9sdlwiOiBcIm1qRmJcIixcblx0XCIuL2x2LmpzXCI6IFwibWpGYlwiLFxuXHRcIi4vbWVcIjogXCJ5ZSt6XCIsXG5cdFwiLi9tZS5qc1wiOiBcInllK3pcIixcblx0XCIuL21pXCI6IFwiNVpCY1wiLFxuXHRcIi4vbWkuanNcIjogXCI1WkJjXCIsXG5cdFwiLi9ta1wiOiBcIkJKSm5cIixcblx0XCIuL21rLmpzXCI6IFwiQkpKblwiLFxuXHRcIi4vbWxcIjogXCJZdjZsXCIsXG5cdFwiLi9tbC5qc1wiOiBcIll2NmxcIixcblx0XCIuL21uXCI6IFwiWDI2V1wiLFxuXHRcIi4vbW4uanNcIjogXCJYMjZXXCIsXG5cdFwiLi9tclwiOiBcInFoY3pcIixcblx0XCIuL21yLmpzXCI6IFwicWhjelwiLFxuXHRcIi4vbXNcIjogXCJZZEFXXCIsXG5cdFwiLi9tcy1teVwiOiBcIml1OE9cIixcblx0XCIuL21zLW15LmpzXCI6IFwiaXU4T1wiLFxuXHRcIi4vbXMuanNcIjogXCJZZEFXXCIsXG5cdFwiLi9tdFwiOiBcImFWdGpcIixcblx0XCIuL210LmpzXCI6IFwiYVZ0alwiLFxuXHRcIi4vbXlcIjogXCI0T3BFXCIsXG5cdFwiLi9teS5qc1wiOiBcIjRPcEVcIixcblx0XCIuL25iXCI6IFwiUWVDNlwiLFxuXHRcIi4vbmIuanNcIjogXCJRZUM2XCIsXG5cdFwiLi9uZVwiOiBcIjBDdnRcIixcblx0XCIuL25lLmpzXCI6IFwiMEN2dFwiLFxuXHRcIi4vbmxcIjogXCJhYlpsXCIsXG5cdFwiLi9ubC1iZVwiOiBcIkJ5aktcIixcblx0XCIuL25sLWJlLmpzXCI6IFwiQnlqS1wiLFxuXHRcIi4vbmwuanNcIjogXCJhYlpsXCIsXG5cdFwiLi9ublwiOiBcIi9DSW1cIixcblx0XCIuL25uLmpzXCI6IFwiL0NJbVwiLFxuXHRcIi4vcGEtaW5cIjogXCIrbko4XCIsXG5cdFwiLi9wYS1pbi5qc1wiOiBcIituSjhcIixcblx0XCIuL3BsXCI6IFwiZ0NGM1wiLFxuXHRcIi4vcGwuanNcIjogXCJnQ0YzXCIsXG5cdFwiLi9wdFwiOiBcInp5cUJcIixcblx0XCIuL3B0LWJyXCI6IFwibC85Z1wiLFxuXHRcIi4vcHQtYnIuanNcIjogXCJsLzlnXCIsXG5cdFwiLi9wdC5qc1wiOiBcInp5cUJcIixcblx0XCIuL3JvXCI6IFwiTzF0L1wiLFxuXHRcIi4vcm8uanNcIjogXCJPMXQvXCIsXG5cdFwiLi9ydVwiOiBcImFJT2pcIixcblx0XCIuL3J1LmpzXCI6IFwiYUlPalwiLFxuXHRcIi4vc2RcIjogXCI2S0hvXCIsXG5cdFwiLi9zZC5qc1wiOiBcIjZLSG9cIixcblx0XCIuL3NlXCI6IFwiZmJIRlwiLFxuXHRcIi4vc2UuanNcIjogXCJmYkhGXCIsXG5cdFwiLi9zaVwiOiBcIkU0WVRcIixcblx0XCIuL3NpLmpzXCI6IFwiRTRZVFwiLFxuXHRcIi4vc2tcIjogXCIxa1Y3XCIsXG5cdFwiLi9zay5qc1wiOiBcIjFrVjdcIixcblx0XCIuL3NsXCI6IFwiNWg5OVwiLFxuXHRcIi4vc2wuanNcIjogXCI1aDk5XCIsXG5cdFwiLi9zcVwiOiBcIjdqVHdcIixcblx0XCIuL3NxLmpzXCI6IFwiN2pUd1wiLFxuXHRcIi4vc3JcIjogXCI2cFFRXCIsXG5cdFwiLi9zci1jeXJsXCI6IFwiR3JBUVwiLFxuXHRcIi4vc3ItY3lybC5qc1wiOiBcIkdyQVFcIixcblx0XCIuL3NyLmpzXCI6IFwiNnBRUVwiLFxuXHRcIi4vc3NcIjogXCI1NHF3XCIsXG5cdFwiLi9zcy5qc1wiOiBcIjU0cXdcIixcblx0XCIuL3N2XCI6IFwiQVF3a1wiLFxuXHRcIi4vc3YuanNcIjogXCJBUXdrXCIsXG5cdFwiLi9zd1wiOiBcIkZGQW5cIixcblx0XCIuL3N3LmpzXCI6IFwiRkZBblwiLFxuXHRcIi4vdGFcIjogXCJxaFR5XCIsXG5cdFwiLi90YS5qc1wiOiBcInFoVHlcIixcblx0XCIuL3RlXCI6IFwidnJielwiLFxuXHRcIi4vdGUuanNcIjogXCJ2cmJ6XCIsXG5cdFwiLi90ZXRcIjogXCJKOXFYXCIsXG5cdFwiLi90ZXQuanNcIjogXCJKOXFYXCIsXG5cdFwiLi90Z1wiOiBcIlM5N1FcIixcblx0XCIuL3RnLmpzXCI6IFwiUzk3UVwiLFxuXHRcIi4vdGhcIjogXCJMZFpTXCIsXG5cdFwiLi90aC5qc1wiOiBcIkxkWlNcIixcblx0XCIuL3RsLXBoXCI6IFwibzJ5QlwiLFxuXHRcIi4vdGwtcGguanNcIjogXCJvMnlCXCIsXG5cdFwiLi90bGhcIjogXCJoc25NXCIsXG5cdFwiLi90bGguanNcIjogXCJoc25NXCIsXG5cdFwiLi90clwiOiBcIloxVmJcIixcblx0XCIuL3RyLmpzXCI6IFwiWjFWYlwiLFxuXHRcIi4vdHpsXCI6IFwiWFAwZlwiLFxuXHRcIi4vdHpsLmpzXCI6IFwiWFAwZlwiLFxuXHRcIi4vdHptXCI6IFwiU0JMeVwiLFxuXHRcIi4vdHptLWxhdG5cIjogXCJaamJHXCIsXG5cdFwiLi90em0tbGF0bi5qc1wiOiBcIlpqYkdcIixcblx0XCIuL3R6bS5qc1wiOiBcIlNCTHlcIixcblx0XCIuL3VnLWNuXCI6IFwicTNWMlwiLFxuXHRcIi4vdWctY24uanNcIjogXCJxM1YyXCIsXG5cdFwiLi91a1wiOiBcIm4yRVZcIixcblx0XCIuL3VrLmpzXCI6IFwibjJFVlwiLFxuXHRcIi4vdXJcIjogXCJyZldXXCIsXG5cdFwiLi91ci5qc1wiOiBcInJmV1dcIixcblx0XCIuL3V6XCI6IFwiKzIzelwiLFxuXHRcIi4vdXotbGF0blwiOiBcIm5WQm9cIixcblx0XCIuL3V6LWxhdG4uanNcIjogXCJuVkJvXCIsXG5cdFwiLi91ei5qc1wiOiBcIisyM3pcIixcblx0XCIuL3ZpXCI6IFwibWFYYVwiLFxuXHRcIi4vdmkuanNcIjogXCJtYVhhXCIsXG5cdFwiLi94LXBzZXVkb1wiOiBcInc4OGlcIixcblx0XCIuL3gtcHNldWRvLmpzXCI6IFwidzg4aVwiLFxuXHRcIi4veW9cIjogXCJQdFhjXCIsXG5cdFwiLi95by5qc1wiOiBcIlB0WGNcIixcblx0XCIuL3poLWNuXCI6IFwiNnhVQlwiLFxuXHRcIi4vemgtY24uanNcIjogXCI2eFVCXCIsXG5cdFwiLi96aC1oa1wiOiBcInQrTGxcIixcblx0XCIuL3poLWhrLmpzXCI6IFwidCtMbFwiLFxuXHRcIi4vemgtdHdcIjogXCJHcnVBXCIsXG5cdFwiLi96aC10dy5qc1wiOiBcIkdydUFcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwibnd4blwiOyIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc2VydmVyY29ubmVjdGlvbl8xID0gcmVxdWlyZShcIi4uL3NlcnZlcmNvbm5lY3Rpb25cIik7XG5jb25zdCBjb3JldXRpbHNfMSA9IHJlcXVpcmUoXCJAanVweXRlcmxhYi9jb3JldXRpbHNcIik7XG5jb25zdCB2YWxpZGF0ZV8xID0gcmVxdWlyZShcIi4vdmFsaWRhdGVcIik7XG4vKipcbiAqIFRoZSB1cmwgZm9yIHRoZSBrZXJuZWwgc2VydmljZS5cbiAqL1xuZXhwb3J0cy5LRVJORUxfU0VSVklDRV9VUkwgPSAnYXBpL2tlcm5lbHMnO1xuLyoqXG4gKiBGZXRjaCB0aGUgcnVubmluZyBrZXJuZWxzLlxuICpcbiAqIEBwYXJhbSBzZXR0aW5ncyAtIFRoZSBvcHRpb25hbCBzZXJ2ZXIgc2V0dGluZ3MuXG4gKlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgbGlzdCBvZiBydW5uaW5nIGtlcm5lbHMuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9rZXJuZWxzKSBhbmQgdmFsaWRhdGVzIHRoZSByZXNwb25zZSBtb2RlbC5cbiAqXG4gKiBUaGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgb24gYSB2YWxpZCByZXNwb25zZSBhbmQgcmVqZWN0ZWQgb3RoZXJ3aXNlLlxuICovXG5hc3luYyBmdW5jdGlvbiBsaXN0UnVubmluZyhzZXR0aW5ncyA9IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSB7XG4gICAgbGV0IHVybCA9IGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKHNldHRpbmdzLmJhc2VVcmwsIGV4cG9ydHMuS0VSTkVMX1NFUlZJQ0VfVVJMKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwge30sIHNldHRpbmdzKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVNb2RlbHMoZGF0YSk7XG4gICAgcmV0dXJuIGRhdGE7XG59XG5leHBvcnRzLmxpc3RSdW5uaW5nID0gbGlzdFJ1bm5pbmc7XG4vKipcbiAqIFN0YXJ0IGEgbmV3IGtlcm5lbC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoZSBrZXJuZWwuXG4gKlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIGtlcm5lbCBjb25uZWN0aW9uIG9iamVjdC5cbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiBVc2VzIHRoZSBbSnVweXRlciBOb3RlYm9vayBBUEldKGh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLmlvLz91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2p1cHl0ZXIvbm90ZWJvb2svbWFzdGVyL25vdGVib29rL3NlcnZpY2VzL2FwaS9hcGkueWFtbCMhL2tlcm5lbHMpIGFuZCB2YWxpZGF0ZXMgdGhlIHJlc3BvbnNlIG1vZGVsLlxuICpcbiAqIFRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBvbiBhIHZhbGlkIHJlc3BvbnNlIGFuZCByZWplY3RlZCBvdGhlcndpc2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHN0YXJ0TmV3KG9wdGlvbnMgPSB7fSwgc2V0dGluZ3MgPSBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlU2V0dGluZ3MoKSkge1xuICAgIGxldCB1cmwgPSBjb3JldXRpbHNfMS5VUkxFeHQuam9pbihzZXR0aW5ncy5iYXNlVXJsLCBleHBvcnRzLktFUk5FTF9TRVJWSUNFX1VSTCk7XG4gICAgbGV0IGluaXQgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvcHRpb25zKVxuICAgIH07XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCBpbml0LCBzZXR0aW5ncyk7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAxKSB7XG4gICAgICAgIHRocm93IG5ldyBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5SZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgbGV0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgdmFsaWRhdGVfMS52YWxpZGF0ZU1vZGVsKGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xufVxuZXhwb3J0cy5zdGFydE5ldyA9IHN0YXJ0TmV3O1xuLyoqXG4gKiBSZXN0YXJ0IGEga2VybmVsLlxuICpcbiAqICMjIyMgTm90ZXNcbiAqIFVzZXMgdGhlIFtKdXB5dGVyIE5vdGVib29rIEFQSV0oaHR0cDovL3BldHN0b3JlLnN3YWdnZXIuaW8vP3VybD1odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vanVweXRlci9ub3RlYm9vay9tYXN0ZXIvbm90ZWJvb2svc2VydmljZXMvYXBpL2FwaS55YW1sIyEva2VybmVscykgYW5kIHZhbGlkYXRlcyB0aGUgcmVzcG9uc2UgbW9kZWwuXG4gKlxuICogVGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIG9uIGEgdmFsaWQgcmVzcG9uc2UgKGFuZCB0aHVzIGFmdGVyIGEgcmVzdGFydCkgYW5kIHJlamVjdGVkIG90aGVyd2lzZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmVzdGFydEtlcm5lbChpZCwgc2V0dGluZ3MgPSBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlU2V0dGluZ3MoKSkge1xuICAgIGxldCB1cmwgPSBjb3JldXRpbHNfMS5VUkxFeHQuam9pbihzZXR0aW5ncy5iYXNlVXJsLCBleHBvcnRzLktFUk5FTF9TRVJWSUNFX1VSTCwgZW5jb2RlVVJJQ29tcG9uZW50KGlkKSwgJ3Jlc3RhcnQnKTtcbiAgICBsZXQgaW5pdCA9IHsgbWV0aG9kOiAnUE9TVCcgfTtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIGluaXQsIHNldHRpbmdzKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgIH1cbiAgICBsZXQgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlTW9kZWwoZGF0YSk7XG59XG5leHBvcnRzLnJlc3RhcnRLZXJuZWwgPSByZXN0YXJ0S2VybmVsO1xuLyoqXG4gKiBJbnRlcnJ1cHQgYSBrZXJuZWwuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9rZXJuZWxzKSBhbmQgdmFsaWRhdGVzIHRoZSByZXNwb25zZSBtb2RlbC5cbiAqXG4gKiBUaGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgb24gYSB2YWxpZCByZXNwb25zZSBhbmQgcmVqZWN0ZWQgb3RoZXJ3aXNlLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbnRlcnJ1cHRLZXJuZWwoaWQsIHNldHRpbmdzID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVNldHRpbmdzKCkpIHtcbiAgICBsZXQgdXJsID0gY29yZXV0aWxzXzEuVVJMRXh0LmpvaW4oc2V0dGluZ3MuYmFzZVVybCwgZXhwb3J0cy5LRVJORUxfU0VSVklDRV9VUkwsIGVuY29kZVVSSUNvbXBvbmVudChpZCksICdpbnRlcnJ1cHQnKTtcbiAgICBsZXQgaW5pdCA9IHsgbWV0aG9kOiAnUE9TVCcgfTtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlUmVxdWVzdCh1cmwsIGluaXQsIHNldHRpbmdzKTtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgdGhyb3cgbmV3IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuaW50ZXJydXB0S2VybmVsID0gaW50ZXJydXB0S2VybmVsO1xuLyoqXG4gKiBTaHV0IGRvd24gYSBrZXJuZWwuXG4gKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBydW5uaW5nIGtlcm5lbC5cbiAqXG4gKiBAcGFyYW0gc2V0dGluZ3MgLSBUaGUgc2VydmVyIHNldHRpbmdzIGZvciB0aGUgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBrZXJuZWwgaXMgc2h1dCBkb3duLlxuICpcbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiBVc2VzIHRoZSBbSnVweXRlciBOb3RlYm9vayBBUEldKGh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLmlvLz91cmw9aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2p1cHl0ZXIvbm90ZWJvb2svbWFzdGVyL25vdGVib29rL3NlcnZpY2VzL2FwaS9hcGkueWFtbCMhL2tlcm5lbHMpIGFuZCB2YWxpZGF0ZXMgdGhlIHJlc3BvbnNlIG1vZGVsLlxuICpcbiAqIFRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBvbiBhIHZhbGlkIHJlc3BvbnNlIGFuZCByZWplY3RlZCBvdGhlcndpc2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNodXRkb3duS2VybmVsKGlkLCBzZXR0aW5ncyA9IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VTZXR0aW5ncygpKSB7XG4gICAgbGV0IHVybCA9IGNvcmV1dGlsc18xLlVSTEV4dC5qb2luKHNldHRpbmdzLmJhc2VVcmwsIGV4cG9ydHMuS0VSTkVMX1NFUlZJQ0VfVVJMLCBlbmNvZGVVUklDb21wb25lbnQoaWQpKTtcbiAgICBsZXQgaW5pdCA9IHsgbWV0aG9kOiAnREVMRVRFJyB9O1xuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLm1ha2VSZXF1ZXN0KHVybCwgaW5pdCwgc2V0dGluZ3MpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBsZXQgbXNnID0gYFRoZSBrZXJuZWwgXCIke2lkfVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBzZXJ2ZXJgO1xuICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgdGhyb3cgbmV3IHNlcnZlcmNvbm5lY3Rpb25fMS5TZXJ2ZXJDb25uZWN0aW9uLlJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgIH1cbn1cbmV4cG9ydHMuc2h1dGRvd25LZXJuZWwgPSBzaHV0ZG93bktlcm5lbDtcbi8qKlxuICogR2V0IGEgZnVsbCBrZXJuZWwgbW9kZWwgZnJvbSB0aGUgc2VydmVyIGJ5IGtlcm5lbCBpZCBzdHJpbmcuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogVXNlcyB0aGUgW0p1cHl0ZXIgTm90ZWJvb2sgQVBJXShodHRwOi8vcGV0c3RvcmUuc3dhZ2dlci5pby8/dXJsPWh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qdXB5dGVyL25vdGVib29rL21hc3Rlci9ub3RlYm9vay9zZXJ2aWNlcy9hcGkvYXBpLnlhbWwjIS9rZXJuZWxzKSBhbmQgdmFsaWRhdGVzIHRoZSByZXNwb25zZSBtb2RlbC5cbiAqXG4gKiBUaGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgb24gYSB2YWxpZCByZXNwb25zZSBhbmQgcmVqZWN0ZWQgb3RoZXJ3aXNlLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRLZXJuZWxNb2RlbChpZCwgc2V0dGluZ3MgPSBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlU2V0dGluZ3MoKSkge1xuICAgIGxldCB1cmwgPSBjb3JldXRpbHNfMS5VUkxFeHQuam9pbihzZXR0aW5ncy5iYXNlVXJsLCBleHBvcnRzLktFUk5FTF9TRVJWSUNFX1VSTCwgZW5jb2RlVVJJQ29tcG9uZW50KGlkKSk7XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24ubWFrZVJlcXVlc3QodXJsLCB7fSwgc2V0dGluZ3MpO1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICB0aHJvdyBuZXcgc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24uUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgfVxuICAgIGxldCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHZhbGlkYXRlXzEudmFsaWRhdGVNb2RlbChkYXRhKTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbmV4cG9ydHMuZ2V0S2VybmVsTW9kZWwgPSBnZXRLZXJuZWxNb2RlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3RhcGkuanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgYElFZGl0b3JNaW1lVHlwZVNlcnZpY2VgLlxuICovXG5leHBvcnQgdmFyIElFZGl0b3JNaW1lVHlwZVNlcnZpY2U7XG4oZnVuY3Rpb24gKElFZGl0b3JNaW1lVHlwZVNlcnZpY2UpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBtaW1lIHR5cGUuXG4gICAgICovXG4gICAgSUVkaXRvck1pbWVUeXBlU2VydmljZS5kZWZhdWx0TWltZVR5cGUgPSAndGV4dC9wbGFpbic7XG59KShJRWRpdG9yTWltZVR5cGVTZXJ2aWNlIHx8IChJRWRpdG9yTWltZVR5cGVTZXJ2aWNlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pbWV0eXBlLmpzLm1hcCIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiBhcyBCUEJ1dHRvbiB9IGZyb20gJ0BibHVlcHJpbnRqcy9jb3JlL2xpYi9janMvY29tcG9uZW50cy9idXR0b24vYnV0dG9ucyc7XG5pbXBvcnQgeyBJY29uIGFzIEJQSWNvbiB9IGZyb20gJ0BibHVlcHJpbnRqcy9jb3JlL2xpYi9janMvY29tcG9uZW50cy9pY29uL2ljb24nO1xuaW1wb3J0IHsgQ29sbGFwc2UgYXMgQlBDb2xsYXBzZSB9IGZyb20gJ0BibHVlcHJpbnRqcy9jb3JlL2xpYi9janMvY29tcG9uZW50cy9jb2xsYXBzZS9jb2xsYXBzZSc7XG5pbXBvcnQgeyBJbnB1dEdyb3VwIGFzIEJQSW5wdXRHcm91cCB9IGZyb20gJ0BibHVlcHJpbnRqcy9jb3JlL2xpYi9janMvY29tcG9uZW50cy9mb3Jtcy9pbnB1dEdyb3VwJztcbmltcG9ydCB7IFNlbGVjdCBhcyBCUFNlbGVjdCB9IGZyb20gJ0BibHVlcHJpbnRqcy9zZWxlY3QvbGliL2Nqcy9jb21wb25lbnRzL3NlbGVjdC9zZWxlY3QnO1xuZXhwb3J0IHsgSW50ZW50IH0gZnJvbSAnQGJsdWVwcmludGpzL2NvcmUvbGliL2Nqcy9jb21tb24vaW50ZW50JztcbmltcG9ydCB7IGNsYXNzZXMgfSBmcm9tICcuL3V0aWxzJztcbmV4cG9ydCBjb25zdCBCdXR0b24gPSAocHJvcHMpID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KEJQQnV0dG9uLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzZXMocHJvcHMuY2xhc3NOYW1lLCBwcm9wcy5taW5pbWFsID8gJ21pbmltYWwnIDogJycsICdqcC1CdXR0b24nKSB9KSkpO1xuZXhwb3J0IGNvbnN0IElucHV0R3JvdXAgPSAocHJvcHMpID0+IHtcbiAgICBpZiAocHJvcHMucmlnaHRJY29uKSB7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCUElucHV0R3JvdXAsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7IGNsYXNzTmFtZTogY2xhc3Nlcyhwcm9wcy5jbGFzc05hbWUsICdqcC1JbnB1dEdyb3VwJyksIHJpZ2h0RWxlbWVudDogUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJqcC1JbnB1dEdyb3VwQWN0aW9uXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJQSWNvbiwgeyBjbGFzc05hbWU6ICdqcC1JY29uJywgaWNvbjogcHJvcHMucmlnaHRJY29uIH0pKSB9KSkpO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQlBJbnB1dEdyb3VwLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzZXMocHJvcHMuY2xhc3NOYW1lLCAnanAtSW5wdXRHcm91cCcpIH0pKSk7XG59O1xuZXhwb3J0IGNvbnN0IENvbGxhcHNlID0gKHByb3BzKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChCUENvbGxhcHNlLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpKTtcbmV4cG9ydCBjb25zdCBTZWxlY3QgPSAocHJvcHMpID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KEJQU2VsZWN0LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzZXMocHJvcHMuY2xhc3NOYW1lLCAnanAtU2VsZWN0JykgfSkpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsdWVwcmludC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGFsZ29yaXRobV8xID0gcmVxdWlyZShcIkBsdW1pbm8vYWxnb3JpdGhtXCIpO1xuY29uc3QgY29yZXV0aWxzXzEgPSByZXF1aXJlKFwiQGx1bWluby9jb3JldXRpbHNcIik7XG5jb25zdCBwb2xsaW5nXzEgPSByZXF1aXJlKFwiQGx1bWluby9wb2xsaW5nXCIpO1xuY29uc3Qgc2lnbmFsaW5nXzEgPSByZXF1aXJlKFwiQGx1bWluby9zaWduYWxpbmdcIik7XG5jb25zdCBzZXJ2ZXJjb25uZWN0aW9uXzEgPSByZXF1aXJlKFwiLi4vc2VydmVyY29ubmVjdGlvblwiKTtcbmNvbnN0IGJhc2VtYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi4vYmFzZW1hbmFnZXJcIik7XG5jb25zdCBkZWZhdWx0XzEgPSByZXF1aXJlKFwiLi9kZWZhdWx0XCIpO1xuY29uc3QgcmVzdGFwaV8xID0gcmVxdWlyZShcIi4vcmVzdGFwaVwiKTtcbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgYSBzZXNzaW9uIG1hbmFnZXIuXG4gKi9cbmNsYXNzIFNlc3Npb25NYW5hZ2VyIGV4dGVuZHMgYmFzZW1hbmFnZXJfMS5CYXNlTWFuYWdlciB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgbmV3IHNlc3Npb24gbWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgZWFjaCBzZXNzaW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5faXNSZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zZXNzaW9uQ29ubmVjdGlvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX21vZGVscyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcnVubmluZ0NoYW5nZWQgPSBuZXcgc2lnbmFsaW5nXzEuU2lnbmFsKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uRmFpbHVyZSA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIC8vIFdlIGRlZmluZSB0aGVzZSBoZXJlIHNvIHRoZXkgYmluZCBgdGhpc2AgY29ycmVjdGx5XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RUb0tlcm5lbCA9IChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fa2VybmVsTWFuYWdlci5jb25uZWN0VG8ob3B0aW9ucyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2tlcm5lbE1hbmFnZXIgPSBvcHRpb25zLmtlcm5lbE1hbmFnZXI7XG4gICAgICAgIC8vIFN0YXJ0IG1vZGVsIHBvbGxpbmcgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmLlxuICAgICAgICB0aGlzLl9wb2xsTW9kZWxzID0gbmV3IHBvbGxpbmdfMS5Qb2xsKHtcbiAgICAgICAgICAgIGF1dG86IGZhbHNlLFxuICAgICAgICAgICAgZmFjdG9yeTogKCkgPT4gdGhpcy5yZXF1ZXN0UnVubmluZygpLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6IDEwICogMTAwMCxcbiAgICAgICAgICAgICAgICBiYWNrb2ZmOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heDogMzAwICogMTAwMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbWU6IGBAanVweXRlcmxhYi9zZXJ2aWNlczpTZXNzaW9uTWFuYWdlciNtb2RlbHNgLFxuICAgICAgICAgICAgc3RhbmRieTogKF9hID0gb3B0aW9ucy5zdGFuZGJ5LCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ3doZW4taGlkZGVuJykpXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJbml0aWFsaXplIGludGVybmFsIGRhdGEuXG4gICAgICAgIHRoaXMuX3JlYWR5ID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BvbGxNb2RlbHMuc3RhcnQoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3BvbGxNb2RlbHMudGljaztcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2tlcm5lbE1hbmFnZXIucmVhZHk7XG4gICAgICAgICAgICB0aGlzLl9pc1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBtYW5hZ2VyIGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGdldCBpc1JlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNSZWFkeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2hlbiB0aGUgbWFuYWdlciBpcyByZWFkeS5cbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBydW5uaW5nIHNlc3Npb25zIGNoYW5nZS5cbiAgICAgKi9cbiAgICBnZXQgcnVubmluZ0NoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ydW5uaW5nQ2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZXJlIGlzIGEgY29ubmVjdGlvbiBmYWlsdXJlLlxuICAgICAqL1xuICAgIGdldCBjb25uZWN0aW9uRmFpbHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25GYWlsdXJlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgdXNlZCBieSB0aGUgbWFuYWdlci5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kZWxzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25Db25uZWN0aW9ucy5mb3JFYWNoKHggPT4geC5kaXNwb3NlKCkpO1xuICAgICAgICB0aGlzLl9wb2xsTW9kZWxzLmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKlxuICAgICAqIENvbm5lY3QgdG8gYSBydW5uaW5nIHNlc3Npb24uICBTZWUgYWxzbyBbW2Nvbm5lY3RUb1Nlc3Npb25dXS5cbiAgICAgKi9cbiAgICBjb25uZWN0VG8ob3B0aW9ucykge1xuICAgICAgICBjb25zdCBzZXNzaW9uQ29ubmVjdGlvbiA9IG5ldyBkZWZhdWx0XzEuU2Vzc2lvbkNvbm5lY3Rpb24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBjb25uZWN0VG9LZXJuZWw6IHRoaXMuX2Nvbm5lY3RUb0tlcm5lbCwgc2VydmVyU2V0dGluZ3M6IHRoaXMuc2VydmVyU2V0dGluZ3MgfSkpO1xuICAgICAgICB0aGlzLl9vblN0YXJ0ZWQoc2Vzc2lvbkNvbm5lY3Rpb24pO1xuICAgICAgICBpZiAoIXRoaXMuX21vZGVscy5oYXMob3B0aW9ucy5tb2RlbC5pZCkpIHtcbiAgICAgICAgICAgIC8vIFdlIHRydXN0IHRoZSB1c2VyIHRvIGNvbm5lY3QgdG8gYW4gZXhpc3Rpbmcgc2Vzc2lvbiwgYnV0IHdlIHZlcmlmeVxuICAgICAgICAgICAgLy8gYXN5bmNocm9ub3VzbHkuXG4gICAgICAgICAgICB2b2lkIHRoaXMucmVmcmVzaFJ1bm5pbmcoKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXNzaW9uQ29ubmVjdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGl0ZXJhdG9yIG92ZXIgdGhlIG1vc3QgcmVjZW50IHJ1bm5pbmcgc2Vzc2lvbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpdGVyYXRvciBvdmVyIHRoZSBydW5uaW5nIHNlc3Npb25zLlxuICAgICAqL1xuICAgIHJ1bm5pbmcoKSB7XG4gICAgICAgIHJldHVybiBhbGdvcml0aG1fMS5pdGVyKFsuLi50aGlzLl9tb2RlbHMudmFsdWVzKCldKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yY2UgYSByZWZyZXNoIG9mIHRoZSBydW5uaW5nIHNlc3Npb25zLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgd2l0aCB0aGUgbGlzdCBvZiBydW5uaW5nIHNlc3Npb25zLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgaXMgbm90IHR5cGljYWxseSBtZWFudCB0byBiZSBjYWxsZWQgYnkgdGhlIHVzZXIsIHNpbmNlIHRoZVxuICAgICAqIG1hbmFnZXIgbWFpbnRhaW5zIGl0cyBvd24gaW50ZXJuYWwgc3RhdGUuXG4gICAgICovXG4gICAgYXN5bmMgcmVmcmVzaFJ1bm5pbmcoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3BvbGxNb2RlbHMucmVmcmVzaCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl9wb2xsTW9kZWxzLnRpY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IGEgbmV3IHNlc3Npb24uICBTZWUgYWxzbyBbW3N0YXJ0TmV3U2Vzc2lvbl1dLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNyZWF0ZU9wdGlvbnMgLSBPcHRpb25zIGZvciBjcmVhdGluZyB0aGUgc2Vzc2lvblxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbm5lY3RPcHRpb25zIC0gT3B0aW9ucyBmb3IgY29ubmVjdGluZyB0byB0aGUgc2Vzc2lvblxuICAgICAqL1xuICAgIGFzeW5jIHN0YXJ0TmV3KGNyZWF0ZU9wdGlvbnMsIGNvbm5lY3RPcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBhd2FpdCByZXN0YXBpXzEuc3RhcnRTZXNzaW9uKGNyZWF0ZU9wdGlvbnMsIHRoaXMuc2VydmVyU2V0dGluZ3MpO1xuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hSdW5uaW5nKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RUbyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbm5lY3RPcHRpb25zKSwgeyBtb2RlbCB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNodXQgZG93biBhIHNlc3Npb24gYnkgaWQuXG4gICAgICovXG4gICAgYXN5bmMgc2h1dGRvd24oaWQpIHtcbiAgICAgICAgYXdhaXQgcmVzdGFwaV8xLnNodXRkb3duU2Vzc2lvbihpZCwgdGhpcy5zZXJ2ZXJTZXR0aW5ncyk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFJ1bm5pbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2h1dCBkb3duIGFsbCBzZXNzaW9ucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIG9mIHRoZSBrZXJuZWxzIGFyZSBzaHV0IGRvd24uXG4gICAgICovXG4gICAgYXN5bmMgc2h1dGRvd25BbGwoKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbGlzdCBvZiBtb2RlbHMgdG8gbWFrZSBzdXJlIG91ciBsaXN0IGlzIGN1cnJlbnQuXG4gICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaFJ1bm5pbmcoKTtcbiAgICAgICAgLy8gU2h1dCBkb3duIGFsbCBtb2RlbHMuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFsuLi50aGlzLl9tb2RlbHMua2V5cygpXS5tYXAoaWQgPT4gcmVzdGFwaV8xLnNodXRkb3duU2Vzc2lvbihpZCwgdGhpcy5zZXJ2ZXJTZXR0aW5ncykpKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBsaXN0IG9mIG1vZGVscyB0byBjbGVhciBvdXQgb3VyIHN0YXRlLlxuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hSdW5uaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgYSBzZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCBhIHBhdGggYW5kIHN0b3AgaXQgaWYgaXQgaXMgdGhlIG9ubHkgc2Vzc2lvblxuICAgICAqIHVzaW5nIHRoYXQga2VybmVsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgcGF0aCBpbiBxdWVzdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHJlbGV2YW50IHNlc3Npb25zIGFyZSBzdG9wcGVkLlxuICAgICAqL1xuICAgIGFzeW5jIHN0b3BJZk5lZWRlZChwYXRoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9ucyA9IGF3YWl0IHJlc3RhcGlfMS5saXN0UnVubmluZyh0aGlzLnNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBzZXNzaW9ucy5maWx0ZXIodmFsdWUgPT4gdmFsdWUucGF0aCA9PT0gcGF0aCk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IG1hdGNoZXNbMF0uaWQ7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zaHV0ZG93bihpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvKiBBbHdheXMgc3VjY2VlZC4gKi9cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgc2Vzc2lvbiBieSBpZC5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5kQnlJZChpZCkge1xuICAgICAgICBpZiAodGhpcy5fbW9kZWxzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb2RlbHMuZ2V0KGlkKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hSdW5uaW5nKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbHMuZ2V0KGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBhIHNlc3Npb24gYnkgcGF0aC5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5kQnlQYXRoKHBhdGgpIHtcbiAgICAgICAgZm9yIChsZXQgbSBvZiB0aGlzLl9tb2RlbHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChtLnBhdGggPT09IHBhdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hSdW5uaW5nKCk7XG4gICAgICAgIGZvciAobGV0IG0gb2YgdGhpcy5fbW9kZWxzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAobS5wYXRoID09PSBwYXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB0byBwb2xsIHJ1bm5pbmcga2VybmVscyBhbmQgdXBkYXRlIHN0YXRlLlxuICAgICAqL1xuICAgIGFzeW5jIHJlcXVlc3RSdW5uaW5nKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCBtb2RlbHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtb2RlbHMgPSBhd2FpdCByZXN0YXBpXzEubGlzdFJ1bm5pbmcodGhpcy5zZXJ2ZXJTZXR0aW5ncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGEgbmV0d29yayBlcnJvciwgb3IgYSA1MDMgZXJyb3IsIHdoaWNoIGlzIHJldHVybmVkXG4gICAgICAgICAgICAvLyBieSBhIEp1cHl0ZXJIdWIgd2hlbiBhIHNlcnZlciBpcyBzaHV0IGRvd24uXG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2Ygc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb24uTmV0d29ya0Vycm9yIHx8XG4gICAgICAgICAgICAgICAgKChfYSA9IGVyci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXR1cykgPT09IDUwMykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25GYWlsdXJlLmVtaXQoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX21vZGVscy5zaXplID09PSBtb2RlbHMubGVuZ3RoICYmXG4gICAgICAgICAgICBhbGdvcml0aG1fMS5ldmVyeShtb2RlbHMsIHggPT4gY29yZXV0aWxzXzEuSlNPTkV4dC5kZWVwRXF1YWwodGhpcy5fbW9kZWxzLmdldCh4LmlkKSwgeCkpKSB7XG4gICAgICAgICAgICAvLyBJZGVudGljYWwgbW9kZWxzIGxpc3QgKHByZXN1bWluZyBtb2RlbHMgZG9lcyBub3QgY29udGFpbiBkdXBsaWNhdGVcbiAgICAgICAgICAgIC8vIGlkcyksIHNvIGp1c3QgcmV0dXJuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kZWxzID0gbmV3IE1hcChtb2RlbHMubWFwKHggPT4gW3guaWQsIHhdKSk7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25Db25uZWN0aW9ucy5mb3JFYWNoKHNjID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RlbHMuaGFzKHNjLmlkKSkge1xuICAgICAgICAgICAgICAgIHNjLnVwZGF0ZSh0aGlzLl9tb2RlbHMuZ2V0KHNjLmlkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzYy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9ydW5uaW5nQ2hhbmdlZC5lbWl0KG1vZGVscyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIHNlc3Npb24gc3RhcnRpbmcuXG4gICAgICovXG4gICAgX29uU3RhcnRlZChzZXNzaW9uQ29ubmVjdGlvbikge1xuICAgICAgICB0aGlzLl9zZXNzaW9uQ29ubmVjdGlvbnMuYWRkKHNlc3Npb25Db25uZWN0aW9uKTtcbiAgICAgICAgc2Vzc2lvbkNvbm5lY3Rpb24uZGlzcG9zZWQuY29ubmVjdCh0aGlzLl9vbkRpc3Bvc2VkLCB0aGlzKTtcbiAgICAgICAgc2Vzc2lvbkNvbm5lY3Rpb24ucHJvcGVydHlDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25DaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgc2Vzc2lvbkNvbm5lY3Rpb24ua2VybmVsQ2hhbmdlZC5jb25uZWN0KHRoaXMuX29uQ2hhbmdlZCwgdGhpcyk7XG4gICAgfVxuICAgIF9vbkRpc3Bvc2VkKHNlc3Npb25Db25uZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25Db25uZWN0aW9ucy5kZWxldGUoc2Vzc2lvbkNvbm5lY3Rpb24pO1xuICAgICAgICAvLyBBIHNlc3Npb24gdGVybWluYXRpb24gZW1pc3Npb24gY291bGQgbWVhbiB0aGUgc2VydmVyIHNlc3Npb24gaXMgZGVsZXRlZCxcbiAgICAgICAgLy8gb3IgdGhhdCB0aGUgc2Vzc2lvbiBKUyBvYmplY3QgaXMgZGlzcG9zZWQgYW5kIHRoZSBzZXNzaW9uIHN0aWxsIGV4aXN0cyBvblxuICAgICAgICAvLyB0aGUgc2VydmVyLCBzbyB3ZSByZWZyZXNoIGZyb20gdGhlIHNlcnZlciB0byBtYWtlIHN1cmUgd2UgcmVmbGVjdCB0aGVcbiAgICAgICAgLy8gc2VydmVyIHN0YXRlLlxuICAgICAgICB2b2lkIHRoaXMucmVmcmVzaFJ1bm5pbmcoKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAvKiBuby1vcCAqL1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX29uQ2hhbmdlZCgpIHtcbiAgICAgICAgdm9pZCB0aGlzLnJlZnJlc2hSdW5uaW5nKCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgLyogbm8tb3AgKi9cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXNzaW9uTWFuYWdlciA9IFNlc3Npb25NYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuYWdlci5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBBcnJheUV4dCwgQXJyYXlJdGVyYXRvciwgZWFjaCwgZW1wdHksIGZpbmQsIG1hcCB9IGZyb20gJ0BsdW1pbm8vYWxnb3JpdGhtJztcbmltcG9ydCB7IERpc3Bvc2FibGVEZWxlZ2F0ZSB9IGZyb20gJ0BsdW1pbm8vZGlzcG9zYWJsZSc7XG5pbXBvcnQgeyBTaWduYWwgfSBmcm9tICdAbHVtaW5vL3NpZ25hbGluZyc7XG5pbXBvcnQgeyBQYXRoRXh0IH0gZnJvbSAnQGp1cHl0ZXJsYWIvY29yZXV0aWxzJztcbmltcG9ydCB7IGZpbGVJY29uLCBmb2xkZXJJY29uLCBpbWFnZUljb24sIGpzb25JY29uLCBtYXJrZG93bkljb24sIG5vdGVib29rSWNvbiwgcHl0aG9uSWNvbiwgcktlcm5lbEljb24sIHNwcmVhZHNoZWV0SWNvbiwgeWFtbEljb24gfSBmcm9tICdAanVweXRlcmxhYi91aS1jb21wb25lbnRzJztcbmltcG9ydCB7IFRleHRNb2RlbEZhY3RvcnkgfSBmcm9tICcuL2RlZmF1bHQnO1xuLyoqXG4gKiBUaGUgZG9jdW1lbnQgcmVnaXN0cnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBEb2N1bWVudFJlZ2lzdHJ5IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgZG9jdW1lbnQgcmVnaXN0cnkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX21vZGVsRmFjdG9yaWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fd2lkZ2V0RmFjdG9yaWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFdpZGdldEZhY3RvcnkgPSAnJztcbiAgICAgICAgdGhpcy5fZGVmYXVsdFdpZGdldEZhY3RvcnlPdmVycmlkZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9kZWZhdWx0V2lkZ2V0RmFjdG9yaWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFJlbmRlcmVkV2lkZ2V0RmFjdG9yaWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fd2lkZ2V0RmFjdG9yaWVzRm9yRmlsZVR5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9maWxlVHlwZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fZXh0ZW5kZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGZhY3RvcnkgPSBvcHRpb25zLnRleHRNb2RlbEZhY3Rvcnk7XG4gICAgICAgIGlmIChmYWN0b3J5ICYmIGZhY3RvcnkubmFtZSAhPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHQgbW9kZWwgZmFjdG9yeSBtdXN0IGhhdmUgdGhlIG5hbWUgYHRleHRgJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kZWxGYWN0b3JpZXNbJ3RleHQnXSA9IGZhY3RvcnkgfHwgbmV3IFRleHRNb2RlbEZhY3RvcnkoKTtcbiAgICAgICAgbGV0IGZ0cyA9IG9wdGlvbnMuaW5pdGlhbEZpbGVUeXBlcyB8fCBEb2N1bWVudFJlZ2lzdHJ5LmRlZmF1bHRGaWxlVHlwZXM7XG4gICAgICAgIGZ0cy5mb3JFYWNoKGZ0ID0+IHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgRG9jdW1lbnRSZWdpc3RyeS5maWxlVHlwZURlZmF1bHRzKSwgZnQpO1xuICAgICAgICAgICAgdGhpcy5fZmlsZVR5cGVzLnB1c2godmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSByZWdpc3RyeSBoYXMgY2hhbmdlZC5cbiAgICAgKi9cbiAgICBnZXQgY2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB3aGV0aGVyIHRoZSBkb2N1bWVudCByZWdpc3RyeSBoYXMgYmVlbiBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBkb2N1bWVudCByZWdpc3RlcnkuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBtb2RlbE5hbWUgaW4gdGhpcy5fbW9kZWxGYWN0b3JpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX21vZGVsRmFjdG9yaWVzW21vZGVsTmFtZV0uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHdpZGdldE5hbWUgaW4gdGhpcy5fd2lkZ2V0RmFjdG9yaWVzKSB7XG4gICAgICAgICAgICB0aGlzLl93aWRnZXRGYWN0b3JpZXNbd2lkZ2V0TmFtZV0uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IHdpZGdldE5hbWUgaW4gdGhpcy5fZXh0ZW5kZXJzKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRlbmRlcnNbd2lkZ2V0TmFtZV0ubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9maWxlVHlwZXMubGVuZ3RoID0gMDtcbiAgICAgICAgU2lnbmFsLmNsZWFyRGF0YSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgd2lkZ2V0IGZhY3RvcnkgdG8gdGhlIHJlZ2lzdHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZhY3RvcnkgLSBUaGUgZmFjdG9yeSBpbnN0YW5jZSB0byByZWdpc3Rlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgZGlzcG9zYWJsZSB3aGljaCB3aWxsIHVucmVnaXN0ZXIgdGhlIGZhY3RvcnkuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSWYgYSBmYWN0b3J5IHdpdGggdGhlIGdpdmVuIGAnbmFtZSdgIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCxcbiAgICAgKiBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQsIGFuZCB0aGlzIHdpbGwgYmUgYSBuby1vcC5cbiAgICAgKiBJZiBgJyonYCBpcyBnaXZlbiBhcyBhIGRlZmF1bHQgZXh0ZW5zaW9uLCB0aGUgZmFjdG9yeSB3aWxsIGJlIHJlZ2lzdGVyZWRcbiAgICAgKiBhcyB0aGUgZ2xvYmFsIGRlZmF1bHQuXG4gICAgICogSWYgYW4gZXh0ZW5zaW9uIG9yIGdsb2JhbCBkZWZhdWx0IGlzIGFscmVhZHkgcmVnaXN0ZXJlZCwgdGhpcyBmYWN0b3J5XG4gICAgICogd2lsbCBvdmVycmlkZSB0aGUgZXhpc3RpbmcgZGVmYXVsdC5cbiAgICAgKiBUaGUgZmFjdG9yeSBjYW5ub3QgYmUgbmFtZWQgYW4gZW1wdHkgc3RyaW5nIG9yIHRoZSBzdHJpbmcgYCdkZWZhdWx0J2AuXG4gICAgICovXG4gICAgYWRkV2lkZ2V0RmFjdG9yeShmYWN0b3J5KSB7XG4gICAgICAgIGxldCBuYW1lID0gZmFjdG9yeS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghbmFtZSB8fCBuYW1lID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIGZhY3RvcnkgbmFtZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl93aWRnZXRGYWN0b3JpZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRHVwbGljYXRlIHJlZ2lzdGVyZWQgZmFjdG9yeSAke25hbWV9YCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZShQcml2YXRlLm5vT3ApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dpZGdldEZhY3Rvcmllc1tuYW1lXSA9IGZhY3Rvcnk7XG4gICAgICAgIGZvciAobGV0IGZ0IG9mIGZhY3RvcnkuZGVmYXVsdEZvciB8fCBbXSkge1xuICAgICAgICAgICAgaWYgKGZhY3RvcnkuZmlsZVR5cGVzLmluZGV4T2YoZnQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZ0ID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWZhdWx0V2lkZ2V0RmFjdG9yeSA9IG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWZhdWx0V2lkZ2V0RmFjdG9yaWVzW2Z0XSA9IG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgZnQgb2YgZmFjdG9yeS5kZWZhdWx0UmVuZGVyZWQgfHwgW10pIHtcbiAgICAgICAgICAgIGlmIChmYWN0b3J5LmZpbGVUeXBlcy5pbmRleE9mKGZ0KSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRSZW5kZXJlZFdpZGdldEZhY3Rvcmllc1tmdF0gPSBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBjb252ZW5pZW5jZSwgc3RvcmUgYSBtYXBwaW5nIG9mIGZpbGUgdHlwZSBuYW1lIC0+IG5hbWVcbiAgICAgICAgZm9yIChsZXQgZnQgb2YgZmFjdG9yeS5maWxlVHlwZXMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd2lkZ2V0RmFjdG9yaWVzRm9yRmlsZVR5cGVbZnRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2lkZ2V0RmFjdG9yaWVzRm9yRmlsZVR5cGVbZnRdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl93aWRnZXRGYWN0b3JpZXNGb3JGaWxlVHlwZVtmdF0ucHVzaChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQoe1xuICAgICAgICAgICAgdHlwZTogJ3dpZGdldEZhY3RvcnknLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGNoYW5nZTogJ2FkZGVkJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NhYmxlRGVsZWdhdGUoKCkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3dpZGdldEZhY3Rvcmllc1tuYW1lXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWZhdWx0V2lkZ2V0RmFjdG9yeSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3J5ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBleHQgb2YgT2JqZWN0LmtleXModGhpcy5fZGVmYXVsdFdpZGdldEZhY3RvcmllcykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGVmYXVsdFdpZGdldEZhY3Rvcmllc1tleHRdID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9kZWZhdWx0V2lkZ2V0RmFjdG9yaWVzW2V4dF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZXh0IG9mIE9iamVjdC5rZXlzKHRoaXMuX2RlZmF1bHRSZW5kZXJlZFdpZGdldEZhY3RvcmllcykpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGVmYXVsdFJlbmRlcmVkV2lkZ2V0RmFjdG9yaWVzW2V4dF0gPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RlZmF1bHRSZW5kZXJlZFdpZGdldEZhY3Rvcmllc1tleHRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGV4dCBvZiBPYmplY3Qua2V5cyh0aGlzLl93aWRnZXRGYWN0b3JpZXNGb3JGaWxlVHlwZSkpIHtcbiAgICAgICAgICAgICAgICBBcnJheUV4dC5yZW1vdmVGaXJzdE9mKHRoaXMuX3dpZGdldEZhY3Rvcmllc0ZvckZpbGVUeXBlW2V4dF0sIG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl93aWRnZXRGYWN0b3JpZXNGb3JGaWxlVHlwZVtleHRdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fd2lkZ2V0RmFjdG9yaWVzRm9yRmlsZVR5cGVbZXh0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBleHQgb2YgT2JqZWN0LmtleXModGhpcy5fZGVmYXVsdFdpZGdldEZhY3RvcnlPdmVycmlkZXMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3J5T3ZlcnJpZGVzW2V4dF0gPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3J5T3ZlcnJpZGVzW2V4dF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2lkZ2V0RmFjdG9yeScsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6ICdyZW1vdmVkJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBtb2RlbCBmYWN0b3J5IHRvIHRoZSByZWdpc3RyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWN0b3J5IC0gVGhlIGZhY3RvcnkgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgd2hpY2ggd2lsbCB1bnJlZ2lzdGVyIHRoZSBmYWN0b3J5LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIElmIGEgZmFjdG9yeSB3aXRoIHRoZSBnaXZlbiBgbmFtZWAgaXMgYWxyZWFkeSByZWdpc3RlcmVkLCBvclxuICAgICAqIHRoZSBnaXZlbiBmYWN0b3J5IGlzIGFscmVhZHkgcmVnaXN0ZXJlZCwgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkXG4gICAgICogYW5kIHRoaXMgd2lsbCBiZSBhIG5vLW9wLlxuICAgICAqL1xuICAgIGFkZE1vZGVsRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgICAgIGxldCBuYW1lID0gZmFjdG9yeS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICh0aGlzLl9tb2RlbEZhY3Rvcmllc1tuYW1lXSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBEdXBsaWNhdGUgcmVnaXN0ZXJlZCBmYWN0b3J5ICR7bmFtZX1gKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGlzcG9zYWJsZURlbGVnYXRlKFByaXZhdGUubm9PcCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kZWxGYWN0b3JpZXNbbmFtZV0gPSBmYWN0b3J5O1xuICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQoe1xuICAgICAgICAgICAgdHlwZTogJ21vZGVsRmFjdG9yeScsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgY2hhbmdlOiAnYWRkZWQnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZSgoKSA9PiB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxGYWN0b3JpZXNbbmFtZV07XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtb2RlbEZhY3RvcnknLFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiAncmVtb3ZlZCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgd2lkZ2V0IGV4dGVuc2lvbiB0byB0aGUgcmVnaXN0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2lkZ2V0TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB3aWRnZXQgZmFjdG9yeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBleHRlbnNpb24gLSBBIHdpZGdldCBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGRpc3Bvc2FibGUgd2hpY2ggd2lsbCB1bnJlZ2lzdGVyIHRoZSBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogSWYgdGhlIGV4dGVuc2lvbiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgZm9yIHRoZSBnaXZlblxuICAgICAqIHdpZGdldCBuYW1lLCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQgYW5kIHRoaXMgd2lsbCBiZSBhIG5vLW9wLlxuICAgICAqL1xuICAgIGFkZFdpZGdldEV4dGVuc2lvbih3aWRnZXROYW1lLCBleHRlbnNpb24pIHtcbiAgICAgICAgd2lkZ2V0TmFtZSA9IHdpZGdldE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCEod2lkZ2V0TmFtZSBpbiB0aGlzLl9leHRlbmRlcnMpKSB7XG4gICAgICAgICAgICB0aGlzLl9leHRlbmRlcnNbd2lkZ2V0TmFtZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZXh0ZW5kZXJzID0gdGhpcy5fZXh0ZW5kZXJzW3dpZGdldE5hbWVdO1xuICAgICAgICBsZXQgaW5kZXggPSBBcnJheUV4dC5maXJzdEluZGV4T2YoZXh0ZW5kZXJzLCBleHRlbnNpb24pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYER1cGxpY2F0ZSByZWdpc3RlcmVkIGV4dGVuc2lvbiBmb3IgJHt3aWRnZXROYW1lfWApO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NhYmxlRGVsZWdhdGUoUHJpdmF0ZS5ub09wKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9leHRlbmRlcnNbd2lkZ2V0TmFtZV0ucHVzaChleHRlbnNpb24pO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQoe1xuICAgICAgICAgICAgdHlwZTogJ3dpZGdldEV4dGVuc2lvbicsXG4gICAgICAgICAgICBuYW1lOiB3aWRnZXROYW1lLFxuICAgICAgICAgICAgY2hhbmdlOiAnYWRkZWQnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZSgoKSA9PiB7XG4gICAgICAgICAgICBBcnJheUV4dC5yZW1vdmVGaXJzdE9mKHRoaXMuX2V4dGVuZGVyc1t3aWRnZXROYW1lXSwgZXh0ZW5zaW9uKTtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3dpZGdldEV4dGVuc2lvbicsXG4gICAgICAgICAgICAgICAgbmFtZTogd2lkZ2V0TmFtZSxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6ICdyZW1vdmVkJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBmaWxlIHR5cGUgdG8gdGhlIGRvY3VtZW50IHJlZ2lzdHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtcyBmaWxlVHlwZSAtIFRoZSBmaWxlIHR5cGUgb2JqZWN0IHRvIHJlZ2lzdGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBkaXNwb3NhYmxlIHdoaWNoIHdpbGwgdW5yZWdpc3RlciB0aGUgY29tbWFuZC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGVzZSBhcmUgdXNlZCB0byBwb3B1bGF0ZSB0aGUgXCJDcmVhdGUgTmV3XCIgZGlhbG9nLlxuICAgICAqL1xuICAgIGFkZEZpbGVUeXBlKGZpbGVUeXBlKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgRG9jdW1lbnRSZWdpc3RyeS5maWxlVHlwZURlZmF1bHRzKSwgZmlsZVR5cGUpO1xuICAgICAgICB0aGlzLl9maWxlVHlwZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICB0eXBlOiAnZmlsZVR5cGUnLFxuICAgICAgICAgICAgbmFtZTogdmFsdWUubmFtZSxcbiAgICAgICAgICAgIGNoYW5nZTogJ2FkZGVkJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBEaXNwb3NhYmxlRGVsZWdhdGUoKCkgPT4ge1xuICAgICAgICAgICAgQXJyYXlFeHQucmVtb3ZlRmlyc3RPZih0aGlzLl9maWxlVHlwZXMsIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpbGVUeXBlJyxcbiAgICAgICAgICAgICAgICBuYW1lOiBmaWxlVHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgIGNoYW5nZTogJ3JlbW92ZWQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2YgdGhlIHByZWZlcnJlZCB3aWRnZXQgZmFjdG9yaWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggLSBUaGUgZmlsZSBwYXRoIHRvIGZpbHRlciB0aGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGFycmF5IG9mIHdpZGdldCBmYWN0b3JpZXMuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogT25seSB0aGUgd2lkZ2V0IGZhY3RvcmllcyB3aG9zZSBhc3NvY2lhdGVkIG1vZGVsIGZhY3RvcnkgaGF2ZVxuICAgICAqIGJlZW4gcmVnaXN0ZXJlZCB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqIFRoZSBmaXJzdCBpdGVtIGlzIGNvbnNpZGVyZWQgdGhlIGRlZmF1bHQuIFRoZSByZXR1cm5lZCBhcnJheVxuICAgICAqIGhhcyB3aWRnZXQgZmFjdG9yaWVzIGluIHRoZSBmb2xsb3dpbmcgb3JkZXI6XG4gICAgICogLSBwYXRoLXNwZWNpZmljIGRlZmF1bHQgZmFjdG9yeVxuICAgICAqIC0gcGF0aC1zcGVjaWZpYyBkZWZhdWx0IHJlbmRlcmVkIGZhY3RvcnlcbiAgICAgKiAtIGdsb2JhbCBkZWZhdWx0IGZhY3RvcnlcbiAgICAgKiAtIGFsbCBvdGhlciBwYXRoLXNwZWNpZmljIGZhY3Rvcmllc1xuICAgICAqIC0gYWxsIG90aGVyIGdsb2JhbCBmYWN0b3JpZXNcbiAgICAgKi9cbiAgICBwcmVmZXJyZWRXaWRnZXRGYWN0b3JpZXMocGF0aCkge1xuICAgICAgICBsZXQgZmFjdG9yaWVzID0gbmV3IFNldCgpO1xuICAgICAgICAvLyBHZXQgdGhlIG9yZGVyZWQgbWF0Y2hpbmcgZmlsZSB0eXBlcy5cbiAgICAgICAgbGV0IGZ0cyA9IHRoaXMuZ2V0RmlsZVR5cGVzRm9yUGF0aChQYXRoRXh0LmJhc2VuYW1lKHBhdGgpKTtcbiAgICAgICAgLy8gU3RhcnQgd2l0aCBhbnkgdXNlciBvdmVycmlkZXMgZm9yIHRoZSBkZWZhdWx0cy5cbiAgICAgICAgZnRzLmZvckVhY2goZnQgPT4ge1xuICAgICAgICAgICAgaWYgKGZ0Lm5hbWUgaW4gdGhpcy5fZGVmYXVsdFdpZGdldEZhY3RvcnlPdmVycmlkZXMpIHtcbiAgICAgICAgICAgICAgICBmYWN0b3JpZXMuYWRkKHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3J5T3ZlcnJpZGVzW2Z0Lm5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIE5leHQgYWRkIHRoZSBmaWxlIHR5cGUgZGVmYXVsdCBmYWN0b3JpZXMuXG4gICAgICAgIGZ0cy5mb3JFYWNoKGZ0ID0+IHtcbiAgICAgICAgICAgIGlmIChmdC5uYW1lIGluIHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3JpZXMpIHtcbiAgICAgICAgICAgICAgICBmYWN0b3JpZXMuYWRkKHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3JpZXNbZnQubmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQWRkIHRoZSBmaWxlIHR5cGUgZGVmYXVsdCByZW5kZXJlZCBmYWN0b3JpZXMuXG4gICAgICAgIGZ0cy5mb3JFYWNoKGZ0ID0+IHtcbiAgICAgICAgICAgIGlmIChmdC5uYW1lIGluIHRoaXMuX2RlZmF1bHRSZW5kZXJlZFdpZGdldEZhY3Rvcmllcykge1xuICAgICAgICAgICAgICAgIGZhY3Rvcmllcy5hZGQodGhpcy5fZGVmYXVsdFJlbmRlcmVkV2lkZ2V0RmFjdG9yaWVzW2Z0Lm5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZCB0aGUgZ2xvYmFsIGRlZmF1bHQgZmFjdG9yeS5cbiAgICAgICAgaWYgKHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3J5KSB7XG4gICAgICAgICAgICBmYWN0b3JpZXMuYWRkKHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdGhlIGZpbGUgdHlwZSBmYWN0b3JpZXMgaW4gcmVnaXN0cmF0aW9uIG9yZGVyLlxuICAgICAgICBmdHMuZm9yRWFjaChmdCA9PiB7XG4gICAgICAgICAgICBpZiAoZnQubmFtZSBpbiB0aGlzLl93aWRnZXRGYWN0b3JpZXNGb3JGaWxlVHlwZSkge1xuICAgICAgICAgICAgICAgIGVhY2godGhpcy5fd2lkZ2V0RmFjdG9yaWVzRm9yRmlsZVR5cGVbZnQubmFtZV0sIG4gPT4ge1xuICAgICAgICAgICAgICAgICAgICBmYWN0b3JpZXMuYWRkKG4pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQWRkIHRoZSByZXN0IG9mIHRoZSBnbG9iYWwgZmFjdG9yaWVzLCBpbiByZWdpc3RyYXRpb24gb3JkZXIuXG4gICAgICAgIGlmICgnKicgaW4gdGhpcy5fd2lkZ2V0RmFjdG9yaWVzRm9yRmlsZVR5cGUpIHtcbiAgICAgICAgICAgIGVhY2godGhpcy5fd2lkZ2V0RmFjdG9yaWVzRm9yRmlsZVR5cGVbJyonXSwgbiA9PiB7XG4gICAgICAgICAgICAgICAgZmFjdG9yaWVzLmFkZChuKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnN0cnVjdCB0aGUgcmV0dXJuIGxpc3QsIGNoZWNraW5nIHRvIG1ha2Ugc3VyZSB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAgICAvLyBtb2RlbCBmYWN0b3JpZXMgYXJlIHJlZ2lzdGVyZWQuXG4gICAgICAgIGxldCBmYWN0b3J5TGlzdCA9IFtdO1xuICAgICAgICBmYWN0b3JpZXMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgIGxldCBmYWN0b3J5ID0gdGhpcy5fd2lkZ2V0RmFjdG9yaWVzW25hbWVdO1xuICAgICAgICAgICAgaWYgKCFmYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1vZGVsTmFtZSA9IGZhY3RvcnkubW9kZWxOYW1lIHx8ICd0ZXh0JztcbiAgICAgICAgICAgIGlmIChtb2RlbE5hbWUgaW4gdGhpcy5fbW9kZWxGYWN0b3JpZXMpIHtcbiAgICAgICAgICAgICAgICBmYWN0b3J5TGlzdC5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnlMaXN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgcmVuZGVyZWQgd2lkZ2V0IGZhY3RvcnkgZm9yIGEgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggdG8gZm9yIHdoaWNoIHRvIGZpbmQgYSB3aWRnZXQgZmFjdG9yeS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBkZWZhdWx0IHJlbmRlcmVkIHdpZGdldCBmYWN0b3J5IGZvciB0aGUgcGF0aC5cbiAgICAgKlxuICAgICAqICMjIyBOb3Rlc1xuICAgICAqIElmIHRoZSB3aWRnZXQgZmFjdG9yeSBoYXMgcmVnaXN0ZXJlZCBhIHNlcGFyYXRlIHNldCBvZiBgZGVmYXVsdFJlbmRlcmVkYFxuICAgICAqIGZpbGUgdHlwZXMgYW5kIHRoZXJlIGlzIGEgbWF0Y2ggaW4gdGhhdCBzZXQsIHRoaXMgcmV0dXJucyB0aGF0LlxuICAgICAqIE90aGVyd2lzZSwgdGhpcyByZXR1cm5zIHRoZSBzYW1lIHdpZGdldCBmYWN0b3J5IGFzXG4gICAgICogW1tkZWZhdWx0V2lkZ2V0RmFjdG9yeV1dLlxuICAgICAqL1xuICAgIGRlZmF1bHRSZW5kZXJlZFdpZGdldEZhY3RvcnkocGF0aCkge1xuICAgICAgICAvLyBHZXQgdGhlIG1hdGNoaW5nIGZpbGUgdHlwZXMuXG4gICAgICAgIGxldCBmdHMgPSB0aGlzLmdldEZpbGVUeXBlc0ZvclBhdGgoUGF0aEV4dC5iYXNlbmFtZShwYXRoKSk7XG4gICAgICAgIGxldCBmYWN0b3J5ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBGaW5kIGlmIGEgdGhlcmUgaXMgYSBkZWZhdWx0IHJlbmRlcmVkIGZhY3RvcnkgZm9yIHRoaXMgdHlwZS5cbiAgICAgICAgZm9yIChsZXQgZnQgb2YgZnRzKSB7XG4gICAgICAgICAgICBpZiAoZnQubmFtZSBpbiB0aGlzLl9kZWZhdWx0UmVuZGVyZWRXaWRnZXRGYWN0b3JpZXMpIHtcbiAgICAgICAgICAgICAgICBmYWN0b3J5ID0gdGhpcy5fd2lkZ2V0RmFjdG9yaWVzW3RoaXMuX2RlZmF1bHRSZW5kZXJlZFdpZGdldEZhY3Rvcmllc1tmdC5uYW1lXV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhY3RvcnkgfHwgdGhpcy5kZWZhdWx0V2lkZ2V0RmFjdG9yeShwYXRoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkZWZhdWx0IHdpZGdldCBmYWN0b3J5IGZvciBhIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIEFuIG9wdGlvbmFsIGZpbGUgcGF0aCB0byBmaWx0ZXIgdGhlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZGVmYXVsdCB3aWRnZXQgZmFjdG9yeSBmb3IgYW4gcGF0aC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGZpcnN0IHZhbHVlIGluIFtbcHJlZmVycmVkV2lkZ2V0RmFjdG9yaWVzXV0uXG4gICAgICovXG4gICAgZGVmYXVsdFdpZGdldEZhY3RvcnkocGF0aCkge1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWRnZXRGYWN0b3JpZXNbdGhpcy5fZGVmYXVsdFdpZGdldEZhY3RvcnldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByZWZlcnJlZFdpZGdldEZhY3RvcmllcyhwYXRoKVswXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IG92ZXJyaWRlcyBmb3IgdGhlIGRlZmF1bHQgd2lkZ2V0IGZhY3RvcnkgZm9yIGEgZmlsZSB0eXBlLlxuICAgICAqXG4gICAgICogTm9ybWFsbHksIGEgd2lkZ2V0IGZhY3RvcnkgaW5mb3JtcyB0aGUgZG9jdW1lbnQgcmVnaXN0cnkgd2hpY2ggZmlsZSB0eXBlc1xuICAgICAqIGl0IHNob3VsZCBiZSB0aGUgZGVmYXVsdCBmb3IgdXNpbmcgdGhlIGBkZWZhdWx0Rm9yYCBvcHRpb24gaW4gdGhlXG4gICAgICogSVdpZGdldEZhY3RvcnlPcHRpb25zLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoYXQgYWZ0ZXJcbiAgICAgKiB0aGUgZmFjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWxlVHlwZTogVGhlIG5hbWUgb2YgdGhlIGZpbGUgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWN0b3J5OiBUaGUgbmFtZSBvZiB0aGUgZmFjdG9yeS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBJZiBgZmFjdG9yeWAgaXMgdW5kZWZpbmVkLCB0aGVuIGFueSBvdmVycmlkZSB3aWxsIGJlIHVuc2V0LCBhbmQgdGhlXG4gICAgICogZGVmYXVsdCBmYWN0b3J5IHdpbGwgcmV2ZXJ0IHRvIHRoZSBvcmlnaW5hbCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIElmIGBmYWN0b3J5YCBvciBgZmlsZVR5cGVgIGFyZSBub3Qga25vd24gdG8gdGhlIGRvY3JlZ2lzdHJ5LCBvclxuICAgICAqIGlmIGBmYWN0b3J5YCBjYW5ub3Qgb3BlbiBmaWxlcyBvZiB0eXBlIGBmaWxlVHlwZWAsIHRoaXMgd2lsbCB0aHJvd1xuICAgICAqIGFuIGVycm9yLlxuICAgICAqL1xuICAgIHNldERlZmF1bHRXaWRnZXRGYWN0b3J5KGZpbGVUeXBlLCBmYWN0b3J5KSB7XG4gICAgICAgIGZpbGVUeXBlID0gZmlsZVR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLmdldEZpbGVUeXBlKGZpbGVUeXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYENhbm5vdCBmaW5kIGZpbGUgdHlwZSAke2ZpbGVUeXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmFjdG9yeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RlZmF1bHRXaWRnZXRGYWN0b3J5T3ZlcnJpZGVzW2ZpbGVUeXBlXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9kZWZhdWx0V2lkZ2V0RmFjdG9yeU92ZXJyaWRlc1tmaWxlVHlwZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmdldFdpZGdldEZhY3RvcnkoZmFjdG9yeSkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDYW5ub3QgZmluZCB3aWRnZXQgZmFjdG9yeSAke2ZhY3Rvcnl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeSA9IGZhY3RvcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgZmFjdG9yaWVzID0gdGhpcy5fd2lkZ2V0RmFjdG9yaWVzRm9yRmlsZVR5cGVbZmlsZVR5cGVdO1xuICAgICAgICBpZiAoZmFjdG9yeSAhPT0gdGhpcy5fZGVmYXVsdFdpZGdldEZhY3RvcnkgJiZcbiAgICAgICAgICAgICEoZmFjdG9yaWVzICYmIGZhY3Rvcmllcy5pbmNsdWRlcyhmYWN0b3J5KSkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBGYWN0b3J5ICR7ZmFjdG9yeX0gY2Fubm90IHZpZXcgZmlsZSB0eXBlICR7ZmlsZVR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVmYXVsdFdpZGdldEZhY3RvcnlPdmVycmlkZXNbZmlsZVR5cGVdID0gZmFjdG9yeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGl0ZXJhdG9yIG92ZXIgdGhlIHdpZGdldCBmYWN0b3JpZXMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGl0ZXJhdG9yIG9mIHdpZGdldCBmYWN0b3JpZXMuXG4gICAgICovXG4gICAgd2lkZ2V0RmFjdG9yaWVzKCkge1xuICAgICAgICByZXR1cm4gbWFwKE9iamVjdC5rZXlzKHRoaXMuX3dpZGdldEZhY3RvcmllcyksIG5hbWUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpZGdldEZhY3Rvcmllc1tuYW1lXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpdGVyYXRvciBvdmVyIHRoZSBtb2RlbCBmYWN0b3JpZXMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGl0ZXJhdG9yIG9mIG1vZGVsIGZhY3Rvcmllcy5cbiAgICAgKi9cbiAgICBtb2RlbEZhY3RvcmllcygpIHtcbiAgICAgICAgcmV0dXJuIG1hcChPYmplY3Qua2V5cyh0aGlzLl9tb2RlbEZhY3RvcmllcyksIG5hbWUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsRmFjdG9yaWVzW25hbWVdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGl0ZXJhdG9yIG92ZXIgdGhlIHJlZ2lzdGVyZWQgZXh0ZW5zaW9ucyBmb3IgYSBnaXZlbiB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2lkZ2V0TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB3aWRnZXQgZmFjdG9yeS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGl0ZXJhdG9yIG92ZXIgdGhlIHdpZGdldCBleHRlbnNpb25zLlxuICAgICAqL1xuICAgIHdpZGdldEV4dGVuc2lvbnMod2lkZ2V0TmFtZSkge1xuICAgICAgICB3aWRnZXROYW1lID0gd2lkZ2V0TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoISh3aWRnZXROYW1lIGluIHRoaXMuX2V4dGVuZGVycykpIHtcbiAgICAgICAgICAgIHJldHVybiBlbXB0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlJdGVyYXRvcih0aGlzLl9leHRlbmRlcnNbd2lkZ2V0TmFtZV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaXRlcmF0b3Igb3ZlciB0aGUgZmlsZSB0eXBlcyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBuZXcgaXRlcmF0b3Igb2YgZmlsZSB0eXBlcy5cbiAgICAgKi9cbiAgICBmaWxlVHlwZXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlJdGVyYXRvcih0aGlzLl9maWxlVHlwZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSB3aWRnZXQgZmFjdG9yeSBieSBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZGdldE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgd2lkZ2V0IGZhY3RvcnkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHdpZGdldCBmYWN0b3J5IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGdldFdpZGdldEZhY3Rvcnkod2lkZ2V0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkZ2V0RmFjdG9yaWVzW3dpZGdldE5hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIG1vZGVsIGZhY3RvcnkgYnkgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG1vZGVsIGZhY3RvcnkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIG1vZGVsIGZhY3RvcnkgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZ2V0TW9kZWxGYWN0b3J5KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsRmFjdG9yaWVzW25hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGZpbGUgdHlwZSBieSBuYW1lLlxuICAgICAqL1xuICAgIGdldEZpbGVUeXBlKG5hbWUpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIGZpbmQodGhpcy5fZmlsZVR5cGVzLCBmaWxlVHlwZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZmlsZVR5cGUubmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEga2VybmVsIHByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBmaWxlIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2lkZ2V0TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB3aWRnZXQgZmFjdG9yeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBrZXJuZWwgLSBBbiBvcHRpb25hbCBleGlzdGluZyBrZXJuZWwgbW9kZWwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGtlcm5lbCBwcmVmZXJlbmNlLlxuICAgICAqL1xuICAgIGdldEtlcm5lbFByZWZlcmVuY2UocGF0aCwgd2lkZ2V0TmFtZSwga2VybmVsKSB7XG4gICAgICAgIHdpZGdldE5hbWUgPSB3aWRnZXROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxldCB3aWRnZXRGYWN0b3J5ID0gdGhpcy5fd2lkZ2V0RmFjdG9yaWVzW3dpZGdldE5hbWVdO1xuICAgICAgICBpZiAoIXdpZGdldEZhY3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vZGVsRmFjdG9yeSA9IHRoaXMuZ2V0TW9kZWxGYWN0b3J5KHdpZGdldEZhY3RvcnkubW9kZWxOYW1lIHx8ICd0ZXh0Jyk7XG4gICAgICAgIGlmICghbW9kZWxGYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsYW5ndWFnZSA9IG1vZGVsRmFjdG9yeS5wcmVmZXJyZWRMYW5ndWFnZShQYXRoRXh0LmJhc2VuYW1lKHBhdGgpKTtcbiAgICAgICAgbGV0IG5hbWUgPSBrZXJuZWwgJiYga2VybmVsLm5hbWU7XG4gICAgICAgIGxldCBpZCA9IGtlcm5lbCAmJiBrZXJuZWwuaWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgICAgIHNob3VsZFN0YXJ0OiB3aWRnZXRGYWN0b3J5LnByZWZlcktlcm5lbCxcbiAgICAgICAgICAgIGNhblN0YXJ0OiB3aWRnZXRGYWN0b3J5LmNhblN0YXJ0S2VybmVsLFxuICAgICAgICAgICAgc2h1dGRvd25PbkRpc3Bvc2U6IHdpZGdldEZhY3Rvcnkuc2h1dGRvd25PbkNsb3NlXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYmVzdCBmaWxlIHR5cGUgZ2l2ZW4gYSBjb250ZW50cyBtb2RlbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtb2RlbCAtIFRoZSBjb250ZW50cyBtb2RlbCBvZiBpbnRlcmVzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBiZXN0IG1hdGNoaW5nIGZpbGUgdHlwZS5cbiAgICAgKi9cbiAgICBnZXRGaWxlVHlwZUZvck1vZGVsKG1vZGVsKSB7XG4gICAgICAgIHN3aXRjaCAobW9kZWwudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZGlyZWN0b3J5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGZpbmQodGhpcy5fZmlsZVR5cGVzLCBmdCA9PiBmdC5jb250ZW50VHlwZSA9PT0gJ2RpcmVjdG9yeScpIHx8XG4gICAgICAgICAgICAgICAgICAgIERvY3VtZW50UmVnaXN0cnkuZGVmYXVsdERpcmVjdG9yeUZpbGVUeXBlKTtcbiAgICAgICAgICAgIGNhc2UgJ25vdGVib29rJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGZpbmQodGhpcy5fZmlsZVR5cGVzLCBmdCA9PiBmdC5jb250ZW50VHlwZSA9PT0gJ25vdGVib29rJykgfHxcbiAgICAgICAgICAgICAgICAgICAgRG9jdW1lbnRSZWdpc3RyeS5kZWZhdWx0Tm90ZWJvb2tGaWxlVHlwZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGJlc3QgbWF0Y2hpbmcgZXh0ZW5zaW9uLlxuICAgICAgICAgICAgICAgIGlmIChtb2RlbC5uYW1lIHx8IG1vZGVsLnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBtb2RlbC5uYW1lIHx8IFBhdGhFeHQuYmFzZW5hbWUobW9kZWwucGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmdHMgPSB0aGlzLmdldEZpbGVUeXBlc0ZvclBhdGgobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ0c1swXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWxlVHlwZSgndGV4dCcpIHx8IERvY3VtZW50UmVnaXN0cnkuZGVmYXVsdFRleHRGaWxlVHlwZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZpbGUgdHlwZXMgdGhhdCBtYXRjaCBhIGZpbGUgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIGZpbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBbiBvcmRlcmVkIGxpc3Qgb2YgbWF0Y2hpbmcgZmlsZSB0eXBlcy5cbiAgICAgKi9cbiAgICBnZXRGaWxlVHlwZXNGb3JQYXRoKHBhdGgpIHtcbiAgICAgICAgbGV0IGZ0cyA9IFtdO1xuICAgICAgICBsZXQgbmFtZSA9IFBhdGhFeHQuYmFzZW5hbWUocGF0aCk7XG4gICAgICAgIC8vIExvb2sgZm9yIGEgcGF0dGVybiBtYXRjaCBmaXJzdC5cbiAgICAgICAgbGV0IGZ0ID0gZmluZCh0aGlzLl9maWxlVHlwZXMsIGZ0ID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhIShmdC5wYXR0ZXJuICYmIGZ0LnBhdHRlcm4ubWF0Y2gobmFtZSkgIT09IG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZ0KSB7XG4gICAgICAgICAgICBmdHMucHVzaChmdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlbiBsb29rIGJ5IGV4dGVuc2lvbiBuYW1lLCBzdGFydGluZyB3aXRoIHRoZSBsb25nZXN0XG4gICAgICAgIGxldCBleHQgPSBQcml2YXRlLmV4dG5hbWUobmFtZSk7XG4gICAgICAgIHdoaWxlIChleHQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZnQgPSBmaW5kKHRoaXMuX2ZpbGVUeXBlcywgZnQgPT4gZnQuZXh0ZW5zaW9ucy5pbmRleE9mKGV4dCkgIT09IC0xKTtcbiAgICAgICAgICAgIGlmIChmdCkge1xuICAgICAgICAgICAgICAgIGZ0cy5wdXNoKGZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4dCA9XG4gICAgICAgICAgICAgICAgJy4nICtcbiAgICAgICAgICAgICAgICAgICAgZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJy4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdHM7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciB0aGUgYERvY3VtZW50UmVnaXN0cnlgIGNsYXNzIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoRG9jdW1lbnRSZWdpc3RyeSkge1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0cyB1c2VkIGZvciBhIGZpbGUgdHlwZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudFJlZ2lzdHJ5LmZpbGVUeXBlRGVmYXVsdHMgPSB7XG4gICAgICAgIG5hbWU6ICdkZWZhdWx0JyxcbiAgICAgICAgZXh0ZW5zaW9uczogW10sXG4gICAgICAgIG1pbWVUeXBlczogW10sXG4gICAgICAgIGNvbnRlbnRUeXBlOiAnZmlsZScsXG4gICAgICAgIGZpbGVGb3JtYXQ6ICd0ZXh0J1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdGV4dCBmaWxlIHR5cGUgdXNlZCBieSB0aGUgZG9jdW1lbnQgcmVnaXN0cnkuXG4gICAgICovXG4gICAgRG9jdW1lbnRSZWdpc3RyeS5kZWZhdWx0VGV4dEZpbGVUeXBlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBEb2N1bWVudFJlZ2lzdHJ5LmZpbGVUeXBlRGVmYXVsdHMpLCB7IG5hbWU6ICd0ZXh0JywgbWltZVR5cGVzOiBbJ3RleHQvcGxhaW4nXSwgZXh0ZW5zaW9uczogWycudHh0J10sIGljb246IGZpbGVJY29uIH0pO1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IG5vdGVib29rIGZpbGUgdHlwZSB1c2VkIGJ5IHRoZSBkb2N1bWVudCByZWdpc3RyeS5cbiAgICAgKi9cbiAgICBEb2N1bWVudFJlZ2lzdHJ5LmRlZmF1bHROb3RlYm9va0ZpbGVUeXBlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBEb2N1bWVudFJlZ2lzdHJ5LmZpbGVUeXBlRGVmYXVsdHMpLCB7IG5hbWU6ICdub3RlYm9vaycsIGRpc3BsYXlOYW1lOiAnTm90ZWJvb2snLCBtaW1lVHlwZXM6IFsnYXBwbGljYXRpb24veC1pcHluYitqc29uJ10sIGV4dGVuc2lvbnM6IFsnLmlweW5iJ10sIGNvbnRlbnRUeXBlOiAnbm90ZWJvb2snLCBmaWxlRm9ybWF0OiAnanNvbicsIGljb246IG5vdGVib29rSWNvbiB9KTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBkaXJlY3RvcnkgZmlsZSB0eXBlIHVzZWQgYnkgdGhlIGRvY3VtZW50IHJlZ2lzdHJ5LlxuICAgICAqL1xuICAgIERvY3VtZW50UmVnaXN0cnkuZGVmYXVsdERpcmVjdG9yeUZpbGVUeXBlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBEb2N1bWVudFJlZ2lzdHJ5LmZpbGVUeXBlRGVmYXVsdHMpLCB7IG5hbWU6ICdkaXJlY3RvcnknLCBleHRlbnNpb25zOiBbXSwgbWltZVR5cGVzOiBbJ3RleHQvZGlyZWN0b3J5J10sIGNvbnRlbnRUeXBlOiAnZGlyZWN0b3J5JywgaWNvbjogZm9sZGVySWNvbiB9KTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmaWxlIHR5cGVzIHVzZWQgYnkgdGhlIGRvY3VtZW50IHJlZ2lzdHJ5LlxuICAgICAqL1xuICAgIERvY3VtZW50UmVnaXN0cnkuZGVmYXVsdEZpbGVUeXBlcyA9IFtcbiAgICAgICAgRG9jdW1lbnRSZWdpc3RyeS5kZWZhdWx0VGV4dEZpbGVUeXBlLFxuICAgICAgICBEb2N1bWVudFJlZ2lzdHJ5LmRlZmF1bHROb3RlYm9va0ZpbGVUeXBlLFxuICAgICAgICBEb2N1bWVudFJlZ2lzdHJ5LmRlZmF1bHREaXJlY3RvcnlGaWxlVHlwZSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ21hcmtkb3duJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnTWFya2Rvd24gRmlsZScsXG4gICAgICAgICAgICBleHRlbnNpb25zOiBbJy5tZCddLFxuICAgICAgICAgICAgbWltZVR5cGVzOiBbJ3RleHQvbWFya2Rvd24nXSxcbiAgICAgICAgICAgIGljb246IG1hcmtkb3duSWNvblxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAncHl0aG9uJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUHl0aG9uIEZpbGUnLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycucHknXSxcbiAgICAgICAgICAgIG1pbWVUeXBlczogWyd0ZXh0L3gtcHl0aG9uJ10sXG4gICAgICAgICAgICBpY29uOiBweXRob25JY29uXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdqc29uJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnSlNPTiBGaWxlJyxcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsnLmpzb24nXSxcbiAgICAgICAgICAgIG1pbWVUeXBlczogWydhcHBsaWNhdGlvbi9qc29uJ10sXG4gICAgICAgICAgICBpY29uOiBqc29uSWNvblxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnY3N2JyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnQ1NWIEZpbGUnLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycuY3N2J10sXG4gICAgICAgICAgICBtaW1lVHlwZXM6IFsndGV4dC9jc3YnXSxcbiAgICAgICAgICAgIGljb246IHNwcmVhZHNoZWV0SWNvblxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAndHN2JyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnVFNWIEZpbGUnLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycudHN2J10sXG4gICAgICAgICAgICBtaW1lVHlwZXM6IFsndGV4dC9jc3YnXSxcbiAgICAgICAgICAgIGljb246IHNwcmVhZHNoZWV0SWNvblxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAncicsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1IgRmlsZScsXG4gICAgICAgICAgICBtaW1lVHlwZXM6IFsndGV4dC94LXJzcmMnXSxcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsnLnInXSxcbiAgICAgICAgICAgIGljb246IHJLZXJuZWxJY29uXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICd5YW1sJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnWUFNTCBGaWxlJyxcbiAgICAgICAgICAgIG1pbWVUeXBlczogWyd0ZXh0L3gteWFtbCcsICd0ZXh0L3lhbWwnXSxcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsnLnlhbWwnLCAnLnltbCddLFxuICAgICAgICAgICAgaWNvbjogeWFtbEljb25cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ3N2ZycsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0ltYWdlJyxcbiAgICAgICAgICAgIG1pbWVUeXBlczogWydpbWFnZS9zdmcreG1sJ10sXG4gICAgICAgICAgICBleHRlbnNpb25zOiBbJy5zdmcnXSxcbiAgICAgICAgICAgIGljb246IGltYWdlSWNvbixcbiAgICAgICAgICAgIGZpbGVGb3JtYXQ6ICdiYXNlNjQnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICd0aWZmJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnSW1hZ2UnLFxuICAgICAgICAgICAgbWltZVR5cGVzOiBbJ2ltYWdlL3RpZmYnXSxcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IFsnLnRpZicsICcudGlmZiddLFxuICAgICAgICAgICAgaWNvbjogaW1hZ2VJY29uLFxuICAgICAgICAgICAgZmlsZUZvcm1hdDogJ2Jhc2U2NCdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2pwZWcnLFxuICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdJbWFnZScsXG4gICAgICAgICAgICBtaW1lVHlwZXM6IFsnaW1hZ2UvanBlZyddLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycuanBnJywgJy5qcGVnJ10sXG4gICAgICAgICAgICBpY29uOiBpbWFnZUljb24sXG4gICAgICAgICAgICBmaWxlRm9ybWF0OiAnYmFzZTY0J1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnZ2lmJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnSW1hZ2UnLFxuICAgICAgICAgICAgbWltZVR5cGVzOiBbJ2ltYWdlL2dpZiddLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycuZ2lmJ10sXG4gICAgICAgICAgICBpY29uOiBpbWFnZUljb24sXG4gICAgICAgICAgICBmaWxlRm9ybWF0OiAnYmFzZTY0J1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAncG5nJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnSW1hZ2UnLFxuICAgICAgICAgICAgbWltZVR5cGVzOiBbJ2ltYWdlL3BuZyddLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycucG5nJ10sXG4gICAgICAgICAgICBpY29uOiBpbWFnZUljb24sXG4gICAgICAgICAgICBmaWxlRm9ybWF0OiAnYmFzZTY0J1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnYm1wJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnSW1hZ2UnLFxuICAgICAgICAgICAgbWltZVR5cGVzOiBbJ2ltYWdlL2JtcCddLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogWycuYm1wJ10sXG4gICAgICAgICAgICBpY29uOiBpbWFnZUljb24sXG4gICAgICAgICAgICBmaWxlRm9ybWF0OiAnYmFzZTY0J1xuICAgICAgICB9XG4gICAgXTtcbn0pKERvY3VtZW50UmVnaXN0cnkgfHwgKERvY3VtZW50UmVnaXN0cnkgPSB7fSkpO1xuLyoqXG4gKiBBIHByaXZhdGUgbmFtZXNwYWNlIGZvciBEb2N1bWVudFJlZ2lzdHJ5IGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBleHRlbnNpb24gbmFtZSBvZiBhIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsZSAtIHN0cmluZy5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBEb3R0ZWQgZmlsZW5hbWVzIChlLmcuIGBcIi50YWJsZS5qc29uXCJgIGFyZSBhbGxvd2VkKS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBleHRuYW1lKHBhdGgpIHtcbiAgICAgICAgbGV0IHBhcnRzID0gUGF0aEV4dC5iYXNlbmFtZShwYXRoKS5zcGxpdCgnLicpO1xuICAgICAgICBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBsZXQgZXh0ID0gJy4nICsgcGFydHMuam9pbignLicpO1xuICAgICAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIFByaXZhdGUuZXh0bmFtZSA9IGV4dG5hbWU7XG4gICAgLyoqXG4gICAgICogQSBuby1vcCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub09wKCkge1xuICAgICAgICAvKiBuby1vcCAqL1xuICAgIH1cbiAgICBQcml2YXRlLm5vT3AgPSBub09wO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWdpc3RyeS5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBBcnJheUV4dCwgQXJyYXlJdGVyYXRvciwgZWFjaCwgdG9BcnJheSB9IGZyb20gJ0BsdW1pbm8vYWxnb3JpdGhtJztcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0BsdW1pbm8vc2lnbmFsaW5nJztcbi8qKlxuICogQSBjb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBbW0lPYnNlcnZhYmxlTGlzdF1dLlxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZUxpc3Qge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBvYnNlcnZhYmxlIG1hcC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5fYXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudmFsdWVzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGVhY2gob3B0aW9ucy52YWx1ZXMsIHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2l0ZW1DbXAgPSBvcHRpb25zLml0ZW1DbXAgfHwgUHJpdmF0ZS5pdGVtQ21wO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICdMaXN0JztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzaWduYWwgZW1pdHRlZCB3aGVuIHRoZSBsaXN0IGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuICAgIGdldCBjaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhbmdlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxlbmd0aCBvZiB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXJyYXkubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdGhlIGxpc3QgaGFzIGJlZW4gZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICBTaWduYWwuY2xlYXJEYXRhKHRoaXMpO1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpdGVyYXRvciBvdmVyIHRoZSB2YWx1ZXMgaW4gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpdGVyYXRvciBzdGFydGluZyBhdCB0aGUgZnJvbnQgb2YgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiAjIyMjIENvbXBsZXhpdHlcbiAgICAgKiBDb25zdGFudC5cbiAgICAgKlxuICAgICAqICMjIyMgSXRlcmF0b3IgVmFsaWRpdHlcbiAgICAgKiBObyBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGl0ZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlJdGVyYXRvcih0aGlzLl9hcnJheSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCAtIFRoZSBwb3NpdGl2ZSBpbnRlZ2VyIGluZGV4IG9mIGludGVyZXN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHZhbHVlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgICpcbiAgICAgKiAjIyMjIFVuZGVmaW5lZCBCZWhhdmlvclxuICAgICAqIEFuIGBpbmRleGAgd2hpY2ggaXMgbm9uLWludGVncmFsIG9yIG91dCBvZiByYW5nZS5cbiAgICAgKi9cbiAgICBnZXQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FycmF5W2luZGV4XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2YWx1ZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIHBvc2l0aXZlIGludGVnZXIgaW5kZXggb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc2V0IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgICpcbiAgICAgKiAjIyMjIENvbXBsZXhpdHlcbiAgICAgKiBDb25zdGFudC5cbiAgICAgKlxuICAgICAqICMjIyMgSXRlcmF0b3IgVmFsaWRpdHlcbiAgICAgKiBObyBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogIyMjIyBVbmRlZmluZWQgQmVoYXZpb3JcbiAgICAgKiBBbiBgaW5kZXhgIHdoaWNoIGlzIG5vbi1pbnRlZ3JhbCBvciBvdXQgb2YgcmFuZ2UuXG4gICAgICovXG4gICAgc2V0KGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBsZXQgb2xkVmFsdWUgPSB0aGlzLl9hcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzZXQgYW4gdW5kZWZpbmVkIGl0ZW0nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCYWlsIGlmIHRoZSB2YWx1ZSBkb2VzIG5vdCBjaGFuZ2UuXG4gICAgICAgIGxldCBpdGVtQ21wID0gdGhpcy5faXRlbUNtcDtcbiAgICAgICAgaWYgKGl0ZW1DbXAob2xkVmFsdWUsIHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQoe1xuICAgICAgICAgICAgdHlwZTogJ3NldCcsXG4gICAgICAgICAgICBvbGRJbmRleDogaW5kZXgsXG4gICAgICAgICAgICBuZXdJbmRleDogaW5kZXgsXG4gICAgICAgICAgICBvbGRWYWx1ZXM6IFtvbGRWYWx1ZV0sXG4gICAgICAgICAgICBuZXdWYWx1ZXM6IFt2YWx1ZV1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHZhbHVlIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYWRkIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgbmV3IGxlbmd0aCBvZiB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqICMjIyMgQ29tcGxleGl0eVxuICAgICAqIENvbnN0YW50LlxuICAgICAqXG4gICAgICogIyMjIyBJdGVyYXRvciBWYWxpZGl0eVxuICAgICAqIE5vIGNoYW5nZXMuXG4gICAgICovXG4gICAgcHVzaCh2YWx1ZSkge1xuICAgICAgICBsZXQgbnVtID0gdGhpcy5fYXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICB0eXBlOiAnYWRkJyxcbiAgICAgICAgICAgIG9sZEluZGV4OiAtMSxcbiAgICAgICAgICAgIG5ld0luZGV4OiB0aGlzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICBvbGRWYWx1ZXM6IFtdLFxuICAgICAgICAgICAgbmV3VmFsdWVzOiBbdmFsdWVdXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYSB2YWx1ZSBpbnRvIHRoZSBsaXN0IGF0IGEgc3BlY2lmaWMgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgaW5kZXggYXQgd2hpY2ggdG8gaW5zZXJ0IHRoZSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXQgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICAgKlxuICAgICAqICMjIyMgQ29tcGxleGl0eVxuICAgICAqIExpbmVhci5cbiAgICAgKlxuICAgICAqICMjIyMgSXRlcmF0b3IgVmFsaWRpdHlcbiAgICAgKiBObyBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBgaW5kZXhgIHdpbGwgYmUgY2xhbXBlZCB0byB0aGUgYm91bmRzIG9mIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogIyMjIyBVbmRlZmluZWQgQmVoYXZpb3JcbiAgICAgKiBBbiBgaW5kZXhgIHdoaWNoIGlzIG5vbi1pbnRlZ3JhbC5cbiAgICAgKi9cbiAgICBpbnNlcnQoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIEFycmF5RXh0Lmluc2VydCh0aGlzLl9hcnJheSwgaW5kZXgsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgIHR5cGU6ICdhZGQnLFxuICAgICAgICAgICAgb2xkSW5kZXg6IC0xLFxuICAgICAgICAgICAgbmV3SW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgb2xkVmFsdWVzOiBbXSxcbiAgICAgICAgICAgIG5ld1ZhbHVlczogW3ZhbHVlXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGEgdmFsdWUgZnJvbSB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBvZiBpbnRlcmVzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBpbmRleCBvZiB0aGUgcmVtb3ZlZCB2YWx1ZSwgb3IgYC0xYCBpZiB0aGUgdmFsdWVcbiAgICAgKiAgIGlzIG5vdCBjb250YWluZWQgaW4gdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiAjIyMjIENvbXBsZXhpdHlcbiAgICAgKiBMaW5lYXIuXG4gICAgICpcbiAgICAgKiAjIyMjIEl0ZXJhdG9yIFZhbGlkaXR5XG4gICAgICogSXRlcmF0b3JzIHBvaW50aW5nIGF0IHRoZSByZW1vdmVkIHZhbHVlIGFuZCBiZXlvbmQgYXJlIGludmFsaWRhdGVkLlxuICAgICAqL1xuICAgIHJlbW92ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGxldCBpdGVtQ21wID0gdGhpcy5faXRlbUNtcDtcbiAgICAgICAgbGV0IGluZGV4ID0gQXJyYXlFeHQuZmluZEZpcnN0SW5kZXgodGhpcy5fYXJyYXksIGl0ZW0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1DbXAoaXRlbSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZW1vdmUoaW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbmQgcmV0dXJuIHRoZSB2YWx1ZSBhdCBhIHNwZWNpZmljIGluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSB2YWx1ZSBvZiBpbnRlcmVzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSB2YWx1ZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LCBvciBgdW5kZWZpbmVkYCBpZiB0aGVcbiAgICAgKiAgIGluZGV4IGlzIG91dCBvZiByYW5nZS5cbiAgICAgKlxuICAgICAqICMjIyMgQ29tcGxleGl0eVxuICAgICAqIENvbnN0YW50LlxuICAgICAqXG4gICAgICogIyMjIyBJdGVyYXRvciBWYWxpZGl0eVxuICAgICAqIEl0ZXJhdG9ycyBwb2ludGluZyBhdCB0aGUgcmVtb3ZlZCB2YWx1ZSBhbmQgYmV5b25kIGFyZSBpbnZhbGlkYXRlZC5cbiAgICAgKlxuICAgICAqICMjIyMgVW5kZWZpbmVkIEJlaGF2aW9yXG4gICAgICogQW4gYGluZGV4YCB3aGljaCBpcyBub24taW50ZWdyYWwuXG4gICAgICovXG4gICAgcmVtb3ZlKGluZGV4KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IEFycmF5RXh0LnJlbW92ZUF0KHRoaXMuX2FycmF5LCBpbmRleCk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgIHR5cGU6ICdyZW1vdmUnLFxuICAgICAgICAgICAgb2xkSW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgbmV3SW5kZXg6IC0xLFxuICAgICAgICAgICAgbmV3VmFsdWVzOiBbXSxcbiAgICAgICAgICAgIG9sZFZhbHVlczogW3ZhbHVlXVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHZhbHVlcyBmcm9tIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogIyMjIyBDb21wbGV4aXR5XG4gICAgICogTGluZWFyLlxuICAgICAqXG4gICAgICogIyMjIyBJdGVyYXRvciBWYWxpZGl0eVxuICAgICAqIEFsbCBjdXJyZW50IGl0ZXJhdG9ycyBhcmUgaW52YWxpZGF0ZWQuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGxldCBjb3B5ID0gdGhpcy5fYXJyYXkuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5fYXJyYXkubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgIHR5cGU6ICdyZW1vdmUnLFxuICAgICAgICAgICAgb2xkSW5kZXg6IDAsXG4gICAgICAgICAgICBuZXdJbmRleDogMCxcbiAgICAgICAgICAgIG5ld1ZhbHVlczogW10sXG4gICAgICAgICAgICBvbGRWYWx1ZXM6IGNvcHlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmUgYSB2YWx1ZSBmcm9tIG9uZSBpbmRleCB0byBhbm90aGVyLlxuICAgICAqXG4gICAgICogQHBhcm0gZnJvbUluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIG1vdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9JbmRleCAtIFRoZSBpbmRleCB0byBtb3ZlIHRoZSBlbGVtZW50IHRvLlxuICAgICAqXG4gICAgICogIyMjIyBDb21wbGV4aXR5XG4gICAgICogQ29uc3RhbnQuXG4gICAgICpcbiAgICAgKiAjIyMjIEl0ZXJhdG9yIFZhbGlkaXR5XG4gICAgICogSXRlcmF0b3JzIHBvaW50aW5nIGF0IHRoZSBsZXNzZXIgb2YgdGhlIGBmcm9tSW5kZXhgIGFuZCB0aGUgYHRvSW5kZXhgXG4gICAgICogYW5kIGJleW9uZCBhcmUgaW52YWxpZGF0ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIFVuZGVmaW5lZCBCZWhhdmlvclxuICAgICAqIEEgYGZyb21JbmRleGAgb3IgYSBgdG9JbmRleGAgd2hpY2ggaXMgbm9uLWludGVncmFsLlxuICAgICAqL1xuICAgIG1vdmUoZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA8PSAxIHx8IGZyb21JbmRleCA9PT0gdG9JbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbdGhpcy5fYXJyYXlbZnJvbUluZGV4XV07XG4gICAgICAgIEFycmF5RXh0Lm1vdmUodGhpcy5fYXJyYXksIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICB0eXBlOiAnbW92ZScsXG4gICAgICAgICAgICBvbGRJbmRleDogZnJvbUluZGV4LFxuICAgICAgICAgICAgbmV3SW5kZXg6IHRvSW5kZXgsXG4gICAgICAgICAgICBvbGRWYWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgICAgIG5ld1ZhbHVlczogdmFsdWVzXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoIGEgc2V0IG9mIHZhbHVlcyB0byB0aGUgYmFjayBvZiB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgLSBBbiBpdGVyYWJsZSBvciBhcnJheS1saWtlIHNldCBvZiB2YWx1ZXMgdG8gYWRkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIG5ldyBsZW5ndGggb2YgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiAjIyMjIENvbXBsZXhpdHlcbiAgICAgKiBMaW5lYXIuXG4gICAgICpcbiAgICAgKiAjIyMjIEl0ZXJhdG9yIFZhbGlkaXR5XG4gICAgICogTm8gY2hhbmdlcy5cbiAgICAgKi9cbiAgICBwdXNoQWxsKHZhbHVlcykge1xuICAgICAgICBsZXQgbmV3SW5kZXggPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgZWFjaCh2YWx1ZXMsIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FycmF5LnB1c2godmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHtcbiAgICAgICAgICAgIHR5cGU6ICdhZGQnLFxuICAgICAgICAgICAgb2xkSW5kZXg6IC0xLFxuICAgICAgICAgICAgbmV3SW5kZXgsXG4gICAgICAgICAgICBvbGRWYWx1ZXM6IFtdLFxuICAgICAgICAgICAgbmV3VmFsdWVzOiB0b0FycmF5KHZhbHVlcylcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0IGEgc2V0IG9mIGl0ZW1zIGludG8gdGhlIGxpc3QgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCAtIFRoZSBpbmRleCBhdCB3aGljaCB0byBpbnNlcnQgdGhlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRvIGluc2VydCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICAqXG4gICAgICogIyMjIyBDb21wbGV4aXR5LlxuICAgICAqIExpbmVhci5cbiAgICAgKlxuICAgICAqICMjIyMgSXRlcmF0b3IgVmFsaWRpdHlcbiAgICAgKiBObyBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBgaW5kZXhgIHdpbGwgYmUgY2xhbXBlZCB0byB0aGUgYm91bmRzIG9mIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogIyMjIyBVbmRlZmluZWQgQmVoYXZpb3IuXG4gICAgICogQW4gYGluZGV4YCB3aGljaCBpcyBub24taW50ZWdyYWwuXG4gICAgICovXG4gICAgaW5zZXJ0QWxsKGluZGV4LCB2YWx1ZXMpIHtcbiAgICAgICAgbGV0IG5ld0luZGV4ID0gaW5kZXg7XG4gICAgICAgIGVhY2godmFsdWVzLCB2YWx1ZSA9PiB7XG4gICAgICAgICAgICBBcnJheUV4dC5pbnNlcnQodGhpcy5fYXJyYXksIGluZGV4KyssIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NoYW5nZWQuZW1pdCh7XG4gICAgICAgICAgICB0eXBlOiAnYWRkJyxcbiAgICAgICAgICAgIG9sZEluZGV4OiAtMSxcbiAgICAgICAgICAgIG5ld0luZGV4LFxuICAgICAgICAgICAgb2xkVmFsdWVzOiBbXSxcbiAgICAgICAgICAgIG5ld1ZhbHVlczogdG9BcnJheSh2YWx1ZXMpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSByYW5nZSBvZiBpdGVtcyBmcm9tIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXJ0SW5kZXggLSBUaGUgc3RhcnQgaW5kZXggb2YgdGhlIHJhbmdlIHRvIHJlbW92ZSAoaW5jbHVzaXZlKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbmRJbmRleCAtIFRoZSBlbmQgaW5kZXggb2YgdGhlIHJhbmdlIHRvIHJlbW92ZSAoZXhjbHVzaXZlKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBuZXcgbGVuZ3RoIG9mIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogIyMjIyBDb21wbGV4aXR5XG4gICAgICogTGluZWFyLlxuICAgICAqXG4gICAgICogIyMjIyBJdGVyYXRvciBWYWxpZGl0eVxuICAgICAqIEl0ZXJhdG9ycyBwb2ludGluZyB0byB0aGUgZmlyc3QgcmVtb3ZlZCB2YWx1ZSBhbmQgYmV5b25kIGFyZSBpbnZhbGlkLlxuICAgICAqXG4gICAgICogIyMjIyBVbmRlZmluZWQgQmVoYXZpb3JcbiAgICAgKiBBIGBzdGFydEluZGV4YCBvciBgZW5kSW5kZXhgIHdoaWNoIGlzIG5vbi1pbnRlZ3JhbC5cbiAgICAgKi9cbiAgICByZW1vdmVSYW5nZShzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgICAgICBsZXQgb2xkVmFsdWVzID0gdGhpcy5fYXJyYXkuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgIEFycmF5RXh0LnJlbW92ZUF0KHRoaXMuX2FycmF5LCBzdGFydEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQoe1xuICAgICAgICAgICAgdHlwZTogJ3JlbW92ZScsXG4gICAgICAgICAgICBvbGRJbmRleDogc3RhcnRJbmRleCxcbiAgICAgICAgICAgIG5ld0luZGV4OiAtMSxcbiAgICAgICAgICAgIG9sZFZhbHVlcyxcbiAgICAgICAgICAgIG5ld1ZhbHVlczogW11cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIG1vZHVsZSBwcml2YXRlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgc3RyaWN0IGVxdWFsaXR5IGl0ZW0gY21wLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGl0ZW1DbXAoZmlyc3QsIHNlY29uZCkge1xuICAgICAgICByZXR1cm4gZmlyc3QgPT09IHNlY29uZDtcbiAgICB9XG4gICAgUHJpdmF0ZS5pdGVtQ21wID0gaXRlbUNtcDtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZWxpc3QuanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qKlxuICogVGhlIHNldHRpbmcgcmVnaXN0cnkgdG9rZW4uXG4gKi9cbmV4cG9ydCBjb25zdCBJU2V0dGluZ1JlZ2lzdHJ5ID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9jb3JldXRpbHM6SVNldHRpbmdSZWdpc3RyeScpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9rZW5zLmpzLm1hcCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXFxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBWYXJpYWJsZXNcXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuOnJvb3Qge1xcbiAgLS1qcC1wcml2YXRlLWNvbW1hbmRwYWxldHRlLXNlYXJjaC1oZWlnaHQ6IDI4cHg7XFxufVxcblxcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG58IE92ZXJhbGwgc3R5bGVzXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi5sbS1Db21tYW5kUGFsZXR0ZSB7XFxuICBwYWRkaW5nLWJvdHRvbTogMHB4O1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IxKTtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWpwLWxheW91dC1jb2xvcjEpO1xcbiAgLyogVGhpcyBpcyBuZWVkZWQgc28gdGhhdCBhbGwgZm9udCBzaXppbmcgb2YgY2hpbGRyZW4gZG9uZSBpbiBlbXMgaXNcXG4gICAqIHJlbGF0aXZlIHRvIHRoaXMgYmFzZSBzaXplICovXFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTEpO1xcbn1cXG5cXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBTZWFyY2hcXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLXNlYXJjaCB7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG4gIHotaW5kZXg6IDI7XFxufVxcblxcbi5sbS1Db21tYW5kUGFsZXR0ZS13cmFwcGVyIHtcXG4gIG92ZXJmbG93OiBvdmVybGF5O1xcbiAgcGFkZGluZzogMHB4IDlweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWpwLWlucHV0LWFjdGl2ZS1iYWNrZ3JvdW5kKTtcXG4gIGhlaWdodDogMzBweDtcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIHZhcigtLWpwLWJvcmRlci13aWR0aCkgdmFyKC0tanAtaW5wdXQtYm9yZGVyLWNvbG9yKTtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLmxtLW1vZC1mb2N1c2VkIC5sbS1Db21tYW5kUGFsZXR0ZS13cmFwcGVyIHtcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDFweCB2YXIoLS1qcC1pbnB1dC1hY3RpdmUtYm94LXNoYWRvdy1jb2xvciksXFxuICAgIGluc2V0IDAgMCAwIDNweCB2YXIoLS1qcC1pbnB1dC1hY3RpdmUtYm94LXNoYWRvdy1jb2xvcik7XFxufVxcblxcbi5sbS1Db21tYW5kUGFsZXR0ZS13cmFwcGVyOjphZnRlciB7XFxuICBjb250ZW50OiAnICc7XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1qcC1icmFuZC1jb2xvcjEpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA0cHg7XFxuICByaWdodDogNHB4O1xcbiAgaGVpZ2h0OiAzMHB4O1xcbiAgd2lkdGg6IDEwcHg7XFxuICBwYWRkaW5nOiAwcHggMTBweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tc2VhcmNoLXdoaXRlKTtcXG4gIGJhY2tncm91bmQtc2l6ZTogMjBweDtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxufVxcblxcbi5sbS1Db21tYW5kUGFsZXR0ZS1pbnB1dCB7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gIHdpZHRoOiBjYWxjKDEwMCUgLSAxOHB4KTtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tanAtdWktZm9udC1zaXplMSk7XFxuICBjb2xvcjogdmFyKC0tanAtdWktZm9udC1jb2xvcjApO1xcbiAgbGluZS1oZWlnaHQ6IHZhcigtLWpwLXByaXZhdGUtY29tbWFuZHBhbGV0dGUtc2VhcmNoLWhlaWdodCk7XFxufVxcblxcbi5sbS1Db21tYW5kUGFsZXR0ZS1pbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcixcXG4ubG0tQ29tbWFuZFBhbGV0dGUtaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIsXFxuLmxtLUNvbW1hbmRQYWxldHRlLWlucHV0Oi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7XFxuICBjb2xvcjogdmFyKC0tanAtdWktZm9udC1jb2xvcjMpO1xcbiAgZm9udC1zaXplOiB2YXIoLS1qcC11aS1mb250LXNpemUxKTtcXG59XFxuXFxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbnwgUmVzdWx0c1xcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4ubG0tQ29tbWFuZFBhbGV0dGUtaGVhZGVyOmZpcnN0LWNoaWxkIHtcXG4gIG1hcmdpbi10b3A6IDBweDtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWhlYWRlciB7XFxuICBtYXJnaW4tdG9wOiA4cHg7XFxuICBwYWRkaW5nOiA4cHggMCA4cHggMTJweDtcXG4gIGNvbG9yOiB2YXIoLS1qcC11aS1mb250LWNvbG9yMSk7XFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTApO1xcbiAgZm9udC13ZWlnaHQ6IDYwMDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxuICBib3JkZXItYm90dG9tOiBzb2xpZCB2YXIoLS1qcC1ib3JkZXItd2lkdGgpIHZhcigtLWpwLWJvcmRlci1jb2xvcjIpO1xcbiAgbGV0dGVyLXNwYWNpbmc6IDFweDtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWhlYWRlci5sbS1tb2QtYWN0aXZlIHtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWpwLWxheW91dC1jb2xvcjIpO1xcbn1cXG5cXG4ubG0tQ29tbWFuZFBhbGV0dGUtaGVhZGVyOmhvdmVyOjphZnRlciB7XFxuICBjb250ZW50OiAnJztcXG4gIG1pbi13aWR0aDogMTJweDtcXG4gIG1pbi1oZWlnaHQ6IDEycHg7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDE0cHg7XFxuICBtYXJnaW4tcmlnaHQ6IDE2cHg7XFxuICBmbG9hdDogcmlnaHQ7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tZmlsdGVyLWxpc3QpO1xcbn1cXG5cXG4ubG0tQ29tbWFuZFBhbGV0dGUtaGVhZGVyID4gbWFyayB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IxKTtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWl0ZW0ge1xcbiAgcGFkZGluZzogNHB4IDEycHggNHB4IDRweDtcXG4gIGNvbG9yOiB2YXIoLS1qcC11aS1mb250LWNvbG9yMSk7XFxuICBmb250LXNpemU6IHZhcigtLWpwLXVpLWZvbnQtc2l6ZTEpO1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5sbS1Db21tYW5kUGFsZXR0ZS1pdGVtLmxtLW1vZC1kaXNhYmxlZCB7XFxuICBjb2xvcjogdmFyKC0tanAtdWktZm9udC1jb2xvcjMpO1xcbn1cXG5cXG4ubG0tQ29tbWFuZFBhbGV0dGUtaXRlbS5sbS1tb2QtYWN0aXZlIHtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWpwLWxheW91dC1jb2xvcjMpO1xcbn1cXG5cXG4ubG0tQ29tbWFuZFBhbGV0dGUtaXRlbS5sbS1tb2QtYWN0aXZlOmhvdmVyOm5vdCgubG0tbW9kLWRpc2FibGVkKSB7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1qcC1sYXlvdXQtY29sb3I0KTtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWl0ZW06aG92ZXI6bm90KC5sbS1tb2QtYWN0aXZlKTpub3QoLmxtLW1vZC1kaXNhYmxlZCkge1xcbiAgYmFja2dyb3VuZDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMik7XFxufVxcblxcbi5sbS1Db21tYW5kUGFsZXR0ZS1pdGVtQ29udGVudCB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4ubG0tQ29tbWFuZFBhbGV0dGUtaXRlbUxhYmVsID4gbWFyayB7XFxuICBjb2xvcjogdmFyKC0tanAtdWktZm9udC1jb2xvcjApO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWl0ZW0ubG0tbW9kLWRpc2FibGVkIG1hcmsge1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IzKTtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWl0ZW0ubG0tbW9kLXRvZ2dsZWQgLmxtLUNvbW1hbmRQYWxldHRlLWl0ZW1JY29uIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWpwLWljb24tY2hlY2spO1xcbiAgYmFja2dyb3VuZC1zaXplOiAxNnB4O1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWl0ZW0gLmxtLUNvbW1hbmRQYWxldHRlLWl0ZW1JY29uIHtcXG4gIHBhZGRpbmc6IDBweCAwcHggMHB4IDRweDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdpZHRoOiAxNnB4O1xcbiAgdG9wOiAycHg7XFxuICBmbGV4OiAwIDAgYXV0bztcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWl0ZW0ubG0tbW9kLWRpc2FibGVkIC5sbS1Db21tYW5kUGFsZXR0ZS1pdGVtSWNvbiB7XFxuICBvcGFjaXR5OiAwLjQ7XFxufVxcblxcbi5sbS1Db21tYW5kUGFsZXR0ZS1pdGVtIC5sbS1Db21tYW5kUGFsZXR0ZS1pdGVtU2hvcnRjdXQge1xcbiAgZmxleDogMCAwIGF1dG87XFxufVxcblxcbi5sbS1Db21tYW5kUGFsZXR0ZS1pdGVtQ2FwdGlvbiB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4ubG0tQ29tbWFuZFBhbGV0dGUtY29udGVudCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1qcC1sYXlvdXQtY29sb3IxKTtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWNvbnRlbnQ6ZW1wdHk6YWZ0ZXIge1xcbiAgY29udGVudDogJ05vIHJlc3VsdHMnO1xcbiAgbWFyZ2luOiBhdXRvO1xcbiAgbWFyZ2luLXRvcDogMjBweDtcXG4gIHdpZHRoOiAxMDBweDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgZm9udC1zaXplOiB2YXIoLS1qcC11aS1mb250LXNpemUyKTtcXG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1qcC11aS1mb250LWZhbWlseSk7XFxuICBmb250LXdlaWdodDogbGlnaHRlcjtcXG59XFxuXFxuLmxtLUNvbW1hbmRQYWxldHRlLWVtcHR5TWVzc2FnZSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW4tdG9wOiAyNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuMzI7XFxuICBwYWRkaW5nOiAwcHggOHB4O1xcbiAgY29sb3I6IHZhcigtLWpwLWNvbnRlbnQtZm9udC1jb2xvcjMpO1xcbn1cXG5cIiwgXCJcIl0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCByZXN0YXBpXzEgPSByZXF1aXJlKFwiLi9yZXN0YXBpXCIpO1xuZXhwb3J0cy5pc0F2YWlsYWJsZSA9IHJlc3RhcGlfMS5pc0F2YWlsYWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlcm1pbmFsLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZpZXdCb3g9JzAgMCAxOCAxOCcgaGVpZ2h0PScyNCcgd2lkdGg9JzI0JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ2NpcmNsZSBjeD0nOScgY3k9JzknIHI9JzgnLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIiB3aWR0aD1cXFwiMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjNcXFwiIGZpbGw9XFxcIiM2MTYxNjFcXFwiPlxcbiAgICA8Y2lyY2xlIGN4PVxcXCI5XFxcIiBjeT1cXFwiOVxcXCIgcj1cXFwiOFxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMjIgMjInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyOycgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjEganAtaWNvbi1zZWxlY3RhYmxlJyBmaWxsPSclMjMyMTIxMjEnJTNFICUzQ3BvbHlnb24gcG9pbnRzPScxMC42LDUuNCAxMi44LDIuMiAyLjIsMi4yIDIuMiw5LjUgNi4yLDIuOSAnLyUzRSAlM0NwYXRoIGQ9J00xNS44LDIuMmwtNC40LDYuNkw3LDYuM2wtNC44LDh2NS41aDE3LjZWMi4ySDE1Ljh6IE04LjgsMTcuNkg1LjV2LTQuNGgzLjNWMTcuNnogTTEzLjIsMTcuNkg5LjhWOS44aDMuNCBWMTcuNnogTTE3LjYsMTcuNmgtMy40VjYuNWgzLjRWMTcuNnonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmVyc2lvbj1cXFwiMS4xXFxcIiBpZD1cXFwiTGF5ZXJfMVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgeD1cXFwiMHB4XFxcIiB5PVxcXCIwcHhcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMiAyMlxcXCIgc3R5bGU9XFxcImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjIgMjI7XFxcIiB4bWw6c3BhY2U9XFxcInByZXNlcnZlXFxcIj5cXG5cXHQ8ZyBjbGFzcz1cXFwianAtaWNvbjEganAtaWNvbi1zZWxlY3RhYmxlXFxcIiBmaWxsPVxcXCIjMjEyMTIxXFxcIj5cXG5cXHRcXHQ8cG9seWdvbiBwb2ludHM9XFxcIjEwLjYsNS40IDEyLjgsMi4yIDIuMiwyLjIgMi4yLDkuNSA2LjIsMi45IFxcdFxcXCIvPlxcblxcdFxcdDxwYXRoIGQ9XFxcIk0xNS44LDIuMmwtNC40LDYuNkw3LDYuM2wtNC44LDh2NS41aDE3LjZWMi4ySDE1Ljh6IE04LjgsMTcuNkg1LjV2LTQuNGgzLjNWMTcuNnogTTEzLjIsMTcuNkg5LjhWOS44aDMuNCBWMTcuNnogTTE3LjYsMTcuNmgtMy40VjYuNWgzLjRWMTcuNnpcXFwiLz5cXG5cXHQ8L2c+XFxuPC9zdmc+XFxuXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZXhwb3J0ICogZnJvbSAnLi9pY29uJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kYXRhY29ubmVjdG9yXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3Jlc3RvcmFibGVwb29sXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0YXRlZGJcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdG9rZW5zXCIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj5cXG4gICAgPHBhdGhcXG4gICAgICAgIGNsYXNzPVxcXCJqcC1pY29uMFxcXCJcXG4gICAgICAgIGZpbGw9XFxcIiMwMDBcXFwiXFxuICAgICAgICBkPVxcXCJNMjQgMjAuMTg4bC04LjMxNS04LjIwOSA4LjItOC4yODItMy42OTctMy42OTctOC4yMTIgOC4zMTgtOC4zMS04LjIwMy0zLjY2NiAzLjY2NiA4LjMyMSA4LjI0LTguMjA2IDguMzEzIDMuNjY2IDMuNjY2IDguMjM3LTguMzE4IDguMjg1IDguMjAzelxcXCJcXG4gICAgLz5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKipcbiAqIENvZGUgZWRpdG9yIHNlcnZpY2VzIHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgSUVkaXRvclNlcnZpY2VzID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9jb2RlZWRpdG9yOklFZGl0b3JTZXJ2aWNlcycpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9rZW5zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29yZXV0aWxzXzEgPSByZXF1aXJlKFwiQGx1bWluby9jb3JldXRpbHNcIik7XG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIHJldHVybiB7XG4gICAgICAgIGJ1ZmZlcnM6IChfYSA9IG9wdGlvbnMuYnVmZmVycywgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKSksXG4gICAgICAgIGNoYW5uZWw6IG9wdGlvbnMuY2hhbm5lbCxcbiAgICAgICAgY29udGVudDogb3B0aW9ucy5jb250ZW50LFxuICAgICAgICBoZWFkZXI6IHtcbiAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIG1zZ19pZDogKF9iID0gb3B0aW9ucy5tc2dJZCwgKF9iICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvcmV1dGlsc18xLlVVSUQudXVpZDQoKSkpLFxuICAgICAgICAgICAgbXNnX3R5cGU6IG9wdGlvbnMubXNnVHlwZSxcbiAgICAgICAgICAgIHNlc3Npb246IG9wdGlvbnMuc2Vzc2lvbixcbiAgICAgICAgICAgIHVzZXJuYW1lOiAoX2MgPSBvcHRpb25zLnVzZXJuYW1lLCAoX2MgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJycpKSxcbiAgICAgICAgICAgIHZlcnNpb246ICc1LjInXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGFkYXRhOiAoX2QgPSBvcHRpb25zLm1ldGFkYXRhLCAoX2QgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDoge30pKSxcbiAgICAgICAgcGFyZW50X2hlYWRlcjogKF9lID0gb3B0aW9ucy5wYXJlbnRIZWFkZXIsIChfZSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiB7fSkpXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlTWVzc2FnZSA9IGNyZWF0ZU1lc3NhZ2U7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIGtlcm5lbCBtZXNzYWdlIGlzIGEgYCdzdHJlYW0nYCBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBpc1N0cmVhbU1zZyhtc2cpIHtcbiAgICByZXR1cm4gbXNnLmhlYWRlci5tc2dfdHlwZSA9PT0gJ3N0cmVhbSc7XG59XG5leHBvcnRzLmlzU3RyZWFtTXNnID0gaXNTdHJlYW1Nc2c7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIGtlcm5lbCBtZXNzYWdlIGlzIGFuIGAnZGlzcGxheV9kYXRhJ2AgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gaXNEaXNwbGF5RGF0YU1zZyhtc2cpIHtcbiAgICByZXR1cm4gbXNnLmhlYWRlci5tc2dfdHlwZSA9PT0gJ2Rpc3BsYXlfZGF0YSc7XG59XG5leHBvcnRzLmlzRGlzcGxheURhdGFNc2cgPSBpc0Rpc3BsYXlEYXRhTXNnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBrZXJuZWwgbWVzc2FnZSBpcyBhbiBgJ3VwZGF0ZV9kaXNwbGF5X2RhdGEnYCBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBpc1VwZGF0ZURpc3BsYXlEYXRhTXNnKG1zZykge1xuICAgIHJldHVybiBtc2cuaGVhZGVyLm1zZ190eXBlID09PSAndXBkYXRlX2Rpc3BsYXlfZGF0YSc7XG59XG5leHBvcnRzLmlzVXBkYXRlRGlzcGxheURhdGFNc2cgPSBpc1VwZGF0ZURpc3BsYXlEYXRhTXNnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBrZXJuZWwgbWVzc2FnZSBpcyBhbiBgJ2V4ZWN1dGVfaW5wdXQnYCBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBpc0V4ZWN1dGVJbnB1dE1zZyhtc2cpIHtcbiAgICByZXR1cm4gbXNnLmhlYWRlci5tc2dfdHlwZSA9PT0gJ2V4ZWN1dGVfaW5wdXQnO1xufVxuZXhwb3J0cy5pc0V4ZWN1dGVJbnB1dE1zZyA9IGlzRXhlY3V0ZUlucHV0TXNnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBrZXJuZWwgbWVzc2FnZSBpcyBhbiBgJ2V4ZWN1dGVfcmVzdWx0J2AgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gaXNFeGVjdXRlUmVzdWx0TXNnKG1zZykge1xuICAgIHJldHVybiBtc2cuaGVhZGVyLm1zZ190eXBlID09PSAnZXhlY3V0ZV9yZXN1bHQnO1xufVxuZXhwb3J0cy5pc0V4ZWN1dGVSZXN1bHRNc2cgPSBpc0V4ZWN1dGVSZXN1bHRNc2c7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIGtlcm5lbCBtZXNzYWdlIGlzIGFuIGAnZXJyb3InYCBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBpc0Vycm9yTXNnKG1zZykge1xuICAgIHJldHVybiBtc2cuaGVhZGVyLm1zZ190eXBlID09PSAnZXJyb3InO1xufVxuZXhwb3J0cy5pc0Vycm9yTXNnID0gaXNFcnJvck1zZztcbi8qKlxuICogVGVzdCB3aGV0aGVyIGEga2VybmVsIG1lc3NhZ2UgaXMgYSBgJ3N0YXR1cydgIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGlzU3RhdHVzTXNnKG1zZykge1xuICAgIHJldHVybiBtc2cuaGVhZGVyLm1zZ190eXBlID09PSAnc3RhdHVzJztcbn1cbmV4cG9ydHMuaXNTdGF0dXNNc2cgPSBpc1N0YXR1c01zZztcbi8qKlxuICogVGVzdCB3aGV0aGVyIGEga2VybmVsIG1lc3NhZ2UgaXMgYSBgJ2NsZWFyX291dHB1dCdgIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGlzQ2xlYXJPdXRwdXRNc2cobXNnKSB7XG4gICAgcmV0dXJuIG1zZy5oZWFkZXIubXNnX3R5cGUgPT09ICdjbGVhcl9vdXRwdXQnO1xufVxuZXhwb3J0cy5pc0NsZWFyT3V0cHV0TXNnID0gaXNDbGVhck91dHB1dE1zZztcbi8qKlxuICogVGVzdCB3aGV0aGVyIGEga2VybmVsIG1lc3NhZ2UgaXMgYW4gZXhwZXJpbWVudGFsIGAnZGVidWdfZXZlbnQnYCBtZXNzYWdlLlxuICpcbiAqIEBoaWRkZW5cbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiBEZWJ1ZyBtZXNzYWdlcyBhcmUgZXhwZXJpbWVudGFsIG1lc3NhZ2VzIHRoYXQgYXJlIG5vdCBpbiB0aGUgb2ZmaWNpYWxcbiAqIGtlcm5lbCBtZXNzYWdlIHNwZWNpZmljYXRpb24uIEFzIHN1Y2gsIHRoaXMgaXMgKk5PVCogY29uc2lkZXJlZFxuICogcGFydCBvZiB0aGUgcHVibGljIEFQSSwgYW5kIG1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKi9cbmZ1bmN0aW9uIGlzRGVidWdFdmVudE1zZyhtc2cpIHtcbiAgICByZXR1cm4gbXNnLmhlYWRlci5tc2dfdHlwZSA9PT0gJ2RlYnVnX2V2ZW50Jztcbn1cbmV4cG9ydHMuaXNEZWJ1Z0V2ZW50TXNnID0gaXNEZWJ1Z0V2ZW50TXNnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBrZXJuZWwgbWVzc2FnZSBpcyBhIGAnY29tbV9vcGVuJ2AgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gaXNDb21tT3Blbk1zZyhtc2cpIHtcbiAgICByZXR1cm4gbXNnLmhlYWRlci5tc2dfdHlwZSA9PT0gJ2NvbW1fb3Blbic7XG59XG5leHBvcnRzLmlzQ29tbU9wZW5Nc2cgPSBpc0NvbW1PcGVuTXNnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBrZXJuZWwgbWVzc2FnZSBpcyBhIGAnY29tbV9jbG9zZSdgIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGlzQ29tbUNsb3NlTXNnKG1zZykge1xuICAgIHJldHVybiBtc2cuaGVhZGVyLm1zZ190eXBlID09PSAnY29tbV9jbG9zZSc7XG59XG5leHBvcnRzLmlzQ29tbUNsb3NlTXNnID0gaXNDb21tQ2xvc2VNc2c7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIGtlcm5lbCBtZXNzYWdlIGlzIGEgYCdjb21tX21zZydgIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGlzQ29tbU1zZ01zZyhtc2cpIHtcbiAgICByZXR1cm4gbXNnLmhlYWRlci5tc2dfdHlwZSA9PT0gJ2NvbW1fbXNnJztcbn1cbmV4cG9ydHMuaXNDb21tTXNnTXNnID0gaXNDb21tTXNnTXNnO1xuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYSBrZXJuZWwgbWVzc2FnZSBpcyBhIGAna2VybmVsX2luZm9fcmVxdWVzdCdgIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGlzSW5mb1JlcXVlc3RNc2cobXNnKSB7XG4gICAgcmV0dXJuIG1zZy5oZWFkZXIubXNnX3R5cGUgPT09ICdrZXJuZWxfaW5mb19yZXF1ZXN0Jztcbn1cbmV4cG9ydHMuaXNJbmZvUmVxdWVzdE1zZyA9IGlzSW5mb1JlcXVlc3RNc2c7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIGtlcm5lbCBtZXNzYWdlIGlzIGFuIGAnZXhlY3V0ZV9yZXBseSdgIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGlzRXhlY3V0ZVJlcGx5TXNnKG1zZykge1xuICAgIHJldHVybiBtc2cuaGVhZGVyLm1zZ190eXBlID09PSAnZXhlY3V0ZV9yZXBseSc7XG59XG5leHBvcnRzLmlzRXhlY3V0ZVJlcGx5TXNnID0gaXNFeGVjdXRlUmVwbHlNc2c7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIGtlcm5lbCBtZXNzYWdlIGlzIGFuIGV4cGVyaW1lbnRhbCBgJ2RlYnVnX3JlcXVlc3QnYCBtZXNzYWdlLlxuICpcbiAqIEBoaWRkZW5cbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiBEZWJ1ZyBtZXNzYWdlcyBhcmUgZXhwZXJpbWVudGFsIG1lc3NhZ2VzIHRoYXQgYXJlIG5vdCBpbiB0aGUgb2ZmaWNpYWxcbiAqIGtlcm5lbCBtZXNzYWdlIHNwZWNpZmljYXRpb24uIEFzIHN1Y2gsIHRoaXMgaXMgKk5PVCogY29uc2lkZXJlZFxuICogcGFydCBvZiB0aGUgcHVibGljIEFQSSwgYW5kIG1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKi9cbmZ1bmN0aW9uIGlzRGVidWdSZXF1ZXN0TXNnKG1zZykge1xuICAgIHJldHVybiBtc2cuaGVhZGVyLm1zZ190eXBlID09PSAnZGVidWdfcmVxdWVzdCc7XG59XG5leHBvcnRzLmlzRGVidWdSZXF1ZXN0TXNnID0gaXNEZWJ1Z1JlcXVlc3RNc2c7XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIGtlcm5lbCBtZXNzYWdlIGlzIGFuIGV4cGVyaW1lbnRhbCBgJ2RlYnVnX3JlcGx5J2AgbWVzc2FnZS5cbiAqXG4gKiBAaGlkZGVuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogRGVidWcgbWVzc2FnZXMgYXJlIGV4cGVyaW1lbnRhbCBtZXNzYWdlcyB0aGF0IGFyZSBub3QgaW4gdGhlIG9mZmljaWFsXG4gKiBrZXJuZWwgbWVzc2FnZSBzcGVjaWZpY2F0aW9uLiBBcyBzdWNoLCB0aGlzIGlzICpOT1QqIGNvbnNpZGVyZWRcbiAqIHBhcnQgb2YgdGhlIHB1YmxpYyBBUEksIGFuZCBtYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICovXG5mdW5jdGlvbiBpc0RlYnVnUmVwbHlNc2cobXNnKSB7XG4gICAgcmV0dXJuIG1zZy5oZWFkZXIubXNnX3R5cGUgPT09ICdkZWJ1Z19yZXBseSc7XG59XG5leHBvcnRzLmlzRGVidWdSZXBseU1zZyA9IGlzRGVidWdSZXBseU1zZztcbi8qKlxuICogVGVzdCB3aGV0aGVyIGEga2VybmVsIG1lc3NhZ2UgaXMgYW4gYCdpbnB1dF9yZXF1ZXN0J2AgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gaXNJbnB1dFJlcXVlc3RNc2cobXNnKSB7XG4gICAgcmV0dXJuIG1zZy5oZWFkZXIubXNnX3R5cGUgPT09ICdpbnB1dF9yZXF1ZXN0Jztcbn1cbmV4cG9ydHMuaXNJbnB1dFJlcXVlc3RNc2cgPSBpc0lucHV0UmVxdWVzdE1zZztcbi8qKlxuICogVGVzdCB3aGV0aGVyIGEga2VybmVsIG1lc3NhZ2UgaXMgYW4gYCdpbnB1dF9yZXBseSdgIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIGlzSW5wdXRSZXBseU1zZyhtc2cpIHtcbiAgICByZXR1cm4gbXNnLmhlYWRlci5tc2dfdHlwZSA9PT0gJ2lucHV0X3JlcGx5Jztcbn1cbmV4cG9ydHMuaXNJbnB1dFJlcGx5TXNnID0gaXNJbnB1dFJlcGx5TXNnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZXMuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyNCAyNCclM0UgJTNDcGF0aCBjbGFzcz0nanAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlJyBmaWxsPSclMjM2MTYxNjEnIGQ9J00xMCA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjhjMC0xLjEtLjktMi0yLTJoLThsLTItMnonIC8lM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPlxcblxcdDxwYXRoXFxuXFx0XFx0Y2xhc3M9XFxcImpwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZVxcXCJcXG5cXHRcXHRmaWxsPVxcXCIjNjE2MTYxXFxcIlxcblxcdFxcdGQ9XFxcIk0xMCA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjhjMC0xLjEtLjktMi0yLTJoLThsLTItMnpcXFwiXFxuXFx0Lz5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBKdXB5dGVyTGFiTWVudSB9IGZyb20gJy4vbGFibWVudSc7XG4vKipcbiAqIEFuIGV4dGVuc2libGUgS2VybmVsIG1lbnUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEtlcm5lbE1lbnUgZXh0ZW5kcyBKdXB5dGVyTGFiTWVudSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IHRoZSBrZXJuZWwgbWVudS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm1lbnUudGl0bGUubGFiZWwgPSAnS2VybmVsJztcbiAgICAgICAgdGhpcy5rZXJuZWxVc2VycyA9IG5ldyBTZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIGtlcm5lbCBtZW51LlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMua2VybmVsVXNlcnMuY2xlYXIoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtlcm5lbC5qcy5tYXAiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICAgIDxwYXRoXFxuICAgICAgICBmaWxsPVxcXCIjMDAwXFxcIlxcbiAgICAgICAgZmlsbC1vcGFjaXR5PVxcXCIwLjBcXFwiXFxuICAgICAgICBkPVxcXCJNMjQgMjAuMTg4bC04LjMxNS04LjIwOSA4LjItOC4yODItMy42OTctMy42OTctOC4yMTIgOC4zMTgtOC4zMS04LjIwMy0zLjY2NiAzLjY2NiA4LjMyMSA4LjI0LTguMjA2IDguMzEzIDMuNjY2IDMuNjY2IDguMjM3LTguMzE4IDguMjg1IDguMjAzelxcXCJcXG4gICAgLz5cXG48L3N2Zz5cXG5cIjsiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmV1dGlsc18xID0gcmVxdWlyZShcIkBqdXB5dGVybGFiL2NvcmV1dGlsc1wiKTtcbmNvbnN0IHN0YXRlZGJfMSA9IHJlcXVpcmUoXCJAanVweXRlcmxhYi9zdGF0ZWRiXCIpO1xuY29uc3Qgc2VydmVyY29ubmVjdGlvbl8xID0gcmVxdWlyZShcIi4uL3NlcnZlcmNvbm5lY3Rpb25cIik7XG4vKipcbiAqIFRoZSB1cmwgZm9yIHRoZSBsYWIgd29ya3NwYWNlcyBzZXJ2aWNlLlxuICovXG5jb25zdCBTRVJWSUNFX1dPUktTUEFDRVNfVVJMID0gJ2FwaS93b3Jrc3BhY2VzJztcbi8qKlxuICogVGhlIHdvcmtzcGFjZXMgQVBJIHNlcnZpY2UgbWFuYWdlci5cbiAqL1xuY2xhc3MgV29ya3NwYWNlTWFuYWdlciBleHRlbmRzIHN0YXRlZGJfMS5EYXRhQ29ubmVjdG9yIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgd29ya3NwYWNlIG1hbmFnZXIuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXJTZXR0aW5ncyA9IChfYSA9IG9wdGlvbnMuc2VydmVyU2V0dGluZ3MsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbi5tYWtlU2V0dGluZ3MoKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaCBhIHdvcmtzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSB3b3Jrc3BhY2VzJ3MgSUQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyBpZiBzdWNjZXNzZnVsLlxuICAgICAqL1xuICAgIGFzeW5jIGZldGNoKGlkKSB7XG4gICAgICAgIGNvbnN0IHsgc2VydmVyU2V0dGluZ3MgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgYmFzZVVybCwgYXBwVXJsIH0gPSBzZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgY29uc3QgeyBtYWtlUmVxdWVzdCwgUmVzcG9uc2VFcnJvciB9ID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb247XG4gICAgICAgIGNvbnN0IGJhc2UgPSBiYXNlVXJsICsgYXBwVXJsO1xuICAgICAgICBjb25zdCB1cmwgPSBQcml2YXRlLnVybChiYXNlLCBpZCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWFrZVJlcXVlc3QodXJsLCB7fSwgc2VydmVyU2V0dGluZ3MpO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaCB0aGUgbGlzdCBvZiB3b3Jrc3BhY2UgSURzIHRoYXQgZXhpc3Qgb24gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGlmIHN1Y2Nlc3NmdWwuXG4gICAgICovXG4gICAgYXN5bmMgbGlzdCgpIHtcbiAgICAgICAgY29uc3QgeyBzZXJ2ZXJTZXR0aW5ncyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBiYXNlVXJsLCBhcHBVcmwgfSA9IHNlcnZlclNldHRpbmdzO1xuICAgICAgICBjb25zdCB7IG1ha2VSZXF1ZXN0LCBSZXNwb25zZUVycm9yIH0gPSBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbjtcbiAgICAgICAgY29uc3QgYmFzZSA9IGJhc2VVcmwgKyBhcHBVcmw7XG4gICAgICAgIGNvbnN0IHVybCA9IFByaXZhdGUudXJsKGJhc2UsICcnKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYWtlUmVxdWVzdCh1cmwsIHt9LCBzZXJ2ZXJTZXR0aW5ncyk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC53b3Jrc3BhY2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSB3b3Jrc3BhY2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIC0gVGhlIHdvcmtzcGFjZXMncyBJRC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGlmIHN1Y2Nlc3NmdWwuXG4gICAgICovXG4gICAgYXN5bmMgcmVtb3ZlKGlkKSB7XG4gICAgICAgIGNvbnN0IHsgc2VydmVyU2V0dGluZ3MgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgYmFzZVVybCwgYXBwVXJsIH0gPSBzZXJ2ZXJTZXR0aW5ncztcbiAgICAgICAgY29uc3QgeyBtYWtlUmVxdWVzdCwgUmVzcG9uc2VFcnJvciB9ID0gc2VydmVyY29ubmVjdGlvbl8xLlNlcnZlckNvbm5lY3Rpb247XG4gICAgICAgIGNvbnN0IGJhc2UgPSBiYXNlVXJsICsgYXBwVXJsO1xuICAgICAgICBjb25zdCB1cmwgPSBQcml2YXRlLnVybChiYXNlLCBpZCk7XG4gICAgICAgIGNvbnN0IGluaXQgPSB7IG1ldGhvZDogJ0RFTEVURScgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtYWtlUmVxdWVzdCh1cmwsIGluaXQsIHNlcnZlclNldHRpbmdzKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVzcG9uc2VFcnJvcihyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2F2ZSBhIHdvcmtzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSB3b3Jrc3BhY2UncyBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB3b3Jrc3BhY2UgLSBUaGUgd29ya3NwYWNlIGJlaW5nIHNhdmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgaWYgc3VjY2Vzc2Z1bC5cbiAgICAgKi9cbiAgICBhc3luYyBzYXZlKGlkLCB3b3Jrc3BhY2UpIHtcbiAgICAgICAgY29uc3QgeyBzZXJ2ZXJTZXR0aW5ncyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBiYXNlVXJsLCBhcHBVcmwgfSA9IHNlcnZlclNldHRpbmdzO1xuICAgICAgICBjb25zdCB7IG1ha2VSZXF1ZXN0LCBSZXNwb25zZUVycm9yIH0gPSBzZXJ2ZXJjb25uZWN0aW9uXzEuU2VydmVyQ29ubmVjdGlvbjtcbiAgICAgICAgY29uc3QgYmFzZSA9IGJhc2VVcmwgKyBhcHBVcmw7XG4gICAgICAgIGNvbnN0IHVybCA9IFByaXZhdGUudXJsKGJhc2UsIGlkKTtcbiAgICAgICAgY29uc3QgaW5pdCA9IHsgYm9keTogSlNPTi5zdHJpbmdpZnkod29ya3NwYWNlKSwgbWV0aG9kOiAnUFVUJyB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1ha2VSZXF1ZXN0KHVybCwgaW5pdCwgc2VydmVyU2V0dGluZ3MpO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuV29ya3NwYWNlTWFuYWdlciA9IFdvcmtzcGFjZU1hbmFnZXI7XG4vKipcbiAqIEEgbmFtZXNwYWNlIGZvciBwcml2YXRlIGRhdGEuXG4gKi9cbnZhciBQcml2YXRlO1xuKGZ1bmN0aW9uIChQcml2YXRlKSB7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB1cmwgZm9yIGEgd29ya3NwYWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVybChiYXNlLCBpZCkge1xuICAgICAgICByZXR1cm4gY29yZXV0aWxzXzEuVVJMRXh0LmpvaW4oYmFzZSwgU0VSVklDRV9XT1JLU1BBQ0VTX1VSTCwgaWQpO1xuICAgIH1cbiAgICBQcml2YXRlLnVybCA9IHVybDtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IHsgQXJyYXlFeHQgfSBmcm9tICdAbHVtaW5vL2FsZ29yaXRobSc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlRGVsZWdhdGUgfSBmcm9tICdAbHVtaW5vL2Rpc3Bvc2FibGUnO1xuaW1wb3J0IHsgTWVudSB9IGZyb20gJ0BsdW1pbm8vd2lkZ2V0cyc7XG4vKipcbiAqIEFuIGV4dGVuc2libGUgbWVudSBmb3IgSnVweXRlckxhYiBhcHBsaWNhdGlvbiBtZW51cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEp1cHl0ZXJMYWJNZW51IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgbWVudS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIHBob3NwaG9yIG1lbnUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5jbHVkZVNlcGFyYXRvcnMgLSB3aGV0aGVyIHRvIGluY2x1ZGUgc2VwYXJhdG9ycyBiZXR3ZWVuIHRoZVxuICAgICAqICAgZ3JvdXBzIHRoYXQgYXJlIGFkZGVkIHRvIHRoZSBtZW51LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGluY2x1ZGVTZXBhcmF0b3JzID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9ncm91cHMgPSBbXTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1lbnUgPSBuZXcgTWVudShvcHRpb25zKTtcbiAgICAgICAgdGhpcy5faW5jbHVkZVNlcGFyYXRvcnMgPSBpbmNsdWRlU2VwYXJhdG9ycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgZ3JvdXAgb2YgbWVudSBpdGVtcyBzcGVjaWZpYyB0byBhIHBhcnRpY3VsYXJcbiAgICAgKiBwbHVnaW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXRlbXMgLSB0aGUgbGlzdCBvZiBtZW51IGl0ZW1zIHRvIGFkZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByYW5rIC0gdGhlIHJhbmsgaW4gdGhlIG1lbnUgaW4gd2hpY2ggdG8gaW5zZXJ0IHRoZSBncm91cC5cbiAgICAgKi9cbiAgICBhZGRHcm91cChpdGVtcywgcmFuaykge1xuICAgICAgICBjb25zdCByYW5rR3JvdXAgPSB7XG4gICAgICAgICAgICBzaXplOiBpdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICByYW5rOiByYW5rID09PSB1bmRlZmluZWQgPyAxMDAgOiByYW5rXG4gICAgICAgIH07XG4gICAgICAgIC8vIEluc2VydCB0aGUgcGx1Z2luIGdyb3VwIGludG8gdGhlIGxpc3Qgb2YgZ3JvdXBzLlxuICAgICAgICBjb25zdCBncm91cEluZGV4ID0gQXJyYXlFeHQudXBwZXJCb3VuZCh0aGlzLl9ncm91cHMsIHJhbmtHcm91cCwgUHJpdmF0ZS5pdGVtQ21wKTtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBpbmRleCBvZiB0aGUgbWVudSBhdCB3aGljaCB0byBpbnNlcnQgdGhlIGdyb3VwLlxuICAgICAgICBsZXQgaW5zZXJ0SW5kZXggPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwSW5kZXg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2dyb3Vwc1tpXS5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIGluc2VydEluZGV4ICs9IHRoaXMuX2dyb3Vwc1tpXS5zaXplO1xuICAgICAgICAgICAgICAgIC8vIEluY3JlYXNlIHRoZSBpbnNlcnQgaW5kZXggYnkgdHdvIGV4dHJhIGluIG9yZGVyXG4gICAgICAgICAgICAgICAgLy8gdG8gaW5jbHVkZSB0aGUgbGVhZGluZyBhbmQgdHJhaWxpbmcgc2VwYXJhdG9ycy5cbiAgICAgICAgICAgICAgICBpbnNlcnRJbmRleCArPSB0aGlzLl9pbmNsdWRlU2VwYXJhdG9ycyA/IDIgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEtlZXAgYW4gYXJyYXkgb2YgdGhlIG1lbnUgaXRlbXMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZC5cbiAgICAgICAgY29uc3QgYWRkZWQgPSBbXTtcbiAgICAgICAgLy8gSW5zZXJ0IGEgc2VwYXJhdG9yIGJlZm9yZSB0aGUgZ3JvdXAuXG4gICAgICAgIC8vIFBob3NwaG9yIHRha2VzIGNhcmUgb2Ygc3VwZXJmbHVvdXMgbGVhZGluZyxcbiAgICAgICAgLy8gdHJhaWxpbmcsIGFuZCBkdXBsaWNhdGUgc2VwYXJhdG9ycy5cbiAgICAgICAgaWYgKHRoaXMuX2luY2x1ZGVTZXBhcmF0b3JzKSB7XG4gICAgICAgICAgICBhZGRlZC5wdXNoKHRoaXMubWVudS5pbnNlcnRJdGVtKGluc2VydEluZGV4KyssIHsgdHlwZTogJ3NlcGFyYXRvcicgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluc2VydCB0aGUgZ3JvdXAuXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGFkZGVkLnB1c2godGhpcy5tZW51Lmluc2VydEl0ZW0oaW5zZXJ0SW5kZXgrKywgaXRlbSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluc2VydCBhIHNlcGFyYXRvciBhZnRlciB0aGUgZ3JvdXAuXG4gICAgICAgIGlmICh0aGlzLl9pbmNsdWRlU2VwYXJhdG9ycykge1xuICAgICAgICAgICAgYWRkZWQucHVzaCh0aGlzLm1lbnUuaW5zZXJ0SXRlbShpbnNlcnRJbmRleCsrLCB7IHR5cGU6ICdzZXBhcmF0b3InIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUV4dC5pbnNlcnQodGhpcy5fZ3JvdXBzLCBncm91cEluZGV4LCByYW5rR3JvdXApO1xuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZSgoKSA9PiB7XG4gICAgICAgICAgICBhZGRlZC5mb3JFYWNoKGkgPT4gdGhpcy5tZW51LnJlbW92ZUl0ZW0oaSkpO1xuICAgICAgICAgICAgdGhpcy5fZ3JvdXBzLnNwbGljZShncm91cEluZGV4LCAxKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIG1lbnUgaGFzIGJlZW4gZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgbWVudS5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9ncm91cHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubWVudS5kaXNwb3NlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEEgY29tcGFyYXRvciBmdW5jdGlvbiBmb3IgbWVudSByYW5rIGl0ZW1zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGl0ZW1DbXAoZmlyc3QsIHNlY29uZCkge1xuICAgICAgICByZXR1cm4gZmlyc3QucmFuayAtIHNlY29uZC5yYW5rO1xuICAgIH1cbiAgICBQcml2YXRlLml0ZW1DbXAgPSBpdGVtQ21wO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYWJtZW51LmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDIwIDIwJyUzRSAlM0NnIGNsYXNzPSdqcC1pY29uMicgZmlsbD0nJTIzNDE0MTQxJyUzRSAlM0NyZWN0IHg9JzInIHk9JzInIHdpZHRoPScxNicgaGVpZ2h0PScxNicvJTNFICUzQy9nJTNFICUzQ2cgY2xhc3M9J2pwLWljb24tYWNjZW50MicgZmlsbD0nJTIzRkZGJyUzRSAlM0NwYXRoIGQ9J003LjYsOGgwLjlsMy41LDhoLTEuMUwxMCwxNEg2bC0wLjksMkg0TDcuNiw4eiBNOCw5LjFMNi40LDEzaDMuMkw4LDkuMXonLyUzRSAlM0NwYXRoIGQ9J00xNi42LDkuOGMtMC4yLDAuMS0wLjQsMC4xLTAuNywwLjFjLTAuMiwwLTAuNC0wLjEtMC42LTAuMmMtMC4xLTAuMS0wLjItMC40LTAuMi0wLjcgYy0wLjMsMC4zLTAuNiwwLjUtMC45LDAuN2MtMC4zLDAuMS0wLjcsMC4yLTEuMSwwLjJjLTAuMywwLTAuNSwwLTAuNy0wLjFjLTAuMi0wLjEtMC40LTAuMi0wLjYtMC4zYy0wLjItMC4xLTAuMy0wLjMtMC40LTAuNSBjLTAuMS0wLjItMC4xLTAuNC0wLjEtMC43YzAtMC4zLDAuMS0wLjYsMC4yLTAuOGMwLjEtMC4yLDAuMy0wLjQsMC40LTAuNUMxMiw3LDEyLjIsNi45LDEyLjUsNi44YzAuMi0wLjEsMC41LTAuMSwwLjctMC4yIGMwLjMtMC4xLDAuNS0wLjEsMC43LTAuMWMwLjIsMCwwLjQtMC4xLDAuNi0wLjFjMC4yLDAsMC4zLTAuMSwwLjQtMC4yYzAuMS0wLjEsMC4yLTAuMiwwLjItMC40YzAtMS0xLjEtMS0xLjMtMSBjLTAuNCwwLTEuNCwwLTEuNCwxLjJoLTAuOWMwLTAuNCwwLjEtMC43LDAuMi0xYzAuMS0wLjIsMC4zLTAuNCwwLjUtMC42YzAuMi0wLjIsMC41LTAuMywwLjgtMC4zQzEzLjMsNCwxMy42LDQsMTMuOSw0IGMwLjMsMCwwLjUsMCwwLjgsMC4xYzAuMywwLDAuNSwwLjEsMC43LDAuMmMwLjIsMC4xLDAuNCwwLjMsMC41LDAuNUMxNiw1LDE2LDUuMiwxNiw1LjZ2Mi45YzAsMC4yLDAsMC40LDAsMC41IGMwLDAuMSwwLjEsMC4yLDAuMywwLjJjMC4xLDAsMC4yLDAsMC4zLDBWOS44eiBNMTUuMiw2LjljLTEuMiwwLjYtMy4xLDAuMi0zLjEsMS40YzAsMS40LDMuMSwxLDMuMS0wLjVWNi45eicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMCAyMFxcXCI+XFxuICA8ZyBjbGFzcz1cXFwianAtaWNvbjJcXFwiIGZpbGw9XFxcIiM0MTQxNDFcXFwiPlxcbiAgICA8cmVjdCB4PVxcXCIyXFxcIiB5PVxcXCIyXFxcIiB3aWR0aD1cXFwiMTZcXFwiIGhlaWdodD1cXFwiMTZcXFwiLz5cXG4gIDwvZz5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uLWFjY2VudDJcXFwiIGZpbGw9XFxcIiNGRkZcXFwiPlxcbiAgICA8cGF0aCBkPVxcXCJNNy42LDhoMC45bDMuNSw4aC0xLjFMMTAsMTRINmwtMC45LDJINEw3LjYsOHogTTgsOS4xTDYuNCwxM2gzLjJMOCw5LjF6XFxcIi8+XFxuICAgIDxwYXRoIGQ9XFxcIk0xNi42LDkuOGMtMC4yLDAuMS0wLjQsMC4xLTAuNywwLjFjLTAuMiwwLTAuNC0wLjEtMC42LTAuMmMtMC4xLTAuMS0wLjItMC40LTAuMi0wLjcgYy0wLjMsMC4zLTAuNiwwLjUtMC45LDAuN2MtMC4zLDAuMS0wLjcsMC4yLTEuMSwwLjJjLTAuMywwLTAuNSwwLTAuNy0wLjFjLTAuMi0wLjEtMC40LTAuMi0wLjYtMC4zYy0wLjItMC4xLTAuMy0wLjMtMC40LTAuNSBjLTAuMS0wLjItMC4xLTAuNC0wLjEtMC43YzAtMC4zLDAuMS0wLjYsMC4yLTAuOGMwLjEtMC4yLDAuMy0wLjQsMC40LTAuNUMxMiw3LDEyLjIsNi45LDEyLjUsNi44YzAuMi0wLjEsMC41LTAuMSwwLjctMC4yIGMwLjMtMC4xLDAuNS0wLjEsMC43LTAuMWMwLjIsMCwwLjQtMC4xLDAuNi0wLjFjMC4yLDAsMC4zLTAuMSwwLjQtMC4yYzAuMS0wLjEsMC4yLTAuMiwwLjItMC40YzAtMS0xLjEtMS0xLjMtMSBjLTAuNCwwLTEuNCwwLTEuNCwxLjJoLTAuOWMwLTAuNCwwLjEtMC43LDAuMi0xYzAuMS0wLjIsMC4zLTAuNCwwLjUtMC42YzAuMi0wLjIsMC41LTAuMywwLjgtMC4zQzEzLjMsNCwxMy42LDQsMTMuOSw0IGMwLjMsMCwwLjUsMCwwLjgsMC4xYzAuMywwLDAuNSwwLjEsMC43LDAuMmMwLjIsMC4xLDAuNCwwLjMsMC41LDAuNUMxNiw1LDE2LDUuMiwxNiw1LjZ2Mi45YzAsMC4yLDAsMC40LDAsMC41IGMwLDAuMSwwLjEsMC4yLDAuMywwLjJjMC4xLDAsMC4yLDAsMC4zLDBWOS44eiBNMTUuMiw2LjljLTEuMiwwLjYtMy4xLDAuMi0zLjEsMS40YzAsMS40LDMuMSwxLDMuMS0wLjVWNi45elxcXCIvPlxcbiAgPC9nPlxcbjwvc3ZnPlxcblwiOyIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc2lnbmFsaW5nXzEgPSByZXF1aXJlKFwiQGx1bWluby9zaWduYWxpbmdcIik7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGNvbmNyZXRlIGltcGxlbWVudGF0aW9uIG9mIGEgc3RhdGUgZGF0YWJhc2UuXG4gKi9cbmNsYXNzIFN0YXRlREIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBzdGF0ZSBkYXRhYmFzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGluc3RhbnRpYXRpb24gb3B0aW9ucyBmb3IgYSBzdGF0ZSBkYXRhYmFzZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlZCA9IG5ldyBzaWduYWxpbmdfMS5TaWduYWwodGhpcyk7XG4gICAgICAgIGNvbnN0IHsgY29ubmVjdG9yLCB0cmFuc2Zvcm0gfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RvciA9IGNvbm5lY3RvciB8fCBuZXcgU3RhdGVEQi5Db25uZWN0b3IoKTtcbiAgICAgICAgaWYgKCF0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkeSA9IHRyYW5zZm9ybS50aGVuKHRyYW5zZm9ybWF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvbnRlbnRzLCB0eXBlIH0gPSB0cmFuc2Zvcm1hdGlvbjtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2FuY2VsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xlYXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21lcmdlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZXJnZShjb250ZW50cyB8fCB7fSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ292ZXJ3cml0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb3ZlcndyaXRlKGNvbnRlbnRzIHx8IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCB0aGF0IGVtaXRzIHRoZSBjaGFuZ2UgdHlwZSBhbnkgdGltZSBhIHZhbHVlIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGNoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZW50aXJlIGRhdGFiYXNlLlxuICAgICAqL1xuICAgIGFzeW5jIGNsZWFyKCkge1xuICAgICAgICBhd2FpdCB0aGlzLl9yZWFkeTtcbiAgICAgICAgYXdhaXQgdGhpcy5fY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYSBzYXZlZCBidW5kbGUgZnJvbSB0aGUgZGF0YWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgLSBUaGUgaWRlbnRpZmllciB1c2VkIHRvIHJldHJpZXZlIGEgZGF0YSBidW5kbGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBiZWFycyBhIGRhdGEgcGF5bG9hZCBpZiBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhlIGBpZGAgdmFsdWVzIG9mIHN0b3JlZCBpdGVtcyBpbiB0aGUgc3RhdGUgZGF0YWJhc2UgYXJlIGZvcm1hdHRlZDpcbiAgICAgKiBgJ25hbWVzcGFjZTppZGVudGlmaWVyJ2AsIHdoaWNoIGlzIHRoZSBzYW1lIGNvbnZlbnRpb24gdGhhdCBjb21tYW5kXG4gICAgICogaWRlbnRpZmllcnMgaW4gSnVweXRlckxhYiB1c2UgYXMgd2VsbC4gV2hpbGUgdGhpcyBpcyBub3QgYSB0ZWNobmljYWxcbiAgICAgKiByZXF1aXJlbWVudCBmb3IgYGZldGNoKClgLCBgcmVtb3ZlKClgLCBhbmQgYHNhdmUoKWAsIGl0ICppcyogbmVjZXNzYXJ5IGZvclxuICAgICAqIHVzaW5nIHRoZSBgbGlzdChuYW1lc3BhY2U6IHN0cmluZylgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoaXMgbWV0aG9kIG1heSBiZSByZWplY3RlZCBpZiBhbiBlcnJvciBvY2N1cnMgaW5cbiAgICAgKiByZXRyaWV2aW5nIHRoZSBkYXRhLiBOb24tZXhpc3RlbmNlIG9mIGFuIGBpZGAgd2lsbCBzdWNjZWVkIHdpdGggdGhlIGB2YWx1ZWBcbiAgICAgKiBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBhc3luYyBmZXRjaChpZCkge1xuICAgICAgICBhd2FpdCB0aGlzLl9yZWFkeTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZldGNoKGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYWxsIHRoZSBzYXZlZCBidW5kbGVzIGZvciBhIG5hbWVzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWx0ZXIgLSBUaGUgbmFtZXNwYWNlIHByZWZpeCB0byByZXRyaWV2ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGJlYXJzIGEgY29sbGVjdGlvbiBvZiBwYXlsb2FkcyBmb3IgYSBuYW1lc3BhY2UuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogTmFtZXNwYWNlcyBhcmUgZW50aXJlbHkgY29udmVudGlvbmFsIGVudGl0aWVzLiBUaGUgYGlkYCB2YWx1ZXMgb2Ygc3RvcmVkXG4gICAgICogaXRlbXMgaW4gdGhlIHN0YXRlIGRhdGFiYXNlIGFyZSBmb3JtYXR0ZWQ6IGAnbmFtZXNwYWNlOmlkZW50aWZpZXInYCwgd2hpY2hcbiAgICAgKiBpcyB0aGUgc2FtZSBjb252ZW50aW9uIHRoYXQgY29tbWFuZCBpZGVudGlmaWVycyBpbiBKdXB5dGVyTGFiIHVzZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogSWYgdGhlcmUgYXJlIGFueSBlcnJvcnMgaW4gcmV0cmlldmluZyB0aGUgZGF0YSwgdGhleSB3aWxsIGJlIGxvZ2dlZCB0byB0aGVcbiAgICAgKiBjb25zb2xlIGluIG9yZGVyIHRvIG9wdGltaXN0aWNhbGx5IHJldHVybiBhbnkgZXh0YW50IGRhdGEgd2l0aG91dCBmYWlsaW5nLlxuICAgICAqIFRoaXMgcHJvbWlzZSB3aWxsIGFsd2F5cyBzdWNjZWVkLlxuICAgICAqL1xuICAgIGFzeW5jIGxpc3QobmFtZXNwYWNlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3JlYWR5O1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdChuYW1lc3BhY2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSB2YWx1ZSBmcm9tIHRoZSBkYXRhYmFzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBpZGVudGlmaWVyIGZvciB0aGUgZGF0YSBiZWluZyByZW1vdmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgaXMgcmVqZWN0ZWQgaWYgcmVtb3ZlIGZhaWxzIGFuZCBzdWNjZWVkcyBvdGhlcndpc2UuXG4gICAgICovXG4gICAgYXN5bmMgcmVtb3ZlKGlkKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX3JlYWR5O1xuICAgICAgICBhd2FpdCB0aGlzLl9yZW1vdmUoaWQpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VkLmVtaXQoeyBpZCwgdHlwZTogJ3JlbW92ZScgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhdmUgYSB2YWx1ZSBpbiB0aGUgZGF0YWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgLSBUaGUgaWRlbnRpZmllciBmb3IgdGhlIGRhdGEgYmVpbmcgc2F2ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgZGF0YSBiZWluZyBzYXZlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIHJlamVjdGVkIGlmIHNhdmluZyBmYWlscyBhbmQgc3VjY2VlZHMgb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSBgaWRgIHZhbHVlcyBvZiBzdG9yZWQgaXRlbXMgaW4gdGhlIHN0YXRlIGRhdGFiYXNlIGFyZSBmb3JtYXR0ZWQ6XG4gICAgICogYCduYW1lc3BhY2U6aWRlbnRpZmllcidgLCB3aGljaCBpcyB0aGUgc2FtZSBjb252ZW50aW9uIHRoYXQgY29tbWFuZFxuICAgICAqIGlkZW50aWZpZXJzIGluIEp1cHl0ZXJMYWIgdXNlIGFzIHdlbGwuIFdoaWxlIHRoaXMgaXMgbm90IGEgdGVjaG5pY2FsXG4gICAgICogcmVxdWlyZW1lbnQgZm9yIGBmZXRjaCgpYCwgYHJlbW92ZSgpYCwgYW5kIGBzYXZlKClgLCBpdCAqaXMqIG5lY2Vzc2FyeSBmb3JcbiAgICAgKiB1c2luZyB0aGUgYGxpc3QobmFtZXNwYWNlOiBzdHJpbmcpYCBtZXRob2QuXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZShpZCwgdmFsdWUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fcmVhZHk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3NhdmUoaWQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlZC5lbWl0KHsgaWQsIHR5cGU6ICdzYXZlJyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgc2VyaWFsaXplZCBjb3B5IG9mIHRoZSBzdGF0ZSBkYXRhYmFzZSdzIGVudGlyZSBjb250ZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGRhdGFiYXNlIGNvbnRlbnRzIGFzIEpTT04uXG4gICAgICovXG4gICAgYXN5bmMgdG9KU09OKCkge1xuICAgICAgICBhd2FpdCB0aGlzLl9yZWFkeTtcbiAgICAgICAgY29uc3QgeyBpZHMsIHZhbHVlcyB9ID0gYXdhaXQgdGhpcy5fbGlzdCgpO1xuICAgICAgICByZXR1cm4gdmFsdWVzLnJlZHVjZSgoYWNjLCB2YWwsIGlkeCkgPT4ge1xuICAgICAgICAgICAgYWNjW2lkc1tpZHhdXSA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGVudGlyZSBkYXRhYmFzZS5cbiAgICAgKi9cbiAgICBhc3luYyBfY2xlYXIoKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKChhd2FpdCB0aGlzLl9saXN0KCkpLmlkcy5tYXAoaWQgPT4gdGhpcy5fcmVtb3ZlKGlkKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaCBhIHZhbHVlIGZyb20gdGhlIGRhdGFiYXNlLlxuICAgICAqL1xuICAgIGFzeW5jIF9mZXRjaChpZCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHRoaXMuX2Nvbm5lY3Rvci5mZXRjaChpZCk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpLnY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2ggYSBsaXN0IGZyb20gdGhlIGRhdGFiYXNlLlxuICAgICAqL1xuICAgIGFzeW5jIF9saXN0KG5hbWVzcGFjZSA9ICcnKSB7XG4gICAgICAgIGNvbnN0IHsgaWRzLCB2YWx1ZXMgfSA9IGF3YWl0IHRoaXMuX2Nvbm5lY3Rvci5saXN0KG5hbWVzcGFjZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZHMsXG4gICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcy5tYXAodmFsID0+IEpTT04ucGFyc2UodmFsKS52KVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNZXJnZSBkYXRhIGludG8gdGhlIHN0YXRlIGRhdGFiYXNlLlxuICAgICAqL1xuICAgIGFzeW5jIF9tZXJnZShjb250ZW50cykge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhjb250ZW50cykubWFwKGtleSA9PiBjb250ZW50c1trZXldICYmIHRoaXMuX3NhdmUoa2V5LCBjb250ZW50c1trZXldKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVyd3JpdGUgdGhlIGVudGlyZSBkYXRhYmFzZSB3aXRoIG5ldyBjb250ZW50cy5cbiAgICAgKi9cbiAgICBhc3luYyBfb3ZlcndyaXRlKGNvbnRlbnRzKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX2NsZWFyKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX21lcmdlKGNvbnRlbnRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEga2V5IGluIHRoZSBkYXRhYmFzZS5cbiAgICAgKi9cbiAgICBhc3luYyBfcmVtb3ZlKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0b3IucmVtb3ZlKGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2F2ZSBhIGtleSBhbmQgaXRzIHZhbHVlIGluIHRoZSBkYXRhYmFzZS5cbiAgICAgKi9cbiAgICBhc3luYyBfc2F2ZShpZCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rvci5zYXZlKGlkLCBKU09OLnN0cmluZ2lmeSh7IHY6IHZhbHVlIH0pKTtcbiAgICB9XG59XG5leHBvcnRzLlN0YXRlREIgPSBTdGF0ZURCO1xuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgU3RhdGVEQiBzdGF0aWNzLlxuICovXG4oZnVuY3Rpb24gKFN0YXRlREIpIHtcbiAgICAvKipcbiAgICAgKiBBbiBpbi1tZW1vcnkgc3RyaW5nIGtleS92YWx1ZSBkYXRhIGNvbm5lY3Rvci5cbiAgICAgKi9cbiAgICBjbGFzcyBDb25uZWN0b3Ige1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2UgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmUgYW4gaXRlbSBmcm9tIHRoZSBkYXRhIGNvbm5lY3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIGZldGNoKGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZVtpZF07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlIHRoZSBsaXN0IG9mIGl0ZW1zIGF2YWlsYWJsZSBmcm9tIHRoZSBkYXRhIGNvbm5lY3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG5hbWVzcGFjZSAtIElmIG5vdCBlbXB0eSwgb25seSBrZXlzIHdob3NlIGZpcnN0IHRva2VuIGJlZm9yZSBgOmBcbiAgICAgICAgICogZXhhY3RseSBtYXRjaCBgbmFtZXNwYWNlYCB3aWxsIGJlIHJldHVybmVkLCBlLmcuIGBmb29gIGluIGBmb286YmFyYC5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIGxpc3QobmFtZXNwYWNlID0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9zdG9yYWdlKS5yZWR1Y2UoKGFjYywgdmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gJycgPyB0cnVlIDogbmFtZXNwYWNlID09PSB2YWwuc3BsaXQoJzonKVswXSkge1xuICAgICAgICAgICAgICAgICAgICBhY2MuaWRzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjLnZhbHVlcy5wdXNoKHRoaXMuX3N0b3JhZ2VbdmFsXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCB7IGlkczogW10sIHZhbHVlczogW10gfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBhIHZhbHVlIHVzaW5nIHRoZSBkYXRhIGNvbm5lY3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIHJlbW92ZShpZCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3N0b3JhZ2VbaWRdO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYXZlIGEgdmFsdWUgdXNpbmcgdGhlIGRhdGEgY29ubmVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgc2F2ZShpZCwgdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JhZ2VbaWRdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3RhdGVEQi5Db25uZWN0b3IgPSBDb25uZWN0b3I7XG59KShTdGF0ZURCID0gZXhwb3J0cy5TdGF0ZURCIHx8IChleHBvcnRzLlN0YXRlREIgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGVkYi5qcy5tYXAiLCJpbXBvcnQgeyBQYXRoRXh0LCBVUkxFeHQgfSBmcm9tICdAanVweXRlcmxhYi9jb3JldXRpbHMnO1xuaW1wb3J0IHsgZGVmYXVsdFNhbml0aXplciB9IGZyb20gJ0BqdXB5dGVybGFiL2FwcHV0aWxzJztcbmltcG9ydCB7IE1pbWVNb2RlbCB9IGZyb20gJy4vbWltZW1vZGVsJztcbi8qKlxuICogQW4gb2JqZWN0IHdoaWNoIG1hbmFnZXMgbWltZSByZW5kZXJlciBmYWN0b3JpZXMuXG4gKlxuICogVGhpcyBvYmplY3QgaXMgdXNlZCB0byByZW5kZXIgbWltZSBtb2RlbHMgdXNpbmcgcmVnaXN0ZXJlZCBtaW1lXG4gKiByZW5kZXJlcnMsIHNlbGVjdGluZyB0aGUgcHJlZmVycmVkIG1pbWUgcmVuZGVyZXIgdG8gcmVuZGVyIHRoZVxuICogbW9kZWwgaW50byBhIHdpZGdldC5cbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiBUaGlzIGNsYXNzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBzdWJjbGFzc2VkLlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyTWltZVJlZ2lzdHJ5IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgcmVuZGVybWltZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGluaXRpYWxpemluZyB0aGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2lkID0gMDtcbiAgICAgICAgdGhpcy5fcmFua3MgPSB7fTtcbiAgICAgICAgdGhpcy5fdHlwZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9mYWN0b3JpZXMgPSB7fTtcbiAgICAgICAgLy8gUGFyc2UgdGhlIG9wdGlvbnMuXG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSBvcHRpb25zLnJlc29sdmVyIHx8IG51bGw7XG4gICAgICAgIHRoaXMubGlua0hhbmRsZXIgPSBvcHRpb25zLmxpbmtIYW5kbGVyIHx8IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXhUeXBlc2V0dGVyID0gb3B0aW9ucy5sYXRleFR5cGVzZXR0ZXIgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5zYW5pdGl6ZXIgPSBvcHRpb25zLnNhbml0aXplciB8fCBkZWZhdWx0U2FuaXRpemVyO1xuICAgICAgICAvLyBBZGQgdGhlIGluaXRpYWwgZmFjdG9yaWVzLlxuICAgICAgICBpZiAob3B0aW9ucy5pbml0aWFsRmFjdG9yaWVzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBmYWN0b3J5IG9mIG9wdGlvbnMuaW5pdGlhbEZhY3Rvcmllcykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRmFjdG9yeShmYWN0b3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgb3JkZXJlZCBsaXN0IG9mIG1pbWVUeXBlcy5cbiAgICAgKi9cbiAgICBnZXQgbWltZVR5cGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZXMgfHwgKHRoaXMuX3R5cGVzID0gUHJpdmF0ZS5zb3J0ZWRUeXBlcyh0aGlzLl9yYW5rcykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBwcmVmZXJyZWQgbWltZSB0eXBlIGZvciBhIG1pbWUgYnVuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJ1bmRsZSAtIFRoZSBidW5kbGUgb2YgbWltZSBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNhZmUgLSBIb3cgdG8gY29uc2lkZXIgc2FmZS91bnNhZmUgZmFjdG9yaWVzLiBJZiAnZW5zdXJlJyxcbiAgICAgKiAgIGl0IHdpbGwgb25seSBjb25zaWRlciBzYWZlIGZhY3Rvcmllcy4gSWYgJ2FueScsIGFueSBmYWN0b3J5IHdpbGwgYmVcbiAgICAgKiAgIGNvbnNpZGVyZWQuIElmICdwcmVmZXInLCB1bnNhZmUgZmFjdG9yaWVzIHdpbGwgYmUgY29uc2lkZXJlZCwgYnV0XG4gICAgICogICBvbmx5IGFmdGVyIHRoZSBzYWZlIG9wdGlvbnMgaGF2ZSBiZWVuIGV4aGF1c3RlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBwcmVmZXJyZWQgbWltZSB0eXBlIGZyb20gdGhlIGF2YWlsYWJsZSBmYWN0b3JpZXMsXG4gICAgICogICBvciBgdW5kZWZpbmVkYCBpZiB0aGUgbWltZSB0eXBlIGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBwcmVmZXJyZWRNaW1lVHlwZShidW5kbGUsIHNhZmUgPSAnZW5zdXJlJykge1xuICAgICAgICAvLyBUcnkgdG8gZmluZCBhIHNhZmUgZmFjdG9yeSBmaXJzdCwgaWYgcHJlZmVycmVkLlxuICAgICAgICBpZiAoc2FmZSA9PT0gJ2Vuc3VyZScgfHwgc2FmZSA9PT0gJ3ByZWZlcicpIHtcbiAgICAgICAgICAgIGZvciAobGV0IG10IG9mIHRoaXMubWltZVR5cGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG10IGluIGJ1bmRsZSAmJiB0aGlzLl9mYWN0b3JpZXNbbXRdLnNhZmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG10O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2FmZSAhPT0gJ2Vuc3VyZScpIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgc2VhcmNoIGZvciB0aGUgYmVzdCBmYWN0b3J5IGFtb25nIGFsbCBmYWN0b3JpZXMuXG4gICAgICAgICAgICBmb3IgKGxldCBtdCBvZiB0aGlzLm1pbWVUeXBlcykge1xuICAgICAgICAgICAgICAgIGlmIChtdCBpbiBidW5kbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG10O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIG5vIG1hdGNoaW5nIG1pbWUgdHlwZSBleGlzdHMuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHJlbmRlcmVyIGZvciBhIG1pbWUgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIG5ldyByZW5kZXJlciBmb3IgdGhlIGdpdmVuIG1pbWUgdHlwZS5cbiAgICAgKlxuICAgICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgbm8gZmFjdG9yeSBleGlzdHMgZm9yIHRoZSBtaW1lIHR5cGUuXG4gICAgICovXG4gICAgY3JlYXRlUmVuZGVyZXIobWltZVR5cGUpIHtcbiAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgbm8gZmFjdG9yeSBleGlzdHMgZm9yIHRoZSBtaW1lIHR5cGUuXG4gICAgICAgIGlmICghKG1pbWVUeXBlIGluIHRoaXMuX2ZhY3RvcmllcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZmFjdG9yeSBmb3IgbWltZSB0eXBlOiAnJHttaW1lVHlwZX0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW52b2tlIHRoZSBiZXN0IGZhY3RvcnkgZm9yIHRoZSBnaXZlbiBtaW1lIHR5cGUuXG4gICAgICAgIHJldHVybiB0aGlzLl9mYWN0b3JpZXNbbWltZVR5cGVdLmNyZWF0ZVJlbmRlcmVyKHtcbiAgICAgICAgICAgIG1pbWVUeXBlLFxuICAgICAgICAgICAgcmVzb2x2ZXI6IHRoaXMucmVzb2x2ZXIsXG4gICAgICAgICAgICBzYW5pdGl6ZXI6IHRoaXMuc2FuaXRpemVyLFxuICAgICAgICAgICAgbGlua0hhbmRsZXI6IHRoaXMubGlua0hhbmRsZXIsXG4gICAgICAgICAgICBsYXRleFR5cGVzZXR0ZXI6IHRoaXMubGF0ZXhUeXBlc2V0dGVyXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgbWltZSBtb2RlbC4gIFRoaXMgaXMgYSBjb252ZW5pZW5jZSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAb3B0aW9ucyAtIFRoZSBvcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoZSBtb2RlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IG1pbWUgbW9kZWwuXG4gICAgICovXG4gICAgY3JlYXRlTW9kZWwob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgTWltZU1vZGVsKG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjbG9uZSBvZiB0aGlzIHJlbmRlcm1pbWUgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjb25maWd1cmluZyB0aGUgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpbmRlcGVuZGVudCBjbG9uZSBvZiB0aGUgcmVuZGVybWltZS5cbiAgICAgKi9cbiAgICBjbG9uZShvcHRpb25zID0ge30pIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjbG9uZS5cbiAgICAgICAgbGV0IGNsb25lID0gbmV3IFJlbmRlck1pbWVSZWdpc3RyeSh7XG4gICAgICAgICAgICByZXNvbHZlcjogb3B0aW9ucy5yZXNvbHZlciB8fCB0aGlzLnJlc29sdmVyIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNhbml0aXplcjogb3B0aW9ucy5zYW5pdGl6ZXIgfHwgdGhpcy5zYW5pdGl6ZXIgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGlua0hhbmRsZXI6IG9wdGlvbnMubGlua0hhbmRsZXIgfHwgdGhpcy5saW5rSGFuZGxlciB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICBsYXRleFR5cGVzZXR0ZXI6IG9wdGlvbnMubGF0ZXhUeXBlc2V0dGVyIHx8IHRoaXMubGF0ZXhUeXBlc2V0dGVyIHx8IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ2xvbmUgdGhlIGludGVybmFsIHN0YXRlLlxuICAgICAgICBjbG9uZS5fZmFjdG9yaWVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fZmFjdG9yaWVzKTtcbiAgICAgICAgY2xvbmUuX3JhbmtzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fcmFua3MpO1xuICAgICAgICBjbG9uZS5faWQgPSB0aGlzLl9pZDtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBjbG9uZWQgb2JqZWN0LlxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcmVuZGVyZXIgZmFjdG9yeSByZWdpc3RlcmVkIGZvciBhIG1pbWUgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgZmFjdG9yeSBmb3IgdGhlIG1pbWUgdHlwZSwgb3IgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZ2V0RmFjdG9yeShtaW1lVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmFjdG9yaWVzW21pbWVUeXBlXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgcmVuZGVyZXIgZmFjdG9yeSB0byB0aGUgcmVuZGVybWltZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWN0b3J5IC0gVGhlIHJlbmRlcmVyIGZhY3Rvcnkgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmFuayAtIFRoZSByYW5rIG9mIHRoZSByZW5kZXJlci4gQSBsb3dlciByYW5rIGluZGljYXRlc1xuICAgICAqICAgYSBoaWdoZXIgcHJpb3JpdHkgZm9yIHJlbmRlcmluZy4gSWYgbm90IGdpdmVuLCB0aGUgcmFuayB3aWxsXG4gICAgICogICBkZWZlciB0byB0aGUgYGRlZmF1bHRSYW5rYCBvZiB0aGUgZmFjdG9yeS4gIElmIG5vIGBkZWZhdWx0UmFua2BcbiAgICAgKiAgIGlzIGdpdmVuLCBpdCB3aWxsIGRlZmF1bHQgdG8gMTAwLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoZSByZW5kZXJlciB3aWxsIHJlcGxhY2UgYW4gZXhpc3RpbmcgcmVuZGVyZXIgZm9yIHRoZSBnaXZlblxuICAgICAqIG1pbWVUeXBlLlxuICAgICAqL1xuICAgIGFkZEZhY3RvcnkoZmFjdG9yeSwgcmFuaykge1xuICAgICAgICBpZiAocmFuayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByYW5rID0gZmFjdG9yeS5kZWZhdWx0UmFuaztcbiAgICAgICAgICAgIGlmIChyYW5rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByYW5rID0gMTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IG10IG9mIGZhY3RvcnkubWltZVR5cGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9mYWN0b3JpZXNbbXRdID0gZmFjdG9yeTtcbiAgICAgICAgICAgIHRoaXMuX3JhbmtzW210XSA9IHsgcmFuaywgaWQ6IHRoaXMuX2lkKysgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90eXBlcyA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIG1pbWUgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgaW50ZXJlc3QuXG4gICAgICovXG4gICAgcmVtb3ZlTWltZVR5cGUobWltZVR5cGUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2ZhY3Rvcmllc1ttaW1lVHlwZV07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yYW5rc1ttaW1lVHlwZV07XG4gICAgICAgIHRoaXMuX3R5cGVzID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByYW5rIGZvciBhIGdpdmVuIG1pbWUgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcmFuayBvZiB0aGUgbWltZSB0eXBlIG9yIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBnZXRSYW5rKG1pbWVUeXBlKSB7XG4gICAgICAgIGxldCByYW5rID0gdGhpcy5fcmFua3NbbWltZVR5cGVdO1xuICAgICAgICByZXR1cm4gcmFuayAmJiByYW5rLnJhbms7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmFuayBvZiBhIGdpdmVuIG1pbWUgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmFuayAtIFRoZSBuZXcgcmFuayB0byBhc3NpZ24uXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBpcyBhIG5vLW9wIGlmIHRoZSBtaW1lIHR5cGUgaXMgbm90IHJlZ2lzdGVyZWQuXG4gICAgICovXG4gICAgc2V0UmFuayhtaW1lVHlwZSwgcmFuaykge1xuICAgICAgICBpZiAoIXRoaXMuX3JhbmtzW21pbWVUeXBlXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpZCA9IHRoaXMuX2lkKys7XG4gICAgICAgIHRoaXMuX3JhbmtzW21pbWVUeXBlXSA9IHsgcmFuaywgaWQgfTtcbiAgICAgICAgdGhpcy5fdHlwZXMgPSBudWxsO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIG5hbWVzcGFjZSBmb3IgYFJlbmRlck1pbWVSZWdpc3RyeWAgY2xhc3Mgc3RhdGljcy5cbiAqL1xuKGZ1bmN0aW9uIChSZW5kZXJNaW1lUmVnaXN0cnkpIHtcbiAgICAvKipcbiAgICAgKiBBIGRlZmF1bHQgcmVzb2x2ZXIgdGhhdCB1c2VzIGEgc2Vzc2lvbiBhbmQgYSBjb250ZW50cyBtYW5hZ2VyLlxuICAgICAqL1xuICAgIGNsYXNzIFVybFJlc29sdmVyIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyB1cmwgcmVzb2x2ZXIgZm9yIGEgY29uc29sZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nlc3Npb24gPSBvcHRpb25zLnNlc3Npb247XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50cyA9IG9wdGlvbnMuY29udGVudHM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdmUgYSByZWxhdGl2ZSB1cmwgdG8gYW4gYWJzb2x1dGUgdXJsIHBhdGguXG4gICAgICAgICAqL1xuICAgICAgICByZXNvbHZlVXJsKHVybCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNMb2NhbCh1cmwpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2MgPSBQcml2YXRlLnNlc3Npb25Db25uZWN0aW9uKHRoaXMuX3Nlc3Npb24pO1xuICAgICAgICAgICAgICAgIGlmICghc2MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmVzb2x2ZSBsb2NhbCB1cmwgd2l0aCBubyBzZXNzaW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGN3ZCA9IGVuY29kZVVSSShQYXRoRXh0LmRpcm5hbWUoc2MucGF0aCkpO1xuICAgICAgICAgICAgICAgIHVybCA9IFBhdGhFeHQucmVzb2x2ZShjd2QsIHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgZG93bmxvYWQgdXJsIG9mIGEgZ2l2ZW4gYWJzb2x1dGUgdXJsIHBhdGguXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgTm90ZXNcbiAgICAgICAgICogVGhpcyBVUkwgbWF5IGluY2x1ZGUgYSBxdWVyeSBwYXJhbWV0ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBnZXREb3dubG9hZFVybCh1cmwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTG9jYWwodXJsKSkge1xuICAgICAgICAgICAgICAgIC8vIGRlY29kZSB1cmwtPnBhdGggYmVmb3JlIHBhc3NpbmcgdG8gY29udGVudHMgYXBpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnRzLmdldERvd25sb2FkVXJsKGRlY29kZVVSSSh1cmwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXJsKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgVVJMIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHRoZSByZXNvbHZlclxuICAgICAgICAgKiBvciBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgTm90ZXNcbiAgICAgICAgICogVGhpcyBpcyBzaW1pbGFyIHRvIHRoZSBgaXNMb2NhbGAgY2hlY2sgaW4gYFVSTEV4dGAsXG4gICAgICAgICAqIGJ1dCBpdCBhbHNvIGNoZWNrcyB3aGV0aGVyIHRoZSBwYXRoIHBvaW50cyB0byBhbnlcbiAgICAgICAgICogb2YgdGhlIGBJRHJpdmVgcyB0aGF0IG1heSBiZSByZWdpc3RlcmVkIHdpdGggdGhlIGNvbnRlbnRzXG4gICAgICAgICAqIG1hbmFnZXIuXG4gICAgICAgICAqL1xuICAgICAgICBpc0xvY2FsKHVybCkge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRlY29kZVVSSSh1cmwpO1xuICAgICAgICAgICAgcmV0dXJuIFVSTEV4dC5pc0xvY2FsKHVybCkgfHwgISF0aGlzLl9jb250ZW50cy5kcml2ZU5hbWUocGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUmVuZGVyTWltZVJlZ2lzdHJ5LlVybFJlc29sdmVyID0gVXJsUmVzb2x2ZXI7XG59KShSZW5kZXJNaW1lUmVnaXN0cnkgfHwgKFJlbmRlck1pbWVSZWdpc3RyeSA9IHt9KSk7XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIHRoZSBtb2R1bGUgaW1wbGVtZW50YXRpb24gZGV0YWlscy5cbiAqL1xudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG1pbWUgdHlwZXMgaW4gdGhlIG1hcCwgb3JkZXJlZCBieSByYW5rLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFR5cGVzKG1hcCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBsZXQgcDEgPSBtYXBbYV07XG4gICAgICAgICAgICBsZXQgcDIgPSBtYXBbYl07XG4gICAgICAgICAgICBpZiAocDEucmFuayAhPT0gcDIucmFuaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwMS5yYW5rIC0gcDIucmFuaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwMS5pZCAtIHAyLmlkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgUHJpdmF0ZS5zb3J0ZWRUeXBlcyA9IHNvcnRlZFR5cGVzO1xuICAgIGZ1bmN0aW9uIHNlc3Npb25Db25uZWN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIHMuc2Vzc2lvbkNoYW5nZWRcbiAgICAgICAgICAgID8gcy5zZXNzaW9uXG4gICAgICAgICAgICA6IHM7XG4gICAgfVxuICAgIFByaXZhdGUuc2Vzc2lvbkNvbm5lY3Rpb24gPSBzZXNzaW9uQ29ubmVjdGlvbjtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVnaXN0cnkuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAyMiAyMicgc3R5bGU9J2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjIgMjI7JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSAlM0NwYXRoIGNsYXNzPSdqcC1pY29uLWNvbnRyYXN0MSBqcC1pY29uLXNlbGVjdGFibGUnIGZpbGw9JyUyMzRDQUY1MCcgZD0nTTIuMiwyLjJ2MTcuNmgxNy42VjIuMkMxOS44LDIuMiwyLjIsMi4yLDIuMiwyLjJ6IE0xNy42LDkuOWgtNS41VjQuNGg1LjVWOS45eiBNOS45LDQuNHY1LjVINC40VjQuNCBDNC40LDQuNCw5LjksNC40LDkuOSw0LjR6IE00LjQsMTIuMWg1LjV2NS41SDQuNEw0LjQsMTIuMXogTTEyLjEsMTcuNnYtNS41aDUuNXY1LjVIMTIuMXonIC8lM0UgJTNDL3N2ZyUzRVwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHZlcnNpb249XFxcIjEuMVxcXCIgaWQ9XFxcIkxheWVyXzFcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM6eGxpbms9XFxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcXFwiIHg9XFxcIjBweFxcXCIgeT1cXFwiMHB4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjIgMjJcXFwiIHN0eWxlPVxcXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyO1xcXCIgeG1sOnNwYWNlPVxcXCJwcmVzZXJ2ZVxcXCI+XFxuXFx0PHBhdGhcXG5cXHRcXHRjbGFzcz1cXFwianAtaWNvbi1jb250cmFzdDEganAtaWNvbi1zZWxlY3RhYmxlXFxcIlxcblxcdFxcdGZpbGw9XFxcIiM0Q0FGNTBcXFwiXFxuXFx0XFx0ZD1cXFwiTTIuMiwyLjJ2MTcuNmgxNy42VjIuMkMxOS44LDIuMiwyLjIsMi4yLDIuMiwyLjJ6IE0xNy42LDkuOWgtNS41VjQuNGg1LjVWOS45eiBNOS45LDQuNHY1LjVINC40VjQuNCBDNC40LDQuNCw5LjksNC40LDkuOSw0LjR6IE00LjQsMTIuMWg1LjV2NS41SDQuNEw0LjQsMTIuMXogTTEyLjEsMTcuNnYtNS41aDUuNXY1LjVIMTIuMXpcXFwiXFxuXFx0Lz5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBKdXB5dGVyTGFiTWVudSB9IGZyb20gJy4vbGFibWVudSc7XG4vKipcbiAqIEFuIGV4dGVuc2libGUgRmlsZU1lbnUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVNZW51IGV4dGVuZHMgSnVweXRlckxhYk1lbnUge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWVudS50aXRsZS5sYWJlbCA9ICdGaWxlJztcbiAgICAgICAgdGhpcy5xdWl0RW50cnkgPSBmYWxzZTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBcIk5ld1wiIHN1Ym1lbnUuXG4gICAgICAgIHRoaXMubmV3TWVudSA9IG5ldyBKdXB5dGVyTGFiTWVudShvcHRpb25zLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubmV3TWVudS5tZW51LnRpdGxlLmxhYmVsID0gJ05ldyc7XG4gICAgICAgIHRoaXMuY2xvc2VBbmRDbGVhbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5jb25zb2xlQ3JlYXRvcnMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSBmaWxlIG1lbnUuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5uZXdNZW51LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5jb25zb2xlQ3JlYXRvcnMuY2xlYXIoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGUuanMubWFwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNiwgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxcbnxcXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbjpyb290IHtcXG4gIC0tanAtcHJpdmF0ZS10b29sYmFyLWhlaWdodDogY2FsYyhcXG4gICAgMjhweCArIHZhcigtLWpwLWJvcmRlci13aWR0aClcXG4gICk7IC8qIGxlYXZlIDI4cHggZm9yIGNvbnRlbnQgKi9cXG59XFxuXFxuLmpwLVRvb2xiYXIge1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IxKTtcXG4gIGZsZXg6IDAgMCBhdXRvO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBib3JkZXItYm90dG9tOiB2YXIoLS1qcC1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLWpwLXRvb2xiYXItYm9yZGVyLWNvbG9yKTtcXG4gIGJveC1zaGFkb3c6IHZhcigtLWpwLXRvb2xiYXItYm94LXNoYWRvdyk7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1qcC10b29sYmFyLWJhY2tncm91bmQpO1xcbiAgbWluLWhlaWdodDogdmFyKC0tanAtdG9vbGJhci1taWNyby1oZWlnaHQpO1xcbiAgcGFkZGluZzogMnB4O1xcbiAgei1pbmRleDogMTtcXG59XFxuXFxuLyogVG9vbGJhciBpdGVtcyAqL1xcblxcbi5qcC1Ub29sYmFyID4gLmpwLVRvb2xiYXItaXRlbS5qcC1Ub29sYmFyLXNwYWNlciB7XFxuICBmbGV4LWdyb3c6IDE7XFxuICBmbGV4LXNocmluazogMTtcXG59XFxuXFxuLmpwLVRvb2xiYXItaXRlbS5qcC1Ub29sYmFyLWtlcm5lbFN0YXR1cyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMzJweDtcXG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDE2cHg7XFxufVxcblxcbi5qcC1Ub29sYmFyID4gLmpwLVRvb2xiYXItaXRlbSB7XFxuICBmbGV4OiAwIDAgYXV0bztcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBwYWRkaW5nLWxlZnQ6IDFweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDFweDtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tanAtdWktZm9udC1zaXplMSk7XFxuICBsaW5lLWhlaWdodDogdmFyKC0tanAtcHJpdmF0ZS10b29sYmFyLWhlaWdodCk7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi8qIFRvb2xiYXIgYnV0dG9ucyAqL1xcblxcbi8qIFRoaXMgaXMgdGhlIGRpdiB3ZSB1c2UgdG8gd3JhcCB0aGUgcmVhY3QgY29tcG9uZW50IGludG8gYSBXaWRnZXQgKi9cXG5kaXYuanAtVG9vbGJhckJ1dHRvbiB7XFxuICBjb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuICBwYWRkaW5nOiAwcHg7XFxuICBtYXJnaW46IDBweDtcXG59XFxuXFxuYnV0dG9uLmpwLVRvb2xiYXJCdXR0b25Db21wb25lbnQge1xcbiAgYmFja2dyb3VuZDogdmFyKC0tanAtbGF5b3V0LWNvbG9yMSk7XFxuICBib3JkZXI6IG5vbmU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGFwcGVhcmFuY2U6IG5vbmU7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuICBwYWRkaW5nOiAwcHggNnB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBoZWlnaHQ6IDI0cHg7XFxuICBib3JkZXItcmFkaXVzOiB2YXIoLS1qcC1ib3JkZXItcmFkaXVzKTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbWluLXdpZHRoOiB1bnNldDtcXG4gIG1pbi1oZWlnaHQ6IHVuc2V0O1xcbn1cXG5cXG5idXR0b24uanAtVG9vbGJhckJ1dHRvbkNvbXBvbmVudDpkaXNhYmxlZCB7XFxuICBvcGFjaXR5OiAwLjQ7XFxufVxcblxcbmJ1dHRvbi5qcC1Ub29sYmFyQnV0dG9uQ29tcG9uZW50IHNwYW4ge1xcbiAgcGFkZGluZzogMHB4O1xcbiAgZmxleDogMCAwIGF1dG87XFxufVxcblxcbmJ1dHRvbi5qcC1Ub29sYmFyQnV0dG9uQ29tcG9uZW50IC5qcC1Ub29sYmFyQnV0dG9uQ29tcG9uZW50LWxhYmVsIHtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tanAtdWktZm9udC1zaXplMSk7XFxuICBsaW5lLWhlaWdodDogMTAwJTtcXG4gIHBhZGRpbmctbGVmdDogMnB4O1xcbiAgY29sb3I6IHZhcigtLWpwLXVpLWZvbnQtY29sb3IxKTtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIi8vIENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0BsdW1pbm8vc2lnbmFsaW5nJztcbi8qKlxuICogQSBjbGFzcyB0aGF0IG1hbmFnZXMgdGhlIGF1dG8gc2F2aW5nIG9mIGEgZG9jdW1lbnQuXG4gKlxuICogIyMjIyBOb3Rlc1xuICogSW1wbGVtZW50cyBodHRwczovL2dpdGh1Yi5jb20vaXB5dGhvbi9pcHl0aG9uL3dpa2kvSVBFUC0xNTotQXV0b3NhdmluZy10aGUtSVB5dGhvbi1Ob3RlYm9vay5cbiAqL1xuZXhwb3J0IGNsYXNzIFNhdmVIYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcgc2F2ZSBoYW5kbGVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYXV0b3NhdmVUaW1lciA9IC0xO1xuICAgICAgICB0aGlzLl9taW5JbnRlcnZhbCA9IC0xO1xuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IC0xO1xuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pbkRpYWxvZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX211bHRpcGxpZXIgPSAxMDtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG9wdGlvbnMuY29udGV4dDtcbiAgICAgICAgbGV0IGludGVydmFsID0gb3B0aW9ucy5zYXZlSW50ZXJ2YWwgfHwgMTIwO1xuICAgICAgICB0aGlzLl9taW5JbnRlcnZhbCA9IGludGVydmFsICogMTAwMDtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSB0aGlzLl9taW5JbnRlcnZhbDtcbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIgd2hlbiB0aGUgY29udGVudHMgbW9kZWwgaXMgdXBkYXRlZC5cbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxlQ2hhbmdlZC5jb25uZWN0KHRoaXMuX3NldFRpbWVyLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5kaXNwb3NlZC5jb25uZWN0KHRoaXMuZGlzcG9zZSwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzYXZlIGludGVydmFsIHVzZWQgYnkgdGhlIHRpbWVyIChpbiBzZWNvbmRzKS5cbiAgICAgKi9cbiAgICBnZXQgc2F2ZUludGVydmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJ2YWwgLyAxMDAwO1xuICAgIH1cbiAgICBzZXQgc2F2ZUludGVydmFsKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX21pbkludGVydmFsID0gdGhpcy5faW50ZXJ2YWwgPSB2YWx1ZSAqIDEwMDA7XG4gICAgICAgIGlmICh0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0VGltZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgd2hldGhlciB0aGUgaGFuZGxlciBpcyBhY3RpdmUuXG4gICAgICovXG4gICAgZ2V0IGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB3aGV0aGVyIHRoZSBzYXZlIGhhbmRsZXIgaXMgZGlzcG9zZWQuXG4gICAgICovXG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSByZXNvdXJjZXMgdXNlZCBieSB0aGUgc2F2ZSBoYW5kbGVyLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2F1dG9zYXZlVGltZXIpO1xuICAgICAgICBTaWduYWwuY2xlYXJEYXRhKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgYXV0b3NhdmVyLlxuICAgICAqL1xuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NldFRpbWVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIGF1dG9zYXZlci5cbiAgICAgKi9cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYXV0b3NhdmVUaW1lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGltZXIuXG4gICAgICovXG4gICAgX3NldFRpbWVyKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYXV0b3NhdmVUaW1lcik7XG4gICAgICAgIGlmICghdGhpcy5faXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdXRvc2F2ZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc2F2ZSgpO1xuICAgICAgICB9LCB0aGlzLl9pbnRlcnZhbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbiBhdXRvc2F2ZSB0aW1lb3V0LlxuICAgICAqL1xuICAgIF9zYXZlKCkge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuX2NvbnRleHQ7XG4gICAgICAgIC8vIFRyaWdnZXIgdGhlIG5leHQgdXBkYXRlLlxuICAgICAgICB0aGlzLl9zZXRUaW1lcigpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBCYWlsIGlmIHRoZSBtb2RlbCBpcyBub3QgZGlydHkgb3IgdGhlIGZpbGUgaXMgbm90IHdyaXRhYmxlLCBvciB0aGUgZGlhbG9nXG4gICAgICAgIC8vIGlzIGFscmVhZHkgc2hvd2luZy5cbiAgICAgICAgbGV0IHdyaXRhYmxlID0gY29udGV4dC5jb250ZW50c01vZGVsICYmIGNvbnRleHQuY29udGVudHNNb2RlbC53cml0YWJsZTtcbiAgICAgICAgaWYgKCF3cml0YWJsZSB8fCAhY29udGV4dC5tb2RlbC5kaXJ0eSB8fCB0aGlzLl9pbkRpYWxvZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBjb250ZXh0XG4gICAgICAgICAgICAuc2F2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGR1cmF0aW9uID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydDtcbiAgICAgICAgICAgIC8vIE5ldyBzYXZlIGludGVydmFsOiBoaWdoZXIgb2YgMTB4IHNhdmUgZHVyYXRpb24gb3IgbWluIGludGVydmFsLlxuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBNYXRoLm1heCh0aGlzLl9tdWx0aXBsaWVyICogZHVyYXRpb24sIHRoaXMuX21pbkludGVydmFsKTtcbiAgICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIHVwZGF0ZSB0byBwaWNrIHVwIHRoZSBuZXcgaW50ZXJ2YWwuXG4gICAgICAgICAgICB0aGlzLl9zZXRUaW1lcigpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBjYW5jZWxlZCB0aGUgc2F2ZSwgZG8gbm90aGluZy5cbiAgICAgICAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gJ0NhbmNlbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGxvZyB0aGUgZXJyb3IuXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBBdXRvLVNhdmUnLCBlcnIubWVzc2FnZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhdmVoYW5kbGVyLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMjIgMjInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyOycgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyBjbGFzcz0nanAtaWNvbi1jb250cmFzdDAganAtaWNvbi1zZWxlY3RhYmxlJyBmaWxsPSclMjM3QjFGQTInICUzRSAlM0Nwb2x5Z29uIHBvaW50cz0nNSwxNC45IDE3LDE0LjkgMTAuOSwyMC45ICcvJTNFICUzQ3BhdGggZD0nTTE0LjQsOC4xYzAtMS4zLTAuMS0yLjktMC4xLTQuNWwwLDBDMTMuOSw1LDEzLjQsNi41LDEzLDcuOWwtMS4zLDQuM2gtMkw4LjUsNy45QzguMSw2LjYsNy44LDUsNy41LDMuNmwwLDAgQzcuNCw1LjIsNy40LDYuOCw3LjMsOC4yTDcsMTIuNEg0LjhsMC43LTExaDMuM0wxMCw1YzAuNCwxLjIsMC43LDIuNywxLDMuOWwwLDBjMC4zLTEuMiwwLjctMi42LDEtMy45bDEuMi0zLjdoMy4zbDAuNiwxMWgtMi40IEwxNC40LDguMXonLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmVyc2lvbj1cXFwiMS4xXFxcIiBpZD1cXFwiTGF5ZXJfMVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgeD1cXFwiMHB4XFxcIiB5PVxcXCIwcHhcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMiAyMlxcXCIgc3R5bGU9XFxcImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjIgMjI7XFxcIiB4bWw6c3BhY2U9XFxcInByZXNlcnZlXFxcIj5cXG5cXHQ8Z1xcblxcdFxcdGNsYXNzPVxcXCJqcC1pY29uLWNvbnRyYXN0MCBqcC1pY29uLXNlbGVjdGFibGVcXFwiXFxuXFx0XFx0ZmlsbD1cXFwiIzdCMUZBMlxcXCJcXG5cXHQ+XFxuXFx0XFx0PHBvbHlnb24gcG9pbnRzPVxcXCI1LDE0LjkgMTcsMTQuOSAxMC45LDIwLjkgXFxcIi8+XFxuXFx0XFx0PHBhdGggZD1cXFwiTTE0LjQsOC4xYzAtMS4zLTAuMS0yLjktMC4xLTQuNWwwLDBDMTMuOSw1LDEzLjQsNi41LDEzLDcuOWwtMS4zLDQuM2gtMkw4LjUsNy45QzguMSw2LjYsNy44LDUsNy41LDMuNmwwLDAgQzcuNCw1LjIsNy40LDYuOCw3LjMsOC4yTDcsMTIuNEg0LjhsMC43LTExaDMuM0wxMCw1YzAuNCwxLjIsMC43LDIuNywxLDMuOWwwLDBjMC4zLTEuMiwwLjctMi42LDEtMy45bDEuMi0zLjdoMy4zbDAuNiwxMWgtMi40IEwxNC40LDguMXpcXFwiLz5cXG5cXHQ8L2c+XFxuPC9zdmc+XFxuXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZXhwb3J0ICogZnJvbSAnLi9jbGlwYm9hcmQnO1xuZXhwb3J0ICogZnJvbSAnLi9jb2xsYXBzZSc7XG5leHBvcnQgKiBmcm9tICcuL2NvbW1hbmRsaW5rZXInO1xuZXhwb3J0ICogZnJvbSAnLi9jb21tYW5kcGFsZXR0ZSc7XG5leHBvcnQgKiBmcm9tICcuL2RpYWxvZyc7XG5leHBvcnQgKiBmcm9tICcuL2RvbXV0aWxzJztcbmV4cG9ydCAqIGZyb20gJy4vaG92ZXJib3gnO1xuZXhwb3J0ICogZnJvbSAnLi9pZnJhbWUnO1xuZXhwb3J0ICogZnJvbSAnLi9pbnB1dGRpYWxvZyc7XG5leHBvcnQgKiBmcm9tICcuL21haW5hcmVhd2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vcHJpbnRpbmcnO1xuZXhwb3J0ICogZnJvbSAnLi9zYW5pdGl6ZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zZXNzaW9uY29udGV4dCc7XG5leHBvcnQgKiBmcm9tICcuL3NwaW5uZXInO1xuZXhwb3J0ICogZnJvbSAnLi9zcGxhc2gnO1xuZXhwb3J0ICogZnJvbSAnLi9zdHlsaW5nJztcbmV4cG9ydCAqIGZyb20gJy4vdGhlbWVtYW5hZ2VyJztcbmV4cG9ydCAqIGZyb20gJy4vdG9rZW5zJztcbmV4cG9ydCAqIGZyb20gJy4vdG9vbGJhcic7XG5leHBvcnQgKiBmcm9tICcuL3Zkb20nO1xuZXhwb3J0ICogZnJvbSAnLi93aWRnZXR0cmFja2VyJztcbmV4cG9ydCAqIGZyb20gJy4vd2luZG93cmVzb2x2ZXInO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzE1MicgaGVpZ2h0PScxNjUnIHZpZXdCb3g9JzAgMCAxNTIgMTY1JyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UgJTNDZyBjbGFzcz0nanAtaWNvbi13YXJuMCcgZmlsbD0nJTIzRjM3NzI2JyUzRSAlM0NwYXRoIHRyYW5zZm9ybT0ndHJhbnNsYXRlKDAuMDc4OTQ3LCAxMTAuNTgyOTI3KScgZD0nTTc1Ljk0MjI4NDIsMjkuNTgwNDU2MSBDNDMuMzAyMzk0NywyOS41ODA0NTYxIDE0Ljc5Njc4MzIsMTcuNjUzNDYzNCAwLDAgQzUuNTEwODMyMTEsMTUuODQwNjgyOSAxNS43ODE1Mzg5LDI5LjU2Njc3MzIgMjkuMzkwNDk0NywzOS4yNzg0MTcxIEM0Mi45OTk3LDQ4Ljk4OTg1MzcgNTkuMjczNyw1NC4yMDY3ODA1IDc1Ljk2MDU3ODksNTQuMjA2NzgwNSBDOTIuNjQ3NDU3OSw1NC4yMDY3ODA1IDEwOC45MjE0NTgsNDguOTg5ODUzNyAxMjIuNTMwNjYzLDM5LjI3ODQxNzEgQzEzNi4xMzk0NTMsMjkuNTY2NzczMiAxNDYuNDEwMjg0LDE1Ljg0MDY4MjkgMTUxLjkyMTE1OCwwIEMxMzcuMDg3ODY4LDE3LjY1MzQ2MzQgMTA4LjU4MjU4OSwyOS41ODA0NTYxIDc1Ljk0MjI4NDIsMjkuNTgwNDU2MSBMNzUuOTQyMjg0MiwyOS41ODA0NTYxIFonIC8lM0UgJTNDcGF0aCB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwLjAzNzM2OCwgMC43MDQ4NzgpJyBkPSdNNzUuOTc4NDU3OSwyNC42MjY0MDczIEMxMDguNjE4NzYzLDI0LjYyNjQwNzMgMTM3LjEyNDQ1OCwzNi41NTM0NDE1IDE1MS45MjExNTgsNTQuMjA2NzgwNSBDMTQ2LjQxMDI4NCwzOC4zNjYyMjIgMTM2LjEzOTQ1MywyNC42NDAxMzE3IDEyMi41MzA2NjMsMTQuOTI4NDg3OCBDMTA4LjkyMTQ1OCw1LjIxNjg0MzkgOTIuNjQ3NDU3OSwwIDc1Ljk2MDU3ODksMCBDNTkuMjczNywwIDQyLjk5OTcsNS4yMTY4NDM5IDI5LjM5MDQ5NDcsMTQuOTI4NDg3OCBDMTUuNzgxNTM4OSwyNC42NDAxMzE3IDUuNTEwODMyMTEsMzguMzY2MjIyIDAsNTQuMjA2NzgwNSBDMTQuODMzMDgxNiwzNi41ODk5MjkzIDQzLjMzODU2ODQsMjQuNjI2NDA3MyA3NS45Nzg0NTc5LDI0LjYyNjQwNzMgTDc1Ljk3ODQ1NzksMjQuNjI2NDA3MyBaJyAvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB3aWR0aD1cXFwiMTUyXFxcIiBoZWlnaHQ9XFxcIjE2NVxcXCIgdmlld0JveD1cXFwiMCAwIDE1MiAxNjVcXFwiIHZlcnNpb249XFxcIjEuMVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uLXdhcm4wXFxcIiBmaWxsPVxcXCIjRjM3NzI2XFxcIj5cXG4gICAgPHBhdGggdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMC4wNzg5NDcsIDExMC41ODI5MjcpXFxcIiBkPVxcXCJNNzUuOTQyMjg0MiwyOS41ODA0NTYxIEM0My4zMDIzOTQ3LDI5LjU4MDQ1NjEgMTQuNzk2NzgzMiwxNy42NTM0NjM0IDAsMCBDNS41MTA4MzIxMSwxNS44NDA2ODI5IDE1Ljc4MTUzODksMjkuNTY2NzczMiAyOS4zOTA0OTQ3LDM5LjI3ODQxNzEgQzQyLjk5OTcsNDguOTg5ODUzNyA1OS4yNzM3LDU0LjIwNjc4MDUgNzUuOTYwNTc4OSw1NC4yMDY3ODA1IEM5Mi42NDc0NTc5LDU0LjIwNjc4MDUgMTA4LjkyMTQ1OCw0OC45ODk4NTM3IDEyMi41MzA2NjMsMzkuMjc4NDE3MSBDMTM2LjEzOTQ1MywyOS41NjY3NzMyIDE0Ni40MTAyODQsMTUuODQwNjgyOSAxNTEuOTIxMTU4LDAgQzEzNy4wODc4NjgsMTcuNjUzNDYzNCAxMDguNTgyNTg5LDI5LjU4MDQ1NjEgNzUuOTQyMjg0MiwyOS41ODA0NTYxIEw3NS45NDIyODQyLDI5LjU4MDQ1NjEgWlxcXCIgLz5cXG4gICAgPHBhdGggdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoMC4wMzczNjgsIDAuNzA0ODc4KVxcXCIgZD1cXFwiTTc1Ljk3ODQ1NzksMjQuNjI2NDA3MyBDMTA4LjYxODc2MywyNC42MjY0MDczIDEzNy4xMjQ0NTgsMzYuNTUzNDQxNSAxNTEuOTIxMTU4LDU0LjIwNjc4MDUgQzE0Ni40MTAyODQsMzguMzY2MjIyIDEzNi4xMzk0NTMsMjQuNjQwMTMxNyAxMjIuNTMwNjYzLDE0LjkyODQ4NzggQzEwOC45MjE0NTgsNS4yMTY4NDM5IDkyLjY0NzQ1NzksMCA3NS45NjA1Nzg5LDAgQzU5LjI3MzcsMCA0Mi45OTk3LDUuMjE2ODQzOSAyOS4zOTA0OTQ3LDE0LjkyODQ4NzggQzE1Ljc4MTUzODksMjQuNjQwMTMxNyA1LjUxMDgzMjExLDM4LjM2NjIyMiAwLDU0LjIwNjc4MDUgQzE0LjgzMzA4MTYsMzYuNTg5OTI5MyA0My4zMzg1Njg0LDI0LjYyNjQwNzMgNzUuOTc4NDU3OSwyNC42MjY0MDczIEw3NS45Nzg0NTc5LDI0LjYyNjQwNzMgWlxcXCIgLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IENvcHlyaWdodCAoYykgSnVweXRlciBEZXZlbG9wbWVudCBUZWFtLlxufCBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgSlNPTkV4dCwgUHJvbWlzZURlbGVnYXRlLCBUb2tlbiB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbmltcG9ydCB7IEF0dGFjaGVkUHJvcGVydHkgfSBmcm9tICdAbHVtaW5vL3Byb3BlcnRpZXMnO1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qKlxuICogVGhlIGxheW91dCByZXN0b3JlciB0b2tlbi5cbiAqL1xuZXhwb3J0IGNvbnN0IElMYXlvdXRSZXN0b3JlciA9IG5ldyBUb2tlbignQGp1cHl0ZXJsYWIvYXBwbGljYXRpb246SUxheW91dFJlc3RvcmVyJyk7XG4vKipcbiAqIFRoZSBkYXRhIGNvbm5lY3RvciBrZXkgZm9yIHJlc3RvcmVyIGRhdGEuXG4gKi9cbmNvbnN0IEtFWSA9ICdsYXlvdXQtcmVzdG9yZXI6ZGF0YSc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGEgbGF5b3V0IHJlc3RvcmVyLlxuICpcbiAqICMjIyMgTm90ZXNcbiAqIFRoZSBsaWZlY3ljbGUgZm9yIHN0YXRlIHJlc3RvcmF0aW9uIGlzIHN1YnRsZS4gVGhlIHNlcXVlbmNlIG9mIGV2ZW50cyBpczpcbiAqXG4gKiAxLiBUaGUgbGF5b3V0IHJlc3RvcmVyIHBsdWdpbiBpcyBpbnN0YW50aWF0ZWQgYW5kIG1ha2VzIGEgYGZldGNoYCBjYWxsIHRvXG4gKiAgICB0aGUgZGF0YSBjb25uZWN0b3IgdGhhdCBzdG9yZXMgdGhlIGxheW91dCByZXN0b3JhdGlvbiBkYXRhLiBUaGUgYGZldGNoYFxuICogICAgY2FsbCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGluIHN0ZXAgNiwgYmVsb3cuXG4gKlxuICogMi4gT3RoZXIgcGx1Z2lucyB0aGF0IGNhcmUgYWJvdXQgc3RhdGUgcmVzdG9yYXRpb24gcmVxdWlyZSB0aGUgbGF5b3V0XG4gKiAgICByZXN0b3JlciBhcyBhIGRlcGVuZGVuY3kuXG4gKlxuICogMy4gQXMgZWFjaCBsb2FkLXRpbWUgcGx1Z2luIGluaXRpYWxpemVzICh3aGljaCBoYXBwZW5zIGJlZm9yZSB0aGUgZnJvbnQtZW5kXG4gKiAgICBhcHBsaWNhdGlvbiBoYXMgYHN0YXJ0ZWRgKSwgaXQgaW5zdHJ1Y3RzIHRoZSBsYXlvdXQgcmVzdG9yZXIgd2hldGhlclxuICogICAgdGhlIHJlc3RvcmVyIG91Z2h0IHRvIGByZXN0b3JlYCBpdHMgd2lkZ2V0cyBieSBwYXNzaW5nIGluIGl0cyB3aWRnZXRcbiAqICAgIHRyYWNrZXIuXG4gKiAgICBBbHRlcm5hdGl2ZWx5LCBhIHBsdWdpbiB0aGF0IGRvZXMgbm90IHJlcXVpcmUgaXRzIG93biB3aWRnZXQgdHJhY2tlclxuICogICAgKGJlY2F1c2UgcGVyaGFwcyBpdCBvbmx5IGNyZWF0ZXMgYSBzaW5nbGUgd2lkZ2V0LCBsaWtlIGEgY29tbWFuZCBwYWxldHRlKSxcbiAqICAgIGNhbiBzaW1wbHkgYGFkZGAgaXRzIHdpZGdldCBhbG9uZyB3aXRoIGEgcGVyc2lzdGVudCB1bmlxdWUgbmFtZSB0byB0aGVcbiAqICAgIGxheW91dCByZXN0b3JlciBzbyB0aGF0IGl0cyBsYXlvdXQgc3RhdGUgY2FuIGJlIHJlc3RvcmVkIHdoZW4gdGhlIGxhYlxuICogICAgYXBwbGljYXRpb24gcmVzdG9yZXMuXG4gKlxuICogNC4gQWZ0ZXIgYWxsIHRoZSBsb2FkLXRpbWUgcGx1Z2lucyBoYXZlIGZpbmlzaGVkIGluaXRpYWxpemluZywgdGhlIGZyb250LWVuZFxuICogICAgYXBwbGljYXRpb24gYHN0YXJ0ZWRgIHByb21pc2Ugd2lsbCByZXNvbHZlLiBUaGlzIGlzIHRoZSBgZmlyc3RgXG4gKiAgICBwcm9taXNlIHRoYXQgdGhlIGxheW91dCByZXN0b3JlciB3YWl0cyBmb3IuIEJ5IHRoaXMgcG9pbnQsIGFsbCBvZiB0aGVcbiAqICAgIHBsdWdpbnMgdGhhdCBjYXJlIGFib3V0IHJlc3RvcmF0aW9uIHdpbGwgaGF2ZSBpbnN0cnVjdGVkIHRoZSBsYXlvdXRcbiAqICAgIHJlc3RvcmVyIHRvIGByZXN0b3JlYCB0aGVpciB3aWRnZXQgdHJhY2tlcnMuXG4gKlxuICogNS4gVGhlIGxheW91dCByZXN0b3JlciB3aWxsIHRoZW4gaW5zdHJ1Y3QgZWFjaCBwbHVnaW4ncyB3aWRnZXQgdHJhY2tlclxuICogICAgdG8gcmVzdG9yZSBpdHMgc3RhdGUgYW5kIHJlaW5zdGFudGlhdGUgd2hpY2hldmVyIHdpZGdldHMgaXQgd2FudHMuIFRoZVxuICogICAgdHJhY2tlciByZXR1cm5zIGEgcHJvbWlzZSB0byB0aGUgbGF5b3V0IHJlc3RvcmVyIHRoYXQgcmVzb2x2ZXMgd2hlbiBpdFxuICogICAgaGFzIGNvbXBsZXRlZCByZXN0b3JpbmcgdGhlIHRyYWNrZWQgd2lkZ2V0cyBpdCBjYXJlcyBhYm91dC5cbiAqXG4gKiA2LiBBcyBlYWNoIHdpZGdldCB0cmFja2VyIGZpbmlzaGVzIHJlc3RvcmluZyB0aGUgd2lkZ2V0IGluc3RhbmNlcyBpdCBjYXJlc1xuICogICAgYWJvdXQsIGl0IHJlc29sdmVzIHRoZSBwcm9taXNlIHRoYXQgd2FzIHJldHVybmVkIHRvIHRoZSBsYXlvdXQgcmVzdG9yZXJcbiAqICAgIChpbiBzdGVwIDUpLiBBZnRlciBhbGwgb2YgdGhlIHByb21pc2VzIHRoYXQgdGhlIHJlc3RvcmVyIGlzIGF3YWl0aW5nIGhhdmVcbiAqICAgIHNldHRsZWQsIHRoZSByZXN0b3JlciB0aGVuIHJlc29sdmVzIHRoZSBvdXRzdGFuZGluZyBgZmV0Y2hgIHByb21pc2VcbiAqICAgIChmcm9tIHN0ZXAgMSkgYW5kIGhhbmRzIG9mZiBhIGxheW91dCBzdGF0ZSBvYmplY3QgdG8gdGhlIGFwcGxpY2F0aW9uXG4gKiAgICBzaGVsbCdzIGByZXN0b3JlTGF5b3V0YCBtZXRob2QgZm9yIHJlc3RvcmF0aW9uLlxuICpcbiAqIDcuIE9uY2UgdGhlIGFwcGxpY2F0aW9uIHNoZWxsIGhhcyBmaW5pc2hlZCByZXN0b3JpbmcgdGhlIGxheW91dCwgdGhlXG4gKiAgICBKdXB5dGVyTGFiIGFwcGxpY2F0aW9uJ3MgYHJlc3RvcmVkYCBwcm9taXNlIGlzIHJlc29sdmVkLlxuICpcbiAqIE9mIHBhcnRpY3VsYXIgbm90ZSBhcmUgc3RlcHMgNSBhbmQgNjogc2luY2UgZGF0YSByZXN0b3JhdGlvbiBvZiBwbHVnaW5zXG4gKiBpcyBhY2NvbXBsaXNoZWQgYnkgZXhlY3V0aW5nIGNvbW1hbmRzLCB0aGUgY29tbWFuZCB0aGF0IGlzIHVzZWQgdG8gcmVzdG9yZVxuICogdGhlIGRhdGEgb2YgZWFjaCBwbHVnaW4gbXVzdCByZXR1cm4gYSBwcm9taXNlIHRoYXQgb25seSByZXNvbHZlcyB3aGVuIHRoZVxuICogd2lkZ2V0IGhhcyBiZWVuIGNyZWF0ZWQgYW5kIGFkZGVkIHRvIHRoZSBwbHVnaW4ncyB3aWRnZXQgdHJhY2tlci5cbiAqL1xuZXhwb3J0IGNsYXNzIExheW91dFJlc3RvcmVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBsYXlvdXQgcmVzdG9yZXIuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLl9maXJzdERvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZXNEb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Byb21pc2VzID0gW107XG4gICAgICAgIHRoaXMuX3Jlc3RvcmVkID0gbmV3IFByb21pc2VEZWxlZ2F0ZSgpO1xuICAgICAgICB0aGlzLl90cmFja2VycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fd2lkZ2V0cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdG9yID0gb3B0aW9ucy5jb25uZWN0b3I7XG4gICAgICAgIHRoaXMuX2ZpcnN0ID0gb3B0aW9ucy5maXJzdDtcbiAgICAgICAgdGhpcy5fcmVnaXN0cnkgPSBvcHRpb25zLnJlZ2lzdHJ5O1xuICAgICAgICB2b2lkIHRoaXMuX2ZpcnN0XG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9maXJzdERvbmUgPSB0cnVlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gUHJvbWlzZS5hbGwodGhpcy5fcHJvbWlzZXMpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFJlbGVhc2UgdGhlIHRyYWNrZXIgc2V0LlxuICAgICAgICAgICAgdGhpcy5fdHJhY2tlcnMuY2xlYXIoKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3RvcmVkLnJlc29sdmUodm9pZCAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHRoZSBsYXlvdXQgcmVzdG9yZXIgaXMgcmVhZHkgdG8gcmVjZWl2ZSBzaWduYWxzLlxuICAgICAqL1xuICAgIGdldCByZXN0b3JlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3RvcmVkLnByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHdpZGdldCB0byBiZSB0cmFja2VkIGJ5IHRoZSBsYXlvdXQgcmVzdG9yZXIuXG4gICAgICovXG4gICAgYWRkKHdpZGdldCwgbmFtZSkge1xuICAgICAgICBQcml2YXRlLm5hbWVQcm9wZXJ0eS5zZXQod2lkZ2V0LCBuYW1lKTtcbiAgICAgICAgdGhpcy5fd2lkZ2V0cy5zZXQobmFtZSwgd2lkZ2V0KTtcbiAgICAgICAgd2lkZ2V0LmRpc3Bvc2VkLmNvbm5lY3QodGhpcy5fb25XaWRnZXREaXNwb3NlZCwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoIHRoZSBsYXlvdXQgc3RhdGUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBGZXRjaGluZyB0aGUgbGF5b3V0IHJlbGllcyBvbiBhbGwgd2lkZ2V0IHJlc3RvcmF0aW9uIHRvIGJlIGNvbXBsZXRlLCBzb1xuICAgICAqIGNhbGxzIHRvIGBmZXRjaGAgYXJlIGd1YXJhbnRlZWQgdG8gcmV0dXJuIGFmdGVyIHJlc3RvcmF0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAqL1xuICAgIGFzeW5jIGZldGNoKCkge1xuICAgICAgICBjb25zdCBibGFuayA9IHtcbiAgICAgICAgICAgIGZyZXNoOiB0cnVlLFxuICAgICAgICAgICAgbWFpbkFyZWE6IG51bGwsXG4gICAgICAgICAgICBsZWZ0QXJlYTogbnVsbCxcbiAgICAgICAgICAgIHJpZ2h0QXJlYTogbnVsbFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLl9jb25uZWN0b3IuZmV0Y2goS0VZKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFtkYXRhXSA9IGF3YWl0IFByb21pc2UuYWxsKFtsYXlvdXQsIHRoaXMucmVzdG9yZWRdKTtcbiAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibGFuaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgbWFpbiwgbGVmdCwgcmlnaHQgfSA9IGRhdGE7XG4gICAgICAgICAgICAvLyBJZiBhbnkgZGF0YSBleGlzdHMsIHRoZW4gdGhpcyBpcyBub3QgYSBmcmVzaCBzZXNzaW9uLlxuICAgICAgICAgICAgY29uc3QgZnJlc2ggPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFJlaHlkcmF0ZSBtYWluIGFyZWEuXG4gICAgICAgICAgICBjb25zdCBtYWluQXJlYSA9IHRoaXMuX3JlaHlkcmF0ZU1haW5BcmVhKG1haW4pO1xuICAgICAgICAgICAgLy8gUmVoeWRyYXRlIGxlZnQgYXJlYS5cbiAgICAgICAgICAgIGNvbnN0IGxlZnRBcmVhID0gdGhpcy5fcmVoeWRyYXRlU2lkZUFyZWEobGVmdCk7XG4gICAgICAgICAgICAvLyBSZWh5ZHJhdGUgcmlnaHQgYXJlYS5cbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0QXJlYSA9IHRoaXMuX3JlaHlkcmF0ZVNpZGVBcmVhKHJpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiB7IGZyZXNoLCBtYWluQXJlYSwgbGVmdEFyZWEsIHJpZ2h0QXJlYSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGJsYW5rO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc3RvcmUgdGhlIHdpZGdldHMgb2YgYSBwYXJ0aWN1bGFyIHdpZGdldCB0cmFja2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYWNrZXIgLSBUaGUgd2lkZ2V0IHRyYWNrZXIgd2hvc2Ugd2lkZ2V0cyB3aWxsIGJlIHJlc3RvcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgcmVzdG9yYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICByZXN0b3JlKHRyYWNrZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgd2FybmluZyA9ICdyZXN0b3JlKCkgY2FuIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBgZmlyc3RgIGhhcyByZXNvbHZlZC4nO1xuICAgICAgICBpZiAodGhpcy5fZmlyc3REb25lKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qod2FybmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBuYW1lc3BhY2UgfSA9IHRyYWNrZXI7XG4gICAgICAgIGlmICh0aGlzLl90cmFja2Vycy5oYXMobmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgY29uc3Qgd2FybmluZyA9IGBBIHRyYWNrZXIgbmFtZXNwYWNlZCAke25hbWVzcGFjZX0gd2FzIGFscmVhZHkgcmVzdG9yZWQuYDtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh3YXJuaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGFyZ3MsIGNvbW1hbmQsIG5hbWUsIHdoZW4gfSA9IG9wdGlvbnM7XG4gICAgICAgIC8vIEFkZCB0aGUgdHJhY2tlciB0byB0aGUgcHJpdmF0ZSB0cmFja2VycyBjb2xsZWN0aW9uLlxuICAgICAgICB0aGlzLl90cmFja2Vycy5hZGQobmFtZXNwYWNlKTtcbiAgICAgICAgLy8gV2hlbmV2ZXIgYSBuZXcgd2lkZ2V0IGlzIGFkZGVkIHRvIHRoZSB0cmFja2VyLCByZWNvcmQgaXRzIG5hbWUuXG4gICAgICAgIHRyYWNrZXIud2lkZ2V0QWRkZWQuY29ubmVjdCgoXywgd2lkZ2V0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3aWRnZXROYW1lID0gbmFtZSh3aWRnZXQpO1xuICAgICAgICAgICAgaWYgKHdpZGdldE5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh3aWRnZXQsIGAke25hbWVzcGFjZX06JHt3aWRnZXROYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgLy8gV2hlbmV2ZXIgYSB3aWRnZXQgaXMgdXBkYXRlZCwgZ2V0IGl0cyBuZXcgbmFtZS5cbiAgICAgICAgdHJhY2tlci53aWRnZXRVcGRhdGVkLmNvbm5lY3QoKF8sIHdpZGdldCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2lkZ2V0TmFtZSA9IG5hbWUod2lkZ2V0KTtcbiAgICAgICAgICAgIGlmICh3aWRnZXROYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke25hbWVzcGFjZX06JHt3aWRnZXROYW1lfWA7XG4gICAgICAgICAgICAgICAgUHJpdmF0ZS5uYW1lUHJvcGVydHkuc2V0KHdpZGdldCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2lkZ2V0cy5zZXQobmFtZSwgd2lkZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5fZmlyc3Q7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0cmFja2VyXG4gICAgICAgICAgICAucmVzdG9yZSh7XG4gICAgICAgICAgICBhcmdzOiBhcmdzIHx8ICgoKSA9PiBKU09ORXh0LmVtcHR5T2JqZWN0KSxcbiAgICAgICAgICAgIGNvbW1hbmQsXG4gICAgICAgICAgICBjb25uZWN0b3I6IHRoaXMuX2Nvbm5lY3RvcixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICByZWdpc3RyeTogdGhpcy5fcmVnaXN0cnksXG4gICAgICAgICAgICB3aGVuOiB3aGVuID8gW2ZpcnN0XS5jb25jYXQod2hlbikgOiBmaXJzdFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZXMucHVzaChwcm9taXNlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIGxheW91dCBzdGF0ZSBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAqL1xuICAgIHNhdmUoZGF0YSkge1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgcHJvbWlzZXMgdGhhdCBhcmUgdW5yZXNvbHZlZCwgYmFpbC5cbiAgICAgICAgaWYgKCF0aGlzLl9wcm9taXNlc0RvbmUpIHtcbiAgICAgICAgICAgIGxldCB3YXJuaW5nID0gJ3NhdmUoKSB3YXMgY2FsbGVkIHByZW1hdHVyZWx5Lic7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qod2FybmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlaHlkcmF0ZWQgPSB7fTtcbiAgICAgICAgLy8gRGVoeWRyYXRlIG1haW4gYXJlYS5cbiAgICAgICAgZGVoeWRyYXRlZC5tYWluID0gdGhpcy5fZGVoeWRyYXRlTWFpbkFyZWEoZGF0YS5tYWluQXJlYSk7XG4gICAgICAgIC8vIERlaHlkcmF0ZSBsZWZ0IGFyZWEuXG4gICAgICAgIGRlaHlkcmF0ZWQubGVmdCA9IHRoaXMuX2RlaHlkcmF0ZVNpZGVBcmVhKGRhdGEubGVmdEFyZWEpO1xuICAgICAgICAvLyBEZWh5ZHJhdGUgcmlnaHQgYXJlYS5cbiAgICAgICAgZGVoeWRyYXRlZC5yaWdodCA9IHRoaXMuX2RlaHlkcmF0ZVNpZGVBcmVhKGRhdGEucmlnaHRBcmVhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rvci5zYXZlKEtFWSwgZGVoeWRyYXRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlaHlkcmF0ZSBhIG1haW4gYXJlYSBkZXNjcmlwdGlvbiBpbnRvIGEgc2VyaWFsaXphYmxlIG9iamVjdC5cbiAgICAgKi9cbiAgICBfZGVoeWRyYXRlTWFpbkFyZWEoYXJlYSkge1xuICAgICAgICBpZiAoIWFyZWEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcml2YXRlLnNlcmlhbGl6ZU1haW4oYXJlYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJleWRyYXRlIGEgc2VyaWFsaXplZCBtYWluIGFyZWEgZGVzY3JpcHRpb24gb2JqZWN0LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgZnVuY3Rpb24gY29uc3VtZXMgZGF0YSB0aGF0IGNhbiBiZWNvbWUgY29ycnVwdGVkLCBzbyBpdCB1c2VzIHR5cGVcbiAgICAgKiBjb2VyY2lvbiB0byBndWFyYW50ZWUgdGhlIGRlaHlkcmF0ZWQgb2JqZWN0IGlzIHNhZmVseSBwcm9jZXNzZWQuXG4gICAgICovXG4gICAgX3JlaHlkcmF0ZU1haW5BcmVhKGFyZWEpIHtcbiAgICAgICAgaWYgKCFhcmVhKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJpdmF0ZS5kZXNlcmlhbGl6ZU1haW4oYXJlYSwgdGhpcy5fd2lkZ2V0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlaHlkcmF0ZSBhIHNpZGUgYXJlYSBkZXNjcmlwdGlvbiBpbnRvIGEgc2VyaWFsaXphYmxlIG9iamVjdC5cbiAgICAgKi9cbiAgICBfZGVoeWRyYXRlU2lkZUFyZWEoYXJlYSkge1xuICAgICAgICBpZiAoIWFyZWEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZWh5ZHJhdGVkID0geyBjb2xsYXBzZWQ6IGFyZWEuY29sbGFwc2VkIH07XG4gICAgICAgIGlmIChhcmVhLmN1cnJlbnRXaWRnZXQpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gUHJpdmF0ZS5uYW1lUHJvcGVydHkuZ2V0KGFyZWEuY3VycmVudFdpZGdldCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGRlaHlkcmF0ZWQuY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZWEud2lkZ2V0cykge1xuICAgICAgICAgICAgZGVoeWRyYXRlZC53aWRnZXRzID0gYXJlYS53aWRnZXRzXG4gICAgICAgICAgICAgICAgLm1hcCh3aWRnZXQgPT4gUHJpdmF0ZS5uYW1lUHJvcGVydHkuZ2V0KHdpZGdldCkpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihuYW1lID0+ICEhbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlaHlkcmF0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJleWRyYXRlIGEgc2VyaWFsaXplZCBzaWRlIGFyZWEgZGVzY3JpcHRpb24gb2JqZWN0LlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIFRoaXMgZnVuY3Rpb24gY29uc3VtZXMgZGF0YSB0aGF0IGNhbiBiZWNvbWUgY29ycnVwdGVkLCBzbyBpdCB1c2VzIHR5cGVcbiAgICAgKiBjb2VyY2lvbiB0byBndWFyYW50ZWUgdGhlIGRlaHlkcmF0ZWQgb2JqZWN0IGlzIHNhZmVseSBwcm9jZXNzZWQuXG4gICAgICovXG4gICAgX3JlaHlkcmF0ZVNpZGVBcmVhKGFyZWEpIHtcbiAgICAgICAgaWYgKCFhcmVhKSB7XG4gICAgICAgICAgICByZXR1cm4geyBjb2xsYXBzZWQ6IHRydWUsIGN1cnJlbnRXaWRnZXQ6IG51bGwsIHdpZGdldHM6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW50ZXJuYWwgPSB0aGlzLl93aWRnZXRzO1xuICAgICAgICBjb25zdCBjb2xsYXBzZWQgPSBhcmVhLmhhc093blByb3BlcnR5KCdjb2xsYXBzZWQnKVxuICAgICAgICAgICAgPyAhIWFyZWEuY29sbGFwc2VkXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICBjb25zdCBjdXJyZW50V2lkZ2V0ID0gYXJlYS5jdXJyZW50ICYmIGludGVybmFsLmhhcyhgJHthcmVhLmN1cnJlbnR9YClcbiAgICAgICAgICAgID8gaW50ZXJuYWwuZ2V0KGAke2FyZWEuY3VycmVudH1gKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBjb25zdCB3aWRnZXRzID0gIUFycmF5LmlzQXJyYXkoYXJlYS53aWRnZXRzKVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IGFyZWEud2lkZ2V0c1xuICAgICAgICAgICAgICAgIC5tYXAobmFtZSA9PiBpbnRlcm5hbC5oYXMoYCR7bmFtZX1gKSA/IGludGVybmFsLmdldChgJHtuYW1lfWApIDogbnVsbClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHdpZGdldCA9PiAhIXdpZGdldCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2xsYXBzZWQsXG4gICAgICAgICAgICBjdXJyZW50V2lkZ2V0OiBjdXJyZW50V2lkZ2V0LFxuICAgICAgICAgICAgd2lkZ2V0czogd2lkZ2V0c1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSB3aWRnZXQgZGlzcG9zYWwuXG4gICAgICovXG4gICAgX29uV2lkZ2V0RGlzcG9zZWQod2lkZ2V0KSB7XG4gICAgICAgIGxldCBuYW1lID0gUHJpdmF0ZS5uYW1lUHJvcGVydHkuZ2V0KHdpZGdldCk7XG4gICAgICAgIHRoaXMuX3dpZGdldHMuZGVsZXRlKG5hbWUpO1xuICAgIH1cbn1cbi8qXG4gKiBBIG5hbWVzcGFjZSBmb3IgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEFuIGF0dGFjaGVkIHByb3BlcnR5IGZvciBhIHdpZGdldCdzIElEIGluIHRoZSBzZXJpYWxpemVkIHJlc3RvcmUgZGF0YS5cbiAgICAgKi9cbiAgICBQcml2YXRlLm5hbWVQcm9wZXJ0eSA9IG5ldyBBdHRhY2hlZFByb3BlcnR5KHtcbiAgICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgICBjcmVhdGU6IG93bmVyID0+ICcnXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIGluZGl2aWR1YWwgYXJlYXMgd2l0aGluIHRoZSBtYWluIGFyZWEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2VyaWFsaXplQXJlYShhcmVhKSB7XG4gICAgICAgIGlmICghYXJlYSB8fCAhYXJlYS50eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJlYS50eXBlID09PSAndGFiLWFyZWEnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0YWItYXJlYScsXG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4OiBhcmVhLmN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgICAgICB3aWRnZXRzOiBhcmVhLndpZGdldHNcbiAgICAgICAgICAgICAgICAgICAgLm1hcCh3aWRnZXQgPT4gUHJpdmF0ZS5uYW1lUHJvcGVydHkuZ2V0KHdpZGdldCkpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIobmFtZSA9PiAhIW5hbWUpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnc3BsaXQtYXJlYScsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogYXJlYS5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIHNpemVzOiBhcmVhLnNpemVzLFxuICAgICAgICAgICAgY2hpbGRyZW46IGFyZWEuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAubWFwKHNlcmlhbGl6ZUFyZWEpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihhcmVhID0+ICEhYXJlYSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgZGVoeWRyYXRlZCwgc2VyaWFsaXphYmxlIHZlcnNpb24gb2YgdGhlIG1haW4gZG9jayBwYW5lbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXJpYWxpemVNYWluKGFyZWEpIHtcbiAgICAgICAgbGV0IGRlaHlkcmF0ZWQgPSB7XG4gICAgICAgICAgICBkb2NrOiAoYXJlYSAmJiBhcmVhLmRvY2sgJiYgc2VyaWFsaXplQXJlYShhcmVhLmRvY2subWFpbikpIHx8IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGFyZWEpIHtcbiAgICAgICAgICAgIGRlaHlkcmF0ZWQubW9kZSA9IGFyZWEubW9kZTtcbiAgICAgICAgICAgIGlmIChhcmVhLmN1cnJlbnRXaWRnZXQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudCA9IFByaXZhdGUubmFtZVByb3BlcnR5LmdldChhcmVhLmN1cnJlbnRXaWRnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlaHlkcmF0ZWQuY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWh5ZHJhdGVkO1xuICAgIH1cbiAgICBQcml2YXRlLnNlcmlhbGl6ZU1haW4gPSBzZXJpYWxpemVNYWluO1xuICAgIC8qKlxuICAgICAqIERlc2VyaWFsaXplIGluZGl2aWR1YWwgYXJlYXMgd2l0aGluIHRoZSBtYWluIGFyZWEuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogQmVjYXVzZSB0aGlzIGRhdGEgY29tZXMgZnJvbSBhIHBvdGVudGlhbGx5IHVucmVsaWFibGUgZm9yZWlnbiBzb3VyY2UsIGl0IGlzXG4gICAgICogdHlwZWQgYXMgYSBgSlNPTk9iamVjdGA7IGJ1dCB0aGUgYWN0dWFsIGV4cGVjdGVkIHR5cGUgaXM6XG4gICAgICogYElUYWJBcmVhIHwgSVNwbGl0QXJlYWAuXG4gICAgICpcbiAgICAgKiBGb3IgZmF1bHQgdG9sZXJhbmNlLCB0eXBlcyBhcmUgbWFudWFsbHkgY2hlY2tlZCBpbiBkZXNlcmlhbGl6YXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVzZXJpYWxpemVBcmVhKGFyZWEsIG5hbWVzKSB7XG4gICAgICAgIGlmICghYXJlYSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQmVjYXVzZSB0aGlzIGRhdGEgaXMgc2F2ZWQgdG8gYSBmb3JlaWduIGRhdGEgc291cmNlLCBpdHMgdHlwZSBzYWZldHkgaXNcbiAgICAgICAgLy8gbm90IGd1YXJhbnRlZWQgd2hlbiBpdCBpcyByZXRyaWV2ZWQsIHNvIGV4aGF1c3RpdmUgY2hlY2tzIGFyZSBuZWNlc3NhcnkuXG4gICAgICAgIGNvbnN0IHR5cGUgPSBhcmVhLnR5cGUgfHwgJ3Vua25vd24nO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3Vua25vd24nIHx8ICh0eXBlICE9PSAndGFiLWFyZWEnICYmIHR5cGUgIT09ICdzcGxpdC1hcmVhJykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGVkIHRvIGRlc2VyaWFsaXplIHVua25vd24gdHlwZTogJHt0eXBlfWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICd0YWItYXJlYScpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY3VycmVudEluZGV4LCB3aWRnZXRzIH0gPSBhcmVhO1xuICAgICAgICAgICAgbGV0IGh5ZHJhdGVkID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0YWItYXJlYScsXG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4OiBjdXJyZW50SW5kZXggfHwgMCxcbiAgICAgICAgICAgICAgICB3aWRnZXRzOiAod2lkZ2V0cyAmJlxuICAgICAgICAgICAgICAgICAgICB3aWRnZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHdpZGdldCA9PiBuYW1lcy5nZXQod2lkZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIod2lkZ2V0ID0+ICEhd2lkZ2V0KSkgfHxcbiAgICAgICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGN1cnJlbnQgaW5kZXggaXMgd2l0aGluIGJvdW5kcy5cbiAgICAgICAgICAgIGlmIChoeWRyYXRlZC5jdXJyZW50SW5kZXggPiBoeWRyYXRlZC53aWRnZXRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBoeWRyYXRlZC5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGh5ZHJhdGVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb3JpZW50YXRpb24sIHNpemVzLCBjaGlsZHJlbiB9ID0gYXJlYTtcbiAgICAgICAgbGV0IGh5ZHJhdGVkID0ge1xuICAgICAgICAgICAgdHlwZTogJ3NwbGl0LWFyZWEnLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgc2l6ZXM6IHNpemVzIHx8IFtdLFxuICAgICAgICAgICAgY2hpbGRyZW46IChjaGlsZHJlbiAmJlxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoY2hpbGQgPT4gZGVzZXJpYWxpemVBcmVhKGNoaWxkLCBuYW1lcykpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIod2lkZ2V0ID0+ICEhd2lkZ2V0KSkgfHxcbiAgICAgICAgICAgICAgICBbXVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaHlkcmF0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgaHlkcmF0ZWQgdmVyc2lvbiBvZiB0aGUgbWFpbiBkb2NrIHBhbmVsLCByZWFkeSB0byByZXN0b3JlLlxuICAgICAqXG4gICAgICogIyMjIyBOb3Rlc1xuICAgICAqIEJlY2F1c2UgdGhpcyBkYXRhIGNvbWVzIGZyb20gYSBwb3RlbnRpYWxseSB1bnJlbGlhYmxlIGZvcmVpZ24gc291cmNlLCBpdCBpc1xuICAgICAqIHR5cGVkIGFzIGEgYEpTT05PYmplY3RgOyBidXQgdGhlIGFjdHVhbCBleHBlY3RlZCB0eXBlIGlzOiBgSU1haW5BcmVhYC5cbiAgICAgKlxuICAgICAqIEZvciBmYXVsdCB0b2xlcmFuY2UsIHR5cGVzIGFyZSBtYW51YWxseSBjaGVja2VkIGluIGRlc2VyaWFsaXphdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZXNlcmlhbGl6ZU1haW4oYXJlYSwgbmFtZXMpIHtcbiAgICAgICAgaWYgKCFhcmVhKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYW1lID0gYXJlYS5jdXJyZW50IHx8IG51bGw7XG4gICAgICAgIGNvbnN0IGRvY2sgPSBhcmVhLmRvY2sgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgbW9kZSA9IGFyZWEubW9kZSB8fCBudWxsO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3VycmVudFdpZGdldDogKG5hbWUgJiYgbmFtZXMuaGFzKG5hbWUpICYmIG5hbWVzLmdldChuYW1lKSkgfHwgbnVsbCxcbiAgICAgICAgICAgIGRvY2s6IGRvY2sgPyB7IG1haW46IGRlc2VyaWFsaXplQXJlYShkb2NrLCBuYW1lcykgfSA6IG51bGwsXG4gICAgICAgICAgICBtb2RlOiBtb2RlID09PSAnbXVsdGlwbGUtZG9jdW1lbnQnIHx8IG1vZGUgPT09ICdzaW5nbGUtZG9jdW1lbnQnID8gbW9kZSA6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgUHJpdmF0ZS5kZXNlcmlhbGl6ZU1haW4gPSBkZXNlcmlhbGl6ZU1haW47XG59KShQcml2YXRlIHx8IChQcml2YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxheW91dHJlc3RvcmVyLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMjIgMjInIHN0eWxlPSdlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyIDIyOycgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyBjbGFzcz0nanAtaWNvbi13YXJuMSBqcC1pY29uLXNlbGVjdGFibGUnIGZpbGw9JyUyM0Y5QTgyNScgJTNFICUzQ3BhdGggZD0nTTIwLjIsMTEuOGMtMS42LDAtMS43LDAuNS0xLjcsMWMwLDAuNCwwLjEsMC45LDAuMSwxLjNjMC4xLDAuNSwwLjEsMC45LDAuMSwxLjNjMCwxLjctMS40LDIuMy0zLjUsMi4zaC0wLjkgdi0xLjloMC41YzEuMSwwLDEuNCwwLDEuNC0wLjhjMC0wLjMsMC0wLjYtMC4xLTFjMC0wLjQtMC4xLTAuOC0wLjEtMS4yYzAtMS4zLDAtMS44LDEuMy0ybDAsMGMtMS4zLTAuMi0xLjMtMC43LTEuMy0yIGMwLTAuNCwwLjEtMC44LDAuMS0xLjJjMC4xLTAuNCwwLjEtMC43LDAuMS0xYzAtMC44LTAuNC0wLjctMS40LTAuOGgtMC41VjQuMWgwLjljMi4yLDAsMy41LDAuNywzLjUsMi4zYzAsMC40LTAuMSwwLjktMC4xLDEuMyBjLTAuMSwwLjUtMC4xLDAuOS0wLjEsMS4zYzAsMC41LDAuMiwxLDEuNywxQzIwLjIsMTAsMjAuMiwxMS44LDIwLjIsMTEuOHonLyUzRSAlM0NwYXRoIGQ9J00xLjgsMTAuMWMxLjYsMCwxLjctMC41LDEuNy0xYzAtMC40LTAuMS0wLjktMC4xLTEuM0MzLjMsNy4zLDMuMyw2LjksMy4zLDYuNWMwLTEuNiwxLjQtMi4zLDMuNS0yLjNoMC45IHYxLjlINy4yYy0xLDAtMS40LDAtMS40LDAuOGMwLDAuMywwLDAuNiwwLjEsMWMwLDAuMiwwLjEsMC42LDAuMSwxYzAsMS4zLDAsMS44LTEuMywybDAsMEM2LDExLjIsNiwxMS43LDYsMTMgYzAsMC40LTAuMSwwLjgtMC4xLDEuMmMtMC4xLDAuMy0wLjEsMC43LTAuMSwxQzUuOCwxNiw2LjEsMTYsNy4yLDE2aDAuNXYxLjlINi44Yy0yLjEsMC0zLjUtMC42LTMuNS0yLjNjMC0wLjQsMC4xLTAuOSwwLjEtMS4zIGMwLjEtMC41LDAuMS0wLjksMC4xLTEuM2MwLTAuNS0wLjItMS0xLjctMVYxMC4xeicvJTNFICUzQ2NpcmNsZSBjeD0nMTEnIGN5PScxMy44JyByPScyLjEnLyUzRSAlM0NjaXJjbGUgY3g9JzExJyBjeT0nOC4yJyByPScyLjEnLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgdmVyc2lvbj1cXFwiMS4xXFxcIiBpZD1cXFwiTGF5ZXJfMVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgeD1cXFwiMHB4XFxcIiB5PVxcXCIwcHhcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMiAyMlxcXCIgc3R5bGU9XFxcImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjIgMjI7XFxcIiB4bWw6c3BhY2U9XFxcInByZXNlcnZlXFxcIj5cXG5cXHQ8Z1xcblxcdFxcdGNsYXNzPVxcXCJqcC1pY29uLXdhcm4xIGpwLWljb24tc2VsZWN0YWJsZVxcXCJcXG5cXHRcXHRmaWxsPVxcXCIjRjlBODI1XFxcIlxcblxcdD5cXG5cXHRcXHQ8cGF0aCBkPVxcXCJNMjAuMiwxMS44Yy0xLjYsMC0xLjcsMC41LTEuNywxYzAsMC40LDAuMSwwLjksMC4xLDEuM2MwLjEsMC41LDAuMSwwLjksMC4xLDEuM2MwLDEuNy0xLjQsMi4zLTMuNSwyLjNoLTAuOSB2LTEuOWgwLjVjMS4xLDAsMS40LDAsMS40LTAuOGMwLTAuMywwLTAuNi0wLjEtMWMwLTAuNC0wLjEtMC44LTAuMS0xLjJjMC0xLjMsMC0xLjgsMS4zLTJsMCwwYy0xLjMtMC4yLTEuMy0wLjctMS4zLTIgYzAtMC40LDAuMS0wLjgsMC4xLTEuMmMwLjEtMC40LDAuMS0wLjcsMC4xLTFjMC0wLjgtMC40LTAuNy0xLjQtMC44aC0wLjVWNC4xaDAuOWMyLjIsMCwzLjUsMC43LDMuNSwyLjNjMCwwLjQtMC4xLDAuOS0wLjEsMS4zIGMtMC4xLDAuNS0wLjEsMC45LTAuMSwxLjNjMCwwLjUsMC4yLDEsMS43LDFDMjAuMiwxMCwyMC4yLDExLjgsMjAuMiwxMS44elxcXCIvPlxcblxcdFxcdDxwYXRoIGQ9XFxcIk0xLjgsMTAuMWMxLjYsMCwxLjctMC41LDEuNy0xYzAtMC40LTAuMS0wLjktMC4xLTEuM0MzLjMsNy4zLDMuMyw2LjksMy4zLDYuNWMwLTEuNiwxLjQtMi4zLDMuNS0yLjNoMC45IHYxLjlINy4yYy0xLDAtMS40LDAtMS40LDAuOGMwLDAuMywwLDAuNiwwLjEsMWMwLDAuMiwwLjEsMC42LDAuMSwxYzAsMS4zLDAsMS44LTEuMywybDAsMEM2LDExLjIsNiwxMS43LDYsMTMgYzAsMC40LTAuMSwwLjgtMC4xLDEuMmMtMC4xLDAuMy0wLjEsMC43LTAuMSwxQzUuOCwxNiw2LjEsMTYsNy4yLDE2aDAuNXYxLjlINi44Yy0yLjEsMC0zLjUtMC42LTMuNS0yLjNjMC0wLjQsMC4xLTAuOSwwLjEtMS4zIGMwLjEtMC41LDAuMS0wLjksMC4xLTEuM2MwLTAuNS0wLjItMS0xLjctMVYxMC4xelxcXCIvPlxcblxcdFxcdDxjaXJjbGUgY3g9XFxcIjExXFxcIiBjeT1cXFwiMTMuOFxcXCIgcj1cXFwiMi4xXFxcIi8+XFxuXFx0XFx0PGNpcmNsZSBjeD1cXFwiMTFcXFwiIGN5PVxcXCI4LjJcXFwiIHI9XFxcIjIuMVxcXCIvPlxcblxcdDwvZz5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBzdHlsZSB9IGZyb20gJ3R5cGVzdHlsZS9saWInO1xuZXhwb3J0IGNvbnN0IGhvdmVySXRlbSA9IHN0eWxlKHtcbiAgICBib3hTaGFkb3c6ICcwcHggNHB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMjUpJ1xufSk7XG5leHBvcnQgY29uc3QgbGluZUZvcm1TZWFyY2ggPSBzdHlsZSh7XG4gICAgcGFkZGluZzogJzRweCAxMnB4JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1qcC1sYXlvdXQtY29sb3IyKScsXG4gICAgYm94U2hhZG93OiAndmFyKC0tanAtdG9vbGJhci1ib3gtc2hhZG93KScsXG4gICAgekluZGV4OiAyLFxuICAgIGZvbnRTaXplOiAndmFyKC0tanAtdWktZm9udC1zaXplMSknXG59KTtcbmV4cG9ydCBjb25zdCBsaW5lRm9ybUNhcHRpb24gPSBzdHlsZSh7XG4gICAgZm9udFNpemU6ICd2YXIoLS1qcC11aS1mb250LXNpemUwKScsXG4gICAgbGluZUhlaWdodDogJ3ZhcigtLWpwLXVpLWZvbnQtc2l6ZTEpJyxcbiAgICBtYXJnaW5Ub3A6ICc0cHgnLFxuICAgIGNvbG9yOiAndmFyKC0tanAtdWktZm9udC1jb2xvcjApJ1xufSk7XG5leHBvcnQgY29uc3QgYmFzZUxpbmVGb3JtID0ge1xuICAgIGJvcmRlcjogJ25vbmUnLFxuICAgIGJvcmRlclJhZGl1czogJzBweCcsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgYmFja2dyb3VuZFNpemU6ICcxNnB4JyxcbiAgICBiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXInLFxuICAgIG91dGxpbmU6ICdub25lJyxcbiAgICB0b3A6ICcwcHgnLFxuICAgIHJpZ2h0OiAnMHB4J1xufTtcbmV4cG9ydCBjb25zdCBsaW5lRm9ybUJ1dHRvbkRpdiA9IHN0eWxlKGJhc2VMaW5lRm9ybSwge1xuICAgIHRvcDogJzRweCcsXG4gICAgcmlnaHQ6ICc4cHgnLFxuICAgIGhlaWdodDogJzI0cHgnLFxuICAgIHBhZGRpbmc6ICcwcHggMTJweCcsXG4gICAgd2lkdGg6ICcxMnB4J1xufSk7XG5leHBvcnQgY29uc3QgbGluZUZvcm1CdXR0b25JY29uID0gc3R5bGUoYmFzZUxpbmVGb3JtLCB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAndmFyKC0tanAtYnJhbmQtY29sb3IxKScsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICBwYWRkaW5nOiAnNHB4IDZweCdcbn0pO1xuZXhwb3J0IGNvbnN0IGxpbmVGb3JtQnV0dG9uID0gc3R5bGUoYmFzZUxpbmVGb3JtLCB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbn0pO1xuZXhwb3J0IGNvbnN0IGxpbmVGb3JtV3JhcHBlciA9IHN0eWxlKHtcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgcGFkZGluZzogJzBweCA4cHgnLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1qcC1ib3JkZXItY29sb3IwKScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAndmFyKC0tanAtaW5wdXQtYWN0aXZlLWJhY2tncm91bmQpJyxcbiAgICBoZWlnaHQ6ICcyMnB4J1xufSk7XG5leHBvcnQgY29uc3QgbGluZUZvcm1XcmFwcGVyRm9jdXNXaXRoaW4gPSBzdHlsZSh7XG4gICAgYm9yZGVyOiAndmFyKC0tanAtYm9yZGVyLXdpZHRoKSBzb2xpZCB2YXIoLS1tZC1ibHVlLTUwMCknLFxuICAgIGJveFNoYWRvdzogJ2luc2V0IDAgMCA0cHggdmFyKC0tbWQtYmx1ZS0zMDApJ1xufSk7XG5leHBvcnQgY29uc3QgbGluZUZvcm1JbnB1dCA9IHN0eWxlKHtcbiAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuICAgIHdpZHRoOiAnMjAwcHgnLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIGJvcmRlcjogJ25vbmUnLFxuICAgIG91dGxpbmU6ICdub25lJyxcbiAgICBjb2xvcjogJ3ZhcigtLWpwLXVpLWZvbnQtY29sb3IwKScsXG4gICAgbGluZUhlaWdodDogJzI4cHgnXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpbmVGb3JtLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XG4gICAgcmVzdWx0W1wiZGVmYXVsdFwiXSA9IG1vZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IFRlcm1pbmFsID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3Rlcm1pbmFsXCIpKTtcbmV4cG9ydHMuVGVybWluYWwgPSBUZXJtaW5hbDtcbmNvbnN0IFRlcm1pbmFsQVBJID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL3Jlc3RhcGlcIikpO1xuZXhwb3J0cy5UZXJtaW5hbEFQSSA9IFRlcm1pbmFsQVBJO1xuX19leHBvcnQocmVxdWlyZShcIi4vbWFuYWdlclwiKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cImNvZGVtaXJyb3JcIi8+XG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cImNvZGVtaXJyb3Ivc2VhcmNoY3Vyc29yXCIvPlxudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IENvZGVNaXJyb3IgZnJvbSAnY29kZW1pcnJvcic7XG5pbXBvcnQgeyBzaG93RGlhbG9nIH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwdXRpbHMnO1xuaW1wb3J0IHsgQ29kZUVkaXRvciB9IGZyb20gJ0BqdXB5dGVybGFiL2NvZGVlZGl0b3InO1xuaW1wb3J0IHsgQXJyYXlFeHQgfSBmcm9tICdAbHVtaW5vL2FsZ29yaXRobSc7XG5pbXBvcnQgeyBKU09ORXh0LCBVVUlEIH0gZnJvbSAnQGx1bWluby9jb3JldXRpbHMnO1xuaW1wb3J0IHsgUG9sbCB9IGZyb20gJ0BsdW1pbm8vcG9sbGluZyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlRGVsZWdhdGUgfSBmcm9tICdAbHVtaW5vL2Rpc3Bvc2FibGUnO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSAnQGx1bWluby9zaWduYWxpbmcnO1xuaW1wb3J0IHsgTW9kZSB9IGZyb20gJy4vbW9kZSc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vY29tbWVudC9jb21tZW50LmpzJztcbmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9kaXNwbGF5L3J1bGVycy5qcyc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZWRpdC9tYXRjaGJyYWNrZXRzLmpzJztcbmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9lZGl0L2Nsb3NlYnJhY2tldHMuanMnO1xuaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQvZm9sZGNvZGUuanMnO1xuaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQvZm9sZGd1dHRlci5qcyc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vZm9sZC9icmFjZS1mb2xkLmpzJztcbmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9mb2xkL2luZGVudC1mb2xkLmpzJztcbmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9mb2xkL21hcmtkb3duLWZvbGQuanMnO1xuaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQveG1sLWZvbGQuanMnO1xuaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2ZvbGQvY29tbWVudC1mb2xkLmpzJztcbmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9zY3JvbGwvc2Nyb2xscGFzdGVuZC5qcyc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vc2VhcmNoL3NlYXJjaGN1cnNvcic7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vc2VhcmNoL3NlYXJjaCc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vc2VhcmNoL2p1bXAtdG8tbGluZSc7XG5pbXBvcnQgJ2NvZGVtaXJyb3IvYWRkb24vc2VsZWN0aW9uL2FjdGl2ZS1saW5lJztcbmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9zZWxlY3Rpb24vbWFyay1zZWxlY3Rpb24nO1xuaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL3NlbGVjdGlvbi9zZWxlY3Rpb24tcG9pbnRlcic7XG5pbXBvcnQgJ2NvZGVtaXJyb3Iva2V5bWFwL2VtYWNzLmpzJztcbmltcG9ydCAnY29kZW1pcnJvci9rZXltYXAvc3VibGltZS5qcyc7XG4vLyBpbXBvcnQgJ2NvZGVtaXJyb3Iva2V5bWFwL3ZpbS5qcyc7ICBsYXp5IGxvYWRpbmcgb2YgdmltIG1vZGUgaXMgYXZhaWxhYmxlIGluIC4uL2NvZGVtaXJyb3ItZXh0ZW5zaW9uL2luZGV4LnRzXG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIHRvIENvZGVNaXJyb3JXaWRnZXQgaW5zdGFuY2VzLlxuICovXG5jb25zdCBFRElUT1JfQ0xBU1MgPSAnanAtQ29kZU1pcnJvckVkaXRvcic7XG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIHRvIHJlYWQgb25seSBjZWxsIGVkaXRvciB3aWRnZXRzLlxuICovXG5jb25zdCBSRUFEX09OTFlfQ0xBU1MgPSAnanAtbW9kLXJlYWRPbmx5Jztcbi8qKlxuICogVGhlIGNsYXNzIG5hbWUgZm9yIHRoZSBob3ZlciBib3ggZm9yIGNvbGxhYm9yYXRvciBjdXJzb3JzLlxuICovXG5jb25zdCBDT0xMQUJPUkFUT1JfQ1VSU09SX0NMQVNTID0gJ2pwLUNvbGxhYm9yYXRvckN1cnNvcic7XG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGZvciB0aGUgaG92ZXIgYm94IGZvciBjb2xsYWJvcmF0b3IgY3Vyc29ycy5cbiAqL1xuY29uc3QgQ09MTEFCT1JBVE9SX0hPVkVSX0NMQVNTID0gJ2pwLUNvbGxhYm9yYXRvckN1cnNvci1ob3Zlcic7XG4vKipcbiAqIFRoZSBrZXkgY29kZSBmb3IgdGhlIHVwIGFycm93IGtleS5cbiAqL1xuY29uc3QgVVBfQVJST1cgPSAzODtcbi8qKlxuICogVGhlIGtleSBjb2RlIGZvciB0aGUgZG93biBhcnJvdyBrZXkuXG4gKi9cbmNvbnN0IERPV05fQVJST1cgPSA0MDtcbi8qKlxuICogVGhlIHRpbWUgdGhhdCBhIGNvbGxhYm9yYXRvciBuYW1lIGhvdmVyIHBlcnNpc3RzLlxuICovXG5jb25zdCBIT1ZFUl9USU1FT1VUID0gMTAwMDtcbi8qKlxuICogQ29kZU1pcnJvciBlZGl0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2RlTWlycm9yRWRpdG9yIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBDb2RlTWlycm9yIGVkaXRvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gZWl0aGVyIHRoZSB0b3Agb3IgYm90dG9tIGVkZ2UgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lZGdlUmVxdWVzdGVkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25NYXJrZXJzID0ge307XG4gICAgICAgIHRoaXMuX2tleWRvd25IYW5kbGVycyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VHdWFyZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl91dWlkID0gJyc7XG4gICAgICAgIHRoaXMuX25lZWRzUmVmcmVzaCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2xhc3RDaGFuZ2UgPSBudWxsO1xuICAgICAgICBsZXQgaG9zdCA9ICh0aGlzLmhvc3QgPSBvcHRpb25zLmhvc3QpO1xuICAgICAgICBob3N0LmNsYXNzTGlzdC5hZGQoRURJVE9SX0NMQVNTKTtcbiAgICAgICAgaG9zdC5jbGFzc0xpc3QuYWRkKCdqcC1FZGl0b3InKTtcbiAgICAgICAgaG9zdC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMsIHRydWUpO1xuICAgICAgICBob3N0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgaG9zdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fdXVpZCA9IG9wdGlvbnMudXVpZCB8fCBVVUlELnV1aWQ0KCk7XG4gICAgICAgIC8vIEhhbmRsZSBzZWxlY3Rpb24gc3R5bGUuXG4gICAgICAgIGxldCBzdHlsZSA9IG9wdGlvbnMuc2VsZWN0aW9uU3R5bGUgfHwge307XG4gICAgICAgIHRoaXMuX3NlbGVjdGlvblN0eWxlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBDb2RlRWRpdG9yLmRlZmF1bHRTZWxlY3Rpb25TdHlsZSksIHN0eWxlKTtcbiAgICAgICAgbGV0IG1vZGVsID0gKHRoaXMuX21vZGVsID0gb3B0aW9ucy5tb2RlbCk7XG4gICAgICAgIGxldCBjb25maWcgPSBvcHRpb25zLmNvbmZpZyB8fCB7fTtcbiAgICAgICAgbGV0IGZ1bGxDb25maWcgPSAodGhpcy5fY29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBDb2RlTWlycm9yRWRpdG9yLmRlZmF1bHRDb25maWcpLCBjb25maWcpKTtcbiAgICAgICAgbGV0IGVkaXRvciA9ICh0aGlzLl9lZGl0b3IgPSBQcml2YXRlLmNyZWF0ZUVkaXRvcihob3N0LCBmdWxsQ29uZmlnKSk7XG4gICAgICAgIGxldCBkb2MgPSBlZGl0b3IuZ2V0RG9jKCk7XG4gICAgICAgIC8vIEhhbmRsZSBpbml0aWFsIHZhbHVlcyBmb3IgdGV4dCwgbWltZXR5cGUsIGFuZCBzZWxlY3Rpb25zLlxuICAgICAgICBkb2Muc2V0VmFsdWUobW9kZWwudmFsdWUudGV4dCk7XG4gICAgICAgIHRoaXMuY2xlYXJIaXN0b3J5KCk7XG4gICAgICAgIHRoaXMuX29uTWltZVR5cGVDaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMuX29uQ3Vyc29yQWN0aXZpdHkoKTtcbiAgICAgICAgdGhpcy5fcG9sbCA9IG5ldyBQb2xsKHtcbiAgICAgICAgICAgIGZhY3Rvcnk6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1N5bmMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcmVxdWVuY3k6IHsgaW50ZXJ2YWw6IDMwMDAsIGJhY2tvZmY6IGZhbHNlIH0sXG4gICAgICAgICAgICBzdGFuZGJ5OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWYgY2hhbmdlZCwgb25seSBzdGFuZCBieSB3aGVuIGhpZGRlbiwgb3RoZXJ3aXNlIGFsd2F5cyBzdGFuZCBieS5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbGFzdENoYW5nZSA/ICd3aGVuLWhpZGRlbicgOiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ29ubmVjdCB0byBjaGFuZ2VzLlxuICAgICAgICBtb2RlbC52YWx1ZS5jaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25WYWx1ZUNoYW5nZWQsIHRoaXMpO1xuICAgICAgICBtb2RlbC5taW1lVHlwZUNoYW5nZWQuY29ubmVjdCh0aGlzLl9vbk1pbWVUeXBlQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIG1vZGVsLnNlbGVjdGlvbnMuY2hhbmdlZC5jb25uZWN0KHRoaXMuX29uU2VsZWN0aW9uc0NoYW5nZWQsIHRoaXMpO1xuICAgICAgICBDb2RlTWlycm9yLm9uKGVkaXRvciwgJ2tleWRvd24nLCAoZWRpdG9yLCBldmVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gQXJyYXlFeHQuZmluZEZpcnN0SW5kZXgodGhpcy5fa2V5ZG93bkhhbmRsZXJzLCBoYW5kbGVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcih0aGlzLCBldmVudCkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25LZXlkb3duKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIENvZGVNaXJyb3Iub24oZWRpdG9yLCAnY3Vyc29yQWN0aXZpdHknLCAoKSA9PiB0aGlzLl9vbkN1cnNvckFjdGl2aXR5KCkpO1xuICAgICAgICBDb2RlTWlycm9yLm9uKGVkaXRvci5nZXREb2MoKSwgJ2JlZm9yZUNoYW5nZScsIChpbnN0YW5jZSwgY2hhbmdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVEb2NDaGFuZ2VkKGluc3RhbmNlLCBjaGFuZ2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgQ29kZU1pcnJvci5vbihlZGl0b3IuZ2V0RG9jKCksICdjaGFuZ2UnLCAoaW5zdGFuY2UsIGNoYW5nZSkgPT4ge1xuICAgICAgICAgICAgLy8gTWFudWFsbHkgcmVmcmVzaCBhZnRlciBzZXRWYWx1ZSB0byBtYWtlIHN1cmUgZWRpdG9yIGlzIHByb3Blcmx5IHNpemVkLlxuICAgICAgICAgICAgaWYgKGNoYW5nZS5vcmlnaW4gPT09ICdzZXRWYWx1ZScgJiYgdGhpcy5oYXNGb2N1cygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2hhbmdlID0gY2hhbmdlO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gTWFudWFsbHkgcmVmcmVzaCBvbiBwYXN0ZSB0byBtYWtlIHN1cmUgZWRpdG9yIGlzIHByb3Blcmx5IHNpemVkLlxuICAgICAgICBlZGl0b3IuZ2V0V3JhcHBlckVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0ZvY3VzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB1dWlkIG9mIHRoaXMgZWRpdG9yO1xuICAgICAqL1xuICAgIGdldCB1dWlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXVpZDtcbiAgICB9XG4gICAgc2V0IHV1aWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdXVpZCA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2VsZWN0aW9uIHN0eWxlIG9mIHRoaXMgZWRpdG9yLlxuICAgICAqL1xuICAgIGdldCBzZWxlY3Rpb25TdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGlvblN0eWxlO1xuICAgIH1cbiAgICBzZXQgc2VsZWN0aW9uU3R5bGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0aW9uU3R5bGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb2RlbWlycm9yIGVkaXRvciB3cmFwcGVkIGJ5IHRoZSBlZGl0b3IuXG4gICAgICovXG4gICAgZ2V0IGVkaXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb2RlbWlycm9yIGRvYyB3cmFwcGVkIGJ5IHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgZ2V0IGRvYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvci5nZXREb2MoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgbGluZXMgaW4gdGhlIGVkaXRvci5cbiAgICAgKi9cbiAgICBnZXQgbGluZUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MubGluZUNvdW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBtb2RlbCBmb3IgdGhpcyBlZGl0b3IuXG4gICAgICovXG4gICAgZ2V0IG1vZGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgYSBsaW5lIGluIHRoZSBlZGl0b3IgaW4gcGl4ZWxzLlxuICAgICAqL1xuICAgIGdldCBsaW5lSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWRpdG9yLmRlZmF1bHRUZXh0SGVpZ2h0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB3aWRnZXQgb2YgYSBjaGFyYWN0ZXIgaW4gdGhlIGVkaXRvciBpbiBwaXhlbHMuXG4gICAgICovXG4gICAgZ2V0IGNoYXJXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvci5kZWZhdWx0Q2hhcldpZHRoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3RzIHdoZXRoZXIgdGhlIGVkaXRvciBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNEaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2Ugb2YgdGhlIHJlc291cmNlcyBoZWxkIGJ5IHRoZSB3aWRnZXQuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmhvc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgdGhpcy5ob3N0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLCB0cnVlKTtcbiAgICAgICAgdGhpcy5ob3N0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMsIHRydWUpO1xuICAgICAgICB0aGlzLl9rZXlkb3duSGFuZGxlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fcG9sbC5kaXNwb3NlKCk7XG4gICAgICAgIFNpZ25hbC5jbGVhckRhdGEodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGNvbmZpZyBvcHRpb24gZm9yIHRoZSBlZGl0b3IuXG4gICAgICovXG4gICAgZ2V0T3B0aW9uKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnW29wdGlvbl07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBhIGNvbmZpZyBvcHRpb24gZm9yIHRoZSBlZGl0b3IuXG4gICAgICovXG4gICAgc2V0T3B0aW9uKG9wdGlvbiwgdmFsdWUpIHtcbiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIHNldHRpbmcgdGhlIG9wdGlvbiBpZiBpdCBpcyBhbHJlYWR5IHRoZSBzYW1lLlxuICAgICAgICBpZiAodGhpcy5fY29uZmlnW29wdGlvbl0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWdbb3B0aW9uXSA9IHZhbHVlO1xuICAgICAgICAgICAgUHJpdmF0ZS5zZXRPcHRpb24odGhpcy5lZGl0b3IsIG9wdGlvbiwgdmFsdWUsIHRoaXMuX2NvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udGVudCBmb3IgdGhlIGdpdmVuIGxpbmUgbnVtYmVyLlxuICAgICAqL1xuICAgIGdldExpbmUobGluZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0TGluZShsaW5lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCBhbiBvZmZzZXQgZm9yIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBnZXRPZmZzZXRBdChwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuaW5kZXhGcm9tUG9zKHtcbiAgICAgICAgICAgIGNoOiBwb3NpdGlvbi5jb2x1bW4sXG4gICAgICAgICAgICBsaW5lOiBwb3NpdGlvbi5saW5lXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIGEgcG9zaXRpb24gZm9yIHRoZSBnaXZlbiBvZmZzZXQuXG4gICAgICovXG4gICAgZ2V0UG9zaXRpb25BdChvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgeyBjaCwgbGluZSB9ID0gdGhpcy5kb2MucG9zRnJvbUluZGV4KG9mZnNldCk7XG4gICAgICAgIHJldHVybiB7IGxpbmUsIGNvbHVtbjogY2ggfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5kbyBvbmUgZWRpdCAoaWYgYW55IHVuZG8gZXZlbnRzIGFyZSBzdG9yZWQpLlxuICAgICAqL1xuICAgIHVuZG8oKSB7XG4gICAgICAgIHRoaXMuZG9jLnVuZG8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVkbyBvbmUgdW5kb25lIGVkaXQuXG4gICAgICovXG4gICAgcmVkbygpIHtcbiAgICAgICAgdGhpcy5kb2MucmVkbygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgdW5kbyBoaXN0b3J5LlxuICAgICAqL1xuICAgIGNsZWFySGlzdG9yeSgpIHtcbiAgICAgICAgdGhpcy5kb2MuY2xlYXJIaXN0b3J5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJyaW5ncyBicm93c2VyIGZvY3VzIHRvIHRoaXMgZWRpdG9yIHRleHQuXG4gICAgICovXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHRoaXMuX2VkaXRvci5mb2N1cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IHdoZXRoZXIgdGhlIGVkaXRvciBoYXMga2V5Ym9hcmQgZm9jdXMuXG4gICAgICovXG4gICAgaGFzRm9jdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0b3IuZ2V0V3JhcHBlckVsZW1lbnQoKS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhwbGljaXRseSBibHVyIHRoZSBlZGl0b3IuXG4gICAgICovXG4gICAgYmx1cigpIHtcbiAgICAgICAgdGhpcy5fZWRpdG9yLmdldElucHV0RmllbGQoKS5ibHVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcGFpbnQgZWRpdG9yLlxuICAgICAqL1xuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuX2VkaXRvci5yZWZyZXNoKCk7XG4gICAgICAgIHRoaXMuX25lZWRzUmVmcmVzaCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoIHRoZSBlZGl0b3IgaWYgaXQgaXMgZm9jdXNlZDtcbiAgICAgKiBvdGhlcndpc2UgcG9zdHBvbmUgcmVmcmVzaGluZyB0aWxsIGZvY3VzaW5nLlxuICAgICAqL1xuICAgIHJlc2l6ZVRvRml0KCkge1xuICAgICAgICBpZiAodGhpcy5oYXNGb2N1cygpKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzUmVmcmVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xlYXJIb3ZlcigpO1xuICAgIH1cbiAgICAvLyB0b2RvOiBkb2NzLCBtYXliZSBkZWZpbmUgb3ZlcmxheSBvcHRpb25zIGFzIGEgdHlwZT9cbiAgICBhZGRPdmVybGF5KG1vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fZWRpdG9yLmFkZE92ZXJsYXkobW9kZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJlbW92ZU92ZXJsYXkobW9kZSkge1xuICAgICAgICB0aGlzLl9lZGl0b3IucmVtb3ZlT3ZlcmxheShtb2RlKTtcbiAgICB9XG4gICAgZ2V0U2VhcmNoQ3Vyc29yKHF1ZXJ5LCBzdGFydCwgY2FzZUZvbGQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvci5nZXREb2MoKS5nZXRTZWFyY2hDdXJzb3IocXVlcnksIHN0YXJ0LCBjYXNlRm9sZCk7XG4gICAgfVxuICAgIGdldEN1cnNvcihzdGFydCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWRpdG9yLmdldERvYygpLmdldEN1cnNvcihzdGFydCk7XG4gICAgfVxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvci5zdGF0ZTtcbiAgICB9XG4gICAgb3BlcmF0aW9uKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0b3Iub3BlcmF0aW9uKGZuKTtcbiAgICB9XG4gICAgZmlyc3RMaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWRpdG9yLmdldERvYygpLmZpcnN0TGluZSgpO1xuICAgIH1cbiAgICBsYXN0TGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvci5nZXREb2MoKS5sYXN0TGluZSgpO1xuICAgIH1cbiAgICBzY3JvbGxJbnRvVmlldyhwb3MsIG1hcmdpbikge1xuICAgICAgICB0aGlzLl9lZGl0b3Iuc2Nyb2xsSW50b1ZpZXcocG9zLCBtYXJnaW4pO1xuICAgIH1cbiAgICBjdXJzb3JDb29yZHMod2hlcmUsIG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkaXRvci5jdXJzb3JDb29yZHMod2hlcmUsIG1vZGUpO1xuICAgIH1cbiAgICBnZXRSYW5nZShmcm9tLCB0bywgc2VwZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0b3IuZ2V0RG9jKCkuZ2V0UmFuZ2UoZnJvbSwgdG8sIHNlcGVyYXRvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGtleWRvd24gaGFuZGxlciB0byB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZXIgLSBBIGtleWRvd24gaGFuZGxlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgZGlzcG9zYWJsZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlbW92ZSB0aGUgaGFuZGxlci5cbiAgICAgKi9cbiAgICBhZGRLZXlkb3duSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2tleWRvd25IYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGVEZWxlZ2F0ZSgoKSA9PiB7XG4gICAgICAgICAgICBBcnJheUV4dC5yZW1vdmVBbGxXaGVyZSh0aGlzLl9rZXlkb3duSGFuZGxlcnMsIHZhbCA9PiB2YWwgPT09IGhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzaXplIG9mIHRoZSBlZGl0b3IgaW4gcGl4ZWxzLlxuICAgICAqL1xuICAgIHNldFNpemUoZGltZW5zaW9uKSB7XG4gICAgICAgIGlmIChkaW1lbnNpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2VkaXRvci5zZXRTaXplKGRpbWVuc2lvbi53aWR0aCwgZGltZW5zaW9uLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lZGl0b3Iuc2V0U2l6ZShudWxsLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9uZWVkc1JlZnJlc2ggPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV2ZWFsIHRoZSBnaXZlbiBwb3NpdGlvbiBpbiB0aGUgZWRpdG9yLlxuICAgICAqL1xuICAgIHJldmVhbFBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNtUG9zaXRpb24gPSB0aGlzLl90b0NvZGVNaXJyb3JQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIHRoaXMuX2VkaXRvci5zY3JvbGxJbnRvVmlldyhjbVBvc2l0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV2ZWFsIHRoZSBnaXZlbiBzZWxlY3Rpb24gaW4gdGhlIGVkaXRvci5cbiAgICAgKi9cbiAgICByZXZlYWxTZWxlY3Rpb24oc2VsZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0ge1xuICAgICAgICAgICAgZnJvbTogdGhpcy5fdG9Db2RlTWlycm9yUG9zaXRpb24oc2VsZWN0aW9uLnN0YXJ0KSxcbiAgICAgICAgICAgIHRvOiB0aGlzLl90b0NvZGVNaXJyb3JQb3NpdGlvbihzZWxlY3Rpb24uZW5kKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9lZGl0b3Iuc2Nyb2xsSW50b1ZpZXcocmFuZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHdpbmRvdyBjb29yZGluYXRlcyBnaXZlbiBhIGN1cnNvciBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBnZXRDb29yZGluYXRlRm9yUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fdG9Db2RlTWlycm9yUG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5lZGl0b3IuY2hhckNvb3Jkcyhwb3MsICdwYWdlJyk7XG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnNvciBwb3NpdGlvbiBnaXZlbiB3aW5kb3cgY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29vcmRpbmF0ZSAtIFRoZSBkZXNpcmVkIGNvb3JkaW5hdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcG9zaXRpb24gb2YgdGhlIGNvb3JkaW5hdGVzLCBvciBudWxsIGlmIG5vdFxuICAgICAqICAgY29udGFpbmVkIGluIHRoZSBlZGl0b3IuXG4gICAgICovXG4gICAgZ2V0UG9zaXRpb25Gb3JDb29yZGluYXRlKGNvb3JkaW5hdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvUG9zaXRpb24odGhpcy5lZGl0b3IuY29vcmRzQ2hhcihjb29yZGluYXRlKSkgfHwgbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJpbWFyeSBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yLCBuZXZlciBgbnVsbGAuXG4gICAgICovXG4gICAgZ2V0Q3Vyc29yUG9zaXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHRoaXMuZG9jLmdldEN1cnNvcigpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9Qb3NpdGlvbihjdXJzb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHByaW1hcnkgcG9zaXRpb24gb2YgdGhlIGN1cnNvci5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIHdpbGwgcmVtb3ZlIGFueSBzZWNvbmRhcnkgY3Vyc29ycy5cbiAgICAgKi9cbiAgICBzZXRDdXJzb3JQb3NpdGlvbihwb3NpdGlvbiwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLl90b0NvZGVNaXJyb3JQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIHRoaXMuZG9jLnNldEN1cnNvcihjdXJzb3IsIHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gICAgICAgIC8vIElmIHRoZSBlZGl0b3IgZG9lcyBub3QgaGF2ZSBmb2N1cywgdGhpcyBjdXJzb3IgY2hhbmdlXG4gICAgICAgIC8vIHdpbGwgZ2V0IHNjcmVlbmVkIG91dCBpbiBfb25DdXJzb3JzQ2hhbmdlZCgpLiBNYWtlIGFuXG4gICAgICAgIC8vIGV4Y2VwdGlvbiBmb3IgdGhpcyBtZXRob2QuXG4gICAgICAgIGlmICghdGhpcy5lZGl0b3IuaGFzRm9jdXMoKSkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZWxlY3Rpb25zLnNldCh0aGlzLnV1aWQsIHRoaXMuZ2V0U2VsZWN0aW9ucygpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcmltYXJ5IHNlbGVjdGlvbiwgbmV2ZXIgYG51bGxgLlxuICAgICAqL1xuICAgIGdldFNlbGVjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9ucygpWzBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHByaW1hcnkgc2VsZWN0aW9uLiBUaGlzIHdpbGwgcmVtb3ZlIGFueSBzZWNvbmRhcnkgY3Vyc29ycy5cbiAgICAgKi9cbiAgICBzZXRTZWxlY3Rpb24oc2VsZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0aW9ucyhbc2VsZWN0aW9uXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNlbGVjdGlvbnMgZm9yIGFsbCB0aGUgY3Vyc29ycywgbmV2ZXIgYG51bGxgIG9yIGVtcHR5LlxuICAgICAqL1xuICAgIGdldFNlbGVjdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSB0aGlzLmRvYy5saXN0U2VsZWN0aW9ucygpO1xuICAgICAgICBpZiAoc2VsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9ucy5tYXAoc2VsZWN0aW9uID0+IHRoaXMuX3RvU2VsZWN0aW9uKHNlbGVjdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHRoaXMuZG9jLmdldEN1cnNvcigpO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLl90b1NlbGVjdGlvbih7IGFuY2hvcjogY3Vyc29yLCBoZWFkOiBjdXJzb3IgfSk7XG4gICAgICAgIHJldHVybiBbc2VsZWN0aW9uXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc2VsZWN0aW9ucyBmb3IgYWxsIHRoZSBjdXJzb3JzLCBzaG91bGQgbm90IGJlIGVtcHR5LlxuICAgICAqIEN1cnNvcnMgd2lsbCBiZSByZW1vdmVkIG9yIGFkZGVkLCBhcyBuZWNlc3NhcnkuXG4gICAgICogUGFzc2luZyBhbiBlbXB0eSBhcnJheSByZXNldHMgYSBjdXJzb3IgcG9zaXRpb24gdG8gdGhlIHN0YXJ0IG9mIGEgZG9jdW1lbnQuXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9ucyhzZWxlY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IGNtU2VsZWN0aW9ucyA9IHRoaXMuX3RvQ29kZU1pcnJvclNlbGVjdGlvbnMoc2VsZWN0aW9ucyk7XG4gICAgICAgIHRoaXMuZG9jLnNldFNlbGVjdGlvbnMoY21TZWxlY3Rpb25zLCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGlzdCBvZiB0b2tlbnMgZm9yIHRoZSBjdXJyZW50IGVkaXRvciB0ZXh0IGNvbnRlbnQuXG4gICAgICovXG4gICAgZ2V0VG9rZW5zKCkge1xuICAgICAgICBsZXQgdG9rZW5zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW5lQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbGluZVRva2VucyA9IHRoaXMuZWRpdG9yLmdldExpbmVUb2tlbnMoaSkubWFwKHQgPT4gKHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHRoaXMuZ2V0T2Zmc2V0QXQoeyBjb2x1bW46IHQuc3RhcnQsIGxpbmU6IGkgfSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHQuc3RyaW5nLFxuICAgICAgICAgICAgICAgIHR5cGU6IHQudHlwZSB8fCAnJ1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdG9rZW5zID0gdG9rZW5zLmNvbmNhdChsaW5lVG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRva2VuIGF0IGEgZ2l2ZW4gZWRpdG9yIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGdldFRva2VuRm9yUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLl90b0NvZGVNaXJyb3JQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IHRva2VuID0gdGhpcy5lZGl0b3IuZ2V0VG9rZW5BdChjdXJzb3IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLmdldE9mZnNldEF0KHsgY29sdW1uOiB0b2tlbi5zdGFydCwgbGluZTogY3Vyc29yLmxpbmUgfSksXG4gICAgICAgICAgICB2YWx1ZTogdG9rZW4uc3RyaW5nLFxuICAgICAgICAgICAgdHlwZTogKF9hID0gdG9rZW4udHlwZSwgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCkpXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydCBhIG5ldyBpbmRlbnRlZCBsaW5lIGF0IHRoZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBuZXdJbmRlbnRlZExpbmUoKSB7XG4gICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoJ25ld2xpbmVBbmRJbmRlbnQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBhIGNvZGVtaXJyb3IgY29tbWFuZCBvbiB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbW1hbmQgLSBUaGUgbmFtZSBvZiB0aGUgY29tbWFuZCB0byBleGVjdXRlLlxuICAgICAqL1xuICAgIGV4ZWNDb21tYW5kKGNvbW1hbmQpIHtcbiAgICAgICAgdGhpcy5fZWRpdG9yLmV4ZWNDb21tYW5kKGNvbW1hbmQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUga2V5ZG93biBldmVudHMgZnJvbSB0aGUgZWRpdG9yLlxuICAgICAqL1xuICAgIG9uS2V5ZG93bihldmVudCkge1xuICAgICAgICBsZXQgcG9zaXRpb24gPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIGxldCB7IGxpbmUsIGNvbHVtbiB9ID0gcG9zaXRpb247XG4gICAgICAgIGlmIChsaW5lID09PSAwICYmIGNvbHVtbiA9PT0gMCAmJiBldmVudC5rZXlDb2RlID09PSBVUF9BUlJPVykge1xuICAgICAgICAgICAgaWYgKCFldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRnZVJlcXVlc3RlZC5lbWl0KCd0b3AnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZSA9PT0gMCAmJiBldmVudC5rZXlDb2RlID09PSBVUF9BUlJPVykge1xuICAgICAgICAgICAgaWYgKCFldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRnZVJlcXVlc3RlZC5lbWl0KCd0b3BMaW5lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxhc3RMaW5lID0gdGhpcy5saW5lQ291bnQgLSAxO1xuICAgICAgICBsZXQgbGFzdENoID0gdGhpcy5nZXRMaW5lKGxhc3RMaW5lKS5sZW5ndGg7XG4gICAgICAgIGlmIChsaW5lID09PSBsYXN0TGluZSAmJlxuICAgICAgICAgICAgY29sdW1uID09PSBsYXN0Q2ggJiZcbiAgICAgICAgICAgIGV2ZW50LmtleUNvZGUgPT09IERPV05fQVJST1cpIHtcbiAgICAgICAgICAgIGlmICghZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVkZ2VSZXF1ZXN0ZWQuZW1pdCgnYm90dG9tJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBzZWxlY3Rpb25zIHRvIGNvZGUgbWlycm9yIHNlbGVjdGlvbnMuXG4gICAgICovXG4gICAgX3RvQ29kZU1pcnJvclNlbGVjdGlvbnMoc2VsZWN0aW9ucykge1xuICAgICAgICBpZiAoc2VsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9ucy5tYXAoc2VsZWN0aW9uID0+IHRoaXMuX3RvQ29kZU1pcnJvclNlbGVjdGlvbihzZWxlY3Rpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHsgbGluZTogMCwgY2g6IDAgfTtcbiAgICAgICAgcmV0dXJuIFt7IGFuY2hvcjogcG9zaXRpb24sIGhlYWQ6IHBvc2l0aW9uIH1dO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbWltZSB0eXBlIGNoYW5nZS5cbiAgICAgKi9cbiAgICBfb25NaW1lVHlwZUNoYW5nZWQoKSB7XG4gICAgICAgIGNvbnN0IG1pbWUgPSB0aGlzLl9tb2RlbC5taW1lVHlwZTtcbiAgICAgICAgbGV0IGVkaXRvciA9IHRoaXMuX2VkaXRvcjtcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHdlIHByb3ZpZGUgYSBob29rIGZvciB3aGVuIHRoZVxuICAgICAgICAvLyBtb2RlIGlzIGRvbmUgYmVpbmcgc2V0P1xuICAgICAgICB2b2lkIE1vZGUuZW5zdXJlKG1pbWUpLnRoZW4oc3BlYyA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgZWRpdG9yLnNldE9wdGlvbignbW9kZScsIChfYiA9IChfYSA9IHNwZWMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5taW1lLCAoX2IgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ251bGwnKSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGV4dHJhS2V5cyA9IGVkaXRvci5nZXRPcHRpb24oJ2V4dHJhS2V5cycpIHx8IHt9O1xuICAgICAgICBjb25zdCBpc0NvZGUgPSBtaW1lICE9PSAndGV4dC9wbGFpbicgJiYgbWltZSAhPT0gJ3RleHQveC1pcHl0aG9uZ2ZtJztcbiAgICAgICAgaWYgKGlzQ29kZSkge1xuICAgICAgICAgICAgZXh0cmFLZXlzWydCYWNrc3BhY2UnXSA9ICdkZWxTcGFjZVRvUHJldlRhYlN0b3AnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIGV4dHJhS2V5c1snQmFja3NwYWNlJ107XG4gICAgICAgIH1cbiAgICAgICAgZWRpdG9yLnNldE9wdGlvbignZXh0cmFLZXlzJywgZXh0cmFLZXlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHNlbGVjdGlvbnMgY2hhbmdlLlxuICAgICAqL1xuICAgIF9vblNlbGVjdGlvbnNDaGFuZ2VkKHNlbGVjdGlvbnMsIGFyZ3MpIHtcbiAgICAgICAgY29uc3QgdXVpZCA9IGFyZ3Mua2V5O1xuICAgICAgICBpZiAodXVpZCAhPT0gdGhpcy51dWlkKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhblNlbGVjdGlvbnModXVpZCk7XG4gICAgICAgICAgICBpZiAoYXJncy50eXBlICE9PSAncmVtb3ZlJyAmJiBhcmdzLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFya1NlbGVjdGlvbnModXVpZCwgYXJncy5uZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gc2VsZWN0aW9ucyBmb3IgdGhlIGdpdmVuIHV1aWQuXG4gICAgICovXG4gICAgX2NsZWFuU2VsZWN0aW9ucyh1dWlkKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLnNlbGVjdGlvbk1hcmtlcnNbdXVpZF07XG4gICAgICAgIGlmIChtYXJrZXJzKSB7XG4gICAgICAgICAgICBtYXJrZXJzLmZvckVhY2gobWFya2VyID0+IHtcbiAgICAgICAgICAgICAgICBtYXJrZXIuY2xlYXIoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNlbGVjdGlvbk1hcmtlcnNbdXVpZF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmtzIHNlbGVjdGlvbnMuXG4gICAgICovXG4gICAgX21hcmtTZWxlY3Rpb25zKHV1aWQsIHNlbGVjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbWFya2VycyA9IFtdO1xuICAgICAgICAvLyBJZiB3ZSBhcmUgbWFya2luZyBzZWxlY3Rpb25zIGNvcnJlc3BvbmRpbmcgdG8gYW4gYWN0aXZlIGhvdmVyLFxuICAgICAgICAvLyByZW1vdmUgaXQuXG4gICAgICAgIGlmICh1dWlkID09PSB0aGlzLl9ob3ZlcklkKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckhvdmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgY2FuIGlkIHRoZSBzZWxlY3Rpb24gdG8gYSBzcGVjaWZpYyBjb2xsYWJvcmF0b3IsXG4gICAgICAgIC8vIHVzZSB0aGF0IGluZm9ybWF0aW9uLlxuICAgICAgICBsZXQgY29sbGFib3JhdG9yO1xuICAgICAgICBpZiAodGhpcy5fbW9kZWwubW9kZWxEQi5jb2xsYWJvcmF0b3JzKSB7XG4gICAgICAgICAgICBjb2xsYWJvcmF0b3IgPSB0aGlzLl9tb2RlbC5tb2RlbERCLmNvbGxhYm9yYXRvcnMuZ2V0KHV1aWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0eWxlIGVhY2ggc2VsZWN0aW9uIGZvciB0aGUgdXVpZC5cbiAgICAgICAgc2VsZWN0aW9ucy5mb3JFYWNoKHNlbGVjdGlvbiA9PiB7XG4gICAgICAgICAgICAvLyBPbmx5IHJlbmRlciBzZWxlY3Rpb25zIGlmIHRoZSBzdGFydCBpcyBub3QgZXF1YWwgdG8gdGhlIGVuZC5cbiAgICAgICAgICAgIC8vIEluIHRoYXQgY2FzZSwgd2UgZG9uJ3QgbmVlZCB0byByZW5kZXIgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIGlmICghSlNPTkV4dC5kZWVwRXF1YWwoc2VsZWN0aW9uLnN0YXJ0LCBzZWxlY3Rpb24uZW5kKSkge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdGlvbnMgb25seSBhcHBlYXIgdG8gcmVuZGVyIGNvcnJlY3RseSBpZiB0aGUgYW5jaG9yXG4gICAgICAgICAgICAgICAgLy8gaXMgYmVmb3JlIHRoZSBoZWFkIGluIHRoZSBkb2N1bWVudC4gVGhhdCBpcywgcmV2ZXJzZSBzZWxlY3Rpb25zXG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IGFwcGVhciBhcyBpbnRlbmRlZC5cbiAgICAgICAgICAgICAgICBsZXQgZm9yd2FyZCA9IHNlbGVjdGlvbi5zdGFydC5saW5lIDwgc2VsZWN0aW9uLmVuZC5saW5lIHx8XG4gICAgICAgICAgICAgICAgICAgIChzZWxlY3Rpb24uc3RhcnQubGluZSA9PT0gc2VsZWN0aW9uLmVuZC5saW5lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc3RhcnQuY29sdW1uIDw9IHNlbGVjdGlvbi5lbmQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBsZXQgYW5jaG9yID0gdGhpcy5fdG9Db2RlTWlycm9yUG9zaXRpb24oZm9yd2FyZCA/IHNlbGVjdGlvbi5zdGFydCA6IHNlbGVjdGlvbi5lbmQpO1xuICAgICAgICAgICAgICAgIGxldCBoZWFkID0gdGhpcy5fdG9Db2RlTWlycm9yUG9zaXRpb24oZm9yd2FyZCA/IHNlbGVjdGlvbi5lbmQgOiBzZWxlY3Rpb24uc3RhcnQpO1xuICAgICAgICAgICAgICAgIGxldCBtYXJrZXJPcHRpb25zO1xuICAgICAgICAgICAgICAgIGlmIChjb2xsYWJvcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyT3B0aW9ucyA9IHRoaXMuX3RvVGV4dE1hcmtlck9wdGlvbnMoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzZWxlY3Rpb24uc3R5bGUpLCB7IGNvbG9yOiBjb2xsYWJvcmF0b3IuY29sb3IgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyT3B0aW9ucyA9IHRoaXMuX3RvVGV4dE1hcmtlck9wdGlvbnMoc2VsZWN0aW9uLnN0eWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFya2Vycy5wdXNoKHRoaXMuZG9jLm1hcmtUZXh0KGFuY2hvciwgaGVhZCwgbWFya2VyT3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29sbGFib3JhdG9yKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNhcmV0ID0gdGhpcy5fZ2V0Q2FyZXQoY29sbGFib3JhdG9yKTtcbiAgICAgICAgICAgICAgICBtYXJrZXJzLnB1c2godGhpcy5kb2Muc2V0Qm9va21hcmsodGhpcy5fdG9Db2RlTWlycm9yUG9zaXRpb24oc2VsZWN0aW9uLmVuZCksIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0OiBjYXJldFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTWFya2Vyc1t1dWlkXSA9IG1hcmtlcnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBjdXJzb3IgYWN0aXZpdHkgZXZlbnQuXG4gICAgICovXG4gICAgX29uQ3Vyc29yQWN0aXZpdHkoKSB7XG4gICAgICAgIC8vIE9ubHkgYWRkIHNlbGVjdGlvbnMgaWYgdGhlIGVkaXRvciBoYXMgZm9jdXMuIFRoaXMgYXZvaWRzIHVud2FudGVkXG4gICAgICAgIC8vIHRyaWdnZXJpbmcgb2YgY3Vyc29yIGFjdGl2aXR5IGR1ZSB0byBjb2xsYWJvcmF0b3IgYWN0aW9ucy5cbiAgICAgICAgaWYgKHRoaXMuX2VkaXRvci5oYXNGb2N1cygpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25zID0gdGhpcy5nZXRTZWxlY3Rpb25zKCk7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNlbGVjdGlvbnMuc2V0KHRoaXMudXVpZCwgc2VsZWN0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBjb2RlIG1pcnJvciBzZWxlY3Rpb24gdG8gYW4gZWRpdG9yIHNlbGVjdGlvbi5cbiAgICAgKi9cbiAgICBfdG9TZWxlY3Rpb24oc2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1dWlkOiB0aGlzLnV1aWQsXG4gICAgICAgICAgICBzdGFydDogdGhpcy5fdG9Qb3NpdGlvbihzZWxlY3Rpb24uYW5jaG9yKSxcbiAgICAgICAgICAgIGVuZDogdGhpcy5fdG9Qb3NpdGlvbihzZWxlY3Rpb24uaGVhZCksXG4gICAgICAgICAgICBzdHlsZTogdGhpcy5zZWxlY3Rpb25TdHlsZVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgc2VsZWN0aW9uIHN0eWxlIHRvIGEgdGV4dCBtYXJrZXIgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBfdG9UZXh0TWFya2VyT3B0aW9ucyhzdHlsZSkge1xuICAgICAgICBsZXQgciA9IHBhcnNlSW50KHN0eWxlLmNvbG9yLnNsaWNlKDEsIDMpLCAxNik7XG4gICAgICAgIGxldCBnID0gcGFyc2VJbnQoc3R5bGUuY29sb3Iuc2xpY2UoMywgNSksIDE2KTtcbiAgICAgICAgbGV0IGIgPSBwYXJzZUludChzdHlsZS5jb2xvci5zbGljZSg1LCA3KSwgMTYpO1xuICAgICAgICBsZXQgY3NzID0gYGJhY2tncm91bmQtY29sb3I6IHJnYmEoICR7cn0sICR7Z30sICR7Yn0sIDAuMTUpYDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogc3R5bGUuY2xhc3NOYW1lLFxuICAgICAgICAgICAgdGl0bGU6IHN0eWxlLmRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgY3NzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIGVkaXRvciBzZWxlY3Rpb24gdG8gYSBjb2RlIG1pcnJvciBzZWxlY3Rpb24uXG4gICAgICovXG4gICAgX3RvQ29kZU1pcnJvclNlbGVjdGlvbihzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFuY2hvcjogdGhpcy5fdG9Db2RlTWlycm9yUG9zaXRpb24oc2VsZWN0aW9uLnN0YXJ0KSxcbiAgICAgICAgICAgIGhlYWQ6IHRoaXMuX3RvQ29kZU1pcnJvclBvc2l0aW9uKHNlbGVjdGlvbi5lbmQpXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBjb2RlIG1pcnJvciBwb3NpdGlvbiB0byBhbiBlZGl0b3IgcG9zaXRpb24uXG4gICAgICovXG4gICAgX3RvUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpbmU6IHBvc2l0aW9uLmxpbmUsXG4gICAgICAgICAgICBjb2x1bW46IHBvc2l0aW9uLmNoXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYW4gZWRpdG9yIHBvc2l0aW9uIHRvIGEgY29kZSBtaXJyb3IgcG9zaXRpb24uXG4gICAgICovXG4gICAgX3RvQ29kZU1pcnJvclBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsaW5lOiBwb3NpdGlvbi5saW5lLFxuICAgICAgICAgICAgY2g6IHBvc2l0aW9uLmNvbHVtblxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbW9kZWwgdmFsdWUgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBfb25WYWx1ZUNoYW5nZWQodmFsdWUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZUd1YXJkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlR3VhcmQgPSB0cnVlO1xuICAgICAgICBsZXQgZG9jID0gdGhpcy5kb2M7XG4gICAgICAgIHN3aXRjaCAoYXJncy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBkb2MucG9zRnJvbUluZGV4KGFyZ3Muc3RhcnQpO1xuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIHJhbmdlLCBpbmNsdWRpbmcgYSAnK2lucHV0JyBvcmlnbixcbiAgICAgICAgICAgICAgICAvLyB3aGljaCBpbmRpY2F0ZXMgdGhhdCBDb2RlTWlycm9yIG1heSBtZXJnZSBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgLy8gZm9yIHVuZG8vcmVkbyBwdXJwb3Nlcy5cbiAgICAgICAgICAgICAgICBkb2MucmVwbGFjZVJhbmdlKGFyZ3MudmFsdWUsIHBvcywgcG9zLCAnK2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZW1vdmUnOlxuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gZG9jLnBvc0Zyb21JbmRleChhcmdzLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBsZXQgdG8gPSBkb2MucG9zRnJvbUluZGV4KGFyZ3MuZW5kKTtcbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSByYW5nZSwgaW5jbHVkaW5nIGEgJytpbnB1dCcgb3JpZ24sXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggaW5kaWNhdGVzIHRoYXQgQ29kZU1pcnJvciBtYXkgbWVyZ2UgY2hhbmdlc1xuICAgICAgICAgICAgICAgIC8vIGZvciB1bmRvL3JlZG8gcHVycG9zZXMuXG4gICAgICAgICAgICAgICAgZG9jLnJlcGxhY2VSYW5nZSgnJywgZnJvbSwgdG8sICcraW5wdXQnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NldCc6XG4gICAgICAgICAgICAgICAgZG9jLnNldFZhbHVlKGFyZ3MudmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGFuZ2VHdWFyZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGRvY3VtZW50IGNoYW5nZXMuXG4gICAgICovXG4gICAgX2JlZm9yZURvY0NoYW5nZWQoZG9jLCBjaGFuZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZUd1YXJkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlR3VhcmQgPSB0cnVlO1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLl9tb2RlbC52YWx1ZTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gZG9jLmluZGV4RnJvbVBvcyhjaGFuZ2UuZnJvbSk7XG4gICAgICAgIGxldCBlbmQgPSBkb2MuaW5kZXhGcm9tUG9zKGNoYW5nZS50byk7XG4gICAgICAgIGxldCBpbnNlcnRlZCA9IGNoYW5nZS50ZXh0LmpvaW4oJ1xcbicpO1xuICAgICAgICBpZiAoZW5kICE9PSBzdGFydCkge1xuICAgICAgICAgICAgdmFsdWUucmVtb3ZlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnNlcnRlZCkge1xuICAgICAgICAgICAgdmFsdWUuaW5zZXJ0KHN0YXJ0LCBpbnNlcnRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hhbmdlR3VhcmQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBET00gZXZlbnRzIGZvciB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIERPTSBldmVudCBzZW50IHRvIHRoZSBlZGl0b3IuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBtZXRob2QgaW1wbGVtZW50cyB0aGUgRE9NIGBFdmVudExpc3RlbmVyYCBpbnRlcmZhY2UgYW5kIGlzXG4gICAgICogY2FsbGVkIGluIHJlc3BvbnNlIHRvIGV2ZW50cyBvbiB0aGUgZWRpdG9yJ3MgRE9NIG5vZGUuIEl0IHNob3VsZFxuICAgICAqIG5vdCBiZSBjYWxsZWQgZGlyZWN0bHkgYnkgdXNlciBjb2RlLlxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZm9jdXMnOlxuICAgICAgICAgICAgICAgIHRoaXMuX2V2dEZvY3VzKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JsdXInOlxuICAgICAgICAgICAgICAgIHRoaXMuX2V2dEJsdXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2Nyb2xsJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9ldnRTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGBmb2N1c2AgZXZlbnRzIGZvciB0aGUgZWRpdG9yLlxuICAgICAqL1xuICAgIF9ldnRGb2N1cyhldmVudCkge1xuICAgICAgICBpZiAodGhpcy5fbmVlZHNSZWZyZXNoKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3QuY2xhc3NMaXN0LmFkZCgnanAtbW9kLWZvY3VzZWQnKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzZWxlY3Rpb25zIG9uIGVkaXRvciBnYWluaW5nIGZvY3VzIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIG9uQ3Vyc29yQWN0aXZpdHkgZnVuY3Rpb24gZmlsdGVycyB1c3VhbCBjdXJzb3IgZXZlbnRzXG4gICAgICAgIC8vIGJhc2VkIG9uIHRoZSBlZGl0b3IncyBmb2N1cy5cbiAgICAgICAgdGhpcy5fb25DdXJzb3JBY3Rpdml0eSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYGJsdXJgIGV2ZW50cyBmb3IgdGhlIGVkaXRvci5cbiAgICAgKi9cbiAgICBfZXZ0Qmx1cihldmVudCkge1xuICAgICAgICB0aGlzLmhvc3QuY2xhc3NMaXN0LnJlbW92ZSgnanAtbW9kLWZvY3VzZWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGBzY3JvbGxgIGV2ZW50cyBmb3IgdGhlIGVkaXRvci5cbiAgICAgKi9cbiAgICBfZXZ0U2Nyb2xsKCkge1xuICAgICAgICAvLyBSZW1vdmUgYW55IGFjdGl2ZSBob3Zlci5cbiAgICAgICAgdGhpcy5fY2xlYXJIb3ZlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgaG92ZXIgZm9yIGEgY2FyZXQsIGR1ZSB0byB0aGluZ3MgbGlrZVxuICAgICAqIHNjcm9sbGluZywgcmVzaXppbmcsIGRlYWN0aXZhdGlvbiwgZXRjLCB3aGVyZVxuICAgICAqIHRoZSBwb3NpdGlvbiBpcyBubyBsb25nZXIgdmFsaWQuXG4gICAgICovXG4gICAgX2NsZWFySG92ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYXJldEhvdmVyKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2hvdmVyVGltZW91dCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuX2NhcmV0SG92ZXIpO1xuICAgICAgICAgICAgdGhpcy5fY2FyZXRIb3ZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEgY2FyZXQgZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uXG4gICAgICogb2YgYSBjb2xsYWJvcmF0b3IncyBjdXJzb3IuXG4gICAgICovXG4gICAgX2dldENhcmV0KGNvbGxhYm9yYXRvcikge1xuICAgICAgICBsZXQgbmFtZSA9IGNvbGxhYm9yYXRvciA/IGNvbGxhYm9yYXRvci5kaXNwbGF5TmFtZSA6ICdBbm9ueW1vdXMnO1xuICAgICAgICBsZXQgY29sb3IgPSBjb2xsYWJvcmF0b3IgPyBjb2xsYWJvcmF0b3IuY29sb3IgOiB0aGlzLl9zZWxlY3Rpb25TdHlsZS5jb2xvcjtcbiAgICAgICAgbGV0IGNhcmV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjYXJldC5jbGFzc05hbWUgPSBDT0xMQUJPUkFUT1JfQ1VSU09SX0NMQVNTO1xuICAgICAgICBjYXJldC5zdHlsZS5ib3JkZXJCb3R0b21Db2xvciA9IGNvbG9yO1xuICAgICAgICBjYXJldC5vbm1vdXNlZW50ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhckhvdmVyKCk7XG4gICAgICAgICAgICB0aGlzLl9ob3ZlcklkID0gY29sbGFib3JhdG9yLnNlc3Npb25JZDtcbiAgICAgICAgICAgIGxldCByZWN0ID0gY2FyZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgYW5kIHBsYWNlIHRoZSBob3ZlciBib3guXG4gICAgICAgICAgICBsZXQgaG92ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGhvdmVyLmNsYXNzTmFtZSA9IENPTExBQk9SQVRPUl9IT1ZFUl9DTEFTUztcbiAgICAgICAgICAgIGhvdmVyLnN0eWxlLmxlZnQgPSBTdHJpbmcocmVjdC5sZWZ0KSArICdweCc7XG4gICAgICAgICAgICBob3Zlci5zdHlsZS50b3AgPSBTdHJpbmcocmVjdC5ib3R0b20pICsgJ3B4JztcbiAgICAgICAgICAgIGhvdmVyLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgICAgIGhvdmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgbW91c2VzIG92ZXIgdGhlIGhvdmVyLCB0YWtlIG92ZXIgdGhlIHRpbWVyLlxuICAgICAgICAgICAgaG92ZXIub25tb3VzZWVudGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5faG92ZXJUaW1lb3V0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBob3Zlci5vbm1vdXNlbGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faG92ZXJUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckhvdmVyKCk7XG4gICAgICAgICAgICAgICAgfSwgSE9WRVJfVElNRU9VVCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fY2FyZXRIb3ZlciA9IGhvdmVyO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob3Zlcik7XG4gICAgICAgIH07XG4gICAgICAgIGNhcmV0Lm9ubW91c2VsZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hvdmVyVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckhvdmVyKCk7XG4gICAgICAgICAgICB9LCBIT1ZFUl9USU1FT1VUKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNhcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgYW4gb3V0IG9mIHN5bmMgZWRpdG9yLlxuICAgICAqL1xuICAgIF9jaGVja1N5bmMoKSB7XG4gICAgICAgIGxldCBjaGFuZ2UgPSB0aGlzLl9sYXN0Q2hhbmdlO1xuICAgICAgICBpZiAoIWNoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xhc3RDaGFuZ2UgPSBudWxsO1xuICAgICAgICBsZXQgZWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuICAgICAgICBsZXQgZG9jID0gZWRpdG9yLmdldERvYygpO1xuICAgICAgICBpZiAoZG9jLmdldFZhbHVlKCkgPT09IHRoaXMuX21vZGVsLnZhbHVlLnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2b2lkIHNob3dEaWFsb2coe1xuICAgICAgICAgICAgdGl0bGU6ICdDb2RlIEVkaXRvciBvdXQgb2YgU3luYycsXG4gICAgICAgICAgICBib2R5OiAnUGxlYXNlIG9wZW4geW91ciBicm93c2VyIEphdmFTY3JpcHQgY29uc29sZSBmb3IgYnVnIHJlcG9ydCBpbnN0cnVjdGlvbnMnXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnUGxlYXNlIHBhc3RlIHRoZSBmb2xsb3dpbmcgdG8gaHR0cHM6Ly9naXRodWIuY29tL2p1cHl0ZXJsYWIvanVweXRlcmxhYi9pc3N1ZXMvMjk1MScpO1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBtb2RlbDogdGhpcy5fbW9kZWwudmFsdWUudGV4dCxcbiAgICAgICAgICAgIHZpZXc6IGRvYy5nZXRWYWx1ZSgpLFxuICAgICAgICAgICAgc2VsZWN0aW9uczogdGhpcy5nZXRTZWxlY3Rpb25zKCksXG4gICAgICAgICAgICBjdXJzb3I6IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKSxcbiAgICAgICAgICAgIGxpbmVTZXA6IGVkaXRvci5nZXRPcHRpb24oJ2xpbmVTZXBhcmF0b3InKSxcbiAgICAgICAgICAgIG1vZGU6IGVkaXRvci5nZXRPcHRpb24oJ21vZGUnKSxcbiAgICAgICAgICAgIGNoYW5nZVxuICAgICAgICB9KSk7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBgQ29kZU1pcnJvckVkaXRvcmAgc3RhdGljcy5cbiAqL1xuKGZ1bmN0aW9uIChDb2RlTWlycm9yRWRpdG9yKSB7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBhbiBlZGl0b3IuXG4gICAgICovXG4gICAgQ29kZU1pcnJvckVkaXRvci5kZWZhdWx0Q29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBDb2RlRWRpdG9yLmRlZmF1bHRDb25maWcpLCB7IG1vZGU6ICdudWxsJywgdGhlbWU6ICdqdXB5dGVyJywgc21hcnRJbmRlbnQ6IHRydWUsIGVsZWN0cmljQ2hhcnM6IHRydWUsIGtleU1hcDogJ2RlZmF1bHQnLCBleHRyYUtleXM6IG51bGwsIGd1dHRlcnM6IFtdLCBmaXhlZEd1dHRlcjogdHJ1ZSwgc2hvd0N1cnNvcldoZW5TZWxlY3Rpbmc6IGZhbHNlLCBjb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhcjogZmFsc2UsIGRyYWdEcm9wOiB0cnVlLCBsaW5lU2VwYXJhdG9yOiBudWxsLCBzY3JvbGxiYXJTdHlsZTogJ25hdGl2ZScsIGxpbmVXaXNlQ29weUN1dDogdHJ1ZSwgc2Nyb2xsUGFzdEVuZDogZmFsc2UsIHN0eWxlQWN0aXZlTGluZTogZmFsc2UsIHN0eWxlU2VsZWN0ZWRUZXh0OiB0cnVlLCBzZWxlY3Rpb25Qb2ludGVyOiBmYWxzZSwgcnVsZXJzOiBbXSwgZm9sZEd1dHRlcjogZmFsc2UgfSk7XG4gICAgLyoqXG4gICAgICogQWRkIGEgY29tbWFuZCB0byBDb2RlTWlycm9yLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY29tbWFuZCB0byBhZGQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tbWFuZCAtIFRoZSBjb21tYW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZENvbW1hbmQobmFtZSwgY29tbWFuZCkge1xuICAgICAgICBDb2RlTWlycm9yLmNvbW1hbmRzW25hbWVdID0gY29tbWFuZDtcbiAgICB9XG4gICAgQ29kZU1pcnJvckVkaXRvci5hZGRDb21tYW5kID0gYWRkQ29tbWFuZDtcbn0pKENvZGVNaXJyb3JFZGl0b3IgfHwgKENvZGVNaXJyb3JFZGl0b3IgPSB7fSkpO1xuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIGZvciBtb2R1bGUgcHJpdmF0ZSBkYXRhLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUVkaXRvcihob3N0LCBjb25maWcpIHtcbiAgICAgICAgbGV0IHsgYXV0b0Nsb3NpbmdCcmFja2V0cywgZm9udEZhbWlseSwgZm9udFNpemUsIGluc2VydFNwYWNlcywgbGluZUhlaWdodCwgbGluZVdyYXAsIHdvcmRXcmFwQ29sdW1uLCB0YWJTaXplLCByZWFkT25seSB9ID0gY29uZmlnLCBvdGhlck9wdGlvbnMgPSBfX3Jlc3QoY29uZmlnLCBbXCJhdXRvQ2xvc2luZ0JyYWNrZXRzXCIsIFwiZm9udEZhbWlseVwiLCBcImZvbnRTaXplXCIsIFwiaW5zZXJ0U3BhY2VzXCIsIFwibGluZUhlaWdodFwiLCBcImxpbmVXcmFwXCIsIFwid29yZFdyYXBDb2x1bW5cIiwgXCJ0YWJTaXplXCIsIFwicmVhZE9ubHlcIl0pO1xuICAgICAgICBsZXQgYmFyZUNvbmZpZyA9IE9iamVjdC5hc3NpZ24oeyBhdXRvQ2xvc2VCcmFja2V0czogYXV0b0Nsb3NpbmdCcmFja2V0cyA/IHt9IDogZmFsc2UsIGluZGVudFVuaXQ6IHRhYlNpemUsIGluZGVudFdpdGhUYWJzOiAhaW5zZXJ0U3BhY2VzLCBsaW5lV3JhcHBpbmc6IGxpbmVXcmFwID09PSAnb2ZmJyA/IGZhbHNlIDogdHJ1ZSwgcmVhZE9ubHkgfSwgb3RoZXJPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIENvZGVNaXJyb3IoZWwgPT4ge1xuICAgICAgICAgICAgaWYgKGZvbnRGYW1pbHkpIHtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIGVsLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemUgKyAncHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpbmVIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5saW5lSGVpZ2h0ID0gbGluZUhlaWdodC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChSRUFEX09OTFlfQ0xBU1MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpbmVXcmFwID09PSAnd29yZFdyYXBDb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBlbC5xdWVyeVNlbGVjdG9yKCcuQ29kZU1pcnJvci1saW5lcycpO1xuICAgICAgICAgICAgICAgIGxpbmVzLnN0eWxlLndpZHRoID0gYCR7d29yZFdyYXBDb2x1bW59Y2hgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpbmVXcmFwID09PSAnYm91bmRlZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lcyA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5Db2RlTWlycm9yLWxpbmVzJyk7XG4gICAgICAgICAgICAgICAgbGluZXMuc3R5bGUubWF4V2lkdGggPSBgJHt3b3JkV3JhcENvbHVtbn1jaGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBob3N0LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgfSwgYmFyZUNvbmZpZyk7XG4gICAgfVxuICAgIFByaXZhdGUuY3JlYXRlRWRpdG9yID0gY3JlYXRlRWRpdG9yO1xuICAgIC8qKlxuICAgICAqIEluZGVudCBvciBpbnNlcnQgYSB0YWIgYXMgYXBwcm9wcmlhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZW50TW9yZU9yaW5zZXJ0VGFiKGNtKSB7XG4gICAgICAgIGxldCBkb2MgPSBjbS5nZXREb2MoKTtcbiAgICAgICAgbGV0IGZyb20gPSBkb2MuZ2V0Q3Vyc29yKCdmcm9tJyk7XG4gICAgICAgIGxldCB0byA9IGRvYy5nZXRDdXJzb3IoJ3RvJyk7XG4gICAgICAgIGxldCBzZWwgPSAhcG9zRXEoZnJvbSwgdG8pO1xuICAgICAgICBpZiAoc2VsKSB7XG4gICAgICAgICAgICBDb2RlTWlycm9yLmNvbW1hbmRzWydpbmRlbnRNb3JlJ10oY20pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBzdGFydCBvZiBsaW5lLlxuICAgICAgICBsZXQgbGluZSA9IGRvYy5nZXRMaW5lKGZyb20ubGluZSk7XG4gICAgICAgIGxldCBiZWZvcmUgPSBsaW5lLnNsaWNlKDAsIGZyb20uY2gpO1xuICAgICAgICBpZiAoL15cXHMqJC8udGVzdChiZWZvcmUpKSB7XG4gICAgICAgICAgICBDb2RlTWlycm9yLmNvbW1hbmRzWydpbmRlbnRNb3JlJ10oY20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNtLmdldE9wdGlvbignaW5kZW50V2l0aFRhYnMnKSkge1xuICAgICAgICAgICAgICAgIENvZGVNaXJyb3IuY29tbWFuZHNbJ2luc2VydFRhYiddKGNtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIENvZGVNaXJyb3IuY29tbWFuZHNbJ2luc2VydFNvZnRUYWInXShjbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgUHJpdmF0ZS5pbmRlbnRNb3JlT3JpbnNlcnRUYWIgPSBpbmRlbnRNb3JlT3JpbnNlcnRUYWI7XG4gICAgLyoqXG4gICAgICogRGVsZXRlIHNwYWNlcyB0byB0aGUgcHJldmlvdXMgdGFiIHN0b2IgaW4gYSBjb2RlbWlycm9yIGVkaXRvci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWxTcGFjZVRvUHJldlRhYlN0b3AoY20pIHtcbiAgICAgICAgbGV0IGRvYyA9IGNtLmdldERvYygpO1xuICAgICAgICBsZXQgdGFiU2l6ZSA9IGNtLmdldE9wdGlvbignaW5kZW50VW5pdCcpO1xuICAgICAgICBsZXQgcmFuZ2VzID0gZG9jLmxpc3RTZWxlY3Rpb25zKCk7IC8vIGhhbmRsZSBtdWx0aWN1cnNvclxuICAgICAgICBmb3IgKGxldCBpID0gcmFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAvLyBpdGVyYXRlIHJldmVyc2Ugc28gYW55IGRlbGV0aW9ucyBkb24ndCBvdmVybGFwXG4gICAgICAgICAgICBsZXQgaGVhZCA9IHJhbmdlc1tpXS5oZWFkO1xuICAgICAgICAgICAgbGV0IGFuY2hvciA9IHJhbmdlc1tpXS5hbmNob3I7XG4gICAgICAgICAgICBsZXQgaXNTZWxlY3Rpb24gPSAhcG9zRXEoaGVhZCwgYW5jaG9yKTtcbiAgICAgICAgICAgIGlmIChpc1NlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIGRvYy5yZXBsYWNlUmFuZ2UoJycsIGFuY2hvciwgaGVhZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGRvYy5nZXRMaW5lKGhlYWQubGluZSkuc3Vic3RyaW5nKDAsIGhlYWQuY2gpO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lLm1hdGNoKC9eXFwgKyQvKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGFic1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJldlRhYlN0b3AgPSAoTWF0aC5jZWlsKGhlYWQuY2ggLyB0YWJTaXplKSAtIDEpICogdGFiU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZyb20gPSBDb2RlTWlycm9yLlBvcyhoZWFkLmxpbmUsIHByZXZUYWJTdG9wKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jLnJlcGxhY2VSYW5nZSgnJywgZnJvbSwgaGVhZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWxldGUgbm9uLXRhYnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWQuY2ggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkLmxpbmUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IENvZGVNaXJyb3IuUG9zKGhlYWQubGluZSAtIDEsIGRvYy5nZXRMaW5lKGhlYWQubGluZSAtIDEpLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnJlcGxhY2VSYW5nZSgnJywgZnJvbSwgaGVhZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IENvZGVNaXJyb3IuUG9zKGhlYWQubGluZSwgaGVhZC5jaCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnJlcGxhY2VSYW5nZSgnJywgZnJvbSwgaGVhZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgUHJpdmF0ZS5kZWxTcGFjZVRvUHJldlRhYlN0b3AgPSBkZWxTcGFjZVRvUHJldlRhYlN0b3A7XG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHR3byBDb2RlTWlycm9yIHBvc2l0aW9ucyBhcmUgZXF1YWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcG9zRXEoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5saW5lID09PSBiLmxpbmUgJiYgYS5jaCA9PT0gYi5jaDtcbiAgICB9XG4gICAgUHJpdmF0ZS5wb3NFcSA9IHBvc0VxO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbGlzdCBvZiBhY3RpdmUgZ3V0dGVyc1xuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyBFZGl0b3IgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFjdGl2ZUd1dHRlcnMoY29uZmlnKSB7XG4gICAgICAgIC8vIFRoZSBvcmRlciBvZiB0aGUgY2xhc3NlcyB3aWxsIGJlIHRoZSBndXR0ZXJzIG9yZGVyXG4gICAgICAgIGxldCBjbGFzc1RvU3dpdGNoID0ge1xuICAgICAgICAgICAgJ0NvZGVNaXJyb3ItbGluZW51bWJlcnMnOiAnbGluZU51bWJlcnMnLFxuICAgICAgICAgICAgJ0NvZGVNaXJyb3ItZm9sZGd1dHRlcic6ICdjb2RlRm9sZGluZydcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGNsYXNzVG9Td2l0Y2gpLmZpbHRlcihndXR0ZXIgPT4gY29uZmlnW2NsYXNzVG9Td2l0Y2hbZ3V0dGVyXV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgYSBjb25maWcgb3B0aW9uIGZvciB0aGUgZWRpdG9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldE9wdGlvbihlZGl0b3IsIG9wdGlvbiwgdmFsdWUsIGNvbmZpZykge1xuICAgICAgICBsZXQgZWwgPSBlZGl0b3IuZ2V0V3JhcHBlckVsZW1lbnQoKTtcbiAgICAgICAgc3dpdGNoIChvcHRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2xpbmVXcmFwJzpcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lV3JhcHBpbmcgPSB2YWx1ZSA9PT0gJ29mZicgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBlbC5xdWVyeVNlbGVjdG9yKCcuQ29kZU1pcnJvci1saW5lcycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gdmFsdWUgPT09ICdib3VuZGVkJyA/IGAke2NvbmZpZy53b3JkV3JhcENvbHVtbn1jaGAgOiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdmFsdWUgPT09ICd3b3JkV3JhcENvbHVtbicgPyBgJHtjb25maWcud29yZFdyYXBDb2x1bW59Y2hgIDogbnVsbDtcbiAgICAgICAgICAgICAgICBsaW5lcy5zdHlsZS5zZXRQcm9wZXJ0eSgnbWF4V2lkdGgnLCBtYXhXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZXMuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgd2lkdGgpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5zZXRPcHRpb24oJ2xpbmVXcmFwcGluZycsIGxpbmVXcmFwcGluZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3b3JkV3JhcENvbHVtbic6XG4gICAgICAgICAgICAgICAgY29uc3QgeyBsaW5lV3JhcCB9ID0gY29uZmlnO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lV3JhcCA9PT0gJ3dvcmRXcmFwQ29sdW1uJyB8fCBsaW5lV3JhcCA9PT0gJ2JvdW5kZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gZWwucXVlcnlTZWxlY3RvcignLkNvZGVNaXJyb3ItbGluZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IGxpbmVXcmFwID09PSAnd29yZFdyYXBDb2x1bW4nID8gJ3dpZHRoJyA6ICdtYXhXaWR0aCc7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzLnN0eWxlW3Byb3BdID0gYCR7dmFsdWV9Y2hgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RhYlNpemUnOlxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXRPcHRpb24oJ2luZGVudFVuaXQnLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpbnNlcnRTcGFjZXMnOlxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXRPcHRpb24oJ2luZGVudFdpdGhUYWJzJywgIXZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2F1dG9DbG9zaW5nQnJhY2tldHMnOlxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXRPcHRpb24oJ2F1dG9DbG9zZUJyYWNrZXRzJywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncnVsZXJzJzpcbiAgICAgICAgICAgICAgICBsZXQgcnVsZXJzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNldE9wdGlvbigncnVsZXJzJywgcnVsZXJzLm1hcChjb2x1bW4gPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnanAtQ29kZU1pcnJvci1ydWxlcidcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZWFkT25seSc6XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZShSRUFEX09OTFlfQ0xBU1MsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0T3B0aW9uKG9wdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZm9udEZhbWlseSc6XG4gICAgICAgICAgICAgICAgZWwuc3R5bGUuZm9udEZhbWlseSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZm9udFNpemUnOlxuICAgICAgICAgICAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KCdmb250U2l6ZScsIHZhbHVlID8gdmFsdWUgKyAncHgnIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdsaW5lSGVpZ2h0JzpcbiAgICAgICAgICAgICAgICBlbC5zdHlsZS5saW5lSGVpZ2h0ID0gdmFsdWUgPyB2YWx1ZS50b1N0cmluZygpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2d1dHRlcnMnOlxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXRPcHRpb24ob3B0aW9uLCBnZXRBY3RpdmVHdXR0ZXJzKGNvbmZpZykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbGluZU51bWJlcnMnOlxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXRPcHRpb24ob3B0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNldE9wdGlvbignZ3V0dGVycycsIGdldEFjdGl2ZUd1dHRlcnMoY29uZmlnKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb2RlRm9sZGluZyc6XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNldE9wdGlvbignZm9sZEd1dHRlcicsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0T3B0aW9uKCdndXR0ZXJzJywgZ2V0QWN0aXZlR3V0dGVycyhjb25maWcpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNldE9wdGlvbihvcHRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcml2YXRlLnNldE9wdGlvbiA9IHNldE9wdGlvbjtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLyoqXG4gKiBBZGQgYSBDb2RlTWlycm9yIGNvbW1hbmQgdG8gZGVsZXRlIHVudGlsIHByZXZpb3VzIG5vbiBibGFua2luZyBzcGFjZVxuICogY2hhcmFjdGVyIG9yIGZpcnN0IG11bHRpcGxlIG9mIHRhYnNpemUgdGFic3RvcC5cbiAqL1xuQ29kZU1pcnJvckVkaXRvci5hZGRDb21tYW5kKCdkZWxTcGFjZVRvUHJldlRhYlN0b3AnLCBQcml2YXRlLmRlbFNwYWNlVG9QcmV2VGFiU3RvcCk7XG4vKipcbiAqIEFkZCBhIENvZGVNaXJyb3IgY29tbWFuZCB0byBpbmRlbnQgb3IgaW5zZXJ0IGEgdGFiIGFzIGFwcHJvcHJpYXRlLlxuICovXG5Db2RlTWlycm9yRWRpdG9yLmFkZENvbW1hbmQoJ2luZGVudE1vcmVPcmluc2VydFRhYicsIFByaXZhdGUuaW5kZW50TW9yZU9yaW5zZXJ0VGFiKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVkaXRvci5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKipcbiAqIFRoZSBtYWluIG1lbnUgdG9rZW4uXG4gKi9cbmV4cG9ydCBjb25zdCBJTWFpbk1lbnUgPSBuZXcgVG9rZW4oJ0BqdXB5dGVybGFiL21haW5tZW51OklNYWluTWVudScpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9rZW5zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdmFsaWRhdGVfMSA9IHJlcXVpcmUoXCIuLi9rZXJuZWwvdmFsaWRhdGVcIik7XG5jb25zdCB2YWxpZGF0ZV8yID0gcmVxdWlyZShcIi4uL3ZhbGlkYXRlXCIpO1xuLyoqXG4gKiBWYWxpZGF0ZSBhbiBgU2Vzc2lvbi5JTW9kZWxgIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVNb2RlbChkYXRhKSB7XG4gICAgdmFsaWRhdGVfMi52YWxpZGF0ZVByb3BlcnR5KGRhdGEsICdpZCcsICdzdHJpbmcnKTtcbiAgICB2YWxpZGF0ZV8yLnZhbGlkYXRlUHJvcGVydHkoZGF0YSwgJ3R5cGUnLCAnc3RyaW5nJyk7XG4gICAgdmFsaWRhdGVfMi52YWxpZGF0ZVByb3BlcnR5KGRhdGEsICduYW1lJywgJ3N0cmluZycpO1xuICAgIHZhbGlkYXRlXzIudmFsaWRhdGVQcm9wZXJ0eShkYXRhLCAncGF0aCcsICdzdHJpbmcnKTtcbiAgICB2YWxpZGF0ZV8yLnZhbGlkYXRlUHJvcGVydHkoZGF0YSwgJ2tlcm5lbCcsICdvYmplY3QnKTtcbiAgICB2YWxpZGF0ZV8xLnZhbGlkYXRlTW9kZWwoZGF0YS5rZXJuZWwpO1xufVxuZXhwb3J0cy52YWxpZGF0ZU1vZGVsID0gdmFsaWRhdGVNb2RlbDtcbi8qKlxuICogVXBkYXRlIG1vZGVsIGZyb20gbGVnYWN5IHNlc3Npb24gZGF0YS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlTGVnYWN5U2Vzc2lvbk1vZGVsKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5wYXRoID09PSB1bmRlZmluZWQgJiYgZGF0YS5ub3RlYm9vayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRhdGEucGF0aCA9IGRhdGEubm90ZWJvb2sucGF0aDtcbiAgICAgICAgZGF0YS50eXBlID0gJ25vdGVib29rJztcbiAgICAgICAgZGF0YS5uYW1lID0gJyc7XG4gICAgfVxufVxuZXhwb3J0cy51cGRhdGVMZWdhY3lTZXNzaW9uTW9kZWwgPSB1cGRhdGVMZWdhY3lTZXNzaW9uTW9kZWw7XG4vKipcbiAqIFZhbGlkYXRlIGFuIGFycmF5IG9mIGBTZXNzaW9uLklNb2RlbGAgb2JqZWN0cy5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVNb2RlbHMobW9kZWxzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1vZGVscykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlc3Npb24gbGlzdCcpO1xuICAgIH1cbiAgICBtb2RlbHMuZm9yRWFjaChkID0+IHZhbGlkYXRlTW9kZWwoZCkpO1xufVxuZXhwb3J0cy52YWxpZGF0ZU1vZGVscyA9IHZhbGlkYXRlTW9kZWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xuICAgIHJlc3VsdFtcImRlZmF1bHRcIl0gPSBtb2Q7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkaXNwb3NhYmxlXzEgPSByZXF1aXJlKFwiQGx1bWluby9kaXNwb3NhYmxlXCIpO1xuY29uc3QgS2VybmVsTWVzc2FnZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9tZXNzYWdlc1wiKSk7XG4vKipcbiAqIENvbW0gY2hhbm5lbCBoYW5kbGVyLlxuICovXG5jbGFzcyBDb21tSGFuZGxlciBleHRlbmRzIGRpc3Bvc2FibGVfMS5EaXNwb3NhYmxlRGVsZWdhdGUge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBjb21tIGNoYW5uZWwuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBpZCwga2VybmVsLCBkaXNwb3NlQ2IpIHtcbiAgICAgICAgc3VwZXIoZGlzcG9zZUNiKTtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gJyc7XG4gICAgICAgIHRoaXMuX2lkID0gJyc7XG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5fa2VybmVsID0ga2VybmVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkIGZvciB0aGUgY29tbSBjaGFubmVsLlxuICAgICAqL1xuICAgIGdldCBjb21tSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBuYW1lIGZvciB0aGUgY29tbSBjaGFubmVsLlxuICAgICAqL1xuICAgIGdldCB0YXJnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNhbGxiYWNrIGZvciBhIGNvbW0gY2xvc2UgZXZlbnQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiB0aGUgY29tbSBpcyBjbG9zZWQgZnJvbSBlaXRoZXIgdGhlIHNlcnZlciBvciBjbGllbnQuXG4gICAgICpcbiAgICAgKiAqKlNlZSBhbHNvOioqIFtbSUNvbW1DbG9zZV1dLCBbW2Nsb3NlXV1cbiAgICAgKi9cbiAgICBnZXQgb25DbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uQ2xvc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY2FsbGJhY2sgZm9yIGEgY29tbSBjbG9zZSBldmVudC5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHRoZSBjb21tIGlzIGNsb3NlZCBmcm9tIGVpdGhlciB0aGUgc2VydmVyIG9yIGNsaWVudC4gSWZcbiAgICAgKiB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIHByb21pc2UsIGFuZCB0aGUga2VybmVsIHdhcyBjbG9zZWQgZnJvbSB0aGUgc2VydmVyLFxuICAgICAqIGtlcm5lbCBtZXNzYWdlIHByb2Nlc3Npbmcgd2lsbCBwYXVzZSB1bnRpbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpc1xuICAgICAqIGZ1bGZpbGxlZC5cbiAgICAgKlxuICAgICAqICoqU2VlIGFsc286KiogW1tjbG9zZV1dXG4gICAgICovXG4gICAgc2V0IG9uQ2xvc2UoY2IpIHtcbiAgICAgICAgdGhpcy5fb25DbG9zZSA9IGNiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNhbGxiYWNrIGZvciBhIGNvbW0gbWVzc2FnZSByZWNlaXZlZCBldmVudC5cbiAgICAgKi9cbiAgICBnZXQgb25Nc2coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbk1zZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjYWxsYmFjayBmb3IgYSBjb21tIG1lc3NhZ2UgcmVjZWl2ZWQgZXZlbnQuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIGNvbW0gbWVzc2FnZSBpcyByZWNlaXZlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgYVxuICAgICAqIHByb21pc2UsIGtlcm5lbCBtZXNzYWdlIHByb2Nlc3Npbmcgd2lsbCBwYXVzZSB1bnRpbCBpdCBpcyBmdWxmaWxsZWQuXG4gICAgICovXG4gICAgc2V0IG9uTXNnKGNiKSB7XG4gICAgICAgIHRoaXMuX29uTXNnID0gY2I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW4gYSBjb21tIHdpdGggb3B0aW9uYWwgZGF0YSBhbmQgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBzZW5kcyBhIGBjb21tX29wZW5gIG1lc3NhZ2UgdG8gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqICoqU2VlIGFsc286KiogW1tJQ29tbU9wZW5dXVxuICAgICAqL1xuICAgIG9wZW4oZGF0YSwgbWV0YWRhdGEsIGJ1ZmZlcnMgPSBbXSkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkIHx8IHRoaXMuX2tlcm5lbC5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBvcGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1zZyA9IEtlcm5lbE1lc3NhZ2UuY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBtc2dUeXBlOiAnY29tbV9vcGVuJyxcbiAgICAgICAgICAgIGNoYW5uZWw6ICdzaGVsbCcsXG4gICAgICAgICAgICB1c2VybmFtZTogdGhpcy5fa2VybmVsLnVzZXJuYW1lLFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5fa2VybmVsLmNsaWVudElkLFxuICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgIGNvbW1faWQ6IHRoaXMuX2lkLFxuICAgICAgICAgICAgICAgIHRhcmdldF9uYW1lOiB0aGlzLl90YXJnZXQsXG4gICAgICAgICAgICAgICAgZGF0YTogKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdm9pZCAwID8gZGF0YSA6IHt9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgYnVmZmVyc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tlcm5lbC5zZW5kU2hlbGxNZXNzYWdlKG1zZywgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgYGNvbW1fbXNnYCBtZXNzYWdlIHRvIHRoZSBrZXJuZWwuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyBpcyBhIG5vLW9wIGlmIHRoZSBjb21tIGhhcyBiZWVuIGNsb3NlZC5cbiAgICAgKlxuICAgICAqICoqU2VlIGFsc286KiogW1tJQ29tbU1zZ11dXG4gICAgICovXG4gICAgc2VuZChkYXRhLCBtZXRhZGF0YSwgYnVmZmVycyA9IFtdLCBkaXNwb3NlT25Eb25lID0gdHJ1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkIHx8IHRoaXMuX2tlcm5lbC5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzZW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1zZyA9IEtlcm5lbE1lc3NhZ2UuY3JlYXRlTWVzc2FnZSh7XG4gICAgICAgICAgICBtc2dUeXBlOiAnY29tbV9tc2cnLFxuICAgICAgICAgICAgY2hhbm5lbDogJ3NoZWxsJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLl9rZXJuZWwudXNlcm5hbWUsXG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLl9rZXJuZWwuY2xpZW50SWQsXG4gICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgY29tbV9pZDogdGhpcy5faWQsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgYnVmZmVyc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tlcm5lbC5zZW5kU2hlbGxNZXNzYWdlKG1zZywgZmFsc2UsIGRpc3Bvc2VPbkRvbmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29tbS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIHdpbGwgc2VuZCBhIGBjb21tX2Nsb3NlYCBtZXNzYWdlIHRvIHRoZSBrZXJuZWwsIGFuZCBjYWxsIHRoZVxuICAgICAqIGBvbkNsb3NlYCBjYWxsYmFjayBpZiBzZXQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGEgbm8tb3AgaWYgdGhlIGNvbW0gaXMgYWxyZWFkeSBjbG9zZWQuXG4gICAgICpcbiAgICAgKiAqKlNlZSBhbHNvOioqIFtbSUNvbW1DbG9zZV1dLCBbW29uQ2xvc2VdXVxuICAgICAqL1xuICAgIGNsb3NlKGRhdGEsIG1ldGFkYXRhLCBidWZmZXJzID0gW10pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCB8fCB0aGlzLl9rZXJuZWwuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2xvc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbXNnID0gS2VybmVsTWVzc2FnZS5jcmVhdGVNZXNzYWdlKHtcbiAgICAgICAgICAgIG1zZ1R5cGU6ICdjb21tX2Nsb3NlJyxcbiAgICAgICAgICAgIGNoYW5uZWw6ICdzaGVsbCcsXG4gICAgICAgICAgICB1c2VybmFtZTogdGhpcy5fa2VybmVsLnVzZXJuYW1lLFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5fa2VybmVsLmNsaWVudElkLFxuICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgIGNvbW1faWQ6IHRoaXMuX2lkLFxuICAgICAgICAgICAgICAgIGRhdGE6IChkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHZvaWQgMCA/IGRhdGEgOiB7fSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgIGJ1ZmZlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBmdXR1cmUgPSB0aGlzLl9rZXJuZWwuc2VuZFNoZWxsTWVzc2FnZShtc2csIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgbGV0IG9uQ2xvc2UgPSB0aGlzLl9vbkNsb3NlO1xuICAgICAgICBpZiAob25DbG9zZSkge1xuICAgICAgICAgICAgbGV0IGlvTXNnID0gS2VybmVsTWVzc2FnZS5jcmVhdGVNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtc2dUeXBlOiAnY29tbV9jbG9zZScsXG4gICAgICAgICAgICAgICAgY2hhbm5lbDogJ2lvcHViJyxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy5fa2VybmVsLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHRoaXMuX2tlcm5lbC5jbGllbnRJZCxcbiAgICAgICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1faWQ6IHRoaXMuX2lkLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgPyBkYXRhIDoge30pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBidWZmZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEluIHRoZSBmdXR1cmUsIHdlIG1heSB3YW50IHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIHVzZXIgdGhlIHBvc3NpYmxlXG4gICAgICAgICAgICAvLyBwcm9taXNlIHJldHVybmVkIGZyb20gb25DbG9zZS5cbiAgICAgICAgICAgIG9uQ2xvc2UoaW9Nc2cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gZnV0dXJlO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29tbUhhbmRsZXIgPSBDb21tSGFuZGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW0uanMubWFwIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbnwgRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNb2RpZmllZCBCU0QgTGljZW5zZS5cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCBtYXJrZWQgZnJvbSAnbWFya2VkJztcbmltcG9ydCB7IE1vZGUsIENvZGVNaXJyb3JFZGl0b3IgfSBmcm9tICdAanVweXRlcmxhYi9jb2RlbWlycm9yJztcbmltcG9ydCB7IFVSTEV4dCB9IGZyb20gJ0BqdXB5dGVybGFiL2NvcmV1dGlscyc7XG5pbXBvcnQgeyB0b0FycmF5IH0gZnJvbSAnQGx1bWluby9hbGdvcml0aG0nO1xuaW1wb3J0IGVzY2FwZSBmcm9tICdsb2Rhc2guZXNjYXBlJztcbmltcG9ydCB7IHJlbW92ZU1hdGgsIHJlcGxhY2VNYXRoIH0gZnJvbSAnLi9sYXRleCc7XG4vKipcbiAqIFJlbmRlciBIVE1MIGludG8gYSBob3N0IG5vZGUuXG4gKlxuICogQHBhcmFtcyBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHJlbmRlcmluZy5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJIVE1MKG9wdGlvbnMpIHtcbiAgICAvLyBVbnBhY2sgdGhlIG9wdGlvbnMuXG4gICAgbGV0IHsgaG9zdCwgc291cmNlLCB0cnVzdGVkLCBzYW5pdGl6ZXIsIHJlc29sdmVyLCBsaW5rSGFuZGxlciwgc2hvdWxkVHlwZXNldCwgbGF0ZXhUeXBlc2V0dGVyIH0gPSBvcHRpb25zO1xuICAgIGxldCBvcmlnaW5hbFNvdXJjZSA9IHNvdXJjZTtcbiAgICAvLyBCYWlsIGVhcmx5IGlmIHRoZSBzb3VyY2UgaXMgZW1wdHkuXG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgaG9zdC50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIC8vIFNhbml0aXplIHRoZSBzb3VyY2UgaWYgaXQgaXMgbm90IHRydXN0ZWQuIFRoaXMgcmVtb3ZlcyBhbGxcbiAgICAvLyBgPHNjcmlwdD5gIHRhZ3MgYXMgd2VsbCBhcyBvdGhlciBwb3RlbnRpYWxseSBoYXJtZnVsIEhUTUwuXG4gICAgaWYgKCF0cnVzdGVkKSB7XG4gICAgICAgIG9yaWdpbmFsU291cmNlID0gYCR7c291cmNlfWA7XG4gICAgICAgIHNvdXJjZSA9IHNhbml0aXplci5zYW5pdGl6ZShzb3VyY2UpO1xuICAgIH1cbiAgICAvLyBTZXQgdGhlIGlubmVyIEhUTUwgb2YgdGhlIGhvc3QuXG4gICAgaG9zdC5pbm5lckhUTUwgPSBzb3VyY2U7XG4gICAgaWYgKGhvc3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gSWYgb3V0cHV0IGl0IHRydXN0ZWQsIGV2YWwgYW55IHNjcmlwdCB0YWdzIGNvbnRhaW5lZCBpbiB0aGUgSFRNTC5cbiAgICAgICAgLy8gVGhpcyBpcyBub3QgZG9uZSBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBicm93c2VyIHdoZW4gc2NyaXB0IHRhZ3MgYXJlXG4gICAgICAgIC8vIGNyZWF0ZWQgYnkgc2V0dGluZyBgaW5uZXJIVE1MYC5cbiAgICAgICAgaWYgKHRydXN0ZWQpIHtcbiAgICAgICAgICAgIFByaXZhdGUuZXZhbElubmVySFRNTFNjcmlwdFRhZ3MoaG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnN0IHdhcm5pbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwcmUnKTtcbiAgICAgICAgICAgIHdhcm5pbmcudGV4dENvbnRlbnQgPVxuICAgICAgICAgICAgICAgICdUaGlzIEhUTUwgb3V0cHV0IGNvbnRhaW5zIGlubGluZSBzY3JpcHRzLiBBcmUgeW91IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBydW4gYXJiaXRyYXJ5IEphdmFzY3JpcHQgd2l0aGluIHlvdXIgSnVweXRlckxhYiBzZXNzaW9uPyc7XG4gICAgICAgICAgICBjb25zdCBydW5CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIHJ1bkJ1dHRvbi50ZXh0Q29udGVudCA9ICdSdW4nO1xuICAgICAgICAgICAgcnVuQnV0dG9uLm9uY2xpY2sgPSBldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgaG9zdC5pbm5lckhUTUwgPSBvcmlnaW5hbFNvdXJjZTtcbiAgICAgICAgICAgICAgICBQcml2YXRlLmV2YWxJbm5lckhUTUxTY3JpcHRUYWdzKGhvc3QpO1xuICAgICAgICAgICAgICAgIGlmIChob3N0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdC5yZW1vdmVDaGlsZChob3N0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQod2FybmluZyk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocnVuQnV0dG9uKTtcbiAgICAgICAgICAgIGhvc3QuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgaG9zdC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBIYW5kbGUgZGVmYXVsdCBiZWhhdmlvciBvZiBub2Rlcy5cbiAgICBQcml2YXRlLmhhbmRsZURlZmF1bHRzKGhvc3QsIHJlc29sdmVyKTtcbiAgICAvLyBQYXRjaCB0aGUgdXJscyBpZiBhIHJlc29sdmVyIGlzIGF2YWlsYWJsZS5cbiAgICBsZXQgcHJvbWlzZTtcbiAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgcHJvbWlzZSA9IFByaXZhdGUuaGFuZGxlVXJscyhob3N0LCByZXNvbHZlciwgbGlua0hhbmRsZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvLyBSZXR1cm4gdGhlIGZpbmFsIHJlbmRlcmVkIHByb21pc2UuXG4gICAgcmV0dXJuIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChzaG91bGRUeXBlc2V0ICYmIGxhdGV4VHlwZXNldHRlcikge1xuICAgICAgICAgICAgbGF0ZXhUeXBlc2V0dGVyLnR5cGVzZXQoaG9zdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogUmVuZGVyIGFuIGltYWdlIGludG8gYSBob3N0IG5vZGUuXG4gKlxuICogQHBhcmFtcyBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHJlbmRlcmluZy5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJJbWFnZShvcHRpb25zKSB7XG4gICAgLy8gVW5wYWNrIHRoZSBvcHRpb25zLlxuICAgIGxldCB7IGhvc3QsIG1pbWVUeXBlLCBzb3VyY2UsIHdpZHRoLCBoZWlnaHQsIG5lZWRzQmFja2dyb3VuZCwgdW5jb25maW5lZCB9ID0gb3B0aW9ucztcbiAgICAvLyBDbGVhciB0aGUgY29udGVudCBpbiB0aGUgaG9zdC5cbiAgICBob3N0LnRleHRDb250ZW50ID0gJyc7XG4gICAgLy8gQ3JlYXRlIHRoZSBpbWFnZSBlbGVtZW50LlxuICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAvLyBTZXQgdGhlIHNvdXJjZSBvZiB0aGUgaW1hZ2UuXG4gICAgaW1nLnNyYyA9IGBkYXRhOiR7bWltZVR5cGV9O2Jhc2U2NCwke3NvdXJjZX1gO1xuICAgIC8vIFNldCB0aGUgc2l6ZSBvZiB0aGUgaW1hZ2UgaWYgcHJvdmlkZWQuXG4gICAgaWYgKHR5cGVvZiBoZWlnaHQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGltZy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2lkdGggPT09ICdudW1iZXInKSB7XG4gICAgICAgIGltZy53aWR0aCA9IHdpZHRoO1xuICAgIH1cbiAgICBpZiAobmVlZHNCYWNrZ3JvdW5kID09PSAnbGlnaHQnKSB7XG4gICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKCdqcC1uZWVkcy1saWdodC1iYWNrZ3JvdW5kJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5lZWRzQmFja2dyb3VuZCA9PT0gJ2RhcmsnKSB7XG4gICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKCdqcC1uZWVkcy1kYXJrLWJhY2tncm91bmQnKTtcbiAgICB9XG4gICAgaWYgKHVuY29uZmluZWQgPT09IHRydWUpIHtcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoJ2pwLW1vZC11bmNvbmZpbmVkJyk7XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgaW1hZ2UgdG8gdGhlIGhvc3QuXG4gICAgaG9zdC5hcHBlbmRDaGlsZChpbWcpO1xuICAgIC8vIFJldHVybiB0aGUgcmVuZGVyZWQgcHJvbWlzZS5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG59XG4vKipcbiAqIFJlbmRlciBMYVRlWCBpbnRvIGEgaG9zdCBub2RlLlxuICpcbiAqIEBwYXJhbXMgb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciByZW5kZXJpbmcuXG4gKlxuICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gcmVuZGVyaW5nIGlzIGNvbXBsZXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTGF0ZXgob3B0aW9ucykge1xuICAgIC8vIFVucGFjayB0aGUgb3B0aW9ucy5cbiAgICBsZXQgeyBob3N0LCBzb3VyY2UsIHNob3VsZFR5cGVzZXQsIGxhdGV4VHlwZXNldHRlciB9ID0gb3B0aW9ucztcbiAgICAvLyBTZXQgdGhlIHNvdXJjZSBvbiB0aGUgbm9kZS5cbiAgICBob3N0LnRleHRDb250ZW50ID0gc291cmNlO1xuICAgIC8vIFR5cGVzZXQgdGhlIG5vZGUgaWYgbmVlZGVkLlxuICAgIGlmIChzaG91bGRUeXBlc2V0ICYmIGxhdGV4VHlwZXNldHRlcikge1xuICAgICAgICBsYXRleFR5cGVzZXR0ZXIudHlwZXNldChob3N0KTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIHRoZSByZW5kZXJlZCBwcm9taXNlLlxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbn1cbi8qKlxuICogUmVuZGVyIE1hcmtkb3duIGludG8gYSBob3N0IG5vZGUuXG4gKlxuICogQHBhcmFtcyBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHJlbmRlcmluZy5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW5kZXJNYXJrZG93bihvcHRpb25zKSB7XG4gICAgLy8gVW5wYWNrIHRoZSBvcHRpb25zLlxuICAgIGxldCB7IGhvc3QsIHNvdXJjZSB9ID0gb3B0aW9ucywgb3RoZXJzID0gX19yZXN0KG9wdGlvbnMsIFtcImhvc3RcIiwgXCJzb3VyY2VcIl0pO1xuICAgIC8vIENsZWFyIHRoZSBjb250ZW50IGlmIHRoZXJlIGlzIG5vIHNvdXJjZS5cbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBob3N0LnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gU2VwYXJhdGUgbWF0aCBmcm9tIG5vcm1hbCBtYXJrZG93biB0ZXh0LlxuICAgIGxldCBwYXJ0cyA9IHJlbW92ZU1hdGgoc291cmNlKTtcbiAgICAvLyBDb252ZXJ0IHRoZSBtYXJrZG93biB0byBIVE1MLlxuICAgIGxldCBodG1sID0gYXdhaXQgUHJpdmF0ZS5yZW5kZXJNYXJrZWQocGFydHNbJ3RleHQnXSk7XG4gICAgLy8gUmVwbGFjZSBtYXRoLlxuICAgIGh0bWwgPSByZXBsYWNlTWF0aChodG1sLCBwYXJ0c1snbWF0aCddKTtcbiAgICAvLyBSZW5kZXIgSFRNTC5cbiAgICBhd2FpdCByZW5kZXJIVE1MKE9iamVjdC5hc3NpZ24oeyBob3N0LCBzb3VyY2U6IGh0bWwgfSwgb3RoZXJzKSk7XG4gICAgLy8gQXBwbHkgaWRzIHRvIHRoZSBoZWFkZXIgbm9kZXMuXG4gICAgUHJpdmF0ZS5oZWFkZXJBbmNob3JzKGhvc3QpO1xufVxuLyoqXG4gKiBSZW5kZXIgU1ZHIGludG8gYSBob3N0IG5vZGUuXG4gKlxuICogQHBhcmFtcyBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHJlbmRlcmluZy5cbiAqXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiByZW5kZXJpbmcgaXMgY29tcGxldGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTVkcob3B0aW9ucykge1xuICAgIC8vIFVucGFjayB0aGUgb3B0aW9ucy5cbiAgICBsZXQgeyBob3N0LCBzb3VyY2UsIHRydXN0ZWQsIHVuY29uZmluZWQgfSA9IG9wdGlvbnM7XG4gICAgLy8gQ2xlYXIgdGhlIGNvbnRlbnQgaWYgdGhlcmUgaXMgbm8gc291cmNlLlxuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIGhvc3QudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvLyBEaXNwbGF5IGEgbWVzc2FnZSBpZiB0aGUgc291cmNlIGlzIG5vdCB0cnVzdGVkLlxuICAgIGlmICghdHJ1c3RlZCkge1xuICAgICAgICBob3N0LnRleHRDb250ZW50ID1cbiAgICAgICAgICAgICdDYW5ub3QgZGlzcGxheSBhbiB1bnRydXN0ZWQgU1ZHLiBNYXliZSB5b3UgbmVlZCB0byBydW4gdGhlIGNlbGw/JztcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvLyBBZGQgbWlzc2luZyBTVkcgbmFtZXNwYWNlIChpZiBhY3R1YWxseSBtaXNzaW5nKVxuICAgIGxldCBwYXR0ID0gJzxzdmdbXj5dK3htbG5zPVtePl0rc3ZnJztcbiAgICBpZiAoc291cmNlLnNlYXJjaChwYXR0KSA8IDApIHtcbiAgICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UoJzxzdmcnLCAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCInKTtcbiAgICB9XG4gICAgLy8gUmVuZGVyIGluIGltZyBzbyB0aGF0IHVzZXIgY2FuIHNhdmUgaXQgZWFzaWx5XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLnNyYyA9IGBkYXRhOmltYWdlL3N2Zyt4bWwsJHtlbmNvZGVVUklDb21wb25lbnQoc291cmNlKX1gO1xuICAgIGhvc3QuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICBpZiAodW5jb25maW5lZCA9PT0gdHJ1ZSkge1xuICAgICAgICBob3N0LmNsYXNzTGlzdC5hZGQoJ2pwLW1vZC11bmNvbmZpbmVkJyk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn1cbi8qKlxuICogUmVuZGVyIHRleHQgaW50byBhIGhvc3Qgbm9kZS5cbiAqXG4gKiBAcGFyYW1zIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgcmVuZGVyaW5nLlxuICpcbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHJlbmRlcmluZyBpcyBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclRleHQob3B0aW9ucykge1xuICAgIC8vIFVucGFjayB0aGUgb3B0aW9ucy5cbiAgICBjb25zdCB7IGhvc3QsIHNhbml0aXplciwgc291cmNlIH0gPSBvcHRpb25zO1xuICAgIC8vIENyZWF0ZSB0aGUgSFRNTCBjb250ZW50LlxuICAgIGNvbnN0IGNvbnRlbnQgPSBzYW5pdGl6ZXIuc2FuaXRpemUoUHJpdmF0ZS5hbnNpU3Bhbihzb3VyY2UpLCB7XG4gICAgICAgIGFsbG93ZWRUYWdzOiBbJ3NwYW4nXVxuICAgIH0pO1xuICAgIC8vIFNldCB0aGUgc2FuaXRpemVkIGNvbnRlbnQgZm9yIHRoZSBob3N0IG5vZGUuXG4gICAgY29uc3QgcHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncHJlJyk7XG4gICAgcHJlLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgaG9zdC5hcHBlbmRDaGlsZChwcmUpO1xuICAgIC8vIFJldHVybiB0aGUgcmVuZGVyZWQgcHJvbWlzZS5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG59XG4vKipcbiAqIFRoZSBuYW1lc3BhY2UgZm9yIG1vZHVsZSBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLlxuICovXG52YXIgUHJpdmF0ZTtcbihmdW5jdGlvbiAoUHJpdmF0ZSkge1xuICAgIC8qKlxuICAgICAqIEV2YWwgdGhlIHNjcmlwdCB0YWdzIGNvbnRhaW5lZCBpbiBhIGhvc3QgcG9wdWxhdGVkIGJ5IGBpbm5lckhUTUxgLlxuICAgICAqXG4gICAgICogV2hlbiBzY3JpcHQgdGFncyBhcmUgY3JlYXRlZCB2aWEgYGlubmVySFRNTGAsIHRoZSBicm93c2VyIGRvZXMgbm90XG4gICAgICogZXZhbHVhdGUgdGhlbSB3aGVuIHRoZXkgYXJlIGFkZGVkIHRvIHRoZSBwYWdlLiBUaGlzIGZ1bmN0aW9uIHdvcmtzXG4gICAgICogYXJvdW5kIHRoYXQgYnkgY3JlYXRpbmcgbmV3IGVxdWl2YWxlbnQgc2NyaXB0IG5vZGVzIG1hbnVhbGx5LCBhbmRcbiAgICAgKiByZXBsYWNpbmcgdGhlIG9yaWdpbmFscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmFsSW5uZXJIVE1MU2NyaXB0VGFncyhob3N0KSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IHNjcmlwdCBub2Rlcy5cbiAgICAgICAgbGV0IHNjcmlwdHMgPSB0b0FycmF5KGhvc3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpKTtcbiAgICAgICAgLy8gTG9vcCBvdmVyIGVhY2ggc2NyaXB0IG5vZGUuXG4gICAgICAgIGZvciAobGV0IHNjcmlwdCBvZiBzY3JpcHRzKSB7XG4gICAgICAgICAgICAvLyBTa2lwIGFueSBzY3JpcHRzIHdoaWNoIG5vIGxvbmdlciBoYXZlIGEgcGFyZW50LlxuICAgICAgICAgICAgaWYgKCFzY3JpcHQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHNjcmlwdCBub2RlIHdoaWNoIHdpbGwgYmUgY2xvbmUuXG4gICAgICAgICAgICBsZXQgY2xvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgIC8vIENvcHkgdGhlIGF0dHJpYnV0ZXMgaW50byB0aGUgY2xvbmUuXG4gICAgICAgICAgICBsZXQgYXR0cnMgPSBzY3JpcHQuYXR0cmlidXRlcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gYXR0cnMubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgbmFtZSwgdmFsdWUgfSA9IGF0dHJzW2ldO1xuICAgICAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb3B5IHRoZSB0ZXh0IGNvbnRlbnQgaW50byB0aGUgY2xvbmUuXG4gICAgICAgICAgICBjbG9uZS50ZXh0Q29udGVudCA9IHNjcmlwdC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIG9sZCBzY3JpcHQgaW4gdGhlIHBhcmVudC5cbiAgICAgICAgICAgIHNjcmlwdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChjbG9uZSwgc2NyaXB0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcml2YXRlLmV2YWxJbm5lckhUTUxTY3JpcHRUYWdzID0gZXZhbElubmVySFRNTFNjcmlwdFRhZ3M7XG4gICAgLyoqXG4gICAgICogUmVuZGVyIG1hcmtkb3duIGZvciB0aGUgc3BlY2lmaWVkIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29udGVudCAtIFRoZSBzdHJpbmcgb2YgbWFya2Rvd24gdG8gcmVuZGVyLlxuICAgICAqXG4gICAgICogQHJldHVybiBBIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgcmVuZGVyZWQgY29udGVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW5kZXJNYXJrZWQoY29udGVudCkge1xuICAgICAgICBpbml0aWFsaXplTWFya2VkKCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBtYXJrZWQoY29udGVudCwgKGVyciwgY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgUHJpdmF0ZS5yZW5kZXJNYXJrZWQgPSByZW5kZXJNYXJrZWQ7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIG5vZGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZURlZmF1bHRzKG5vZGUsIHJlc29sdmVyKSB7XG4gICAgICAgIC8vIEhhbmRsZSBhbmNob3IgZWxlbWVudHMuXG4gICAgICAgIGxldCBhbmNob3JzID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuY2hvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gYW5jaG9yc1tpXTtcbiAgICAgICAgICAgIC8vIHNraXAgd2hlbiBwcm9jZXNzaW5nIGEgZWxlbWVudHMgaW5zaWRlIHN2Z1xuICAgICAgICAgICAgLy8gd2hpY2ggYXJlIG9mIHR5cGUgU1ZHQW5pbWF0ZWRTdHJpbmdcbiAgICAgICAgICAgIGlmICghKGVsIGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcGF0aCA9IGVsLmhyZWY7XG4gICAgICAgICAgICBjb25zdCBpc0xvY2FsID0gcmVzb2x2ZXIgJiYgcmVzb2x2ZXIuaXNMb2NhbFxuICAgICAgICAgICAgICAgID8gcmVzb2x2ZXIuaXNMb2NhbChwYXRoKVxuICAgICAgICAgICAgICAgIDogVVJMRXh0LmlzTG9jYWwocGF0aCk7XG4gICAgICAgICAgICAvLyBzZXQgdGFyZ2V0IGF0dHJpYnV0ZSBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBpZiAoIWVsLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIGVsLnRhcmdldCA9IGlzTG9jYWwgPyAnX3NlbGYnIDogJ19ibGFuayc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgcmVsIGFzICdub29wZW5lcicgZm9yIG5vbi1sb2NhbCBhbmNob3JzXG4gICAgICAgICAgICBpZiAoIWlzTG9jYWwpIHtcbiAgICAgICAgICAgICAgICBlbC5yZWwgPSAnbm9vcGVuZXInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBpbWFnZSBlbGVtZW50cy5cbiAgICAgICAgbGV0IGltZ3MgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWltZ3NbaV0uYWx0KSB7XG4gICAgICAgICAgICAgICAgaW1nc1tpXS5hbHQgPSAnSW1hZ2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUuaGFuZGxlRGVmYXVsdHMgPSBoYW5kbGVEZWZhdWx0cztcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIHRoZSByZWxhdGl2ZSB1cmxzIGluIGVsZW1lbnQgYHNyY2AgYW5kIGBocmVmYCBhdHRyaWJ1dGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGUgLSBUaGUgaGVhZCBodG1sIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzb2x2ZXIgLSBBIHVybCByZXNvbHZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaW5rSGFuZGxlciAtIEFuIG9wdGlvbmFsIGxpbmsgaGFuZGxlciBmb3Igbm9kZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgZnVsZmlsbGVkIHdoZW4gdGhlIHJlbGF0aXZlIHVybHMgaGF2ZSBiZWVuIHJlc29sdmVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZVVybHMobm9kZSwgcmVzb2x2ZXIsIGxpbmtIYW5kbGVyKSB7XG4gICAgICAgIC8vIFNldCB1cCBhbiBhcnJheSB0byBjb2xsZWN0IHByb21pc2VzLlxuICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgLy8gSGFuZGxlIEhUTUwgRWxlbWVudHMgd2l0aCBzcmMgYXR0cmlidXRlcy5cbiAgICAgICAgbGV0IG5vZGVzID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCcqW3NyY10nKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChoYW5kbGVBdHRyKG5vZGVzW2ldLCAnc3JjJywgcmVzb2x2ZXIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYW5jaG9yIGVsZW1lbnRzLlxuICAgICAgICBsZXQgYW5jaG9ycyA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmNob3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZUFuY2hvcihhbmNob3JzW2ldLCByZXNvbHZlciwgbGlua0hhbmRsZXIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgbGluayBlbGVtZW50cy5cbiAgICAgICAgbGV0IGxpbmtzID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGhhbmRsZUF0dHIobGlua3NbaV0sICdocmVmJywgcmVzb2x2ZXIpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXYWl0IG9uIGFsbCBwcm9taXNlcy5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIFByaXZhdGUuaGFuZGxlVXJscyA9IGhhbmRsZVVybHM7XG4gICAgLyoqXG4gICAgICogQXBwbHkgaWRzIHRvIGhlYWRlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZGVyQW5jaG9ycyhub2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGhlYWRlck5hbWVzID0gWydoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNiddO1xuICAgICAgICBmb3IgKGxldCBoZWFkZXJUeXBlIG9mIGhlYWRlck5hbWVzKSB7XG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaGVhZGVyVHlwZSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaGVhZGVyID0gaGVhZGVyc1tpXTtcbiAgICAgICAgICAgICAgICBoZWFkZXIuaWQgPSAoX2EgPSBoZWFkZXIudGV4dENvbnRlbnQsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJykpLnJlcGxhY2UoLyAvZywgJy0nKTtcbiAgICAgICAgICAgICAgICBsZXQgYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICAgIGFuY2hvci50YXJnZXQgPSAnX3NlbGYnO1xuICAgICAgICAgICAgICAgIGFuY2hvci50ZXh0Q29udGVudCA9ICfCtic7XG4gICAgICAgICAgICAgICAgYW5jaG9yLmhyZWYgPSAnIycgKyBoZWFkZXIuaWQ7XG4gICAgICAgICAgICAgICAgYW5jaG9yLmNsYXNzTGlzdC5hZGQoJ2pwLUludGVybmFsQW5jaG9yTGluaycpO1xuICAgICAgICAgICAgICAgIGhlYWRlci5hcHBlbmRDaGlsZChhbmNob3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUuaGVhZGVyQW5jaG9ycyA9IGhlYWRlckFuY2hvcnM7XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgbm9kZSB3aXRoIGEgYHNyY2Agb3IgYGhyZWZgIGF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVBdHRyKG5vZGUsIG5hbWUsIHJlc29sdmVyKSB7XG4gICAgICAgIGxldCBzb3VyY2UgPSBub2RlLmdldEF0dHJpYnV0ZShuYW1lKSB8fCAnJztcbiAgICAgICAgY29uc3QgaXNMb2NhbCA9IHJlc29sdmVyLmlzTG9jYWxcbiAgICAgICAgICAgID8gcmVzb2x2ZXIuaXNMb2NhbChzb3VyY2UpXG4gICAgICAgICAgICA6IFVSTEV4dC5pc0xvY2FsKHNvdXJjZSk7XG4gICAgICAgIGlmICghc291cmNlIHx8ICFpc0xvY2FsKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZXJcbiAgICAgICAgICAgIC5yZXNvbHZlVXJsKHNvdXJjZSlcbiAgICAgICAgICAgIC50aGVuKHVybFBhdGggPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyLmdldERvd25sb2FkVXJsKHVybFBhdGgpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odXJsID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrIHByb3RvY29sIGFnYWluIGluIGNhc2UgaXQgY2hhbmdlZDpcbiAgICAgICAgICAgIGlmIChVUkxFeHQucGFyc2UodXJsKS5wcm90b2NvbCAhPT0gJ2RhdGE6Jykge1xuICAgICAgICAgICAgICAgIC8vIEJ1c3QgY2FjaGluZyBmb3IgbG9jYWwgc3JjIGF0dHJzLlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdC9Vc2luZ19YTUxIdHRwUmVxdWVzdCNCeXBhc3NpbmdfdGhlX2NhY2hlXG4gICAgICAgICAgICAgICAgdXJsICs9ICgvXFw/Ly50ZXN0KHVybCkgPyAnJicgOiAnPycpICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB1cmwpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYW4gZXJyb3IgZ2V0dGluZyB0aGUgdXJsLFxuICAgICAgICAgICAgLy8ganVzdCBtYWtlIGl0IGFuIGVtcHR5IGxpbmsuXG4gICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYW4gYW5jaG9yIG5vZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFuZGxlQW5jaG9yKGFuY2hvciwgcmVzb2x2ZXIsIGxpbmtIYW5kbGVyKSB7XG4gICAgICAgIC8vIEdldCB0aGUgbGluayBwYXRoIHdpdGhvdXQgdGhlIGxvY2F0aW9uIHByZXBlbmRlZC5cbiAgICAgICAgLy8gKGUuZy4gXCIuL2Zvby5tZCNIZWFkZXIgMVwiIHZzIFwiaHR0cDovL2xvY2FsaG9zdDo4ODg4L2Zvby5tZCNIZWFkZXIgMVwiKVxuICAgICAgICBsZXQgaHJlZiA9IGFuY2hvci5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCAnJztcbiAgICAgICAgY29uc3QgaXNMb2NhbCA9IHJlc29sdmVyLmlzTG9jYWxcbiAgICAgICAgICAgID8gcmVzb2x2ZXIuaXNMb2NhbChocmVmKVxuICAgICAgICAgICAgOiBVUkxFeHQuaXNMb2NhbChocmVmKTtcbiAgICAgICAgLy8gQmFpbCBpZiBpdCBpcyBub3QgYSBmaWxlLWxpa2UgdXJsLlxuICAgICAgICBpZiAoIWhyZWYgfHwgIWlzTG9jYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgdGhlIGhhc2ggdW50aWwgd2UgY2FuIGhhbmRsZSBpdC5cbiAgICAgICAgbGV0IGhhc2ggPSBhbmNob3IuaGFzaDtcbiAgICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnRlcm5hbCBsaW5rIGluIHRoZSBmaWxlLlxuICAgICAgICAgICAgaWYgKGhhc2ggPT09IGhyZWYpIHtcbiAgICAgICAgICAgICAgICBhbmNob3IudGFyZ2V0ID0gJ19zZWxmJztcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3IgZXh0ZXJuYWwgbGlua3MsIHJlbW92ZSB0aGUgaGFzaCB1bnRpbCB3ZSBoYXZlIGhhc2ggaGFuZGxpbmcuXG4gICAgICAgICAgICBocmVmID0gaHJlZi5yZXBsYWNlKGhhc2gsICcnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIGFwcHJvcHJpYXRlIGZpbGUgcGF0aC5cbiAgICAgICAgcmV0dXJuIHJlc29sdmVyXG4gICAgICAgICAgICAucmVzb2x2ZVVybChocmVmKVxuICAgICAgICAgICAgLnRoZW4odXJsUGF0aCA9PiB7XG4gICAgICAgICAgICAvLyBkZWNvZGUgZW5jb2RlZCB1cmwgZnJvbSB1cmwgdG8gYXBpIHBhdGhcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBkZWNvZGVVUkkodXJsUGF0aCk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGNsaWNrIG92ZXJyaWRlLlxuICAgICAgICAgICAgaWYgKGxpbmtIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgbGlua0hhbmRsZXIuaGFuZGxlTGluayhhbmNob3IsIHBhdGgsIGhhc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2V0IHRoZSBhcHByb3ByaWF0ZSBmaWxlIGRvd25sb2FkIHBhdGguXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZXIuZ2V0RG93bmxvYWRVcmwodXJsUGF0aCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih1cmwgPT4ge1xuICAgICAgICAgICAgLy8gU2V0IHRoZSB2aXNpYmxlIGFuY2hvci5cbiAgICAgICAgICAgIGFuY2hvci5ocmVmID0gdXJsICsgaGFzaDtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgd2FzIGFuIGVycm9yIGdldHRpbmcgdGhlIHVybCxcbiAgICAgICAgICAgIC8vIGp1c3QgbWFrZSBpdCBhbiBlbXB0eSBsaW5rLlxuICAgICAgICAgICAgYW5jaG9yLmhyZWYgPSAnJztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBtYXJrZWRJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFN1cHBvcnQgR2l0SHViIGZsYXZvcmVkIE1hcmtkb3duLCBsZWF2ZSBzYW5pdGl6aW5nIHRvIGV4dGVybmFsIGxpYnJhcnkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZU1hcmtlZCgpIHtcbiAgICAgICAgaWYgKG1hcmtlZEluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWFya2VkSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBtYXJrZWQuc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICBnZm06IHRydWUsXG4gICAgICAgICAgICBzYW5pdGl6ZTogZmFsc2UsXG4gICAgICAgICAgICAvLyBicmVha3M6IHRydWU7IFdlIGNhbid0IHVzZSBHRk0gYnJlYWtzIGFzIGl0IGNhdXNlcyBwcm9ibGVtcyB3aXRoIHRhYmxlc1xuICAgICAgICAgICAgbGFuZ1ByZWZpeDogYGNtLXMtJHtDb2RlTWlycm9yRWRpdG9yLmRlZmF1bHRDb25maWcudGhlbWV9IGxhbmd1YWdlLWAsXG4gICAgICAgICAgICBoaWdobGlnaHQ6IChjb2RlLCBsYW5nLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjYiA9IChlcnIsIGNvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIGNvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCFsYW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIGxhbmd1YWdlLCBubyBoaWdobGlnaHRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIGNvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBNb2RlLmVuc3VyZShsYW5nKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihzcGVjID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3BlYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE5vIENvZGVNaXJyb3IgbW9kZTogJHtsYW5nfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIGNvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RlLnJ1bihjb2RlLCBzcGVjLm1pbWUsIGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihudWxsLCBlbC5pbm5lckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGYWlsZWQgdG8gaGlnaGxpZ2h0ICR7bGFuZ30gY29kZWAsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IoZXJyLCBjb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTm8gQ29kZU1pcnJvciBtb2RlOiAke2xhbmd9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXF1aXJlIENvZGVNaXJyb3IgbW9kZSBlcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihudWxsLCBjb2RlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBBTlNJX0NPTE9SUyA9IFtcbiAgICAgICAgJ2Fuc2ktYmxhY2snLFxuICAgICAgICAnYW5zaS1yZWQnLFxuICAgICAgICAnYW5zaS1ncmVlbicsXG4gICAgICAgICdhbnNpLXllbGxvdycsXG4gICAgICAgICdhbnNpLWJsdWUnLFxuICAgICAgICAnYW5zaS1tYWdlbnRhJyxcbiAgICAgICAgJ2Fuc2ktY3lhbicsXG4gICAgICAgICdhbnNpLXdoaXRlJyxcbiAgICAgICAgJ2Fuc2ktYmxhY2staW50ZW5zZScsXG4gICAgICAgICdhbnNpLXJlZC1pbnRlbnNlJyxcbiAgICAgICAgJ2Fuc2ktZ3JlZW4taW50ZW5zZScsXG4gICAgICAgICdhbnNpLXllbGxvdy1pbnRlbnNlJyxcbiAgICAgICAgJ2Fuc2ktYmx1ZS1pbnRlbnNlJyxcbiAgICAgICAgJ2Fuc2ktbWFnZW50YS1pbnRlbnNlJyxcbiAgICAgICAgJ2Fuc2ktY3lhbi1pbnRlbnNlJyxcbiAgICAgICAgJ2Fuc2ktd2hpdGUtaW50ZW5zZSdcbiAgICBdO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBIVE1MIHRhZ3MgZm9yIGEgc3RyaW5nIHdpdGggZ2l2ZW4gZm9yZWdyb3VuZCwgYmFja2dyb3VuZCBldGMuIGFuZFxuICAgICAqIGFkZCB0aGVtIHRvIHRoZSBgb3V0YCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdXNoQ29sb3JlZENodW5rKGNodW5rLCBmZywgYmcsIGJvbGQsIHVuZGVybGluZSwgaW52ZXJzZSwgb3V0KSB7XG4gICAgICAgIGlmIChjaHVuaykge1xuICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSBbXTtcbiAgICAgICAgICAgIGxldCBzdHlsZXMgPSBbXTtcbiAgICAgICAgICAgIGlmIChib2xkICYmIHR5cGVvZiBmZyA9PT0gJ251bWJlcicgJiYgMCA8PSBmZyAmJiBmZyA8IDgpIHtcbiAgICAgICAgICAgICAgICBmZyArPSA4OyAvLyBCb2xkIHRleHQgdXNlcyBcImludGVuc2VcIiBjb2xvcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnZlcnNlKSB7XG4gICAgICAgICAgICAgICAgW2ZnLCBiZ10gPSBbYmcsIGZnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKEFOU0lfQ09MT1JTW2ZnXSArICctZmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZnLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKGBjb2xvcjogcmdiKCR7Zmd9KWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW52ZXJzZSkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCgnYW5zaS1kZWZhdWx0LWludmVyc2UtZmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKEFOU0lfQ09MT1JTW2JnXSArICctYmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJnLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wdXNoKGBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoJHtiZ30pYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbnZlcnNlKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKCdhbnNpLWRlZmF1bHQtaW52ZXJzZS1iZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvbGQpIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goJ2Fuc2ktYm9sZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVuZGVybGluZSkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCgnYW5zaS11bmRlcmxpbmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbGFzc2VzLmxlbmd0aCB8fCBzdHlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goJzxzcGFuJyk7XG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKGAgY2xhc3M9XCIke2NsYXNzZXMuam9pbignICcpfVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKGAgc3R5bGU9XCIke3N0eWxlcy5qb2luKCc7ICcpfVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dC5wdXNoKCc+Jyk7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKCc8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBBTlNJIGV4dGVuZGVkIGNvbG9ycyB0byBSL0cvQiB0cmlwbGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RXh0ZW5kZWRDb2xvcnMobnVtYmVycykge1xuICAgICAgICBsZXQgcjtcbiAgICAgICAgbGV0IGc7XG4gICAgICAgIGxldCBiO1xuICAgICAgICBsZXQgbiA9IG51bWJlcnMuc2hpZnQoKTtcbiAgICAgICAgaWYgKG4gPT09IDIgJiYgbnVtYmVycy5sZW5ndGggPj0gMykge1xuICAgICAgICAgICAgLy8gMjQtYml0IFJHQlxuICAgICAgICAgICAgciA9IG51bWJlcnMuc2hpZnQoKTtcbiAgICAgICAgICAgIGcgPSBudW1iZXJzLnNoaWZ0KCk7XG4gICAgICAgICAgICBiID0gbnVtYmVycy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKFtyLCBnLCBiXS5zb21lKGMgPT4gYyA8IDAgfHwgMjU1IDwgYykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCByYW5nZSBmb3IgUkdCIGNvbG9ycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG4gPT09IDUgJiYgbnVtYmVycy5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgLy8gMjU2IGNvbG9yc1xuICAgICAgICAgICAgbGV0IGlkeCA9IG51bWJlcnMuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0NvbG9yIGluZGV4IG11c3QgYmUgPj0gMCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaWR4IDwgMTYpIHtcbiAgICAgICAgICAgICAgICAvLyAxNiBkZWZhdWx0IHRlcm1pbmFsIGNvbG9yc1xuICAgICAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpZHggPCAyMzIpIHtcbiAgICAgICAgICAgICAgICAvLyA2eDZ4NiBjb2xvciBjdWJlLCBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI3MTY1MTY1LzUwMDA5OFxuICAgICAgICAgICAgICAgIHIgPSBNYXRoLmZsb29yKChpZHggLSAxNikgLyAzNik7XG4gICAgICAgICAgICAgICAgciA9IHIgPiAwID8gNTUgKyByICogNDAgOiAwO1xuICAgICAgICAgICAgICAgIGcgPSBNYXRoLmZsb29yKCgoaWR4IC0gMTYpICUgMzYpIC8gNik7XG4gICAgICAgICAgICAgICAgZyA9IGcgPiAwID8gNTUgKyBnICogNDAgOiAwO1xuICAgICAgICAgICAgICAgIGIgPSAoaWR4IC0gMTYpICUgNjtcbiAgICAgICAgICAgICAgICBiID0gYiA+IDAgPyA1NSArIGIgKiA0MCA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpZHggPCAyNTYpIHtcbiAgICAgICAgICAgICAgICAvLyBncmF5c2NhbGUsIHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjcxNjUxNjUvNTAwMDk4XG4gICAgICAgICAgICAgICAgciA9IGcgPSBiID0gKGlkeCAtIDIzMikgKiAxMCArIDg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ29sb3IgaW5kZXggbXVzdCBiZSA8IDI1NicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgZXh0ZW5kZWQgY29sb3Igc3BlY2lmaWNhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbciwgZywgYl07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBBTlNJIGNvbG9yIGVzY2FwZSBjb2RlcyBpbnRvIEhUTUwgPHNwYW4+IHRhZ3Mgd2l0aCBDU1NcbiAgICAgKiBjbGFzc2VzIHN1Y2ggYXMgXCJhbnNpLWdyZWVuLWludGVuc2UtZmdcIi5cbiAgICAgKiBUaGUgYWN0dWFsIGNvbG9ycyB1c2VkIGFyZSBzZXQgaW4gdGhlIENTUyBmaWxlLlxuICAgICAqIFRoaXMgYWxzbyByZW1vdmVzIG5vbi1jb2xvciBlc2NhcGUgc2VxdWVuY2VzLlxuICAgICAqIFRoaXMgaXMgc3VwcG9zZWQgdG8gaGF2ZSB0aGUgc2FtZSBiZWhhdmlvciBhcyBuYmNvbnZlcnQuZmlsdGVycy5hbnNpMmh0bWwoKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuc2lTcGFuKHN0cikge1xuICAgICAgICBsZXQgYW5zaVJlID0gL1xceDFiXFxbKC4qPykoW0Atfl0pL2c7XG4gICAgICAgIGxldCBmZyA9IFtdO1xuICAgICAgICBsZXQgYmcgPSBbXTtcbiAgICAgICAgbGV0IGJvbGQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHVuZGVybGluZSA9IGZhbHNlO1xuICAgICAgICBsZXQgaW52ZXJzZSA9IGZhbHNlO1xuICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgIGxldCBvdXQgPSBbXTtcbiAgICAgICAgbGV0IG51bWJlcnMgPSBbXTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgc3RyID0gZXNjYXBlKHN0cik7XG4gICAgICAgIHN0ciArPSAnXFx4MWJbbSc7IC8vIEVuc3VyZSBtYXJrdXAgZm9yIHRyYWlsaW5nIHRleHRcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBhbnNpUmUuZXhlYyhzdHIpKSkge1xuICAgICAgICAgICAgaWYgKG1hdGNoWzJdID09PSAnbScpIHtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBtYXRjaFsxXS5zcGxpdCgnOycpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJzLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5zZWFyY2goL15cXGQrJC8pICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVycy5wdXNoKHBhcnNlSW50KGl0ZW0sIDEwKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmVkOiBJbnZhbGlkIGNvbG9yIHNwZWNpZmljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlZDogTm90IGEgY29sb3IgY29kZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNodW5rID0gc3RyLnN1YnN0cmluZyhzdGFydCwgbWF0Y2guaW5kZXgpO1xuICAgICAgICAgICAgcHVzaENvbG9yZWRDaHVuayhjaHVuaywgZmcsIGJnLCBib2xkLCB1bmRlcmxpbmUsIGludmVyc2UsIG91dCk7XG4gICAgICAgICAgICBzdGFydCA9IGFuc2lSZS5sYXN0SW5kZXg7XG4gICAgICAgICAgICB3aGlsZSAobnVtYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgbiA9IG51bWJlcnMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgZmcgPSBiZyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9sZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBib2xkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgICAgICAgICBib2xkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzMTpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzMzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzNTpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZnID0gbiAtIDMwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZnID0gZ2V0RXh0ZW5kZWRDb2xvcnMobnVtYmVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICAgICAgZmcgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQxOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQzOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ0OlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ1OlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ2OlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBuIC0gNDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0ODpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBnZXRFeHRlbmRlZENvbG9ycyhudW1iZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVycy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBiZyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTA6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTE6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTM6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTQ6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTU6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTY6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmZyA9IG4gLSA5MCArIDg7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDA6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTAxOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDM6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA0OlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwNTpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDY6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBuIC0gMTAwICsgODtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBVbmtub3duIGNvZGVzIGFyZSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQuam9pbignJyk7XG4gICAgfVxuICAgIFByaXZhdGUuYW5zaVNwYW4gPSBhbnNpU3Bhbjtcbn0pKFByaXZhdGUgfHwgKFByaXZhdGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyZXJzLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjQgMjQnJTNFICUzQ2cgY2xhc3M9J2pwLWljb24zJyBmaWxsPSclMjM2MTYxNjEnJTNFICUzQ3BhdGggZD0nTTkgMTZoNnYtNmg0bC03LTctNyA3aDR6bS00IDJoMTR2Mkg1eicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk05IDE2aDZ2LTZoNGwtNy03LTcgN2g0em0tNCAyaDE0djJINXpcXFwiLz5cXG4gIDwvZz5cXG48L3N2Zz5cXG5cIjsiLCIvLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5pbXBvcnQgeyBEb2NrUGFuZWxTdmcsIExhYkljb24gfSBmcm9tICdAanVweXRlcmxhYi91aS1jb21wb25lbnRzJztcbmltcG9ydCB7IEFycmF5RXh0LCBmaW5kLCBpdGVyLCB0b0FycmF5IH0gZnJvbSAnQGx1bWluby9hbGdvcml0aG0nO1xuaW1wb3J0IHsgUHJvbWlzZURlbGVnYXRlLCBUb2tlbiB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbmltcG9ydCB7IE1lc3NhZ2VMb29wIH0gZnJvbSAnQGx1bWluby9tZXNzYWdpbmcnO1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnQGx1bWluby9wb2xsaW5nJztcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0BsdW1pbm8vc2lnbmFsaW5nJztcbmltcG9ydCB7IEJveExheW91dCwgQm94UGFuZWwsIEZvY3VzVHJhY2tlciwgUGFuZWwsIFNwbGl0UGFuZWwsIFN0YWNrZWRQYW5lbCwgVGFiQmFyLCBXaWRnZXQgfSBmcm9tICdAbHVtaW5vL3dpZGdldHMnO1xuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB0byBBcHBTaGVsbCBpbnN0YW5jZXMuXG4gKi9cbmNvbnN0IEFQUExJQ0FUSU9OX1NIRUxMX0NMQVNTID0gJ2pwLUxhYlNoZWxsJztcbi8qKlxuICogVGhlIGNsYXNzIG5hbWUgYWRkZWQgdG8gc2lkZSBiYXIgaW5zdGFuY2VzLlxuICovXG5jb25zdCBTSURFQkFSX0NMQVNTID0gJ2pwLVNpZGVCYXInO1xuLyoqXG4gKiBUaGUgY2xhc3MgbmFtZSBhZGRlZCB0byB0aGUgY3VycmVudCB3aWRnZXQncyB0aXRsZS5cbiAqL1xuY29uc3QgQ1VSUkVOVF9DTEFTUyA9ICdqcC1tb2QtY3VycmVudCc7XG4vKipcbiAqIFRoZSBjbGFzcyBuYW1lIGFkZGVkIHRvIHRoZSBhY3RpdmUgd2lkZ2V0J3MgdGl0bGUuXG4gKi9cbmNvbnN0IEFDVElWRV9DTEFTUyA9ICdqcC1tb2QtYWN0aXZlJztcbi8qKlxuICogVGhlIGRlZmF1bHQgcmFuayBvZiBpdGVtcyBhZGRlZCB0byBhIHNpZGViYXIuXG4gKi9cbmNvbnN0IERFRkFVTFRfUkFOSyA9IDUwMDtcbmNvbnN0IEFDVElWSVRZX0NMQVNTID0gJ2pwLUFjdGl2aXR5Jztcbi8qIHRzbGludDpkaXNhYmxlICovXG4vKipcbiAqIFRoZSBKdXB5dGVyTGFiIGFwcGxpY2F0aW9uIHNoZWxsIHRva2VuLlxuICovXG5leHBvcnQgY29uc3QgSUxhYlNoZWxsID0gbmV3IFRva2VuKCdAanVweXRlcmxhYi9hcHBsaWNhdGlvbjpJTGFiU2hlbGwnKTtcbi8qKlxuICogVGhlIGFwcGxpY2F0aW9uIHNoZWxsIGZvciBKdXB5dGVyTGFiLlxuICovXG5leHBvcnQgY2xhc3MgTGFiU2hlbGwgZXh0ZW5kcyBXaWRnZXQge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBhcHBsaWNhdGlvbiBzaGVsbC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWVzc2FnZSBob29rIGZvciBjaGlsZCBhZGQvcmVtb3ZlIG1lc3NhZ2VzIG9uIHRoZSBtYWluIGFyZWEgZG9jayBwYW5lbC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RvY2tDaGlsZEhvb2sgPSAoaGFuZGxlciwgbXNnKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY2hpbGQtYWRkZWQnOlxuICAgICAgICAgICAgICAgICAgICBtc2cuY2hpbGQuYWRkQ2xhc3MoQUNUSVZJVFlfQ0xBU1MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFja2VyLmFkZChtc2cuY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjaGlsZC1yZW1vdmVkJzpcbiAgICAgICAgICAgICAgICAgICAgbXNnLmNoaWxkLnJlbW92ZUNsYXNzKEFDVElWSVRZX0NMQVNTKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhY2tlci5yZW1vdmUobXNnLmNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fYWN0aXZlQ2hhbmdlZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZExheW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRDaGFuZ2VkID0gbmV3IFNpZ25hbCh0aGlzKTtcbiAgICAgICAgdGhpcy5faXNSZXN0b3JlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9sYXlvdXRNb2RpZmllZCA9IG5ldyBTaWduYWwodGhpcyk7XG4gICAgICAgIHRoaXMuX2xheW91dERlYm91bmNlciA9IG5ldyBEZWJvdW5jZXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbGF5b3V0TW9kaWZpZWQuZW1pdCh1bmRlZmluZWQpO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgdGhpcy5fcmVzdG9yZWQgPSBuZXcgUHJvbWlzZURlbGVnYXRlKCk7XG4gICAgICAgIHRoaXMuX3RyYWNrZXIgPSBuZXcgRm9jdXNUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuX21haW5PcHRpb25zQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3NpZGVPcHRpb25zQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MoQVBQTElDQVRJT05fU0hFTExfQ0xBU1MpO1xuICAgICAgICB0aGlzLmlkID0gJ21haW4nO1xuICAgICAgICBsZXQgaGVhZGVyUGFuZWwgPSAodGhpcy5faGVhZGVyUGFuZWwgPSBuZXcgUGFuZWwoKSk7XG4gICAgICAgIGxldCB0b3BIYW5kbGVyID0gKHRoaXMuX3RvcEhhbmRsZXIgPSBuZXcgUHJpdmF0ZS5QYW5lbEhhbmRsZXIoKSk7XG4gICAgICAgIGxldCBib3R0b21QYW5lbCA9ICh0aGlzLl9ib3R0b21QYW5lbCA9IG5ldyBCb3hQYW5lbCgpKTtcbiAgICAgICAgbGV0IGhib3hQYW5lbCA9IG5ldyBCb3hQYW5lbCgpO1xuICAgICAgICBsZXQgZG9ja1BhbmVsID0gKHRoaXMuX2RvY2tQYW5lbCA9IG5ldyBEb2NrUGFuZWxTdmcoKSk7XG4gICAgICAgIE1lc3NhZ2VMb29wLmluc3RhbGxNZXNzYWdlSG9vayhkb2NrUGFuZWwsIHRoaXMuX2RvY2tDaGlsZEhvb2spO1xuICAgICAgICBsZXQgaHNwbGl0UGFuZWwgPSBuZXcgU3BsaXRQYW5lbCgpO1xuICAgICAgICBsZXQgbGVmdEhhbmRsZXIgPSAodGhpcy5fbGVmdEhhbmRsZXIgPSBuZXcgUHJpdmF0ZS5TaWRlQmFySGFuZGxlcigpKTtcbiAgICAgICAgbGV0IHJpZ2h0SGFuZGxlciA9ICh0aGlzLl9yaWdodEhhbmRsZXIgPSBuZXcgUHJpdmF0ZS5TaWRlQmFySGFuZGxlcigpKTtcbiAgICAgICAgbGV0IHJvb3RMYXlvdXQgPSBuZXcgQm94TGF5b3V0KCk7XG4gICAgICAgIGhlYWRlclBhbmVsLmlkID0gJ2pwLWhlYWRlci1wYW5lbCc7XG4gICAgICAgIHRvcEhhbmRsZXIucGFuZWwuaWQgPSAnanAtdG9wLXBhbmVsJztcbiAgICAgICAgYm90dG9tUGFuZWwuaWQgPSAnanAtYm90dG9tLXBhbmVsJztcbiAgICAgICAgaGJveFBhbmVsLmlkID0gJ2pwLW1haW4tY29udGVudC1wYW5lbCc7XG4gICAgICAgIGRvY2tQYW5lbC5pZCA9ICdqcC1tYWluLWRvY2stcGFuZWwnO1xuICAgICAgICBoc3BsaXRQYW5lbC5pZCA9ICdqcC1tYWluLXNwbGl0LXBhbmVsJztcbiAgICAgICAgbGVmdEhhbmRsZXIuc2lkZUJhci5hZGRDbGFzcyhTSURFQkFSX0NMQVNTKTtcbiAgICAgICAgbGVmdEhhbmRsZXIuc2lkZUJhci5hZGRDbGFzcygnanAtbW9kLWxlZnQnKTtcbiAgICAgICAgbGVmdEhhbmRsZXIuc3RhY2tlZFBhbmVsLmlkID0gJ2pwLWxlZnQtc3RhY2snO1xuICAgICAgICByaWdodEhhbmRsZXIuc2lkZUJhci5hZGRDbGFzcyhTSURFQkFSX0NMQVNTKTtcbiAgICAgICAgcmlnaHRIYW5kbGVyLnNpZGVCYXIuYWRkQ2xhc3MoJ2pwLW1vZC1yaWdodCcpO1xuICAgICAgICByaWdodEhhbmRsZXIuc3RhY2tlZFBhbmVsLmlkID0gJ2pwLXJpZ2h0LXN0YWNrJztcbiAgICAgICAgaGJveFBhbmVsLnNwYWNpbmcgPSAwO1xuICAgICAgICBkb2NrUGFuZWwuc3BhY2luZyA9IDU7XG4gICAgICAgIGhzcGxpdFBhbmVsLnNwYWNpbmcgPSAxO1xuICAgICAgICBoYm94UGFuZWwuZGlyZWN0aW9uID0gJ2xlZnQtdG8tcmlnaHQnO1xuICAgICAgICBoc3BsaXRQYW5lbC5vcmllbnRhdGlvbiA9ICdob3Jpem9udGFsJztcbiAgICAgICAgYm90dG9tUGFuZWwuZGlyZWN0aW9uID0gJ2JvdHRvbS10by10b3AnO1xuICAgICAgICBTcGxpdFBhbmVsLnNldFN0cmV0Y2gobGVmdEhhbmRsZXIuc3RhY2tlZFBhbmVsLCAwKTtcbiAgICAgICAgU3BsaXRQYW5lbC5zZXRTdHJldGNoKGRvY2tQYW5lbCwgMSk7XG4gICAgICAgIFNwbGl0UGFuZWwuc2V0U3RyZXRjaChyaWdodEhhbmRsZXIuc3RhY2tlZFBhbmVsLCAwKTtcbiAgICAgICAgQm94UGFuZWwuc2V0U3RyZXRjaChsZWZ0SGFuZGxlci5zaWRlQmFyLCAwKTtcbiAgICAgICAgQm94UGFuZWwuc2V0U3RyZXRjaChoc3BsaXRQYW5lbCwgMSk7XG4gICAgICAgIEJveFBhbmVsLnNldFN0cmV0Y2gocmlnaHRIYW5kbGVyLnNpZGVCYXIsIDApO1xuICAgICAgICBoc3BsaXRQYW5lbC5hZGRXaWRnZXQobGVmdEhhbmRsZXIuc3RhY2tlZFBhbmVsKTtcbiAgICAgICAgaHNwbGl0UGFuZWwuYWRkV2lkZ2V0KGRvY2tQYW5lbCk7XG4gICAgICAgIGhzcGxpdFBhbmVsLmFkZFdpZGdldChyaWdodEhhbmRsZXIuc3RhY2tlZFBhbmVsKTtcbiAgICAgICAgaGJveFBhbmVsLmFkZFdpZGdldChsZWZ0SGFuZGxlci5zaWRlQmFyKTtcbiAgICAgICAgaGJveFBhbmVsLmFkZFdpZGdldChoc3BsaXRQYW5lbCk7XG4gICAgICAgIGhib3hQYW5lbC5hZGRXaWRnZXQocmlnaHRIYW5kbGVyLnNpZGVCYXIpO1xuICAgICAgICByb290TGF5b3V0LmRpcmVjdGlvbiA9ICd0b3AtdG8tYm90dG9tJztcbiAgICAgICAgcm9vdExheW91dC5zcGFjaW5nID0gMDsgLy8gVE9ETyBtYWtlIHRoaXMgY29uZmlndXJhYmxlP1xuICAgICAgICAvLyBVc2UgcmVsYXRpdmUgc2l6aW5nIHRvIHNldCB0aGUgd2lkdGggb2YgdGhlIHNpZGUgcGFuZWxzLlxuICAgICAgICAvLyBUaGlzIHdpbGwgc3RpbGwgcmVzcGVjdCB0aGUgbWluLXNpemUgb2YgY2hpbGRyZW4gd2lkZ2V0IGluIHRoZSBzdGFja2VkXG4gICAgICAgIC8vIHBhbmVsLlxuICAgICAgICBoc3BsaXRQYW5lbC5zZXRSZWxhdGl2ZVNpemVzKFsxLCAyLjUsIDFdKTtcbiAgICAgICAgQm94TGF5b3V0LnNldFN0cmV0Y2goaGVhZGVyUGFuZWwsIDApO1xuICAgICAgICBCb3hMYXlvdXQuc2V0U3RyZXRjaCh0b3BIYW5kbGVyLnBhbmVsLCAwKTtcbiAgICAgICAgQm94TGF5b3V0LnNldFN0cmV0Y2goaGJveFBhbmVsLCAxKTtcbiAgICAgICAgQm94TGF5b3V0LnNldFN0cmV0Y2goYm90dG9tUGFuZWwsIDApO1xuICAgICAgICByb290TGF5b3V0LmFkZFdpZGdldChoZWFkZXJQYW5lbCk7XG4gICAgICAgIHJvb3RMYXlvdXQuYWRkV2lkZ2V0KHRvcEhhbmRsZXIucGFuZWwpO1xuICAgICAgICByb290TGF5b3V0LmFkZFdpZGdldChoYm94UGFuZWwpO1xuICAgICAgICByb290TGF5b3V0LmFkZFdpZGdldChib3R0b21QYW5lbCk7XG4gICAgICAgIC8vIGluaXRpYWxseSBoaWRpbmcgaGVhZGVyIGFuZCBib3R0b20gcGFuZWwgd2hlbiBubyBlbGVtZW50cyBpbnNpZGVcbiAgICAgICAgdGhpcy5faGVhZGVyUGFuZWwuaGlkZSgpO1xuICAgICAgICB0aGlzLl9ib3R0b21QYW5lbC5oaWRlKCk7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gcm9vdExheW91dDtcbiAgICAgICAgLy8gQ29ubmVjdCBjaGFuZ2UgbGlzdGVuZXJzLlxuICAgICAgICB0aGlzLl90cmFja2VyLmN1cnJlbnRDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25DdXJyZW50Q2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIHRoaXMuX3RyYWNrZXIuYWN0aXZlQ2hhbmdlZC5jb25uZWN0KHRoaXMuX29uQWN0aXZlQ2hhbmdlZCwgdGhpcyk7XG4gICAgICAgIC8vIENvbm5lY3QgbWFpbiBsYXlvdXQgY2hhbmdlIGxpc3RlbmVyLlxuICAgICAgICB0aGlzLl9kb2NrUGFuZWwubGF5b3V0TW9kaWZpZWQuY29ubmVjdCh0aGlzLl9vbkxheW91dE1vZGlmaWVkLCB0aGlzKTtcbiAgICAgICAgLy8gQ2F0Y2ggY3VycmVudCBjaGFuZ2VkIGV2ZW50cyBvbiB0aGUgc2lkZSBoYW5kbGVycy5cbiAgICAgICAgdGhpcy5fbGVmdEhhbmRsZXIuc2lkZUJhci5jdXJyZW50Q2hhbmdlZC5jb25uZWN0KHRoaXMuX29uTGF5b3V0TW9kaWZpZWQsIHRoaXMpO1xuICAgICAgICB0aGlzLl9yaWdodEhhbmRsZXIuc2lkZUJhci5jdXJyZW50Q2hhbmdlZC5jb25uZWN0KHRoaXMuX29uTGF5b3V0TW9kaWZpZWQsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gbWFpbiBhcmVhJ3MgYWN0aXZlIGZvY3VzIGNoYW5nZXMuXG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZUNoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmVDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYWN0aXZlIHdpZGdldCBpbiB0aGUgc2hlbGwncyBtYWluIGFyZWEuXG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZVdpZGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYWNrZXIuYWN0aXZlV2lkZ2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gbWFpbiBhcmVhJ3MgY3VycmVudCBmb2N1cyBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGdldCBjdXJyZW50Q2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRDaGFuZ2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB3aWRnZXQgaW4gdGhlIHNoZWxsJ3MgbWFpbiBhcmVhLlxuICAgICAqL1xuICAgIGdldCBjdXJyZW50V2lkZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tlci5jdXJyZW50V2lkZ2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpZ25hbCBlbWl0dGVkIHdoZW4gdGhlIG1haW4gYXJlYSdzIGxheW91dCBpcyBtb2RpZmllZC5cbiAgICAgKi9cbiAgICBnZXQgbGF5b3V0TW9kaWZpZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXlvdXRNb2RpZmllZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgbGVmdCBhcmVhIGlzIGNvbGxhcHNlZC5cbiAgICAgKi9cbiAgICBnZXQgbGVmdENvbGxhcHNlZCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9sZWZ0SGFuZGxlci5zaWRlQmFyLmN1cnJlbnRUaXRsZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgbGVmdCBhcmVhIGlzIGNvbGxhcHNlZC5cbiAgICAgKi9cbiAgICBnZXQgcmlnaHRDb2xsYXBzZWQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5fcmlnaHRIYW5kbGVyLnNpZGVCYXIuY3VycmVudFRpdGxlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIEp1cHl0ZXJMYWIgaXMgaW4gcHJlc2VudGF0aW9uIG1vZGUgd2l0aCB0aGVcbiAgICAgKiBganAtbW9kLXByZXNlbnRhdGlvbk1vZGVgIENTUyBjbGFzcy5cbiAgICAgKi9cbiAgICBnZXQgcHJlc2VudGF0aW9uTW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQ2xhc3MoJ2pwLW1vZC1wcmVzZW50YXRpb25Nb2RlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuYWJsZS9kaXNhYmxlIHByZXNlbnRhdGlvbiBtb2RlIChganAtbW9kLXByZXNlbnRhdGlvbk1vZGVgIENTUyBjbGFzcykgd2l0aFxuICAgICAqIGEgYm9vbGVhbi5cbiAgICAgKi9cbiAgICBzZXQgcHJlc2VudGF0aW9uTW9kZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnRvZ2dsZUNsYXNzKCdqcC1tb2QtcHJlc2VudGF0aW9uTW9kZScsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1haW4gZG9jayBhcmVhJ3MgdXNlciBpbnRlcmZhY2UgbW9kZS5cbiAgICAgKi9cbiAgICBnZXQgbW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvY2tQYW5lbC5tb2RlO1xuICAgIH1cbiAgICBzZXQgbW9kZShtb2RlKSB7XG4gICAgICAgIGNvbnN0IGRvY2sgPSB0aGlzLl9kb2NrUGFuZWw7XG4gICAgICAgIGlmIChtb2RlID09PSBkb2NrLm1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHBsaWNhdGlvbkN1cnJlbnRXaWRnZXQgPSB0aGlzLmN1cnJlbnRXaWRnZXQ7XG4gICAgICAgIGlmIChtb2RlID09PSAnc2luZ2xlLWRvY3VtZW50Jykge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkTGF5b3V0ID0gZG9jay5zYXZlTGF5b3V0KCk7XG4gICAgICAgICAgICBkb2NrLm1vZGUgPSBtb2RlO1xuICAgICAgICAgICAgLy8gSW4gY2FzZSB0aGUgYWN0aXZlIHdpZGdldCBpbiB0aGUgZG9jayBwYW5lbCBpcyAqbm90KiB0aGUgYWN0aXZlIHdpZGdldFxuICAgICAgICAgICAgLy8gb2YgdGhlIGFwcGxpY2F0aW9uLCBkZWZlciB0byB0aGUgYXBwbGljYXRpb24uXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50V2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgZG9jay5hY3RpdmF0ZVdpZGdldCh0aGlzLmN1cnJlbnRXaWRnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHRoZSBtb2RlIGRhdGEgYXR0cmlidXRlIG9uIHRoZSBhcHBsaWNhdGlvbiBzaGVsbCBub2RlLlxuICAgICAgICAgICAgdGhpcy5ub2RlLmRhdGFzZXQuc2hlbGxNb2RlID0gbW9kZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWNoZSBhIHJlZmVyZW5jZSB0byBldmVyeSB3aWRnZXQgY3VycmVudGx5IGluIHRoZSBkb2NrIHBhbmVsLlxuICAgICAgICBjb25zdCB3aWRnZXRzID0gdG9BcnJheShkb2NrLndpZGdldHMoKSk7XG4gICAgICAgIC8vIFRvZ2dsZSBiYWNrIHRvIG11bHRpcGxlIGRvY3VtZW50IG1vZGUuXG4gICAgICAgIGRvY2subW9kZSA9IG1vZGU7XG4gICAgICAgIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIGxheW91dC5cbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZExheW91dCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFueSBkaXNwb3NlZCB3aWRnZXRzIGluIHRoZSBjYWNoZWQgbGF5b3V0IGFuZCByZXN0b3JlLlxuICAgICAgICAgICAgUHJpdmF0ZS5ub3JtYWxpemVBcmVhQ29uZmlnKGRvY2ssIHRoaXMuX2NhY2hlZExheW91dC5tYWluKTtcbiAgICAgICAgICAgIGRvY2sucmVzdG9yZUxheW91dCh0aGlzLl9jYWNoZWRMYXlvdXQpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkTGF5b3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgYW55IHdpZGdldHMgY3JlYXRlZCBkdXJpbmcgc2luZ2xlIGRvY3VtZW50IG1vZGUsIHdoaWNoIGhhdmVcbiAgICAgICAgLy8gc3Vic2VxdWVudGx5IGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBkb2NrIHBhbmVsIGFmdGVyIHRoZSBtdWx0aXBsZSBkb2N1bWVudFxuICAgICAgICAvLyBsYXlvdXQgaGFzIGJlZW4gcmVzdG9yZWQuIElmIHRoZSB3aWRnZXQgaGFzIGFkZCBvcHRpb25zIGNhY2hlZCBmb3JcbiAgICAgICAgLy8gaXQgKGkuZS4sIGlmIGl0IGhhcyBiZWVuIHBsYWNlZCB3aXRoIHJlc3BlY3QgdG8gYW5vdGhlciB3aWRnZXQpLFxuICAgICAgICAvLyB0aGVuIHRha2UgdGhhdCBpbnRvIGFjY291bnQuXG4gICAgICAgIHdpZGdldHMuZm9yRWFjaCh3aWRnZXQgPT4ge1xuICAgICAgICAgICAgaWYgKCF3aWRnZXQucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkVG9NYWluQXJlYSh3aWRnZXQsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fbWFpbk9wdGlvbnNDYWNoZS5nZXQod2lkZ2V0KSksIHsgYWN0aXZhdGU6IGZhbHNlIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX21haW5PcHRpb25zQ2FjaGUuY2xlYXIoKTtcbiAgICAgICAgLy8gSW4gY2FzZSB0aGUgYWN0aXZlIHdpZGdldCBpbiB0aGUgZG9jayBwYW5lbCBpcyAqbm90KiB0aGUgYWN0aXZlIHdpZGdldFxuICAgICAgICAvLyBvZiB0aGUgYXBwbGljYXRpb24sIGRlZmVyIHRvIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgICAgaWYgKGFwcGxpY2F0aW9uQ3VycmVudFdpZGdldCkge1xuICAgICAgICAgICAgZG9jay5hY3RpdmF0ZVdpZGdldChhcHBsaWNhdGlvbkN1cnJlbnRXaWRnZXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgbW9kZSBkYXRhIGF0dHJpYnV0ZSBvbiB0aGUgYXBwbGljYXRpb25zIHNoZWxsIG5vZGUuXG4gICAgICAgIHRoaXMubm9kZS5kYXRhc2V0LnNoZWxsTW9kZSA9IG1vZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHN0YXRlIGlzIGZpcnN0IHJlc3RvcmVkLCByZXR1cm5pbmcgbGF5b3V0XG4gICAgICogZGVzY3JpcHRpb24uXG4gICAgICovXG4gICAgZ2V0IHJlc3RvcmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdG9yZWQucHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgYSB3aWRnZXQgaW4gaXRzIGFyZWEuXG4gICAgICovXG4gICAgYWN0aXZhdGVCeUlkKGlkKSB7XG4gICAgICAgIGlmICh0aGlzLl9sZWZ0SGFuZGxlci5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0SGFuZGxlci5hY3RpdmF0ZShpZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3JpZ2h0SGFuZGxlci5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9yaWdodEhhbmRsZXIuYWN0aXZhdGUoaWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRvY2sgPSB0aGlzLl9kb2NrUGFuZWw7XG4gICAgICAgIGNvbnN0IHdpZGdldCA9IGZpbmQoZG9jay53aWRnZXRzKCksIHZhbHVlID0+IHZhbHVlLmlkID09PSBpZCk7XG4gICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgIGRvY2suYWN0aXZhdGVXaWRnZXQod2lkZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKlxuICAgICAqIEFjdGl2YXRlIHRoZSBuZXh0IFRhYiBpbiB0aGUgYWN0aXZlIFRhYkJhci5cbiAgICAgKi9cbiAgICBhY3RpdmF0ZU5leHRUYWIoKSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5fY3VycmVudFRhYkJhcigpO1xuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2kgPSBjdXJyZW50LmN1cnJlbnRJbmRleDtcbiAgICAgICAgaWYgKGNpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaSA8IGN1cnJlbnQudGl0bGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGN1cnJlbnQuY3VycmVudEluZGV4ICs9IDE7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5jdXJyZW50VGl0bGUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LmN1cnJlbnRUaXRsZS5vd25lci5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaSA9PT0gY3VycmVudC50aXRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgbGV0IG5leHRCYXIgPSB0aGlzLl9hZGphY2VudEJhcignbmV4dCcpO1xuICAgICAgICAgICAgaWYgKG5leHRCYXIpIHtcbiAgICAgICAgICAgICAgICBuZXh0QmFyLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRCYXIuY3VycmVudFRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRCYXIuY3VycmVudFRpdGxlLm93bmVyLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qXG4gICAgICogQWN0aXZhdGUgdGhlIHByZXZpb3VzIFRhYiBpbiB0aGUgYWN0aXZlIFRhYkJhci5cbiAgICAgKi9cbiAgICBhY3RpdmF0ZVByZXZpb3VzVGFiKCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2N1cnJlbnRUYWJCYXIoKTtcbiAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNpID0gY3VycmVudC5jdXJyZW50SW5kZXg7XG4gICAgICAgIGlmIChjaSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2kgPiAwKSB7XG4gICAgICAgICAgICBjdXJyZW50LmN1cnJlbnRJbmRleCAtPSAxO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQuY3VycmVudFRpdGxlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5jdXJyZW50VGl0bGUub3duZXIuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2kgPT09IDApIHtcbiAgICAgICAgICAgIGxldCBwcmV2QmFyID0gdGhpcy5fYWRqYWNlbnRCYXIoJ3ByZXZpb3VzJyk7XG4gICAgICAgICAgICBpZiAocHJldkJhcikge1xuICAgICAgICAgICAgICAgIGxldCBsZW4gPSBwcmV2QmFyLnRpdGxlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcHJldkJhci5jdXJyZW50SW5kZXggPSBsZW4gLSAxO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2QmFyLmN1cnJlbnRUaXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2QmFyLmN1cnJlbnRUaXRsZS5vd25lci5hY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKlxuICAgICAqIEFjdGl2YXRlIHRoZSBuZXh0IFRhYkJhci5cbiAgICAgKi9cbiAgICBhY3RpdmF0ZU5leHRUYWJCYXIoKSB7XG4gICAgICAgIGxldCBuZXh0QmFyID0gdGhpcy5fYWRqYWNlbnRCYXIoJ25leHQnKTtcbiAgICAgICAgaWYgKG5leHRCYXIpIHtcbiAgICAgICAgICAgIGlmIChuZXh0QmFyLmN1cnJlbnRUaXRsZSkge1xuICAgICAgICAgICAgICAgIG5leHRCYXIuY3VycmVudFRpdGxlLm93bmVyLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLypcbiAgICAgKiBBY3RpdmF0ZSB0aGUgbmV4dCBUYWJCYXIuXG4gICAgICovXG4gICAgYWN0aXZhdGVQcmV2aW91c1RhYkJhcigpIHtcbiAgICAgICAgbGV0IG5leHRCYXIgPSB0aGlzLl9hZGphY2VudEJhcigncHJldmlvdXMnKTtcbiAgICAgICAgaWYgKG5leHRCYXIpIHtcbiAgICAgICAgICAgIGlmIChuZXh0QmFyLmN1cnJlbnRUaXRsZSkge1xuICAgICAgICAgICAgICAgIG5leHRCYXIuY3VycmVudFRpdGxlLm93bmVyLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkKHdpZGdldCwgYXJlYSA9ICdtYWluJywgb3B0aW9ucykge1xuICAgICAgICBzd2l0Y2ggKGFyZWEgfHwgJ21haW4nKSB7XG4gICAgICAgICAgICBjYXNlICdtYWluJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9NYWluQXJlYSh3aWRnZXQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFRvTGVmdEFyZWEod2lkZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9SaWdodEFyZWEod2lkZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgJ2hlYWRlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFRvSGVhZGVyQXJlYSh3aWRnZXQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9Ub3BBcmVhKHdpZGdldCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRUb0JvdHRvbUFyZWEod2lkZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFyZWE6ICR7YXJlYX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb2xsYXBzZSB0aGUgbGVmdCBhcmVhLlxuICAgICAqL1xuICAgIGNvbGxhcHNlTGVmdCgpIHtcbiAgICAgICAgdGhpcy5fbGVmdEhhbmRsZXIuY29sbGFwc2UoKTtcbiAgICAgICAgdGhpcy5fb25MYXlvdXRNb2RpZmllZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb2xsYXBzZSB0aGUgcmlnaHQgYXJlYS5cbiAgICAgKi9cbiAgICBjb2xsYXBzZVJpZ2h0KCkge1xuICAgICAgICB0aGlzLl9yaWdodEhhbmRsZXIuY29sbGFwc2UoKTtcbiAgICAgICAgdGhpcy5fb25MYXlvdXRNb2RpZmllZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIHRoZSBzaGVsbC5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGF5b3V0RGVib3VuY2VyLmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBhbmQgdGhlIGxlZnQgYXJlYS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBUaGlzIHdpbGwgb3BlbiB0aGUgbW9zdCByZWNlbnRseSB1c2VkIHRhYixcbiAgICAgKiBvciB0aGUgZmlyc3QgdGFiIGlmIHRoZXJlIGlzIG5vIG1vc3QgcmVjZW50bHkgdXNlZC5cbiAgICAgKi9cbiAgICBleHBhbmRMZWZ0KCkge1xuICAgICAgICB0aGlzLl9sZWZ0SGFuZGxlci5leHBhbmQoKTtcbiAgICAgICAgdGhpcy5fb25MYXlvdXRNb2RpZmllZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBhbmQgdGhlIHJpZ2h0IGFyZWEuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogVGhpcyB3aWxsIG9wZW4gdGhlIG1vc3QgcmVjZW50bHkgdXNlZCB0YWIsXG4gICAgICogb3IgdGhlIGZpcnN0IHRhYiBpZiB0aGVyZSBpcyBubyBtb3N0IHJlY2VudGx5IHVzZWQuXG4gICAgICovXG4gICAgZXhwYW5kUmlnaHQoKSB7XG4gICAgICAgIHRoaXMuX3JpZ2h0SGFuZGxlci5leHBhbmQoKTtcbiAgICAgICAgdGhpcy5fb25MYXlvdXRNb2RpZmllZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSBhbGwgd2lkZ2V0cyBpbiB0aGUgbWFpbiBhcmVhLlxuICAgICAqL1xuICAgIGNsb3NlQWxsKCkge1xuICAgICAgICAvLyBNYWtlIGEgY29weSBvZiBhbGwgdGhlIHdpZGdldCBpbiB0aGUgZG9jayBwYW5lbCAodXNpbmcgYHRvQXJyYXkoKWApXG4gICAgICAgIC8vIGJlZm9yZSByZW1vdmluZyB0aGVtIGJlY2F1c2UgcmVtb3ZpbmcgdGhlbSB3aGlsZSBpdGVyYXRpbmcgdGhyb3VnaCB0aGVtXG4gICAgICAgIC8vIG1vZGlmaWVzIHRoZSB1bmRlcmx5aW5nIGRhdGEgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICB0b0FycmF5KHRoaXMuX2RvY2tQYW5lbC53aWRnZXRzKCkpLmZvckVhY2god2lkZ2V0ID0+IHdpZGdldC5jbG9zZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGUgZ2l2ZW4gYXJlYSBpcyBlbXB0eS5cbiAgICAgKi9cbiAgICBpc0VtcHR5KGFyZWEpIHtcbiAgICAgICAgc3dpdGNoIChhcmVhKSB7XG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVmdEhhbmRsZXIuc3RhY2tlZFBhbmVsLndpZGdldHMubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgY2FzZSAnbWFpbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RvY2tQYW5lbC5pc0VtcHR5O1xuICAgICAgICAgICAgY2FzZSAnaGVhZGVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGVhZGVyUGFuZWwud2lkZ2V0cy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3BIYW5kbGVyLnBhbmVsLndpZGdldHMubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tUGFuZWwud2lkZ2V0cy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0SGFuZGxlci5zdGFja2VkUGFuZWwud2lkZ2V0cy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc3RvcmUgdGhlIGxheW91dCBzdGF0ZSBmb3IgdGhlIGFwcGxpY2F0aW9uIHNoZWxsLlxuICAgICAqL1xuICAgIHJlc3RvcmVMYXlvdXQobGF5b3V0KSB7XG4gICAgICAgIGNvbnN0IHsgbWFpbkFyZWEsIGxlZnRBcmVhLCByaWdodEFyZWEgfSA9IGxheW91dDtcbiAgICAgICAgLy8gUmVoeWRyYXRlIHRoZSBtYWluIGFyZWEuXG4gICAgICAgIGlmIChtYWluQXJlYSkge1xuICAgICAgICAgICAgY29uc3QgeyBjdXJyZW50V2lkZ2V0LCBkb2NrLCBtb2RlIH0gPSBtYWluQXJlYTtcbiAgICAgICAgICAgIGlmIChkb2NrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9ja1BhbmVsLnJlc3RvcmVMYXlvdXQoZG9jayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudFdpZGdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVCeUlkKGN1cnJlbnRXaWRnZXQuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlaHlkcmF0ZSB0aGUgbGVmdCBhcmVhLlxuICAgICAgICBpZiAobGVmdEFyZWEpIHtcbiAgICAgICAgICAgIHRoaXMuX2xlZnRIYW5kbGVyLnJlaHlkcmF0ZShsZWZ0QXJlYSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVoeWRyYXRlIHRoZSByaWdodCBhcmVhLlxuICAgICAgICBpZiAocmlnaHRBcmVhKSB7XG4gICAgICAgICAgICB0aGlzLl9yaWdodEhhbmRsZXIucmVoeWRyYXRlKHJpZ2h0QXJlYSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc1Jlc3RvcmVkKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIG1lc3NhZ2VzIGluIHRoZSBxdWV1ZSBhcmUgZmluaXNoZWQgYmVmb3JlIG5vdGlmeWluZ1xuICAgICAgICAgICAgLy8gYW55IGV4dGVuc2lvbnMgdGhhdCBhcmUgd2FpdGluZyBmb3IgdGhlIHByb21pc2UgdGhhdCBndWFyYW50ZWVzIHRoZVxuICAgICAgICAgICAgLy8gYXBwbGljYXRpb24gc3RhdGUgaGFzIGJlZW4gcmVzdG9yZWQuXG4gICAgICAgICAgICBNZXNzYWdlTG9vcC5mbHVzaCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVzdG9yZWQucmVzb2x2ZShsYXlvdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIGRlaHlkcmF0ZWQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uIHNoZWxsLlxuICAgICAqL1xuICAgIHNhdmVMYXlvdXQoKSB7XG4gICAgICAgIC8vIElmIHRoZSBhcHBsaWNhdGlvbiBpcyBpbiBzaW5nbGUgZG9jdW1lbnQgbW9kZSwgdXNlIHRoZSBjYWNoZWQgbGF5b3V0IGlmXG4gICAgICAgIC8vIGF2YWlsYWJsZS4gT3RoZXJ3aXNlLCBkZWZhdWx0IHRvIHF1ZXJ5aW5nIHRoZSBkb2NrIHBhbmVsIGZvciBsYXlvdXQuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYWluQXJlYToge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRXaWRnZXQ6IHRoaXMuX3RyYWNrZXIuY3VycmVudFdpZGdldCxcbiAgICAgICAgICAgICAgICBkb2NrOiB0aGlzLm1vZGUgPT09ICdzaW5nbGUtZG9jdW1lbnQnXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5fY2FjaGVkTGF5b3V0IHx8IHRoaXMuX2RvY2tQYW5lbC5zYXZlTGF5b3V0KClcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kb2NrUGFuZWwuc2F2ZUxheW91dCgpLFxuICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMuX2RvY2tQYW5lbC5tb2RlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGVmdEFyZWE6IHRoaXMuX2xlZnRIYW5kbGVyLmRlaHlkcmF0ZSgpLFxuICAgICAgICAgICAgcmlnaHRBcmVhOiB0aGlzLl9yaWdodEhhbmRsZXIuZGVoeWRyYXRlKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgd2lkZ2V0cyBmb3IgYW4gYXBwbGljYXRpb24gYXJlYS5cbiAgICAgKi9cbiAgICB3aWRnZXRzKGFyZWEpIHtcbiAgICAgICAgc3dpdGNoIChhcmVhIHx8ICdtYWluJykge1xuICAgICAgICAgICAgY2FzZSAnbWFpbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RvY2tQYW5lbC53aWRnZXRzKCk7XG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlcih0aGlzLl9sZWZ0SGFuZGxlci5zaWRlQmFyLnRpdGxlcy5tYXAodCA9PiB0Lm93bmVyKSk7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXIodGhpcy5fcmlnaHRIYW5kbGVyLnNpZGVCYXIudGl0bGVzLm1hcCh0ID0+IHQub3duZXIpKTtcbiAgICAgICAgICAgIGNhc2UgJ2hlYWRlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlYWRlclBhbmVsLmNoaWxkcmVuKCk7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3BIYW5kbGVyLnBhbmVsLmNoaWxkcmVuKCk7XG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21QYW5lbC5jaGlsZHJlbigpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXJlYTogJHthcmVhfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBgYWZ0ZXItYXR0YWNoYCBtZXNzYWdlcyBmb3IgdGhlIGFwcGxpY2F0aW9uIHNoZWxsLlxuICAgICAqL1xuICAgIG9uQWZ0ZXJBdHRhY2gobXNnKSB7XG4gICAgICAgIHRoaXMubm9kZS5kYXRhc2V0LnNoZWxsTW9kZSA9IHRoaXMubW9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgd2lkZ2V0IHRvIHRoZSBsZWZ0IGNvbnRlbnQgYXJlYS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBXaWRnZXRzIG11c3QgaGF2ZSBhIHVuaXF1ZSBgaWRgIHByb3BlcnR5LCB3aGljaCB3aWxsIGJlIHVzZWQgYXMgdGhlIERPTSBpZC5cbiAgICAgKi9cbiAgICBfYWRkVG9MZWZ0QXJlYSh3aWRnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF3aWRnZXQuaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dpZGdldHMgYWRkZWQgdG8gYXBwIHNoZWxsIG11c3QgaGF2ZSB1bmlxdWUgaWQgcHJvcGVydHkuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgdGhpcy5fc2lkZU9wdGlvbnNDYWNoZS5nZXQod2lkZ2V0KSB8fCB7fTtcbiAgICAgICAgdGhpcy5fc2lkZU9wdGlvbnNDYWNoZS5zZXQod2lkZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgbGV0IHJhbmsgPSAncmFuaycgaW4gb3B0aW9ucyA/IG9wdGlvbnMucmFuayA6IERFRkFVTFRfUkFOSztcbiAgICAgICAgdGhpcy5fbGVmdEhhbmRsZXIuYWRkV2lkZ2V0KHdpZGdldCwgcmFuayk7XG4gICAgICAgIHRoaXMuX29uTGF5b3V0TW9kaWZpZWQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgd2lkZ2V0IHRvIHRoZSBtYWluIGNvbnRlbnQgYXJlYS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBXaWRnZXRzIG11c3QgaGF2ZSBhIHVuaXF1ZSBgaWRgIHByb3BlcnR5LCB3aGljaCB3aWxsIGJlIHVzZWQgYXMgdGhlIERPTSBpZC5cbiAgICAgKiBBbGwgd2lkZ2V0cyBhZGRlZCB0byB0aGUgbWFpbiBhcmVhIHNob3VsZCBiZSBkaXNwb3NlZCBhZnRlciByZW1vdmFsXG4gICAgICogKGRpc3Bvc2FsIGJlZm9yZSByZW1vdmFsIHdpbGwgcmVtb3ZlIHRoZSB3aWRnZXQgYXV0b21hdGljYWxseSkuXG4gICAgICpcbiAgICAgKiBJbiB0aGUgb3B0aW9ucywgYHJlZmAgZGVmYXVsdHMgdG8gYG51bGxgLCBgbW9kZWAgZGVmYXVsdHMgdG8gYCd0YWItYWZ0ZXInYCxcbiAgICAgKiBhbmQgYGFjdGl2YXRlYCBkZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAgICovXG4gICAgX2FkZFRvTWFpbkFyZWEod2lkZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghd2lkZ2V0LmlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXaWRnZXRzIGFkZGVkIHRvIGFwcCBzaGVsbCBtdXN0IGhhdmUgdW5pcXVlIGlkIHByb3BlcnR5LicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCBkb2NrID0gdGhpcy5fZG9ja1BhbmVsO1xuICAgICAgICBjb25zdCBtb2RlID0gb3B0aW9ucy5tb2RlIHx8ICd0YWItYWZ0ZXInO1xuICAgICAgICBsZXQgcmVmID0gdGhpcy5jdXJyZW50V2lkZ2V0O1xuICAgICAgICBpZiAob3B0aW9ucy5yZWYpIHtcbiAgICAgICAgICAgIHJlZiA9IGZpbmQoZG9jay53aWRnZXRzKCksIHZhbHVlID0+IHZhbHVlLmlkID09PSBvcHRpb25zLnJlZikgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRpdGxlIH0gPSB3aWRnZXQ7XG4gICAgICAgIC8vIEFkZCB3aWRnZXQgSUQgdG8gdGFiIHNvIHRoYXQgd2UgY2FuIGdldCBhIGhhbmRsZSBvbiB0aGUgdGFiJ3Mgd2lkZ2V0XG4gICAgICAgIC8vIChmb3IgY29udGV4dCBtZW51IHN1cHBvcnQpXG4gICAgICAgIHRpdGxlLmRhdGFzZXQgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRpdGxlLmRhdGFzZXQpLCB7IGlkOiB3aWRnZXQuaWQgfSk7XG4gICAgICAgIC8vIHNldCBhbiBhcHByb3ByaWF0ZSBzdHlsZSBjbGFzcyBmb3IgdGhlIGljb25SZW5kZXJlclxuICAgICAgICBpZiAodGl0bGUuaWNvblJlbmRlcmVyKSB7XG4gICAgICAgICAgICB0aXRsZS5pY29uQ2xhc3MgPSBMYWJJY29uLlVOU1RBQkxFX3N0eWxlKHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRpdGxlLmljb25DbGFzcyxcbiAgICAgICAgICAgICAgICBqdXN0aWZ5OiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBraW5kOiAnbWFpbkFyZWFUYWInXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkb2NrLmFkZFdpZGdldCh3aWRnZXQsIHsgbW9kZSwgcmVmIH0pO1xuICAgICAgICAvLyBUaGUgZG9jayBwYW5lbCBkb2Vzbid0IGFjY291bnQgZm9yIHBsYWNlbWVudCBpbmZvcm1hdGlvbiB3aGlsZVxuICAgICAgICAvLyBpbiBzaW5nbGUgZG9jdW1lbnQgbW9kZSwgc28gdXBvbiByZWh5ZHJhdGluZyBhbnkgd2lkZ2V0cyB0aGF0IHdlcmVcbiAgICAgICAgLy8gYWRkZWQgd2lsbCBub3QgYmUgaW4gdGhlIGNvcnJlY3QgcGxhY2UuIENhY2hlIHRoZSBwbGFjZW1lbnQgaW5mb3JtYXRpb25cbiAgICAgICAgLy8gaGVyZSBzbyB0aGF0IHdlIGNhbiBsYXRlciByZWh5ZHJhdGUgY29ycmVjdGx5LlxuICAgICAgICBpZiAoZG9jay5tb2RlID09PSAnc2luZ2xlLWRvY3VtZW50Jykge1xuICAgICAgICAgICAgdGhpcy5fbWFpbk9wdGlvbnNDYWNoZS5zZXQod2lkZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5hY3RpdmF0ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRvY2suYWN0aXZhdGVXaWRnZXQod2lkZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSB3aWRnZXQgdG8gdGhlIHJpZ2h0IGNvbnRlbnQgYXJlYS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBXaWRnZXRzIG11c3QgaGF2ZSBhIHVuaXF1ZSBgaWRgIHByb3BlcnR5LCB3aGljaCB3aWxsIGJlIHVzZWQgYXMgdGhlIERPTSBpZC5cbiAgICAgKi9cbiAgICBfYWRkVG9SaWdodEFyZWEod2lkZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghd2lkZ2V0LmlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXaWRnZXRzIGFkZGVkIHRvIGFwcCBzaGVsbCBtdXN0IGhhdmUgdW5pcXVlIGlkIHByb3BlcnR5LicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHRoaXMuX3NpZGVPcHRpb25zQ2FjaGUuZ2V0KHdpZGdldCkgfHwge307XG4gICAgICAgIGNvbnN0IHJhbmsgPSAncmFuaycgaW4gb3B0aW9ucyA/IG9wdGlvbnMucmFuayA6IERFRkFVTFRfUkFOSztcbiAgICAgICAgdGhpcy5fc2lkZU9wdGlvbnNDYWNoZS5zZXQod2lkZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fcmlnaHRIYW5kbGVyLmFkZFdpZGdldCh3aWRnZXQsIHJhbmspO1xuICAgICAgICB0aGlzLl9vbkxheW91dE1vZGlmaWVkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHdpZGdldCB0byB0aGUgdG9wIGNvbnRlbnQgYXJlYS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBXaWRnZXRzIG11c3QgaGF2ZSBhIHVuaXF1ZSBgaWRgIHByb3BlcnR5LCB3aGljaCB3aWxsIGJlIHVzZWQgYXMgdGhlIERPTSBpZC5cbiAgICAgKi9cbiAgICBfYWRkVG9Ub3BBcmVhKHdpZGdldCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghd2lkZ2V0LmlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXaWRnZXRzIGFkZGVkIHRvIGFwcCBzaGVsbCBtdXN0IGhhdmUgdW5pcXVlIGlkIHByb3BlcnR5LicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCByYW5rID0gKF9hID0gb3B0aW9ucy5yYW5rLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogREVGQVVMVF9SQU5LKSk7XG4gICAgICAgIHRoaXMuX3RvcEhhbmRsZXIuYWRkV2lkZ2V0KHdpZGdldCwgcmFuayk7XG4gICAgICAgIHRoaXMuX29uTGF5b3V0TW9kaWZpZWQoKTtcbiAgICAgICAgaWYgKHRoaXMuX3RvcEhhbmRsZXIucGFuZWwuaXNIaWRkZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcEhhbmRsZXIucGFuZWwuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHdpZGdldCB0byB0aGUgaGVhZGVyIGNvbnRlbnQgYXJlYS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBXaWRnZXRzIG11c3QgaGF2ZSBhIHVuaXF1ZSBgaWRgIHByb3BlcnR5LCB3aGljaCB3aWxsIGJlIHVzZWQgYXMgdGhlIERPTSBpZC5cbiAgICAgKi9cbiAgICBfYWRkVG9IZWFkZXJBcmVhKHdpZGdldCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXdpZGdldC5pZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2lkZ2V0cyBhZGRlZCB0byBhcHAgc2hlbGwgbXVzdCBoYXZlIHVuaXF1ZSBpZCBwcm9wZXJ0eS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUZW1wb3Jhcnk6IHdpZGdldHMgYXJlIGFkZGVkIHRvIHRoZSBwYW5lbCBpbiBvcmRlciBvZiBpbnNlcnRpb24uXG4gICAgICAgIHRoaXMuX2hlYWRlclBhbmVsLmFkZFdpZGdldCh3aWRnZXQpO1xuICAgICAgICB0aGlzLl9vbkxheW91dE1vZGlmaWVkKCk7XG4gICAgICAgIGlmICh0aGlzLl9oZWFkZXJQYW5lbC5pc0hpZGRlbikge1xuICAgICAgICAgICAgdGhpcy5faGVhZGVyUGFuZWwuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHdpZGdldCB0byB0aGUgYm90dG9tIGNvbnRlbnQgYXJlYS5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBXaWRnZXRzIG11c3QgaGF2ZSBhIHVuaXF1ZSBgaWRgIHByb3BlcnR5LCB3aGljaCB3aWxsIGJlIHVzZWQgYXMgdGhlIERPTSBpZC5cbiAgICAgKi9cbiAgICBfYWRkVG9Cb3R0b21BcmVhKHdpZGdldCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXdpZGdldC5pZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2lkZ2V0cyBhZGRlZCB0byBhcHAgc2hlbGwgbXVzdCBoYXZlIHVuaXF1ZSBpZCBwcm9wZXJ0eS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUZW1wb3Jhcnk6IHdpZGdldHMgYXJlIGFkZGVkIHRvIHRoZSBwYW5lbCBpbiBvcmRlciBvZiBpbnNlcnRpb24uXG4gICAgICAgIHRoaXMuX2JvdHRvbVBhbmVsLmFkZFdpZGdldCh3aWRnZXQpO1xuICAgICAgICB0aGlzLl9vbkxheW91dE1vZGlmaWVkKCk7XG4gICAgICAgIGlmICh0aGlzLl9ib3R0b21QYW5lbC5pc0hpZGRlbikge1xuICAgICAgICAgICAgdGhpcy5fYm90dG9tUGFuZWwuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qXG4gICAgICogUmV0dXJuIHRoZSB0YWIgYmFyIGFkamFjZW50IHRvIHRoZSBjdXJyZW50IFRhYkJhciBvciBgbnVsbGAuXG4gICAgICovXG4gICAgX2FkamFjZW50QmFyKGRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fY3VycmVudFRhYkJhcigpO1xuICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhcnMgPSB0b0FycmF5KHRoaXMuX2RvY2tQYW5lbC50YWJCYXJzKCkpO1xuICAgICAgICBjb25zdCBsZW4gPSBiYXJzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgaW5kZXggPSBiYXJzLmluZGV4T2YoY3VycmVudCk7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2aW91cycpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleCA+IDAgPyBiYXJzW2luZGV4IC0gMV0gOiBpbmRleCA9PT0gMCA/IGJhcnNbbGVuIC0gMV0gOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSwgZGlyZWN0aW9uIGlzICduZXh0Jy5cbiAgICAgICAgcmV0dXJuIGluZGV4IDwgbGVuIC0gMVxuICAgICAgICAgICAgPyBiYXJzW2luZGV4ICsgMV1cbiAgICAgICAgICAgIDogaW5kZXggPT09IGxlbiAtIDFcbiAgICAgICAgICAgICAgICA/IGJhcnNbMF1cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIC8qXG4gICAgICogUmV0dXJuIHRoZSBUYWJCYXIgdGhhdCBoYXMgdGhlIGN1cnJlbnRseSBhY3RpdmUgV2lkZ2V0IG9yIG51bGwuXG4gICAgICovXG4gICAgX2N1cnJlbnRUYWJCYXIoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLl90cmFja2VyLmN1cnJlbnRXaWRnZXQ7XG4gICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGl0bGUgPSBjdXJyZW50LnRpdGxlO1xuICAgICAgICBjb25zdCBiYXJzID0gdGhpcy5fZG9ja1BhbmVsLnRhYkJhcnMoKTtcbiAgICAgICAgcmV0dXJuIGZpbmQoYmFycywgYmFyID0+IGJhci50aXRsZXMuaW5kZXhPZih0aXRsZSkgPiAtMSkgfHwgbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgY2hhbmdlIHRvIHRoZSBkb2NrIGFyZWEgYWN0aXZlIHdpZGdldC5cbiAgICAgKi9cbiAgICBfb25BY3RpdmVDaGFuZ2VkKHNlbmRlciwgYXJncykge1xuICAgICAgICBpZiAoYXJncy5uZXdWYWx1ZSkge1xuICAgICAgICAgICAgYXJncy5uZXdWYWx1ZS50aXRsZS5jbGFzc05hbWUgKz0gYCAke0FDVElWRV9DTEFTU31gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmdzLm9sZFZhbHVlKSB7XG4gICAgICAgICAgICBhcmdzLm9sZFZhbHVlLnRpdGxlLmNsYXNzTmFtZSA9IGFyZ3Mub2xkVmFsdWUudGl0bGUuY2xhc3NOYW1lLnJlcGxhY2UoQUNUSVZFX0NMQVNTLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYWN0aXZlQ2hhbmdlZC5lbWl0KGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBjaGFuZ2UgdG8gdGhlIGRvY2sgYXJlYSBjdXJyZW50IHdpZGdldC5cbiAgICAgKi9cbiAgICBfb25DdXJyZW50Q2hhbmdlZChzZW5kZXIsIGFyZ3MpIHtcbiAgICAgICAgaWYgKGFyZ3MubmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGFyZ3MubmV3VmFsdWUudGl0bGUuY2xhc3NOYW1lICs9IGAgJHtDVVJSRU5UX0NMQVNTfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZ3Mub2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGFyZ3Mub2xkVmFsdWUudGl0bGUuY2xhc3NOYW1lID0gYXJncy5vbGRWYWx1ZS50aXRsZS5jbGFzc05hbWUucmVwbGFjZShDVVJSRU5UX0NMQVNTLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3VycmVudENoYW5nZWQuZW1pdChhcmdzKTtcbiAgICAgICAgdGhpcy5fb25MYXlvdXRNb2RpZmllZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBjaGFuZ2UgdG8gdGhlIGxheW91dC5cbiAgICAgKi9cbiAgICBfb25MYXlvdXRNb2RpZmllZCgpIHtcbiAgICAgICAgdm9pZCB0aGlzLl9sYXlvdXREZWJvdW5jZXIuaW52b2tlKCk7XG4gICAgfVxufVxudmFyIFByaXZhdGU7XG4oZnVuY3Rpb24gKFByaXZhdGUpIHtcbiAgICAvKipcbiAgICAgKiBBIGxlc3MtdGhhbiBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBzaWRlIGJhciByYW5rIGl0ZW1zLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGl0ZW1DbXAoZmlyc3QsIHNlY29uZCkge1xuICAgICAgICByZXR1cm4gZmlyc3QucmFuayAtIHNlY29uZC5yYW5rO1xuICAgIH1cbiAgICBQcml2YXRlLml0ZW1DbXAgPSBpdGVtQ21wO1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgd2lkZ2V0cyB0aGF0IGhhdmUgYmVlbiBkaXNwb3NlZCBmcm9tIGFuIGFyZWEgY29uZmlnLCBtdXRhdGVzIGFyZWEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplQXJlYUNvbmZpZyhwYXJlbnQsIGFyZWEpIHtcbiAgICAgICAgaWYgKCFhcmVhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZWEudHlwZSA9PT0gJ3RhYi1hcmVhJykge1xuICAgICAgICAgICAgYXJlYS53aWRnZXRzID0gYXJlYS53aWRnZXRzLmZpbHRlcih3aWRnZXQgPT4gIXdpZGdldC5pc0Rpc3Bvc2VkICYmIHdpZGdldC5wYXJlbnQgPT09IHBhcmVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXJlYS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZUFyZWFDb25maWcocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBQcml2YXRlLm5vcm1hbGl6ZUFyZWFDb25maWcgPSBub3JtYWxpemVBcmVhQ29uZmlnO1xuICAgIC8qKlxuICAgICAqIEEgY2xhc3Mgd2hpY2ggbWFuYWdlcyBhIHBhbmVsIGFuZCBzb3J0cyBpdHMgd2lkZ2V0cyBieSByYW5rLlxuICAgICAqL1xuICAgIGNsYXNzIFBhbmVsSGFuZGxlciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5faXRlbXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHRoaXMuX3BhbmVsID0gbmV3IFBhbmVsKCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgcGFuZWwgbWFuYWdlZCBieSB0aGUgaGFuZGxlci5cbiAgICAgICAgICovXG4gICAgICAgIGdldCBwYW5lbCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYW5lbDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgd2lkZ2V0IHRvIHRoZSBwYW5lbC5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIHdpZGdldCBpcyBhbHJlYWR5IGFkZGVkLCBpdCB3aWxsIGJlIG1vdmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkV2lkZ2V0KHdpZGdldCwgcmFuaykge1xuICAgICAgICAgICAgd2lkZ2V0LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0geyB3aWRnZXQsIHJhbmsgfTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gQXJyYXlFeHQudXBwZXJCb3VuZCh0aGlzLl9pdGVtcywgaXRlbSwgUHJpdmF0ZS5pdGVtQ21wKTtcbiAgICAgICAgICAgIEFycmF5RXh0Lmluc2VydCh0aGlzLl9pdGVtcywgaW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5fcGFuZWwuaW5zZXJ0V2lkZ2V0KGluZGV4LCB3aWRnZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFByaXZhdGUuUGFuZWxIYW5kbGVyID0gUGFuZWxIYW5kbGVyO1xuICAgIC8qKlxuICAgICAqIEEgY2xhc3Mgd2hpY2ggbWFuYWdlcyBhIHNpZGUgYmFyIGFuZCByZWxhdGVkIHN0YWNrZWQgcGFuZWwuXG4gICAgICovXG4gICAgY2xhc3MgU2lkZUJhckhhbmRsZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0IGEgbmV3IHNpZGUgYmFyIGhhbmRsZXIuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICB0aGlzLl9zaWRlQmFyID0gbmV3IFRhYkJhcih7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVoYXZpb3I6ICdub25lJyxcbiAgICAgICAgICAgICAgICByZW1vdmVCZWhhdmlvcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgIGFsbG93RGVzZWxlY3Q6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fc3RhY2tlZFBhbmVsID0gbmV3IFN0YWNrZWRQYW5lbCgpO1xuICAgICAgICAgICAgdGhpcy5fc2lkZUJhci5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLl9zdGFja2VkUGFuZWwuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fc2lkZUJhci5jdXJyZW50Q2hhbmdlZC5jb25uZWN0KHRoaXMuX29uQ3VycmVudENoYW5nZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fc2lkZUJhci50YWJBY3RpdmF0ZVJlcXVlc3RlZC5jb25uZWN0KHRoaXMuX29uVGFiQWN0aXZhdGVSZXF1ZXN0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fc3RhY2tlZFBhbmVsLndpZGdldFJlbW92ZWQuY29ubmVjdCh0aGlzLl9vbldpZGdldFJlbW92ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHRhYiBiYXIgbWFuYWdlZCBieSB0aGUgaGFuZGxlci5cbiAgICAgICAgICovXG4gICAgICAgIGdldCBzaWRlQmFyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpZGVCYXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgc3RhY2tlZCBwYW5lbCBtYW5hZ2VkIGJ5IHRoZSBoYW5kbGVyXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgc3RhY2tlZFBhbmVsKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YWNrZWRQYW5lbDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRXhwYW5kIHRoZSBzaWRlYmFyLlxuICAgICAgICAgKlxuICAgICAgICAgKiAjIyMjIE5vdGVzXG4gICAgICAgICAqIFRoaXMgd2lsbCBvcGVuIHRoZSBtb3N0IHJlY2VudGx5IHVzZWQgdGFiLCBvciB0aGUgZmlyc3QgdGFiXG4gICAgICAgICAqIGlmIHRoZXJlIGlzIG5vIG1vc3QgcmVjZW50bHkgdXNlZC5cbiAgICAgICAgICovXG4gICAgICAgIGV4cGFuZCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5fbGFzdEN1cnJlbnQgfHwgKHRoaXMuX2l0ZW1zLmxlbmd0aCA+IDAgJiYgdGhpcy5faXRlbXNbMF0ud2lkZ2V0KTtcbiAgICAgICAgICAgIGlmIChwcmV2aW91cykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUocHJldmlvdXMuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmF0ZSBhIHdpZGdldCByZXNpZGluZyBpbiB0aGUgc2lkZSBiYXIgYnkgSUQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBpZCAtIFRoZSB3aWRnZXQncyB1bmlxdWUgSUQuXG4gICAgICAgICAqL1xuICAgICAgICBhY3RpdmF0ZShpZCkge1xuICAgICAgICAgICAgbGV0IHdpZGdldCA9IHRoaXMuX2ZpbmRXaWRnZXRCeUlEKGlkKTtcbiAgICAgICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWRlQmFyLmN1cnJlbnRUaXRsZSA9IHdpZGdldC50aXRsZTtcbiAgICAgICAgICAgICAgICB3aWRnZXQuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGVzdCB3aGV0aGVyIHRoZSBzaWRlYmFyIGhhcyB0aGUgZ2l2ZW4gd2lkZ2V0IGJ5IGlkLlxuICAgICAgICAgKi9cbiAgICAgICAgaGFzKGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmluZFdpZGdldEJ5SUQoaWQpICE9PSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsYXBzZSB0aGUgc2lkZWJhciBzbyBubyBpdGVtcyBhcmUgZXhwYW5kZWQuXG4gICAgICAgICAqL1xuICAgICAgICBjb2xsYXBzZSgpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZGVCYXIuY3VycmVudFRpdGxlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgd2lkZ2V0IGFuZCBpdHMgdGl0bGUgdG8gdGhlIHN0YWNrZWQgcGFuZWwgYW5kIHNpZGUgYmFyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGUgd2lkZ2V0IGlzIGFscmVhZHkgYWRkZWQsIGl0IHdpbGwgYmUgbW92ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBhZGRXaWRnZXQod2lkZ2V0LCByYW5rKSB7XG4gICAgICAgICAgICB3aWRnZXQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHdpZGdldC5oaWRlKCk7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHsgd2lkZ2V0LCByYW5rIH07XG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLl9maW5kSW5zZXJ0SW5kZXgoaXRlbSk7XG4gICAgICAgICAgICBBcnJheUV4dC5pbnNlcnQodGhpcy5faXRlbXMsIGluZGV4LCBpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrZWRQYW5lbC5pbnNlcnRXaWRnZXQoaW5kZXgsIHdpZGdldCk7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMuX3NpZGVCYXIuaW5zZXJ0VGFiKGluZGV4LCB3aWRnZXQudGl0bGUpO1xuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHBhcmVudCBpZCBpbiB0aGUgdGl0bGUgZGF0YXNldFxuICAgICAgICAgICAgLy8gaW4gb3JkZXIgdG8gZGlzcGF0Y2ggY2xpY2sgZXZlbnRzIHRvIHRoZSByaWdodCB3aWRnZXQuXG4gICAgICAgICAgICB0aXRsZS5kYXRhc2V0ID0geyBpZDogd2lkZ2V0LmlkIH07XG4gICAgICAgICAgICAvLyBzZXQgYW4gYXBwcm9wcmlhdGUgc3R5bGUgY2xhc3MgZm9yIHRoZSBpY29uUmVuZGVyZXJcbiAgICAgICAgICAgIGlmICh0aXRsZS5pY29uUmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICB0aXRsZS5pY29uQ2xhc3MgPSBMYWJJY29uLlVOU1RBQkxFX3N0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0aXRsZS5pY29uQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnk6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiAnc2lkZUJhcidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2hWaXNpYmlsaXR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlaHlkcmF0ZSB0aGUgc2lkZSBiYXIgZGF0YS5cbiAgICAgICAgICovXG4gICAgICAgIGRlaHlkcmF0ZSgpIHtcbiAgICAgICAgICAgIGxldCBjb2xsYXBzZWQgPSB0aGlzLl9zaWRlQmFyLmN1cnJlbnRUaXRsZSA9PT0gbnVsbDtcbiAgICAgICAgICAgIGxldCB3aWRnZXRzID0gdG9BcnJheSh0aGlzLl9zdGFja2VkUGFuZWwud2lkZ2V0cyk7XG4gICAgICAgICAgICBsZXQgY3VycmVudFdpZGdldCA9IHdpZGdldHNbdGhpcy5fc2lkZUJhci5jdXJyZW50SW5kZXhdO1xuICAgICAgICAgICAgcmV0dXJuIHsgY29sbGFwc2VkLCBjdXJyZW50V2lkZ2V0LCB3aWRnZXRzIH07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlaHlkcmF0ZSB0aGUgc2lkZSBiYXIuXG4gICAgICAgICAqL1xuICAgICAgICByZWh5ZHJhdGUoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuY3VycmVudFdpZGdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGUoZGF0YS5jdXJyZW50V2lkZ2V0LmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaW5kIHRoZSBpbnNlcnRpb24gaW5kZXggZm9yIGEgcmFuayBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgX2ZpbmRJbnNlcnRJbmRleChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXlFeHQudXBwZXJCb3VuZCh0aGlzLl9pdGVtcywgaXRlbSwgUHJpdmF0ZS5pdGVtQ21wKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCB0aGUgaW5kZXggb2YgdGhlIGl0ZW0gd2l0aCB0aGUgZ2l2ZW4gd2lkZ2V0LCBvciBgLTFgLlxuICAgICAgICAgKi9cbiAgICAgICAgX2ZpbmRXaWRnZXRJbmRleCh3aWRnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheUV4dC5maW5kRmlyc3RJbmRleCh0aGlzLl9pdGVtcywgaSA9PiBpLndpZGdldCA9PT0gd2lkZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCB0aGUgd2lkZ2V0IHdoaWNoIG93bnMgdGhlIGdpdmVuIHRpdGxlLCBvciBgbnVsbGAuXG4gICAgICAgICAqL1xuICAgICAgICBfZmluZFdpZGdldEJ5VGl0bGUodGl0bGUpIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gZmluZCh0aGlzLl9pdGVtcywgdmFsdWUgPT4gdmFsdWUud2lkZ2V0LnRpdGxlID09PSB0aXRsZSk7XG4gICAgICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0ud2lkZ2V0IDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCB0aGUgd2lkZ2V0IHdpdGggdGhlIGdpdmVuIGlkLCBvciBgbnVsbGAuXG4gICAgICAgICAqL1xuICAgICAgICBfZmluZFdpZGdldEJ5SUQoaWQpIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gZmluZCh0aGlzLl9pdGVtcywgdmFsdWUgPT4gdmFsdWUud2lkZ2V0LmlkID09PSBpZCk7XG4gICAgICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0ud2lkZ2V0IDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmcmVzaCB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgc2lkZSBiYXIgYW5kIHN0YWNrZWQgcGFuZWwuXG4gICAgICAgICAqL1xuICAgICAgICBfcmVmcmVzaFZpc2liaWxpdHkoKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWRlQmFyLnNldEhpZGRlbih0aGlzLl9zaWRlQmFyLnRpdGxlcy5sZW5ndGggPT09IDApO1xuICAgICAgICAgICAgdGhpcy5fc3RhY2tlZFBhbmVsLnNldEhpZGRlbih0aGlzLl9zaWRlQmFyLmN1cnJlbnRUaXRsZSA9PT0gbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSB0aGUgYGN1cnJlbnRDaGFuZ2VkYCBzaWduYWwgZnJvbSB0aGUgc2lkZWJhci5cbiAgICAgICAgICovXG4gICAgICAgIF9vbkN1cnJlbnRDaGFuZ2VkKHNlbmRlciwgYXJncykge1xuICAgICAgICAgICAgY29uc3Qgb2xkV2lkZ2V0ID0gYXJncy5wcmV2aW91c1RpdGxlXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9maW5kV2lkZ2V0QnlUaXRsZShhcmdzLnByZXZpb3VzVGl0bGUpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgbmV3V2lkZ2V0ID0gYXJncy5jdXJyZW50VGl0bGVcbiAgICAgICAgICAgICAgICA/IHRoaXMuX2ZpbmRXaWRnZXRCeVRpdGxlKGFyZ3MuY3VycmVudFRpdGxlKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChvbGRXaWRnZXQpIHtcbiAgICAgICAgICAgICAgICBvbGRXaWRnZXQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1dpZGdldCkge1xuICAgICAgICAgICAgICAgIG5ld1dpZGdldC5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q3VycmVudCA9IG5ld1dpZGdldCB8fCBvbGRXaWRnZXQ7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoVmlzaWJpbGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGUgYSBgdGFiQWN0aXZhdGVSZXF1ZXN0YCBzaWduYWwgZnJvbSB0aGUgc2lkZWJhci5cbiAgICAgICAgICovXG4gICAgICAgIF9vblRhYkFjdGl2YXRlUmVxdWVzdGVkKHNlbmRlciwgYXJncykge1xuICAgICAgICAgICAgYXJncy50aXRsZS5vd25lci5hY3RpdmF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICAqIEhhbmRsZSB0aGUgYHdpZGdldFJlbW92ZWRgIHNpZ25hbCBmcm9tIHRoZSBzdGFja2VkIHBhbmVsLlxuICAgICAgICAgKi9cbiAgICAgICAgX29uV2lkZ2V0UmVtb3ZlZChzZW5kZXIsIHdpZGdldCkge1xuICAgICAgICAgICAgaWYgKHdpZGdldCA9PT0gdGhpcy5fbGFzdEN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBcnJheUV4dC5yZW1vdmVBdCh0aGlzLl9pdGVtcywgdGhpcy5fZmluZFdpZGdldEluZGV4KHdpZGdldCkpO1xuICAgICAgICAgICAgdGhpcy5fc2lkZUJhci5yZW1vdmVUYWIod2lkZ2V0LnRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2hWaXNpYmlsaXR5KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUHJpdmF0ZS5TaWRlQmFySGFuZGxlciA9IFNpZGVCYXJIYW5kbGVyO1xufSkoUHJpdmF0ZSB8fCAoUHJpdmF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGVsbC5qcy5tYXAiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBJbXBvcnRzXG5leHBvcnRzLmkocmVxdWlyZShcIi0hLi4vLi4vLi4vMy42L3NoYXJlL2p1cHl0ZXIvbGFiL3N0YWdpbmcvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhQGJsdWVwcmludGpzL2NvcmUvbGliL2Nzcy9ibHVlcHJpbnQuY3NzXCIpLCBcIlwiKTtcbmV4cG9ydHMuaShyZXF1aXJlKFwiLSEuLi8uLi8uLi8zLjYvc2hhcmUvanVweXRlci9sYWIvc3RhZ2luZy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyFAYmx1ZXByaW50anMvc2VsZWN0L2xpYi9jc3MvYmx1ZXByaW50LXNlbGVjdC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIUBsdW1pbm8vd2lkZ2V0cy9zdHlsZS9pbmRleC5jc3NcIiksIFwiXCIpO1xuZXhwb3J0cy5pKHJlcXVpcmUoXCItIS4uLy4uLy4uLzMuNi9zaGFyZS9qdXB5dGVyL2xhYi9zdGFnaW5nL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYmFzZS5jc3NcIiksIFwiXCIpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxufCBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cXG58IERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXFxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi8qIFRoaXMgZmlsZSB3YXMgYXV0by1nZW5lcmF0ZWQgYnkgZW5zdXJlUGFja2FnZSgpIGluIEBqdXB5dGVybGFiL2J1aWxkdXRpbHMgKi9cXG5cIiwgXCJcIl0pO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgdmlld0JveD0nMCAwIDI0IDI0JyBoZWlnaHQ9JzE4JyB3aWR0aD0nMTgnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UgJTNDZyBjbGFzcz0nanAtaWNvbjMnIGZpbGw9JyUyMzYxNjE2MSclM0UgJTNDcGF0aCBkPSdNMyAxNy4yNVYyMWgzLjc1TDE3LjgxIDkuOTRsLTMuNzUtMy43NUwzIDE3LjI1ek0yMC43MSA3LjA0Yy4zOS0uMzkuMzktMS4wMiAwLTEuNDFsLTIuMzQtMi4zNGMtLjM5LS4zOS0xLjAyLS4zOS0xLjQxIDBsLTEuODMgMS44MyAzLjc1IDMuNzUgMS44My0xLjgzeicvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIGhlaWdodD1cXFwiMThcXFwiIHdpZHRoPVxcXCIxOFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG4gIDxnIGNsYXNzPVxcXCJqcC1pY29uM1xcXCIgZmlsbD1cXFwiIzYxNjE2MVxcXCI+XFxuICAgIDxwYXRoIGQ9XFxcIk0zIDE3LjI1VjIxaDMuNzVMMTcuODEgOS45NGwtMy43NS0zLjc1TDMgMTcuMjV6TTIwLjcxIDcuMDRjLjM5LS4zOS4zOS0xLjAyIDAtMS40MWwtMi4zNC0yLjM0Yy0uMzktLjM5LTEuMDItLjM5LTEuNDEgMGwtMS44MyAxLjgzIDMuNzUgMy43NSAxLjgzLTEuODN6XFxcIi8+XFxuICA8L2c+XFxuPC9zdmc+XFxuXCI7IiwiLy8gQ29weXJpZ2h0IChjKSBKdXB5dGVyIERldmVsb3BtZW50IFRlYW0uXG4vLyBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1vZGlmaWVkIEJTRCBMaWNlbnNlLlxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFZEb21SZW5kZXJlciwgVkRvbU1vZGVsIH0gZnJvbSAnQGp1cHl0ZXJsYWIvYXBwdXRpbHMnO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJ0BqdXB5dGVybGFiL2NvcmV1dGlscyc7XG5pbXBvcnQgeyBpbnRlcmFjdGl2ZUl0ZW0sIFRleHRJdGVtIH0gZnJvbSAnLi4nO1xuaW1wb3J0IHsgSlNPTkV4dCB9IGZyb20gJ0BsdW1pbm8vY29yZXV0aWxzJztcbi8qKlxuICogQSBwdXJlIGZ1bmN0aW9uYWwgY29tcG9uZW50IGZvciByZW5kZXJpbmcga2VybmVsIHN0YXR1cy5cbiAqL1xuZnVuY3Rpb24gS2VybmVsU3RhdHVzQ29tcG9uZW50KHByb3BzKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0SXRlbSwgeyBvbkNsaWNrOiBwcm9wcy5oYW5kbGVDbGljaywgc291cmNlOiBgJHtwcm9wcy5rZXJuZWxOYW1lfSB8ICR7VGV4dC50aXRsZUNhc2UoKF9hID0gcHJvcHMuc3RhdHVzLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ3VuZGVmaW5lZCcpKSl9YCwgdGl0bGU6IGBDaGFuZ2Uga2VybmVsIGZvciAke3Byb3BzLmFjdGl2aXR5TmFtZX1gIH0pKTtcbn1cbi8qKlxuICogQSBWRG9tUmVuZGVyZXIgd2lkZ2V0IGZvciBkaXNwbGF5aW5nIHRoZSBzdGF0dXMgb2YgYSBrZXJuZWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBLZXJuZWxTdGF0dXMgZXh0ZW5kcyBWRG9tUmVuZGVyZXIge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCB0aGUga2VybmVsIHN0YXR1cyB3aWRnZXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcihuZXcgS2VybmVsU3RhdHVzLk1vZGVsKCkpO1xuICAgICAgICB0aGlzLl9oYW5kbGVDbGljayA9IG9wdHMub25DbGljaztcbiAgICAgICAgdGhpcy5hZGRDbGFzcyhpbnRlcmFjdGl2ZUl0ZW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIGtlcm5lbCBzdGF0dXMgaXRlbS5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChLZXJuZWxTdGF0dXNDb21wb25lbnQsIHsgc3RhdHVzOiB0aGlzLm1vZGVsLnN0YXR1cywga2VybmVsTmFtZTogdGhpcy5tb2RlbC5rZXJuZWxOYW1lLCBhY3Rpdml0eU5hbWU6IHRoaXMubW9kZWwuYWN0aXZpdHlOYW1lLCBoYW5kbGVDbGljazogdGhpcy5faGFuZGxlQ2xpY2sgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIG5hbWVzcGFjZSBmb3IgS2VybmVsU3RhdHVzIHN0YXRpY3MuXG4gKi9cbihmdW5jdGlvbiAoS2VybmVsU3RhdHVzKSB7XG4gICAgLyoqXG4gICAgICogQSBWRG9tTW9kZWwgZm9yIHRoZSBrZXJuZWwgc3RhdHVzIGluZGljYXRvci5cbiAgICAgKi9cbiAgICBjbGFzcyBNb2RlbCBleHRlbmRzIFZEb21Nb2RlbCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVhY3QgdG8gY2hhbmdlcyB0byB0aGUga2VybmVsIHN0YXR1cy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5fb25LZXJuZWxTdGF0dXNDaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0aGlzLl9rZXJuZWxTdGF0dXMgPSAoX2EgPSB0aGlzLl9zZXNzaW9uQ29udGV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmtlcm5lbERpc3BsYXlTdGF0dXM7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQuZW1pdCh2b2lkIDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVhY3QgdG8gY2hhbmdlcyBpbiB0aGUga2VybmVsLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9vbktlcm5lbENoYW5nZWQgPSAoX3Nlc3Npb25Db250ZXh0LCBjaGFuZ2UpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLl9nZXRBbGxTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbmV3VmFsdWUgfSA9IGNoYW5nZTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3luYyBzZXR0aW5nIG9mIHN0YXR1cyBhbmQgZGlzcGxheSBuYW1lXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tlcm5lbFN0YXR1cyA9IChfYSA9IHRoaXMuX3Nlc3Npb25Db250ZXh0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eua2VybmVsRGlzcGxheVN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2VybmVsTmFtZSA9IF9zZXNzaW9uQ29udGV4dC5rZXJuZWxEaXNwbGF5TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckNoYW5nZShvbGRTdGF0ZSwgdGhpcy5fZ2V0QWxsU3RhdGUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXJuZWxTdGF0dXMgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2VybmVsTmFtZSA9ICdObyBLZXJuZWwhJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckNoYW5nZShvbGRTdGF0ZSwgdGhpcy5fZ2V0QWxsU3RhdGUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2aXR5TmFtZSA9ICdhY3Rpdml0eSc7XG4gICAgICAgICAgICB0aGlzLl9rZXJuZWxOYW1lID0gJ05vIEtlcm5lbCEnO1xuICAgICAgICAgICAgdGhpcy5fa2VybmVsU3RhdHVzID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uQ29udGV4dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBrZXJuZWwuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQga2VybmVsTmFtZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9rZXJuZWxOYW1lO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIGtlcm5lbC5cbiAgICAgICAgICovXG4gICAgICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fa2VybmVsU3RhdHVzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRpc3BsYXkgbmFtZSBmb3IgdGhlIGFjdGl2aXR5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGFjdGl2aXR5TmFtZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpdml0eU5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGFjdGl2aXR5TmFtZSh2YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFZhbCA9IHRoaXMuX2FjdGl2aXR5TmFtZTtcbiAgICAgICAgICAgIGlmIChvbGRWYWwgPT09IHZhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FjdGl2aXR5TmFtZSA9IHZhbDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkLmVtaXQodm9pZCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgY2xpZW50IHNlc3Npb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXJuZWwgc3RhdHVzIGluZGljYXRvci5cbiAgICAgICAgICovXG4gICAgICAgIGdldCBzZXNzaW9uQ29udGV4dCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBzZXQgc2Vzc2lvbkNvbnRleHQoc2Vzc2lvbkNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2g7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLl9zZXNzaW9uQ29udGV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXR1c0NoYW5nZWQuZGlzY29ubmVjdCh0aGlzLl9vbktlcm5lbFN0YXR1c0NoYW5nZWQpO1xuICAgICAgICAgICAgKF9iID0gdGhpcy5fc2Vzc2lvbkNvbnRleHQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5rZXJuZWxDaGFuZ2VkLmRpc2Nvbm5lY3QodGhpcy5fb25LZXJuZWxDaGFuZ2VkKTtcbiAgICAgICAgICAgIGNvbnN0IG9sZFN0YXRlID0gdGhpcy5fZ2V0QWxsU3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX3Nlc3Npb25Db250ZXh0ID0gc2Vzc2lvbkNvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLl9rZXJuZWxTdGF0dXMgPSAoX2MgPSBzZXNzaW9uQ29udGV4dCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmtlcm5lbERpc3BsYXlTdGF0dXM7XG4gICAgICAgICAgICB0aGlzLl9rZXJuZWxOYW1lID0gKF9lID0gKF9kID0gc2Vzc2lvbkNvbnRleHQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5rZXJuZWxEaXNwbGF5TmFtZSwgKF9lICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICdObyBLZXJuZWwhJykpO1xuICAgICAgICAgICAgKF9mID0gc2Vzc2lvbkNvbnRleHQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5zdGF0dXNDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25LZXJuZWxTdGF0dXNDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgICAgIChfZyA9IHNlc3Npb25Db250ZXh0KSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY29ubmVjdGlvblN0YXR1c0NoYW5nZWQuY29ubmVjdCh0aGlzLl9vbktlcm5lbFN0YXR1c0NoYW5nZWQsIHRoaXMpO1xuICAgICAgICAgICAgKF9oID0gc2Vzc2lvbkNvbnRleHQpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5rZXJuZWxDaGFuZ2VkLmNvbm5lY3QodGhpcy5fb25LZXJuZWxDaGFuZ2VkLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJDaGFuZ2Uob2xkU3RhdGUsIHRoaXMuX2dldEFsbFN0YXRlKCkpO1xuICAgICAgICB9XG4gICAgICAgIF9nZXRBbGxTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy5fa2VybmVsTmFtZSwgdGhpcy5fa2VybmVsU3RhdHVzLCB0aGlzLl9hY3Rpdml0eU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIF90cmlnZ2VyQ2hhbmdlKG9sZFN0YXRlLCBuZXdTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKEpTT05FeHQuZGVlcEVxdWFsKG9sZFN0YXRlLCBuZXdTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5lbWl0KHZvaWQgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgS2VybmVsU3RhdHVzLk1vZGVsID0gTW9kZWw7XG59KShLZXJuZWxTdGF0dXMgfHwgKEtlcm5lbFN0YXR1cyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXJuZWxTdGF0dXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIEp1cHl0ZXIgRGV2ZWxvcG1lbnQgVGVhbS5cbi8vIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTW9kaWZpZWQgQlNEIExpY2Vuc2UuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEFuIGFic3RyYWN0IGNsYXNzIHRoYXQgYWRoZXJlcyB0byB0aGUgZGF0YSBjb25uZWN0b3IgaW50ZXJmYWNlLlxuICpcbiAqIEB0eXBlcGFyYW0gVCAtIFRoZSBiYXNpYyBlbnRpdHkgcmVzcG9uc2UgdHlwZSBhIHNlcnZpY2UncyBjb25uZWN0b3IuXG4gKlxuICogQHR5cGVwYXJhbSBVIC0gVGhlIGJhc2ljIGVudGl0eSByZXF1ZXN0IHR5cGUsIHdoaWNoIGlzIGNvbnZlbnRpb25hbGx5IHRoZVxuICogc2FtZSBhcyB0aGUgcmVzcG9uc2UgdHlwZSBidXQgbWF5IGJlIGRpZmZlcmVudCBpZiBhIHNlcnZpY2UncyBpbXBsZW1lbnRhdGlvblxuICogcmVxdWlyZXMgaW5wdXQgZGF0YSB0byBiZSBkaWZmZXJlbnQgZnJvbSBvdXRwdXQgcmVzcG9uc2VzLiBEZWZhdWx0cyB0byBgVGAuXG4gKlxuICogQHR5cGVwYXJhbSBWIC0gVGhlIGJhc2ljIHRva2VuIGFwcGxpZWQgdG8gYSByZXF1ZXN0LCBjb252ZW50aW9uYWxseSBhIHN0cmluZ1xuICogSUQgb3IgZmlsdGVyLCBidXQgbWF5IGJlIHNldCB0byBhIGRpZmZlcmVudCB0eXBlIHdoZW4gYW4gaW1wbGVtZW50YXRpb25cbiAqIHJlcXVpcmVzIGl0LiBEZWZhdWx0cyB0byBgc3RyaW5nYC5cbiAqXG4gKiBAdHlwZXBhcmFtIFcgLSBUaGUgdHlwZSBvZiB0aGUgb3B0aW9uYWwgYHF1ZXJ5YCBwYXJhbWV0ZXIgb2YgdGhlIGBsaXN0YFxuICogbWV0aG9kLiBEZWZhdWx0cyB0byBgc3RyaW5nYC5cbiAqXG4gKiAjIyMjIE5vdGVzXG4gKiBUaGUgb25seSBhYnN0cmFjdCBtZXRob2QgaW4gdGhpcyBjbGFzcyBpcyB0aGUgYGZldGNoYCBtZXRob2QsIHdoaWNoIG11c3QgYmVcbiAqIHJlaW1wbGVtZW50ZWQgYnkgYWxsIHN1YmNsYXNzZXMuIFRoZSBgcmVtb3ZlYCBhbmQgYHNhdmVgIG1ldGhvZHMgaGF2ZSBhXG4gKiBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGFsd2F5cyByZWplY3QuIFRoaXNcbiAqIGNsYXNzIGlzIGEgY29udmVuaWVuY2Ugc3VwZXJjbGFzcyBmb3IgY29ubmVjdG9ycyB0aGF0IG9ubHkgbmVlZCB0byBgZmV0Y2hgLlxuICovXG5jbGFzcyBEYXRhQ29ubmVjdG9yIHtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgbGlzdCBvZiBpdGVtcyBhdmFpbGFibGUgZnJvbSB0aGUgZGF0YSBjb25uZWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcXVlcnkgLSBUaGUgb3B0aW9uYWwgcXVlcnkgZmlsdGVyIHRvIGFwcGx5IHRvIHRoZSBjb25uZWN0b3IgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGFsd2F5cyByZWplY3RzIHdpdGggYW4gZXJyb3IuXG4gICAgICpcbiAgICAgKiAjIyMjIE5vdGVzXG4gICAgICogU3ViY2xhc3NlcyBzaG91bGQgcmVpbXBsZW1lbnQgaWYgdGhleSBzdXBwb3J0IGEgYmFjay1lbmQgdGhhdCBjYW4gbGlzdC5cbiAgICAgKi9cbiAgICBhc3luYyBsaXN0KHF1ZXJ5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YUNvbm5lY3RvciNsaXN0IG1ldGhvZCBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHZhbHVlIHVzaW5nIHRoZSBkYXRhIGNvbm5lY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBpZGVudGlmaWVyIGZvciB0aGUgZGF0YSBiZWluZyByZW1vdmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgYWx3YXlzIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCByZWltcGxlbWVudCBpZiB0aGV5IHN1cHBvcnQgYSBiYWNrLWVuZCB0aGF0IGNhbiByZW1vdmUuXG4gICAgICovXG4gICAgYXN5bmMgcmVtb3ZlKGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YUNvbm5lY3RvciNyZW1vdmUgbWV0aG9kIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2F2ZSBhIHZhbHVlIHVzaW5nIHRoZSBkYXRhIGNvbm5lY3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCAtIFRoZSBpZGVudGlmaWVyIGZvciB0aGUgZGF0YSBiZWluZyBzYXZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBkYXRhIGJlaW5nIHNhdmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgYWx3YXlzIHJlamVjdHMgd2l0aCBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqICMjIyMgTm90ZXNcbiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCByZWltcGxlbWVudCBpZiB0aGV5IHN1cHBvcnQgYSBiYWNrLWVuZCB0aGF0IGNhbiBzYXZlLlxuICAgICAqL1xuICAgIGFzeW5jIHNhdmUoaWQsIHZhbHVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YUNvbm5lY3RvciNzYXZlIG1ldGhvZCBoYXMgbm90IGJlZW4gaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxufVxuZXhwb3J0cy5EYXRhQ29ubmVjdG9yID0gRGF0YUNvbm5lY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGFjb25uZWN0b3IuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==